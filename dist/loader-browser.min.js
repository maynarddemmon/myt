((E,r)=>{const p=function(a){this.list=[];this._index={};a&&this.push(...a)};p.prototype.push=function(...a){a.forEach(c=>{const d=void 0!==c.id?c.id:c,b=this._index;b.hasOwnProperty(d)||(b[d]=this.list.length,this.list.push(c))})};let x=1;const y={},F={};let z,A;const t=a=>(z=F)[A=a]??(z[A]={}),u=function(a,c){if("string"===typeof a){const d=c?{}:t(a);if(void 0!==d.obj)return d.obj;let b=c??E,e;const f=a.split(".");for(;e=f.shift();)b=b&&b[e];return c&&void 0===b?u(a):d.obj=b}},q=(a,c,d)=>{const b=
[],e={};let f,h;for(const g in a)if(a.hasOwnProperty(g))for(e[g]=[],f=new p(a[g]),h=f.list.length;h--;)b.push([g,f.list[h],h]);let m=h=b.length;if(0===m)return c?.call(d,e);for(;h--;)(g=>{let k;const l=g[1];if("string"===typeof l){const B=t(l);B.pkg?k=B.pkg:(k=new v,k.provides(l))}else k=l;k._on(g[0],()=>{e[g[0]][g[2]]=u(g[1],k._exports);0===--m&&c?.call(d,e)})})(b[h])},v=function(a){this.id=x;x++;this._loader=a;this._names=new p;this._deps=new p;this._uses=new p;this._observers={};this._events={}},
n=v.prototype;n.provides=function(...a){a.forEach(c=>{t(c).pkg=this});this._names.push(...a);return this};n.requires=function(...a){this._deps.push(...a);return this};n.uses=function(...a){this._uses.push(...a);return this};n._on=function(a,c,d){const b=this;if(b._events[a])return c.call(d);let e;((e=b._observers)[a]??(e[a]=[])).push([c,d]);if(b._fire("request")){if(!b._isLoaded()&&!b._source&&b._loader instanceof Array){b._source=[];for(let g=0,k=b._loader.length;g<k;g++)b._source[g]=G(b._loader[g])}const f=
b._deps.list.concat(b._uses.list),h=b._source??[];let m=(b._loader??{}).length;q({load:f});q({complete:b._deps.list},function(){q({complete:f,load:[this]},function(){this._fire("complete")},this);const g=l=>{if(0===m)return k(l);m--;l=b._loader.length-m-1;H(b._loader[l],g,h[l])},k=l=>{b._exports=l;b._onload?.();b._isLoaded(!0);b._fire("load")};if(this._isLoaded())return this._fire("download"),this._fire("load");if(void 0===this._loader)throw Error("No load path found for "+this._names.list[0]);"function"===
typeof this._loader?this._loader(k):g()},b)}};n._fire=function(a){if(this._events[a])return!1;this._events[a]=!0;const c=this._observers[a];if(c){delete this._observers[a];for(let d=0,b=c.length;d<b;d++)c[d][0].call(c[d][1])}return!0};n._isLoaded=function(a){if(!a&&void 0!==this.__isLoaded)return this.__isLoaded;const c=this._names.list;let d=c.length;for(;d--;){const b=c[d];if(void 0===u(b,this._exports)){if(a)throw Error("Expected package at "+this._loader+" to define "+b);return this.__isLoaded=
!1}}return this.__isLoaded=!0};const w=function(){};w.prototype.callback=function(a,c){a.bind(c);"succeeded"===this._status?a(this._value):(this._callbacks??(this._callbacks=[])).push(a)};w.prototype.succeed=function(a){this._status="succeeded";this._value=a;const c=this._callbacks??[];for(;c.length;)c.shift()(a)};const C=/^(https?:)?\/\/[^\/]+/i,D=C.exec(window.location.href),G=a=>{const c=C.exec(a);if(D&&(!c||c[0]===D[0])){const d=new w;fetch(a,{method:"GET"}).then(b=>{if(b.ok)return b.text();throw Error("Manifest loading error for:"+
a);}).then(b=>{d.succeed(b+"\n//# sourceURL="+a)});return d}},H=(a,c,d)=>{if(d)return d.callback(f=>{(new Function("code","eval(code)"))(f);c()});let b=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.src=a;e.onload=e.onreadystatechange=()=>{const f=e.readyState;if(!f||"loaded"===f||"complete"===f||4===f&&200===e.status)c(),e.onload=e.onreadystatechange=()=>{},b=e=null};b.appendChild(e)};r.Packages=a=>{a((...c)=>{const d=r.ROOT;c=c.map(h=>!/^https?:/.test(h)&&
d?d+"/"+h:h);let b=c[0],e=b.toString(),f=y[e];return f?f:y[e]=new v("string"===typeof b?c:b)})};r.require=(...a)=>{const c=[];let d=0;for(;"string"===typeof a[d];)c.push(a[d++]);const b=a[d++].bind(a[d]);q({complete:c},e=>{b(e?.complete)})}})(global,global.JS=global.JS??{});
//# sourceMappingURL=./loader-browser.min.js.map

'use strict';((g,k)=>{var l=function(a){this._members=this.list=[];this._index={};if(a)for(var b=0,c=a.length;b<c;b++)this.push(a[b])};l.prototype.push=function(a){var b=void 0!==a.id?a.id:a,c=this._index;c.hasOwnProperty(b)||(c[b]=this._members.length,this._members.push(a))};var e=function(a){e._index(this);this._loader=a;this._names=new l;this._deps=new l;this._uses=new l;this._observers={};this._events={}};e.ENV=k.ENV=g;e._throw=a=>{throw Error(a);};g=e.prototype;g.requires=function(){for(var a=
arguments.length,b=0;b<a;)this._deps.push(arguments[b++]);return this};g.uses=function(){for(var a=arguments.length,b=0;b<a;)this._uses.push(arguments[b++]);return this};g.provides=function(){for(var a=arguments.length,b=0;b<a;b++)this._names.push(arguments[b]),e._getFromCache(arguments[b]).pkg=this;return this};g._on=function(a,b,c){if(this._events[a])return b.call(c);(this._observers[a]=this._observers[a]||[]).push([b,c]);this._load()};g._fire=function(a){if(this._events[a])return!1;this._events[a]=
!0;var b=this._observers[a];if(!b)return!0;delete this._observers[a];a=0;for(var c=b.length;a<c;a++)b[a][0].call(b[a][1]);return!0};g._isLoaded=function(a){if(!a&&void 0!==this.__isLoaded)return this.__isLoaded;for(var b=this._names.list,c=b.length,d,f;c--;)if(d=b[c],f=e._getObject(d,this._exports),void 0===f)return a?e._throw("Expected package at "+this._loader+" to define "+d):this.__isLoaded=!1;return this.__isLoaded=!0};g._load=function(){if(this._fire("request")){if(!this._isLoaded()&&!this._source&&
this._loader instanceof Array){this._source=[];for(var a=0,b=this._loader.length;a<b;a++)this._source[a]=q(this._loader[a])}var c=this._deps.list.concat(this._uses.list),d=this._source||[],f=(this._loader||{}).length,h=this;e.when({load:c});e.when({complete:this._deps.list},function(){e.when({complete:c,load:[this]},function(){this._fire("complete")},this);var a=function(c){if(0===f)return b(c);--f;c=h._loader.length-f-1;r(h._loader[c],a,d[c])},b=function(a){h._exports=a;h._onload&&h._onload();h._isLoaded(!0);
h._fire("load")};if(this._isLoaded())return this._fire("download"),this._fire("load");if(void 0===this._loader)return e._throw("No load path found for "+this._names.list[0]);"function"===typeof this._loader?this._loader(b):a()},this)}};e.when=function(a,b,c){var d=[],f={},h,g;for(h in a)if(a.hasOwnProperty(h)){f[h]=[];var k=new l(a[h]);for(g=k.list.length;g--;)d.push([h,k.list[g],g])}var m=g=d.length;if(0===m)return b&&b.call(c,f);for(;g--;)(function(a){var d=e._getByName(a[1]);d._on(a[0],function(){f[a[0]][a[2]]=
e._getObject(a[1],d._exports);--m;0===m&&b&&b.call(c,f)})})(d[g])};e._autoIncrement=1;e._indexByPath={};e._indexByName={};e._index=function(a){a.id=this._autoIncrement;this._autoIncrement+=1};e._getByPath=function(a){var b=a.toString(),c=this._indexByPath[b];c||("string"===typeof a&&(a=[].slice.call(arguments)),c=this._indexByPath[b]=new this(a));return c};e._getByName=function(a){if("string"!==typeof a)return a;var b=this._getFromCache(a);if(b.pkg)return b.pkg;b=new this;b.provides(a);return b};
e._getFromCache=function(a){return this._indexByName[a]=this._indexByName[a]||{}};e._getObject=function(a,b){if("string"===typeof a){var c=b?{}:this._getFromCache(a);if(void 0!==c.obj)return c.obj;for(var d=b||this.ENV,f=a.split("."),h;h=f.shift();)d=d&&d[h];return b&&void 0===d?this._getObject(a):c.obj=d}};g=e.Deferred=function(){this._status="deferred";this._value=null;this._callbacks=[]};g.prototype.callback=function(a,b){"succeeded"===this._status?a.call(b,this._value):this._callbacks.push([a,
b])};g.prototype.succeed=function(a){this._status="succeeded";this._value=a;for(var b;b=this._callbacks.shift();)b[0].call(b[1],a)};var n=/^(https?:)?\/\/[^\/]+/i,p=n.exec(window.location.href),q=a=>{var b=n.exec(a);if(p&&(!b||b[0]===p[0])){var c=new e.Deferred;fetch(a,{method:"GET"}).then(b=>{if(b.ok)return b.text();throw Error("Manifest loading error for:"+a);}).then(b=>{c.succeed(b+"\n//# sourceURL="+a)});return c}},r=(a,b,c)=>{if(c)return c.callback(function(a){(new Function("code","eval(code)"))(a);
b()});var d=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript";f.src=a;f.onload=f.onreadystatechange=function(){var a=f.readyState,c=f.status;if(!a||"loaded"===a||"complete"===a||4===a&&200===c)b(),f.onload=f.onreadystatechange=()=>{},f=d=null};d.appendChild(f)};k.Packages=function(a){a.call({file:function(a){for(var b=[],d=arguments.length;d--;){var f=d,h=arguments[d];if(!/^https?:/.test(h)){var g=k.ROOT;g&&(h=(g+"/"+h).replace(/\/+/g,"/"))}b[f]=
h}return e._getByPath.apply(e,b)}})};k.require=function(){for(var a=[],b=0,c,d;"string"===typeof arguments[b];)a.push(arguments[b]),b+=1;c=arguments[b];d=arguments[b+1];e.when({complete:a},function(a){c&&c.apply(d,a&&a.complete)});return this}})(global,global.JS||(global.JS={}));
//# sourceMappingURL=./loader-browser.min.js.map

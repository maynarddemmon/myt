'use strict';((f,h)=>{const l=function(a){this._members=this.list=[];this._index={};if(a)for(let b=0,d=a.length;b<d;)this.push(a[b++])};l.prototype.push=function(a){const b=void 0!==a.id?a.id:a,d=this._index;d.hasOwnProperty(b)||(d[b]=this._members.length,this._members.push(a))};const c=function(a){c._index(this);this._loader=a;this._names=new l;this._deps=new l;this._uses=new l;this._observers={};this._events={}};c.ENV=h.ENV=f;c._throw=a=>{throw Error(a);};f=c.prototype;f.requires=function(){const a=
arguments.length;for(let b=0;b<a;)this._deps.push(arguments[b++]);return this};f.uses=function(){const a=arguments.length;for(let b=0;b<a;)this._uses.push(arguments[b++]);return this};f.provides=function(){const a=arguments.length;for(let b=0;b<a;b++)this._names.push(arguments[b]),c._getFromCache(arguments[b]).pkg=this;return this};f._on=function(a,b,d){if(this._events[a])return b.call(d);(this._observers[a]=this._observers[a]||[]).push([b,d]);this._load()};f._fire=function(a){if(this._events[a])return!1;
this._events[a]=!0;const b=this._observers[a];if(b){delete this._observers[a];for(let a=0,e=b.length;a<e;a++)b[a][0].call(b[a][1])}return!0};f._isLoaded=function(a){if(!a&&void 0!==this.__isLoaded)return this.__isLoaded;const b=this._names.list;let d=b.length;for(;d--;){const e=b[d];if(void 0===c._getObject(e,this._exports))return a?c._throw("Expected package at "+this._loader+" to define "+e):this.__isLoaded=!1}return this.__isLoaded=!0};f._load=function(){const a=this;if(a._fire("request")){if(!a._isLoaded()&&
!a._source&&a._loader instanceof Array){a._source=[];for(let b=0,d=a._loader.length;b<d;b++)a._source[b]=p(a._loader[b])}const b=a._deps.list.concat(a._uses.list),d=a._source||[];let e=(a._loader||{}).length;c.when({load:b});c.when({complete:a._deps.list},function(){c.when({complete:b,load:[this]},function(){this._fire("complete")},this);const k=b=>{if(0===e)return g(b);e--;b=a._loader.length-e-1;q(a._loader[b],k,d[b])},g=b=>{a._exports=b;a._onload&&a._onload();a._isLoaded(!0);a._fire("load")};if(this._isLoaded())return this._fire("download"),
this._fire("load");if(void 0===this._loader)return c._throw("No load path found for "+this._names.list[0]);"function"===typeof this._loader?this._loader(g):k()},a)}};c.when=(a,b,d)=>{const e=[],k={};let g,f;for(const b in a)if(a.hasOwnProperty(b))for(k[b]=[],g=new l(a[b]),f=g.list.length;f--;)e.push([b,g.list[f],f]);let h=f=e.length;if(0===h)return b&&b.call(d,k);for(;f--;)(a=>{const e=c._getByName(a[1]);e._on(a[0],()=>{k[a[0]][a[2]]=c._getObject(a[1],e._exports);0===--h&&b&&b.call(d,k)})})(e[f])};
c._autoIncrement=1;c._indexByPath={};c._indexByName={};c._index=function(a){a.id=this._autoIncrement;this._autoIncrement++};c._getByPath=function(a){const b=a.toString();let d=this._indexByPath[b];d||("string"===typeof a&&(a=[].slice.call(arguments)),d=this._indexByPath[b]=new this(a));return d};c._getByName=function(a){if("string"!==typeof a)return a;var b=this._getFromCache(a);if(b.pkg)return b.pkg;b=new this;b.provides(a);return b};c._getFromCache=function(a){return this._indexByName[a]=this._indexByName[a]||
{}};c._getObject=function(a,b){if("string"===typeof a){const d=b?{}:this._getFromCache(a);if(void 0!==d.obj)return d.obj;let e=b||this.ENV,c;const f=a.split(".");for(;c=f.shift();)e=e&&e[c];return b&&void 0===e?this._getObject(a):d.obj=e}};f=c.Deferred=function(){this._status="deferred";this._value=null;this._callbacks=[]};f.prototype.callback=function(a,b){"succeeded"===this._status?a.call(b,this._value):this._callbacks.push([a,b])};f.prototype.succeed=function(a){this._status="succeeded";this._value=
a;let b;for(;b=this._callbacks.shift();)b[0].call(b[1],a)};const m=/^(https?:)?\/\/[^\/]+/i,n=m.exec(window.location.href),p=a=>{const b=m.exec(a);if(n&&(!b||b[0]===n[0])){const b=new c.Deferred;fetch(a,{method:"GET"}).then(b=>{if(b.ok)return b.text();throw Error("Manifest loading error for:"+a);}).then(d=>{b.succeed(d+"\n//# sourceURL="+a)});return b}},q=(a,b,d)=>{if(d)return d.callback(a=>{(new Function("code","eval(code)"))(a);b()});{let d=document.getElementsByTagName("head")[0],c=document.createElement("script");
c.type="text/javascript";c.src=a;c.onload=c.onreadystatechange=()=>{const a=c.readyState,e=c.status;if(!a||"loaded"===a||"complete"===a||4===a&&200===e)b(),c.onload=c.onreadystatechange=()=>{},c=d=null};d.appendChild(c)}};h.Packages=a=>{a.call({file:function(a){const b=[];let e=arguments.length;for(;e--;){var f=e,g=arguments[e];!/^https?:/.test(g)&&h.ROOT&&(g=(h.ROOT+"/"+g).replace(/\/+/g,"/"));b[f]=g}return c._getByPath.apply(c,b)}})};h.require=function(){const a=[];let b=0;for(;"string"===typeof arguments[b];)a.push(arguments[b++]);
const d=arguments[b++],e=arguments[b];c.when({complete:a},a=>{d&&d.apply(e,a&&a.complete)});return this}})(global,global.JS=global.JS||{});
//# sourceMappingURL=./loader-browser.min.js.map

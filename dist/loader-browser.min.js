((F,n)=>{let G=1;const H=/^https?:/i,r=function(a){const b={},c=this.list=[],d=this.push=(...e)=>{e.forEach(g=>{const h=g.id??g;b.hasOwnProperty(h)||(b[h]=!0,c.push(g))})};a&&d(...a)},I=function(){const a=[];let b,c;this.callback=d=>{b?d(c):a.push(d)};this.succeed=d=>{b=!0;for(c=d;a.length;)a.shift()(d)}},J={};let x,y;const t=a=>(x=J)[y=a]??(x[y]={}),z=a=>{if("string"===typeof a){const b=t(a);if(void 0!==b.obj)return b.obj;a=a.split(".");let c=F,d;for(;d=a.shift();)c=c&&c[d];return b.obj=c}},w=(a,
b)=>{const c=[],d={};for(var e in a)if(a.hasOwnProperty(e)){d[e]=[];const h=(new r(a[e])).list;let k=h.length;for(;k--;)c.push([e,h[k],k])}let g=c.length;a=g;if(0===g)return b?.(d);for(;a--;){const [h,k,K]=c[a],f="string"===typeof k?t(k)?.pkg:k;if(!f)throw Error(k+" required to exist");e=()=>{d[h][K]=z(k);0===--g&&b?.(d)};if(f._events[h])e();else{let A,B;((A=f._observers)[B=h]??(A[B]=[])).push(e);if(p(f,"request")){const m=f._loader;if(!u(f)&&!f._source){f._source=[];for(let l=0,q=m.length;l<q;l++)f._source[l]=
L(m[l])}const C=f._deps.list,M=f._source??[];let v=m.length;w({complete:C},()=>{w({complete:C,load:[f]},()=>{p(f,"complete")});if(u(f))p(f,"load");else{const l=()=>{if(0===v)u(f),p(f,"load");else{const q=m.length-v;v--;N(m[q],l,M[q])}};l()}})}}}},p=(a,b)=>{var c=a._events;a=a._observers;if(c[b])return!1;c[b]=!0;if(c=a[b])delete a[b],c.forEach(d=>{d()});return!0},u=a=>{if(void 0===a._isLoaded){const b=a._names.list;let c=b.length;for(;c--;)if(void 0===z(b[c]))return a._isLoaded=!1;return a._isLoaded=
!0}return a._isLoaded},O=function(a){const b=this,c=b._names=new r,d=b._deps=new r;b.id=G++;b._loader=a;b._observers={};b._events={};b.provides=(...e)=>{e.forEach(g=>{t(g).pkg=b});c.push(...e);return b};b.requires=(...e)=>{d.push(...e);return b}},D=/^(https?:)?\/\/[^\/]+/i,E=D.exec(window.location.href),L=a=>{const b=D.exec(a);if(E&&(!b||b[0]===E[0])){const c=new I;fetch(a,{method:"GET"}).then(d=>{if(d.ok)return d.text();throw Error("Manifest load error:"+a);}).then(d=>{c.succeed(d+"\n//# sourceURL="+
a)});return c}},N=(a,b,c)=>{if(c)c.callback(d=>{(new Function(d))();b()});else{let d=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.src=a;e.onload=e.onreadystatechange=()=>{const g=e.readyState;if(!g||"loaded"===g||"complete"===g||4===g&&200===e.status)b(),e.onload=e.onreadystatechange=()=>{},d=e=null};d.appendChild(e)}};n.Packages=a=>{a((...b)=>new O(b.map(c=>!H.test(c)&&n.ROOT?n.ROOT+"/"+c:c)))};n.require=(...a)=>{const b=[];let c=0;for(;"string"===
typeof a[c];)b.push(a[c++]);w({complete:b},a[c])}})(global,global.JS=global.JS??{});
//# sourceMappingURL=./loader-browser.min.js.map

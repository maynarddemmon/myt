((E,m)=>{const F=/^https?:/i,G={};let x,y;const q=a=>(x=G)[y=a]??(x[y]={}),z=a=>{if("string"===typeof a){const b=q(a);if(void 0===b.obj){a=a.split(".");let c=E,d;for(;d=a.shift();)c=c&&c[d];b.obj=c}return b.obj}},H=function(){const a=[];let b,c;this.callback=d=>{b?d(c):a.push(d)};this.succeed=d=>{b=!0;for(c=d;a.length;)a.shift()(d)}},v=(a,b)=>{const c=[],d={};for(var f in a){d[f]=[];var g=new Set(a[f]);let l=g.size;for(const h of g)c.unshift([f,h,--l])}let r=c.length;if(0===r)return b?.(d);for(a=
r;a--;){const [l,h,I]=c[a],e="string"===typeof h?q(h)?.pkg:h;if(!e)throw Error(h+" required to exist");f=()=>{d[l][I]=z(h);0===--r&&b?.(d)};if(e[l])f();else{let A,B;((A=e._observers)[B=l]??(A[B]=[])).push(f);if(!e.request){e.request=!0;f=e._paths;if(!t(e)&&!e._source){g=e._source=[];for(const k of f){const n=new H;g.push(n);fetch(k,{method:"GET"}).then(p=>{if(p.ok)return p.text();throw Error("Manifest load error:"+k);}).then(p=>{n.succeed(p+"\n//# sourceURL="+k)})}}const C=Array.from(e._deps),J=e._source??
[],D=f.length;let u=D;v({complete:C},()=>{v({complete:C,load:[e]},()=>{w(e,"complete")});if(t(e))w(e,"load");else{const k=()=>{0===u?(t(e),w(e,"load")):(u--,J[D-1-u].callback(n=>{(new Function(n))();k()}))};k()}})}}}},w=(a,b)=>{if(!a[b]){a[b]=!0;const c=a._observers[b];if(c){delete a._observers[b];for(const d of c)d()}}},t=a=>{if(void 0===a._isLoaded){for(const b of a._names)if(void 0===z(b))return a._isLoaded=!1;return a._isLoaded=!0}return a._isLoaded},K=function(a){const b=this,c=b._names=new Set,
d=b._deps=new Set;b._paths=a;b._observers={};b.request=b.complete=b.load=!1;b.provides=(...f)=>{for(const g of f)q(g).pkg=b,c.add(g);return b};b.requires=(...f)=>{for(const g of f)d.add(g);return b}};m.Packages=a=>{a((...b)=>new K(b.map(c=>!F.test(c)&&m.ROOT?m.ROOT+"/"+c:c)))};m.require=(...a)=>{const b=[];let c=0;for(;"string"===typeof a[c];)b.push(a[c++]);v({complete:b},a[c])}})(global,global.JS=global.JS??{});
//# sourceMappingURL=./loader-browser.min.js.map

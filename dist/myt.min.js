(l=>{let u;var v=b=>{let c,d=b.length;for(;d;)if(c=b[--d],u=c.ver||c.id,c.str&&0<=c.str.indexOf(c.sub)||c.prop)return c.id};var q=b=>{const c=b.indexOf(u);if(0<=c)return parseFloat(b.substring(c+u.length+1))};const f=navigator.userAgent,a=navigator.platform;q=l.BrowserDetect={browser:v([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:f,sub:"Firefox",id:"Firefox"},{str:f,sub:"Chrome",id:"Chrome"},{str:f,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:q(f)||q(navigator.appVersion)||"UNKNOWN",os:v([{str:f,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(q.browser){case "Chrome":case "Safari":l="WebKit";break;case "Explorer":l="MS";break;case "Firefox":l="Moz";break;case "Opera":l="O";break;default:l="UNKNOWN"}v=l.toLowerCase();q.prefix={dom:l,lowercase:v,css:"-"+v+"-",js:v[0].toUpperCase()+v.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const l=Math,u=l.abs,v=l.floor,q=l.ceil,f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),b="Sun Mon Tue Wed Thu Fri Sat".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d=k=>(10>k?"0":"")+k,e=(k,t)=>{k=k.getTimezoneOffset();return(0<k?"-":"+")+d(v(u(k/60)))+(t?":":"")+(0==u(k%60)?"00":d(u(k%60)))},n=
{d:k=>d(k.getDate()),D:k=>b[k.getDay()],j:k=>k.getDate(),l:k=>c[k.getDay()],N:k=>0==k.getDay()?7:k.getDay(),S:k=>{k=k.getDate();return 1==k%10&&11!=k?"st":2==k%10&&12!=k?"nd":3==k%10&&13!=k?"rd":"th"},w:k=>k.getDay(),z:k=>{const t=new Date(k.getFullYear(),0,1);return q((k-t)/864E5)},W:k=>{const t=new Date(k.valueOf());k=(k.getDay()+6)%7;t.setDate(t.getDate()-k+3);k=t.valueOf();t.setMonth(0,1);4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7);return d(1+q((k-t)/6048E5))},F:k=>a[k.getMonth()],m:k=>
d(k.getMonth()+1),M:k=>f[k.getMonth()],n:k=>k.getMonth()+1,t:k=>{let t=k.getFullYear();k=k.getMonth()+1;12===k&&(t=t++,k=0);return(new Date(t,k,0)).getDate()},L:k=>{k=k.getFullYear();return 0==k%400||0!=k%100&&0==k%4},o:k=>{const t=new Date(k.valueOf());t.setDate(t.getDate()-(k.getDay()+6)%7+3);return t.getFullYear()},Y:k=>k.getFullYear(),y:k=>(""+k.getFullYear()).substr(2),a:k=>12>k.getHours()?"am":"pm",A:k=>12>k.getHours()?"AM":"PM",B:k=>v(1E3*((k.getUTCHours()+1)%24+k.getUTCMinutes()/60+k.getUTCSeconds()/
3600)/24),g:k=>k.getHours()%12||12,G:k=>k.getHours(),h:k=>d(k.getHours()%12||12),H:k=>d(k.getHours()),i:k=>d(k.getMinutes()),s:k=>d(k.getSeconds()),e:k=>/\((.*)\)/.exec((new Date).toString())[1],I:k=>{let t=null,g=0;for(;12>g;){const m=(new Date(k.getFullYear(),g++,1)).getTimezoneOffset();if(null===t)t=m;else if(m<t){t=m;break}else if(m>t)break}return k.getTimezoneOffset()==t|0},O:k=>e(k,!1),P:k=>e(k,!0),T:k=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:k=>60*-k.getTimezoneOffset(),c:k=>k.format("Y-m-d\\TH:i:sP"),
r:k=>k.toString(),U:k=>k.getTime()/1E3};return function(k){return k.replace(/(\\?)(.)/g,(t,g,m)=>""===g&&n[m]?n[m](this):m)}})();
(l=>{const u=(r,p)=>{if(r&&p)for(const w in p)r[w]===p[w]||r.hasOwnProperty(w)||(r[w]=p[w]);return r},v=r=>{const p=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},w=function(){};w.prototype=(r||Object).prototype;p.prototype=new w;return p},q=(r,p)=>{const w=!p;if(w&&r.__anc__)return r.__anc__.slice();p=p||[];const z=r.__inc__,y=z.length;for(let B=0;B<y;)q(z[B++],p);p.includes(r)||p.push(r);w&&(r.__anc__=p.slice());return p},f=(r,p)=>{var w=r.__mct__[p];if(w)return w.slice();
w=q(r);const z=w.length,y=[];for(let B=0;B<z;){const C=w[B++].__fns__;C.hasOwnProperty(p)&&y.push(C[p])}r.__mct__[p]=y.slice();return y},a=(r,p)=>{const w=r.callable;return r.__hs?function(){const z=this.callSuper,y=this.hasOwnProperty("callSuper"),B=f(p,r.name);let C=B.length-1;if(0===C)delete this.callSuper;else{const h=Array.from(arguments),x=this.callSuper=(...A)=>{let G=A.length;for(;G;)h[--G]=A[G];0===--C&&delete this.callSuper;A=B[C].apply(this,h);this.callSuper=x;C++;return A}}const E=w.apply(this,
arguments);y?this.callSuper=z:delete this.callSuper;return E}:w},b=(r,p)=>{p=p||r;if(p===r){r.__anc__=null;r.__mct__={};for(var w=r.__dep__.length;w;)b(r.__dep__[--w])}if(w=p.__tgt__){var z=r.__inc__;r=r.__fns__;const y=z.length;for(let B=0;B<y;)b(z[B++],p);for(const B in r)z=r[B],z=z instanceof e?a(z,p):z,w[B]!==z&&(w[B]=z)}},c=r=>r.__meta__?r.__meta__:(r.__meta__=new k("",null,{_target:r})).include(r.klass,{_rslv:!1}),d=r=>"function"!==typeof r||r.__fns__&&r.__inc__,e=l.Method=v(),n=(r,p,w)=>w&&
w.__inc__&&w.__fns__||"function"!==typeof w?w:new e(r,p,w),k=l.Module=v();u(e.prototype,{initialize:function(r,p,w){this.module=r;this.name=p;this.callable=w;this.__hs="function"===typeof w&&-1!==w.toString().indexOf("callSuper")},call:function(...r){return this.callable(...r)},apply:function(r,p){return this.callable.apply(r,p)}});u(k.prototype,{initialize:function(r,p,w){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(w||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
r;this.include(p,{_rslv:!1})},define:function(r,p,w){this.__fns__[r]=n(this,r,p);!1!==(w||{})._rslv&&b(this)},include:function(r,p){if(r){if(r.__fns__&&r.__inc__)this.__inc__.push(r),r.__dep__.push(this);else{var w=r.extend,z=r.include;const y={_rslv:!1};if(d(w)){w=[].concat(w);for(let B=0,C=w.length;B<C;)this.extend(w[B++])}if(d(z)){z=[].concat(z);for(let B=0,C=z.length;B<C;)this.include(z[B++],y)}for(const B in r)r.hasOwnProperty(B)&&(z=r[B],("extend"!==B&&"include"!==B||!d(z))&&this.define(B,z,
y))}!1!==(p||{})._rslv&&b(this)}return this},includes:function(r){if(r===this)return!0;const p=this.__inc__,w=p.length;for(let z=0;z<w;)if(p[z++].includes(r))return!0;return!1},instanceMethod:function(r){return f(this,r).pop()}});const t=new k("Kernel",{equals:function(r){return this===r},extend:function(r,p){r&&c(this).include(r,{_rslv:(p||{})._rslv});return this},isA:function(r){return"function"===typeof r&&this instanceof r||c(this).includes(r)}}),g=l.Class=v(k);u(g.prototype,{initialize:function(r,
p,w,z){"function"!==typeof p&&(z=w,w=p,p=Object);k.prototype.initialize.call(this,r);r=(z||{})._rslv;z={_rslv:!1};const y=v(p);u(y,this);y.prototype.constructor=y.prototype.klass=y;c(y).include(p.__meta__,{_rslv:r});y.__tgt__=y.prototype;p=p===Object?{}:p.__fns__?p:new k(p.prototype,z);y.include(t,z).include(p,z).include(w,z);!1!==r&&b(y);return y}});const m=(r,p)=>{r.__inc__=[];r.__dep__=[];const w=r.__tgt__=r.prototype,z=r.__fns__={};for(const y in w)w.hasOwnProperty(y)&&(z[y]=n(r,y,w[y]));w.constructor=
w.klass=r;u(r,g.prototype);r.include(p);r.constructor=r.klass=g};m(e,t);m(k,t);m(g,k);b(c(e));b(c(k));c(g).include(k.__meta__);l.Singleton=new g("Singleton",{initialize:(r,p,w)=>new (new g(r,p,w))})})(global.JS||(global.JS={}));
(l=>{class u extends Error{constructor(y,B,...C){super(...C);this.name="FetchError";this.status=y;this.url=B}}let v=0,q;const f=Math,a=f.abs,b=f.min,c=f.max,d=f.pow,e=document,n=e.head,k=e.createElement.bind(e),t={},g={"":!0},m=e.fonts,r=y=>{y=y.family.split('"').join("")+" "+y.weight;if(!g[y]){g[y]=!0;const B=t[y]||[];for(;B.length;)(y=B.pop())&&!y.destroyed&&y.sizeViewToDom()}},p={},w=y=>function(){const B=JSON.stringify(arguments),C=y.__cache||(y.__cache={});return B in C?C[B]:C[B]=y.apply(this,
arguments)},z=l.myt={version:2.02201181318E7,generateGuid:()=>++v,addEventListener:(y,B,C,E,h)=>{y.addEventListener(B,C,{capture:E||!1,passive:h||!1})},removeEventListener:(y,B,C,E)=>{y.removeEventListener(B,C,E||!1)},resolveName:(y,B)=>{if(y&&0!==y.length){B=B||global;var C=Array.isArray(y)?y:y.split("."),E=C.length;for(let h=0;h<E;h++)if(B=B[C[h]],void 0===B){console.warn("resolveName failed for",y,"at part",h,C[h]);return}return B}},resolveClassname:y=>{"string"===typeof y&&(y=z.resolveName(y));
return y&&"function"===typeof y.isA&&y.isA(JS.Class)?y:null},getExtension:y=>y?y.split(".")[1]:null,loadScript:function(y,B,C){const E=this._loadedScripts||(this._loadedScripts={});if(E[y])return console.warn("script already loaded for src",y),null;E[y]=!0;const h=k("script");h.type="text/javascript";h.async=!1;if(B){let x=!1;h.onload=h.onreadystatechange=()=>{x||h.readyState&&"complete"!==h.readyState||(x=!0,h.onload=h.onreadystatechange=null,B())}}h.src=y+(C?"":(0<=y.indexOf("?")?"&":"?")+"cacheBust="+
Date.now());n.appendChild(h);return h},dumpStack:(y,B)=>{let C;"string"===typeof y&&(C=y,y=null);z.global.error.notify(B||"error",null,C,y)},getRandom:y=>{const B=f.random();return y?c(0,b(y(B),.9999999999)):B},getRandomArbitrary:(y,B,C)=>{const E=b(y,B);return z.getRandom(C)*(c(y,B)-E)+E},getRandomInt:(y,B,C)=>{const E=b(y,B);return f.floor(z.getRandom(C)*(c(y,B)-E+1)+E)},areFloatsEqual:(y,B,C)=>{const E=a(y),h=a(B);return a(y-B)<=(E>h?h:E)*(null==C?1E-6:a(C))},areArraysEqual:(y,B)=>{if(y!==B){if(null==
y||null==B)return!1;let C=y.length;if(C!==B.length)return!1;for(;C;)if(y[--C]!==B[C])return!1}return!0},areObjectsEqual:(y,B)=>{if(y!==B){if(null==y||null==B)return!1;for(const C in y)if(y[C]!==B[C])return!1;for(const C in B)if(y[C]!==B[C])return!1}return!0},getElement:(y,B)=>e.getElementsByTagName(y||"body")[0<B?B:0],loadFontFaces:(y,B)=>{const C=[];y.forEach(E=>{E=new FontFace(E.family,"url("+E.url+")",E.options);C.push(E.load())});Promise.all(C).then(E=>{E.forEach(h=>{m.add(h);r(h)});B&&B(E)})},
loadFontFace:(y,B,C={},E)=>{y=new FontFace(y,"url("+B+")",C);y.loaded.then(h=>{m.add(h);r(h);E&&E(h)});y.load()},registerForFontNotification:(y,B)=>{g[B]?y&&!y.destroyed&&y.sizeViewToDom():(t[B]||(t[B]=[])).push(y)},createBaseFontCSSRule:y=>{z.addCSSRule(z.createStylesheet(),"body, input","font-family:"+y,0)},loadCSSFonts:y=>{(y||[]).forEach(B=>{const C=k("link");C.rel="stylesheet";C.href=B;n.appendChild(C)})},createStylesheet:()=>{const y=k("style");n.appendChild(y);return y.sheet},addCSSRule:(y,
B,C,E)=>{"insertRule"in y?y.insertRule(B+"{"+C+"}",E):"addRule"in y&&y.addRule(B,C,E)},removeCSSRules:y=>{let B=y.cssRules.length;for(;B;)B--,"deleteRule"in y?y.deleteRule(B):"removeRule"in y&&y.removeRule(B)},createInputPlaceholderCSSRule:(y,B,C,E=1)=>{var h=y.getODE();h=h.id||(h.id="id"+z.generateGuid());let x=y.__sheet;x?z.removeCSSRules(x):x=y.__sheet=z.createStylesheet();y=[];B&&y.push("color:"+B);C&&y.push("font-family:"+C);E&&y.push("opacity:"+E);z.addCSSRule(x,"#"+h+"::placeholder",y.join("; "),
0)},chainSortFunc:(y,B)=>(C,E)=>{const h=y(C,E);return 0===h?B(C,E):h},getAlphaObjSortFunc:w((y,B,C,E)=>{const h=B?1:-1;return(x,A)=>{x=x[y];A=A[y];E?("string"!==typeof x&&(x=""+x),"string"!==typeof A&&(A=""+A)):(x=x||"",A=A||"");C&&(x=x.toLowerCase(),A=A.toLowerCase());return x.localeCompare(A)*h}}),getNumericObjSortFunc:w((y,B)=>{const C=B?1:-1;return(E,h)=>{E=E[y]||0;h=h[y]||0;return(E-h)*C}}),formatAsPercentage:(y,B=2)=>{if("number"===typeof y)return B=c(16,b(0,B)),y=f.round(c(0,b(1,y))*d(10,
2+B))/d(10,B),(0===y%1?y:y.toFixed(B))+"%";"string"!==typeof y&&console.warn("formatAsPercentage: expects a number");return y},memoize:w,debounce:function(y,B,C){return function(){const E=this,h=E.__DBTO,x=arguments,A=C&&!h;clearTimeout(h);E.__DBTO=setTimeout(function(){E.__DBTO=null;C||y.apply(E,x)},B);A&&y.apply(E,x)}},createFixedThresholdCounter:(y,B,C,E)=>{var h=z.AccessorSupport.generateName;const x="function"===typeof y||y instanceof JS.Module,A={};E=E||h("counter",C);const G=h(E,"increment");
h=h(E,"decrement");if(void 0!==(x?y.instanceMethod(G):y[G]))return console.warn("Increment: Abort clobber",G,y),!1;if(void 0!==(x?y.instanceMethod(h):y[h]))return console.warn("Decrement: Abort clobber",h,y),!1;A[G]=function(){const I=this[E]+1;this[E]=I;this.fireEvent(E,I);I===B&&this.set(C,!0)};A[h]=function(){const I=this[E];if(0!==I){var J=I-1;this[E]=J;this.fireEvent(E,J);I===B&&this.set(C,!1)}};y[x?"include":"extend"](A);return!0},makeURLSearchParams:(y={})=>{const B=new URLSearchParams;for(const C in y){const E=
y[C];void 0!==E&&B.set(C,E)}return B},doFetch:(y,B,C,E,h,x)=>fetch(y,B).then(A=>{if(!A.ok)throw new u(A.status,y,A.statusText);return A}).then(A=>C?A.text():A.json()).then(A=>{if(E)try{if(C)E(A);else{if(!1===A.success)throw new u(200,y,A.message);E(A.data)}}catch(G){throw A=new u(200,y,G.message),A.stack=G.stack,A;}}).catch(A=>{if(h){if("FetchError"!==A.name){const G=new u(0,y,A.message);G.stack=A.stack;A=G}h(A)}}).finally(()=>{x&&x()}),I18N:{setLocale:y=>{q=y},getLocale:()=>q,addDictionary:(y,B)=>
{p[B]=Object.assign(p[B]||{},y)},get:function(y){const B=arguments;var C=q||=(navigator.language||"en").split("-")[0].toLowerCase();C=(p[C]||p.en||{})[y];if(null!=C){if(1<B.length){for(var E of C.matchAll(/\{\{plural:\$(.*?)\|(.*?)\|(.*?)\}\}/g))C=C.replace(E[0],E[1==B[parseInt(E[1])]?2:3]);for(E=1;E<B.length;E++)C=C.replaceAll("$"+E,B[E])}return C}return y}}};m.onloadingdone=y=>{y.fontfaces.forEach(B=>{r(B)})}})(global);
(l=>{const u=Object.assign,v=(f,a)=>{0===f.indexOf('"')&&(f=f.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a?JSON.parse(f):f}catch(b){}},q=l.Cookie={defaults:{raw:!1,json:!1},read:(f,a)=>{a=u({},q.defaults,a);const b=a.raw?k=>k:k=>decodeURIComponent(k.split("+").join(" "));a=a.json;const c=document.cookie.split("; "),d=c.length,e=f?void 0:{};for(let k=0;k<d;){var n=c[k++].split("=");const t=b(n.shift());n=b(n.join("="));if(f){if(f===t)return v(n,a)}else e[t]=v(n,a)}return e},
write:(f,a,b)=>{b=u({},q.defaults,b);if("number"===typeof b.expires){const c=b.expires,d=b.expires=new Date;d.setDate(d.getDate()+c)}a=b.json?JSON.stringify(a):String(a);return document.cookie=[b.raw?f:encodeURIComponent(f),"=",b.raw?a:encodeURIComponent(a),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.samesite?"; samesite="+b.samesite:"",b.secure?"; secure":""].join("")},remove:(f,a)=>void 0!==q.read(f,a)?(q.write(f,"",u({},a,{expires:-1})),
!0):!1}})(myt);
(l=>{const u=global.localStorage,v=(f,a,b)=>{if(0<a){const c="__timerId_"+b;(b=q[c])&&clearTimeout(b);q[c]=setTimeout(()=>{f();delete q[c]},a)}else f()},q=l.LocalStorage={hasDatum:(f,a)=>{if(f&&(a=q.getItem(a||"myt")))try{return null!=JSON.parse(a)[f]}catch(b){console.error(b)}return!1},getDatum:(f,a)=>{if(f&&(a=q.getItem(a||"myt")))try{const b=JSON.parse(a);if("object"===typeof b)return b[f]}catch(b){console.error(b)}},setDatum:(f,a,b,c)=>{b=b||"myt";v(()=>{const d=q.getData(b);d[f]=a;q.setItem(b,
JSON.stringify(d))},c,b+"___"+f)},removeDatum:(f,a,b)=>{a=a||"myt";v(()=>{const c=q.getData(a);delete c[f];q.setItem(a,JSON.stringify(c))},b,a+"___"+f)},hasData:f=>null!=q.getItem(f||"myt"),getData:f=>{if(f=q.getItem(f||"myt"))try{return JSON.parse(f)}catch(a){console.error(a)}return{}},setData:(f,a,b)=>{a=a||"myt";null==f&&(f={});return"object"===typeof f?(v(()=>{q.setItem(a,JSON.stringify(f))},b,a),!0):!1},removeData:(f,a)=>{f=f||"myt";v(()=>{q.removeItem(f)},a,f)},getLength:()=>u.length,getKey:f=>
u.key(f),getItem:f=>u.getItem(f),setItem:(f,a)=>{u.setItem(f,a)},removeItem:f=>{u.removeItem(f)},clear:()=>{u.clear()},get:f=>q.getItem(f),set:(f,a)=>{q.setItem(f,a)},remove:f=>{q.removeItem(f)},clearAll:()=>{q.clear()}}})(myt);
(l=>{const u=/(?:^|&)([^&=]*)=?([^&]*)/g,v=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,q=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;l.URI=new JS.Class("URI",{initialize:function(f,a){f&&this.parse(f,a)},setSource:function(f){this.source=f},setProtocol:function(f){this.protocol=
f},setAuthority:function(f){this.authority=f},setUserInfo:function(f){this.userInfo=f},setUser:function(f){this.user=f},setPassword:function(f){this.password=f},setHost:function(f){this.host=f},setPort:function(f){this.port=f},setRelative:function(f){this.relative=f},setPath:function(f){this.path=f},setDirectory:function(f){this.directory=f},setFile:function(f){this.file=f},setQuery:function(f){this.query=f},setAnchor:function(f){this.anchor=f},parse:function(f,a){const b=this;f=(a?q:v).exec(f);b.setSource(f[0]||
"");b.setProtocol(f[1]||"");b.setAuthority(f[2]||"");b.setUserInfo(f[3]||"");b.setUser(f[4]||"");b.setPassword(f[5]||"");b.setHost(f[6]||"");b.setPort(f[7]||"");b.setRelative(f[8]||"");b.setPath(f[9]||"");b.setDirectory(f[10]||"");b.setFile(f[11]||"");b.setQuery(f[12]||"");b.setAnchor(f[13]||"");b.queryPairs={};b.query.replace(u,(c,d,e)=>{d&&(b.queryPairs[d]=e)})},decodeQueryParam:f=>decodeURIComponent(f).split("+").join(" "),getQuery:function(){var f=this.queryPairs;const a=[];for(const b in f)a.push(b+
"="+encodeURIComponent(this.getQueryParam(b)));f=a.join("&");return 0<f.length?"?"+f:f},getQueryParam:function(f){f=this.queryPairs[f];return null==f?void 0:this.decodeQueryParam(f)},getPathParts:function(f){const a=this.path.split("/");if(!f)for(f=a.length;f;)0===a[--f].length&&a.splice(f,1);return a},toString:function(f){const a=this.protocol,b=this.host,c=this.userInfo,d=this.port,e=this.path;f=f?this.query?"?"+this.query:"":this.getQuery();const n=this.anchor;let k="";a&&(k+=a+"://");c&&b&&(k+=
c+"@");b&&(k+=b,d&&(k+=":"+d));e?k+=e:b&&(f||n)&&(k+="/");f&&(k+=f);n&&(k+="#"+n);return k}})})(myt);
(l=>{const u=Math,v=u.PI,q=u.cos,f=u.sin,a=u.sqrt,b=l.Geometry={getClosestPointOnALineToAPoint:(c,d,e,n,k,t,g)=>{e-=c;n-=d;k=(e*(k-c)+n*(t-d))/(e*e+n*n);g&&(k=u.min(1,u.max(0,k)));return{x:c+e*k,y:d+n*k}},isPointInPath:(c,d,e,n)=>{"object"===typeof c&&(n=e,e=d,d=c.y,c=c.x);if(b.rectContainsPoint(c,d,e)&&(e=n.length,6<=e)){let k=!1,t=n[0],g=n[1],m,r;for(;e;)r=n[--e],m=n[--e],r>d!==g>d&&c<(t-m)*(d-r)/(g-r)+m&&(k=!k),t=m,g=r;return k}return!1},rectContainsPoint:(c,d,e,n,k,t)=>{"object"===typeof c&&(t=
k,k=n,n=e,e=d,d=c.y,c=c.x);"object"===typeof e&&(t=e.height,k=e.width,n=e.y,e=e.x);return c>=e&&d>=n&&c<=e+k&&d<=n+t},circleContainsPoint:(c,d,e,n,k)=>b.measureDistance(c,d,e,n,!0)<=k*k,measureDistance:(c,d,e,n,k)=>{c=e-c;d=n-d;d=c*c+d*d;return k?d:a(d)},degreesToRadians:c=>c*v/180,radiansToDegrees:c=>180*c/v,circleContainsLatLng:(c,d,e,n,k,t)=>b.measureLatLngDistance(c,d,e,n,t)<=k,measureLatLngDistance:(c,d,e,n,k)=>{void 0===k&&(k=6371);c=b.degreesToRadians(c);d=b.degreesToRadians(d);e=b.degreesToRadians(e);
n=b.degreesToRadians(n);return k*u.acos(f(c)*f(e)+q(c)*q(e)*q(n-d))},polarToCartesian:(c,d,e,n)=>{null==e&&(e=0);null==n&&(n=0);d%=360;if(0===d)d=c,c=0;else if(90===d)d=0;else if(180===d)d=-c,c=0;else if(270===d)d=0,c=-c;else{const k=b.degreesToRadians(d);d=c*q(k);c*=f(k)}return[e+d,n+c]},cartesianToPolar:(c,d,e,n,k)=>{null==e&&(e=0);null==n&&(n=0);c-=e;n=d-n;d=a(c*c+n*n);n=u.atan2(n,c);0>n&&(n+=2*v);return[d,k?n:b.radiansToDegrees(n)]}}})(myt);
(l=>{const u=JS.Module;l.Observable=new u("Observable",{attachObserver:function(v,q,f){return v&&q&&f?(this.getObservers(f).push(q,v),!0):!1},detachObserver:function(v,q,f){if(v&&q&&f){var a=this.__obsbt;if(a&&(f=a[f])){a=!1;let b=f.length;for(;b;)--b,v===f[b--]&&q===f[b]&&(f.splice(b,2),a=!0);return a}}return!1},detachAllObservers:function(){const v=this.__obsbt;if(v)for(const q in v){const f=v[q];let a=f.length;for(;a;){const b=f[--a],c=f[--a];b&&c&&("function"===typeof b.detachFrom&&b.detachFrom(this,
c,q)||f.splice(a,2))}}},getObservers:function(v){const q=this.__obsbt||(this.__obsbt={});return q[v]||(q[v]=[])},hasObservers:function(v){const q=this.__obsbt;return q?(v=q[v])&&0<v.length:!1},createEvent:function(v,q){return{source:this,type:v,value:q}},isFiringEvent:function(v){return(this.__aet||(this.__aet={}))[v]},fireEvent:function(v,q,f){if(f=f||(this.hasObservers(v)?this.__obsbt[v]:null)){q={source:this,type:v,value:q};const a=this.__aet||(this.__aet={});if(!0===a[v])l.global.error.notifyWarn("eventLoop",
"Abort refiring event:"+v);else{a[v]=!0;let b=f.length;for(;b;){const c=f[--b],d=f[--b];if(c&&d)try{if("function"===typeof d){if(d.call(c,q))break}else if(c[d](q))break}catch(e){l.dumpStack(e)}}a[v]=!1}}}});l.Observer=new u("Observer",{valueFromEvent:v=>v&&"object"===typeof v&&v.type?v.value:v,syncTo:function(v,q,f,a,b){void 0===a&&(a=f);try{this[q](v.createEvent(f,v.get(a)))}catch(c){l.dumpStack(c)}b||this.attachTo(v,q,f,b)},isAttachedTo:function(v,q,f){if(v&&q&&f){var a=this.__obt;if(a&&(f=a[f]))for(a=
f.length;a;)if(--a,v===f[a--]&&q===f[a])return!0}return!1},getObservables:function(v){const q=this.__obt||(this.__obt={});return q[v]||(q[v]=[])},hasObservables:function(v){const q=this.__obt;return q?(v=q[v])&&0<v.length:!1},attachTo:function(v,q,f,a){if(v&&q&&f){const b=this.getObservables(f);if(a){const c=this,d=q;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);q="__DO_ONCE_"+this.__methodNameCounter++;this[q]=e=>{c.detachFrom(v,q,f);delete c[q];return c[d](e)}}if(v.attachObserver(this,
q,f))return b.push(q,v),!0}return!1},detachFrom:function(v,q,f){if(v&&q&&f){var a=this.__obt;if(a&&(a=a[f])){let b=!1,c=a.length;for(;c;)--c,v===a[c--]&&q===a[c]&&v.detachObserver(this,q,f)&&(a.splice(c,2),b=!0);return b}}return!1},detachFromAllObservables:function(){const v=this.__obt;if(v)for(const q in v){const f=v[q];let a=f.length;for(;a;)f[--a].detachObserver(this,f[--a],q);f.length=0}},constrain:function(v,q){if(v&&q){const a=q.length;if(0!==a%2)console.log("Observables uneven",this);else{var f=
this.__cbmn||(this.__cbmn={});f=f[v]||(f[v]=[]);if(0<f.length)console.log("Constraint exists for "+v+" on "+this);else{for(let b=0;a!==b;){const c=q[b++],d=q[b++];c&&d&&(this.attachTo(c,v,d),f.push(c,d))}try{this[v]()}catch(b){l.dumpStack(b)}}}}},releaseConstraint:function(v){if(v){var q=this.__cbmn;if(q&&(q=q[v])){let f=q.length;for(;f;){const a=q[--f],b=q[--f];this.detachFrom(b,v,a)}q.length=0}}},releaseAllConstraints:function(){const v=this.__cbmn;if(v)for(const q in v)this.releaseConstraint(q)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(l,u){this.hasOwnProperty(l)&&(console.warn("Global key in use",l),this.unregister(l));this[l]=u;this.fireEvent("register"+l,u)},unregister:function(l){if(this.hasOwnProperty(l)){const u=this[l];delete this[l];this.fireEvent("unregister"+l,u)}else console.warn("Global key not in use",l)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(l){this.consoleLogging=l},setStackTraceLimit:function(l){Error.stackTraceLimit=this.stackTraceLimit=l},notifyError:function(l,u,v){this.notify("error",l,u,v)},notifyWarn:function(l,u,v){this.notify("warn",l,u,v)},notifyMsg:function(l,u,v){this.notify("log",l,u,v)},notifyDebug:function(l,u,v){this.notify("debug",
l,u,v)},notify:function(l,u,v,q){q||=Error(v||u);q=q.stack||q.stacktrace;this.fireEvent(u||"error",{msg:v,stacktrace:q});if(this.consoleLogging&&l)console[l](q)}});
(l=>{const u=global,v=u.getComputedStyle,q=document,f=Math.max,a=l.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(b,c,d)=>{b=q.createElement(b);if(d)for(const e in d)b[e]=d[e];if(c)for(const e in c)b.style[e]=c[e];return b},isDomElementVisible:b=>{if("INPUT"===b.nodeName&&"hidden"===b.type)return!1;for(;b;){if(b===q)return!0;const c=v(b);if("none"===c.display||"hidden"===c.visibility)break;b=b.parentNode}return!1},getZIndexRelativeToAncestor:(b,c)=>{if(b&&c)for(b=a.getAncestorArray(b,
c),c=b.length-1;c;){const d=v(b[--c]),e=d.zIndex,n="auto"===e;if(0===c||!n||1!==parseInt(d.opacity,10))return n?0:parseInt(e,10)}return 0},getAncestorArray:(b,c)=>{const d=[];for(;b;){d.push(b);if(b===c)break;b=b.parentNode}return d},getHighestZIndex:b=>{var c=v(b);let d=c.zIndex;var e="auto"===d;if(e&&1===parseInt(c.opacity,10))for(d=0,b=b.childNodes,c=b.length;c;)e=b[--c],1===e.nodeType&&(d=f(d,a.getHighestZIndex(e)));else d=e?0:parseInt(d,10);return d},getRelativePosition:(b,c)=>{if(b){let d=0,
e=0;for(;b&&"BODY"!==b.nodeName&&b!==c;)if(d+=b.offsetLeft,e+=b.offsetTop,(b=b.offsetParent)&&"BODY"!==b.nodeName){const n=v(b);d+=parseInt(n.borderLeftWidth,10)-b.scrollLeft;e+=parseInt(n.borderTopWidth,10)-b.scrollTop}return{x:d,y:e}}},getTruePosition:b=>{if(b)return b=b.getBoundingClientRect(),{x:b.left+u.scrollX,y:b.top+u.scrollY}},simulateDomEvent:(b,c,d)=>{if(b){const e={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},n={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(d)for(const t in d)e[t]=d[t];let k;for(const t in n)if(n[t].test(c)){k=t;break}if(!k)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(q.createEvent)d=q.createEvent(k),"HTMLEvents"===k?d.initEvent(c,e.bubbles,e.cancelable):d.initMouseEvent(c,e.bubbles,e.cancelable,q.defaultView,e.button,e.pointerX,e.pointerY,e.pointerX,e.pointerY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),b.dispatchEvent(d);
else{e.clientX=e.pointerX;e.clientY=e.pointerY;d=q.createEventObject();for(const t in e)d[t]=e[t];b.fireEvent("on"+c,d)}}},getScrollbarSize:l.memoize(()=>{const b=q.body,c=a.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});b.appendChild(c);const d=c.offsetWidth-c.clientWidth;b.removeChild(c);return d})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(b){const c=
Array.isArray(b),d=this.__oE=c?b[0]:b;b=this.__iE=c?b[1]:b;this.__iS=b.style;this.__oS=d.style;b.model=d.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(b){this.__iE.className=this.domClass=b},addDomClass:function(b){const c=this.__iE.className;this.setDomClass((c?c+" ":"")+b)},removeDomClass:function(b){var c=
this.__iE.className;if(c){c=c.split(" ");let d=c.length;for(;d;)c[--d]===b&&c.splice(d,1);this.setDomClass(c.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(b){this.__iE.id=this.domId=b},setZIndex:function(b){this.__oS.zIndex=b},setStyleProperty:function(b,c){this.__iS[b]=c},getPagePosition:function(b){return a["get"+(b?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){a.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return a.getHighestZIndex(this.__iE)},
getHighestChildZIndex:function(b){const c=this.__iE.childNodes;let d=c.length,e=0;for(;d;){const n=c[--d];1===n.nodeType&&n!==b&&(e=f(e,a.getHighestZIndex(n)))}return e},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(b,c){(c?this.__iE:this.__oE).scrollTop=b||0}})})(myt);
(l=>{let u;const v=f=>{for(;f.lastChild;)f=f.lastChild;return f},q=(f,a)=>{u.lastTraversalWasForward=f;let b=document.body,c=b;var d=document.activeElement;let e=c,n;const k=f?"getNextFocus":"getPrevFocus";d&&(e=c=d,(d=c.model)||(d=u.findModelForDomElement(c)),d&&(a=d.getFocusTrap(a))&&(b=a.getIDE()));for(;e;){if(e.model&&e.model[k]&&(n=e.model[k]()))e=n.getIDE();else if(f)if(e.firstChild)e=e.firstChild;else{if(e===b)return c.model;if(e.nextSibling)e=e.nextSibling;else for(;e&&(e=e.parentNode,e!==
b);)if(e.nextSibling){e=e.nextSibling;break}}else e=e===b?v(b):e.previousSibling?v(e.previousSibling):e.parentNode;if(e===c)return c.model;if(1===e.nodeType)if((d=e.model)&&d instanceof l.View){if(d.isFocusable())return d}else if(a=e.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||e.disabled||isNaN(e.tabIndex)||!l.DomElementProxy.isDomElementVisible(e)||(d=u.findModelForDomElement(e),d&&d.searchAncestorsOrSelf(t=>!0===t.maskFocus)))){e.focus();u.focusedDom=
e;break}}};new JS.Singleton("GlobalFocus",{include:[l.Observable],initialize:function(){this.lastTraversalWasForward=!0;l.global.register("focus",u=this)},setFocusedView:f=>{if(u.focusedView!==f){u.prevFocusedView=u.focusedView;if(u.focusedView=f)u.focusedDom=null;u.fireEvent("focused",f)}},notifyFocus:f=>{u.focusedView!==f&&u.setFocusedView(f)},notifyBlur:f=>{u.focusedView===f&&u.setFocusedView(null)},clear:()=>{u.focusedView?u.focusedView.blur():u.focusedDom&&(u.focusedDom.blur(),u.focusedDom=null)},
next:f=>{(f=q(!0,f))&&f.focus()},prev:f=>{(f=q(!1,f))&&f.focus()},findModelForDomElement:f=>{for(;f;){let a=f.model;if(a&&a instanceof l.View)return a;f=f.parentNode}}})})(myt);
(l=>{const u=JS.Module,v=l.global,q=v.focus,f=()=>({source:null,type:null,value:null}),a=l.KeyObservable=new u("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:f(),getKeyFromEvent:t=>t.value.key,getCodeFromEvent:t=>t.value.code,isEnterKeyEvent:t=>t.value.code===v.keys.CODE_ENTER,isEscKeyEvent:t=>t.value.code===v.keys.CODE_ESC,isShiftKeyEvent:t=>v.keys.isShiftCode(t.value.code)},createDomHandler:function(t,g,m){return this.createStandardDomHandler(t,g,m,a)||this.callSuper(t,
g,m)}}),b=l.MouseObservable=new u("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:f(),getMouseFromEvent:t=>({x:t.value.pageX,y:t.value.pageY}),getMouseFromEventRelativeToView:(t,g)=>{g=g.getPagePosition();t=b.getMouseFromEvent(t);t.x-=g.x;t.y-=g.y;return t}},createDomHandler:function(t,g,m){return this.createStandardDomHandler(t,g,m,b,!0)||this.callSuper(t,g,m)}}),c=l.ScrollObservable=new u("ScrollObservable",
{extend:{EVENT_TYPES:{scroll:!0},EVENT:f(),getScrollFromEvent:t=>{t=t.value;t=t.target||t.srcElement;return{x:t.scrollLeft,y:t.scrollTop}}},createDomHandler:function(t,g,m){return this.createStandardDomHandler(t,g,m,c)||this.callSuper(t,g,m)}}),d=l.TouchObservable=new u("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:f()},createDomHandler:function(t,g,m){return this.createStandardDomHandler(t,g,m,d,!1)||this.callSuper(t,g,m)}}),e=l.FocusObservable=
new u("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:f()},initNode:function(t,g){this.focusable=!1;this.focusIndicator=!0;this.callSuper(t,g)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(t){this.focused!==t&&(this.focused=t,this.inited&&(this.fireEvent("focused",t),t?q.notifyFocus(this):q.notifyBlur(this)))},setFocusable:function(t){if(this.focusable!==t){const g=this.focusable;(this.focusable=t)?(this.getIDE().tabIndex=0,this.attachToDom(this,"__doFocus",
"focus"),this.attachToDom(this,"__doBlur","blur")):g&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",t)}},setFocusIndicator:function(t){this.focusIndicator!==t&&(this.focusIndicator=t,this.focused&&(t?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(q.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(t=>!0===t.maskFocus)},focus:function(t){this.isFocusable()&&this.getIDE().focus({preventScroll:t})},blur:function(){this.getIDE().blur()},__doFocus:function(t){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(t){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const t=this.getIDS();t.outlineWidth="thin";t.outlineColor="#8bf";t.outlineStyle="solid";t.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(t,g,m){if(e.EVENT_TYPES[m]){const r=this;return p=>{p||(p=window.event);if(r._ignoreFocus)p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation(),
p.preventDefault();else{var w=e.EVENT;w.source=r;w.type=p.type;w.value=p;t[g](w)||(p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation());w.source=void 0}}}return this.callSuper(t,g,m)}}),n=l.InputObservable=new u("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:f()},createDomHandler:function(t,g,m){return this.createStandardDomHandler(t,g,m,n)||this.callSuper(t,g,m)}}),k=l.DragDropObservable=new u("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,
dragover:!0,drop:!0},EVENT:f()},createDomHandler:function(t,g,m){return this.createStandardDomHandler(t,g,m,k,!0)||this.callSuper(t,g,m)}});l.DomObservable=new u("DomObservable",{attachDomObserver:function(t,g,m,r,p){if(t&&g&&m){r=!!r;const w=this.createDomHandler(t,g,m);if(w){const z=this.__dobsbt||(this.__dobsbt={}),y=z[m];y?y.push(t,g,w,r):z[m]=[t,g,w,r];l.addEventListener(this.getDomElementForDomObservable(m),m,w,r,p);return!0}}return!1},getDomElementForDomObservable:function(t){return this.getIDE()},
createDomHandler:(t,g,m)=>null,createStandardDomHandler:function(t,g,m,r,p){if(r.EVENT_TYPES[m]){const w=this,z=r.EVENT;return y=>{y||(y=window.event);z.source=w;z.type=y.type;z.value=y;t[g](z)||(y.cancelBubble=!0,y.stopPropagation&&y.stopPropagation(),p&&y.preventDefault());z.source=void 0}}},detachDomObserver:function(t,g,m,r){if(t&&g&&m){r=!!r;var p=this.__dobsbt;if(p&&(p=p[m])){const w=this.getDomElementForDomObservable(m);let z=!1,y=p.length;for(;y;)y-=4,t===p[y]&&g===p[y+1]&&r===p[y+3]&&(w&&
l.removeEventListener(w,m,p[y+2],r),p.splice(y,4),z=!0);return z}}return!1},detachAllDomObservers:function(){const t=this.__dobsbt;if(t)for(const g in t){const m=t[g];let r=m.length;for(;r;){const p=m[--r],w=m[--r];r-=2;l.removeEventListener(this.getDomElementForDomObservable(g),g,w,p)}m.length=0}}});l.DomObserver=new u("DomObserver",{attachToDom:function(t,g,m,r,p){if(t&&g&&m){r=!!r;var w=this.__dobt||(this.__dobt={});w=w[m]||(w[m]=[]);t.attachDomObserver(this,g,m,r,p)&&w.push(r,g,t)}},detachFromDom:function(t,
g,m,r){if(t&&g&&m){r=!!r;var p=this.__dobt;if(p&&(p=p[m])){let w=!1,z=p.length;for(;z;)z-=3,t===p[z+2]&&g===p[z+1]&&r===p[z]&&t.detachDomObserver(this,g,m,r)&&(p.splice(z,3),w=!0);return w}}return!1},detachFromAllDomSources:function(){const t=this.__dobt;if(t)for(const g in t){const m=t[g];let r=m.length;for(;r;)m[--r].detachDomObserver(this,m[--r],g,m[--r]);m.length=0}}})})(myt);
(l=>{let u,v={};const q=l.global,f=q.focus,a="Firefox"===BrowserDetect.browser,b=a?"OSLeft":"MetaLeft",c=a?"OSRight":"MetaRight",d=l.KeyObservable.getCodeFromEvent,e=()=>!!v.ShiftLeft||!!v.ShiftRight,n=()=>!!v.ControlLeft||!!v.ControlRight,k=()=>!!v.AltLeft||!!v.AltRight,t=()=>!!v[b]||!!v[c],g=(r,p)=>{switch(r){case "Backspace":return r=p.nodeName,!("TEXTAREA"===r||"INPUT"===r&&("text"===p.type||"password"===p.type)||"DIV"===r&&"true"===p.contentEditable&&p.firstChild);case "Tab":return!0}return!1},
m=(r,p)=>{["keydown","keypress","keyup"].forEach(w=>{u[p](r,"__hndl_"+w,w)})};new JS.Singleton("GlobalKeys",{include:[l.DomElementProxy,l.DomObservable,l.DomObserver,l.KeyObservable,l.Observable,l.Observer],initialize:function(){q.register("keys",u=this);u.CODE_ENTER="Enter";u.CODE_ESC="Escape";u.CODE_SPACE="Space";u.CODE_ARROW_LEFT="ArrowLeft";u.CODE_ARROW_UP="ArrowUp";u.CODE_ARROW_RIGHT="ArrowRight";u.CODE_ARROW_DOWN="ArrowDown";u.CODE_DELETE="Delete";u.CODE_BACKSPACE="Backspace";"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(r=>
{u["CODE_"+r]="Key"+r});"1234567890".split("").forEach(r=>{u["CODE_"+r]="Digit"+r});u.ARROW_KEYS=[u.CODE_ARROW_LEFT,u.CODE_ARROW_UP,u.CODE_ARROW_RIGHT,u.CODE_ARROW_DOWN];u.LIST_KEYS=[u.CODE_ENTER,u.CODE_SPACE,u.CODE_ESC].concat(u.ARROW_KEYS);u.setDomElement(document);u.attachTo(f,"__hndl_focused","focused");m(u,"attachToDom");global.onblur=()=>{v={}}},isShiftKeyDown:e,isControlKeyDown:n,isAltKeyDown:k,isMetaKeyDown:t,isShiftCode:r=>"ShiftLeft"===r||"ShiftRight"===r,isControlCode:r=>"ControlLeft"===
r||"ControlRight"===r,isAltCode:r=>"AltLeft"===r||"AltRight"===r,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?t():n(),ignoreFocusTrap:()=>k(),__hndl_focused:r=>{(r=r.value)?(m(u,"detachFromDom"),m(r,"attachToDom")):((r=f.prevFocusedView)&&m(r,"detachFromDom"),m(u,"attachToDom"))},__hndl_keydown:r=>{const p=d(r);r=r.value;g(p,r.target)&&r.preventDefault();t()&&"ShiftLeft"!==p&&"ShiftRight"!==p&&"ControlLeft"!==p&&"ControlRight"!==p&&"AltLeft"!==p&&"AltRight"!==p?(u.fireEvent("keydown",p),u.fireEvent("keyup",
p)):(v[p]=!0,"Tab"===p&&(r=k(),e()?f.prev(r):f.next(r)),u.fireEvent("keydown",p))},__hndl_keypress:r=>{u.fireEvent("keypress",d(r))},__hndl_keyup:r=>{const p=d(r);r=r.value;g(p,r.target)&&r.preventDefault();v[p]=!1;u.fireEvent("keyup",p)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(l=>{const u=JS.Module,v=a=>{a.getSubviews().forEach(b=>{b&&b.syncInnerToOuter&&!b.ignoreFlex&&(b.syncInnerToOuter(),b.syncModelToOuterBounds())})},q=a=>{a.isChildOfFlexBox()&&(a.getODS().position=a.visible?"":"absolute")},f=l.FlexBoxSupport=new u("FlexBoxSupport",{initNode:function(a,b){this.rowGap=this.columnGap=0;this.callSuper(a,b);v(this)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&v(this)},setHeight:function(a,b){this.callSuper(a,b);this.inited&&v(this)},setRowGap:function(a){this.rowGap!==
a&&(this.getIDS().rowGap=(this.rowGap=a)+"px",this.inited&&(this.fireEvent("rowGap",a),v(this)))},setColumnGap:function(a){this.columnGap!==a&&(this.getIDS().columnGap=(this.columnGap=a)+"px",this.inited&&(this.fireEvent("columnGap",a),v(this)))},setFlexDirection:function(a){if(this.flexDirection!==a){let b=this.flexDirection=a;switch(b){case "rowReverse":b="row-reverse";break;case "columnReverse":b="column-reverse"}this.getIDS().flexDirection=b;this.inited&&(this.fireEvent("flexDirection",a),v(this))}},
setFlexWrap:function(a){if(this.flexWrap!==a){let b=this.flexWrap=a;switch(b){case "wrapReverse":case "reverse":b="wrap-reverse"}this.getIDS().flexWrap=b;this.inited&&(this.fireEvent("flexWrap",a),v(this))}},setJustifyContent:function(a){if(this.justifyContent!==a){let b=this.justifyContent=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end";break;case "spaceBetween":case "between":b="space-between";break;case "spaceAround":case "around":b="space-around";break;case "spaceEvenly":case "evenly":b=
"space-evenly"}this.getIDS().justifyContent=b;this.inited&&(this.fireEvent("justifyContent",a),v(this))}},setAlignItems:function(a){if(this.alignItems!==a){let b=this.alignItems=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end"}this.getIDS().alignItems=b;this.inited&&(this.fireEvent("alignItems",a),v(this))}},setAlignContent:function(a){if(this.alignContent!==a){let b=this.alignContent=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end";break;case "spaceBetween":case "between":b=
"space-between";break;case "spaceAround":case "around":b="space-around"}this.getIDS().alignContent=b;this.inited&&(this.fireEvent("alignContent",a),v(this))}},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.display="flex";return a},subviewAdded:function(a){a&&!a.ignoreFlex&&(a.getODS().position="",this.inited&&v(this))},syncSubviews:function(){v(this)},subviewRemoved:a=>{!a||a.destroyed||a.ignoreFlex||(a.getODS().position="absolute")}});l.FlexBoxChildSupport=new u("FlexBoxChildSupport",
{setParent:function(a){var b=this.isChildOfFlexBox();this.callSuper(a);this.__parentIsFlexBox=this.parent&&this.parent.isA(f);this.inited&&b&&!this.isChildOfFlexBox()&&(a=this.getIDS(),b=this.getODS(),"auto"!==a.width&&(b.width=this.width+"px"),"auto"!==a.height&&(b.height=this.height+"px"),this.syncInnerToOuter());q(this)},setVisible:function(a){this.callSuper(a);q(this)},setWidth:function(a,b){null==a||""===a?(this.getODS().width="",this.syncModelToOuterBounds(!1,!0)):this.callSuper(a,b);this.syncInnerToOuter(!1,
!0)},setHeight:function(a,b){null==a||""===a?(this.getODS().height="",this.syncModelToOuterBounds(!0,!1)):this.callSuper(a,b);this.syncInnerToOuter(!0,!1)},setFlexGrow:function(a){this.flexGrow!==a&&(this.getODS().flexGrow=this.flexGrow=a,this.inited&&(this.fireEvent("flexGrow",a),(a=this.parent)&&a.syncSubviews&&a.syncSubviews()))},setFlexShrink:function(a){this.flexShrink!==a&&(this.getODS().flexShrink=this.flexShrink=a,this.inited&&(this.fireEvent("flexShrink",a),(a=this.parent)&&a.syncSubviews&&
a.syncSubviews()))},setAlignSelf:function(a){if(this.alignSelf!==a){let b=this.alignSelf=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end"}this.getODS().alignSelf=b;this.inited&&this.fireEvent("alignSelf",a)}},isChildOfFlexBox:function(){return this.__parentIsFlexBox},syncModelToOuterBounds:function(a,b){const c=this.getODE(),d=this.getIDS();a||("auto"===d.width?this.getODS().width="auto":this.setInnerWidth(c.clientWidth),this.fireEvent("width",this.width=c.clientWidth));b||("auto"===
d.height?this.getODS().height="auto":this.setInnerHeight(c.clientHeight),this.fireEvent("height",this.height=c.clientHeight))},syncInnerToOuter:function(a,b){const c=this.getIDS(),d=this.getODE();a||"auto"===c.width||this.setInnerWidth(d.clientWidth);b||"auto"===c.height||this.setInnerHeight(d.clientHeight)},setInnerWidth:function(a){this.getIDS().width=a+"px"},setInnerHeight:function(a){this.getIDS().height=a+"px"},createOurDomElement:function(a){a=this.callSuper(a);const b=document.createElement("div");
b.style.position="relative";a.appendChild(b);return[a,b]}})})(myt);
(l=>{const u=Array.prototype,v={},q={},f=(d,e)=>e+d.substring(0,1).toUpperCase()+d.substring(1),a=d=>q[d]||(q[d]=f(d,"set")),b=d=>v[d]||(v[d]=f(d,"get")),c=(d,e,n)=>{null==d[e]&&(d[e]=n)};l.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:a,generateGetterName:b,generateName:f,createSetterFunction:(d,e)=>{const n=a(e);d[n]&&console.log("Overwriting setter",n);d[n]=k=>{d[e]!==k&&(d[e]=k,d.inited&&d.fireEvent(e,k))}},createGetterFunction:(d,e)=>{const n=b(e);d[n]&&console.log("Overwriting getter",
n);d[n]=()=>d[e]},defAttr:c},appendToEarlyAttrs:function(){u.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){u.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){u.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){u.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:c,quickSet:function(d,e){(d||[]).forEach(n=>{this[n]=e[n];delete e[n]})},callSetters:function(d){var e=
this.earlyAttrs;const n=this.lateAttrs;let k;var t;if(e||n){var g={};for(t in d)g[t]=d[t];d=g;if(e)for(g=0,t=e.length;t>g;){const m=e[g++];m in d&&(this.set(m,d[m]),delete d[m])}if(n)for(k=[],g=0,t=n.length;t>g;)e=n[g++],e in d&&(k.push(e,d[e]),delete d[e])}for(const m in d)this.set(m,d[m]);if(k)for(g=0,t=k.length;t>g;)this.set(k[g++],k[g++])},get:function(d){const e=b(d);return this[e]?this[e]():this[d]},set:function(d,e,n){if(!n&&(n=a(d),this[n]))return this[n](e);this[d]!==e&&(this[d]=e,!1!==this.inited&&
this.fireEvent&&this.fireEvent(d,e))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let l,u;const v=this.__meta__;if(v)for(l=Object.keys(v),u=l.length;u;)delete v[l[--u]];l=Object.keys(this);for(u=l.length;u;)delete this[l[--u]];this.destroyed=!0}}});
(l=>{const u=JS.Class,v=JS.Module,q=new u("AbstractPool",{include:[l.Destructible],initialize:()=>{},destroy:function(){const c=this.__op;c&&(c.length=0);this.callSuper()},getInstance:function(){const c=this.__op||(this.__op=[]);return c.length?c.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(c){(this.__op||(this.__op=[])).push(this.cleanInstance(c))},cleanInstance:c=>{"function"===typeof c.clean&&c.clean();return c},destroyPooledInstances:function(){var c=
this.__op;if(c){let d=c.length;for(;d;){const e=c[--d];"function"===typeof e.destroy&&e.destroy()}}}}),f=l.SimplePool=new u("SimplePool",q,{initialize:function(c,d){this.callSuper();this.instanceClass=c||Object;this.instanceParent=d},createInstance:function(c){var d=this.instanceParent,e=this.instanceClass;return d?new e(d,c):new e}}),a=new v("TrackActives",{destroy:function(){const c=this.__actives;c&&(c.length=0);this.callSuper()},getInstance:function(){const c=this.callSuper();(this.__actives||
(this.__actives=[])).push(c);return c},putInstance:function(c){var d=this.__actives;if(d){let e=d.length;for(;e;)if(d[--e]===c){d.splice(e,1);this.callSuper(c);return}d="inactive"}else d="missing";console.warn("Tried to put a "+d+" instance",c,this)},getActives:function(c){const d=this.__actives;if(d){if(c){const e=[],n=d.length;for(let k=0;n>k;){const t=d[k++];c.call(this,t)&&e.push(t)}return e}return d.concat()}return[]},putActives:function(){const c=this.__actives;if(c){let d=c.length;for(;d;)this.putInstance(c[--d])}}}),
b=l.TrackActivesPool=new u("TrackActivesPool",f,{include:[a]});l.TrackActivesMultiPool=new u("TrackActivesMultiPool",q,{initialize:function(c,d){this.callSuper();this.instanceClassesByKey=c;const e=this._poolsByClassName={},n=this.__pbk={};for(const k in c){const t=c[k];n[k]=e[t.__displayName]=new b(t,d)}},destroy:function(){const c=this.__pbk;for(const d in c)c[d].destroy();this.callSuper()},getInstance:function(){const c=arguments[0],d=this.__pbk[c];if(d)return d.getInstance(arguments);console.warn("No pool for key",
c)},putInstance:function(c){const d=this._poolsByClassName[c.klass.__displayName];d?d.putInstance(c):console.warn("No pool for obj",c)},destroyPooledInstances:function(){const c=this.__pbk;for(const d in c)c[d].destroyPooledInstances()},getActives:function(c){let d=[];const e=this.__pbk;for(const n in e)d=d.concat(e[n].getActives(c));return d},putActives:function(){const c=this.__pbk;for(const d in c)c[d].putActives()}});l.Reusable=new v("Reusable",{clean:()=>{}})})(myt);
(l=>{const u=(a,b)=>{if(b)for(;a;){if(b(a))return a;a=a.parent}},v=(a,b)=>{const c=b.name;void 0===a[c]?a[c]=b:console.warn("Name in use",c)},q=(a,b)=>{const c=b.name;a[c]===b?delete a[c]:console.warn("Name not in use",c)},f=a=>a.__animPool||(a.__animPool=new l.TrackActivesPool(l.Animator,a));l.Node=new JS.Class("Node",{include:[l.AccessorSupport,l.Destructible,l.Observable,l.Observer],extend:{getMatchingAncestorOrSelf:u,getMatchingAncestor:(a,b)=>u(a?a.parent:null,b)},initialize:function(a,b,c){if(c){const d=
c.length;for(let e=0,n;d>e;)(n=c[e++])?this.extend(n):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.initNode(a,b||{})},initNode:function(a,b){this.callSetters(b);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let b=a.length;for(;b;)a[--b].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();
this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var b=this.placement||a.defaultPlacement;b&&(a=a.determinePlacement(b,this))}if(!(this.parent===a||a&&a.destroyed)){if(b=this.parent){let c=b.getSubnodeIndex(this);0<=c&&(this.name&&q(b,this),b.subnodes.splice(c,
1),b.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&v(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const b=this.parent;b&&this.name&&q(b,this);this.name=a;b&&a&&v(b,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,b){let c=a.indexOf("."),d;0<=c&&(d=a.substring(c+1),a=a.substring(0,c));"*"===a&&(a=this.defaultPlacement)&&(c=a.indexOf("."),0<=c&&(d=a.substring(c+
1)+(d?"."+d:""),a=a.substring(0,c)));return(a=this[a])?d?a.determinePlacement(d,b):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;
a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(b=>b instanceof a)},searchAncestors:function(a){return u(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return u(this,a)},getAncestors:function(){const a=[];let b=this;for(;b;)a.push(b),b=b.parent;return a},hasSubnode:function(a){return 0<=this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent===
this)return a.setParent(),a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,b,c,d,e){return"object"===typeof a?this.animate(a):this.animate({attribute:a,to:b,from:c,duration:d,easingFunction:e})},animate:function(a){if(a){const b=f(this),c=b.getInstance({ignorePlacement:!0}),d=a.callback;delete a.callback;c.callSetters(a);c.next(e=>{b.putInstance(c)});d&&c.next(d);c.setRunning(!0);return c}},getActiveAnimators:function(a){if("string"===typeof a){const b=a;a=c=>c.attribute===b}return f(this).getActives(a)},
stopActiveAnimators:function(a,b=!1){a=this.getActiveAnimators(a);let c=a.length;if(0<c){const d=f(this);for(;c;){const e=a[--c];e.reset(b);b||d.putInstance(e)}}},doOnceOnIdle:function(a){this.attachTo(l.global.idle,a,"idle",!0)}})})(myt);
(l=>{let u=0,v=!1;const q=JS.Class,f=[],a=k=>{if(v!==k&&(v=k,!k)){for(k=f.length;k;){const t=f[--k];t.__deferredLayout=!1;t.update()}f.length=0}},b=(k,t,g,m)=>{const r=k.getSubviewIndex(t),p=k.subviews;0<=r&&(k=k.getSubviewIndex(g),p.splice(r,1),0<=k?(r<k&&--k,p.splice(k+(m?1:0),0,t)):m?p.push(t):p.unshift(t))},c=(k,t,g)=>{k[t]!==g&&(k[t]=g,k.inited&&(k.fireEvent(t,g),k.update()))},d=l.Layout=new q("Layout",l.Node,{extend:{incrementGlobalLock:()=>{1===++u&&a(!0)},decrementGlobalLock:()=>{0<u&&0===
--u&&a(!1)}},initNode:function(k,t){this.subviews=[];this.locked=!0;this.lockedCounter=1;const g=!0===t.locked;delete t.locked;this.callSuper(k,t);g||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(k){var t=this.parent;if(t!==k){const g=!this.locked;g&&(this.locked=!0);let m,r;if(t){m=this.subviews;for(r=m.length;r;)this.removeSubview(m[--r]);this.detachFrom(t,"__hndlPSA","subviewAdded");this.detachFrom(t,"__hndlPSR","subviewRemoved")}this.callSuper(k);
if(k=this.parent){m=k.getSubviews();r=0;for(t=m.length;t>r;)this.addSubview(m[r++]);this.attachTo(k,"__hndlPSA","subviewAdded");this.attachTo(k,"__hndlPSR","subviewRemoved")}g&&(this.locked=!1,this.inited&&k&&this.update())}},canUpdate:function(){return v?(this.__deferredLayout||(f.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(k){return 0<=this.getSubviewIndex(k)},getSubviewIndex:function(k){return this.subviews.indexOf(k)},addSubview:function(k){this.ignore(k)||
(this.subviews.push(k),this.startMonitoringSubview(k),this.locked||this.update())},startMonitoringSubview:k=>{},startMonitoringAllSubviews:function(){const k=this.subviews;let t=k.length;for(;t;)this.startMonitoringSubview(k[--t])},removeSubview:function(k){if(this.ignore(k))return-1;const t=this.getSubviewIndex(k);0<=t&&(this.stopMonitoringSubview(k),this.subviews.splice(t,1),this.locked||this.update());return t},stopMonitoringSubview:k=>{},stopMonitoringAllSubviews:function(){const k=this.subviews;
let t=k.length;for(;t;)this.stopMonitoringSubview(k[--t])},ignore:k=>k.ignoreLayout,__hndlPSA:function(k){k=k.value;k.parent===this.parent&&this.addSubview(k)},__hndlPSR:function(k){k=k.value;k.parent===this.parent&&this.removeSubview(k)},sortSubviews:function(k){this.subviews.sort(k)},moveSubviewBefore:function(k,t){b(this,k,t,!1)},moveSubviewAfter:function(k,t){b(this,k,t,!0)}});var e=l.ConstantLayout=new q("ConstantLayout",d,{setTargetAttrName:function(k){this.setterName=l.AccessorSupport.generateSetterName(k);
c(this,"targetAttrName",k)},setTargetValue:function(k){c(this,"targetValue",k)},update:function(){if(this.canUpdate()){const k=this.setterName,t=this.targetValue,g=this.subviews,m=g.length;if(k)for(let r=0;m>r;)g[r++][k](t)}}});e=l.VariableLayout=new q("VariableLayout",e,{initNode:function(k,t){this.collapseParent=this.reverse=!1;this.callSuper(k,t)},setCollapseParent:function(k){c(this,"collapseParent",k)},setReverse:function(k){c(this,"reverse",k)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const t=this.setterName,g=this.subviews;var k=g.length;let m=this.targetValue,r,p=0;if(this.reverse)for(r=k;r;)k=g[--r],this.skipSubview(k)||(m=this.updateSubview(++p,k,t,m));else for(r=0;k>r;){const w=g[r++];this.skipSubview(w)||(m=this.updateSubview(++p,w,t,m))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(t,m);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(k){this.attachTo(k,
"update","visible")},stopMonitoringSubview:function(k){this.detachFrom(k,"update","visible")},updateSubview:(k,t,g,m)=>{t[g](m);return m},skipSubview:k=>!k.visible,updateParent:(k,t)=>{}});const n=l.SpacedLayout=new q("SpacedLayout",e,{initNode:function(k,t){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(k,t)},setTargetAttrName:function(k){if(this.targetAttrName!==
k){const t="y"===k,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=t?"boundsHeight":"boundsWidth";this.measureAttrBaseName=t?"height":"width";this.parentSetterName=t?"setHeight":"setWidth";g&&this.startMonitoringAllSubviews();this.callSuper(k)}},setNoAddSubviewOptimization:function(k){this.noAddSubviewOptimization=k},setAxis:function(k){this.setTargetAttrName(this.axis=k)},setInset:function(k){this.setTargetValue(this.inset=k)},setSpacing:function(k){c(this,"spacing",k)},setOutset:function(k){c(this,
"outset",k)},addSubview:function(k){const t=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(k);this.locked=t},startMonitoringSubview:function(k){this.attachTo(k,"update",this.measureAttrName);this.callSuper(k)},stopMonitoringSubview:function(k){this.detachFrom(k,"update",this.measureAttrName);this.callSuper(k)},updateSubview:function(k,t,g,m){k=t[this.measureAttrName];t[g](m+(k-t[this.measureAttrBaseName])/2);return m+k+this.spacing},updateParent:function(k,t){this.parent[this.parentSetterName](t+
this.outset-this.spacing)}});l.ResizeLayout=new q("ResizeLayout",n,{setCollapseParent:k=>{},setTargetAttrName:function(k){if(this.targetAttrName!==k){if(this.inited){const t="x"===k;this.stopMonitoringParent(t?"height":"width");this.startMonitoringParent(t?"width":"height")}this.callSuper(k)}},setParent:function(k){if(this.parent!==k){const t="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(t);this.callSuper(k);this.parent&&this.startMonitoringParent(t)}},startMonitoringParent:function(k){this.attachTo(this.parent,
"update",k)},stopMonitoringParent:function(k){this.detachFrom(this.parent,"update",k)},doBeforeUpdate:function(){const k=this.measureAttrName,t=this.subviews;let g=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,m=t.length,r=0,p=0;for(;m;){const w=t[--m];this.skipSubview(w)||(++r,0<w.layoutHint?p+=w.layoutHint:g-=w[k])}0!==r&&(this.remainder=g-=(r-1)*this.spacing,this.resizeSum=p,this.scalingFactor=g/p,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===k?
"setWidth":"setHeight")},updateSubview:function(k,t,g,m){var r=t.layoutHint;0<r&&(this.resizeSumUsed+=r,r=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(r*this.scalingFactor),this.remainderUsed+=r,t[this.measureSetter](r));return this.callSuper(k,t,g,m)},startMonitoringSubview:function(k){0<k.layoutHint||this.attachTo(k,"update",this.measureAttrName);this.attachTo(k,"update","visible")},stopMonitoringSubview:function(k){0<k.layoutHint||this.detachFrom(k,"update",
this.measureAttrName);this.detachFrom(k,"update","visible")},updateParent:(k,t)=>{}});l.AlignedLayout=new q("AlignedLayout",e,{initNode:function(k,t){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(k,t)},setTargetAttrName:function(k){if(this.targetAttrName!==k){const t="y"===k,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=
t?"boundsHeight":"boundsWidth";this.measureAttrBaseName=t?"height":"width";this.parentSetterName=t?"setHeight":"setWidth";g&&this.startMonitoringAllSubviews();this.callSuper(k)}},setAlign:function(k){if(this.align!==k){this.align=k;const t=this.locked;this.locked=!0;this.setTargetAttrName("middle"===k||"bottom"===k||"top"===k?"y":"x");this.locked=t;this.inited&&(this.fireEvent("align",k),this.update())}},startMonitoringSubview:function(k){this.attachTo(k,"update",this.measureAttrName);this.callSuper(k)},
stopMonitoringSubview:function(k){this.detachFrom(k,"update",this.measureAttrName);this.callSuper(k)},doBeforeUpdate:function(){const k=this.measureAttrName,t=this.subviews;let g=0,m,r=t.length;for(;r;)m=t[--r],this.skipSubview(m)||(g=g>m[k]?g:m[k]);this.setTargetValue(g)},updateSubview:function(k,t,g,m){switch(this.align){case "center":case "middle":t[g]((m-t[this.measureAttrName])/2);break;case "right":case "bottom":t[g](m-t[this.measureAttrName]);break;default:t[g](0)}return m},updateParent:function(k,
t){this.parent[this.parentSetterName](t)}});l.WrappingLayout=new q("WrappingLayout",e,{initNode:function(k,t){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(k,t)},
setTargetAttrName:function(k){if(this.targetAttrName!==k){const t="y"===k,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=t?"boundsHeight":"boundsWidth";const m=this.measureAttrBaseName=t?"height":"width";this.otherMeasureAttrName=t?"boundsWidth":"boundsHeight";const r=this.otherMeasureAttrBaseName=t?"width":"height";this.parentSetterName=t?"setWidth":"setHeight";this.otherSetterName=t?"setX":"setY";g&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(r),this.startMonitoringParent(m));
this.callSuper(k)}},setParent:function(k){if(this.parent!==k){const t="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(t?"height":"width");this.callSuper(k);this.parent&&this.startMonitoringParent(t?"height":"width")}},setAxis:function(k){this.setTargetAttrName(this.axis=k)},setInset:function(k){this.setTargetValue(this.inset=k)},setSpacing:function(k){c(this,"spacing",k)},setOutset:function(k){c(this,"outset",k)},setLineSpacing:function(k){c(this,"lineSpacing",k)},setLineInset:function(k){c(this,
"lineInset",k)},setLineOutset:function(k){c(this,"lineOutset",k)},startMonitoringParent:function(k){this.attachTo(this.parent,"update",k)},stopMonitoringParent:function(k){this.detachFrom(this.parent,"update",k)},startMonitoringSubview:function(k){this.attachTo(k,"update",this.measureAttrName);this.attachTo(k,"update",this.otherMeasureAttrName);this.callSuper(k)},stopMonitoringSubview:function(k){this.detachFrom(k,"update",this.measureAttrName);this.detachFrom(k,"update",this.otherMeasureAttrName);
this.callSuper(k)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(k,t,g,m){k=t[this.measureAttrName];const r=t[this.otherMeasureAttrName];m+k>this.parentSizeLessOutset||"break"===t.layoutHint?(m=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=r,++this.lineCount):r>this.lineSize&&(this.lineSize=r);t[this.otherSetterName](this.linePos+
(r-t[this.otherMeasureAttrBaseName])/2);t[g](m+(k-t[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,m+k+this.outset);return m+k+this.spacing},updateParent:function(k,t){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});l.createFixedThresholdCounter(d,1,"locked")})(myt);
(l=>{const u=Math.round,v=l.DomElementProxy,q=l.Geometry.rectContainsPoint,f=(g,m)=>{const r=l.global.focus.focusedView,p=g.getIDE();if(r===g||r&&r.isDescendantOf(g))r._ignoreFocus=!0;g=p.scrollTop;const w=p.scrollLeft;m.call();r&&(r._ignoreFocus=!1,r.focus(!0));p.scrollTop=g;p.scrollLeft=w},a=(g,m,r,p)=>{if(m&&"object"===typeof m){if(p&&(p=g.getLeastCommonAncestor(m))){var w=p.getIDE();p=v.getZIndexRelativeToAncestor(g.getODE(),w);w=v.getZIndexRelativeToAncestor(m.getODE(),w);r&&(p*=-1,w*=-1);if(p<
w)return!0;if(w<p)return!1}g=g.getODE().compareDocumentPosition(m.getODE());return r?2===g||10===g:4===g||20===g}return!1},b=g=>{g=g.getAncestors();let m=g.length,r=1,p=1;for(;m;){const w=g[--m];r*=w.scaleX||1;p*=w.scaleY||1;w.__effectiveScaleX=r;w.__effectiveScaleY=p}return{scaleX:r,scaleY:p}},c=(g,m,r)=>{const p=g.getODE();if(q(m,r,0,0,p.offsetWidth*g.__effectiveScaleX,p.offsetHeight*g.__effectiveScaleY)){if(g=g.parent){const w=g.getIDE();return c(g,m+(p.offsetLeft-w.scrollLeft)*g.__effectiveScaleX,
r+(p.offsetTop-w.scrollTop)*g.__effectiveScaleY)}return!0}return!1},d=g=>{switch(g.align){case "center":g.releaseConstraint("__doAlignCenter");break;case "right":g.releaseConstraint("__doAlignRight")}},e=g=>{const m=g.parent;if(m)switch(g.align){case "center":g.constrain("__doAlignCenter",[g,"width",g,"alignOffset",m,"width"]);break;case "right":g.constrain("__doAlignRight",[g,"width",g,"alignOffset",m,"width"]);break;case "left":g.setX(g.alignOffset||0)}},n=g=>{switch(g.valign){case "middle":g.releaseConstraint("__doValignMiddle");
break;case "bottom":g.releaseConstraint("__doValignBottom")}},k=g=>{const m=g.parent;if(m)switch(g.valign){case "middle":g.constrain("__doValignMiddle",[g,"height",g,"valignOffset",m,"height"]);break;case "bottom":g.constrain("__doValignBottom",[g,"height",g,"valignOffset",m,"height"]);break;case "top":g.setY(g.valignOffset||0)}},t=(g,m,r)=>{g.getODS()["border"+r+"Radius"]=m+"px"};l.View=new JS.Class("View",l.Node,{include:[v,l.DomObservable,l.DomObserver,l.ScrollObservable,l.FocusObservable,l.KeyObservable,
l.MouseObservable],extend:{retainFocusDuringDomUpdate:f},initNode:function(g,m){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=m.tagName;delete m.tagName;this.setDomElement(this.createOurDomElement(g));const r=this.getODS();r.left=r.top="0px";this.callSuper(g,m);this.__updateBounds(this.width,this.height);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(g){g=document.createElement(this.tagName||"div");g.style.position="absolute";
const m=this.klass;g.className=m.__cssClassName||(m.__cssClassName="myt-"+m.__displayName.split(".").join("-"));return g},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(g){this.parent!==g&&(this.inited&&(d(this),n(this)),this.callSuper(g),this.align&&e(this),this.valign&&k(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(g=>
g!==this)},setFocusTrap:function(g){this.focusTrap=g},setFocusCage:function(g){this.focusCage=g},setMaskFocus:function(g){this.maskFocus=g},setLayoutHint:function(g){this.layoutHint=g},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(g){if(this.ignoreLayout!==g){var m=this.inited&&this.parent;let r;if(g){if(m)for(m=this.parent.getLayouts(),r=m.length;r;)m[--r].removeSubview(this);this.ignoreLayout=g}else if(this.ignoreLayout=g,m)for(m=this.parent.getLayouts(),
r=m.length;r;)m[--r].addSubview(this)}},setDomClass:function(g){this.domClass!==g&&(this.callSuper(g),this.inited&&this.fireEvent("domClass",g))},setDomId:function(g){this.domId!==g&&(this.callSuper(g),this.inited&&this.fireEvent("domId",g))},setAlignOffset:function(g){this.alignOffset!==g&&(this.alignOffset=g,this.inited&&this.fireEvent("alignOffset",g),this.parent&&"left"===this.align&&this.setX(g))},setAlign:function(g){this.align!==g&&(this.inited&&d(this),this.align=g,this.inited&&(this.fireEvent("align",
g),e(this)))},__doAlignCenter:function(g){this.setX(u((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(g){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(g){this.valignOffset!==g&&(this.valignOffset=g,this.inited&&this.fireEvent("valignOffset",g),this.parent&&"top"===this.valign&&this.setY(g))},setValign:function(g){this.valign!==g&&(this.inited&&n(this),this.valign=g,this.inited&&(this.fireEvent("valign",g),k(this)))},__doValignMiddle:function(g){this.setY(u((this.parent.height-
this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(g){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(g){this.x!==g&&(this.x=g,this.visible&&(this.getODS().left=g+"px"),this.inited&&this.fireEvent("x",g))},setY:function(g){this.y!==g&&(this.y=g,this.visible&&(this.getODS().top=g+"px"),this.inited&&this.fireEvent("y",g))},setWidth:function(g,m){0>g&&(g=0);this.width!==g&&(this.width=g,this.getODS().width=g+"px",this.inited&&(this.__updateBounds(g,this.height),
m||this.fireEvent("width",g)))},setHeight:function(g,m){0>g&&(g=0);this.height!==g&&(this.height=g,this.getODS().height=g+"px",this.inited&&(this.__updateBounds(this.width,g),m||this.fireEvent("height",g)))},setDomMinWidth:function(g,m){(m?this.getIDS():this.getODS()).minWidth=null!=g?g+"px":null},getDomMinWidth:function(g){g=(g?this.getIDS():this.getODS()).minWidth;return null!=g?Number.parseInt(g):null},setDomMinHeight:function(g,m){(m?this.getIDS():this.getODS()).minHeight=null!=g?g+"px":null},
getDomMinHeight:function(g){g=(g?this.getIDS():this.getODS()).minHeight;return null!=g?Number.parseInt(g):null},setTextColor:function(g){this.textColor!==g&&(this.textColor=g,this.getODS().color=g||"inherit",this.inited&&this.fireEvent("textColor",g))},setBgColor:function(g){this.bgColor!==g&&(this.getODS().backgroundColor=this.bgColor=g,this.inited&&this.fireEvent("bgColor",g))},isColorAttr:g=>"bgColor"===g||"textColor"===g,setOpacity:function(g){this.opacity!==g&&(this.getODS().opacity=this.opacity=
g,this.inited&&this.fireEvent("opacity",g))},setOverflow:function(g){const m=this.overflow;if(m!==g){this.overflow=g;const r=this.getIDS();if("autox"===g)r.overflowX="auto",r.overflowY="hidden";else if("autoy"===g)r.overflowY="auto",r.overflowX="hidden";else{if("autox"===m||"autoy"===m)r.overflowX=r.overflowY=null;r.overflow=g||"visible"}this.inited&&this.fireEvent("overflow",g)}},setVisible:function(g){if(this.visible!==g){this.visible=g;const m=this.getODS();m.visibility=g?"inherit":"hidden";m.left=
g?this.x+"px":"-100000px";m.top=g?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",g)}},setPointerEvents:function(g){this.pointerEvents!==g&&(this.pointerEvents=g,this.getODS().pointerEvents=g||"auto",this.inited&&this.fireEvent("pointerEvents",g))},setCursor:function(g){this.cursor!==g&&(this.cursor=g,this.getODS().cursor=g||"auto",this.inited&&this.fireEvent("cursor",g))},__updateBounds:function(g,m){this.boundsWidth!==g&&this.fireEvent("boundsWidth",this.boundsWidth=g);this.boundsHeight!==
m&&this.fireEvent("boundsHeight",this.boundsHeight=m)},setOutline:function(g){g=g||[];this.setOutlineWidth(g[0]);this.setOutlineStyle(g[1]);this.setOutlineColor(g[2])},setOutlineWidth:function(g){this.outlineWidth=g||0;this.getODS().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(g){this.getODS().outlineStyle=this.outlineStyle=g||"none"},setOutlineColor:function(g){this.getODS().outlineColor=this.outlineColor=g||"#000"},setBorder:function(g){g=g||[];this.setBorderWidth(g[0]);this.setBorderStyle(g[1]);
this.setBorderColor(g[2])},setBorderWidth:function(g){this.borderWidth=g||0;this.getODS().borderWidth=this.borderWidth+"px"},setBorderStyle:function(g){this.getODS().borderStyle=this.borderStyle=g||"none"},setBorderColor:function(g){this.getODS().borderColor=this.borderColor=g||"#000"},setRoundedCorners:function(g){this.getODS().borderRadius=g+"px"},setRoundedTopLeftCorner:function(g){t(this,g,"TopLeft")},setRoundedTopRightCorner:function(g){t(this,g,"TopRight")},setRoundedBottomLeftCorner:function(g){t(this,
g,"BottomLeft")},setRoundedBottomRightCorner:function(g){t(this,g,"BottomRight")},setBoxShadow:function(g){this.getODS().boxShadow=g?(g[0]||0)+"px "+(g[1]||0)+"px "+(g[2]||7)+"px "+(g[3]||"#000"):"none"},setGradient:function(g){const m=this.getODS();if(g){let p=g[0];"linear"===p||"radial"===p?g.shift():p="linear";let w=g[0];if("radial"===p){void 0===w?w="closest-side":g.shift();var r=g[0];if(void 0===r)r="circle";else{switch(r){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",
r),r="circle"}g.shift()}let z=g[0];void 0===z?z="center":(z=z.replaceAll("middle","center"),g.shift());w=r+" "+w+" at "+z}else"number"===typeof w?(w+="deg",g.shift()):w?(w="to "+w,g.shift()):w="0deg";r=z=>{g.push(z&&"inherit"!==z?z:"transparent")};2>g.length&&r(this.textColor);2>g.length&&r(this.bgColor);m.background=p+"-gradient("+w+","+g.join(",")+")"}else m.background="none";this.bgColor=void 0},setTooltip:function(g){this.tooltip!==g&&(this.tooltip=this.getODE().title=g,this.inited&&this.fireEvent("tooltip",
g))},isVisible:function(){return null==this.searchAncestorsOrSelf(g=>!g.visible)},getFocusTrap:function(g){return this.searchAncestorsOrSelf(m=>m.focusCage||m.focusTrap&&!g)},subnodeAdded:function(g){g instanceof l.View?(this.getIDE().appendChild(g.getODE()),this.getSubviews().push(g),this.fireEvent("subviewAdded",g),this.subviewAdded(g)):g instanceof l.Layout&&(this.getLayouts().push(g),this.fireEvent("layoutAdded",g),this.layoutAdded(g))},subnodeRemoved:function(g){let m;g instanceof l.View?(m=
this.getSubviewIndex(g),0<=m&&(this.fireEvent("subviewRemoved",g),g.removeDomElement(),this.subviews.splice(m,1),this.subviewRemoved(g))):g instanceof l.Layout&&(m=this.getLayoutIndex(g),0<=m&&(this.fireEvent("layoutRemoved",g),this.layouts.splice(m,1),this.layoutRemoved(g)))},hasSubview:function(g){return 0<=this.getSubviewIndex(g)},getSubviewIndex:function(g){return this.getSubviews().indexOf(g)},subviewAdded:g=>{},subviewRemoved:g=>{},getNextSibling:function(){if(this.parent){const g=this.getODE().nextElementSibling;
if(g)return g.model}},getPrevSibling:function(){if(this.parent){const g=this.getODE().previousElementSibling;if(g)return g.model}},hasLayout:function(g){return 0<=this.getLayoutIndex(g)},getLayoutIndex:function(g){return this.getLayouts().indexOf(g)},layoutAdded:g=>{},layoutRemoved:g=>{},isBehind:function(g,m){return a(this,g,!1,m)},isInFrontOf:function(g,m){return a(this,g,!0,m)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},
sendBehind:function(g){this.parent.sendSubviewBehind(this,g)},sendInFrontOf:function(g){this.parent.sendSubviewInFrontOf(this,g)},bringSubviewToFront:function(g){if(g&&g.parent===this){const m=this.getIDE();g.getODE()!==m.lastChild&&f(g,()=>{m.appendChild(g.getODE())})}},sendSubviewToBack:function(g){if(g&&g.parent===this){const m=this.getIDE();g.getODE()!==m.firstChild&&f(g,()=>{m.insertBefore(g.getODE(),m.firstChild)})}},sendSubviewBehind:function(g,m){if(g&&m&&g.parent===this&&m.parent===this){const r=
this.getIDE();f(g,()=>{r.insertBefore(g.getODE(),m.getODE())})}},sendSubviewInFrontOf:function(g,m){g&&m&&g.parent===this&&m.parent===this&&(this.sendSubviewBehind(g,m),this.sendSubviewBehind(m,g))},sortSubviews:function(g){const m=this,r=m.getSubviews().sort(g);f(m,()=>{const p=m.getODE(),w=p.parentNode;let z;w&&(z=p.nextSibling,w.removeChild(p));const y=document.createDocumentFragment(),B=r.length;for(let C=0;B>C;)y.appendChild(r[C++].getODE());m.getIDE().appendChild(y);w&&w.insertBefore(p,z)})},
containsPoint:function(g,m,r){const p=this.getODE();if(!p)return!1;r=v.getRelativePosition(p,r);return q(g,m,r.x,r.y,this.width,this.height)},isPointVisible:function(g,m){const r=this.getPagePosition(!0);b(this);return c(this,g-r.x,m-r.y)},getEffectiveScale:function(){return b(this)},getEffectiveScaleX:function(){return b(this).scaleX},getEffectiveScaleY:function(){return b(this).scaleY}})})(myt);
(l=>{const u=(q,f,a)=>{const b=v(q,f);q.getODS().transform=b+(0===b.length?"":" ")+f+"("+a+")"},v=(q,f)=>{q=q.getODS();var a=q.transform;if(!a||0===a.length)return"";a=a.split(" ");let b=a.length;for(;b;)if(0===a[--b].indexOf(f)){a.splice(b,1);break}return q.transform=a.join(" ")};l.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(q){this.transformOrigin!==q&&(this.transformOrigin=q,this.getODS().transformOrigin=q||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",q)))},setRotation:function(q){this.rotation!==q&&(this.rotation=q,u(this,"rotate",(q||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",q)))},setScale:function(q){const f=this.scaleX!==q,a=this.scaleY!==q;if(f){var b=this.scaleX=q;null==b?v(this,"scaleX"):u(this,"scaleX",b||1)}a&&(b=this.scaleY=q,null==b?v(this,"scaleY"):u(this,"scaleY",b||1));this.inited&&((f||a)&&this.__updateBounds(this.width,this.height),
f&&this.fireEvent("scaleX",q),a&&this.fireEvent("scaleY",q))},setScaleX:function(q){if(this.scaleX!==q){var f=this.scaleX=q;null==f?v(this,"scaleX"):u(this,"scaleX",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",q))}},setScaleY:function(q){if(this.scaleY!==q){var f=this.scaleY=q;null==f?v(this,"scaleY"):u(this,"scaleY",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",q))}},setSkewX:function(q){this.skewX!==q&&(this.skewX=
q,u(this,"skewX",q||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",q)))},setSkewY:function(q){this.skewY!==q&&(this.skewY=q,u(this,"skewY",q||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",q)))},__updateBounds:function(q,f){const a=this.rotation;var b=this.scaleX;const c=this.scaleY;b=(null==b||1===b)&&(null==c||1===c);if(!b||null!=a&&0!==a&&180!==a)!b||90!==a&&270!==a?(f=this.getODE().getBoundingClientRect(),q=f.width,f=f.height):
(q=this.height,f=this.width);this.callSuper(q,f)}})})(myt);
(l=>{const u=JS.Module,v=(b,c)=>{if("auto"===c)b.__hasSetWidth=!1,b.getODS().width="auto",b.sizeViewToDom();else return b.__hasSetWidth=!0},q=(b,c)=>{if("auto"===c)b.__hasSetHeight=!1,b.getODS().height="auto",b.sizeViewToDom();else return b.__hasSetHeight=!0},f=b=>{if(!b.__hasSetWidth){const c=b.getODE().offsetWidth/b.getEffectiveScaleX();b.width!==c&&(b.width=c,b.inited&&b.__updateBounds(c,b.height),b.fireEvent("width",c))}},a=b=>{if(!b.__hasSetHeight){const c=b.getODE().offsetHeight/b.getEffectiveScaleY();
b.height!==c&&(b.height=c,b.inited&&b.__updateBounds(b.width,c),b.fireEvent("height",c))}};l.SizeToDom=new u("SizeToDom",{extend:{sizeWidth:f,sizeHeight:a},initNode:function(b,c){this.callSuper(b,c);this.sizeViewToDom()},setWidth:function(b,c){v(this,b)&&this.callSuper(b,c)},setHeight:function(b,c){q(this,b)&&this.callSuper(b,c)},sizeViewToDom:function(){f(this);a(this)}});l.SizeWidthToDom=new u("SizeWidthToDom",{initNode:function(b,c){this.callSuper(b,c);this.sizeViewToDom()},setWidth:function(b,
c){v(this,b)&&this.callSuper(b,c)},sizeViewToDom:function(){f(this)}});l.SizeHeightToDom=new u("SizeHeightToDom",{initNode:function(b,c){this.callSuper(b,c);this.sizeViewToDom()},setHeight:function(b,c){q(this,b)&&this.callSuper(b,c)},sizeViewToDom:function(){a(this)}})})(myt);
(l=>{const u=(a,b,c,d)=>{a[c]!==b&&(a[c]=b,a.getIDS()[c]=b||d||"inherit",a.inited&&(a.fireEvent(c,b),a.sizeViewToDom()))};l.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,b){this.callSuper(a,b);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a||this.sizeViewToDom())},setText:function(a){a||="";a=this.valueFromEvent(a);this.text!==a&&(this.getIDE().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==
a&&(this.textOverflow=a,this.getIDS().textOverflow=a||"inherit",this.inited&&this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getIDS().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){u(this,a,"whiteSpace")},setWordWrap:function(a){u(this,a,"wordWrap","normal")},setTextIndent:function(a){u(this,a,"textIndent")},setTextTransform:function(a){u(this,a,"textTransform")},setTextDecoration:function(a){u(this,
a,"textDecoration")},setLineHeight:function(a){u(this,a,"lineHeight")},setLetterSpacing:function(a){u(this,a,"letterSpacing")},setWordSpacing:function(a){u(this,a,"wordSpacing")},setFontFamily:function(a){u(this,a,"fontFamily")},setFontStyle:function(a){u(this,a,"fontStyle")},setFontVariant:function(a){u(this,a,"fontVariant")},setFontWeight:function(a){u(this,a,"fontWeight")},setFontSize:function(a){u(this,a,"fontSize")},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=
a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,b,c,d){this.getIDS().textShadow=(a||0)+"px "+(b||0)+"px "+(null!=c?c:2)+"px "+(d||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}});const v=(a,b,c)=>{const d="padding"+c;b=Math.max(b,0);a[d]!==b&&(a[d]=b,a.getIDS()[d]=b+"px",a.fireEvent(d,b),"Left"===c||"Right"===c?q(a):f(a))},q=a=>{a.__hasSetWidth&&(a.getODS().width=a.width-(a.paddingLeft||0)-(a.paddingRight||0)+"px",a.inited&&a.sizeViewToDom())},f=a=>{a.__hasSetHeight&&(a.getODS().height=a.height-(a.paddingTop||0)-(a.paddingBottom||0)+"px",a.inited&&a.sizeViewToDom())};l.PaddedTextSupport=new JS.Module("PaddedTextSupport",{setWidth:function(a,b){this.callSuper(a,b);
q(this)},setHeight:function(a,b){this.callSuper(a,b);f(this)},setPadding:function(a){let b,c,d;a||=0;"object"===typeof a?(b=a.top||0,c=a.right||0,d=a.bottom||0,a=a.left||0):b=c=d=a;this.setPaddingTop(b);this.setPaddingRight(c);this.setPaddingBottom(d);this.setPaddingLeft(a)},setPaddingTop:function(a){v(this,a,"Top")},setPaddingRight:function(a){v(this,a,"Right")},setPaddingBottom:function(a){v(this,a,"Bottom")},setPaddingLeft:function(a){v(this,a,"Left")}})})(myt);
(l=>{const u={},v={},q=f=>{const a=f.imageUrl;if(f.calculateNaturalSize&&a){var b=u[a];if(b)f.setNaturalWidth(b.width),f.setNaturalHeight(b.height);else{b=v[a];if(!b){v[a]=b=[];const c=new Image;c.onerror=d=>{if(d=v[a]){let e=d.length;for(;e;)d[--e].setImageLoadingError(!0);d.length=0;delete v[a]}};c.onload=()=>{const d=c.width,e=c.height,n=v[a];if(n){let k=n.length;for(;k;){const t=n[--k];t.imageUrl===a&&(t.setNaturalWidth(d),t.setNaturalHeight(e))}n.length=0;delete v[a]}u[a]={width:d,height:e}};
c.src=a}b.push(f)}}};l.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:f=>u[f]},initNode:function(f,a){this.defAttr(a,"imageRepeat","no-repeat");this.defAttr(a,"imageAttachment","scroll");this.callSuper(f,a)},setImageUrl:function(f){this.imageUrl!==f&&(this.imageUrl=f,this.getIDS().backgroundImage=f?'url("'+f+'")':"none",this.inited&&(this.fireEvent("imageUrl",f),this.setNaturalWidth(),this.setNaturalHeight(),!f&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),q(this))},
setImageLoadingError:function(f){this.set("imageLoadingError",f,!0)},setImageSize:function(f){this.imageSize!==f&&(this.imageSize=f,this.getIDS().backgroundSize=f||"auto",this.inited&&this.fireEvent("imageSize",f))},setImageRepeat:function(f){this.imageRepeat!==f&&(this.getIDS().backgroundRepeat=this.imageRepeat=f,this.inited&&this.fireEvent("imageRepeat",f))},setImagePosition:function(f){this.imagePosition!==f&&(this.getIDS().backgroundPosition=this.imagePosition=f,this.inited&&this.fireEvent("imagePosition",
f))},setImageAttachment:function(f){this.imageAttachment!==f&&(this.getIDS().backgroundAttachment=this.imageAttachment=f,this.inited&&this.fireEvent("imageAttachment",f))},setCalculateNaturalSize:function(f){this.calculateNaturalSize!==f&&(this.calculateNaturalSize=f,this.inited&&this.fireEvent("calculateNaturalSize",f),q(this))},setNaturalWidth:function(f){this.naturalWidth!==f&&(this.naturalWidth=f,this.inited&&this.fireEvent("naturalWidth",f),this.useNaturalSize&&f&&this.setWidth(f))},setNaturalHeight:function(f){this.naturalHeight!==
f&&(this.naturalHeight=f,this.inited&&this.fireEvent("naturalHeight",f),this.useNaturalSize&&f&&this.setHeight(f))},setUseNaturalSize:function(f){this.useNaturalSize!==f&&(this.useNaturalSize=f,this.inited&&this.fireEvent("useNaturalSize",f),f&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),f&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(l=>{const u=JS.Class,v=l.View,q=l.SizeToDom,f=l.AccessorSupport.defAttr;l.FlexBox=new u("FlexBox",v,{include:[l.FlexBoxSupport]});l.Frame=new u("Frame",v,{initNode:function(a,b){f(b,"tagName","iframe");this.callSuper(a,b);a=l.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getIDE().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});l.Markup=new u("Markup",v,{include:[q],setHtml:function(a){this.html!==a&&(this.getIDE().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});l.Text=new u("Text",v,{include:[q,l.TextSupport],initNode:function(a,b){f(b,"whiteSpace",
"nowrap");f(b,"userUnselectable",!0);this.callSuper(a,b)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getIDS(),b=a.whiteSpace;a.whiteSpace="nowrap";const c=this.getODE().getBoundingClientRect().width;a.whiteSpace=b;return c}});l.PaddedText=new u("PaddedText",l.Text,{include:[l.PaddedTextSupport]});l.Image=new u("Image",v,{include:[l.ImageSupport],initNode:function(a,b){f(b,"useNaturalSize",!0);this.callSuper(a,b)}});l.BackView=new u("BackView",v,{sendSubviewToBack:function(a){if(a.parent===
this){const b=this.getIDE(),c=b.childNodes[1];a=a.getODE();a!==c&&(a=b.removeChild(a))&&b.insertBefore(a,c)}}})})(myt);
(l=>{const u=Math.round,v=b=>{const c=b.parent;c&&0<=b.percentOfParentWidth&&b.syncTo(c,"__doPOPW","width")},q=b=>{0<=b.percentOfParentWidth&&b.detachFrom(b.parent,"__doPOPW","width")},f=b=>{const c=b.parent;c&&0<=b.percentOfParentHeight&&b.syncTo(c,"__doPOPH","height")},a=b=>{0<=b.percentOfParentHeight&&b.detachFrom(b.parent,"__doPOPH","height")};l.SizeToParent=new JS.Module("SizeToParent",{setParent:function(b){this.parent!==b&&(this.inited&&(q(this),a(this)),this.callSuper(b),v(this),f(this))},
setPercentOfParentWidthOffset:function(b){this.percentOfParentWidthOffset!==b&&(this.percentOfParentWidthOffset=b,this.inited&&(this.fireEvent("percentOfParentWidthOffset",b),this.__doPOPW()))},setPercentOfParentWidth:function(b){this.percentOfParentWidth!==b&&(this.inited&&q(this),this.percentOfParentWidth=b,this.inited&&this.fireEvent("percentOfParentWidth",b),v(this))},setPercentOfParentHeightOffset:function(b){this.percentOfParentHeightOffset!==b&&(this.percentOfParentHeightOffset=b,this.inited&&
(this.fireEvent("percentOfParentHeightOffset",b),this.__doPOPH()))},setPercentOfParentHeight:function(b){this.percentOfParentHeight!==b&&(this.inited&&a(this),this.percentOfParentHeight=b,this.inited&&this.fireEvent("percentOfParentHeight",b),f(this))},__doPOPW:function(b){this.setWidth((this.percentOfParentWidthOffset||0)+u(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(b){this.setHeight((this.percentOfParentHeightOffset||0)+u(this.percentOfParentHeight/
100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);(l=>{let u;const v=[];new JS.Singleton("GlobalRootViewRegistry",{include:[l.Observable],initialize:function(){l.global.register("roots",u=this)},getRoots:()=>v,addRoot:q=>{v.push(q);u.fireEvent("rootAdded",q)},removeRoot:q=>{let f=v.length;for(;f;){const a=v[--f];if(a===q){v.splice(f,1);u.fireEvent("rootRemoved",a);break}}}})})(myt);
(l=>{const u=l.global.roots,v=l.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:q=>{const f=q.__captureDrop=a=>{a.preventDefault()};q=q.getIDE();l.addEventListener(q,"drop",f);l.addEventListener(q,"dragover",f)},teardownCaptureDrop:q=>{const f=q.getIDE();q=q.__captureDrop;l.removeEventListener(f,"drop",q);l.removeEventListener(f,"dragover",q)}},initNode:function(q,f){this.callSuper(q,f);this.setZIndex(0);this.addDomClass("myt");u.addRoot(this);v.setupCaptureDrop(this)},createOurDomElement:function(q){q||
(q=this.callSuper(q),l.getElement().appendChild(q));return q},destroy:function(){v.teardownCaptureDrop(this);u.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(q){this.keepDomElementWhenDestroyed=q},setParent:q=>{},bringToFront:function(){var q=this.getIDE();const f=q.parentNode;q!==f.lastChild&&(q=f.removeChild(q))&&f.appendChild(q)},sendToBack:function(){var q=this.getIDE();const f=q.parentNode;q!==f.firstChild&&
(q=f.removeChild(q))&&f.insertBefore(q,f.firstChild)},sendBehind:function(q){var f=this.getIDE();q=q.getIDE();const a=f.parentNode;q.parentNode===a&&(f=a.removeChild(f))&&a.insertBefore(f,q)},sendInFrontOf:function(q){q.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(q),q.sendBehind(this))}})})(myt);
(l=>{let u,v,q,f=!1;const a=window,b={};new JS.Singleton("GlobalIdle",{include:[l.Observable],initialize:function(){const c=this,d=["webkit","moz","ms","o"];for(let e=0;e<d.length&&!a.requestAnimationFrame;){const n=d[e++];a.requestAnimationFrame=a[n+"RequestAnimationFrame"];a.cancelAnimationFrame=a[n+"CancelAnimationFrame"]||a[n+"CancelRequestAnimationFrame"]}v=e=>{u=a.requestAnimationFrame(v);-1!==q&&(e=Math.round(e),b.delta=e-q,b.time=e,c.fireEvent("idle",b));q=e};l.global.register("idle",c)},
attachObserver:function(c,d,e){c=this.callSuper(c,d,e);!f&&this.hasObservers("idle")&&(f=!0,q=-1,u=a.requestAnimationFrame(v));return c},detachObserver:function(c,d,e){c=this.callSuper(c,d,e);f&&!this.hasObservers("idle")&&(a.cancelAnimationFrame(u),f=!1);return c}})})(myt);
(l=>{let u,v;const q=l.global,f=q.idle,a=window.document;new JS.Singleton("GlobalWindowResize",{include:[l.Observable,l.Observer],initialize:function(){this.attachTo(f,"__setup","idle");q.register("windowResize",this)},__setup:function(b){const c=this,d=a.body;d&&(c.detachFrom(f,"__setup","idle"),(new ResizeObserver(()=>{c.fireEvent("resize",{w:u=d.clientWidth,h:v=d.clientHeight})})).observe(d))},getWidth:()=>u||=a.body.clientWidth,getHeight:()=>v||=a.body.clientHeight})})(myt);
(l=>{const u=JS.Module,v=l.global.windowResize,q=l.AccessorSupport.defAttr,f=b=>{const c=b.resizeDimension;"both"!==c&&"width"!==c||b.setWidth(Math.max(b.minWidth,v.getWidth()));"both"!==c&&"height"!==c||b.setHeight(Math.max(b.minHeight,v.getHeight()))},a=l.SizeToWindow=new u("SizeToWindow",{include:[l.RootView],initNode:function(b,c){this.minWidth=this.minHeight=0;q(c,"resizeDimension","both");this.attachTo(v,"__hndlResize","resize");this.callSuper(b,c)},setResizeDimension:function(b){this.resizeDimension!==
b&&(this.resizeDimension=b,f(this))},setMinWidth:function(b){this.minWidth!==b&&(this.minWidth=b,f(this))},setMinHeight:function(b){this.minHeight!==b&&(this.minHeight=b,f(this))},__hndlResize:function(b){f(this)}});l.SizeToWindowWidth=new u("SizeToWindowWidth",{include:[a],initNode:function(b,c){q(c,"resizeDimension","width");this.callSuper(b,c)}});l.SizeToWindowHeight=new u("SizeToWindowHeight",{include:[a],initNode:function(b,c){q(c,"resizeDimension","height");this.callSuper(b,c)}})})(myt);
(l=>{const u=Math,v=u.max,q=u.min,f=g=>q(255,v(0,u.round(g))),a=g=>{g=f(g).toString(16);return 1===g.length?"0"+g:g},b=(g,m,r,p)=>[p?"#":"",a(g),a(m),a(r)].join(""),c=g=>new t((16711680&g)>>16,(65280&g)>>8,255&g),d=(g,m,r)=>(f(g)<<16)+(f(m)<<8)+f(r),e=(g,m)=>{if("string"===typeof g)if(g.endsWith("%"))g=parseFloat(g.substring(0,g.length-1))*m/100;else return 0;g=q(m,v(0,g))/m;return 1E-6>u.abs(1-g)?1:g},n=(g,m,r)=>{g=e(g,255);m=e(m,255);r=e(r,255);const p=v(g,m,r),w=p-q(g,m,r);if(0===w)return{h:0,
s:0,v:p};let z;switch(p){case g:z=(m-r)/w+(m<r?6:0);break;case m:z=(r-g)/w+2;break;case r:z=(g-m)/w+4}return{h:60*z,s:0===p?0:w/p,v:p}},k=(g,m,r)=>{g=6*e(g,360);m=e(m,100);r=e(r,100);var p=u.floor(g);const w=g-p;g=r*(1-m);const z=r*(1-w*m);m=r*(1-(1-w)*m);p%=6;return{red:255*[r,z,g,g,m,r][p],green:255*[m,r,r,z,g,g][p],blue:255*[g,g,m,r,r,z][p]}},t=l.Color=new JS.Class("Color",{extend:{toUnitRange:e,rgbToHsv:n,hsvToRgb:k,toHex:a,rgbToHex:b,cleanChannelValue:f,getRedChannel:g=>(16711680&g)>>16,getGreenChannel:g=>
(65280&g)>>8,getBlueChannel:g=>255&g,makeColorFromNumber:c,makeColorFromHexString:g=>{if(g){g.startsWith("#")||(g="#"+g);if(4===g.length){const m=g.substring(1,2),r=g.substring(2,3);g=g.substring(3,4);g="#"+m+m+r+r+g+g}return c(parseInt(g.substring(1),16))}},makeColorFromHSV:(g,m,r)=>{g=k(g,m,r);return c(d(g.red,g.green,g.blue))},getLighterColor:(g,m)=>c(g).isLighterThan(c(m))?g:m,makeColorNumberFromChannels:d,makeBlendedColor:(g,m,r)=>new t(g.red+r*(m.red-g.red),g.green+r*(m.green-g.green),g.blue+
r*(m.blue-g.blue))},initialize:function(g,m,r){this.setRed(g);this.setGreen(m);this.setBlue(r)},setRed:function(g){this.red=f(g)},setGreen:function(g){this.green=f(g)},setBlue:function(g){this.blue=f(g)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return b(this.red,this.green,this.blue,!0)},getHSV:function(){return n(this.red,this.green,this.blue)},isLighterThan:function(g){g=this.getDiffFrom(g);return 0>g.red+g.green+g.blue},getDiffFrom:function(g){return{red:g.red-
this.red,green:g.green-this.green,blue:g.blue-this.blue}},applyDiff:function(g){return this.add(g)},add:function(g){this.setRed(this.red+g.red);this.setGreen(this.green+g.green);this.setBlue(this.blue+g.blue);return this},subtract:function(g){this.setRed(this.red-g.red);this.setGreen(this.green-g.green);this.setBlue(this.blue-g.blue);return this},multiply:function(g){this.setRed(this.red*g);this.setGreen(this.green*g);this.setBlue(this.blue*g);return this},divide:function(g){this.setRed(this.red/
g);this.setGreen(this.green/g);this.setBlue(this.blue/g);return this},clone:function(){return new t(this.red,this.green,this.blue)},equals:function(g){return g===this||g&&g.isA&&g.isA(t)&&g.red===this.red&&g.green===this.green&&g.blue===this.blue}})})(myt);
(l=>{const u=Math,v=u.max,q=u.sin,f=u.cos,a=u.pow,b=u.sqrt,c=u.PI,d=2*c,e=c/2,n={linear:p=>p,inQuad:p=>p*p,outQuad:p=>-p*(p-2),inOutQuad:p=>1>(p*=2)?p*p/2:-(--p*(p-2)-1)/2,inCubic:p=>p*p*p,outCubic:p=>--p*p*p+1,inOutCubic:p=>1>(p*=2)?p*p*p/2:((p-=2)*p*p+2)/2,inQuart:p=>p*p*p*p,outQuart:p=>-(--p*p*p*p-1),inOutQuart:p=>1>(p*=2)?p*p*p*p/2:-((p-=2)*p*p*p-2)/2,inQuint:p=>p*p*p*p*p,outQuint:p=>--p*p*p*p*p+1,inOutQuint:p=>1>(p*=2)?p*p*p*p*p/2:((p-=2)*p*p*p*p+2)/2,inSine:p=>-f(p*e)+1,outSine:p=>q(p*e),inOutSine:p=>
-(f(p*c)-1)/2,inCirc:p=>-(b(1-p*p)-1),outCirc:p=>b(1- --p*p),inOutCirc:p=>1>(p*=2)?-(b(1-p*p)-1)/2:(b(1-(p-=2)*p)+1)/2,inExpo:p=>0===p?0:a(2,10*(p-1)),outExpo:p=>1===p?1:-a(2,-10*p)+1,inOutExpo:p=>0===p||1===p?p:1>(p*=2)?a(2,10*(p-1))/2:(-a(2,-10*--p)+2)/2,inElastic:p=>0===p||1===p?p:-(a(2,10*--p)*q((1*p-.075)*d/.3)),outElastic:p=>0===p||1===p?p:a(2,-10*p)*q((1*p-.075)*d/.3)+1,inOutElastic:p=>0===p||1===p?p:1>(p*=2)?-(a(2,10*--p)*q((1*p-.1125)*d/.45))/2:a(2,-10*--p)*q((1*p-.1125)*d/.45)/2+1,inBack:(p,
w=1.70158)=>(p/=1)*p*((w+1)*p-w),outBack:(p,w=1.70158)=>(p=p/1-1)*p*((w+1)*p+w)+1,inOutBack:(p,w=1.70158)=>1>(p*=2)?p*p*(((w*=1.525)+1)*p-w)/2:((p-=2)*p*(((w*=1.525)+1)*p+w)+2)/2,inBounce:p=>1-n.outBounce(1-p),outBounce:p=>p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,inOutBounce:p=>1>(p*=2)?n.inBounce(p)/2:(n.outBounce(p-1)+1)/2},k=l.global.idle,t=l.Color.makeColorFromHexString,g=p=>{p.__tmpFrom=!1;p.__loopCnt=p.reverse?
p.repeat-1:0;p.__prog=p.reverse?p.duration:0},m=(p,w)=>{if(p.running&&!p.paused){const G=p.reverse,I=p.duration,J=p.repeat;G&&(w*=-1);var z=p.__prog;p.__prog+=w;w=0;p.__prog>I?(w=p.__prog-I,p.__prog=I,++p.__loopCnt===J&&(w=0)):0>p.__prog&&(w=-p.__prog,p.__prog=0,0>--p.__loopCnt&&0<J&&(w=0));var y=p.target||p.parent;if(y){var B=z,C=p.relative,E=p.duration;z=p.attribute;var h=v(0,p.__prog/E);B=v(0,B/E);null==p.from&&(p.__tmpFrom=!0,p.from=C?p.__isColorAnim?"#000":0:y.get(z));B=p.easingFunction(h)-(C?
p.easingFunction(B):0);var x=C?y.get(z):p.from;E=p.to;h=y.set;if(p.__isColorAnim){var A=x;x=t(p.from);E=t(E);C=C?t(A):x;C.setRed(C.red+(E.red-x.red)*B);C.setGreen(C.green+(E.green-x.green)*B);C.setBlue(C.blue+(E.blue-x.blue)*B);C=C.getHtmlHexString()}else C=x+(E-p.from)*B;h.call(y,z,C);!G&&p.__loopCnt===J||G&&0>p.__loopCnt&&0<J?(p.setRunning(!1),p.callback&&p.callback.call(p,!0)):0<w&&(p.fireEvent("repeat",p.__loopCnt),p.__prog=G?I:0,m(p,w))}else console.log("No target for animator",p),p.setRunning(!1),
p.callback&&p.callback.call(p,!1)}},r=l.Animator=new JS.Class("Animator",l.Node,{include:[l.Reusable],extend:{easings:n,EASING:n.inOutQuad},initNode:function(p,w){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=r.EASING;this.callSuper(p,w);g(this)},setRunning:function(p){if(this.running!==p&&(this.running=p,this.inited&&this.fireEvent("running",p),!this.paused)){if(p){const w=this.target||this.parent;this.__isColorAnim=w&&"function"===typeof w.isColorAttr?
w.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),g(this);this[p?"attachTo":"detachFrom"](k,"__updateAnim","idle")}},setPaused:function(p){if(this.paused!==p&&(this.paused=p,this.inited&&this.fireEvent("paused",p),this.running))this[p?"detachFrom":"attachTo"](k,"__updateAnim","idle")},setReverse:function(p){this.reverse!==p&&(this.reverse=p,this.inited&&this.fireEvent("reverse",p),this.running||g(this))},setEasingFunction:function(p){"string"===typeof p&&(p=n[p]);p||(p=
r.EASING);this.set("easingFunction",p,!0)},setFrom:function(p){this.set("from",p,!0)},setTo:function(p){this.set("to",p,!0)},setCallback:function(p){this.callback=p},next:function(p,w){const z=this,y=z.callback;y&&!w?z.setCallback(B=>{y.call(z,B);p.call(z,B)}):z.setCallback(p)},reset:function(p){g(this);this.setRunning(!1);this.setPaused(!1);p&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=
!1;this.repeat=1;this.easingFunction=r.EASING;this.reset(!1)},__updateAnim:function(p){m(this,p.value.delta)}})})(myt);
(l=>{const u=Array.isArray,v=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},q=(a,b)=>{if(a.__transInProgress){var c=a.__deferredTransitions;c||(c=a.__deferredTransitions=[]);c.unshift(b)}else{a.__transInProgress=!0;c=b.shift();const d=b.shift();if(a.__pendingTransition)return 3;if(a.isFinished())return a.__transInProgress=!1,5;let e=a.map[a.current][d];e||=a.map["*"][d];if(e)return a.__pendingTransition=d,a.__transDestinationState=e,a.__additionalArgs=
b,a.resumeTransition(c);a.__transInProgress=!1;return 5}},f=a=>{a.__transInProgress=!1;const b=a.__deferredTransitions;if(b)for(;0<b.length;)q(a,b.pop())};l.StateMachine=new JS.Class("StateMachine",l.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,b){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";v(this);this.callSuper(a,b)},setInitialState:function(a){if(""===this.current){if(u(a)){var b=a;a=b.shift()}else b=[];this.current=
this.initial=a;this.doEnterState("","",a,b);b={name:"",from:"",to:a,args:b};this.fireEvent("enter"+a,b);this.fireEvent("enter",b);this.isFinished()&&this.fireEvent("finished",b)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(b=>this.addTransition(...b))},addTransition:function(a,b,c){b=b?u(b)?b:[b]:["*"];const d=this.map;let e=b.length;for(;e;)(d[b[--e]]||(d[b[e]]={}))[a]=c},doTransition:function(...a){a.unshift("sync");return q(this,a)},doAsyncTransition:function(...a){a.unshift("async");
return q(this,a)},resumeTransition:function(a){const b=this.__pendingTransition;if(!b)return 4;const c=this.current,d=this.__transDestinationState,e=this.__additionalArgs,n={name:b,from:c,to:d,args:e},k=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const t=this.doLeaveState(b,c,d,e);if(!1===t)return v(this),f(this),2;if("async"===t||"async"===a)return this.__transStage="enterState",k("start"+b,n),k("start",n),k("leave"+c,n),k("leave",n),f(this),3;k("start"+b,n);k("start",n);
k("leave"+c,n);k("leave",n);case "enterState":this.current=d,v(this),this.doEnterState(b,c,d,e),k("enter"+d,n),k("enter",n),k("end"+b,n),k("end",n),this.isFinished()&&k("finished",n)}f(this);return 1},doLeaveState:(a,b,c,d)=>{},doEnterState:(a,b,c,d)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return u(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==
this.map["*"][a]}})})(myt);
(l=>{const u=(a,b)=>a.replicationIndex-b.replicationIndex,v=(a,b)=>{let c=a.length,d;for(;c;)d=a[--c],d.decrementLockedCounter(),b&&d.update()},q=a=>{f(a);const b=a.template;b&&(a.__pool=new l.TrackActivesPool(b,a.parent))},f=a=>{const b=a.__pool;if(b){const c=a.parent.getLayouts();a=c;let d=a.length;for(;d;)a[--d].incrementLockedCounter();b.putActives();b.destroyPooledInstances();v(c,!1);b.destroy()}};l.Replicable=new JS.Module("Replicable",{include:[l.Reusable],replicate:function(a,b){this.replicationData=
a;this.replicationIndex=b},notify:(a,b)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,b){return b===this.replicationIndex&&a===this.replicationData}});l.Replicator=new JS.Class("Replicator",l.Node,{initNode:function(a,b){this.callSuper(a,b);q(this);this.doReplication()},destroy:function(){f(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(l.Replicable)?a:null)||l.dumpStack("Template not replicable");this.inited&&
(q(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let b;if(a){b=this.parent.getLayouts();for(var c=b.length;c;)b[--c].incrementLockedCounter();const d=(c=this.data)?c.length:0,e=a.getActives(),n=e.length,k=[];let t=n,g,m;for(e.sort(u);t;)if(g=e[--t],m=g.replicationIndex,m>=d||!g.alreadyHasReplicationData(c[m],m))k[m]=g;for(t=k.length;t;)(g=k[--t])&&
a.putInstance(g);for(t=0;d>t;++t)(t>=n||null!=k[t])&&a.getInstance().replicate(c[t],t);for(t=b.length;t;)b[--t].sortSubviews(u);v(b,!0)}},notify:function(a,b){var c=this.__pool;if(c){c=c.getActives();let d=c.length;for(;d;)c[--d].notify(a,b)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(l=>{let u,v,q;const f=[],a=[],b=e=>{const n=q;n!==e&&(n&&(n.notifyDragLeave(v),v.destroyed||v.notifyDragLeave(n),u("dragLeave",n)),q=e)&&(e.notifyDragEnter(v),v.destroyed||v.notifyDragEnter(e),u("dragEnter",n))},c=e=>{let n=v;if(n!==e){v=e;let k,t,g=m=>{m[k](n)};e?(n=e,k="notifyDragStart",t="startDrag"):(k="notifyDragStop",t="stopDrag");d(n,a).forEach(g);d(n,f).forEach(g);u(t,e)}},d=(e,n)=>{if(e.destroyed)return[];if(e.acceptAnyDragGroup())return n;const k=[];e=e.getDragGroups();let t=n.length;for(;t;){const g=
n[--t];if(g.acceptAnyDragGroup())k.push(g);else{const m=g.getDragGroups();for(const r in e)if(m[r]){k.push(g);break}}}return k};new JS.Singleton("GlobalDragManager",{include:[l.Observable],initialize:function(){l.global.register("dragManager",this);u=this.fireEvent.bind(this)},getDragView:()=>v,registerAutoScroller:e=>{f.push(e)},unregisterAutoScroller:e=>{let n=f.length;for(;n;)if(f[--n]===e){f.splice(n,1);break}},registerDropTarget:e=>{a.push(e)},unregisterDropTarget:e=>{let n=a.length;for(;n;)if(a[--n]===
e){a.splice(n,1);break}},startDrag:e=>{c(e)},stopDrag:(e,n,k)=>{n.notifyDropped(q,k);q&&!k&&q.notifyDrop(n);b();c();q&&!k&&u("drop",[n,q])},updateDrag:(e,n)=>{const k=d(n,a);let t=k.length,g;if(0<t){var m=e.value;e=m.pageX;for(m=m.pageY;t;){let r=k[--t];r.willAcceptDrop(n)&&n.willPermitDrop(r)&&r.isPointVisible(e,m)&&(!g||r.isInFrontOf(g))&&(g=r)}}b(g)}})})(myt);
(l=>{const u=JS.Module,v=l.global,q=v.mouse,f=v.keys,a=v.idle,b=l.AccessorSupport.defAttr;l.Activateable=new u("Activateable",{doActivated:()=>{}});l.UpdateableUI=new u("UpdateableUI",{initNode:function(c,d){this.callSuper(c,d);this.updateUI()},updateUI:()=>{}});l.Disableable=new u("Disableable",{initNode:function(c,d){b(d,"disabled",!1);this.callSuper(c,d)},setDisabled:function(c){c=this.valueFromEvent(c);this.disabled!==c&&(this.disabled=c,this.inited&&this.fireEvent("disabled",c),this.doDisabled())},
doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});l.KeyActivation=new u("KeyActivation",{extend:{ACTIVATION_KEYS:[f.CODE_ENTER,f.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(c,d){this.activateKeyDown="";b(d,"activationKeys",l.KeyActivation.ACTIVATION_KEYS);this.callSuper(c,d);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,
"__doDomBlur","blur")},setActivationKeys:function(c){this.activationKeys=c},setRepeatKeyDown:function(c){this.repeatKeyDown=c},__hndlKeyDown:function(c){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const d=l.KeyObservable.getCodeFromEvent(c),e=this.activationKeys;let n=e.length;for(;n;)if(d===e[--n]){this.activateKeyDown===d?this.doActivationKeyDown(d,!0):(this.activateKeyDown=d,this.doActivationKeyDown(d,!1));c.value.preventDefault();break}}},__hndlKeyPress:function(c){if(!this.disabled){const d=
l.KeyObservable.getCodeFromEvent(c);if(this.activateKeyDown===d){const e=this.activationKeys;let n=e.length;for(;n;)if(d===e[--n]){c.value.preventDefault();break}}}},__hndlKeyUp:function(c){if(!this.disabled){const d=l.KeyObservable.getCodeFromEvent(c);if(this.activateKeyDown===d){const e=this.activationKeys;let n=e.length;for(;n;)if(d===e[--n]){this.activateKeyDown="";this.doActivationKeyUp(d);c.value.preventDefault();break}}}},__doDomBlur:function(c){this.disabled||(c=this.activateKeyDown,""!==
c&&(this.activateKeyDown="",this.doActivationKeyAborted(c)))},doActivationKeyDown:(c,d)=>{},doActivationKeyUp:function(c){this.doActivated()},doActivationKeyAborted:c=>{}});l.MouseOver=new u("MouseOver",{initNode:function(c,d){b(d,"mouseOver",!1);this.callSuper(c,d);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(c){this.mouseOver!==c&&(this.mouseOver=c,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(a,
"__doMouseOverOnIdle","idle")))},setDisabled:function(c){this.callSuper(c);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const c=this.mouseOver;this.__lastOverIdleValue!==c&&(this.__lastOverIdleValue=c,this.doSmoothMouseOver(c))},doSmoothMouseOver:function(c){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(c){this.__disabledOver=
!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(c){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});l.MouseDown=new u("MouseDown",{initNode:function(c,d){b(d,"mouseDown",!1);this.callSuper(c,d);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(c){this.mouseDown!==c&&(this.mouseDown=c,this.inited&&(c&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(c){c&&this.mouseDown&&
this.setMouseDown(!1);this.callSuper(c)},doMouseOver:function(c){this.callSuper(c);this.mouseDown&&this.detachFromDom(q,"doMouseUp","mouseup",!0)},doMouseOut:function(c){this.callSuper(c);!this.disabled&&this.mouseDown&&this.attachToDom(q,"doMouseUp","mouseup",!0)},doMouseDown:function(c){this.disabled||this.setMouseDown(!0)},doMouseUp:function(c){this.mouseOver||this.detachFromDom(q,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(c))},
doMouseUpInside:function(c){this.doActivated&&this.doActivated()}});l.MouseOverAndDown=new u("MouseOverAndDown",{include:[l.MouseOver,l.MouseDown]});l.Draggable=new u("Draggable",{initNode:function(c,d){let e=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=d.isDraggable&&(e=d.isDraggable,delete d.isDraggable);this.callSuper(c,d);this.setIsDraggable(e)},setIsDraggable:function(c){if(this.isDraggable!==c){this.isDraggable=
c;let d;c?d=this.attachToDom:this.inited&&(d=this.detachFromDom);if(d){c=this.getDragViews();let e=c.length;for(;e;){const n=c[--e];d.call(this,n,"__doMouseDown","mousedown");d.call(this,n,"__doContextMenu","contextmenu")}}}},setIsDragging:function(c){this.set("isDragging",c,!0)},setDragOffsetX:function(c,d){this.dragOffsetX!==c&&(this.dragOffsetX=c,this.inited&&this.isDragging&&!d&&this.reRequestDragPosition())},setDragOffsetY:function(c,d){this.dragOffsetY!==c&&(this.dragOffsetY=c,this.inited&&
this.isDragging&&!d&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(c){this.distanceBeforeDrag=c},setDraggableAllowBubble:function(c){this.draggableAllowBubble=c},setCenterOnMouse:function(c){this.centerOnMouse=c},setAllowAbort:function(c){this.allowAbort=c},getDragViews:function(){return[this]},__doContextMenu:c=>{},__doMouseDown:function(c){const d=l.MouseObservable.getMouseFromEvent(c),e=this.getODE();this.dragInitX=d.x-e.offsetLeft;this.dragInitY=d.y-e.offsetTop;this.attachToDom(q,
"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(q,"__doDragCheck","mousemove",!0):this.startDrag(c);c.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(c){this.isDragging?this.stopDrag(c,!1):(this.detachFromDom(q,"__doMouseUp","mouseup",!0),this.detachFromDom(q,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(c){c.value===f.CODE_ESC&&this.stopDrag(c,!0)},__doDragCheck:function(c){const d=l.MouseObservable.getMouseFromEvent(c);
l.Geometry.measureDistance(d.x,d.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(l.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(c))},startDrag:function(c){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(f,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(q,"updateDrag","mousemove",!0);this.updateDrag(c)},updateDrag:function(c){this.__lastMousePosition=
l.MouseObservable.getMouseFromEvent(c);this.reRequestDragPosition()},__updateDragInitX:function(c){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(c){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(c,d){this.detachFromDom(q,"__doMouseUp","mouseup",!0);this.detachFromDom(q,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(f,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(c,d){this.disabled||(this.setX(c),this.setY(d))},reRequestDragPosition:function(){const c=this.__lastMousePosition;this.requestDragPosition(c.x-this.dragInitX+this.dragOffsetX,c.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(l=>{const u=JS.Class;var v=JS.Module,q=l.View;const f=l.KeyActivation,a=l.AccessorSupport.defAttr,b=l.Button=new v("Button",{include:[l.Activateable,l.UpdateableUI,l.Disableable,l.MouseOverAndDown,f],extend:{FOCUS_SHADOW:[0,0,7,"#666"],DISABLED_OPACITY:.5},initNode:function(c,d){a(d,"focusable",!0);a(d,"cursor","pointer");this.callSuper(c,d)},setFocused:function(c){const d=this.focused;this.callSuper(c);this.inited&&this.focused!==d&&this.updateUI()},doActivationKeyDown:function(c,d){d||this.updateUI()},
doActivationKeyUp:function(c){this.callSuper(c);this.updateUI()},doActivationKeyAborted:function(c){this.callSuper(c);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const c=this.__restoreCursor;c&&(this.setCursor(c),this.__restoreCursor=null);this.activateKeyDown!==f.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});v=l.SimpleButtonStyle=new v("SimpleButtonStyle",{include:[b],setActiveColor:function(c){this.activeColor!==c&&(this.activeColor=c,this.inited&&this.updateUI())},setHoverColor:function(c){this.hoverColor!==
c&&(this.hoverColor=c,this.inited&&this.updateUI())},setReadyColor:function(c){this.readyColor!==c&&(this.readyColor=c,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(c,d=1){this.setOpacity(d);this.setBgColor(c)}});q=l.SimpleButton=new u("SimpleButton",q,{include:[v],initNode:function(c,
d){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(c,d)}});l.SimpleTextButton=new u("SimpleTextButton",q,{initNode:function(c,d){this.inset=this.outset=0;a(d,"shrinkToFit",!1);a(d,"height",24);a(d,"textY","middle");this.callSuper(c,d);c=this.textY;d={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof c?d.valign=c:d.y=c;c=new l.Text(this,d);this.constrain("__updateContent",[this,"inset",this,
"outset",this,"width",this,"shrinkToFit",c,"visible",c,"width",c,"height",c,"y"])},setInset:function(c){this.set("inset",this.valueFromEvent(c),!0)},setOutset:function(c){this.set("outset",this.valueFromEvent(c),!0)},setText:function(c){this.text!==c&&(this.text=c,this.inited&&(this.textView.setText(c),this.fireEvent("text",c)))},setShrinkToFit:function(c){const d=this.textView;this.shrinkToFit!==c&&(this.shrinkToFit=c,this.inited&&(d&&d.setWhiteSpace(c?"nowrap":"normal"),this.fireEvent("shrinkToFit",
c)))},setTextY:function(c){const d=this.textView;this.textY!==c&&(this.textY=c,this.inited&&(this.fireEvent("textY",c),"string"===typeof c?d.setValign(c):(d.setValign(""),d.setY(c))))},__updateContent:function(c){if(!this.__updateContentLoopBlock&&!this.destroyed){c=this.inset;const d=this.outset,e=this.textView;this.__updateContentLoopBlock=!0;e.setX(c);this.shrinkToFit?this.setWidth(c+(e.visible&&this.text?e.width:0)+d):e.setWidth(this.width-c-d);this.__updateContentLoopBlock=!1}}});l.TextButton=
new u("TextButton",l.PaddedText,{include:[v],initNode:function(c,d){a(d,"focusIndicator",!1);a(d,"roundedCorners",3);a(d,"textAlign","center");a(d,"paddingTop",1);a(d,"height",23-(d.paddingTop||0));a(d,"activeColor","#ddd");a(d,"hoverColor","#eee");a(d,"readyColor","#fff");this.callSuper(c,d)}})})(myt);
(l=>{const u=l.global,v=u.focus,q=u.mouse,f={};l.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>f[a]},initNode:function(a,b){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,b)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,b,c){a=a||this.floatingPanelId;c=c||{};c.panelId=a;return f[a]=new b(null,c)},getFloatingPanel:function(a){return f[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const b=this.getFloatingPanel(a=a||this.floatingPanelId);b&&b.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;if(a&&a.isShown())return a;if(this.callSuper)return this.callSuper()},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});l.FloatingPanel=new JS.Class("FloatingPanel",l.View,{include:[l.RootView],initNode:function(a,b){a=document.createElement("div");a.style.position="absolute";l.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;b.visible=b.focusIndicator=!1;b.focusable=b.focusCage=!0;this.callSuper(a,b)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var b=a.value;a=b.pageX;b=b.pageY;this.containsPoint(a,b)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,b)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(v.focusedView))this.owner[(v.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(a);else{const b=this.getFirstFocusableDescendant();b===this?this.callSuper(a):b.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&v.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(q,"__doMouseDown","mousedown",!0),this.attachTo(v,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(q,"__doMouseDown","mousedown",!0),this.detachFrom(v,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const b=this.panelId,c=a.getFloatingAlignForPanelId(b),d=a.getFloatingValignForPanelId(b),e=a.getPagePosition();let n=0,k=0,t=typeof c;if("string"===t)switch(n=e.x+a.getFloatingAlignOffsetForPanelId(b),c){case "outsideRight":n+=a.width;break;case "insideRight":n+=a.width-this.width;
break;case "outsideLeft":n-=this.width;break;case "insideLeft":break;default:console.warn("Invalid align value",t,c)}else"number"===t?n=c:console.warn("Invalid align type",t,c);this.setX(n);t=typeof d;if("string"===t)switch(k=e.y+a.getFloatingValignOffsetForPanelId(b),d){case "outsideBottom":k+=a.height;break;case "insideBottom":k+=a.height-this.height;break;case "outsideTop":k-=this.height;break;case "insideTop":break;default:console.warn("Invalid valign value",t,d)}else"number"===t?k=d:console.warn("Invalid valign type",
t,d);this.setY(k)}})})(myt);
(l=>{const u=JS.Class,v=JS.Module;var q=l.global;const f=q.focus,a=q.keys,b=l.AccessorSupport.defAttr,c=a.LIST_KEYS,d=e=>{var n=e.itemConfig||[];const k=n.length,t=e.items,g=t.length;var m=e.defaultItemClass;const r=e.getContentView(),p=r.getLayouts();p.forEach(E=>{E.incrementLockedCounter()});const w=r.getODE(),z=w.nextSibling,y=w.parentNode;y.removeChild(w);let B=0;for(;k>B;++B){var C=n[B];const E=C.klass||m;C=C.attrs||{};let h=t[B];h&&!h.isA(E)&&(h.destroy(),h=null);h||=t[B]=new E(r,{listView:e});
h&&(h.callSetters(C),h.__LAYOUT_IDX=B)}y.insertBefore(w,z);n=e.minWidth;for(B=0;k>B;)m=t[B++],m.syncToDom(),n=Math.max(n,m.getMinimumWidth());for(;g>B;)t[B++].destroy();t.length=k;for(B=0;k>B;)e.updateItemWidth(t[B++],n);e.updateContentWidth(r,n);p.forEach(E=>{E.sortSubviews((h,x)=>h.__LAYOUT_IDX-x.__LAYOUT_IDX);E.decrementLockedCounter();E.update()})};q=l.ListViewItemMixin=new v("ListViewItemMixin",{setListView:function(e){this.listView=e},getMinimumWidth:()=>0,syncToDom:()=>{}});l.ListView=new u("ListView",
l.FloatingPanel,{initNode:function(e,n){this.items=[];this.maxHeight=-1;this.minWidth=0;b(n,"defaultItemClass",l.ListViewItem);b(n,"overflow","autoy");b(n,"bgColor","#ccc");b(n,"boxShadow",l.Button.FOCUS_SHADOW);this.callSuper(e,n);d(this);this.buildLayout(this.getContentView())},buildLayout:e=>{new l.SpacedLayout(e,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(e){this.minWidth=e},setDefaultItemClass:function(e){this.defaultItemClass=e},setItemConfig:function(e){this.itemConfig=e;
this.inited&&d(this)},getContentView:function(){return this},setMaxHeight:function(e){this.maxHeight!==e&&(this.maxHeight=e,this.inited&&(this.fireEvent("maxHeight",e),this.setHeight(this.height)))},setHeight:function(e,n){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,e):e,n)},doItemActivated:function(e){this.owner&&this.owner.doItemActivated(e)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const e=this.items,
n=e.length;for(let k=0;n>k;){const t=e[k++];if(t.isFocusable())return t}},getLastFocusableItem:function(){const e=this.items;let n=e.length;for(;n;){const k=e[--n];if(k.isFocusable())return k}},updateItemWidth:(e,n)=>{e.setWidth(n)},updateContentWidth:(e,n)=>{e.setWidth(n)}});l.ListViewAnchor=new v("ListViewAnchor",{include:[l.FloatingPanelAnchor],initNode:function(e,n){b(n,"listViewClass",l.ListView);b(n,"listViewAttrs",{});b(n,"itemConfig",[]);b(n,"activationKeys",c);this.callSuper(e,n)},setListViewClass:function(e){this.listViewClass=
e},setListViewAttrs:function(e){this.listViewAttrs=e},setItemConfig:function(e){this.itemConfig=e},doItemActivated:function(e){this.hideFloatingPanel()},getFloatingPanel:function(e){return this.callSuper(e)||this.createFloatingPanel(e,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(e){const n=this.getFloatingPanel(e);n&&(n.setItemConfig(this.itemConfig),this.callSuper(e))},doActivationKeyDown:function(e,n){if(e===a.CODE_ESC)this.hideFloatingPanel();else{switch(e){case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:this.selectLastItem();
break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:this.selectFirstItem()}this.callSuper(e,n)}},doActivationKeyUp:function(e){if(e!==a.CODE_ESC)switch(this.callSuper(e),e){case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:this.selectLastItem();break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:this.selectFirstItem()}},selectLastItem:function(){var e=this.getFloatingPanel();e&&e.isShown()&&(e=e.getLastFocusableItem())&&e.focus()},selectFirstItem:function(){var e=this.getFloatingPanel();e&&e.isShown()&&
(e=e.getFirstFocusableItem())&&e.focus()}});l.ListViewItem=new u("ListViewItem",l.SimpleTextButton,{include:[q],initNode:function(e,n){b(n,"activeColor","#bbb");b(n,"hoverColor","#fff");b(n,"readyColor","#eee");b(n,"inset",8);b(n,"outset",8);b(n,"activationKeys",c);this.callSuper(e,n)},syncToDom:function(){this.textView.getIDS().width="auto";this.textView.sizeViewToDom()},getMinimumWidth:function(){return this.inset+(this.textView.visible&&this.text?Math.ceil(this.textView.measureNoWrapWidth()):0)+
this.outset},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(e,n){switch(e){case a.CODE_ESC:this.listView.owner.hideFloatingPanel();return;case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:f.prev();break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:f.next()}this.callSuper(e,n)}});l.ListViewSeparator=new u("ListViewSeparator",l.View,{include:[q],initNode:function(e,n){b(n,"height",1);b(n,"bgColor","#666");this.callSuper(e,n)}})})(myt);
(l=>{const u=l.AccessorSupport,v={},q=l.BAG=new JS.Class("BAG",{include:[u,l.Destructible,l.Observable],extend:{getGroup:(f,a)=>{if(f&&a){const b=v[f]||(v[f]={});return b[a]||(b[a]=new q(f,a))}},removeGroup:(f,a)=>{if(f&&a&&(f=v[f])){const b=f[a];b&&delete f[a];return b}}},initialize:function(f,a){this.__nodes=[];this.trueNode=null;this.attrName=f;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&q.removeGroup(this.attrName,this.groupId);this.__nodes.length=
0;this.detachAllObservers();this.callSuper()},setGroupId:function(f){this.set("groupId",f,!0)},setAttrName:function(f){this.set("attrName",f,!0)},setTrueNode:function(f){this.set("trueNode",f,!0)},getNodes:function(){return this.__nodes},register:function(f){f&&!this.isRegistered(f)&&(this.__nodes.push(f),f[this.attrName]&&this.setTrue(f))},unregister:function(f){if(f){const a=this.__nodes;let b=a.length;for(;b;)if(f===a[--b]){a.splice(b,1);break}this.trueNode===f&&this.setTrueNode(null);0===a.length&&
this.destroy()}},setTrue:function(f){if(f&&this.trueNode!==f&&this.isRegistered(f)){const a=this.attrName,b=u.generateSetterName(a),c=this.__nodes;let d=c.length;for(this.setTrueNode(f);d;){const e=c[--d];if(f===e){if(!e[a])e[b](!0)}else if(e[a])e[b](!1)}}},setFalse:function(f){f&&this.trueNode===f&&(f[u.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(f){const a=this.__nodes;let b=a.length;for(;b;)if(f===a[--b])return!0;return!1}});l.BAGMembership=new JS.Module("BAGMembership",
{initNode:function(f,a){this.__bags=[];this.callSuper(f,a)},destroy:function(){const f=this.__bags;let a=f.length;for(;a;){const b=f[--a];this.removeFromBAG(b.attrName,b.groupId)}this.callSuper()},isRegisteredWithBAG:function(f){const a=this.__bags;let b=a.length;for(;b;)if(a[--b]===f)return!0;return!1},getBAG:(f,a)=>q.getGroup(f,a),addToBAG:function(f,a){a=this.getBAG(f,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,"__updateForBAG",f)||this.attachTo(this,
"__updateForBAG",f))},removeFromBAG:function(f,a){a=this.getBAG(f,a);if(this.isRegisteredWithBAG(a)){const b=this.__bags;let c=b.length,d=!0;for(;c;){const e=b[--c];e===a?(b.splice(c,1),a.unregister(this)):e.attrName===f&&(d=!1)}d&&this.detachFrom(this,"__updateForBAG",f)}},__updateForBAG:function(f){this.__bags.forEach(a=>{if(a.attrName===f.type)a[f.value?"setTrue":"setFalse"](this)})}})})(myt);
(l=>{const u=l.AccessorSupport.defAttr,v=q=>{const f=q.label||"";q.setText('<i class="far fa-'+(!0===q.selected?"dot-":"")+'circle"></i>'+(0<f.length?" ":"")+f)};l.Radio=new JS.Class("Radio",l.Text,{include:[l.SimpleButtonStyle,l.BAGMembership],initNode:function(q,f){u(f,"selected",!1);null==f.groupId&&(f.groupId=l.generateGuid());u(f,"focusIndicator",!1);u(f,"activeColor","inherit");u(f,"hoverColor","inherit");u(f,"readyColor","inherit");const a=f.value;delete f.value;this.callSuper(q,f);this.setValue(a);
this.selected&&(q=this.getBAG("selected",this.groupId))&&q.setTrue(this);l.FontAwesome.registerForNotification(this);v(this)},setOptionValue:function(q){this.set("optionValue",q,!0)},setValue:function(q){if(this.inited){const f=this.getBAG("selected",this.groupId);if(f){const a=f.getNodes();let b=a.length;for(;b;){const c=a[--b];if(c.optionValue===q){f.setTrue(c);break}}}}},getValue:function(){var q=this.getBAG("selected",this.groupId);return(q=q?q.trueNode:null)?q.optionValue:null},setSelected:function(q){this.selected!==
q&&(this.selected=q,this.inited&&(this.fireEvent("selected",q),v(this)))},setGroupId:function(q){if(this.groupId!==q){const f=this.groupId;this.groupId=q;f&&this.removeFromBAG("selected",f);q&&this.addToBAG("selected",q);this.inited&&this.fireEvent("groupId",q)}},setLabel:function(q){this.label!==q&&(this.set("label",q,!0),this.inited&&v(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(q,f=1){this.setOpacity(f);this.setTextColor(q)}})})(myt);
(l=>{const u=JS.Module,v=l.global.keys,q=l.Selectable=new u("Selectable",{setSelected:function(a){a=this.valueFromEvent(a);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return!!this.selected},canSelect:a=>!0,canDeselect:a=>!0}),f=l.SelectionManager=new u("SelectionManager",{extend:{isAddMode:()=>v.isShiftKeyDown(),isToggleMode:()=>v.isAcceleratorKeyDown()},initNode:function(a,b){this.__selected={};this.__lastSelectedItem=null;
b.selectedCount=0;this.defAttr(b,"itemSelectionId","id");this.defAttr(b,"maxSelected",-1);this.callSuper(a,b)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>f.isAddMode(),isToggleMode:()=>f.isToggleMode(),getSelected:function(){const a=[],b=this.__selected;for(const c in b)a.push(b[c]);return a},select:function(a){a&&
!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const b=this.maxSelected,c=this.selectedCount;if(0===b)return!1;if(1===b){if(0<c&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<b&&c>=b)return!1;return a.canSelect(this)},
selectAll:function(){const a=this.getSelectableItems();let b=a.length;for(;b;)this.select(a[--b])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},
deselectAll:function(){const a=this.__selected;for(const b in a)this.deselect(a[b])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],b=this.getSubviews();let c=b.length;for(;c;){const d=b[--c];d.isA(q)&&a.push(d)}return a},getSelectableItems:function(){const a=this.getManagedItems();let b=a.length;for(;b;)a[--b].canSelect(this)||a.splice(b,1);return a},getSelectableItem:function(a){const b=
this.getSelectableItems(),c=this.itemSelectionId;let d=b.length;for(;d;){const e=b[--d];if(e[c]===a)return e}}})})(myt);
(l=>{const u=JS.Class,v=l.View,q=l.SizeToParent,f=l.AccessorSupport.defAttr,a=l.TabSlider=new u("TabSlider",v,{include:[l.Selectable,l.Disableable,q],initNode:function(c,d){const e=this;let n;d.defaultPlacement="wrapper.container";d.percentOfParentWidth=100;d.expansionState="collapsed";null==d.tabId&&(d.tabId=l.generateGuid());f(d,"tabContainer",c);f(d,"selected",!1);f(d,"buttonClass",l.SimpleButton);f(d,"zIndex",0);f(d,"buttonHeight",30);f(d,"fillColorSelected","#666");f(d,"fillColorHover","#eee");
f(d,"fillColorActive","#ccc");f(d,"fillColorReady","#fff");f(d,"minContainerHeight",100);d.selected&&(n=!0,delete d.selected);e.callSuper(c,d);new e.buttonClass(e,{name:"button",ignorePlacement:!0,zIndex:1,height:e.buttonHeight,focusIndicator:!0,groupId:e.parent.parent.groupId,percentOfParentWidth:100,hoverColor:e.fillColorHover,activeColor:e.fillColorActive,readyColor:e.fillColorReady},[q,{doActivated:()=>{const k=e.tabContainer;e.isSelected()&&1!==k.maxSelected?k.deselect(e):k.select(e)},updateUI:function(){this.callSuper();
e.selected&&-1!==e.tabContainer.maxSelected&&this.setBgColor(e.fillColorSelected);e.notifyButtonRedraw()}}]);c=new v(e,{name:"wrapper",ignorePlacement:!0,y:e.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[q,{setHeight:function(k,t){this.callSuper(Math.round(k),t)},setWidth:function(k,t){this.callSuper(k,t);this.inited&&this.container.setWidth(k)}}]);new l.SizeToChildren(new v(c,{name:"container"}),{axis:"y"});e.constrain("__updateHeight",[c,"y",c,"height"]);
n&&e.tabContainer.select(e);!0===d.disabled&&e.setDisabled(!0);e.setHeight(e.getCollapsedHeight())},setSelected:function(c){this.callSuper(c);this.button&&this.button.updateUI()},setTabId:function(c){this.tabId=c},setTabContainer:function(c){this.tabContainer=c},setMinContainerHeight:function(c){this.minContainerHeight=c},setButtonClass:function(c){this.buttonClass=c},setFillColorSelected:function(c){this.fillColorSelected=c},setFillColorHover:function(c){this.fillColorHover=c},setFillColorActive:function(c){this.fillColorActive=
c},setFillColorReady:function(c){this.fillColorReady=c},setButtonHeight:function(c){this.buttonHeight!==c&&(this.buttonHeight=c,this.button&&(this.button.setHeight(c),this.wrapper.setY(c)))},setExpansionState:function(c){if(this.expansionState!==c){this.expansionState=c;this.inited&&this.fireEvent("expansionState",c);const d=this.wrapper;d&&("expanded"===c?(d.setMaskFocus(!1),d.setOverflow("auto")):"expanding"===c?d.setVisible(!0):"collapsed"===c?d.setVisible(!1):"collapsing"===c&&(d.setMaskFocus(!0),
d.setOverflow("hidden")))}},doDisabled:function(){const c=this.button;c&&c.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(c){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(c){const d=this,e=d.wrapper;c-=d.getCollapsedHeight();d.setExpansionState("expanding");e.stopActiveAnimators();if(e.height!==c){const n=d.tabContainer.duration;1===n?(e.setHeight(c),d.setExpansionState("expanded")):e.animate({attribute:"height",to:c,duration:n}).next(k=>{d.setExpansionState("expanded")})}else d.setExpansionState("expanded")},
collapse:function(){const c=this,d=c.wrapper;c.setExpansionState("collapsing");d.stopActiveAnimators();if(0!==d.height){const e=c.tabContainer.duration;1===e?(d.setHeight(0),c.setExpansionState("collapsed")):d.animate({attribute:"height",to:0,duration:e}).next(n=>{c.setExpansionState("collapsed")})}else c.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},
getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}});l.TextTabSlider=new u("TextTabSlider",a,{initNode:function(c,d){f(d,"labelTextColorChecked","#fff");f(d,"labelTextColor","#333");this.callSuper(c,d);new l.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(c){this.labelTextColorChecked=c},setLabelTextColor:function(c){this.labelTextColor=
c},setText:function(c){if(this.text!==c){this.text=c;const d=this.button;d&&d.label&&d.label.setText(c)}},notifyButtonRedraw:function(){const c=this.button.label;c&&c.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});const b=l.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[l.SelectionManager],extend:{SPACING:1},initNode:function(c,d){const e=this;e._tabSliders=[];
d.defaultPlacement="container";f(d,"spacing",b.SPACING);f(d,"overflow","autoy");f(d,"itemSelectionId","tabId");f(d,"maxSelected",1);f(d,"duration",500);e.updateLayout=l.debounce(e.updateLayout);e.callSuper(c,d);c=new v(e,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[q,{subnodeAdded:function(n){this.callSuper(n);n instanceof a&&(e._tabSliders.push(n),e.attachTo(n,"updateLayout","selected"))},subnodeRemoved:function(n){if(n instanceof a){const k=e._tabSliders;let t=k.length;for(;t;)if(k[--t]===
n){e.detachFrom(n,"updateLayout","selected");k.splice(t,1);break}}this.callSuper(n)}}]);new l.SpacedLayout(c,{name:"layout",axis:"y",spacing:e.spacing,collapseParent:!0});e.attachTo(e,"updateLayout","height")},setSpacing:function(c){this.spacing!==c&&(this.spacing=c,this.layout&&this.layout.setSpacing(c))},setDuration:function(c){this.duration=c},updateLayout:function(c,d){c=this._tabSliders;for(var e=c.length,n=e,k=0,t=0,g=0;n;){var m=c[--n];m.visible&&(++g,m.selected?(k+=m.getMinimumExpandedHeight(),
t+=m.getPreferredExpandedHeight()):(m=m.getCollapsedHeight(),k+=m,t+=m))}n=this.container.layout;g=n.inset+n.outset+n.spacing*(g-1);t+=g;n=this.height;k=k+g>n;g=t>n;m=this.duration;t-=n;0<d&&this.setDuration(d);for(n=e;n;)if(e=c[--n],e.visible)if(e.selected){let r;if(k)r=e.getMinimumExpandedHeight();else if(g){const p=e.getPreferredExpandedHeight(),w=e.getMinimumExpandedHeight();r=p-t;w>r?(t-=p-w,r=w):t=0}else r=e.getPreferredExpandedHeight();e.expand(r)}else e.collapse();0<d&&this.setDuration(m)}})})(myt);
(l=>{const u=l.AccessorSupport.defAttr,v=a=>{const b=[];switch(a.tabContainer.location){case "top":b.push("TopLeft","TopRight");break;case "bottom":b.push("BottomLeft","BottomRight");break;case "left":b.push("TopLeft","BottomLeft");break;case "right":b.push("TopRight","BottomRight")}b.forEach(c=>{a["setRounded"+c+"Corner"](a.cornerRadius||0)})},q=l.Tab=new JS.Class("Tab",l.SimpleTextButton,{include:[l.Selectable],extend:{INSET:8,OUTSET:8},initNode:function(a,b){null==b.tabId&&(b.tabId=l.generateGuid());
u(b,"tabContainer",a);let c;b.selected&&(c=!0,delete b.selected);u(b,"inset",q.INSET);u(b,"outset",q.OUTSET);u(b,"selectedColor","#fff");u(b,"hoverColor","#eee");u(b,"activeColor","#aaa");u(b,"readyColor","#ccc");u(b,"labelTextSelectedColor","#333");u(b,"height",24);u(b,"focusIndicator",!1);u(b,"cornerRadius",6);this.callSuper(a,b);c&&this.tabContainer.select(this);v(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(a){this.tabId=a},
setTabContainer:function(a){this.tabContainer=a},setSelectedColor:function(a){this.selectedColor=a},setLabelTextColor:function(a){this.labelTextColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&v(this)},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}}),f=l.TabContainer=new JS.Module("TabContainer",{include:[l.SelectionManager],extend:{SPACING:1,INSET:0},initNode:function(a,b){this.__tabs=[];u(b,"spacing",f.SPACING);u(b,"inset",f.INSET);u(b,"location","top");u(b,"itemSelectionId","tabId");u(b,"maxSelected",1);this.callSuper(a,b);new l.SpacedLayout(this,{name:"layout",axis:"left"===this.location||
"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(q))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(q)){const b=this.__tabs;let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);break}}this.callSuper(a)}})})(myt);
(l=>{const u=JS.Class,v=Math.min,q=Array.isArray,f=l.global.keys,a=l.SizeToDom;var b=l.View,c=l.Disableable;const d=l.AccessorSupport.defAttr,e=l.Button.FOCUS_SHADOW,n=(m,r,p)=>{m[p]!==r&&(m[p]=r,m.getIDS()[p]=r+"px",m.inited&&(m.fireEvent(p,r),m.sizeViewToDom()))},k=(m,r,p)=>{m[r]!==p&&(m.getIDE()[r]=m[r]=p,m.inited&&m.fireEvent(r,p))},t=l.NativeInputWrapper=new u("NativeInputWrapper",b,{include:[c,l.InputObservable],initNode:function(m,r){d(r,"tagName","input");d(r,"focusable",!0);this.callSuper(m,
r);this.addDomClass("mytNativeInput")},createOurDomElement:function(m){m=this.callSuper(m);this.inputType&&((q(m)?m[1]:m).type=this.inputType);return m},setDisabled:function(m){this.disabled!==m&&(this.getIDE().disabled=m,this.callSuper(m))},setValue:function(m){this.value!==m&&(this.value=m,this.setDomValue(m),this.inited&&this.fireEvent("value",m))},getDomValue:function(){return this.getIDE().value},setDomValue:function(m){const r=this.getIDE();r.value!==m&&(r.value=m)}}),g=l.InputSelectOption=
new u("InputSelectOption",b,{include:[c,l.Selectable],createOurDomElement:m=>document.createElement("option"),setSelected:function(m){m=this.valueFromEvent(m);const r=this.getIDE();r.selected!==m&&(r.selected=m)},setDisabled:function(m){this.disabled!==m&&(this.getIDE().disabled=m,this.callSuper(m))},setValue:function(m){k(this,"value",m)},setLabel:function(m){this.label!==m&&(this.getIDE().textContent=this.label=m,this.inited&&this.fireEvent("label",m))},isSelected:function(){return this.getIDE().selected},
canSelect:function(m){return!this.disabled&&!this.getIDE().selected&&this.parent===m},canDeselect:function(m){return!this.disabled&&this.getIDE().selected&&this.parent===m}});b=l.BaseInputText=new u("BaseInputText",t,{include:[l.TextSupport],initNode:function(m,r){d(r,"bgColor","transparent");d(r,"spellcheck",!1);this.callSuper(m,r);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(m){this.callSuper(m);
this.setValue(m)},setSpellcheck:function(m){k(this,"spellcheck",m)},setMaxLength:function(m){k(this,"maxLength",null==m||0>m?void 0:m)},setAllowedChars:function(m){this.allowedChars=m},setPlaceholder:function(m){k(this,"placeholder",m)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(e)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(m){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(m){const r=
m.value,p=this.allowedChars;p&&-1===p.indexOf(l.KeyObservable.getKeyFromEvent(m))&&r.preventDefault();this.filterInputPress(r)},filterInput:m=>m,filterInputPress:m=>{},__syncToDom:function(m){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const m=document.selection.createRange();m.moveStart("character",-this.getDomValue().length);return m.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(m,r){if(null==r||m===r){if(this.getCaretPosition()===
m)return;r=m}var p=this.getIDE();p.setSelectionRange?p.setSelectionRange(m,r):p.createTextRange&&(p=p.createTextRange(),p.collapse(!0),p.moveEnd("character",r),p.moveStart("character",m),p.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const m=this.getIDE();return{start:m.selectionStart,startElem:m,end:m.selectionEnd,endElem:m}},setSelection:function(m){m&&
this.setCaretPosition(m.start,m.end)},saveSelection:function(m){this._selRange=m||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});c=l.InputText=new u("InputText",b,{include:[l.SizeHeightToDom],initNode:function(m,r){this.inputType=!0===r.password?"password":"text";this.callSuper(m,r);this.setCaretToEnd()},setPassword:function(m){this.password=m}});l.EditableText=new u("EditableText",b,{include:[a],initNode:function(m,r){d(r,"tagName","div");r.inputType=
null;d(r,"whiteSpace","pre");d(r,"contentEditable",!0);this.callSuper(m,r);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(m){n(this,m,"minWidth")},setMinHeight:function(m){n(this,m,"minHeight")},setPadding:function(m){this.setPaddingTop(m);this.setPaddingRight(m);this.setPaddingBottom(m);this.setPaddingLeft(m)},setPaddingTop:function(m){n(this,m,"paddingTop")},
setPaddingRight:function(m){n(this,m,"paddingRight")},setPaddingBottom:function(m){n(this,m,"paddingBottom")},setPaddingLeft:function(m){n(this,m,"paddingLeft")},setContentEditable:function(m){k(this,"contentEditable",m)},filterInputPress:function(m){const r=this.maxLength;0<=r&&this.getCharacterCount()===r&&m.preventDefault();this.callSuper(m)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(m){const r=this.getIDE();r.innerHTML!==m&&(r.innerHTML=m,this.sizeViewToDom(),
this.restoreSelection())},__cleanInput:function(m){l.KeyObservable.isEnterKeyEvent(m)&&(m.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(m){this.callSuper(m);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const m=this.getIDE().firstChild;return m?m.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const m=
this.getSelection();return m?m.end:0},setCaretPosition:function(m,r){if(null==r||m===r){if(this.getCaretPosition()===m)return;r=m}this.saveSelection({start:m,startElem:this.getIDE().firstChild,end:r,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(m){this.saveSelection();return!0},getSelection:function(){let m;if(window.getSelection){const r=window.getSelection();if(0<r.rangeCount){if(r.extentNode===this.getIDE())return;m=
r.getRangeAt(0)}}else document.selection&&(m=document.selection.createRange());return{start:m?m.startOffset:0,startElem:m?m.startContainer:this.getIDE().firstChild,end:m?m.endOffset:0,endElem:m?m.endContainer:this.getIDE().firstChild}},setSelection:function(m){if(m){const r=m.startElem,p=m.endElem;if(r&&r.parentNode&&p&&p.parentNode){const w=document.createRange();w.setStart(r,v(m.start,r.length));w.setEnd(p,v(m.end,p.length));window.getSelection?(m=window.getSelection(),0<m.rangeCount&&m.removeAllRanges(),
m.addRange(w)):document.selection&&w.select()}}}});l.InputTextArea=new u("InputTextArea",b,{initNode:function(m,r){d(r,"tagName","textarea");r.inputType=null;d(r,"resize","none");d(r,"wrap","soft");this.callSuper(m,r)},destroy:function(){this.__resizeObserver&&this.__resizeObserver.unobserve(this.getIDE());this.callSuper()},setResize:function(m){const r=this;r.resize!==m&&(m=r.resize=r.getIDS().resize=m||"none",r.inited&&r.fireEvent("resize",m),"none"!==m&&(r.__resizeObserver||(r.__resizeObserver=
new ResizeObserver(()=>{r.doResize()}))).observe(r.getIDE()))},setWrap:function(m){k(this,"wrap",m)},doResize:function(){const m=this.resize;"both"!==m&&"horizontal"!==m||a.sizeWidth(this);"both"!==m&&"vertical"!==m||a.sizeHeight(this)}});l.ComboBox=new u("ComboBox",c,{include:[l.Activateable,l.KeyActivation,l.ListViewAnchor],initNode:function(m,r){this.filterItems=!0;d(r,"activationKeys",[f.CODE_ENTER,f.CODE_ESC,f.CODE_ARROW_UP,f.CODE_ARROW_DOWN]);d(r,"bgColor","#fff");d(r,"borderWidth",1);d(r,"borderStyle",
"solid");d(r,"floatingAlignOffset",r.borderWidth);d(r,"listViewAttrs",{maxHeight:99});d(r,"fullItemConfig",[]);this.callSuper(m,r)},setFullItemConfig:function(m){this.fullItemConfig=m},setFilterItems:function(m){this.filterItems=m},__syncToDom:function(m){const r=this.value;this.callSuper(m);r!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(m){const r=this.getFloatingPanel(m);if(r){let w;if(this.filterItems){w=[];var p=this.value;p=null==p?"":(""+p).toLowerCase();const z=this.fullItemConfig,
y=z.length;for(let B=0;y>B;){const C=z[B++],E=C.attrs.text.toLowerCase(),h=E.indexOf(p);0===h?E!==p&&w.push(C):0<h&&w.push(C)}}else w=this.fullItemConfig;0<w.length?(r.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(w),this.callSuper(m)):this.hideFloatingPanel(m)}},doItemActivated:function(m){this.setValue(m.text);this.callSuper(m)},doActivated:function(){this.toggleFloatingPanel()}});l.InputSelect=new u("InputSelect",t,{include:[a],initNode:function(m,r){d(r,"tagName","select");r.inputType=
null;d(r,"multiple",!1);d(r,"size",r.multiple?4:1);this.callSuper(m,r);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(m){k(this,"multiple",m)},setSize:function(m){k(this,"size",m)},setOptions:function(m){this.destroyAllOptions();q(m)&&m.forEach(r=>{this.addOption(r)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(m){q(m)&&l.areArraysEqual(m,this.value)||this.value===m||(this.value=m,this.inited&&this.fireEvent("value",m))},subviewAdded:function(m){m instanceof
g||(l.dumpStack("Subview unsupported. Destroying it"),m.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(e)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(m=>m.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(m=>m.value)},getOptionForValue:function(m){return this.getOptions().find(r=>r.value===m)},addOption:function(m){return new g(this,
m)},destroyAllOptions:function(){this.getOptions().forEach(m=>{m.destroy()})},destroyOptionWithValue:function(m){if(m=this.getOptionForValue(m))if(m.destroy(),m.destroyed)return!0;return!1},deselectAll:function(){let m=!1;this.getOptions().forEach(r=>{r.isSelected()&&(r.setSelected(!1),m=!0)});m&&this.__doChanged()},selectValues:function(m){(q(m)?m:[m]).forEach(r=>{this.selectValue(r)})},selectValue:function(m){this.select(this.getOptionForValue(m))},select:function(m){m&&m.canSelect(this)&&(m.setSelected(!0),
this.__syncToDom())},deselectValue:function(m){this.deselect(this.getOptionForValue(m))},deselect:function(m){m&&m.canDeselect(this)&&(m.setSelected(!1),this.__syncToDom())},__doChanged:function(m){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(l=>{const u=JS.Module,v=Math.round;var q=l.ValueComponent=new u("ValueComponent",{initNode:function(a,b){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,b)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,b){const c=this.valueFilter;
this.setValueFilter(c?"last"===b?d=>a(c(d)):d=>c(a(d)):a)}});const f=l.RangeComponent=new u("RangeComponent",{include:[q],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var b=
this.value;const c=b?b.lower:void 0;b=b?b.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==c||a.upper!==b){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const d=a.lower;a.lower=a.upper;a.upper=d}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==c&&this.fireEvent("lowerValue",a.lower),a.upper!==b&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});q=l.BoundedValueComponent=new u("BoundedValueComponent",{include:[q],initNode:function(a,b){const c=this;c.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==b.snapToInt&&(b.snapToInt=!0);b.valueFilter||(b.valueFilter=d=>{var e=c.maxValue;if(null!=e&&d>e)return e;e=c.minValue;return null!=e&&d<e?e:d});c.callSuper(a,b)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=v(a));if(this.minValue!==a){const b=this.maxValue;null!=b&&a>b&&(a=b);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=v(a));if(this.maxValue!==a){const b=this.minValue;null!=b&&a<b&&(a=b);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",a),this.setValue(this.value)))}},
setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?v(a):a)}});l.BoundedRangeComponent=new u("BoundedRangeComponent",{include:[q,f],initNode:function(a,b){const c=this;b.valueFilter||(b.valueFilter=d=>{if(d){const e=c.maxValue,n=c.minValue;null!=e&&d.upper>e&&(d.upper=e);null!=n&&d.lower<n&&(d.lower=n)}return d});c.callSuper(a,b)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=v(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=v(a.upper)));
this.callSuper(a)}})})(myt);
(l=>{const u=l.AccessorSupport.defAttr,v=q=>{const f=q.label||"";q.setText('<i class="'+("solid"===(q.checkboxStyle||"outline")?"fas":"far")+" fa-"+(q.isChecked()?"check-":"")+'square"></i>'+(0<f.length?" ":"")+f)};l.Checkbox=new JS.Class("Checkbox",l.Text,{include:[l.SimpleButtonStyle,l.ValueComponent],initNode:function(q,f){this.appendToEarlyAttrs("userUnselectable");u(f,"value",!1);u(f,"focusIndicator",!1);u(f,"checkboxStyle","outline");u(f,"activeColor","inherit");u(f,"hoverColor","inherit");
u(f,"readyColor","inherit");this.callSuper(q,f);l.FontAwesome.registerForNotification(this);v(this)},setValue:function(q){this.value!==q&&(this.callSuper(q),this.inited&&v(this))},setLabel:function(q){this.label!==q&&(this.set("label",q,!0),this.inited&&v(this))},setCheckboxStyle:function(q){this.checkboxStyle!==q&&(this.set("checkboxStyle",q,!0),this.inited&&v(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(q,f=1){this.setOpacity(f);
this.setTextColor(q)}})})(myt);
(l=>{let u;const v=JS.Class,q=JS.Module,f=l.global,a=f.focus,b=f.keys,c=l.AccessorSupport.defAttr,d=l.KeyObservable,e={},n=(h,x)=>{if(h){const A=h.id;h.id?x(A):l.dumpStack("No ID")}else l.dumpStack("No processor")},k=h=>{n(h,x=>{e[x]=h})},t=h=>{const x=l.BAG.getGroup("selected",h.groupId);if(x){const A=x.getNodes();h=h.value;let G=A.length;for(;G;){const I=A[--G];if(I.optionValue===h){x.setTrue(I);break}}}},g=h=>{if(h.groupId){const x=l.BAG.getGroup("selected",h.groupId);x&&h.syncTo(x,"__syncValue",
"trueNode")}},m=(h,x)=>{const A=[];h.__v.forEach(G=>{x=G.isFormValid(h,null,A)&&x});h.setErrorMessages(A);h.setIsValid(x);return x},r=(h,x,A)=>{h.__vp.forEach(G=>{G[A]&&(x=G.process(x))});return x},p=l.ValueProcessor=new v("ValueProcessor",{initialize:function(h,x,A,G){this.id=h;this.runForDefault=!!x;this.runForRollback=!!A;this.runForCurrent=!!G},process:h=>h}),w=l.ToNumberValueProcessor=new v("ToNumberValueProcessor",p,{process:h=>{if(null==h||""===h||"-"===h)return h;const x=Number(h);return isNaN(x)?
h:x}}),z=l.TrimValueProcessor=new v("TrimValueProcessor",p,{initialize:function(h,x,A,G,I){this.callSuper(h,x,A,G);this.trim=I},process:function(h){h+="";switch(this.trim){case "start":case "left":return h.trimStart();case "end":case "right":return h.trimEnd();default:return h.trim()}}}),y=l.UndefinedValueProcessor=new v("UndefinedValueProcessor",p,{initialize:function(h,x,A,G,I){this.callSuper(h,x,A,G);this.defaultValue=I},process:function(h){return void 0===h?this.defaultValue:h}}),B=l.Form=new q("Form",
{initNode:function(h,x){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(h,x);this.form&&this.form.isA(B)&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.isA(B)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(h){this.errorMessages=h},getFullId:function(){const h=[this.id];let x=this.form;for(;x&&x.id;)h.unshift(x.id),x=x.form;return h.join(".")},setId:function(h){if(this.id!==h){const x=this.id;
this.id=h;(h=this.form)&&this.inited&&(h.removeSubForm(x),h.addSubForm(this))}},setForm:function(h){if(this.form!==h){const x=this.form;this.form=h;x&&x.removeSubForm(this.id);h&&this.inited&&h.addSubForm(this)}},setIsValid:function(h){this.isValid=h;this.inited&&this.fireEvent("isValid",h);const x=this.form;x&&!this._lockCascade&&(h?x.verifyValidState(this):x.notifySubFormInvalid())},setIsChanged:function(h){if(this.isChanged!==h){this.isChanged=h;this.inited&&this.fireEvent("isChanged",h);const x=
this.form;x&&!this._lockCascade&&(h?x.notifySubFormChanged():x.verifyChangedState(this))}},setValidators:function(h){let x=h.length;for(;x;){const A=h[--x];"string"===typeof A&&(h[x]=f.validators.getValidator(A),h[x]||h.splice(x,1))}this.__v=h},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(C))return this.value;const h={},x=this.__sf;for(const A in x)h[A]=x[A].getValue();return h},setValue:function(h){this.callSuper&&this.callSuper(h);if("object"===typeof h&&!this.isA(C))for(const x in h){const A=
this.getSubForm(x);A?h[x]=A.setValue(h[x]):console.warn("ID in setValue for missing subform",x)}this.form&&this.form.notifyValueChanged(this);return h},getDefaultValue:function(){const h={};let x=this.__sf;for(const A in x)h[A]=x[A].getDefaultValue();return h},setDefaultValue:function(h){if("object"===typeof h)for(const x in h){const A=this.getSubForm(x);A?h[x]=A.setDefaultValue(h[x]):console.warn("ID in setDefaultValue for missing subform",x)}return h},getRollbackValue:function(){const h={},x=this.__sf;
for(const A in x)h[A]=x[A].getRollbackValue();return h},setRollbackValue:function(h){if("object"===typeof h)for(const x in h){const A=this.getSubForm(x);A?h[x]=A.setRollbackValue(h[x]):console.warn("ID in setRollbackValue for missing subform",x)}return h},addAccelerator:function(h,x){this.__acc[h]=x},removeAccelerator:function(h){delete this.__acc[h]},invokeAccelerator:function(h,x){(h=this.__acc[h])&&h.call(this,null==x?null:x)},addValidator:function(h){h&&this.__v.push(h)},removeValidator:function(h){if(h){const x=
this.__v;let A=x.length;for(;A;){const G=x[--A];if(G.id===h)return x.splice(A,1),G}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(h){const x=h.id;null!=this.getSubForm(x)?console.warn("ID in use for subform, add aborted",x,h):(h.setForm(this),this.__sf[x]=h,h.isChanged&&this.notifySubFormChanged(),h.isValid||this.notifySubFormInvalid())},removeSubForm:function(h){const x=this.getSubForm(h);x&&(x.setForm(null),delete this.__sf[h],this.verifyChangedState(),
this.verifyValidState());return x},getSubForm:function(h){return this.__sf[h]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(h){h&&this.doValidation();const x=[];(function I(G){if(G.isA(C))G.isValid||x.push(G.getFullId());else{G=G.getSubForms();for(const J in G)I(G[J])}})(this);return x},getAllErrorMessages:function(){const h=this.__sf;let x=(this.errorMessages||[]).concat();for(const A in h)x=x.concat(h[A].getAllErrorMessages());return x},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(h){const x=this.__sf;let A=!0;for(const G in x){const I=x[G];I!==h&&(A=I.isValid&&A)}return m(this,A)},doValidation:function(){const h=this.__sf;let x=!0;for(const A in h)x=h[A].doValidation()&&x;this._lockCascade=!0;x=m(this,x);this._lockCascade=!1;return x},notifyValueChanged:function(h){this.form&&this.form.notifyValueChanged(h)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(h){const x=this.__sf;let A=!1;for(const G in x){const I=x[G];
I!==h&&(A=I.isChanged||A)}this.setIsChanged(A);return A},setup:function(h,x,A){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==h&&(h={});null==x&&(x={});null==A&&(A={});const G=this.__sf;for(const I in G)G[I].setup(h[I],x[I],A[I])},resetForm:function(){this._lockCascade=!0;const h=this.__sf;for(const x in h)h[x].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=
!0;const h=this.__sf;for(const x in h)h[x].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const h={},x=this.__sf;for(const A in x){const G=x[A];G.isChanged&&(h[A]=G.getChangedValue())}return h}}),C=l.FormElement=new q("FormElement",{include:[B],initNode:function(h,x){this.__vp=[];this.callSuper(h,x)},getValue:function(){return r(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(h){void 0===
h&&(h=this.getRollbackValue());this.value!==h&&(this.callSuper(h),this.verifyChangedState());return h},getDefaultValue:function(){return r(this,this.defaultValue,"runForDefault")},setDefaultValue:function(h){this.defaultValue!==h&&(this.defaultValue=h,this.inited&&this.fireEvent("defaultValue",h),this.verifyChangedState());return h},getRollbackValue:function(){return r(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(h){void 0===h&&(h=this.getDefaultValue());this.rollbackValue!==
h&&(this.rollbackValue=h,this.inited&&this.fireEvent("rollbackValue",h),this.verifyChangedState());return h},setValueProcessors:function(h){let x=h.length;for(;x;){const A=h[--x];"string"===typeof A&&(h[x]=e[A],h[x]||h.splice(x,1))}this.__vp=h},addValueProcessor:function(h){this.__vp.push(h)},removeValueProcessor:function(h){if(h){const x=this.__vp;let A=x.length;for(;A;){const G=x[--A];if(G.id===h)return x.splice(A,1),G}}},addSubForm:h=>{l.dumpStack("addSubForm unsupported on FormElement")},getSubForm:h=>
{l.dumpStack("getSubForm unsupported on FormElement")},removeSubForm:h=>{l.dumpStack("removeSubForm unsupported on FormElement")},verifyChangedState:function(h){h=this.getValue()!==this.getRollbackValue();this.setIsChanged(h);return h},setup:function(h,x,A){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(h);this.setRollbackValue(x);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(A)},resetForm:function(){this._lockCascade=
!0;const h=this.getDefaultValue();this.setRollbackValue(h);this.setValue(h);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),E=l.FormInputTextMixin=new q("FormInputTextMixin",{include:[C,l.UpdateableUI],initNode:function(h,
x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";c(x,"bgColor","#fff");c(x,"borderWidth",1);c(x,"borderStyle","solid");c(x,"borderStyle",!0);this.callSuper(h,x);this.addValueProcessor(u);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(h){this.validateWhen=
h},setAcceleratorScope:function(h){this.acceleratorScope=h},setErrorColor:function(h){this.errorColor=h},setActionRequiredColor:function(h){this.actionRequiredColor=h},setNormalColor:function(h){this.normalColor=h},setIsChanged:function(h){this.callSuper(h);this.inited&&this.updateUI()},setIsValid:function(h){this.callSuper(h);this.inited&&this.updateUI()},setValue:function(h){h=this.callSuper(h);const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return h},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__hndlKeyDown:function(h){d.isEnterKeyEvent(h)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(h){d.isEscKeyEvent(h)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const h=this.validateWhen;
"blur"!==h&&"blurWithKeyFix"!==h||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});l.RootForm=new q("RootForm",{include:[B],initNode:function(h,x){this.callSuper(h,x);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:h=>{},doInvalidSubmit:()=>
{},doCancel:function(){this.rollbackForm();this.doValidation()}});l.FormCheckbox=new v("FormCheckbox",l.Checkbox,{include:[C],initNode:function(h,x){this.rollbackValue=this.defaultValue=!1;this.callSuper(h,x)}});l.FormComboBox=new v("FormComboBox",l.ComboBox,{include:[C,l.UpdateableUI],initNode:function(h,x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(h,x);this.addValueProcessor(u);this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(h){this.validateWhen=h},setAcceleratorScope:function(h){this.acceleratorScope=h},setErrorColor:function(h){this.errorColor=h},setActionRequiredColor:function(h){this.actionRequiredColor=h},setNormalColor:function(h){this.normalColor=h},setIsChanged:function(h){this.callSuper(h);this.inited&&this.updateUI()},setIsValid:function(h){this.callSuper(h);this.inited&&this.updateUI()},setValue:function(h){h=this.callSuper(h);
const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return h},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},
notifyPanelShown:function(h){this._isShown=!0},notifyPanelHidden:function(h){this._isShown=!1},doActivationKeyDown:function(h,x){h!==b.CODE_ESC||this._isShown?this.callSuper(h,x):this.invokeAccelerator("reject")},doActivationKeyUp:function(h){h!==b.CODE_ENTER||this._isShown?this.callSuper(h):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const h=this.validateWhen;"blur"!==h&&"blurWithKeyFix"!==h||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:
this.isChanged?this.errorColor:this.actionRequiredColor)}});l.FormEditableText=new v("FormEditableText",l.EditableText,{include:[E],__hndlKeyDown:function(h){"nowrap"===this.whitespace&&this.callSuper(h)}});l.FormInputText=new v("FormInputText",l.InputText,{include:[E]});l.FormInputTextArea=new v("FormInputTextArea",l.InputTextArea,{include:[E],__hndlKeyDown:h=>{}});l.FormInputSelect=new v("FormInputSelect",l.InputSelect,{include:[C],setValue:function(h){if(!this.__abortSetValue)return h=this.callSuper(h),
this.__abortSetValue=!0,this.deselectAll(),this.selectValues(h),this.__abortSetValue=!1,this.verifyValidState(),h}});l.FormRadioGroup=new v("FormRadioGroup",l.Node,{include:[l.ValueComponent,C],initNode:function(h,x){null==x.groupId&&(x.groupId=l.generateGuid());this.callSuper(h,x);void 0!==this.value&&t(this);g(this)},setValue:function(h){h=this.callSuper(h);this.inited&&t(this);return h},setGroupId:function(h){if(this.groupId!==h){if(this.groupId){const x=l.BAG.getGroup("selected",this.groupId);
x&&this.detachFrom(x,"__syncValue","trueNode")}this.groupId=h;this.inited&&g(this)}},__syncValue:function(h){h=h.value;this.setValue(h?h.optionValue:null)}});l.UseOtherFieldIfEmptyValueProcessor=new v("UseOtherFieldIfEmptyValueProcessor",p,{initialize:function(h,x,A,G,I){this.callSuper(h,x,A,G);this.otherField=I},process:function(h){return null==h||""===h?this.otherField.getValue():h}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){k(u=new y("undefToEmpty",!0,!0,!0,""));k(new w("toNumber",
!0,!0,!0));k(new z("trimLeft",!0,!0,!0,"left"));k(new z("trimRight",!0,!0,!0,"right"));k(new z("trimBoth",!0,!0,!0,"both"));f.register("valueProcessors",this)},getValueProcessor:h=>e[h],register:k,unregister:h=>{n(h,x=>{e[x]&&delete e[x]})}})})(myt);
(l=>{const u=JS.Class,v=Math.round,q={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},f=(d,e)=>{d[e](d,"doDragOver","dragover",!1);d[e](d,"doDragEnter","dragenter",!1);d[e](d,"doDragLeave","dragleave",!1);d[e](d,"doDrop","drop",!1)},a=l.DragDropSupport=new JS.Module("DragDropSupport",{include:[l.DragDropObservable],initNode:function(d,e){this.callSuper(d,e);this.disabled||this.setupDragListeners()},setDisabled:function(d){this.disabled!==d&&(this.getIDE().disabled=d,this.callSuper(d),
this.inited&&(d?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){f(this,"attachToDom")},teardownDragListeners:function(){f(this,"detachFromDom")},doDragOver:d=>{},doDragEnter:d=>{},doDragLeave:d=>{},doDrop:function(d){this.handleFiles(d.value.dataTransfer.files,d)},handleFiles:function(d,e){if(void 0!==d){let n=d.length;for(;n;){const k=this.filterFiles(d[--n]);k&&this.handleDroppedFile(k,e)}}else l.dumpStack("No File API")},filterFiles:d=>d,handleDroppedFile:(d,
e)=>{}}),b=l.Uploader=new u("Uploader",l.View,{include:[a,l.Disableable,l.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(d,e)=>{if(void 0!==FileReader){const n=new FileReader;n.onload=e;n.readAsDataURL(d)}},isSameFile:(d,e)=>null!=d&&null!=e&&d.name===e.name&&d.type===e.type&&d.size===e.size,createFile:d=>{const e=(new l.URI(d)).file;return{name:e,serverPath:d,size:-1,type:q[l.getExtension(e)]}}},initNode:function(d,e){const n=this;n.files=[];n.defAttr(e,"requestFileParam","file");
n.defAttr(e,"maxFiles",-1);n.callSuper(d,e);new l.NativeInputWrapper(n,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:n.disabled,overflow:"hidden"},[l.SizeToParent,{initNode:function(k,t){this.inputType="file";this.callSuper(k,t);this.attachToDom(this,"_hndlInput","change");this.getIDE().multiple=1<n.maxFiles},_hndlInput:function(k){n.handleFiles(this.getIDE().files,k)}}])},setValue:function(d){this.clearFiles();d&&(Array.isArray(d)||(d=[d]),d.forEach(e=>
{this.addFile(b.createFile(e))}));return this.callSuper?this.callSuper(d):d},getValue:function(){return this.value},setDisabled:function(d){this.callSuper(d);this.fileInput&&this.fileInput.setDisabled(d)},setMaxFiles:function(d){this.maxFiles!==d&&(this.maxFiles=d,this.inited&&this.fireEvent("maxFiles",d),this.fileInput&&(this.fileInput.getIDE().multiple=1<d))},setUploadUrl:function(d){this.set("uploadUrl",d,!0)},setRequestFileParam:function(d){this.set("requestFileParam",d,!0)},bringSubviewToFront:function(d){d===
this.fileInput?this.callSuper(d):this.sendSubviewBehind(d,this.fileInput)},subviewAdded:function(d){this.callSuper(d);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(d,e){this.addFile(d)},filterFiles:function(d){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:d},uploadFiles:function(d,e){d=d||this.uploadUrl;const n=this.files;let k=n.length;for(;k;)this.uploadFile(n[--k],d,e)},makeFetchOptionsForUpload:d=>({method:"POST",body:d}),uploadFile:function(d,
e,n){const k=this,t=new FormData;t.append(n||k.requestFileParam,d,d.name);l.doFetch(e||k.uploadUrl,k.makeFetchOptionsForUpload(t),!1,g=>{k.handleUploadSuccess(d,g)},g=>{k.handleUploadFailure(d,g)})},handleUploadSuccess:function(d,e){d[b.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(d,e);this.updateValueFromFiles()},handleUploadFailure:(d,e)=>{l.dumpStack("Upload failure:"+e.status+":"+e.message)},parseServerPathFromResponse:(d,e)=>null,addFile:function(d){this.files.push(d);this.updateValueFromFiles();
this.fireEvent("addFile",d)},removeFile:function(d){const e=this.files;let n=e.length;for(;n;)if(b.isSameFile(e[--n],d)){e.splice(n,1);this.updateValueFromFiles();this.fireEvent("removeFile",d);break}},updateValueFromFiles:function(){const d=[];var e=this.files;let n=e.length;for(;n;){const k=e[--n][b.FILE_ATTR_SERVER_PATH];k&&d.push(k)}e=d.length;this.value=1===e?d[0]:0===e?void 0:d;this.value||(this.fileInput.getIDE().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);
this.fireEvent("value",this.value)},clearFiles:function(){const d=this.files;let e=d.length;for(;e;)this.removeFile(d[--e])}}),c=l.ImageUploader=new u("ImageUploader",b,{extend:{isImageFile:d=>/image/i.test(d.type)},initNode:function(d,e){e.maxFiles=1;this.callSuper(d,e)},setWidth:function(d,e){this.callSuper(d,e);this.inited&&this.updateImageSize()},setHeight:function(d,e){this.callSuper(d,e);this.inited&&this.updateImageSize()},filterFiles:function(d){if(c.isImageFile(d)){for(;0<this.files.length;)this.removeFile(this.files[0]);
return this.callSuper(d)}},addFile:function(d){const e=this;e.callSuper(d);const n=e.image=new l.Image(e,{useNaturalSize:!1,align:"center",valign:"middle"});n.file=d;const k=t=>{const g=new Image;g.onload=()=>{d.width=g.width;d.height=g.height;n&&!n.destroyed&&e.updateImage(d,n,g.src)};g.src=t};-1===d.size?k(d.serverPath):void 0!==FileReader&&c.isImageFile(d)&&b.readFile(d,t=>{k(t.target.result)})},scaleToFit:(d,e,n,k)=>n/k>d/e?[d,k*d/n]:[n*e/k,e],removeFile:function(d){this.callSuper(d);const e=
this.getSubviews();let n=e.length;for(;n;){const k=e[--n];if(b.isSameFile(k.file,d)){k.destroy();break}}},handleDroppedFile:function(d,e){this.callSuper(d,e);this.uploadFile(d,this.uploadUrl)},updateImage:function(d,e,n){this.nativeWidth=d.width;this.nativeHeight=d.height;this.updateImageSize();e.setImageUrl(n)},updateImageSize:function(){const d=this.image;if(d&&!d.destroyed){var e=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const n=v(e[0]);e=v(e[1]);d.setImageSize(n+
"px "+e+"px");d.setWidth(n);d.setHeight(e)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(l=>{const u=(v,q,f)=>{const a=v.axis;f=f.bind(v);"y"!==a&&(f(q,"update","x"),f(q,"update","boundsWidth"));"x"!==a&&(f(q,"update","y"),f(q,"update","boundsHeight"));f(q,"update","visible")};l.SizeToChildren=new JS.Class("SizeToChildren",l.Layout,{initNode:function(v,q){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(v,q)},setAxis:function(v){this.axis!==v&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=v,this.startMonitoringAllSubviews(),this.fireEvent("axis",v),this.update()):
this.axis=v)},setPaddingX:function(v){this.paddingX!==v&&(this.paddingX=v,this.inited&&(this.fireEvent("paddingX",v),this.update()))},setPaddingY:function(v){this.paddingY!==v&&(this.paddingY=v,this.inited&&(this.fireEvent("paddingY",v),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const q=this.parent;if(!q.isBeingDestroyed){const f=this.subviews;var v=f.length;const a=this.axis;let b,c;if("y"!==a){b=v;for(c=0;b;){const d=f[--b];d.visible&&(c=Math.max(c,d.x+
(0<d.boundsWidth?d.boundsWidth:0)))}q.setWidth(c+this.paddingX)}if("x"!==a){b=v;for(c=0;b;)v=f[--b],v.visible&&(c=Math.max(c,v.y+(0<v.boundsHeight?v.boundsHeight:0)));q.setHeight(c+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(v){u(this,v,this.attachTo)},stopMonitoringSubview:function(v){u(this,v,this.detachFrom)}})})(myt);
(l=>{const u=JS.Class,v=l.SizeToParent,q=l.View,f=l.RootView,a=l.AccessorSupport.defAttr,b=l.Dimmer=new u("Dimmer",q,{include:[v],extend:{OPACITY:.35,COLOR:"#000"},initNode:function(d,e){const n=this;n.restoreFocus=!0;e.focusable=e.focusCage=!0;a(e,"percentOfParentWidth",100);a(e,"percentOfParentHeight",100);a(e,"visible",!1);a(e,"ignoreLayout",!0);n.callSuper(d,e);new q(n,{name:"overlay",ignorePlacement:!0,opacity:b.OPACITY,bgColor:b.COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[v]);
"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(k=>{n.attachDomObserver(n,"eatMouseEvent",k)});f.setupCaptureDrop(n)},destroy:function(){f.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(d){this.restoreFocus=d},eatMouseEvent:d=>!0,show:function(){const d=l.global.focus;this.prevFocus=d.focusedView||d.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(d){this.visible&&(this.setVisible(!1),!d&&this.restoreFocus&&
this.prevFocus&&this.prevFocus.focus())}}),c=l.ModalPanel=new u("ModalPanel",b,{extend:{PADDING_X:20,PADDING_Y:15,MARGIN_TOP:40,MARGIN_LEFT:40,MARGIN_BOTTOM:40,MARGIN_RIGHT:40},initNode:function(d,e){const n={name:"content",ignorePlacement:!0},k=Object.assign({},n,{align:"center",valign:"middle"});this.defaultPlacement="content";a(e,"sizingStrategy","children");a(e,"marginTop",c.MARGIN_TOP);a(e,"marginLeft",c.MARGIN_LEFT);a(e,"marginBottom",c.MARGIN_BOTTOM);a(e,"marginRight",c.MARGIN_RIGHT);a(e,"paddingX",
c.PADDING_X);a(e,"paddingY",c.PADDING_Y);this.callSuper(d,e);switch(this.sizingStrategy){case "children":new l.SizeToChildren(new q(this,k),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new q(this,Object.assign(n,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[v]);break;case "basic":new q(this,
k);break;default:new q(this,n)}},setSizingStrategy:function(d){this.sizingStrategy=d},setMarginTop:function(d){this.marginTop=d},setMarginLeft:function(d){this.marginLeft=d},setMarginBottom:function(d){this.marginBottom=d},setMarginRight:function(d){this.marginRight=d},setPaddingX:function(d){this.paddingX=d},setPaddingY:function(d){this.paddingY=d}})})(myt);
(l=>{const u=q=>{q[q.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},v=q=>{const f=q.size,a=q.getIDS();q.setWidth(f);q.setHeight(f);a.width=a.height=f-2*q.borderWidth+"px"};l.Spinner=new JS.Class("Spinner",l.View,{initNode:function(q,f){this.lateAttrs=["spinColor"];const a=this.defAttr;a(f,"visible",!1);a(f,"borderWidth",5);a(f,"borderColor","#fff");a(f,"borderStyle","solid");a(f,"spinColor","#000");this.callSuper(q,f);this.getIDS().borderRadius="50%";v(this);u(this)},setSize:function(q){this.size!==
q&&(this.size=q,this.inited&&v(this))},setSpinColor:function(q){this.spinColor!==q&&(this.getIDS().borderTopColor=this.spinColor=q,this.inited&&this.fireEvent("spinColor",q))},setBorderWidth:function(q){this.borderWidth!==q&&(this.callSuper(q),this.inited&&v(this))},setVisible:function(q){this.visible!==q&&(this.callSuper(q),this.inited&&u(this))}})})(myt);
(l=>{const u=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),v=a=>{if(Array.isArray(a)){let b=a.length;if(0<b){a.unshift("fa");b++;a[1].startsWith("fa-")||(a[1]="fa-"+a[1]);3<=b&&(a[2]=u[a[2]]||"");if(3<b)for(let c=3;b>c;c++)a[c].startsWith("fa-")||(a[c]="fa-"+a[c]);return'<i class="'+a.join(" ")+'"></i>'}}l.dumpStack("Error making tag");console.error(a);return""},q=a=>{let b=a.properties;b=b?"string"===typeof b?b.split(" "):b.concat():[];b.unshift(a.icon,a.size);a.setHtml(v(b))},f=a=>{["Free 400","Free 900",
"Brands 400"].forEach(b=>{l.registerForFontNotification(a,"Font Awesome 5 "+b)})};l.FontAwesome=new JS.Class("FontAwesome",l.Markup,{extend:{makeTag:v,registerForNotification:f},initNode:function(a,b){this.size=0;this.icon="";this.callSuper(a,b);q(this);f(this)},setIcon:function(a){const b=this.icon;this.set("icon",a,!0);this.inited&&b!==a&&q(this)},setSize:function(a){const b=this.size;this.set("size",a,!0);this.inited&&b!==a&&q(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&q(this)}});l.loadCSSFonts(["https://use.fontawesome.com/releases/v5.0.8/css/all.css"])})(myt);
(l=>{let u,v,q,f,a=0,b=0,c=0,d=[],e,n,k,t,g,m,r,p,w,z,y,B,C,E,h,x,A,G,I,J,O,W,Q,Z;const ba=JS.Class,S=l.View,ha=l.Text,X=l.ModalPanel,ra=l.SizeToChildren,ya=l.SpacedLayout,za=l.SelectionManager,la=l.Color,Aa=l.LocalStorage,sa=l.Button,ia=l.TextButton,Ba=l.Draggable,ja=l.FontAwesome.makeTag,Y=l.AccessorSupport.defAttr,da=Object.assign,aa=Math.min,ca=Math.max,ea=[1,"solid","#333"],Ca=[1,"solid","#999"],ta=[1,"solid","#fff"],Ia=new ba("DialogButton",ia,{initNode:function(D,H){Y(H,"height",17);Y(H,"paddingTop",
3);Y(H,"paddingLeft",10);Y(H,"paddingRight",10);Y(H,"activeColor","#bbb");Y(H,"hoverColor","#ddd");Y(H,"readyColor","#ccc");H.domClass="mytButtonText";this.callSuper(D,H)}}),Ja=ja(["check"]),ua={},Da=new ba("Swatch",S,{include:[sa],initNode:function(D,H){H.width=H.height=16;H.border=Ca;this.callSuper(D,H);this.bgColor===f&&(D=la.makeColorFromHexString(f),new l.Text(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>D.red+D.green+D.blue?"#fff":"#000"}))},setBgColor:function(D){this.callSuper(D);
this.setTooltip(D)},doActivated:function(){u.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(ea)},drawReadyState:function(){this.setBorder(Ca)}}),Ka=l.ColorPicker=new ba("ColorPicker",S,{initNode:function(D,H){u=this;q=H.color||"transparent";delete H.color;e=H.palette||[];e.forEach(F=>{ua[F]=!0});delete H.palette;v="transparent"===q;u.callSuper(D,H);n=new S(u,{width:160,height:170});new l.WrappingLayout(n,{spacing:4,lineSpacing:4});k=new S(u,{x:170,width:139,height:139,border:ea},
[Ba,{requestDragPosition:function(F,L){k.callSuper(k.x,k.y);const K=this.getPagePosition();b=parseFloat(ca(0,aa(1,(F+this.dragInitX-K.x)/this.width)));c=parseFloat(1-ca(0,aa(1,(L+this.dragInitY-K.y)/this.height)));v=!1;u.updateUI()}}]);D=new S(k,{width:139,height:139});H=new S(D,{width:139,height:139});D.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";H.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";t=new S(H,{width:6,height:6,bgColor:"#000",
border:ta,roundedCorners:4});g=new S(u,{x:315,y:30,width:24,height:109,border:ea},[Ba,{requestDragPosition:function(F,L){this.callSuper(g.x,g.y);a=parseFloat(ca(0,aa(1,(L+this.dragInitY-this.getPagePosition().y)/this.height)));v=!1;u.updateUI()}}]);g.getIDS().background="linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";m=new S(g,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new S(u,{x:315,width:24,height:24,border:ea,tooltip:"Set to transparent.",
domClass:"mytCheckerboardPattern"},[sa,{doActivated:()=>{u.setColor("transparent")}}]);r=new l.InputText(u,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:ea,maxLength:11});u.attachToDom(r,"_submitInput","blur");u.attachToDom(r,"_handleKeyDown","keydown");r.getIDS().paddingLeft="6px";D=new S(u,{x:170,y:146,width:60,height:23,border:ea});new S(D,{width:30,height:23,focusIndicator:!1,bgColor:q,domClass:v?"mytCheckerboardPattern":""},[sa,{doActivated:()=>{u.setColor(q)}}]);
p=new S(D,{x:30,width:30,height:23},[{setBgColor:function(F){this.callSuper(F);this[("transparent"===F?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(D=Aa.getItem("myt.default"))d=D.split(";"),d.forEach(F=>{ua[F]=!0});u.setColor(q)},_handleKeyDown:D=>{l.KeyObservable.isEnterKeyEvent(D)&&u._submitInput()},_submitInput:()=>{u.setColor(r.value)},addToPalette:D=>{D&&"transparent"!==D&&!ua[D]&&(d.unshift(D),d.length=aa(d.length,56),Aa.setItem("myt.default",d.join(";")))},setColor:D=>{D&&
"transparent"!==D?(D=la.makeColorFromHexString(D).getHSV(),a=D.h/360,b=D.s,c=D.v,v=!1):v=!0;u.updateUI()},getColor:()=>v?"transparent":la.makeColorFromHSV(360*a,100*b,100*c).getHtmlHexString(),updateUI:()=>{const D=!v;m.setVisible(D);t.setVisible(D);D&&(t.setX(ca(0,aa(1,b)*(k.width+2))-5),t.setY(ca(0,aa(1,1-c)*(k.height+2))-5),m.setY(a*(g.height-2)-1));k.setBgColor(la.makeColorFromHSV(360*a,100,100).getHtmlHexString());f=u.getColor();r.setValue(f);p.setBgColor(f);u.redrawPalette()},redrawPalette:l.debounce(()=>
{const D=n.getSubviews();let H=D.length;for(;H;)D[--H].destroy();e.forEach(F=>{new Da(n,{bgColor:F})});d.forEach(F=>{new Da(n,{bgColor:F})})},50)}),va=D=>{D=D.split(":");return[ca(0,aa(23,parseInt(D[0]))),ca(0,aa(60,parseInt(D[1])))]},Ea=D=>{D.deselectAll();D=D.getSubviews();let H=D.length;for(;H;)D[--H].destroy()},Fa=new ba("SelectableBtn",ia,{include:[l.Selectable],setSelected:function(D){this.callSuper(D);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),
this.setTextColor("#fff")):this.setTextColor()}}),La=new ba("TimeBtn",Fa,{initNode:function(D,H){H.width=y?175:49;this.callSuper(D,H)},doActivated:function(){this.callSuper();const D=this.text,H=va(D);Z.selectById(D);I.setHours(H[0]);I.setMinutes(H[1])}}),Ma=new ba("DayBtn",Fa,{initNode:function(D,H){H.width=23;H.border=ta;this.callSuper(D,H)},setData:function(D){this.data=D},setIsAnotherMonth:function(D){this.isAnotherMonth=D},setIsToday:function(D){this.isToday=D},setIsSunday:function(D){this.isSunday=
D},setIsSaturday:function(D){this.isSaturday=D},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const D=new Date(this.data);D.setHours(I.getHours());D.setMinutes(I.getMinutes());ka(D)}}),ka=D=>{D.setSeconds(0);D.setMilliseconds(0);var H=6>=C.length,F;if(H)for(F=7;F--&&!C.includes(D.getDay());)D.setDate(D.getDate()+
1);I=D;const L=Z.getODE().scrollTop;var K=new Date,M=K.getFullYear();F=K.getMonth();var P=K.getDate();K.getHours();K.getMinutes();var N=D.getFullYear(),R=D.getMonth();const ma=D.getDate();var fa=D.getTime();K=D.getHours();D=D.getMinutes();const na=(new Date(N,R,1)).getDay()-B,oa=(new Date(N,R+1,0)).getDate(),wa=(new Date(N,R,0)).getDate(),pa=new Date(N,R,0),qa=new Date(N,R+2,0),Na=M==N&&F==R;if(!y){Ea(Q);F=new Date(fa);const Ga=7+B;M=w.days;O.setText(N+" "+w.sep+" "+w.months[R]);F.setMinutes(59);
F.setHours(23);F.setSeconds(59);F.setDate(0);J.setVisible(null==E||E<F.getTime());F.setMinutes(0);F.setHours(0);F.setSeconds(0);F.setDate(1);F.setMonth(R+1);W.setVisible(null==h||h>F.getTime());for(F=0;7>F;F++)new ha(Q,{width:23,height:20,textAlign:"center",text:M[(F+Ga)%7],textColor:"#999"});F=0;let Ha=42;0>na&&(F=-7,Ha=35);M=new Date(fa);M.setHours(0);M.setMinutes(0);for(M.setSeconds(0);F<Ha;F++){var U=F+1-na;const xa=(F+Ga)%7,V=new Ma(Q);na>F?(V.setText(wa+U),V.setData(pa.getFullYear()+"/"+(pa.getMonth()+
1)+"/"+(wa+U)),V.setIsAnotherMonth(!0),M.setDate(wa+U),M.setMonth(pa.getMonth()),M.setYear(pa.getFullYear())):F<na+oa?(V.setText(U),V.setData(N+"/"+(R+1)+"/"+U),M.setDate(U),M.setMonth(R),M.setYear(N)):(V.setText(U-oa),V.setData(qa.getFullYear()+"/"+(qa.getMonth()+1)+"/"+(U-oa)),V.setIsAnotherMonth(!0),M.setDate(U-oa),M.setMonth(qa.getMonth()),M.setYear(qa.getFullYear()));H&&!C.includes(xa)?V.setDisabled(!0):(0===xa?V.setIsSunday(!0):6===xa&&V.setIsSaturday(!0),U===ma&&(Q.select(V),V.focus()),Na&&
U===P&&V.setIsToday(!0),U=new Date(M.getTime()),U.setHours(23),U.setMinutes(59),U.setSeconds(59),(null!=E&&E>U.getTime()||null!=h&&h<M.getTime())&&V.setDisabled(!0));V.updateUI()}}if(!z){H=60*A[0]+A[1];Ea(Z);P=x[0];N=x[1];for(M=new Date(fa);60*P+N<H;)fa=new La(Z,{text:("0"+P).slice(-2)+":"+("0"+N).slice(-2)}),P===K&&N===D&&Z.select(fa),M.setHours(P),M.setMinutes(N),R=M.getTime(),(null!=E&&E>R||null!=h&&h<R)&&fa.setDisabled(!0),N+=G,60<=N&&(N-=60,P++);Z.scrollYTo(L)}},Oa=l.DatePicker=new ba("DatePicker",
S,{initNode:function(D,H){const F=da({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},H.opt);delete H.opt;this.callSuper(D,H);w=F.locales[F.locale||"en"];z=F.dateOnly;y=F.timeOnly;B=F.firstDayOfWeek;G=ca(5,aa(30,F.minuteInterval));C=F.allowedDays;Array.isArray(C)&&0!==C.length||(C=[0,1,2,3,4,5,6]);E=Date.parse(F.minDate);E=isNaN(E)?null:E;h=Date.parse(F.maxDate);
h=isNaN(h)?null:h;x=va(F.minTime);A=va(F.maxTime);D=new S(this,{visible:!y});F.showTodayButton&&new ia(D,{width:24,text:ja(["home"]),tooltip:w.today},[{doActivated:()=>{ka(new Date)}}]);J=new ia(D,{width:24,x:28,text:ja(["chevron-left"]),tooltip:w.prevMonth},[{doActivated:()=>{const L=(new Date(I.getFullYear(),I.getMonth(),0)).getDate();L<I.getDate()&&I.setDate(L);I.setMonth(I.getMonth()-1);ka(I);J.focus()}}]);O=new ha(D,{width:100,x:52,textAlign:"center"});W=new ia(D,{width:24,x:152,text:ja(["chevron-right"]),
tooltip:w.nextMonth},[{doActivated:()=>{var L=(new Date(I.getFullYear(),I.getMonth()+1,0)).getDate();L<I.getDate()&&I.setDate(L);L=(new Date(I.getFullYear(),I.getMonth()+2,0)).getDate();L<I.getDate()&&I.setDate(L);I.setMonth(I.getMonth()+1);ka(I);W.focus()}}]);Q=new S(this,{y:25,width:175,height:175,visible:!y,maxSelected:1,itemSelectionId:"data"},[za]);new l.WrappingLayout(Q,{spacing:2,lineInset:2,lineSpacing:3});Z=new S(this,{x:y?0:195,y:y?0:25,width:(y?175:49)+l.DomElementProxy.getScrollbarSize(),
height:y?200:175,overflow:"autoy",visible:!z,maxSelected:1,itemSelectionId:"text"},[za]);new ya(Z,{axis:"y",inset:1,spacing:3});this.setWidth(Z.visible?Z.x+Z.width:Q.width);ka(F.current||new Date)},getPickedDate:()=>I}),T=l.Dialog=new ba("Dialog",X,{extend:{RADIUS:12,BUTTON_CLASS:Ia,SHADOW:[0,4,20,"#666"],BORDER:ta,BGCOLOR:"#fff",WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},
CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",
today:"Today"}},locale:"en"}},initNode:function(D,H){Y(H,"buttonClass",T.BUTTON_CLASS);this.callSuper(D,H);D=this.content;D.setRoundedCorners(T.RADIUS);D.setBgColor(T.BGCOLOR);D.setBoxShadow(T.SHADOW);D.setBorder(T.BORDER);D.setFocusCage(!0);this.makeCloseButton(D)},setButtonClass:function(D){this.buttonClass=D},setCallbackFunction:function(D){this.callbackFunction=D},makeButton:function(D,H){const F=this;return new F.buttonClass(D,H,[{doActivated:function(){F.doCallback(this)}}])},makeCloseButton:function(D){return this.makeButton(D,
{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ja(["times"]),tooltip:"Close Dialog."})},hide:function(D){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(D)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const D=this.content,H=D.sizeToChildren,F=D.getSubviews();let L=
F.length;for(;L;){const K=F[--L];"closeBtn"!==K.name&&K.destroy()}D.setVisible(!0);this.overlay.setBgColor(l.Dimmer.COLOR);this.setCallbackFunction();H.setPaddingY(X.PADDING_Y);H.setPaddingX(X.PADDING_X);D.setRoundedCorners(T.RADIUS);D.setBgColor(T.BGCOLOR);D.setBoxShadow(T.SHADOW);D.setBorder(T.BORDER)},doCallback:function(D){const H=this.callbackFunction;H&&H.call(this,D.name)||this.hide()},showBlank:function(D){this.destroyContent();this.content.setVisible(!1);D&&D.bgColor&&this.overlay.setBgColor(D.bgColor);
this.show()},showMessage:function(D,H,F){const L=this.content,K=L.closeBtn;F=da({},T.WRAP_TEXT_DEFAULTS,F);this.destroyContent();this.setCallbackFunction(H);D=new ha(L,{name:"msg",text:D,whiteSpace:F.whiteSpace,wordWrap:F.wordWrap,fontWeight:F.fontWeight,x:null==F.msgX?X.PADDING_X:F.msgX,y:null==F.msgY?X.PADDING_Y:F.msgY,width:F.width});F.titleText&&(this.setupTitle(L,F.titleText),D.setY(D.y+24));this.show();!1===F.showClose?K.setVisible(!1):(K.setVisible(!0),K.focus())},showSimple:function(D,H,F,
L){F=F||{};const K=this.content,M=K.closeBtn,P=F.maxContainerHeight;this.destroyContent();F.bgColor&&K.setBgColor(F.bgColor);F.roundedCorners&&K.setRoundedCorners(F.roundedCorners);F.boxShadow&&K.setBoxShadow(F.boxShadow);F.border&&K.setBorder(F.border);K.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=new S(K,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(N){N>P&&(N=P);this.callSuper(N)}}]);D.call(this,H);new ra(H,{axis:"both"});this.show();M.setVisible(!0);M.focus();
F.titleText&&(this.setupTitle(K,F.titleText),H.setY(this.header.height+1));H.initialFocus&&H.initialFocus.focus();L&&L(this)},showConfirm:function(D,H,F){F=da({},T.CONFIRM_DEFAULTS,F);this.showMessage(D,H,F);this.setupFooterButtons(this.content.msg,F)},showContentConfirm:function(D,H,F,L){F=da({},T.CONFIRM_DEFAULTS,F);const K=this.content,M=K.closeBtn,P=F.maxContainerHeight;this.destroyContent();K.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=new S(K,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(N){this.callSuper(N>P?P:N)}}]);D.call(this,H);new ra(H,{axis:"both"});this.show();M.setVisible(!0);M.focus();this.setupTitle(K,F.titleText);H.setY(this.header.height+1);this.setupFooterButtons(H,F);H.initialFocus&&H.initialFocus.focus();L&&L(this)},showSpinner:function(D,H){const F=this.content;H=da({},T.NO_WRAP_TEXT_DEFAULTS,H);this.destroyContent();const L=this.spinner=new l.Spinner(F,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==H.msgY?X.PADDING_Y:
H.msgY});D&&new ha(F,{text:D,whiteSpace:H.whiteSpace,wordWrap:H.wordWrap,fontWeight:H.fontWeight,x:null==H.msgX?X.PADDING_X:H.msgX,y:L.y+L.size+X.PADDING_Y,width:H.width});this.show();F.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(D,H){const F=this,L=F.content,K=L.closeBtn;H=da({},T.COLOR_PICKER_DEFAULTS,H);F.destroyContent();F.setCallbackFunction(P=>{switch(P){case "closeBtn":case "cancelBtn":D.call(F,P);break;case "confirmBtn":const N=M.getColor();M.addToPalette(N);D.call(F,P,
N)}M.destroy()});const M=new Ka(L,{x:X.PADDING_X,y:X.PADDING_Y+24,width:337,height:177,color:H.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});F.show();K.setVisible(!0);K.focus();F.setupFooterButtons(M,H);F.setupTitle(L,H.titleText)},showDatePicker:function(D,H){const F=this,L=F.content,K=L.closeBtn;H=da({},T.DATE_PICKER_DEFAULTS,H);F.destroyContent();F.setCallbackFunction(P=>{switch(P){case "closeBtn":case "cancelBtn":D.call(F,P);break;
case "confirmBtn":D.call(F,P,M.getPickedDate())}M.destroy()});const M=new Oa(L,{x:X.PADDING_X,y:X.PADDING_Y+24,height:195,opt:{current:new Date(H.initialDate||Date.now()),dateOnly:H.dateOnly||!1,timeOnly:H.timeOnly||!1,locales:H.locales,locale:H.locale}});F.show();K.setVisible(!0);K.focus();F.setupFooterButtons(M,H);F.setupTitle(L,H.timeOnly?H.timeOnlyTitleText:H.titleText)},setupTitle:function(D,H){const F=T.RADIUS;(this.header=new S(D,{ignoreLayout:!0,width:D.width,height:24,bgColor:"#eee",roundedTopLeftCorner:F,
roundedTopRightCorner:F})).sendToBack();new ha(D,{name:"title",x:F,y:4,text:H,fontWeight:"bold"})},setupFooterButtons:function(D,H){const F=this,L=F.content;var K=X.PADDING_Y,M=K/2;const P=new S(L,{name:"btnContainer",y:D.y+D.height+K,align:"center"});K=["active","hover","ready","text"];let N=H.cancelAttrs||{};Y(N,"name","cancelBtn");Y(N,"text",H.cancelTxt);K.forEach(R=>{R+="Color";null!=H[R]&&(N[R]=H[R])});D=F.makeButton(P,N);N=H.confirmAttrs||{};Y(N,"name","confirmBtn");Y(N,"text",H.confirmTxt);
K.forEach(R=>{R+="Color";const ma=R+"Confirm";null!=H[ma]&&(N[R]=H[ma])});F.makeButton(P,N);(H.buttons||[]).forEach(R=>{F.makeButton(P,R)});new ra(P,{axis:"y"});new ya(P,{spacing:4,collapseParent:!0});L.sizeToChildren.setPaddingY(M);K=T.RADIUS;M=P.y-M;(new S(L,{ignoreLayout:!0,y:M,width:L.width,height:L.height-M,bgColor:"#eee",roundedBottomLeftCorner:K,roundedBottomRightCorner:K})).sendToBack();!1===H.showClose&&D.focus()}})})(myt);
(l=>{const u=JS.Class,v={},q=(n,k)=>{if(n){const t=n.id;n.id?k(t):l.dumpStack("No ID")}else l.dumpStack("No validator")},f=n=>{q(n,k=>{v[k]=n})},a=l.Validator=new u("Validator",{initialize:function(n){this.id=n},isValid:(n,k,t)=>!0,isFormValid:function(n,k,t){k||={};k.form=n;return this.isValid(n.getValue(),k,t)}}),b=l.RequiredFieldValidator=new u("RequiredFieldValidator",a,{isValid:function(n,k,t){return null==n||""===n||"string"===typeof n&&""===n.trim()?(t&&t.push("This value is required."),!1):
!0}}),c=l.EqualsIgnoreCaseValidator=new u("EqualsIgnoreCaseValidator",a,{isValid:function(n,k,t){k=k.form.getRollbackValue();return n&&k&&n.toLowerCase()===k.toLowerCase()?(t&&t.push("Value must differ by more than just case."),!1):!0}}),d=l.URLValidator=new u("URLValidator",a,{initialize:function(n,k){this.callSuper(n);this.originalRawQuery=k},isValid:function(n,k,t){return(new l.URI(n)).toString(this.originalRawQuery)!==n?(t&&t.push("Invalid URL."),!1):!0}}),e=l.JSONValidator=new u("JSONValidator",
a,{isValid:function(n,k,t){try{return JSON.parse(n),!0}catch(g){return t&&t.push(g),!1}}});l.EqualFieldsValidator=new u("EqualFieldsValidator",a,{initialize:function(n,k,t){this.callSuper(n);this.fieldA=k;this.fieldB=t},isValid:function(n,k,t){if(n&&this.fieldA.getValue()===this.fieldB.getValue())return!0;t&&t.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});l.LengthValidator=new u("LengthValidator",a,{initialize:function(n,k,t){this.callSuper(n);this.min=
k;this.max=t},isValid:function(n,k,t){n=n?n.length:0;k=this.min;const g=this.max;return void 0!==k&&k>n?(t&&t.push("Value must not be less than "+k+"."),!1):void 0!==g&&g<n?(t&&t.push("Value must not be greater than "+g+"."),!1):!0}});l.NumericRangeValidator=new u("NumericRangeValidator",a,{initialize:function(n,k,t){this.callSuper(n);this.min=k;this.max=t},isValid:function(n,k,t){if(""===n)return!0;n=Number(n);k=this.min;const g=this.max;return isNaN(n)?(t&&t.push("Value is not a number."),!1):void 0!==
k&&k>n?(t&&t.push("Value must not be less than "+k+"."),!1):void 0!==g&&g<n?(t&&t.push("Value must not be greater than "+g+"."),!1):!0}});l.CompoundValidator=new u("CompoundValidator",a,{initialize:function(n,...k){this.callSuper(n);n=k.length;let t;for(;n;)t=k[--n],"string"===typeof t&&((k[n]=t=v[t])||k.splice(n,1));this.__v=k},addValidator:function(n){"string"===typeof n&&(n=v[n]);n&&this.__v.push(n)},isValid:function(n,k,t){const g=this.__v,m=g.length;let r=!0,p=0;for(;m>p;)r=g[p++].isValid(n,
k,t)&&r;return r}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){f(new b("required"));f(new c("equalsIgnoreCase"));f(new d("url"));f(new e("json"));l.global.register("validators",this)},getValidator:n=>v[n],register:f,unregister:n=>{q(n,k=>{v[k]&&delete v[k]})}})})(myt);
(l=>{const u=JS.Class,v=Math.min,q=Math.max,f=l.global.keys,a=l.View,b=l.AccessorSupport.defAttr,c=new u("SliderThumb",l.SimpleButton,{include:[l.Draggable],initNode:function(e,n){const k=n.width=e.thumbWidth,t=n.height=e.thumbHeight;n.roundedCorners=v(t,k)/2;n.repeatKeyDown=!0;n.activationKeys=f.ARROW_KEYS;n.activeColor="#bbb";n.readyColor="#ccc";n.hoverColor="#ddd";n.boxShadow=[0,0,4,"#666"];this.callSuper(e,n);this["x"===e.axis?"setY":"setX"](e.thumbOffset);this.syncTo(e,"setDisabled","disabled");
e._syncThumbToValue(this,e.getValue())},setDisabled:function(e){this.callSuper(this.valueFromEvent(e))},setFocused:function(e){this.callSuper(e);e&&this.makeHighestZIndex()},setX:function(e){this.x!==e&&(this.callSuper(e),e=this.parent,"x"===e.axis&&e.syncValueToThumb(this))},setY:function(e){this.y!==e&&(this.callSuper(e),e=this.parent,"y"===e.axis&&e.syncValueToThumb(this))},requestDragPosition:function(e,n){if(!this.disabled){var k=this.parent;const t=k.getMinPixelValueForThumb(this),g=k.getMaxPixelValueForThumb(this);
"x"===k.axis?(k=this.width/2,n="setX"):(k=this.height/2,e=n,n="setY");this[n](v(q(e,t-k),g-k))}},doActivationKeyDown:function(e,n){const k=this.parent;switch(e){case f.CODE_ARROW_LEFT:k.nudgeValueLeft(this);break;case f.CODE_ARROW_UP:k.nudgeValueUp(this);break;case f.CODE_ARROW_RIGHT:k.nudgeValueRight(this);break;case f.CODE_ARROW_DOWN:k.nudgeValueDown(this)}this.callSuper(e,n)}}),d=l.BaseSlider=new u("BaseSlider",a,{include:[l.Disableable],initNode:function(e,n){b(n,"axis","x");"x"===n.axis?(b(n,
"width",100),b(n,"height",18)):(b(n,"width",18),b(n,"height",100));b(n,"bgColor","#999");b(n,"roundedCorners",9);b(n,"trackInset",9);b(n,"trackOutset",9);b(n,"thumbWidth",16);b(n,"thumbHeight",16);b(n,"thumbOffset",1);b(n,"nudgeAmount",1);this.callSuper(e,n)},setAxis:function(e){this.axis=e},setTrackInset:function(e){this.trackInset=e},setTrackOutset:function(e){this.trackOutset=e},setThumbWidth:function(e){this.thumbWidth=e},setThumbHeight:function(e){this.thumbHeight=e},setThumbOffset:function(e){this.thumbOffset=
e},setNudgeAmount:function(e){this.nudgeAmount=e},convertValueToPixels:function(e){const n=this.minValue,k=this.trackInset;return k+(("x"===this.axis?this.width:this.height)-k-this.trackOutset)/(this.maxValue-n)*(e-n)},convertPixelsToValue:function(e){const n=this.minValue,k=this.trackInset;return(this.maxValue-n)/(("x"===this.axis?this.width:this.height)-k-this.trackOutset)*(e-k)+n},nudgeValueLeft:function(e){this._nudge(e,!1)},nudgeValueUp:function(e){this._nudge(e,!1)},nudgeValueRight:function(e){this._nudge(e,
!0)},nudgeValueDown:function(e){this._nudge(e,!0)},_nudge:(e,n)=>{},_syncThumbToValue:function(e,n){n=this.convertValueToPixels(n);"x"===this.axis?e.setX(n-e.width/2):e.setY(n-e.height/2)},syncValueToThumb:function(e){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(e,this.convertPixelsToValue("x"===this.axis?e.x+e.width/2:e.y+e.height/2)),this.__lockSync=!1)},_syncValueToThumb:(e,n)=>{},getMinPixelValueForThumb:function(e){return this.convertValueToPixels(this.minValue)},
getMaxPixelValueForThumb:function(e){return this.convertValueToPixels(this.maxValue)}});l.RangeSlider=new u("RangeSlider",d,{include:[l.BoundedRangeComponent],initNode:function(e,n){this.callSuper(e,n);e=new a(this,{name:"rangeFill",bgColor:"#666"});"x"===this.axis?(e.setY(this.thumbOffset),e.setHeight(this.thumbHeight),e.setRoundedCorners(this.thumbHeight/2)):(e.setX(this.thumbOffset),e.setWidth(this.thumbWidth),e.setRoundedCorners(this.thumbWidth/2));new c(this,{name:"thumbLower"});new c(this,{name:"thumbUpper"});
this._syncRangeFillToValue()},setValue:function(e){this.callSuper(e);this.inited&&(this.__lockSync||(e=this.getValue(),this._syncThumbToValue(this.thumbLower,e),this._syncThumbToValue(this.thumbUpper,e)),this._syncRangeFillToValue())},setWidth:function(e,n){const k=this.width;this.callSuper(e,n);this.inited&&"x"===this.axis&&this.width!==k&&(e=this.getValue(),this._syncThumbToValue(this.thumbLower,e),this._syncThumbToValue(this.thumbUpper,e))},setHeight:function(e,n){const k=this.height;this.callSuper(e,
n);this.inited&&"y"===this.axis&&this.height!==k&&(e=this.getValue(),this._syncThumbToValue(this.thumbLower,e),this._syncThumbToValue(this.thumbUpper,e))},_syncRangeFillToValue:function(){const e=this.rangeFill;var n=this.getValue();const k=this.convertValueToPixels(n.lower);n=this.convertValueToPixels(n.upper)-k;"x"===this.axis?(e.setX(k),e.setWidth(n)):(e.setY(k),e.setHeight(n))},_syncThumbToValue:function(e,n){this.callSuper(e,"thumbLower"===e.name?n.lower:n.upper)},_syncValueToThumb:function(e,
n){let k=this.getValueCopy();k["thumbLower"===e.name?"lower":"upper"]=n;this.setValue(k);k=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,k);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,k)},_nudge:function(e,n){const k=this.getValueCopy();n=this.nudgeAmount*(n?1:-1);"thumbLower"===e.name?k.lower=v(k.lower+n,k.upper):k.upper=q(k.upper+n,k.lower);this.setValue(k)},getMinPixelValueForThumb:function(e){return this.convertValueToPixels("thumbLower"===e.name?this.minValue:
this.getValue().lower)},getMaxPixelValueForThumb:function(e){return this.convertValueToPixels("thumbLower"===e.name?this.getValue().upper:this.maxValue)}});l.Slider=new u("Slider",d,{include:[l.BoundedValueComponent],initNode:function(e,n){this.callSuper(e,n);new c(this,{name:"thumb"})},setValue:function(e){this.callSuper(e);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(e,n){const k=this.width;this.callSuper(e,n);this.inited&&"x"===this.axis&&
this.width!==k&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(e,n){const k=this.height;this.callSuper(e,n);this.inited&&"y"===this.axis&&this.height!==k&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(e,n){this.setValue(n);this._syncThumbToValue(e,this.getValue())},_nudge:function(e,n){this.setValue(this.getValue()+this.nudgeAmount*(n?1:-1))}})})(myt);
(l=>{const u=JS.Class,v=l.global.keys,q=l.AccessorSupport.defAttr,f=b=>{const c="y"===b.axis?"height":"width";b.constrain("__limitToParent",[b,"limitToParent",b,c,b.parent,c])},a=new u("BaseDivider",l.SimpleButton,{include:[l.BoundedValueComponent,l.Draggable],initNode:function(b,c){q(c,"activeColor","#bbb");q(c,"hoverColor","#ddd");q(c,"readyColor","#ccc");q(c,"axis","x");q(c,"minValue",0);q(c,"value",c.minValue);q(c,"expansionState",2);q(c,"focusIndicator",!1);q(c,"repeatKeyDown",!0);q(c,"activationKeys",
[v.CODE_ARROW_LEFT,v.CODE_ARROW_UP,v.CODE_ARROW_RIGHT,v.CODE_ARROW_DOWN,v.CODE_ENTER,v.CODE_SPACE]);"y"===c.axis?(q(c,"height",6),q(c,"cursor","row-resize")):(q(c,"width",6),q(c,"cursor","col-resize"));this.quickSet(["axis"],c);this.__nudgeAcc=1;this.callSuper(b,c);null==c.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&f(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(b){this.expansionState=b},setRestoreValue:function(b){this.restoreValue=
b},setLimitToParent:function(b){this.limitToParent!==b&&(this.limitToParent=b,this.inited&&(this.fireEvent("limitToParent",b),null==b?this.releaseConstraint("__limitToParent"):f(this)))},setAxis:function(b){this.inited?console.warn("Axis not updatable after instantiation"):this.axis=b},setValue:function(b,c){this.callSuper(b);b=this.value;"y"===this.axis?this.setY(b):this.setX(b);c&&this.setRestoreValue(b)},__limitToParent:function(b){b="y"===this.axis?"height":"width";this.setMaxValue(this.parent[b]-
this.limitToParent-this[b])},doActivationKeyDown:function(b,c){this.callSuper(b,c);switch(b){case v.CODE_ARROW_UP:case v.CODE_ARROW_LEFT:b=-1;break;case v.CODE_ARROW_DOWN:case v.CODE_ARROW_RIGHT:b=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=c?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+b*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const b=this.restoreValue,c=this.maxValue,d=this.minValue;let e;switch(this.expansionState){case 0:null!=b&&
(this.setExpansionState(1),b===d?b!==c&&this.doPrimaryAction():e=b);break;case 1:null!=c&&(this.setExpansionState(3),this.value===c?this.doPrimaryAction():e=c);break;case 2:null!=d&&(this.setExpansionState(0),this.value===d?this.doPrimaryAction():e=d);break;case 3:null!=b&&(this.setExpansionState(2),b===c?this.doPrimaryAction():e=b)}this.animateToValue(e)},animateToValue:function(b,c=250){null!=b&&(this.stopActiveAnimators("value"),this.animateOnce("value",b,null,c))},requestDragPosition:function(b,
c){this.disabled||(b="y"===this.axis?c:b,c=this.value,b!==c&&(this.setValue(b,!0),this.setExpansionState(c>b?2:1)))}});l.HorizontalDivider=new u("HorizontalDivider",a,{initNode:function(b,c){c.axis="x";this.callSuper(b,c)}});l.VerticalDivider=new u("VerticalDivider",a,{initNode:function(b,c){c.axis="y";this.callSuper(b,c)}})})(myt);
(l=>{let u=0;const v=JS.Class,q=JS.Module,f=Math.min,a=Math.max,b=l.View,c=l.AccessorSupport.defAttr,d=h=>{const x=h.columnHeaders;var A=h.sort;const G=A?A[0]:"";A=A?A[1]:"";let I=x.length;for(;I;){const J=x[--I];J.columnId===G?J.sortable&&J.setSortState(A):J.setSortState("none")}h.locked||h.doSort()},e=(h,x,A,G)=>{if(0!==x){const O=0<x,W=[];for(var I=h.length,J;I;)J=h[--I],J.resizable&&(A?0<J.flex:0===J.flex)&&W.push({hdr:J,limit:(O?J.maxValue:J.minValue)-J.value,amt:0});h=W.length;if(0<h){for(I=
0;0!==x;){u>=h&&(I=u=0);const Q=W[u];J=Q.hdr;Q.full?++I:(O?(J=f(A?J.flex:1,x),Q.amt+J>Q.limit&&(J=Q.limit-Q.amt,Q.full=!0)):(J=a(A?-J.flex:-1,x),Q.amt+J<Q.limit&&(J=Q.limit-Q.amt,Q.full=!0)),Q.amt+=J,x-=J);if(I===h)break;++u}W.forEach(Q=>{Q.hdr.setValue(Q.hdr.value+Q.amt)});G&&G(x)}}},n=h=>(h=h.gridController?h.gridController.getPrevHdr(h):null)?h.maxValue-h.value+n(h):0,k=h=>(h=h.gridController?h.gridController.getNextHdr(h):null)?h.maxValue-h.value+k(h):0,t=h=>(h=h.gridController?h.gridController.getPrevHdr(h):
null)?h.minValue-h.value+t(h):0,g=h=>(h=h.gridController?h.gridController.getNextHdr(h):null)?h.minValue-h.value+g(h):0,m=(h,x)=>{h=h.gridController?h.gridController.getPrevHdr(h):null;var A=0;if(h){A=h.value+x;h.resizable&&h.setValue(A);const G=A-h.value;A=x-G;0>G&&(A+=m(h,G))}return A},r=(h,x)=>{h=h.gridController?h.gridController.getPrevHdr(h):null;var A=0;if(h){A=h.value+x;h.resizable&&h.setValue(A);const G=A-h.value;A=x-G;0<G&&(A+=r(h,G))}return A},p=(h,x)=>{if(h=h.gridController?h.gridController.getNextHdr(h):
null)x=h.value+x,h.resizable&&h.setValue(x),x-=h.value,0>x&&p(h,x)},w=(h,x)=>{if(h=h.gridController?h.gridController.getNextHdr(h):null)x=h.value+x,h.resizable&&h.setValue(x),x-=h.value,0<x&&w(h,x)},z=h=>{let x="";if(h.sortable)switch(h.sortState){case "ascending":x="chevron-up";break;case "descending":x="chevron-down"}h.sortIcon.setIcon(x)},y=h=>{const x=h.textView;x&&x.setWidth(h.width-h.outset-x.x)},B=l.GridController=new q("GridController",{initNode:function(h,x){this.columnHeaders=[];this.rows=
[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(h,x);this.fitHeadersToWidth();d(this)},setMaxWidth:function(h){this.set("maxWidth",h,!0)},setMinWidth:function(h){this.set("minWidth",h,!0)},setFitToWidth:function(h){this.fitToWidth=h},setSort:function(h){l.areArraysEqual(h,this.sort)||(this.sort=h,this.inited&&(this.fireEvent("sort",h),d(this)))},setLastColumn:function(h){const x=this.lastColumn;x!==h&&(x&&x.setLast(!1),(this.lastColumn=h)&&h.setLast(!0))},
setLocked:function(h){this.locked=h;this.inited&&!h&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.__skipInvisibleHeaders=!0,this.columnHeaders.forEach(x=>{this.notifyHdrXChange(x);this.notifyHdrWidthChange(x);this.notifyHdrVisibilityChange(x)}),this.__skipInvisibleHeaders=!1,this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(h){h=this.valueFromEvent(h);this.gridWidth!==h&&(this.gridWidth=h,
this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevHdr:function(h){const x=this.columnHeaders;h=this.getHdrIndex(h);if(0<h)for(;h;){const A=x[--h];if(A.visible)return A}},getNextHdr:function(h){const x=this.columnHeaders,A=x.length;h=this.getHdrIndex(h)+1;if(0<h&&h<A)for(;A>h;){const G=x[h++];if(G.visible)return G}},hasHdr:function(h){return 0<=this.getHdrIndex(h)},getHdrIndex:function(h){return this.columnHeaders.indexOf(h)},getHdrById:function(h){const x=this.columnHeaders;let A=x.length;
for(;A;){const G=x[--A];if(G.columnId===h)return G}},getVisibleHdrs:function(){return this.columnHeaders.filter(h=>h.visible)},notifyAddHdr:function(h){this.hasHdr(h)||(this.columnHeaders.push(h),h.visible&&this.setLastColumn(h),this.fixupResizerCursors())},notifyRemoveHdr:function(h){const x=this.getHdrIndex(h);0<=x&&(this.columnHeaders.splice(x,1),h.visible&&h.last&&this.setLastColumn(this.getPrevHdr(h)),this.fixupResizerCursors())},notifyHdrXChange:function(h){this.isLocked()||this.rows.forEach(x=>
{x.notifyHdrXChange(h)})},notifyHdrWidthChange:function(h){this.isLocked()||this.rows.forEach(x=>{x.notifyHdrWidthChange(h)})},notifyHdrVisibilityChange:function(h){if((!this.__skipInvisibleHeaders||h.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(h);var x=this.setLastColumn;a:{var A=this.columnHeaders;let G=A.length;for(;G;){const I=A[--G];if(I.visible){A=I;break a}}A=void 0}x.call(this,A);x=h.visible?1:-1;this.setMaxWidth(this.maxWidth+h.maxValue*x);this.setMinWidth(this.minWidth+
h.minValue*x);this.fitHeadersToWidth();this.fixupResizerCursors()}},updateRowsForVisibilityChange:function(h){this.rows.forEach(x=>{x.notifyHdrVisibilityChange(h)})},hasRow:function(h){return 0<=this.getRowIndex(h)},getRowIndex:function(h){return this.rows.indexOf(h)},getRowById:function(h,x=A=>A.model.id===h){return this.rows.find(x)},getPrevRow:function(h){h=this.getRowIndex(h)-1;return this.rows[0>h?this.rows.length-1:h]},getNextRow:function(h){h=this.getRowIndex(h)+1;return this.rows[h<this.rows.length?
h:0]},notifyAddRow:function(h,x){if(!this.hasRow(h)&&(this.rows.push(h),!this.locked)){const A=this.width;this.columnHeaders.forEach(G=>{h.setWidth(A);h.notifyHdrXChange(G);h.notifyHdrWidthChange(G);h.notifyHdrVisibilityChange(G)});x||this.doSort()}},notifyRemoveRow:function(h){h=this.getRowIndex(h);0<=h&&this.rows.splice(h,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const h=this.getVisibleHdrs();let x=0;h.forEach(A=>{x=a(x,A.x+A.width)});e(h,this.gridWidth-x,!0,A=>{e(h,A,!1,
null)})}},fixupResizerCursors:function(){const h=this.getVisibleHdrs();let x=!0,A=0;h.forEach((O,W)=>{x&&O.isFixed()?O.setResizerCursor("",!0):(x&&(A=W),x=!1,O.restoreResizerCursor())});let G=!0,I=h.length,J=I-1;for(;I>A;){const O=h[--I];G?O.setResizerCursor("",!0):O.restoreResizerCursor();O.isFixed()||(G&&(J=I),G=!1)}A===J&&h[A].setResizerCursor("",!0)}}),C=l.GridColHdr=new q("GridColHdr",{include:[l.BoundedValueComponent],initNode:function(h,x){const A=this;c(x,"resizerCursor","col-resize");let G=
x.resizerCursor;delete x.resizerCursor;c(x,"minValue",16);c(x,"maxValue",9999);c(x,"value",x.minValue);c(x,"resizable",!0);c(x,"flex",0);c(x,"cellXAdj",0);c(x,"cellWidthAdj",0);c(x,"sortable",!0);c(x,"sortState","none");c(x,"placement","*");A.callSuper(h,x);const I=A.gridController;A.resizer=new b(A,{cursor:G,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[l.SizeToParent,l.Draggable,{requestDragPosition:function(J,O){O=J-this.x;if(I.fitToWidth&&(0<
O?O=f(O,f(-g(A),A.maxValue-A.value+n(A))):0>O&&(O=a(O,a(-k(A),A.minValue-A.value+t(A)))),0===O))return;J=A.value+O;A.resizable&&A.setValue(J);J-=A.value;O=J-O;let W=0;0>J?W=m(A,J):0<J&&(W=r(A,J));this.dragInitX+=W;O-=W;I.fitToWidth&&(0>O?p(A,O):0<O&&w(A,O))}}]);I&&(I.notifyAddHdr(A),I.notifyHdrXChange(A),I.notifyHdrVisibilityChange(A));A.setWidth(A.value);A.resizer.setVisible(!(A.last&&A.gridController.fitToWidth))},destroy:function(h){this.setGridController();this.callSuper(h)},setSortable:function(h){this.set("sortable",
h,!0)},setSortState:function(h){this.set("sortState",h,!0)},setResizable:function(h){this.set("resizable",h,!0)},setCellWidthAdj:function(h){this.cellWidthAdj=h},setCellXAdj:function(h){this.cellXAdj=h},setFlex:function(h){this.flex=h},setColumnId:function(h){this.columnId=h},setResizerCursor:function(h,x){const A=this.resizer,G=A.cursor;h!==G&&(x&&(this.__rrc=G),A.setCursor(h))},restoreResizerCursor:function(){const h=this.__rrc;h&&(this.setResizerCursor(h),this.__rrc=null)},isFixed:function(){return this.minValue===
this.maxValue},setLast:function(h){this.last=h;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(h){const x=this.gridController;x!==h&&(x&&x.notifyRemoveHdr(this),this.gridController=h,this.inited&&h&&(h.notifyAddHdr(this),h.notifyHdrXChange(this),h.notifyHdrWidthChange(this),h.notifyHdrVisibilityChange(this)))},setValue:function(h){this.callSuper(h);this.inited&&this.setWidth(this.value)},setMinValue:function(h){const x=this.minValue||
0,A=this.gridController;this.callSuper(h);A&&this.inited&&x!==this.minValue&&A.setMinWidth(A.minWidth+this.minValue-x)},setMaxValue:function(h){const x=this.maxValue||0,A=this.gridController;null==h&&(h=9999);this.callSuper(h);A&&this.inited&&x!==this.maxValue&&A.setMaxWidth(A.maxWidth+this.maxValue-x)},setWidth:function(h,x){const A=this.width,G=this.gridController;this.callSuper(h,x);G&&this.inited&&A!==this.width&&G.notifyHdrWidthChange(this)},setX:function(h){const x=this.x,A=this.gridController;
this.callSuper(h);A&&this.inited&&x!==this.x&&A.notifyHdrXChange(this)},setVisible:function(h){const x=this.visible,A=this.gridController;this.callSuper(h);this.inited&&A&&x!==this.visible&&A.notifyHdrVisibilityChange(this)}}),E=l.GridRow=new q("GridRow",{initNode:function(h,x){c(x,"placement","*");this.callSuper(h,x);(h=this.gridController)&&h.notifyAddRow(this)},destroy:function(h){this.setGridController();this.callSuper(h)},setGridController:function(h){const x=this.gridController;x!==h&&(x&&x.notifyRemoveRow(this),
this.gridController=h,this.inited&&h&&h.notifyAddRow(this))},notifyHdrXChange:function(h){const x=this[h.columnId+"View"];x&&x.setX(h.x+h.cellXAdj)},notifyHdrWidthChange:function(h){const x=this[h.columnId+"View"];x&&x.setWidth(h.width+h.cellWidthAdj)},notifyHdrVisibilityChange:function(h){const x=this[h.columnId+"View"];x&&x.setVisible(h.visible)}});l.Grid=new v("Grid",b,{include:[B],initNode:function(h,x){const A=l.SpacedLayout;c(x,"overflow","autox");c(x,"bgColor","#ccc");c(x,"rowSpacing",1);c(x,
"columnSpacing",1);var G=x.isAutoScrolling;delete x.isAutoScrolling;this.callSuper(h,x);h=new b(this,{name:"header",overflow:"hidden"});new A(h,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new l.SizeToChildren(h,{name:"yLayout",locked:!0,axis:"y"});x=this.sizeHeightToRows;G=new b(this,{name:"content",overflow:x?"hidden":"autoy"},G?[l.AutoScroller]:[]);new A(G,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:x});this.syncTo(this,"setGridWidth","width");
this.syncTo(h,"_updateContentWidth","width");this.constrain("_updateContentHeight",[x?G:this,"height",h,"height",h,"y"])},setSizeHeightToRows:function(h){this.sizeHeightToRows=h},setRowSpacing:function(h){this.rowSpacing!==h&&(this.rowSpacing=h,this.inited&&this.content.yLayout.setSpacing(h))},setColumnSpacing:function(h){this.columnSpacing!==h&&(this.columnSpacing=h,this.inited&&this.header.xLayout.setSpacing(h))},setLocked:function(h){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(x=>
{h?x.incrementLockedCounter():(x.decrementLockedCounter(),x.update())});this.callSuper(h)},_updateContentWidth:function(h){const x=this.content,A=h.value;x.setWidth(A);x.getSubviews().forEach(G=>{G.setWidth(A)})},_updateContentHeight:function(h){var x=this.header;h=this.content;x=x.y+x.height;h.setY(x);this.sizeHeightToRows?this.setHeight(x+h.height):h.setHeight(this.height-x)},determinePlacement:function(h,x){if("*"===h){let A;x.isA(E)?A=this.content:x.isA(C)&&(A=this.header);if(A)return x.gridController!==
this&&x.setGridController(this),A}return this.callSuper(h,x)},doSort:function(){var h=this.sort||["",""];if(h=this.getSortFunction(h[0],h[1])){const x=this.content,A=x.yLayout;this.rows.sort(h);x.sortSubviews(h);A.sortSubviews(h);A.update()}},getSortFunction:(h,x)=>{if(h){const A="ascending"===x?1:-1,G=h+"View";return(I,J)=>{I=I[G].text;J=J[G].text;return I>J?A:J>I?-A:0}}}});l.SimpleGridColHdr=new v("SimpleGridColHdr",l.SimpleTextButton,{include:[C],initNode:function(h,x){const A=this;c(x,"activeColor",
"#999");c(x,"hoverColor","#bbb");c(x,"readyColor","#aaa");c(x,"inset",2);c(x,"sortIconColor","#666");c(x,"outset",2);const G=x.outset;delete x.outset;A.callSuper(h,x);new l.FontAwesome(A,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:A.sortIconColor},[{initNode:function(I,J){this.callSuper(I,J);this.getIDS().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();A.setOutset(this.width+G);y(A)}}]);A.textView.enableEllipsis();A.setDisabled(!A.sortable);y(A);z(A)},setSortIconColor:function(h){this.sortIconColor=
h;this.sortIcon&&this.sortIcon.setTextColor(h)},setSortable:function(h){this.callSuper(h);this.inited&&(h&&this.setOutset(14),this.setDisabled(!h),z(this))},setSortState:function(h){this.callSuper(h);this.inited&&z(this)},setWidth:function(h,x){this.callSuper(h,x);this.inited&&y(this)},doActivated:function(){this.disabled||(this.setSortState("ascending"===this.sortState?"descending":"ascending"),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,
1)}})})(myt);
(l=>{const u=JS.Class,v=JS.Module,q=Math,f=q.max,a=l.View;var b=l.global;const c=b.focus,d=b.keys,e=l.AccessorSupport.defAttr,n=w=>{const z=w.selectedRow;z&&(z.setSelected(!1),w.set("selectedRow",null,!0))};b=l.InfiniteListRow=new v("InfiniteListRow",{include:[l.Reusable],setInfiniteOwner:function(w){this.infiniteOwner=w},setModel:function(w){this.model=w},setClassKey:function(w){this.classKey=w},notifyRefreshed:()=>{}});const k=l.SelectableInfiniteListRow=new v("SelectableInfiniteListRow",{include:[b,
l.Selectable]}),t=l.InfiniteList=new u("InfiniteList",a,{initNode:function(w,z){let y=z.rowClasses;delete z.rowClasses;if("function"===typeof y){const B={};B["default"]=y;y=B}e(z,"modelIDName","id");e(z,"numericSort",!0);e(z,"ascendingSort",!0);e(z,"overflow","autoy");e(z,"bgColor","#ccc");e(z,"rowSpacing",1);e(z,"rowInset",0);e(z,"rowOutset",0);e(z,"rowHeight",30);e(z,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx=
{};this.callSuper(w,z);w=this._listView=new a(this);this._scrollAnchorView=new a(w,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(y,w);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(w,z)=>new l.TrackActivesMultiPool(w,z),setOverscrollBehavior:function(w){this.overscrollBehavior=w;this.getIDS().overscrollBehavior=w},setCollectionModel:function(w){this.collectionModel=w},setModelIDName:function(w){this.modelIDName=w},setRowSpacing:function(w){this.rowSpacing=
w;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(w){this.rowHeight=w;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(w,z){if(0<w&&(this.callSuper(w,z),this.inited)){w=this._listView;const y=this.width;w.setWidth(y);w.getSubviews().forEach(B=>{B.setWidth(y)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},
getSortFunction:function(){const w=this.modelIDName,z=this.ascendingSort;return this.numericSort?l.getNumericObjSortFunc(w,z):l.getAlphaObjSortFunc(w,z,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(w){var z=this.getIndexOfModelInData(w);if(0<=z){var y=this._rowExtent;w=this.getIDE().scrollTop;const B=w+this.height;z=this.rowInset+z*y;y=z+y;if(z<=w)return this.scrollYTo(z,!0),!0;if(y>=B)return this.scrollYTo(y-this.height,!0),!0}return!1},isModelInData:function(w){return 0<=this.getIndexOfModelInData(w)},
getNextModel:function(w,z=!0,y=!0){const B=this.getListData(),C=B.length;w=this.getIndexOfModelInData(w);if(0<=w)return w+=1,w>=C?z?B[0]:B[C-1]:B[w];if(y&&0<C)return B[C-1]},getPrevModel:function(w,z=!0,y=!0){const B=this.getListData(),C=B.length;w=this.getIndexOfModelInData(w);if(0<=w)return--w,0>w?z?B[C-1]:B[0]:B[w];if(y&&0<C)return B[0]},getIndexOfModelInData:function(w){if(w){const z=this.getListData();let y=z.length;for(;y;)if(this.areModelsEqual(z[--y],w))return y}return-1},areModelsEqual:function(w,
z){const y=this.modelIDName;return w[y]===z[y]},getActiveRowForModel:function(w){if(w){const z=this._itemPool.getActives();let y=z.length;for(;y;){const B=z[--y];if(this.areModelsEqual(B.model,w))return B}}},refreshListData:function(w,z){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(w,z)},resetListUI:function(w,z){const y=this.getListData().length,B=this._listView,C=this._scrollAnchorView;B.setHeight(y*this._rowExtent-(0<y?this.rowSpacing:
0)+this.rowInset+this.rowOutset);C.setY(B.height-C.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=z;w||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(w){var z=c.focusedView;z&&z.isDescendantOf(w)&&((z=this.getFocusTrap())?z.focus():c.clear());w.setVisible(!1);this._itemPool.putInstance(w)},refreshListUI:function(w){w=this._rowExtent;const z=this.rowInset,y=this.forceFullResetOnNextRefresh;var B=this.getIDE().scrollTop;const C=
this.getListData()||[];var E=f(0,q.floor((B-z)/w));B=q.min(C.length,q.ceil((B-z+this.height)/w));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==E||this._endIdx!==B||y){const x=this.width,A=this.rowHeight,G=this._visibleRowsByIdx;this._startIdx=E;this._endIdx=B;for(var h in G)if(h<E||h>=B)this.putRowBackInPool(G[h]),delete G[h];for(h=E;h<B;h++){E=G[h];const I=C[h],J=this.getClassKey(I);let O=!1;E&&E.classKey===J||(E&&this.putRowBackInPool(E),G[h]=E=this._itemPool.getInstance(J),
E.setInfiniteOwner(this),E.setClassKey(J),E.setWidth(x),E.setHeight(A),E.setY(z+h*w),E.setVisible(!0),O=!0);!y&&E.model&&this.areModelsEqual(E.model,I)?O&&this.updateRow(E):(E.setModel(I),this.updateRow(E));E.notifyRefreshed();E.bringToFront()}}},getClassKey:w=>"default",updateRow:w=>{}}),g=l.SimpleSelectableInfiniteListRow=new u("SimpleSelectableInfiniteListRow",l.SimpleButton,{include:[k],initNode:function(w,z){e(z,"selectedColor","#ccf");e(z,"activeColor","#f8f8f8");e(z,"hoverColor","#eee");e(z,
"readyColor","#fff");e(z,"focusIndicator",!1);e(z,"activationKeys",d.LIST_KEYS);this.callSuper(w,z)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(w){this.callSuper(w);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},
doActivationKeyDown:function(w,z){z=this.infiniteOwner;const y=this.model;switch(w){case d.CODE_ESC:this.selected&&z.setSelectedRow();break;case d.CODE_ARROW_LEFT:case d.CODE_ARROW_UP:z.selectPrevRowForModel(y);break;case d.CODE_ARROW_RIGHT:case d.CODE_ARROW_DOWN:z.selectNextRowForModel(y)}},doActivationKeyUp:function(w){switch(w){case d.CODE_ENTER:case d.CODE_SPACE:this.doActivated()}}}),m=l.SelectableInfiniteList=new u("SelectableInfiniteList",t,{setSelectedRow:function(w){const z=this.selectedRow;
w!==z&&(z&&z.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",w,!0),w&&(this.setSelectedRowModel(w.model),w.setSelected(!0)))},setSelectedRowModel:function(w){this.set("selectedRowModel",w,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(w,z,y){w&&(n(this),this.setSelectedRowModel(w),this.refreshListUI(),z&&(w=this.getActiveSelectedRow())&&w.focus())},selectNextRowForModel:function(w,
z=!0){this.selectRowForModel(this.getNextModel(w),z,!0)},selectPrevRowForModel:function(w,z=!0){this.selectRowForModel(this.getPrevModel(w),z,!1)},resetListUI:function(w,z){this.isModelInData(this.selectedRowModel)?n(this):this.setSelectedRow();this.callSuper(w,z)},putRowBackInPool:function(w){w.selected&&n(this);this.callSuper(w)},refreshListUI:function(w){w=c.focusedView;this.callSuper();const z=this.getActiveSelectedRow();z&&(this.set("selectedRow",z,!0),z.setSelected(!0),w&&w!==z||z.focus(!0))}}),
r=new v("InfiniteGridRowMixin",{notifyXChange:function(w){const z=this[w.columnId+"View"];z&&z.setX(w.x+w.cellXAdj)},notifyWidthChange:function(w){const z=this[w.columnId+"View"];z&&z.setWidth(w.width+w.cellWidthAdj)},notifyVisibilityChange:function(w){const z=this[w.columnId+"View"];z&&z.setVisible(w.visible)}}),p=new v("InfiniteGridMixin",{setGridHeader:function(w){(this.gridHeader=w)&&w.setGrid(this)},makeReady:function(w,z){const y=this.gridHeader;y?(this.forceFullResetOnNextRefresh=z,y.setSort(w),
y.setLocked(!1)):this.refreshListData(!1,z)},getSortFunction:function(){var w=this.gridHeader.sort||["",""];const z=w[0];w=w[1];return z?l.getAlphaObjSortFunc(z,"ascending"===w,!1):this.callSuper()},updateRow:function(w){this.gridHeader&&this.gridHeader.columnHeaders.forEach(z=>{w.notifyXChange(z);w.notifyWidthChange(z);w.notifyVisibilityChange(z)})},notifyXChange:function(w){this.getVisibleRows().forEach(z=>{z.notifyXChange(w)})},notifyWidthChange:function(w){this.getVisibleRows().forEach(z=>{z.notifyWidthChange(w)})},
notifyVisibilityChange:function(w){this.getVisibleRows().forEach(z=>{z.notifyVisibilityChange(w)})}});l.InfiniteGridRow=new v("InfiniteGridRow",{include:[b,r]});l.SelectableInfiniteGridRow=new v("SelectableInfiniteGridRow",{include:[k,r]});l.SimpleSelectableInfiniteGridRow=new u("SimpleSelectableInfiniteGridRow",g,{include:[r]});l.InfiniteGrid=new u("InfiniteGrid",t,{include:[p]});l.SelectableInfiniteGrid=new u("InfiniteGrid",m,{include:[p]});l.InfiniteGridHeader=new u("InfiniteGridHeader",a,{include:[l.GridController],
initNode:function(w,z){e(z,"columnSpacing",1);z.overflow="hidden";this.callSuper(w,z);new l.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(w){this.grid=w},setColumnSpacing:function(w){this.columnSpacing=w},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:f(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setHeight:function(w,z){this.callSuper(w,z);this.inited&&(w=this.height,this.columnHeaders.forEach(y=>{y.setHeight(w)}))},setWidth:function(w,z){this.callSuper(f(this.minWidth,
w),z);this.inited&&(w=this.width,this.setGridWidth(w),this.grid.setWidth(w))},subviewAdded:function(w){this.callSuper(w);w.isA(l.GridColHdr)&&(w.setGridController(this),w.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},notifyHdrXChange:function(w){this.isLocked()||this.grid.notifyXChange(w)},notifyHdrWidthChange:function(w){this.isLocked()||this.grid.notifyWidthChange(w)},updateRowsForVisibilityChange:function(w){this.grid.notifyVisibilityChange(w)}})})(myt);
(l=>{const u=JS.Class,v=l.AccessorSupport.defAttr,q=l.PanelStackTransition=new u("PanelStackTransition",l.Node,{to:f=>Promise.resolve(f),from:f=>Promise.resolve(f)});l.PanelStack=new u("PanelStack",l.View,{include:[l.SelectionManager],initNode:function(f,a){a.overflow="hidden";v(a,"itemSelectionId","panelId");v(a,"maxSelected",1);this.callSuper(f,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(f){this.set("transition",f,!0)},__updateWidth:function(f){const a=
this.getActivePanel();a&&a.setWidth(f.value)},__updateHeight:function(f){const a=this.getActivePanel();a&&a.setHeight(f.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(f){return this.getSelectableItem(f)},selectPanel:function(f){this.selectById(f)},doSelected:function(f){f.setWidth(this.width);f.setHeight(this.height)},doStackTransition:function(f){this["doStackTransition"+(f.selected?"To":"From")](f)},doStackTransitionTo:function(f){const a=this;a.doBeforeTransitionTo(f);
const b=a.transition;b?b.to(f).then(c=>{a.doAfterTransitionTo(c)}):(f.makeHighestZIndex(),f.setVisible(!0),a.doAfterTransitionTo(f))},doBeforeTransitionTo:f=>{},doAfterTransitionTo:f=>{},doStackTransitionFrom:function(f){const a=this;a.doBeforeTransitionFrom(f);const b=a.transition;b?b.from(f).then(c=>{a.doAfterTransitionFrom(c)}):(f.setVisible(!1),a.doAfterTransitionFrom(f))},doBeforeTransitionFrom:f=>{},doAfterTransitionFrom:f=>{}});l.StackablePanel=new JS.Module("StackablePanel",{include:[l.Selectable],
initNode:function(f,a){a.visible=a.selected=!1;v(a,"bgColor","#fff");v(a,"panelId",a.name);this.callSuper(f,a);this.selected&&this.doStackTransition()},setPanelStack:function(f){this.panelStack=f},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(f){this.panelId=f},setSelected:function(f){this.selected!==f&&(this.callSuper(f),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});l.PanelStackFadeTransition=
new u("PanelStackFadeTransition",q,{initNode:function(f,a){v(a,"duration",1E3);this.callSuper(f,a)},setDuration:function(f){this.duration=f},to:function(f){return new Promise((a,b)=>{f.stopActiveAnimators("opacity");f.setVisible(!0);f.animate({attribute:"opacity",to:1,duration:this.duration}).next(c=>{f.makeHighestZIndex();a(f)})})},from:function(f){return new Promise((a,b)=>{f.stopActiveAnimators("opacity");f.animate({attribute:"opacity",to:0,duration:this.duration}).next(c=>{f.setVisible(!1);a(f)})})}});
l.PanelStackSlideTransition=new u("PanelStackSlideTransition",q,{initNode:function(f,a){v(a,"duration",1E3);v(a,"direction","right");this.callSuper(f,a)},setDuration:function(f){this.duration=f},setDirection:function(f){this.direction=f},to:function(f){const a=f.getPanelStack(),b=this.duration;let c,d;switch(this.direction){case "left":d="x";c=a.width;break;case "right":d="x";c=-a.width;break;case "up":d="y";c=a.height;break;case "down":d="y",c=-a.height}f.stopActiveAnimators(d);f.set(d,c);f.setVisible(!0);
return new Promise((e,n)=>{n=k=>{f.makeHighestZIndex();e(f)};0<b?f.animate({attribute:d,to:0,duration:b}).next(n):(f.set(d,0),f.makeHighestZIndex(),e(f))})},from:function(f){const a=f.getPanelStack(),b=this.duration;let c,d;switch(this.direction){case "left":d="x";c=-a.width;break;case "right":d="x";c=a.width;break;case "up":d="y";c=-a.height;break;case "down":d="y",c=a.height}f.stopActiveAnimators(d);return new Promise((e,n)=>{n=k=>{f.setVisible(!1);e(f)};0<b?f.animate({attribute:d,to:c,duration:b}).next(n):
(f.set(d,c),f.setVisible(!1),e(f))})}})})(myt);
(l=>{const u=JS.Module;var v=l.global;const q=v.dragManager,f=v.mouse;v=l.Draggable;const a=(c,d,e)=>{[d,e].forEach(n=>{c["__is"+n]=!1;c["__tmrId"+n]=null})},b=l.DragGroupSupport=new u("DragGroupSupport",{initNode:function(c,d){this.__dgs={"*":!0};this.__any=!0;this.callSuper(c,d)},setDragGroups:function(c){const d=this.__dgs={};for(const e in c)d[e]=!0;this.__any=d.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},addDragGroup:function(c){c&&(this.__dgs[c]=!0,"*"===c&&(this.__any=
!0))},removeDragGroup:function(c){c&&(delete this.__dgs[c],"*"===c&&(this.__any=!1))},acceptAnyDragGroup:function(){return this.__any}});l.DropSource=new u("DropSource",{include:[v],initNode:function(c,d){this.defAttr(d,"distanceBeforeDrag",2);null==d.dropParent&&(d.dropParent=c.getRoot());this.callSuper(c,d)},setDropClass:function(c){this.dropClass=l.resolveClassname(c)},setDropClassAttrs:function(c){this.dropClassAttrs=c},setDropParent:function(c){this.dropParent=c},startDrag:function(c){const d=
this.dropable=this.makeDropable();if(d){const e=d.distanceBeforeDrag;d.distanceBeforeDrag=0;d.doMouseDown(c);d.__doMouseDown(c);d.distanceBeforeDrag=e}},doMouseUp:function(c){this.callSuper(c);const d=this.dropable;d&&(d.__doMouseUp(c),d.doMouseUp(c),this.dropable=null)},makeDropable:function(){const c=this.dropClass,d=this.dropParent;if(c&&d){const e=l.DomElementProxy.getRelativePosition(this.getIDE(),d.getIDE());return new c(d,Object.assign({},this.dropClassAttrs,{x:e.x||0,y:e.y||0}))}}});l.DropTarget=
new u("DropTarget",{include:[b],initNode:function(c,d){this.callSuper(c,d);q.registerDropTarget(this)},destroy:function(){q.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(c){return!this.disabled&&this.isVisible()},notifyDragStart:c=>{},notifyDragStop:c=>{},notifyDragEnter:c=>{},notifyDragLeave:c=>{},notifyDrop:c=>{}});l.Dropable=new u("Dropable",{include:[v,b],setDropTarget:function(c){this.dropTarget=c},setDropped:function(c){this.dropped=c},setDropFailed:function(c){this.dropFailed=
c},willPermitDrop:c=>!0,startDrag:function(c){this.setDropped(!1);this.setDropFailed(!1);q.startDrag(this);this.callSuper(c)},updateDrag:function(c){q.updateDrag(c,this);this.callSuper(c)},stopDrag:function(c,d){q.stopDrag(c,this,d);this.callSuper(c,d);d?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(c){this.setDropTarget(c)},notifyDragLeave:function(c){this.setDropTarget()},notifyDropped:function(c,d){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},
notifyDropFailed:()=>{},notifyDropAborted:()=>{}});l.AutoScroller=new u("AutoScroller",{include:[b],initNode:function(c,d){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(d,"overflow","auto");this.callSuper(c,d);q.registerAutoScroller(this)},destroy:function(){q.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(c){this.scrollBorder=Math.max(1,c)},setScrollFrequency:function(c){this.scrollFrequency=c},setScrollAmount:function(c){this.scrollAmount=
c},setScrollAcceleration:function(c){this.scrollAcceleration=c},notifyDragStart:function(c){c=this.getIDE();(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&this.attachToDom(f,"__hndlMove","mousemove",!0)},notifyDragStop:function(c){this.detachFromDom(f,"__hndlMove","mousemove",!0);a(this,"Up","Down");a(this,"Left","Right")},__hndlMove:function(c){const d=this;var e=c.value;c=e.pageX;e=e.pageY;if(d.containsPoint(c,e)){const n=d.getPagePosition(),k=d.scrollBorder,t=(g,m)=>{d["__is"+g]&&
(d.getIDE()["scroll"+("Up"===g||"Down"===g?"Top":"Left")]+=m*d["__amt"+g],d["__tmrId"+g]=setTimeout(()=>{t(g,m)},d.scrollFrequency))};c-=n.x;e-=n.y;e<k?(d.__isUp=!0,d.__amtUp=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-e/k))),d.__tmrIdUp||t("Up",-1)):d.height-e<k?(d.__isDown=!0,d.__amtDown=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-(d.height-e)/k))),d.__tmrIdDown||t("Down",1)):a(d,"Up","Down");c<k?(d.__isLeft=!0,d.__amtLeft=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-c/
k))),d.__tmrIdLeft||t("Left",-1)):d.width-c<k?(d.__isRight=!0,d.__amtRight=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-(d.width-c)/k))),d.__tmrIdRight||t("Right",1)):a(d,"Left","Right")}else a(d,"Up","Down"),a(d,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(l,u){if(u){const v=u.length;for(let q=0,f;v>q;)(f=u[q++])?this.extend(f):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.init(l||{})},init:function(l){this.callSetters(l);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(l=>{const u=Math,v=l.Geometry.degreesToRadians,q=d=>{var e=v(d.startAngle),n=v(d.endAngle);if(e>n){var k=e;e=n;n=k}k=d.__path;const t=d.width/2;var g=d.thickness;const m=d.radius,r=m+g;var p=u.PI;const w=n-e,z=w+1E-4>=2*p;z&&(e=0,n=p);const y=u.cos,B=u.sin;e=[[t+r*y(e),t+r*B(e)],[t+r*y(n),t+r*B(n)],[t+m*y(n),t+m*B(n)],[t+m*y(e),t+m*B(e)]];n=["M"+e[0].join()];z?n.push("A"+[r,r,0,1,1,e[1]].join(),"A"+[r,r,0,1,1,e[0]].join(),"L"+e[2].join(),"A"+[m,m,0,1,0,e[3]].join(),"A"+[m,m,0,1,0,e[2]].join()):(p=
w%(2*p)>p?1:0,g/=2,n.push("A"+[r,r,0,p,1,e[1]].join(),d.endCapRounding?"A"+[g,g,0,0,1,e[2]].join():"L"+e[2].join(),"A"+[m,m,0,p,0,e[3]].join(),d.startCapRounding?"A"+[g,g,0,0,1,e[0]].join():""));n.push("z");k.setAttribute("d",n.join(" "));k.setAttribute("fill",d.color)},f=d=>{const e=2*(d.radius+d.thickness),n=d.__svg;d.setWidth(e);d.setHeight(e);n.setAttribute("viewBox","0 0 "+e+" "+e);n.setAttribute("width",e);n.setAttribute("height",e);q(d)},a=(d,e,n)=>{d[e]!==n&&(d[e]=n,d.inited&&(q(d),d.fireEvent(e,
n)))},b=(d,e,n)=>{d[e]!==n&&(d[e]=n=u.max(0,n),d.inited&&(f(d),d.fireEvent(e,n)))},c=(d,e)=>{d=document.createElementNS("http://www.w3.org/2000/svg",d);e&&e.appendChild(d);return d};l.Annulus=new JS.Class("Annulus",l.BackView,{initNode:function(d,e){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(d,e);f(this)},createOurDomElement:function(d){d=this.callSuper(d);var e=Array.isArray(d)?d[1]:d;e=this.__svg=c("svg",e);this.__path=
c("path",e);e.style.pointerEvents="none";return d},setRadius:function(d){b(this,"radius",d)},setThickness:function(d){b(this,"thickness",d)},setStartAngle:function(d){a(this,"startAngle",d)},setEndAngle:function(d){a(this,"endAngle",d)},setStartCapRounding:function(d){a(this,"startCapRounding",d)},setEndCapRounding:function(d){a(this,"endCapRounding",d)},setColor:function(d){a(this,"color",d)},isColorAttr:function(d){return"color"===d||this.callSuper(d)}})})(myt);
(l=>{let u;const v=JS.Class,q=l.global,f=q.mouse,a=q.windowResize,b=Math,c=b.min,d=b.max,e=b.round,n=l.AccessorSupport.defAttr,k=p=>{p.__checkTID&&(clearTimeout(p.__checkTID),delete p.__checkTID)},t=p=>{if(p.tooltip){const w=p._lastPos;if(p.tooltip.parent.containsPoint(w.x,w.y))return!0}p.hideTip();return!1},g=l.BaseTooltip=new v("BaseTooltip",l.View,{include:[l.RootView],extend:{TIP_DELAY:500,TIP_HIDE_DELAY:100},initNode:function(p,w){this.tipDelay=this.nextTipDelay=g.TIP_DELAY;this.tipHideDelay=
g.TIP_HIDE_DELAY;n(w,"visible",!1);this.callSuper(p,w)},setTooltip:function(p){this.inited&&(this.tooltip=p)&&(this.attachToDom(f,"__hndl_mousemove","mousemove",!0),this.attachToDom(p.parent,"hideTip","mousedown",!0),this.attachToDom(p.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(p){const w=this;w._lastPos=l.MouseObservable.getMouseFromEvent(p);t(w)&&(k(w),w.__checkTID=setTimeout(()=>{delete w.__checkTID;t(w)&&w.showTip()},w.nextTipDelay))},hideTip:function(p){k(this);p=this.tooltip.parent;
this.detachFromDom(p,"hideTip","mousedown",!0);this.detachFromDom(p,"hideTip","mouseup",!0);this.detachFromDom(f,"__hndl_mousemove","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){q.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),m=l.Tooltip=new v("Tooltip",g,{extend:{EDGE_SIZE:0,EDGE_COLOR:"#444",SHADOW_SIZE:2,SHADOW_COLOR:"#00000033",HORIZONTAL_INSET:6,VERTICAL_INSET:3,TIP_BG_COLOR:"#444",
TIP_TEXT_COLOR:"#eee"},initNode:function(p,w){n(w,"edgeSize",m.EDGE_SIZE);n(w,"edgeColor",m.EDGE_COLOR);n(w,"shadowSize",m.SHADOW_SIZE);n(w,"shadowColor",m.SHADOW_COLOR);n(w,"insetH",m.HORIZONTAL_INSET);n(w,"insetV",m.VERTICAL_INSET);n(w,"tipBgColor",m.TIP_BG_COLOR);n(w,"tipTextColor",m.TIP_TEXT_COLOR);this.callSuper(p,w);new l.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(p){this.edgeSize=p},setEdgeColor:function(p){this.edgeColor=
p},setShadowSize:function(p){this.shadowSize=p},setShadowColor:function(p){this.shadowColor=p},setInsetH:function(p){this.insetH=p},setInsetV:function(p){this.insetV=p},setTipBgColor:function(p){this.tipBgColor=p},setTipTextColor:function(p){this.tipTextColor=p},showTip:function(){const p=this.tooltip;var w=p.text;const z=p.parent;var y=this._tipText;const B=this.edgeSize,C=this.shadowSize;y.text!==w&&y.setText(w);y.setWidth("auto");var E=c(y.measureNoWrapWidth(),p.maxTextWidth);w=E+2*y.x;const h=
w+2*B;y.setWidth(E);y.sizeViewToDom();E=z.getPagePosition();y=y.height+2*y.y;const x=y+2*B,A=E.y-x+("below"===p.tipvalign?z.height+x:0);E=E.x;switch(p.tipalign){case "right":E-=h;case "farright":E+=z.width;break;case "farleft":E-=h}this.setX(e(c(d(E,0),a.getWidth()-h)));this.setY(e(c(d(A,0),a.getHeight()-x)));this.setWidth(w);this.setHeight(y);this.setBgColor(this.tipBgColor);this.setBorder([B,"solid",this.edgeColor]);this.setBoxShadow([C,C,C,this.shadowColor]);this.callSuper()}}),r=l.TooltipMixin=
new JS.Module("TooltipMixin",{extend:{TIP_CLASS:m,MAX_TEXT_WIDTH:280},setTooltip:function(p){this.callSuper("");this.set("tooltip",p,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(p){this.set("tipAlign",p,!0)},setTipValign:function(p){this.set("tipValign",p,!0)},setMaxTextWidth:function(p){this.set("maxTextWidth",p,!0)},setTipClass:function(p){this.set("tipClass",p,!0)},doSmoothMouseOver:function(p){const w=this.getTooltip();this.callSuper(p);if(p&&w){p=this.tipClass||r.TIP_CLASS;
!u||u instanceof p||(u.destroy(),u=null);if(!u){let z=document.getElementById("tooltipDiv");z||(z=l.DomElementProxy.createElement("div",{position:"absolute"}),l.getElement().appendChild(z));u=new p(z,{domId:"tooltipDiv"})}u.setTooltip({parent:this,text:w,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||r.MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(l){this.setVectors(l||[])},setVectors:function(l){this._boundingBox=null;this.vectors=l},copyFrom:function(l){this.vectors=l.vectors.slice();this._boundingBox=null},drawInto:function(l){l.beginPath();const u=this.vectors;let v=u.length,q=0;for(l.moveTo(u[q++],u[q++]);v>q;)l.lineTo(u[q++],u[q++]);l.closePath()},translate:function(l,u){const v=this.vectors;let q=v.length;for(;q;)v[--q]+=u,v[--q]+=l;this._boundingBox=null},rotate:function(l){const u=
Math.cos(l);l=Math.sin(l);const v=this.vectors,q=v.length;for(let f=0;q>f;){const a=v[f]*u-v[f+1]*l,b=v[f]*l+v[f+1]*u;v[f++]=a;v[f++]=b}this._boundingBox=null},rotateAroundOrigin:function(l,u,v){this.translate(-u,-v);this.rotate(l);this.translate(u,v)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const l=this.vectors;let u=l.length,v,q,f,a;if(2<=u){f=a=l[--u];for(v=q=l[--u];u;){const b=l[--u],c=l[--u];f=Math.min(b,f);a=Math.max(b,a);v=Math.min(c,v);q=Math.max(c,q)}return this._boundingBox=
{x:v,y:f,width:q-v,height:a-f}}return this._boundingBox=null},getCenter:function(){const l=this.getBoundingBox();return l?{x:l.x+l.width/2,y:l.y+l.height/2}:null},isPointInPath:function(l,u){"object"===typeof l&&(u=l.y,l=l.x);return myt.Geometry.isPointInPath(l,u,this.getBoundingBox(),this.vectors)}});
(l=>{const u=Math.PI,v=u/2,q=3*u/2,f=l.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(b=>{a[b]=function(){this.__ctx[b].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(b=>
{a[b]=function(){return this.__ctx[b].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(b=>{a[f.generateSetterName(b)]=function(c){this.__ctx[b]=c};a[f.generateGetterName(b)]=function(){return this.__ctx[b]}});l.Canvas=new JS.Class("Canvas",l.BackView,{include:[a],createOurDomElement:function(b){b=this.callSuper(b);const c=
Array.isArray(b)?b[1]:b,d=this.__cvs=document.createElement("canvas");d.className="mytUnselectable";c.appendChild(d);d.style.position="absolute";this.__ctx=d.getContext("2d");return b},setWidth:function(b,c){0>b&&(b=0);this.__cvs.setAttribute("width",b);this.callSuper(b,c)},setHeight:function(b,c){0>b&&(b=0);this.__cvs.setAttribute("height",b);this.callSuper(b,c)},clear:function(){const b=this.__ctx;b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.width,this.height);b.restore()},dataURItoBlob:function(b,
c){b=atob(b.split(",")[1]);const d=b.length,e=[];for(let n=0;n<d;)e.push(b.charCodeAt(n++));return new Blob([new Uint8Array(e)],{type:c})},getDataURL:function(b,c){return this.__cvs.toDataURL(b,c)},getImageFile:function(b,c,d){switch(b){case "png":case "PNG":b="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":b="jpeg";null==d&&(d=.5);break;default:console.warn("Unexpected image type",b),b=b.toLowerCase()}const e="image/"+b;d=this.dataURItoBlob(this.getDataURL(e,d),e);c&&(d.name=c+"."+b);return d},
circle:function(b,c,d){this.__ctx.arc(b,c,d,0,2*u)},drawRoundedRect:function(b,c,d,e,n,k){const t=this.lineTo.bind(this),g=this.arc.bind(this);k=e+k;n=d+n;this.beginPath();this.moveTo(d,e+b);t(d,k-b);g(d+b,k-b,b,u,v,!0);t(n-b,k);g(n-b,k-b,b,v,0,!0);t(n,e+b);g(n-b,e+b,b,0,q,!0);t(d+b,e);g(d+b,e+b,b,q,u,!0);this.closePath();0<c&&(b-=c,d+=c,n-=c,e+=c,k-=c,this.moveTo(d,e+b),g(d+b,e+b,b,u,q),t(n-b,e),g(n-b,e+b,b,q,0),t(n,k-b),g(n-b,k-b,b,0,v),t(d+b,k),g(d+b,k-b,b,v,u),this.closePath());return this},drawRectOutline:function(b,
c,d,e,n){n=d+n;e=c+e;const k=c+b,t=e-b,g=d+b;b=n-b;const m=this.lineTo.bind(this);this.beginPath();this.moveTo(c,d);m(c,n);m(e,n);m(e,d);m(c,d);m(k,g);m(t,g);m(t,b);m(k,b);m(k,g);this.closePath();return this},drawPartiallyRoundedRect:function(b,c,d,e,n,k,t,g){g=k+g;t=n+t;const m=this.lineTo.bind(this),r=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(n,k+b);m(n,g-d);0<d&&r(n,g,n+d,g);m(t-e,g);0<e&&r(t,g,t,g-e);m(t,k+c);0<c&&r(t,k,t-c,k);m(n+b,k);0<b&&r(n,k,n,k+b);this.closePath();return this},
drawAnnulus:function(b,c,d,e,n,k,t,g=60){const m=l.Color;t.forEach(G=>{"string"===typeof G.color&&(G.color=m.makeColorFromHexString(G.color))});g=u/g;let r=0;for(;t.length-1>r;){var p=t[r++],w=t[r],z=Math.round((w.angle-p.angle)/g);w=p.color.getDiffFrom(w.color);p.colorDelta={red:w.red/z,green:w.green/z,blue:w.blue/z}}d=new l.Path([b+d,c,b+e,c]);d.rotateAroundOrigin(n,b,c);e=d.vectors;let y,B;p=e[0];z=e[1];w=e[2];let C=e[3],E=0,h=u/360;for(r=0;k>n;){y=p;B=z;var x=w;var A=C;n+=g;n>k&&(g+=k-n,h=0,n=
k);d.rotateAroundOrigin(g+h,b,c);p=e[0];z=e[1];w=e[2];C=e[3];this.beginPath();this.moveTo(y,B);this.lineTo(x,A);this.lineTo(w,C);this.lineTo(p,z);this.closePath();x=t[r].color;A=t[r].colorDelta;this.setFillStyle(m.rgbToHex(x.red+E*A.red,x.green+E*A.green,x.blue+E*A.blue,!0));this.fill();0<h&&(d.rotateAroundOrigin(-h,b,c),p=e[0],z=e[1],w=e[2],C=e[3]);E++;n>=t[r+1].angle&&(E=0,r++)}return this}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,e){if(b){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in c||(c[d]={});c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var d=b.length;c=c||0;for(0>c&&(c=Math.max(c+d,0));c<d;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise.prototype.finally",function(a){return a?a:function(a){return this.then(function(b){return Promise.resolve(a()).then(function(){return b})},function(b){return Promise.resolve(a()).then(function(){throw b;})})}},"es9","es3");$jscomp.polyfill("String.prototype.trimLeft",function(a){function b(){return this.replace(/^[\s\xa0]+/,"")}return a||b},"es_2019","es3");$jscomp.polyfill("String.prototype.trimStart",function(a){return a||String.prototype.trimLeft},"es_2019","es3");
$jscomp.polyfill("String.prototype.trimRight",function(a){function b(){return this.replace(/[\s\xa0]+$/,"")}return a||b},"es_2019","es3");$jscomp.polyfill("String.prototype.trimEnd",function(a){return a||String.prototype.trimRight},"es_2019","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var b=[],e;for(e in a)$jscomp.owns(a,e)&&b.push(a[e]);return b}},"es8","es3");
(a=>{let b;var c=a=>{let f,d=a.length;for(;d;)if(f=a[--d],b=f.ver||f.id,f.str&&0<=f.str.indexOf(f.sub)||f.prop)return f.id};var e=a=>{const f=a.indexOf(b);if(0<=f)return parseFloat(a.substring(f+b.length+1))};const d=navigator.userAgent,f=navigator.platform;e=a.BrowserDetect={browser:c([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:d,sub:"Firefox",id:"Firefox"},{str:d,sub:"Chrome",id:"Chrome"},{str:d,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:e(d)||e(navigator.appVersion)||"UNKNOWN",os:c([{str:d,sub:"iPhone",id:"iPhone/iPod"},{str:f,sub:"Linux",id:"Linux"},{str:f,sub:"Mac",id:"Mac"},{str:f,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(e.browser){case "Chrome":case "Safari":a="WebKit";break;case "Explorer":a="MS";break;case "Firefox":a="Moz";break;case "Opera":a="O";break;default:a="UNKNOWN"}c=a.toLowerCase();e.prefix={dom:a,lowercase:c,css:"-"+c+"-",js:c[0].toUpperCase()+c.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),b="January February March April May June July August September October November December".split(" "),c="Sun Mon Tue Wed Thu Fri Sat".split(" "),e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d={d:a=>(10>a.getDate()?"0":"")+a.getDate(),D:a=>c[a.getDay()],j:a=>a.getDate(),l:a=>e[a.getDay()],N:a=>0==a.getDay()?7:a.getDay(),S:a=>1==a.getDate()%10&&11!=a.getDate()?
"st":2==a.getDate()%10&&12!=a.getDate()?"nd":3==a.getDate()%10&&13!=a.getDate()?"rd":"th",w:a=>a.getDay(),z:a=>{const b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864E5)},W:a=>{var b=new Date(a.valueOf());a=(a.getDay()+6)%7;b.setDate(b.getDate()-a+3);a=b.valueOf();b.setMonth(0,1);4!==b.getDay()&&b.setMonth(0,1+(4-b.getDay()+7)%7);b=1+Math.ceil((a-b)/6048E5);return 10>b?"0"+b:b},F:a=>b[a.getMonth()],m:a=>(9>a.getMonth()?"0":"")+(a.getMonth()+1),M:b=>a[b.getMonth()],n:a=>a.getMonth()+1,t:a=>
{let b=a.getFullYear();a=a.getMonth()+1;12===a&&(b=b++,a=0);return(new Date(b,a,0)).getDate()},L:a=>{a=a.getFullYear();return 0==a%400||0!=a%100&&0==a%4},o:a=>{const b=new Date(a.valueOf());b.setDate(b.getDate()-(a.getDay()+6)%7+3);return b.getFullYear()},Y:a=>a.getFullYear(),y:a=>(""+a.getFullYear()).substr(2),a:a=>12>a.getHours()?"am":"pm",A:a=>12>a.getHours()?"AM":"PM",B:a=>Math.floor(1E3*((a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/3600)/24),g:a=>a.getHours()%12||12,G:a=>a.getHours(),
h:a=>(10>(a.getHours()%12||12)?"0":"")+(a.getHours()%12||12),H:a=>(10>a.getHours()?"0":"")+a.getHours(),i:a=>(10>a.getMinutes()?"0":"")+a.getMinutes(),s:a=>(10>a.getSeconds()?"0":"")+a.getSeconds(),u:a=>{a=a.getMilliseconds();return(10>a?"00":100>a?"0":"")+a},e:a=>/\((.*)\)/.exec((new Date).toString())[1],I:a=>{let b=null,f=0;for(var d;12>f;)if(d=new Date(a.getFullYear(),f++,1),d=d.getTimezoneOffset(),null===b)b=d;else if(d<b){b=d;break}else if(d>b)break;return a.getTimezoneOffset()==b|0},O:a=>(0>
-a.getTimezoneOffset()?"-":"+")+(10>Math.abs(a.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(a.getTimezoneOffset()/60))+(0==Math.abs(a.getTimezoneOffset()%60)?"00":(10>Math.abs(a.getTimezoneOffset()%60)?"0":"")+Math.abs(a.getTimezoneOffset()%60)),P:a=>(0>-a.getTimezoneOffset()?"-":"+")+(10>Math.abs(a.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(a.getTimezoneOffset()/60))+":"+(0==Math.abs(a.getTimezoneOffset()%60)?"00":(10>Math.abs(a.getTimezoneOffset()%60)?"0":"")+Math.abs(a.getTimezoneOffset()%
60)),T:a=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:a=>60*-a.getTimezoneOffset(),c:a=>a.format("Y-m-d\\TH:i:sP"),r:a=>a.toString(),U:a=>a.getTime()/1E3};return function(a){const b=this;return a.replace(/(\\?)(.)/g,(a,f,c)=>""===f&&d[c]?d[c](b):c)}})();
(a=>{const b=(a,b)=>{if(a&&b)for(let f in b)a[f]===b[f]||a.hasOwnProperty(f)||(a[f]=b[f]);return a},c=a=>{const b=function(){const a=this.initialize;return a?a.apply(this,arguments)||this:this},f=function(){};f.prototype=(a||Object).prototype;b.prototype=new f;return b},e=(a,b)=>{const f=!b,d=a.__inc__,c=d.length;let g=0;b=b||[];if(f&&a.__anc__)return a.__anc__.slice();for(;g<c;)e(d[g++],b);0>b.indexOf(a)&&b.push(a);f&&(a.__anc__=b.slice());return b},d=(a,b)=>{var f=a.__mct__[b];if(f)return f.slice();
f=e(a);const d=f.length,c=[];let g,l=0;for(;l<d;)g=f[l++].__fns__,g.hasOwnProperty(b)&&c.push(g[b]);a.__mct__[b]=c.slice();return c},f=(a,b)=>{b=b||a;const d=b.__tgt__;var c=a.__inc__;const e=a.__fns__;let l,m;if(b===a)for(a.__anc__=null,a.__mct__={},l=a.__dep__.length;l;)f(a.__dep__[--l]);if(d){l=0;for(a=c.length;l<a;)f(c[l++],b);for(m in e)c=e[m],c=c instanceof k?g(c,b):c,d[m]!==c&&(d[m]=c)}},g=(a,b)=>{const f=a.callable,d=k.keywordCallSuper,c=a._hasSuper&&d?d:null;return null===c?f:function(){var d=
this.callSuper;const g=!d||d.__kwd__;let e,l;g&&(e=d,l=this.hasOwnProperty("callSuper"),d=this.callSuper=c(a,b,this,arguments))&&(d.__kwd__=!0);d=f.apply(this,arguments);g&&(l?this.callSuper=e:delete this.callSuper);return d}},h=a=>{let b=a.__meta__;if(b)return b;b=a.__meta__=new n("",null,{_target:a});return b.include(a.klass,{_resolve:!1})},l=a=>"function"!==typeof a||a.__fns__&&a.__inc__,k=a.Method=c(),m=(a,b,f)=>f&&f.__inc__&&f.__fns__||"function"!==typeof f?f:new k(a,b,f),n=a.Module=c();b(k.prototype,
{initialize:function(a,b,f){this.module=a;this.name=b;this.callable=f;this._hasSuper="function"===typeof f&&-1!==f.toString().indexOf("callSuper")},call:function(...a){return this.callable(...a)},apply:function(a,b){return this.callable.apply(a,b)}});b(n.prototype,{initialize:function(a,b,f){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(f||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=a;this.include(b,{_resolve:!1})},define:function(a,b,d){this.__fns__[a]=m(this,
a,b);!1!==(d||{})._resolve&&f(this)},include:function(a,b){if(a){b=b||{};var d=a.extend,c=a.include;let g,e,m,h;if(a.__fns__&&a.__inc__)this.__inc__.push(a),a.__dep__.push(this);else{h={_resolve:!1};if(l(d))for(d=[].concat(d),e=0,m=d.length;e<m;)this.extend(d[e++]);if(l(c))for(d=[].concat(c),e=0,m=d.length;e<m;)this.include(d[e++],h);for(g in a)a.hasOwnProperty(g)&&(c=a[g],("extend"!==g&&"include"!==g||!l(c))&&this.define(g,c,h))}!1!==b._resolve&&f(this)}return this},includes:function(a){if(a===this)return!0;
const b=this.__inc__,f=b.length;for(let d=0;d<f;)if(b[d++].includes(a))return!0;return!1},instanceMethod:function(a){return d(this,a).pop()}});const p=new n("Kernel",{equals:function(a){return this===a},extend:function(a,b){a&&h(this).include(a,{_resolve:(b||{})._resolve});return this},isA:function(a){return"function"===typeof a&&this instanceof a||h(this).includes(a)}}),r=a.Class=c(n);b(r.prototype,{initialize:function(a,d,g,e){"function"!==typeof d&&(e=g,g=d,d=Object);n.prototype.initialize.call(this,
a);a=(e||{})._resolve;e={_resolve:!1};const l=c(d);b(l,this);l.prototype.constructor=l.prototype.klass=l;h(l).include(d.__meta__,{_resolve:a});l.__tgt__=l.prototype;d=d===Object?{}:d.__fns__?d:new n(d.prototype,e);l.include(p,e).include(d,e).include(g,e);!1!==a&&f(l);return l}});const q=(a,f)=>{a.__inc__=[];a.__dep__=[];const d=a.prototype,c={};for(let b in d)d.hasOwnProperty(b)&&(c[b]=m(a,b,d[b]));a.__fns__=c;a.__tgt__=d;d.constructor=d.klass=a;b(a,r.prototype);a.include(f);a.constructor=a.klass=
r};q(k,p);q(n,p);q(r,n);f(h(k));f(h(n));h(r).include(n.__meta__);k.keywordCallSuper=(a,b,f,c)=>{const g=d(b,a.name),e=Array.from(c);let l=g.length-1,m;if(0!==l)return m=(...a)=>{let b=a.length;for(;b;)e[--b]=a[b];l--;0===l&&delete f.callSuper;a=g[l].apply(f,e);f.callSuper=m;l++;return a}};a.Singleton=new r("Singleton",{initialize:(a,b,f)=>new (new r(a,b,f))})})(global.JS||(global.JS={}));
(a=>{class b extends Error{constructor(a,b,...f){super(...f);this.name="FetchError";this.status=a;this.url=b}}let c=0;const e={},d={"":!0},f=document.fonts,g=a=>{a=a.family+" "+a.weight;0<=a.indexOf("\\35 ")&&(a=a.replace(/\\35 /g,"5"));if(!d[a])for(d[a]=!0,a=e[a]||[];a.length;){var b=a.pop();b&&!b.destroyed&&b.sizeViewToDom()}},h=a.myt={version:2.02005141444E7,IMAGE_ROOT:global.MYT_IMAGE_ROOT||"",generateGuid:()=>++c,addEventListener:(a,b,f,d,c)=>{a.addEventListener(b,f,{capture:d||!1,passive:c||
!1})},removeEventListener:(a,b,f,d)=>{a.removeEventListener(b,f,d||!1)},resolveName:(a,b)=>{if(a&&0!==a.length){b=b||global;var f=Array.isArray(a)?a:a.split("."),d=f.length;for(let c=0;c<d;c++)if(b=b[f[c]],void 0===b){console.warn("resolveName failed for:",a,"at part:",c,f[c]);return}return b}},resolveClassname:a=>{"string"===typeof a&&(a=h.resolveName(a));return a&&"function"===typeof a.isA&&a.isA(JS.Class)?a:null},getExtension:a=>a?a.split(".")[1]:null,loadScript:function(a,b,f){const d=this._loadedScripts||
(this._loadedScripts={});if(d[a])return console.warn("script already loaded for src",a),null;{d[a]=!0;const c=document.createElement("script");c.type="text/javascript";c.async=!1;if(b){let a=!1;c.onload=c.onreadystatechange=function(){a||this.readyState&&"complete"!==this.readyState||(a=!0,c.onload=c.onreadystatechange=null,b())}}c.src=a+(f?"":(-1!==a.indexOf("?")?"&":"?")+"cacheBust="+Date.now());this.getElement("head").appendChild(c);return c}},dumpStack:(a,b)=>{let f;"string"===typeof a&&(f=a,
a=null);h.global.error.notify(b||"error",null,f,a)},getRandom:a=>{let b=Math.random();a&&(b=a(b),1<=b?b=.9999999999:0>b&&(b=0));return b},getRandomArbitrary:(a,b,f)=>{if(a>b){const f=a;a=b;b=f}return h.getRandom(f)*(b-a)+a},getRandomInt:(a,b,f)=>{if(a>b){const f=a;a=b;b=f}return Math.floor(h.getRandom(f)*(b-a+1)+a)},areFloatsEqual:(a,b,f)=>{const d=Math.abs(a),c=Math.abs(b);f=f?Math.abs(f):1E-6;return Math.abs(a-b)<=(d>c?c:d)*f},areArraysEqual:(a,b)=>{if(a!==b){if(null==a||null==b)return!1;let f=
a.length;if(f!==b.length)return!1;for(;f;)if(a[--f]!==b[f])return!1}return!0},areObjectsEqual:(a,b)=>{if(a!==b){if(null==a||null==b)return!1;let f;for(f in a)if(a[f]!==b[f])return!1;for(f in b)if(a[f]!==b[f])return!1}return!0},getElement:(a,b)=>document.getElementsByTagName(a||"body")[0<b?b:0],loadFontFaces:(a,b)=>{const d=[];a.forEach(a=>{a=new FontFace(a.family,"url("+a.url+")",a.options);d.push(a.load())});Promise.all(d).then(a=>{a.forEach(a=>{f.add(a);g(a)});b&&b(a)})},loadFontFace:(a,b,d={},
c)=>{a=new FontFace(a,"url("+b+")",d);a.loaded.then(a=>{f.add(a);g(a);c&&c(a)});a.load()},registerForFontNotification:(a,b)=>{d[b]?a&&!a.destroyed&&a.sizeViewToDom():(e[b]||(e[b]=[])).push(a)},createBaseFontCSSRule:a=>{h.addCSSRule(h.createStylesheet(),"body, input","font-family:"+a,0)},loadCSSFonts:a=>{(a||[]).forEach(a=>{const b=document.createElement("link");b.rel="stylesheet";b.href=a;document.head.appendChild(b)})},createStylesheet:()=>{const a=document.createElement("style");document.head.appendChild(a);
return a.sheet},addCSSRule:(a,b,f,d)=>{"insertRule"in a?a.insertRule(b+"{"+f+"}",d):"addRule"in a&&a.addRule(b,f,d)},removeCSSRules:a=>{let b=a.cssRules.length;for(;b;)b--,"deleteRule"in a?a.deleteRule(b):"removeRule"in a&&a.removeRule(b)},createInputPlaceholderCSSRule:(a,b,f)=>{const d=a.getOuterDomElement().id||(a.getOuterDomElement().id="id"+h.generateGuid());let c=a.__sheet,g=[];c?h.removeCSSRules(c):c=a.__sheet=h.createStylesheet();b&&g.push("color:"+b);f&&g.push("font-family:"+f);g=g.join("; ");
switch(BrowserDetect.browser){case "Chrome":case "Safari":h.addCSSRule(c,"#"+d+"::-webkit-input-placeholder",g,0);break;case "Firefox":h.addCSSRule(c,"#"+d+":-moz-placeholder","opacity:1; "+g,0);h.addCSSRule(c,"#"+d+"::-moz-placeholder","opacity:1; "+g,0);break;case "Explorer":h.addCSSRule(c,"#"+d+":-ms-input-placeholder",g,0)}},memoize:a=>function(){const b=JSON.stringify(arguments),f=a.__cache||(a.__cache={});return b in f?f[b]:f[b]=a.apply(this,arguments)},debounce:function(a,b,f){return function(){const d=
this,c=d.__DBTO,g=arguments,e=f&&!c;clearTimeout(c);d.__DBTO=setTimeout(function(){d.__DBTO=null;f||a.apply(d,g)},b);e&&a.apply(d,g)}},createFixedThresholdCounter:(a,b,f,d)=>{var c=h.AccessorSupport.generateName;const g="function"===typeof a||a instanceof JS.Module,e={};d=d||c("counter",f);let l=c(d,"increment");c=c(d,"decrement");if(void 0!==(g?a.instanceMethod(l):a[l]))return console.warn("Can't clobber existing property during setup of increment function.",l,a),!1;if(void 0!==(g?a.instanceMethod(c):
a[c]))return console.warn("Can't clobber existing property during setup of decrement function.",c,a),!1;e[l]=function(){const a=this[d]+1;this[d]=a;this.fireEvent(d,a);a===b&&this.set(f,!0)};e[c]=function(){const a=this[d];if(0!==a){var c=a-1;this[d]=c;this.fireEvent(d,c);a===b&&this.set(f,!1)}};a[g?"include":"extend"](e);return!0},makeURLSearchParams:(a={})=>{const b=new URLSearchParams;let f,d;for(f in a)d=a[f],void 0!==d&&b.set(f,d);return b},doFetch:(a,f,d,c,g,e)=>fetch(a,f).then(f=>{if(!f.ok)throw new b(f.status,
a,f.statusText);return f}).then(a=>d?a.text():a.json()).then(f=>{if(c)try{if(d)c(f);else{if(!1===f.success)throw new b(200,a,f.message);c(f.data)}}catch(v){throw f=new b(200,a,v.message),f.stack=v.stack,f;}}).catch(f=>{if(g){if("FetchError"!==f.name){const d=new b(0,a,f.message);d.stack=f.stack;f=d}g(f)}}).finally(a=>{e&&e()})};f.onloadingdone=a=>{a.fontfaces.forEach(a=>{g(a)})}})(global);
(a=>{const b=/\+/g,c=a=>a,e=a=>decodeURIComponent(a.replace(b," ")),d=(a,b)=>{0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return b?JSON.parse(a):a}catch(l){}},f=a.Cookie={defaults:{raw:!1,json:!1},read:(a,b)=>{b=Object.assign({},f.defaults,b);const g=b.raw?c:e;b=b.json;const h=document.cookie.split("; ");let m=a?void 0:{};let n,p=0,r=h.length;for(;p<r;){var q=h[p++].split("=");n=g(q.shift());q=g(q.join("="));if(a&&a===n){m=d(q,b);break}a||(m[n]=d(q,b))}return m},
write:(a,b,d)=>{d=Object.assign({},f.defaults,d);if("number"===typeof d.expires){const a=d.expires,b=d.expires=new Date;b.setDate(b.getDate()+a)}b=d.json?JSON.stringify(b):String(b);return document.cookie=[d.raw?a:encodeURIComponent(a),"=",d.raw?b:encodeURIComponent(b),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")},remove:(a,b)=>void 0!==f.read(a,b)?(f.write(a,"",Object.assign({},b,{expires:-1})),!0):
!1}})(myt);
(a=>{const b=global.localStorage,c=(a,b,c)=>{if(0<b){const f="__timerId_"+c;(c=e[f])&&clearTimeout(c);e[f]=setTimeout(()=>{a();delete e[f]},b)}else a()},e=a.LocalStorage={hasDatum:(a,b)=>{if(a&&(b=e.getItem(b||"myt")))try{return null!=JSON.parse(b)[a]}catch(g){console.error(g)}return!1},getDatum:(a,b)=>{if(a&&(b=e.getItem(b||"myt")))try{const f=JSON.parse(b);if("object"===typeof f)return f[a]}catch(g){console.error(g)}},setDatum:(a,b,g,h)=>{g=g||"myt";c(()=>{const f=e.getData(g);f[a]=b;e.setItem(g,
JSON.stringify(f))},h,g+"___"+a)},removeDatum:(a,b,g)=>{b=b||"myt";c(()=>{const f=e.getData(b);delete f[a];e.setItem(b,JSON.stringify(f))},g,b+"___"+a)},hasData:a=>null!=e.getItem(a||"myt"),getData:a=>{if(a=e.getItem(a||"myt"))try{return JSON.parse(a)}catch(f){console.error(f)}return{}},setData:(a,b,g)=>{b=b||"myt";null==a&&(a={});return"object"===typeof a?(c(()=>{e.setItem(b,JSON.stringify(a))},g,b),!0):!1},removeData:(a,b)=>{a=a||"myt";c(()=>{e.removeItem(a)},b,a)},getLength:()=>b.length,getKey:a=>
b.key(a),getItem:a=>b.getItem(a),setItem:(a,f)=>{b.setItem(a,f)},removeItem:a=>{b.removeItem(a)},clear:()=>{b.clear()},get:a=>e.getItem(a),set:(a,b)=>{e.setItem(a,b)},remove:a=>{e.removeItem(a)},clearAll:()=>{e.clear()}}})(myt);
(a=>{const b=/(?:^|&)([^&=]*)=?([^&]*)/g,c=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;a.URI=new JS.Class("URI",{initialize:function(a,b){a&&this.parse(a,b)},setSource:function(a){this.source=a},setProtocol:function(a){this.protocol=
a},setAuthority:function(a){this.authority=a},setUserInfo:function(a){this.userInfo=a},setUser:function(a){this.user=a},setPassword:function(a){this.password=a},setHost:function(a){this.host=a},setPort:function(a){this.port=a},setRelative:function(a){this.relative=a},setPath:function(a){this.path=a},setDirectory:function(a){this.directory=a},setFile:function(a){this.file=a},setQuery:function(a){this.query=a},setAnchor:function(a){this.anchor=a},parse:function(a,f){const d=this;a=(f?e:c).exec(a);d.setSource(a[0]||
"");d.setProtocol(a[1]||"");d.setAuthority(a[2]||"");d.setUserInfo(a[3]||"");d.setUser(a[4]||"");d.setPassword(a[5]||"");d.setHost(a[6]||"");d.setPort(a[7]||"");d.setRelative(a[8]||"");d.setPath(a[9]||"");d.setDirectory(a[10]||"");d.setFile(a[11]||"");d.setQuery(a[12]||"");d.setAnchor(a[13]||"");d.queryPairs={};d.query.replace(b,(a,b,f)=>{b&&(d.queryPairs[b]=f)})},decodeQueryParam:function(a){a=decodeURIComponent(a);return a.replace("+"," ")},getQuery:function(){var a=this.queryPairs;const b=[];let c;
for(c in a)b.push(c+"="+encodeURIComponent(this.getQueryParam(c)));a=b.join("&");return 0<a.length?"?"+a:a},getQueryParam:function(a){a=this.queryPairs[a];return null==a?void 0:this.decodeQueryParam(a)},getPathParts:function(a){const b=this.path.split("/");if(!a)for(a=b.length;a;)0===b[--a].length&&b.splice(a,1);return b},toString:function(a){const b=this.protocol,c=this.host,d=this.userInfo,e=this.port,k=this.path;a=a?this.query?"?"+this.query:"":this.getQuery();const m=this.anchor;let n="";b&&(n+=
b+"://");d&&c&&(n+=d+"@");c&&(n+=c,e&&(n+=":"+e));k?n+=k:c&&(a||m)&&(n+="/");a&&(n+=a);m&&(n+="#"+m);return n}})})(myt);
(a=>{const b=a.Geometry={getClosestPointOnALineToAPoint:(a,b,d,f,g,h)=>{d-=a;f-=b;g=(d*(g-a)+f*(h-b))/(d*d+f*f);return{x:a+d*g,y:b+f*g}},getClosestPointOnASegmentToAPoint:(a,b,d,f,g,h)=>{const c=d-a,e=f-b;g=(c*(g-a)+e*(h-b))/(c*c+e*e);return 0>g?{x:a,y:b}:1<g?{x:d,y:f}:{x:a+c*g,y:b+e*g}},isPointInPath:(a,e,d,f)=>{"object"===typeof a&&(f=d,d=e,e=a.y,a=a.x);if(b.rectContainsPoint(a,e,d)&&(d=f.length,6<=d)){let b=!1,c=f[0],l=f[1],k,m;for(;d;)m=f[--d],k=f[--d],m>e!==l>e&&a<(c-k)*(e-m)/(l-m)+k&&(b=!b),
c=k,l=m;return b}return!1},rectContainsPoint:(a,b,d,f,g,h)=>{"object"===typeof a&&(h=g,g=f,f=d,d=b,b=a.y,a=a.x);"object"===typeof d&&(h=d.height,g=d.width,f=d.y,d=d.x);return a>=d&&b>=f&&a<=d+g&&b<=f+h},circleContainsPoint:(a,e,d,f,g)=>b.measureDistance(a,e,d,f,!0)<=g*g,measureDistance:(a,b,d,f,g)=>{a=d-a;b=f-b;b=a*a+b*b;return g?b:Math.sqrt(b)},degreesToRadians:a=>a*Math.PI/180,radiansToDegrees:a=>180*a/Math.PI,circleContainsLatLng:(a,e,d,f,g,h)=>b.measureLatLngDistance(a,e,d,f,h)<=g,measureLatLngDistance:(a,
e,d,f,g)=>{void 0===g&&(g=6371);a=b.degreesToRadians(a);e=b.degreesToRadians(e);d=b.degreesToRadians(d);f=b.degreesToRadians(f);return g*Math.acos(Math.sin(a)*Math.sin(d)+Math.cos(a)*Math.cos(d)*Math.cos(f-e))},polarToCartesian:(a,e,d,f)=>{null==d&&(d=0);null==f&&(f=0);e%=360;let c;0===e?(e=a,a=0):90===e?e=0:180===e?(e=-a,a=0):270===e?(e=0,a=-a):(c=b.degreesToRadians(e),e=a*Math.cos(c),a*=Math.sin(c));return[d+e,f+a]},cartesianToPolar:(a,e,d,f,g)=>{null==d&&(d=0);null==f&&(f=0);a-=d;f=e-f;e=Math.sqrt(a*
a+f*f);f=Math.atan2(f,a);0>f&&(f+=2*Math.PI);return[e,g?f:b.radiansToDegrees(f)]}}})(myt);
(a=>{const b=a.Color=new JS.Class("Color",{extend:{toHex:function(a){a=this.cleanChannelValue(a).toString(16);return 1===a.length?"0"+a:a},rgbToHex:function(a,b,d,f){const c=this.toHex.bind(this);return[f?"#":"",c(a),c(b),c(d)].join("")},cleanChannelValue:a=>Math.min(255,Math.max(0,Math.round(a))),getRedChannel:a=>(16711680&a)>>16,getGreenChannel:a=>(65280&a)>>8,getBlueChannel:a=>255&a,makeColorFromNumber:function(a){return new b(this.getRedChannel(a),this.getGreenChannel(a),this.getBlueChannel(a))},
makeColorFromHexString:function(a){return a&&0===a.indexOf("#")?this.makeColorFromNumber(parseInt(a.substring(1),16)):null},getLighterColor:function(a,b){const d=this.makeColorFromNumber(a),f=this.makeColorFromNumber(b);return d.isLighterThan(f)?a:b},makeColorNumberFromChannels:function(a,b,d){a=this.cleanChannelValue(a);b=this.cleanChannelValue(b);d=this.cleanChannelValue(d);return(a<<16)+(b<<8)+d},makeBlendedColor:(a,e,d)=>new b(a.red+d*(e.red-a.red),a.green+d*(e.green-a.green),a.blue+d*(e.blue-
a.blue))},initialize:function(a,b,d){this.setRed(a);this.setGreen(b);this.setBlue(d)},setRed:function(a){this.red=b.cleanChannelValue(a)},setGreen:function(a){this.green=b.cleanChannelValue(a)},setBlue:function(a){this.blue=b.cleanChannelValue(a)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return b.rgbToHex(this.red,this.green,this.blue,!0)},isLighterThan:function(a){a=this.getDiffFrom(a);return 0>a.red+a.green+a.blue},getDiffFrom:function(a){return{red:a.red-
this.red,green:a.green-this.green,blue:a.blue-this.blue}},applyDiff:function(a){return this.add(a)},add:function(a){this.setRed(this.red+a.red);this.setGreen(this.green+a.green);this.setBlue(this.blue+a.blue);return this},subtract:function(a){this.setRed(this.red-a.red);this.setGreen(this.green-a.green);this.setBlue(this.blue-a.blue);return this},multiply:function(a){this.setRed(this.red*a);this.setGreen(this.green*a);this.setBlue(this.blue*a);return this},divide:function(a){this.setRed(this.red/
a);this.setGreen(this.green/a);this.setBlue(this.blue/a);return this},clone:function(){return new b(this.red,this.green,this.blue)},equals:function(a){return a===this||a&&a.isA&&a.isA(b)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(a){this.setVectors(a||[])},setVectors:function(a){this._boundingBox=null;this.vectors=a},copyFrom:function(a){this.vectors=a.vectors.slice();this._boundingBox=null},drawInto:function(a){a.beginPath();const b=this.vectors;let c=b.length,e=0;for(a.moveTo(b[e++],b[e++]);c>e;)a.lineTo(b[e++],b[e++]);a.closePath()},translate:function(a,b){const c=this.vectors;let e=c.length;for(;e;)c[--e]+=b,c[--e]+=a;this._boundingBox=null},rotate:function(a){const b=
Math.cos(a);a=Math.sin(a);const c=this.vectors,e=c.length;let d,f,g=0;for(;e>g;)d=c[g]*b-c[g+1]*a,f=c[g]*a+c[g+1]*b,c[g++]=d,c[g++]=f;this._boundingBox=null},rotateAroundOrigin:function(a,b,c){this.translate(-b,-c);this.rotate(a);this.translate(b,c)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const a=this.vectors;let b=a.length,c,e,d,f,g,h;if(2<=b){g=h=a[--b];for(d=f=a[--b];b;)e=a[--b],c=a[--b],g=Math.min(e,g),h=Math.max(e,h),d=Math.min(c,d),f=Math.max(c,f);return this._boundingBox=
{x:d,y:g,width:f-d,height:h-g}}return this._boundingBox=null},getCenter:function(){const a=this.getBoundingBox();return a?{x:a.x+a.width/2,y:a.y+a.height/2}:null},isPointInPath:function(a,b){"object"===typeof a&&(b=a.y,a=a.x);return myt.Geometry.isPointInPath(a,b,this.getBoundingBox(),this.vectors)}});
myt.DrawingUtil={drawRoundedRect:(a,b,c,e,d,f,g)=>{const h=Math.PI;g=d+g;f=e+f;a.beginPath();a.moveTo(e,d+b);a.lineTo(e,g-b);a.arc(e+b,g-b,b,h,h/2,!0);a.lineTo(f-b,g);a.arc(f-b,g-b,b,h/2,0,!0);a.lineTo(f,d+b);a.arc(f-b,d+b,b,0,3*h/2,!0);a.lineTo(e+b,d);a.arc(e+b,d+b,b,3*h/2,h,!0);a.closePath();0<c&&(b-=c,e+=c,f-=c,d+=c,g-=c,a.moveTo(e,d+b),a.arc(e+b,d+b,b,h,3*h/2),a.lineTo(f-b,d),a.arc(f-b,d+b,b,3*h/2,0),a.lineTo(f,g-b),a.arc(f-b,g-b,b,0,h/2),a.lineTo(e+b,g),a.arc(e+b,g-b,b,h/2,h),a.closePath())},
drawRectOutline:(a,b,c,e,d,f)=>{f=e+f;d=c+d;const g=c+b,h=d-b,l=e+b;b=f-b;a.beginPath();a.moveTo(c,e);a.lineTo(c,f);a.lineTo(d,f);a.lineTo(d,e);a.lineTo(c,e);a.lineTo(g,l);a.lineTo(h,l);a.lineTo(h,b);a.lineTo(g,b);a.lineTo(g,l);a.closePath()},drawPartiallyRoundedRect:(a,b,c,e,d,f,g,h,l)=>{l=g+l;h=f+h;a.beginPath();a.moveTo(f,g+b);a.lineTo(f,l-e);0<e&&a.quadraticCurveTo(f,l,f+e,l);a.lineTo(h-d,l);0<d&&a.quadraticCurveTo(h,l,h,l-d);a.lineTo(h,g+c);0<c&&a.quadraticCurveTo(h,g,h-c,g);a.lineTo(f+b,g);
0<b&&a.quadraticCurveTo(f,g,f,g+b);a.closePath()},drawGradientArc:(a,b,c,e,d,f,g,h,l)=>{null==l&&(l=60);l=Math.PI/l;let k=Math.PI/360;var m=h.length;let n=0;for(var p,r;m>n+1;n++)p=h[n+1].angle-h[n].angle,p=Math.round(p/l),r=h[n].color.getDiffFrom(h[n+1].color),h[n].colorDelta={red:r.red/p,green:r.green/p,blue:r.blue/p};e=new myt.Path([b+e,c,b+d,c]);let q,v;e.rotateAroundOrigin(f,b,c);d=e.vectors;m=d[0];p=d[1];r=d[2];let D=d[3],x=0;for(n=0;g>f;){q=m;v=p;var t=r;var z=D;f+=l;f>g&&(l+=g-f,k=0,f=g);
e.rotateAroundOrigin(l+k,b,c);m=d[0];p=d[1];r=d[2];D=d[3];a.beginPath();a.moveTo(q,v);a.lineTo(t,z);a.lineTo(r,D);a.lineTo(m,p);a.closePath();t=h[n].color;z=h[n].colorDelta;a.fillStyle=myt.Color.makeColorNumberFromChannels(t.red+x*z.red,t.green+x*z.green,t.blue+x*z.blue);a.fill();0<k&&(e.rotateAroundOrigin(-k,b,c),m=d[0],p=d[1],r=d[2],D=d[3]);x++;f>=h[n+1].angle&&(x=0,n++)}}};
myt.Observable=new JS.Module("Observable",{attachObserver:function(a,b,c){return a&&b&&c?(this.getObservers(c).push(b,a),!0):!1},detachObserver:function(a,b,c){if(a&&b&&c){var e=this.__obsbt;if(e&&(c=e[c])){e=!1;let d=c.length;for(;d;)--d,a===c[d--]&&b===c[d]&&(c.splice(d,2),e=!0);return e}}return!1},detachAllObservers:function(){const a=this.__obsbt;if(a)for(let b in a){const c=a[b];let e=c.length;for(;e;){let a=c[--e],f=c[--e];a&&f&&("function"===typeof a.detachFrom&&a.detachFrom(this,f,b)||c.splice(e,
2))}}},getObservers:function(a){const b=this.__obsbt||(this.__obsbt={});return b[a]||(b[a]=[])},hasObservers:function(a){const b=this.__obsbt;return b?(a=b[a])&&0<a.length:!1},createEvent:function(a,b){return{source:this,type:a,value:b}},isFiringEvent:function(a){return(this.__aet||(this.__aet={}))[a]},fireEvent:function(a,b,c){if(c=c||(this.hasObservers(a)?this.__obsbt[a]:null)){b={source:this,type:a,value:b};const e=this.__aet||(this.__aet={});if(!0===e[a])myt.global.error.notifyWarn("eventLoop",
"Attempt to refire active event: "+a);else{e[a]=!0;let d=c.length;for(;d;){const a=c[--d],e=c[--d];if(a&&e)try{if("function"===typeof e){if(e.call(a,b))break}else if(a[e](b))break}catch(h){myt.dumpStack(h)}}e[a]=!1}}}});
myt.Observer=new JS.Module("Observer",{syncTo:function(a,b,c,e,d){void 0===e&&(e=c);try{this[b](a.createEvent(c,a.get(e)))}catch(f){myt.dumpStack(f)}d||this.attachTo(a,b,c,d)},isAttachedTo:function(a,b,c){if(a&&b&&c){var e=this.__obt;if(e&&(c=e[c]))for(e=c.length;e;)if(--e,a===c[e--]&&b===c[e])return!0}return!1},getObservables:function(a){const b=this.__obt||(this.__obt={});return b[a]||(b[a]=[])},hasObservables:function(a){const b=this.__obt;return b?(a=b[a])&&0<a.length:!1},attachTo:function(a,
b,c,e){if(a&&b&&c){const d=this.getObservables(c);if(e){const f=this,d=b;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);b="__DO_ONCE_"+this.__methodNameCounter++;this[b]=e=>{f.detachFrom(a,b,c);delete f[b];return f[d](e)}}if(a.attachObserver(this,b,c))return d.push(b,a),!0}return!1},detachFrom:function(a,b,c){if(a&&b&&c){var e=this.__obt;if(e&&(e=e[c])){let d=!1,f=e.length;for(;f;)--f,a===e[f--]&&b===e[f]&&a.detachObserver(this,b,c)&&(e.splice(f,2),d=!0);return d}}return!1},detachFromAllObservables:function(){const a=
this.__obt;if(a)for(const b in a){const c=a[b];let e=c.length;for(;e;)c[--e].detachObserver(this,c[--e],b);c.length=0}}});
myt.Constrainable=new JS.Module("Constrainable",{include:[myt.Observer],constrain:function(a,b){if(a&&b){const e=b.length;if(0!==e%2)console.log("Observables not even.",this);else{var c=this.__cbmn||(this.__cbmn={});c=c[a]||(c[a]=[]);if(0<c.length)console.log("Constraint already exists for "+a+" on "+this);else{for(let d=0;e!==d;){const f=b[d++],e=b[d++];f&&e&&(this.attachTo(f,a,e),c.push(f,e))}try{this[a]()}catch(d){myt.dumpStack(d)}}}}},releaseConstraint:function(a){if(a){var b=this.__cbmn;if(b&&
(b=b[a])){let c=b.length;for(;c;){const e=b[--c],d=b[--c];this.detachFrom(d,a,e)}b.length=0}}},releaseAllConstraints:function(){const a=this.__cbmn;if(a)for(const b in a)this.releaseConstraint(b)}});
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(a,b){this.hasOwnProperty(a)&&(console.log("Warning: myt.global key in use: ",a),this.unregister(a));this[a]=b;this.fireEvent("register"+a,b)},unregister:function(a){if(this.hasOwnProperty(a)){const b=this[a];delete this[a];this.fireEvent("unregister"+a,b)}else console.log("Warning: myt.global key not in use: ",a)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(a){this.consoleLogging=a},setStackTraceLimit:function(a){Error.stackTraceLimit=this.stackTraceLimit=a},notifyError:function(a,b,c){this.notify("error",a,b,c)},notifyWarn:function(a,b,c){this.notify("warn",a,b,c)},notifyMsg:function(a,b,c){this.notify("log",a,b,c)},notifyDebug:function(a,b,c){this.notify("debug",
a,b,c)},notify:function(a,b,c,e){e||(e=Error(c||b));e=e.stack||e.stacktrace;this.fireEvent(b||"error",{msg:c,stacktrace:e});if(this.consoleLogging&&a)console[a](e)}});
(a=>{const b=global,c=a.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createDomElement:(a,b,f)=>{a=document.createElement(a);let d;if(f)for(d in f)a[d]=f[d];if(b)for(d in b)a.style[d]=b[d];return a},isDomElementVisible:a=>{if("INPUT"===a.nodeName&&"hidden"===a.type)return!1;for(;a;){if(a===document)return!0;const d=b.getComputedStyle(a);if("none"===d.display||"hidden"===d.visibility)break;a=a.parentNode}return!1},getZIndexRelativeToAncestor:(a,d)=>{if(a&&d)for(a=c.getAncestorArray(a,d),
d=a.length-1;d;){const f=b.getComputedStyle(a[--d]),c=f.zIndex,e="auto"===c;if(0===d||!e||1!==parseInt(f.opacity,10))return e?0:parseInt(c,10)}return 0},getAncestorArray:(a,b)=>{const f=[];for(;a;){f.push(a);if(a===b)break;a=a.parentNode}return f},getHighestZIndex:a=>{var d=b.getComputedStyle(a);let f=d.zIndex;var e="auto"===f;if(e&&1===parseInt(d.opacity,10))for(f=0,a=a.childNodes,d=a.length;d;)e=a[--d],1===e.nodeType&&(f=Math.max(f,c.getHighestZIndex(e)));else f=e?0:parseInt(f,10);return f},getPagePosition:(a,
d)=>{if(!a)return null;const f="Firefox"===BrowserDetect.browser?2:1;let c=0,e=0;for(;a&&"BODY"!==a.nodeName&&a!==d;)if(c+=a.offsetLeft,e+=a.offsetTop,(a=a.offsetParent)&&"BODY"!==a.nodeName){const d=b.getComputedStyle(a);c+=f*parseInt(d.borderLeftWidth,10)-a.scrollLeft;e+=f*parseInt(d.borderTopWidth,10)-a.scrollTop}return{x:c,y:e}},getTruePagePosition:a=>{if(!a)return null;a=$(a).offset();return{x:a.left,y:a.top}},simulateDomEvent:(a,b,f)=>{if(a){const d={pointerX:0,pointerY:0,button:0,ctrlKey:!1,
altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},c={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(f)for(let a in f)d[a]=f[a];let e;for(let a in c)if(c[a].test(b)){e=a;break}if(!e)throw new SyntaxError("Only HTMLEvent and MouseEvent interfaces supported");if(document.createEvent)f=document.createEvent(e),"HTMLEvents"===e?f.initEvent(b,d.bubbles,d.cancelable):f.initMouseEvent(b,
d.bubbles,d.cancelable,document.defaultView,d.button,d.pointerX,d.pointerY,d.pointerX,d.pointerY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,null),a.dispatchEvent(f);else{d.clientX=d.pointerX;d.clientY=d.pointerY;f=document.createEventObject();for(let a in d)f[a]=d[a];a.fireEvent("on"+b,f)}}}},getInnerDomElement:function(){return this.domElement},getOuterDomElement:function(){return this.__oE},getInnerDomStyle:function(){return this.deStyle},getOuterDomStyle:function(){return this.__oS},setDomElement:function(a){let b;
Array.isArray(a)?(b=a[0],a=a[1]):b=a;this.domElement=a;this.__oE=b;this.deStyle=a.style;this.__oS=b.style;a.model=b.model=this},removeDomElement:function(){const a=this.getOuterDomElement();a.parentNode.removeChild(a)},disposeOfDomElement:function(){delete this.domElement.model;delete this.deStyle;delete this.domElement;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(a){this.domElement.className=this.domClass=a},addDomClass:function(a){const b=this.domElement.className;
this.setDomClass((b?b+" ":"")+a)},removeDomClass:function(a){var b=this.domElement.className;if(b){b=b.split(" ");let f=b.length;for(;f;)b[--f]===a&&b.splice(f,1);this.setDomClass(b.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(a){this.domElement.id=this.domId=a},setZIndex:function(a){this.deStyle.zIndex=a},setStyleProperty:function(a,b){this.deStyle[a]=b},getPagePosition:function(){return c.getPagePosition(this.domElement)},getTruePagePosition:function(){return c.getTruePagePosition(this.domElement)},
simulateClick:function(){c.simulateDomEvent(this.domElement,"click")},getHighestZIndex:function(){return c.getHighestZIndex(this.domElement)},getHighestChildZIndex:function(a){const b=this.domElement.childNodes;let f=b.length,e=0;for(;f;){const d=b[--f];1===d.nodeType&&d!==a&&(e=Math.max(e,c.getHighestZIndex(d)))}return e},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.domElement)+1)},scrollYTo:function(a,b){(b?this.getInnerDomElement():this.getOuterDomElement()).scrollTop=
a||0}})})(myt);
myt.DomObservable=new JS.Module("DomObservable",{attachDomObserver:function(a,b,c,e,d){if(a&&b&&c){e=!!e;const f=this.createDomMethodRef(a,b,c);if(f){const g=this.__dobsbt||(this.__dobsbt={}),h=g[c];h?h.push(a,b,f,e):g[c]=[a,b,f,e];myt.addEventListener(this.getInnerDomElement(),c,f,e,d);return!0}}return!1},createDomMethodRef:(a,b,c)=>null,createStandardDomMethodRef:function(a,b,c,e,d){if(e.EVENT_TYPES[c]){const f=this,c=e.EVENT;return e=>{e||(e=window.event);c.source=f;c.type=e.type;c.value=e;a[b](c)||
(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),d&&e.preventDefault());c.source=void 0}}},detachDomObserver:function(a,b,c,e){if(a&&b&&c){e=!!e;var d=this.__dobsbt;if(d&&(d=d[c])){const f=this.getInnerDomElement();let g=!1,h=d.length;for(;h;)h-=4,a===d[h]&&b===d[h+1]&&e===d[h+3]&&(f&&myt.removeEventListener(f,c,d[h+2],e),d.splice(h,4),g=!0);return g}}return!1},detachAllDomObservers:function(){const a=this.getInnerDomElement();if(a){const b=this.__dobsbt;if(b)for(const c in b){const e=b[c];
let d=e.length;for(;d;){const b=e[--d],g=e[--d];d-=2;myt.removeEventListener(a,c,g,b)}e.length=0}}}});
myt.DomObserver=new JS.Module("DomObserver",{attachToDom:function(a,b,c,e,d){if(a&&b&&c){e=!!e;var f=this.__dobt||(this.__dobt={});f=f[c]||(f[c]=[]);a.attachDomObserver(this,b,c,e,d)&&f.push(e,b,a)}},detachFromDom:function(a,b,c,e){if(a&&b&&c){e=!!e;var d=this.__dobt;if(d&&(d=d[c])){let f=!1,g=d.length;for(;g;)g-=3,a===d[g+2]&&b===d[g+1]&&e===d[g]&&a.detachDomObserver(this,b,c,e)&&(d.splice(g,3),f=!0);return f}}return!1},detachFromAllDomSources:function(){const a=this.__dobt;if(a)for(const b in a){const c=
a[b];let e=c.length;for(;e;)c[--e].detachDomObserver(this,c[--e],b,c[--e]);c.length=0}}});myt.KeyObservable=new JS.Module("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:{source:null,type:null,value:null},getKeyCodeFromEvent:function(a){a=a.value;return a.keyCode||a.charCode}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.KeyObservable)||this.callSuper(a,b,c)}});
(a=>{let b;const c=a=>{for(;a.lastChild;)a=a.lastChild;return a},e=(d,f)=>{b.lastTraversalWasForward=d;let e=document.body,h=e;var l=document.activeElement;let k=h,m;const n=d?"getNextFocus":"getPrevFocus";l&&(k=h=l,(l=h.model)||(l=b.findModelForDomElement(h)),l&&(f=l.getFocusTrap(f)))&&(e=f.domElement);for(;k;){if(k.model&&k.model[n]&&(m=k.model[n]()))k=m.domElement;else if(d)if(k.firstChild)k=k.firstChild;else{if(k===e)return h.model;if(k.nextSibling)k=k.nextSibling;else for(;k&&(k=k.parentNode,
k!==e);)if(k.nextSibling){k=k.nextSibling;break}}else k=k===e?c(e):k.previousSibling?c(k.previousSibling):k.parentNode;if(k===h)return h.model;if(1===k.nodeType)if((l=k.model)&&l instanceof a.View){if(l.isFocusable())return l}else if(f=k.nodeName,!("A"!==f&&"AREA"!==f&&"INPUT"!==f&&"TEXTAREA"!==f&&"SELECT"!==f&&"BUTTON"!==f||k.disabled||isNaN(k.tabIndex)||!a.DomElementProxy.isDomElementVisible(k)||(l=b.findModelForDomElement(k),l&&l.searchAncestorsOrSelf(a=>!0===a.maskFocus)))){k.focus();b.focusedDom=
k;break}}return null};new JS.Singleton("GlobalFocus",{include:[a.Observable],initialize:function(){this.lastTraversalWasForward=!0;a.global.register("focus",b=this)},setFocusedView:a=>{if(b.focusedView!==a){b.prevFocusedView=b.focusedView;if(b.focusedView=a)b.focusedDom=null;b.fireEvent("focused",a)}},notifyFocus:a=>{b.focusedView!==a&&b.setFocusedView(a)},notifyBlur:a=>{b.focusedView===a&&b.setFocusedView(null)},clear:()=>{b.focusedView?b.focusedView.blur():b.focusedDom&&(b.focusedDom.blur(),b.focusedDom=
null)},next:a=>{(a=e(!0,a))&&a.focus()},prev:a=>{(a=e(!1,a))&&a.focus()},findModelForDomElement:b=>{for(;b;){let f=b.model;if(f&&f instanceof a.View)return f;b=b.parentNode}return null}})})(myt);
(a=>{let b,c={};const e=a.global,d=e.focus,f="Firefox"===BrowserDetect.browser,g=f?224:91,h=f?224:93,l=()=>!!c[g]||!!c[h],k=(a,b)=>{switch(a){case 8:a=b.nodeName;if("TEXTAREA"===a||"INPUT"===a&&("text"===b.type||"password"===b.type)||"DIV"===a&&"true"===b.contentEditable&&b.firstChild)break;return!0;case 9:return!0}return!1};new JS.Singleton("GlobalKeys",{include:[a.DomElementProxy,a.DomObservable,a.DomObserver,a.KeyObservable,a.Observable,a.Observer],initialize:function(){e.register("keys",b=this);
b.KEYCODE_TAB=9;b.KEYCODE_SHIFT=16;b.KEYCODE_CONTROL=17;b.KEYCODE_ALT=18;b.KEYCODE_Z=90;b.KEYCODE_COMMAND=g;b.KEYCODE_RIGHT_COMMAND=h;b.setDomElement(document);b.attachTo(d,"__handleFocused","focused");b.__listenToDocument();global.onblur=()=>{c={}}},isKeyDown:a=>!!c[a],isShiftKeyDown:()=>!!c[16],isControlKeyDown:()=>!!c[17],isAltKeyDown:()=>!!c[18],isCommandKeyDown:l,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?l():!!c[17],ignoreFocusTrap:()=>!!c[18],__handleFocused:a=>{if(a=a.value)b.detachFromDom(b,
"__handleKeyDown","keydown"),b.detachFromDom(b,"__handleKeyPress","keypress"),b.detachFromDom(b,"__handleKeyUp","keyup"),b.attachToDom(a,"__handleKeyDown","keydown"),b.attachToDom(a,"__handleKeyPress","keypress"),b.attachToDom(a,"__handleKeyUp","keyup");else{if(a=d.prevFocusedView)b.detachFromDom(a,"__handleKeyDown","keydown"),b.detachFromDom(a,"__handleKeyPress","keypress"),b.detachFromDom(a,"__handleKeyUp","keyup");b.__listenToDocument()}},__listenToDocument:()=>{b.attachToDom(b,"__handleKeyDown",
"keydown");b.attachToDom(b,"__handleKeyPress","keypress");b.attachToDom(b,"__handleKeyUp","keyup")},__handleKeyDown:f=>{const e=a.KeyObservable.getKeyCodeFromEvent(f);f=f.value;k(e,f.target)&&f.preventDefault();l()&&16!==e&&17!==e&&18!==e?(b.fireEvent("keydown",e),b.fireEvent("keyup",e)):(c[e]=!0,9===e&&(f=!!c[18],c[16]?d.prev(f):d.next(f)),b.fireEvent("keydown",e))},__handleKeyPress:f=>{b.fireEvent("keypress",a.KeyObservable.getKeyCodeFromEvent(f))},__handleKeyUp:f=>{const d=a.KeyObservable.getKeyCodeFromEvent(f);
f=f.value;k(d,f.target)&&f.preventDefault();c[d]=!1;b.fireEvent("keyup",d)}})})(myt);myt.TouchObservable=new JS.Module("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:{source:null,type:null,value:null}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.TouchObservable,!1)||this.callSuper(a,b,c)}});
new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
myt.FlexBoxChildSupport=new JS.Module("FlexBoxChildSupport",{setParent:function(a){const b=this.isChildOfFlexBox();this.callSuper(a);this._isChildOfFlexBox=this.parent&&this.parent.isA(myt.FlexBoxSupport);this.inited&&b&&!this.isChildOfFlexBox()&&this._syncDomToModel()},_syncDomToModel:function(){const a=this.getOuterDomStyle();"auto"!==a.width&&(a.width=this.width+"px");"auto"!==a.height&&(a.height=this.height+"px");this.syncInnerToOuter()},setWidth:function(a,b){null==a||""===a?(this.getOuterDomStyle().width=
"",this.__syncModelToOuterBoundsWidth()):this.callSuper(a,b);this.__syncInnerWidthToOuterWidth()},setHeight:function(a,b){null==a||""===a?(this.getOuterDomStyle().height="",this.__syncModelToOuterBoundsHeight()):this.callSuper(a,b);this.__syncInnerHeightToOuterHeight()},setFlexGrow:function(a){this.flexGrow!==a&&(this.getOuterDomStyle().flexGrow=this.flexGrow=a,this.inited&&(this.fireEvent("flexGrow",a),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setFlexShrink:function(a){this.flexShrink!==
a&&(this.getOuterDomStyle().flexShrink=this.flexShrink=a,this.inited&&(this.fireEvent("flexShrink",a),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setAlignSelf:function(a){if(this.alignSelf!==a){let b=this.alignSelf=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end"}this.getOuterDomStyle().alignSelf=b;this.inited&&this.fireEvent("alignSelf",a)}},isChildOfFlexBox:function(){return this._isChildOfFlexBox},syncModelToOuterBounds:function(){const a=this.getOuterDomElement();
this.__syncModelToOuterBoundsWidth(a);this.__syncModelToOuterBoundsHeight(a)},__syncModelToOuterBoundsWidth:function(a){const b=this.getInnerDomStyle();a||(a=this.getOuterDomElement());"auto"===b.width?this.getOuterDomStyle().width="auto":this.__setInnerWidth(a.clientWidth);this.fireEvent("width",this.width=a.clientWidth)},__syncModelToOuterBoundsHeight:function(a){const b=this.getInnerDomStyle();a||(a=this.getOuterDomElement());"auto"===b.height?this.getOuterDomStyle().height="auto":this.__setInnerHeight(a.clientHeight);
this.fireEvent("height",this.height=a.clientHeight)},syncInnerToOuter:function(){this.__syncInnerWidthToOuterWidth();this.__syncInnerHeightToOuterHeight()},__syncInnerWidthToOuterWidth:function(){"auto"!==this.getInnerDomStyle().width&&this.__setInnerWidth(this.getOuterDomElement().clientWidth)},__syncInnerHeightToOuterHeight:function(){"auto"!==this.getInnerDomStyle().height&&this.__setInnerHeight(this.getOuterDomElement().clientHeight)},__setInnerWidth:function(a){this.getInnerDomStyle().width=
a+"px"},__setInnerHeight:function(a){this.getInnerDomStyle().height=a+"px"},createOurDomElement:function(a){a=this.callSuper(a);const b=document.createElement("div");b.style.position="relative";a.appendChild(b);return[a,b]}});
(a=>{const b={},c={},e=(a,b)=>b+a.substring(0,1).toUpperCase()+a.substring(1),d=a=>c[a]||(c[a]=e(a,"set")),f=a=>b[a]||(b[a]=e(a,"get"));a.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:d,generateGetterName:f,generateName:e,createSetterFunction:(a,b)=>{const f=d(b);a[f]&&console.log("Overwriting setter",f);a[f]=f=>{a[b]!==f&&(a[b]=f,a.inited&&a.fireEvent(b,f))}},createGetterFunction:(a,b)=>{const d=f(b);a[d]&&console.log("Overwriting getter",d);a[d]=()=>a[b]}},appendToEarlyAttrs:function(){Array.prototype.push.apply(this.earlyAttrs||
(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){Array.prototype.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){Array.prototype.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){Array.prototype.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},quickSet:function(a,b){(a||[]).forEach(a=>{this[a]=b[a];delete b[a]})},callSetters:function(a){const b=this.earlyAttrs,f=this.lateAttrs;let d,c;let e;
if(b||f){var g={};for(d in a)g[d]=a[d];a=g;if(b)for(g=0,e=b.length;e>g;)d=b[g++],d in a&&(this.set(d,a[d]),delete a[d]);if(f)for(c=[],g=0,e=f.length;e>g;)d=f[g++],d in a&&(c.push(d,a[d]),delete a[d])}for(d in a)this.set(d,a[d]);if(c)for(g=0,e=c.length;e>g;)this.set(c[g++],c[g++])},get:function(a){const b=f(a);return this[b]?this[b]():this[a]},set:function(a,b,f){if(!f&&(f=d(a),this[f]))return this[f](b);this[a]!==b&&(this[a]=b,!1!==this.inited&&this.fireEvent&&this.fireEvent(a,b))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){const a=this.__meta__;let b,c;if(this.destroyed)console.warn("No destroying the destroyed.");else{if(a)for(b=Object.keys(a),c=b.length;c;)delete a[b[--c]];b=Object.keys(this);for(c=b.length;c;)delete this[b[--c]];this.destroyed=!0}}});
(a=>{const b=JS.Class,c=JS.Module,e=new b("AbstractPool",{include:[a.Destructible],initialize:()=>{},destroy:function(){const a=this.__op;a&&(a.length=0);this.callSuper()},getInstance:function(){const a=this.__op||(this.__op=[]);return a.length?a.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(a){(this.__op||(this.__op=[])).push(this.cleanInstance(a))},cleanInstance:a=>{"function"===typeof a.clean&&a.clean();return a},destroyPooledInstances:function(){var a=
this.__op;if(a){let b=a.length;for(;b;){const f=a[--b];"function"===typeof f.destroy&&f.destroy()}}}}),d=a.SimplePool=new b("SimplePool",e,{initialize:function(a,b){this.callSuper();this.instanceClass=a||Object;this.instanceParent=b},createInstance:function(a){var b=this.instanceParent,f=this.instanceClass;return b?new f(b,a):new f}}),f=new c("TrackActives",{destroy:function(){const a=this.__actives;a&&(a.length=0);this.callSuper()},getInstance:function(){const a=this.callSuper();(this.__actives||
(this.__actives=[])).push(a);return a},putInstance:function(a){var b=this.__actives;if(b){let f=b.length;for(;f;)if(b[--f]===a){b.splice(f,1);this.callSuper(a);return}b="non-active"}else b="non-existant";console.warn("Attempt to put a "+b+" instance.",a,this)},getActives:function(a){const b=this.__actives;if(b){if(a){const f=[],d=b.length;for(let c=0;d>c;){const d=b[c++];a.call(this,d)&&f.push(d)}return f}return b.concat()}return[]},putActives:function(){const a=this.__actives;if(a){let b=a.length;
for(;b;)this.putInstance(a[--b])}}}),g=a.TrackActivesPool=new b("TrackActivesPool",d,{include:[f]});a.TrackActivesMultiPool=new b("TrackActivesMultiPool",e,{initialize:function(a,b){this.callSuper();this.instanceClassesByKey=a;const f=this._poolsByClassName={},d=this._poolsByKey={};for(let c in a){const e=a[c];d[c]=f[e.__displayName]=new g(e,b)}},destroy:function(){const a=this._poolsByKey;for(let b in a)a[b].destroy();this.callSuper()},getInstance:function(){const a=arguments[0],b=this._poolsByKey[a];
if(b)return b.getInstance(arguments);console.warn("No pool found for key:",a)},putInstance:function(a){const b=this._poolsByClassName[a.klass.__displayName];b?b.putInstance(a):console.warn("No pool found for obj:",a)},destroyPooledInstances:function(){const a=this._poolsByKey;for(let b in a)a[b].destroyPooledInstances()},getActives:function(a){let b=[];const f=this._poolsByKey;for(let d in f)b=b.concat(f[d].getActives(a));return b},putActives:function(){const a=this._poolsByKey;for(let b in a)a[b].putActives()}});
a.Reusable=new c("Reusable",{clean:()=>{}})})(myt);
(a=>{const b=(a,b)=>{if(b)for(;a;){if(b(a))return a;a=a.parent}return null},c=(a,b)=>{const f=b.name;void 0===a[f]?a[f]=b:console.log("Name in use:"+f)},e=(a,b)=>{const f=b.name;a[f]===b?delete a[f]:console.log("Name not in use:"+f)},d=b=>b.__animPool||(b.__animPool=new a.TrackActivesPool(a.Animator,b));a.Node=new JS.Class("Node",{include:[a.AccessorSupport,a.Destructible,a.Observable,a.Constrainable],extend:{getMatchingAncestorOrSelf:b,getMatchingAncestor:(a,d)=>b(a?a.parent:null,d)},initialize:function(a,
b,d){if(d){const a=d.length;for(let b=0,f;a>b;)(f=d[b++])?this.extend(f):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.initNode(a,b||{})},initNode:function(a,b){this.callSetters(b);this.doBeforeAdoption();this.setParent(a);this.doAfterAdoption();this.inited=!0},doBeforeAdoption:()=>{},doAfterAdoption:()=>{},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let b=a.length;for(;b;)a[--b].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());
this.destroyBeforeOrphaning();this.parent&&this.setParent(null);this.destroyAfterOrphaning();this.callSuper()},destroyBeforeOrphaning:()=>{},destroyAfterOrphaning:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers()},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var b=this.placement||a.defaultPlacement;
b&&(a=a.determinePlacement(b,this))}if(!(this.parent===a||a&&a.destroyed)){if(b=this.parent){let a=b.getSubnodeIndex(this);-1!==a&&(this.name&&e(b,this),b.subnodes.splice(a,1),b.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&c(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const b=this.parent;b&&this.name&&e(b,this);this.name=a;b&&a&&c(b,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},
determinePlacement:function(a,b){let f=a.indexOf("."),d;-1!==f&&(d=a.substring(f+1),a=a.substring(0,f));"*"===a&&(a=this.defaultPlacement)&&(f=a.indexOf("."),-1!==f&&(d=a.substring(f+1)+(d?"."+d:""),a=a.substring(0,f)));return(a=this[a])?d?a.determinePlacement(d,b):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.domElement&&a.domElement?a.domElement.contains(this.domElement):
this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;a=a.parent}return null},searchAncestorsForClass:function(a){return a?this.searchAncestors(b=>b instanceof a):null},searchAncestors:function(a){return b(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return b(this,a)},getAncestors:function(){const a=[];let b=this;for(;b;)a.push(b),b=b.parent;return a},hasSubnode:function(a){return-1!==
this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent!==this)return null;a.setParent(null);return a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,b,d,c,e){return this.animate(a,b,d,!1,null,c,!1,1,e)},animate:function(a,b,c,e,k,m,n,p,r){const f=d(this),g=f.getInstance({ignorePlacement:!0});"object"===typeof a?(k=a.callback,delete a.callback,g.callSetters(a)):(g.attribute=
a,g.setTo(b),g.setFrom(c),null!=m&&(g.duration=m),null!=e&&(g.relative=e),null!=p&&(g.repeat=p),null!=n&&g.setReverse(n),null!=r&&g.setEasingFunction(r));g.next(a=>{f.putInstance(g)});k&&g.next(k);g.setRunning(!0);return g},getActiveAnimators:function(a){if("string"===typeof a){const b=a;a=a=>a.attribute===b}return d(this).getActives(a)},stopActiveAnimators:function(a,b=!1){a=this.getActiveAnimators(a);let f=a.length;if(0<f){const c=d(this);for(;f;){const d=a[--f];d.reset(b);b||c.putInstance(d)}}},
doOnceOnIdle:function(b){this.attachTo(a.global.idle,b,"idle",!0)}})})(myt);
(a=>{let b=0,c=!1;const e=JS.Class,d=[],f=a=>{if(c!==a&&(c=a,!a)){a=d.length;let b;for(;a;)b=d[--a],b.__deferredLayout=!1,b.update();d.length=0}},g=(a,b,f,d)=>{const c=a.getSubviewIndex(b),e=a.subviews;0<=c&&(a=a.getSubviewIndex(f),e.splice(c,1),0<=a?(c<a&&--a,e.splice(a+(d?1:0),0,b)):d?e.push(b):e.unshift(b))},h=a.Layout=new e("Layout",a.Node,{extend:{incrementGlobalLock:()=>{1===++b&&f(!0)},decrementGlobalLock:()=>{0<b&&0===--b&&f(!1)}},initNode:function(a,b){this.subviews=[];this.locked=!0;this.lockedCounter=
1;const f=!0===b.locked;delete b.locked;this.callSuper(a,b);f||this.decrementLockedCounter();this.update()},destroyAfterOrphaning:function(){this.callSuper();this.subviews.length=0},setParent:function(a){if(this.parent!==a){const b=!this.locked;b&&(this.locked=!0);let f,d;if(this.parent){f=this.subviews;for(d=f.length;d;)this.removeSubview(f[--d]);this.detachFrom(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.detachFrom(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}this.callSuper(a);
if(this.parent){f=this.parent.getSubviews();d=0;for(a=f.length;a>d;++d)this.addSubview(f[d]);this.attachTo(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.attachTo(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}b&&(this.locked=!1,this.inited&&this.parent&&this.update())}},canUpdate:function(){return c?(this.__deferredLayout||(d.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},
addSubview:function(a){this.ignore(a)||(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:a=>{},startMonitoringAllSubviews:function(){const a=this.subviews;let b=a.length;for(;b;)this.startMonitoringSubview(a[--b])},removeSubview:function(a){if(this.ignore(a))return-1;const b=this.getSubviewIndex(a);-1!==b&&(this.stopMonitoringSubview(a),this.subviews.splice(b,1),this.locked||this.update());return b},stopMonitoringSubview:a=>{},stopMonitoringAllSubviews:function(){const a=
this.subviews;let b=a.length;for(;b;)this.stopMonitoringSubview(a[--b])},ignore:a=>a.ignoreLayout,__handleParentSubviewAddedEvent:function(a){a.value.parent===this.parent&&this.addSubview(a.value)},__handleParentSubviewRemovedEvent:function(a){a.value.parent===this.parent&&this.removeSubview(a.value)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,b){g(this,a,b,!1)},moveSubviewAfter:function(a,b){g(this,a,b,!0)}});a.createFixedThresholdCounter(h,1,"locked");a.ConstantLayout=
new e("ConstantLayout",h,{setTargetAttrName:function(b){this.targetAttrName!==b&&(this.targetAttrName=b,this.setterName=a.AccessorSupport.generateSetterName(b),this.inited&&(this.fireEvent("targetAttrName",b),this.update()))},setTargetValue:function(a){this.targetValue!==a&&(this.targetValue=a,this.inited&&(this.fireEvent("targetValue",a),this.update()))},update:function(){if(this.canUpdate()){const a=this.setterName,b=this.targetValue,f=this.subviews,d=f.length;for(let c=0;d>c;){const d=f[c++][a];
d&&d(b)}}}});a.VariableLayout=new e("VariableLayout",a.ConstantLayout,{initNode:function(a,b){this.collapseParent=this.reverse=!1;this.callSuper(a,b)},setCollapseParent:function(a){this.collapseParent!==a&&(this.collapseParent=a,this.inited&&(this.fireEvent("collapseParent",a),this.update()))},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&(this.fireEvent("reverse",a),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();this.doBeforeUpdate();
const a=this.setterName,b=this.subviews,f=b.length;let d=this.targetValue,c,e,g=0;if(this.reverse)for(c=f;c;)e=b[--c],this.skipSubview(e)||(d=this.updateSubview(++g,e,a,d));else for(c=0;f>c;)e=b[c++],this.skipSubview(e)||(d=this.updateSubview(++g,e,a,d));this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(a,d);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(a){this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){this.detachFrom(a,
"update","visible")},updateSubview:(a,b,f,d)=>{b[f](d);return d},skipSubview:a=>!a.visible,updateParent:(a,b)=>{}})})(myt);
myt.MouseObservable=new JS.Module("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:{source:null,type:null,value:null},getMouseFromEvent:function(a){a=a.value;return{x:a.pageX,y:a.pageY}},getMouseFromEventRelativeToView:function(a,b){b=b.getPagePosition();a=this.getMouseFromEvent(a);a.x-=b.x;a.y-=b.y;return a}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.MouseObservable,
!0)||this.callSuper(a,b,c)}});
myt.FocusObservable=new JS.Module("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:{source:null,type:null,value:null}},initNode:function(a,b){this.focusable=!1;this.focusEmbellishment=!0;this.callSuper(a,b)},destroyBeforeOrphaning:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(a){if(this.focused!==a&&(this.focused=a,this.inited)){this.fireEvent("focused",a);const b=myt.global.focus;a?b.notifyFocus(this):b.notifyBlur(this)}},setFocusable:function(a){if(this.focusable!==a){const b=
this.focusable;(this.focusable=a)?(this.getInnerDomElement().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):b&&(this.getInnerDomElement().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",a)}},setFocusEmbellishment:function(a){this.focusEmbellishment!==a&&(this.focusEmbellishment=a,this.focused&&(a?this.showFocusEmbellishment():this.hideFocusEmbellishment()))},
giveAwayFocus:function(){this.focused&&(myt.global.focus.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null===this.searchAncestorsOrSelf(a=>!0===a.maskFocus)},focus:function(a){this.isFocusable()&&this.getInnerDomElement().focus({preventScroll:a})},blur:function(){this.getInnerDomElement().blur()},__doFocus:function(a){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(a){this.focused&&(this.doBlur(),this.setFocused(!1))},
doFocus:function(){this.focusEmbellishment?this.showFocusEmbellishment():this.hideFocusEmbellishment()},doBlur:function(){this.focusEmbellishment&&this.hideFocusEmbellishment()},showFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!1;const a=this.getInnerDomStyle();a.outlineWidth="thin";a.outlineColor="#88bbff";a.outlineStyle="solid";a.outlineOffset="0px"},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideDefaultFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=
!0;this.getInnerDomStyle().outlineStyle="none"},createDomMethodRef:function(a,b,c){if(myt.FocusObservable.EVENT_TYPES[c]){const c=this;return d=>{d||(d=window.event);if(c._ignoreFocus)d.cancelBubble=!0,d.stopPropagation&&d.stopPropagation(),d.preventDefault();else{var f=myt.FocusObservable.EVENT;f.source=c;f.type=d.type;f.value=d;a[b](f)||(d.cancelBubble=!0,d.stopPropagation&&d.stopPropagation());f.source=void 0}}}return this.callSuper(a,b,c)}});
myt.ScrollObservable=new JS.Module("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:{source:null,type:null,value:null},getScrollFromEvent:function(a){a=a.value;a=a.target||a.srcElement;return{x:a.scrollLeft,y:a.scrollTop}}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.ScrollObservable)||this.callSuper(a,b,c)}});
(a=>{const b=(b,f)=>{const d=a.global.focus.focusedView,c=b.getInnerDomElement();if(d===b||d&&d.isDescendantOf(b))d._ignoreFocus=!0;b=c.scrollTop;const e=c.scrollLeft;f.call();d&&(d._ignoreFocus=!1,d.focus(!0));c.scrollTop=b;c.scrollLeft=e},c=(b,f,d,c)=>{if(f&&"object"===typeof f){if(c&&(c=b.getLeastCommonAncestor(f))){var e=c.getInnerDomElement();const g=a.DomElementProxy;c=g.getZIndexRelativeToAncestor(b.getOuterDomElement(),e);e=g.getZIndexRelativeToAncestor(f.getOuterDomElement(),e);d&&(c*=-1,
e*=-1);if(c<e)return!0;if(e<c)return!1}b=b.getOuterDomElement().compareDocumentPosition(f.getOuterDomElement());return d?2===b||10===b:4===b||20===b}return!1},e=a=>{a=a.getAncestors();let b=a.length,f=1,d=1;for(;b;){const c=a[--b];f*=c.scaleX||1;d*=c.scaleY||1;c.__effectiveScaleX=f;c.__effectiveScaleY=d}return{scaleX:f,scaleY:d}},d=(b,f,c)=>{const e=b.getOuterDomElement();if(a.Geometry.rectContainsPoint(f,c,0,0,e.offsetWidth*b.__effectiveScaleX,e.offsetHeight*b.__effectiveScaleY)){if(b=b.parent){const a=
b.getOuterDomElement();return d(b,f+(e.offsetLeft-a.scrollLeft)*b.__effectiveScaleX,c+(e.offsetTop-a.scrollTop)*b.__effectiveScaleY)}return!0}return!1},f=a=>{switch(a.align){case "center":a.releaseConstraint("__doAlignCenter");break;case "right":a.releaseConstraint("__doAlignRight")}},g=a=>{const b=a.parent;if(b)switch(a.align){case "center":a.constrain("__doAlignCenter",[a,"width",a,"alignOffset",b,"width"]);break;case "right":a.constrain("__doAlignRight",[a,"width",a,"alignOffset",b,"width"]);break;
case "left":a.setX(a.alignOffset||0)}},h=a=>{switch(a.valign){case "middle":a.releaseConstraint("__doValignMiddle");break;case "bottom":a.releaseConstraint("__doValignBottom")}},l=a=>{const b=a.parent;if(b)switch(a.valign){case "middle":a.constrain("__doValignMiddle",[a,"height",a,"valignOffset",b,"height"]);break;case "bottom":a.constrain("__doValignBottom",[a,"height",a,"valignOffset",b,"height"]);break;case "top":a.setY(a.valignOffset||0)}},k=(a,b,f)=>{a.getOuterDomStyle()["border"+f+"Radius"]=
b+"px"};a.View=new JS.Class("View",a.Node,{include:[a.DomElementProxy,a.DomObservable,a.DomObserver,a.ScrollObservable,a.FocusObservable,a.KeyObservable,a.MouseObservable],extend:{retainFocusDuringDomUpdate:b},initNode:function(a,b){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=b.tagName;delete b.tagName;this.setDomElement(this.createOurDomElement(a));const f=this.getOuterDomStyle();f.left=f.top="0px";this.callSuper(a,b);void 0===this.bgColor&&(this.bgColor="transparent")},
createOurDomElement:function(a){a=document.createElement(this.tagName||"div");a.style.position="absolute";const b=this.klass;a.className=b.__cssClassName||(b.__cssClassName="myt-"+b.__displayName.split(".").join("-"));return a},doAfterAdoption:function(){this.__updateBounds(this.width,this.height)},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(a){this.parent!==a&&(this.inited&&(f(this),h(this)),
this.callSuper(a),this.align&&g(this),this.valign&&l(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent){const a=this.parent.getSubviews().concat();let b=a.length;for(;b;)if(a[--b]===this){a.splice(b,1);break}return a}},setFocusTrap:function(a){this.focusTrap=a},setFocusCage:function(a){this.focusCage=a},setMaskFocus:function(a){this.maskFocus=a},setLayoutHint:function(a){this.layoutHint=a},getLayouts:function(){return this.layouts||
(this.layouts=[])},setIgnoreLayout:function(a){if(this.ignoreLayout!==a){var b=this.inited&&this.parent;let f;if(a){if(b)for(b=this.parent.getLayouts(),f=b.length;f;)b[--f].removeSubview(this);this.ignoreLayout=a}else if(this.ignoreLayout=a,b)for(b=this.parent.getLayouts(),f=b.length;f;)b[--f].addSubview(this)}},setDomClass:function(a){this.domClass!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domClass",a))},setDomId:function(a){this.domId!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domId",
a))},setAlignOffset:function(a){this.alignOffset!==a&&(this.alignOffset=a,this.inited&&this.fireEvent("alignOffset",a),this.parent&&"left"===this.align&&this.setX(a))},setAlign:function(a){this.align!==a&&(this.inited&&f(this),this.align=a,this.inited&&(this.fireEvent("align",a),g(this)))},__doAlignCenter:function(a){this.setX(Math.round((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(a){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(a){this.valignOffset!==
a&&(this.valignOffset=a,this.inited&&this.fireEvent("valignOffset",a),this.parent&&"top"===this.valign&&this.setY(a))},setValign:function(a){this.valign!==a&&(this.inited&&h(this),this.valign=a,this.inited&&(this.fireEvent("valign",a),l(this)))},__doValignMiddle:function(a){this.setY(Math.round((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(a){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(a){this.x!==a&&(this.x=a,this.visible&&
(this.getOuterDomStyle().left=a+"px"),this.inited&&this.fireEvent("x",a))},setY:function(a){this.y!==a&&(this.y=a,this.visible&&(this.getOuterDomStyle().top=a+"px"),this.inited&&this.fireEvent("y",a))},setWidth:function(a,b){0>a&&(a=0);this.width!==a&&(this.width=a,this.getOuterDomStyle().width=a+"px",this.inited&&(this.__updateBounds(a,this.height),b||this.fireEvent("width",a)))},setHeight:function(a,b){0>a&&(a=0);this.height!==a&&(this.height=a,this.getOuterDomStyle().height=a+"px",this.inited&&
(this.__updateBounds(this.width,a),b||this.fireEvent("height",a)))},setTextColor:function(a){this.textColor!==a&&(this.textColor=a,this.getOuterDomStyle().color=a||"inherit",this.inited&&this.fireEvent("textColor",a))},setBgColor:function(a){this.bgColor!==a&&(this.getOuterDomStyle().backgroundColor=this.bgColor=a,this.inited&&this.fireEvent("bgColor",a))},setOpacity:function(a){this.opacity!==a&&(this.getOuterDomStyle().opacity=this.opacity=a,this.inited&&this.fireEvent("opacity",a))},setOverflow:function(a){const b=
this.overflow;if(b!==a){this.overflow=a;const f=this.getInnerDomStyle();if("autox"===a)f.overflowX="auto",f.overflowY="hidden";else if("autoy"===a)f.overflowY="auto",f.overflowX="hidden";else{if("autox"===b||"autoy"===b)f.overflowX=f.overflowY=null;f.overflow=a||"visible"}this.inited&&this.fireEvent("overflow",a)}},setVisible:function(a){if(this.visible!==a){this.visible=a;const b=this.getOuterDomStyle();b.visibility=a?"inherit":"hidden";b.left=a?this.x+"px":"-100000px";b.top=a?this.y+"px":"-100000px";
this.inited&&this.fireEvent("visible",a)}},setPointerEvents:function(a){this.pointerEvents!==a&&(this.pointerEvents=a,this.getOuterDomStyle().pointerEvents=a||"auto",this.inited&&this.fireEvent("pointerEvents",a))},setCursor:function(a){this.cursor!==a&&(this.cursor=a,this.getOuterDomStyle().cursor=a||"auto",this.inited&&this.fireEvent("cursor",a))},__updateBounds:function(a,b){this.boundsWidth!==a&&(this.boundsWidth=a,this.fireEvent("boundsWidth",a));this.boundsHeight!==b&&(this.boundsHeight=b,this.fireEvent("boundsHeight",
b))},setOutline:function(a){a=a||[];this.setOutlineWidth(a[0]);this.setOutlineStyle(a[1]);this.setOutlineColor(a[2])},setOutlineWidth:function(a){this.outlineWidth=a||0;this.getOuterDomStyle().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(a){this.getOuterDomStyle().outlineStyle=this.outlineStyle=a||"none"},setOutlineColor:function(a){this.getOuterDomStyle().outlineColor=this.outlineColor=a||"#000000"},setBorder:function(a){a=a||[];this.setBorderWidth(a[0]);this.setBorderStyle(a[1]);
this.setBorderColor(a[2])},setBorderWidth:function(a){this.borderWidth=a||0;this.getOuterDomStyle().borderWidth=this.borderWidth+"px"},setBorderStyle:function(a){this.getOuterDomStyle().borderStyle=this.borderStyle=a||"none"},setBorderColor:function(a){this.getOuterDomStyle().borderColor=this.borderColor=a||"#000000"},setRoundedCorners:function(a){this.getOuterDomStyle().borderRadius=a+"px"},setRoundedTopLeftCorner:function(a){k(this,a,"TopLeft")},setRoundedTopRightCorner:function(a){k(this,a,"TopRight")},
setRoundedBottomLeftCorner:function(a){k(this,a,"BottomLeft")},setRoundedBottomRightCorner:function(a){k(this,a,"BottomRight")},setBoxShadow:function(a){a=a?(a[0]||0)+"px "+(a[1]||0)+"px "+(a[2]||7)+"px "+(a[3]||"#000000"):"none";this.getOuterDomStyle().boxShadow=a},setGradient:function(a){const b=this.getOuterDomStyle();if(a){let f=a[0];"linear"===f||"radial"===f?a.shift():f="linear";let d=a[0];"radial"===f?(void 0!==d?(d="cover"===d||"farthest-corner"===d?"farthest-corner":"closest-side",a.shift()):
d="closest-side",d="circle "+d):"number"===typeof d?(d+="deg",a.shift()):d?(d="to "+d,a.shift()):d="0deg";const c=b=>{a.push(b&&"inherit"!==b?b:"transparent")};2>a.length&&c(this.textColor);2>a.length&&c(this.bgColor);b.background=f+"-gradient("+d+","+a.join(",")+")"}else b.background="none";this.bgColor=void 0},setTooltip:function(a){this.tooltip!==a&&(this.tooltip=this.getOuterDomElement().title=a,this.inited&&this.fireEvent("tooltip",a))},isVisible:function(){return null===this.searchAncestorsOrSelf(a=>
!a.visible)},getFocusTrap:function(a){return this.searchAncestorsOrSelf(b=>b.focusCage||b.focusTrap&&!a)},subnodeAdded:function(b){b instanceof a.View?(this.getInnerDomElement().appendChild(b.getOuterDomElement()),this.getSubviews().push(b),this.fireEvent("subviewAdded",b),this.subviewAdded(b)):b instanceof a.Layout&&(this.getLayouts().push(b),this.fireEvent("layoutAdded",b),this.layoutAdded(b))},subnodeRemoved:function(b){let f;b instanceof a.View?(f=this.getSubviewIndex(b),-1!==f&&(this.fireEvent("subviewRemoved",
b),b.removeDomElement(),this.subviews.splice(f,1),this.subviewRemoved(b))):b instanceof a.Layout&&(f=this.getLayoutIndex(b),-1!==f&&(this.fireEvent("layoutRemoved",b),this.layouts.splice(f,1),this.layoutRemoved(b)))},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.getSubviews().indexOf(a)},subviewAdded:a=>{},subviewRemoved:a=>{},getNextSibling:function(){if(this.parent){const a=this.getOuterDomElement().nextElementSibling;if(a)return a.model}return null},
getPrevSibling:function(){if(this.parent){const a=this.getOuterDomElement().previousElementSibling;if(a)return a.model}return null},hasLayout:function(a){return-1!==this.getLayoutIndex(a)},getLayoutIndex:function(a){return this.getLayouts().indexOf(a)},layoutAdded:a=>{},layoutRemoved:a=>{},isBehind:function(a,b){return c(this,a,!1,b)},isInFrontOf:function(a,b){return c(this,a,!0,b)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},
sendBehind:function(a){this.parent.sendSubviewBehind(this,a)},sendInFrontOf:function(a){this.parent.sendSubviewInFrontOf(this,a)},bringSubviewToFront:function(a){if(a&&a.parent===this){const f=this.getInnerDomElement();a.getOuterDomElement()!==f.lastChild&&b(a,()=>{f.appendChild(a.getOuterDomElement())})}},sendSubviewToBack:function(a){if(a&&a.parent===this){const f=this.getInnerDomElement();a.getOuterDomElement()!==f.firstChild&&b(a,()=>{f.insertBefore(a.getOuterDomElement(),f.firstChild)})}},sendSubviewBehind:function(a,
f){if(a&&f&&a.parent===this&&f.parent===this){const d=this.getInnerDomElement();b(a,()=>{d.insertBefore(a.getOuterDomElement(),f.getOuterDomElement())})}},sendSubviewInFrontOf:function(a,b){a&&b&&a.parent===this&&b.parent===this&&(this.sendSubviewBehind(a,b),this.sendSubviewBehind(b,a))},sortSubviews:function(a){const f=this,d=f.getSubviews();d.sort(a);b(f,()=>{const a=d.length,b=f.getOuterDomElement(),c=f.getInnerDomElement(),e=b.nextSibling,g=b.parentNode;g&&g.removeChild(b);const l=document.createDocumentFragment();
for(let b=0;a>b;)l.appendChild(d[b++].getOuterDomElement());c.appendChild(l);g&&g.insertBefore(b,e)})},containsPoint:function(b,f,d){const c=this.getOuterDomElement();if(!c)return!1;d=a.DomElementProxy.getPagePosition(c,d);return a.Geometry.rectContainsPoint(b,f,d.x,d.y,this.width,this.height)},isPointVisible:function(a,b){const f=this.getTruePagePosition();e(this);return d(this,a-f.x,b-f.y)},getEffectiveScale:function(){return e(this)},getEffectiveScaleX:function(){return e(this).scaleX},getEffectiveScaleY:function(){return e(this).scaleY},
isColorAttr:a=>"bgColor"===a||"textColor"===a})})(myt);
myt.FlexBoxSupport=new JS.Module("FlexBoxSupport",{initNode:function(a,b){this.callSuper(a,b);this.__syncSubviews()},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.__syncSubviews()},setHeight:function(a,b){this.callSuper(a,b);this.inited&&this.__syncSubviews()},setFlexDirection:function(a){if(this.flexDirection!==a){let b=this.flexDirection=a;switch(b){case "rowReverse":b="row-reverse";break;case "columnReverse":b="column-reverse"}this.getInnerDomStyle().flexDirection=b;this.inited&&
(this.fireEvent("flexDirection",a),this.__syncSubviews())}},setFlexWrap:function(a){if(this.flexWrap!==a){let b=this.flexWrap=a;switch(b){case "wrapReverse":case "reverse":b="wrap-reverse"}this.getInnerDomStyle().flexWrap=b;this.inited&&(this.fireEvent("flexWrap",a),this.__syncSubviews())}},setJustifyContent:function(a){if(this.justifyContent!==a){let b=this.justifyContent=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end";break;case "spaceBetween":case "between":b="space-between";
break;case "spaceAround":case "around":b="space-around";break;case "spaceEvenly":case "evenly":b="space-evenly"}this.getInnerDomStyle().justifyContent=b;this.inited&&(this.fireEvent("justifyContent",a),this.__syncSubviews())}},setAlignItems:function(a){if(this.alignItems!==a){let b=this.alignItems=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end"}this.getInnerDomStyle().alignItems=b;this.inited&&(this.fireEvent("alignItems",a),this.__syncSubviews())}},setAlignContent:function(a){if(this.alignContent!==
a){let b=this.alignContent=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end";break;case "spaceBetween":case "between":b="space-between";break;case "spaceAround":case "around":b="space-around"}this.getInnerDomStyle().alignContent=b;this.inited&&(this.fireEvent("alignContent",a),this.__syncSubviews())}},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.display="flex";return a},subviewAdded:function(a){a&&!a.ignoreFlex&&(a.getOuterDomStyle().position=
"",this.inited&&this.__syncSubviews())},__syncSubviews:function(){this.getSubviews().forEach(a=>this.__syncSubview(a))},__syncSubview:function(a){a&&a.syncInnerToOuter&&!a.ignoreFlex&&(a.syncInnerToOuter(),a.syncModelToOuterBounds())},subviewRemoved:function(a){!a||a.destroyed||a.ignoreFlex||(a.getOuterDomStyle().position="absolute")}});myt.FlexBox=new JS.Class("FlexBox",myt.View,{include:[myt.FlexBoxSupport]});
(a=>{const b=(a,b,f)=>{const d=c(a,b);a.getOuterDomStyle().transform=d+(0===d.length?"":" ")+b+"("+f+")"},c=(a,b)=>{a=a.getOuterDomStyle();var f=a.transform;let d;if(!f||0===f.length)return"";f=f.split(" ");for(d=f.length;d;)if(0===f[--d].indexOf(b)){f.splice(d,1);break}return a.transform=f.join(" ")};a.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(a){this.transformOrigin!==a&&(this.transformOrigin=a,this.getOuterDomStyle().transformOrigin=a||"50% 50% 0",this.inited&&
(this.__updateBounds(this.width,this.height),this.fireEvent("transformOrigin",a)))},setRotation:function(a){this.rotation!==a&&(this.rotation=a,b(this,"rotate",(a||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",a)))},setScale:function(a){const d=this.scaleX!==a;if(d){var f=this.scaleX=a;null==f?c(this,"scaleX"):b(this,"scaleX",f||1)}if(f=this.scaleY!==a){var e=this.scaleY=a;null==e?c(this,"scaleY"):b(this,"scaleY",e||1)}this.inited&&((d||f)&&this.__updateBounds(this.width,
this.height),d&&this.fireEvent("scaleX",a),f&&this.fireEvent("scaleY",a))},setScaleX:function(a){if(this.scaleX!==a){var d=this.scaleX=a;null==d?c(this,"scaleX"):b(this,"scaleX",d||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",a))}},setScaleY:function(a){if(this.scaleY!==a){var d=this.scaleY=a;null==d?c(this,"scaleY"):b(this,"scaleY",d||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",a))}},setSkewX:function(a){this.skewX!==
a&&(this.skewX=a,b(this,"skewX",a||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",a)))},setSkewY:function(a){this.skewY!==a&&(this.skewY=a,b(this,"skewY",a||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",a)))},__updateBounds:function(a,b){const f=this.rotation,d=this.scaleX,c=this.scaleY;let e=!1;void 0!==d&&1!==d||void 0!==c&&1!==c||(e=!0);if(!e||void 0!==f&&0!==f&&180!==f)!e||90!==f&&270!==f?(b=this.getOuterDomElement().getBoundingClientRect(),
a=b.width,b=b.height):(a=this.height,b=this.width);this.callSuper(a,b)}})})(myt);
myt.SizeToDom=new JS.Module("SizeToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){"auto"===a?(this.__hasSetWidth=!1,this.getOuterDomStyle().width="auto",this.sizeViewToDom()):(this.__hasSetWidth=!0,this.callSuper(a,b))},setHeight:function(a,b){"auto"===a?(this.__hasSetHeight=!1,this.getOuterDomStyle().height="auto",this.sizeViewToDom()):(this.__hasSetHeight=!0,this.callSuper(a,b))},sizeViewToDom:function(){let a,b;if(!this.__hasSetWidth){var c=this.getOuterDomElement();
b=c.offsetWidth;a=this.getEffectiveScale();b/=a.scaleX;this.width!==b&&(this.width=b,this.inited&&this.__updateBounds(b,this.height),this.fireEvent("width",b))}this.__hasSetHeight||(c||(c=this.getOuterDomElement()),c=c.offsetHeight,a||(a=this.getEffectiveScale()),c/=a.scaleY,this.height!==c&&(this.height=c,this.inited&&this.__updateBounds(this.width,c),this.fireEvent("height",c)))}});
myt.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,b){this.callSuper(a,b);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a||this.sizeViewToDom())},setText:function(a){a||(a="");"object"===typeof a&&(a=a.value);this.text!==a&&(this.getInnerDomElement().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==a&&(this.textOverflow=a,this.getInnerDomStyle().textOverflow=a||"inherit",this.inited&&
this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getInnerDomStyle().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){this.__s(a,"whiteSpace")},setWordWrap:function(a){this.__s(a,"wordWrap","normal")},setTextIndent:function(a){this.__s(a,"textIndent")},setTextTransform:function(a){this.__s(a,"textTransform")},setTextDecoration:function(a){this.__s(a,"textDecoration")},setLineHeight:function(a){this.__s(a,
"lineHeight")},setLetterSpacing:function(a){this.__s(a,"letterSpacing")},setWordSpacing:function(a){this.__s(a,"wordSpacing")},setFontFamily:function(a){this.__s(a,"fontFamily")},setFontStyle:function(a){this.__s(a,"fontStyle")},setFontVariant:function(a){this.__s(a,"fontVariant")},setFontWeight:function(a){this.__s(a,"fontWeight")},setFontSize:function(a){this.__s(a,"fontSize")},__s:function(a,b,c){this[b]!==a&&(this[b]=a,this.getInnerDomStyle()[b]=a||c||"inherit",this.inited&&(this.fireEvent(b,
a),this.sizeViewToDom()))},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,b,c,e,d){a=(a||0)+"px "+(b||0)+"px "+(null!=c?c:
2)+"px "+(e||"#000000");if(0<d){for(b=[a];d--;)b.push(a);a=b.join(",")}this.getInnerDomStyle().textShadow=a},hideTextShadow:function(){this.getInnerDomStyle().textShadow="none"}});
myt.Text=new JS.Class("Text",myt.View,{include:[myt.SizeToDom,myt.TextSupport],initNode:function(a,b){null==b.whiteSpace&&(b.whiteSpace="nowrap");null==b.userUnselectable&&(b.userUnselectable=!0);this.callSuper(a,b)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.deStyle,b=a.whiteSpace;a.whiteSpace="nowrap";const c=this.getOuterDomElement().offsetWidth;a.whiteSpace=b;return c}});
myt.ImageSupport=new JS.Module("ImageSupport",{extend:{SIZE_CACHE:{},OPEN_SIZE_QUERIES:{}},initNode:function(a,b){null==b.imageRepeat&&(b.imageRepeat="no-repeat");null==b.imageAttachment&&(b.imageAttachment="scroll");this.callSuper(a,b)},setImageUrl:function(a){this.imageUrl!==a&&(this.imageUrl=a,this.deStyle.backgroundImage=a?'url("'+a+'")':"none",this.inited&&(this.fireEvent("imageUrl",a),this.setNaturalWidth(void 0),this.setNaturalHeight(void 0),!a&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
this.__calculateNaturalSize())},setImageLoadingError:function(a){this.set("imageLoadingError",a,!0)},setImageSize:function(a){this.imageSize!==a&&(this.imageSize=a,this.deStyle.backgroundSize=a||"auto",this.inited&&this.fireEvent("imageSize",a))},setImageRepeat:function(a){this.imageRepeat!==a&&(this.deStyle.backgroundRepeat=this.imageRepeat=a,this.inited&&this.fireEvent("imageRepeat",a))},setImagePosition:function(a){this.imagePosition!==a&&(this.deStyle.backgroundPosition=this.imagePosition=a,this.inited&&
this.fireEvent("imagePosition",a))},setImageAttachment:function(a){this.imageAttachment!==a&&(this.deStyle.backgroundAttachment=this.imageAttachment=a,this.inited&&this.fireEvent("imageAttachment",a))},setCalculateNaturalSize:function(a){this.calculateNaturalSize!==a&&(this.calculateNaturalSize=a,this.inited&&this.fireEvent("calculateNaturalSize",a),this.__calculateNaturalSize())},setNaturalWidth:function(a){this.naturalWidth!==a&&(this.naturalWidth=a,this.inited&&this.fireEvent("naturalWidth",a),
this.useNaturalSize&&a&&this.setWidth(a))},setNaturalHeight:function(a){this.naturalHeight!==a&&(this.naturalHeight=a,this.inited&&this.fireEvent("naturalHeight",a),this.useNaturalSize&&a&&this.setHeight(a))},setUseNaturalSize:function(a){this.useNaturalSize!==a&&(this.useNaturalSize=a,this.inited&&this.fireEvent("useNaturalSize",a),a&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),a&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))},
__calculateNaturalSize:function(){const a=this.imageUrl;if(this.calculateNaturalSize&&a){const c=myt.ImageSupport.SIZE_CACHE;var b=c[a];if(b)this.setNaturalWidth(b.width),this.setNaturalHeight(b.height);else{const e=myt.ImageSupport.OPEN_SIZE_QUERIES;b=e[a];if(!b){e[a]=b=[];const d=new Image;d.onerror=function(b){if(b=e[a]){let f=b.length;for(;f;)b[--f].setImageLoadingError(!0);b.length=0;delete e[a]}};d.onload=function(){const b=this.width,d=this.height,h=e[a];if(h){let f=h.length,c;for(;f;)c=h[--f],
c.imageUrl===a&&(c.setNaturalWidth(b),c.setNaturalHeight(d));h.length=0;delete e[a]}c[a]={width:b,height:d}};d.src=a}b.push(this)}}}});myt.Image=new JS.Class("Image",myt.View,{include:[myt.ImageSupport],initNode:function(a,b){null==b.useNaturalSize&&(b.useNaturalSize=!0);this.callSuper(a,b)}});myt.Markup=new JS.Class("Markup",myt.View,{include:[myt.SizeToDom],setHtml:function(a){this.html!==a&&(this.getInnerDomElement().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});
myt.Frame=new JS.Class("Frame",myt.View,{initNode:function(a,b){null==b.tagName&&(b.tagName="iframe");this.callSuper(a,b);a=myt.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getInnerDomElement().src=a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=
this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});
myt.SizeWidthToDom=new JS.Module("SizeWidthToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){"auto"===a?(this.__hasSetWidth=!1,this.deStyle.width="auto",this.sizeViewToDom()):(this.__hasSetWidth=!0,this.callSuper(a,b))},sizeViewToDom:function(){if(!this.__hasSetWidth){const a=this.getOuterDomElement().offsetWidth/this.getEffectiveScaleX();this.width!==a&&(this.width=a,this.inited&&this.__updateBounds(a,this.height),this.fireEvent("width",a))}}});
myt.SizeHeightToDom=new JS.Module("SizeHeightToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setHeight:function(a,b){"auto"===a?(this.__hasSetHeight=!1,this.deStyle.height="auto",this.sizeViewToDom()):(this.__hasSetHeight=!0,this.callSuper(a,b))},sizeViewToDom:function(){if(!this.__hasSetHeight){const a=this.getOuterDomElement().offsetHeight/this.getEffectiveScaleY();this.height!==a&&(this.height=a,this.inited&&this.__updateBounds(this.width,a),this.fireEvent("height",a))}}});
myt.SizeToParent=new JS.Module("SizeToParent",{setParent:function(a){this.parent!==a&&(this.inited&&(this.__teardownPercentOfParentWidthConstraint(),this.__teardownPercentOfParentHeightConstraint()),this.callSuper(a),this.__setupPercentOfParentWidthConstraint(),this.__setupPercentOfParentHeightConstraint())},setPercentOfParentWidthOffset:function(a){this.percentOfParentWidthOffset!==a&&(this.percentOfParentWidthOffset=a,this.inited&&(this.fireEvent("percentOfParentWidthOffset",a),this.__doPercentOfParentWidth()))},
setPercentOfParentWidth:function(a){this.percentOfParentWidth!==a&&(this.inited&&this.__teardownPercentOfParentWidthConstraint(),this.percentOfParentWidth=a,this.inited&&this.fireEvent("percentOfParentWidth",a),this.__setupPercentOfParentWidthConstraint())},setPercentOfParentHeightOffset:function(a){this.percentOfParentHeightOffset!==a&&(this.percentOfParentHeightOffset=a,this.inited&&(this.fireEvent("percentOfParentHeightOffset",a),this.__doPercentOfParentHeight()))},setPercentOfParentHeight:function(a){this.percentOfParentHeight!==
a&&(this.inited&&this.__teardownPercentOfParentHeightConstraint(),this.percentOfParentHeight=a,this.inited&&this.fireEvent("percentOfParentHeight",a),this.__setupPercentOfParentHeightConstraint())},__teardownPercentOfParentWidthConstraint:function(){0<=this.percentOfParentWidth&&this.detachFrom(this.parent,"__doPercentOfParentWidth","width")},__setupPercentOfParentWidthConstraint:function(){const a=this.parent;a&&0<=this.percentOfParentWidth&&this.syncTo(a,"__doPercentOfParentWidth","width")},__doPercentOfParentWidth:function(a){this.setWidth((this.percentOfParentWidthOffset||
0)+Math.round(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__teardownPercentOfParentHeightConstraint:function(){0<=this.percentOfParentHeight&&this.detachFrom(this.parent,"__doPercentOfParentHeight","height")},__setupPercentOfParentHeightConstraint:function(){const a=this.parent;a&&0<=this.percentOfParentHeight&&this.syncTo(a,"__doPercentOfParentHeight","height")},__doPercentOfParentHeight:function(a){this.setHeight((this.percentOfParentHeightOffset||
0)+Math.round(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}});(a=>{let b;const c=[];new JS.Singleton("GlobalRootViewRegistry",{include:[a.Observable],initialize:function(){a.global.register("roots",b=this)},getRoots:()=>c,addRoot:a=>{c.push(a);b.fireEvent("rootAdded",a)},removeRoot:a=>{let d=c.length,f;for(;d;)if(f=c[--d],f===a){c.splice(d,1);b.fireEvent("rootRemoved",f);break}}})})(myt);
myt.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:function(a){const b=a.__captureDrop=a=>{a.preventDefault()};a=a.domElement;myt.addEventListener(a,"drop",b);myt.addEventListener(a,"dragover",b)},teardownCaptureDrop:function(a){const b=a.domElement;a=a.__captureDrop;myt.removeEventListener(b,"drop",a);myt.removeEventListener(b,"dragover",a)}},initNode:function(a,b){this.callSuper(a,b);this.setZIndex(0);this.addDomClass("myt");myt.global.roots.addRoot(this);myt.RootView.setupCaptureDrop(this)},
createOurDomElement:function(a){a||(a=this.callSuper(a),myt.getElement().appendChild(a));return a},destroyAfterOrphaning:function(){myt.RootView.teardownCaptureDrop(this);myt.global.roots.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(a){this.keepDomElementWhenDestroyed=a},setParent:function(a){this.callSuper(void 0)},bringToFront:function(){var a=this.domElement;const b=a.parentNode;a!==b.lastChild&&(a=b.removeChild(a))&&
b.appendChild(a)},sendToBack:function(){var a=this.domElement;const b=a.parentNode;a!==b.firstChild&&(a=b.removeChild(a))&&b.insertBefore(a,b.firstChild)},sendBehind:function(a){var b=this.domElement;a=a.domElement;const c=b.parentNode;a.parentNode===c&&(b=c.removeChild(b))&&c.insertBefore(b,a)},sendInFrontOf:function(a){a.domElement.parentNode===this.domElement.parentNode&&(this.sendBehind(a),a.sendBehind(this))}});
(a=>{const b=window;let c,e;new JS.Singleton("GlobalWindowResize",{include:[a.Observable],initialize:function(){a.addEventListener(b,"resize",a=>{this.fireEvent("resize",{w:c=b.innerWidth,h:e=b.innerHeight})});a.global.register("windowResize",this)},getWidth:()=>c||(c=b.innerWidth),getHeight:()=>e||(e=b.innerHeight)})})(myt);
myt.SizeToWindow=new JS.Module("SizeToWindow",{include:[myt.RootView],initNode:function(a,b){this.minWidth=this.minHeight=0;null==b.resizeDimension&&(b.resizeDimension="both");this.attachTo(myt.global.windowResize,"__handleResize","resize");this.callSuper(a,b)},setResizeDimension:function(a){this.resizeDimension!==a&&(this.resizeDimension=a,this.__handleResize())},setMinWidth:function(a){this.minWidth!==a&&(this.minWidth=a,this.__handleResize())},setMinHeight:function(a){this.minHeight!==a&&(this.minHeight=
a,this.__handleResize())},__handleResize:function(a){a=myt.global.windowResize;const b=this.resizeDimension;"width"!==b&&"both"!==b||this.setWidth(Math.max(this.minWidth,a.getWidth()));"height"!==b&&"both"!==b||this.setHeight(Math.max(this.minHeight,a.getHeight()))}});myt.SizeToWindowWidth=new JS.Module("SizeToWindowWidth",{include:[myt.SizeToWindow],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension="width");this.callSuper(a,b)}});
myt.SizeToWindowHeight=new JS.Module("SizeToWindowHeight",{include:[myt.SizeToWindow],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension="height");this.callSuper(a,b)}});
(a=>{const b=window,c={};let e,d,f,g=!1;new JS.Singleton("GlobalIdle",{include:[a.Observable],initialize:function(){const g=this,l=["webkit","moz","ms","o"];let k=0,m;for(;k<l.length&&!b.requestAnimationFrame;)m=l[k++],b.requestAnimationFrame=b[m+"RequestAnimationFrame"],b.cancelAnimationFrame=b[m+"CancelAnimationFrame"]||b[m+"CancelRequestAnimationFrame"];d=a=>{e=b.requestAnimationFrame(d);-1!==f&&(a=Math.round(a),c.delta=a-f,c.time=a,g.fireEvent("idle",c));f=a};a.global.register("idle",g)},attachObserver:function(a,
c,k){a=this.callSuper(a,c,k);!g&&this.hasObservers("idle")&&(g=!0,f=-1,e=b.requestAnimationFrame(d));return a},detachObserver:function(a,f,d){a=this.callSuper(a,f,d);g&&!this.hasObservers("idle")&&(b.cancelAnimationFrame(e),g=!1);return a}})})(myt);
(a=>{const b=(b,f,d,c,e)=>{const g=a.Color;b=g.makeColorFromHexString(b);f=g.makeColorFromHexString(f);c=c?g.makeColorFromHexString(e):b;c.setRed(c.red+(f.red-b.red)*d);c.setGreen(c.green+(f.green-b.green)*d);c.setBlue(c.blue+(f.blue-b.blue)*d);return c.getHtmlHexString()},c=a=>{a.__temporaryFrom=!1;a.__loopCount=a.reverse?a.repeat-1:0;a.__progress=a.reverse?a.duration:0},e=(a,f)=>{if(a.running&&!a.paused){const l=a.reverse,k=a.duration,m=a.repeat;l&&(f*=-1);var d=a.__progress;a.__progress+=f;f=0;
a.__progress>k?(f=a.__progress-k,a.__progress=k,++a.__loopCount===m&&(f=0)):0>a.__progress&&(f=-a.__progress,a.__progress=0,0>--a.__loopCount&&0<m&&(f=0));var c=a.target||a.parent;if(c){{const f=a.relative;var g=a.duration;const e=a.attribute;var h=Math.max(0,a.__progress/g);d=Math.max(0,d/g);null==a.from&&(a.__temporaryFrom=!0,a.from=f?a.__isColorAnim?"#000000":0:c.get(e));d=a.easingFunction(h)-(f?a.easingFunction(d):0);h=f?c.get(e):a.from;g=a.to;c.set(e,a.__isColorAnim?b(a.from,g,d,f,h):h+(g-a.from)*
d)}!l&&a.__loopCount===m||l&&0>a.__loopCount&&0<m?(a.setRunning(!1),a.callback&&a.callback.call(a,!0)):0<f&&(a.fireEvent("repeat",a.__loopCount),a.__progress=l?k:0,e(a,f))}else console.log("No target found for animator.",a),a.setRunning(!1),a.callback&&a.callback.call(a,!1)}},d=Math.PI,f=2*d,g=d/2,h=a.Animator=new JS.Class("Animator",a.Node,{include:[a.Reusable],extend:{easingFunctions:{linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>
a*a*a,easeOutCubic:a=>--a*a*a+1,easeInOutCubic:a=>1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-(--a*a*a*a-1),easeInOutQuart:a=>1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>--a*a*a*a*a+1,easeInOutQuint:a=>1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*g)+1,easeOutSine:a=>Math.sin(a*g),easeInOutSine:a=>-.5*(Math.cos(d*a)-1),easeInCirc:a=>-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1- --a*a),easeInOutCirc:a=>
1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInExpo:a=>0==a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1==a?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2),easeInElastic:a=>0==a?0:1==a?1:-(Math.pow(2,10*--a)*Math.sin((1*a-.075)*f/.3)),easeOutElastic:a=>0==a?0:1==a?1:Math.pow(2,-10*a)*Math.sin((1*a-.075)*f/.3)+1,easeInOutElastic:a=>0==a?0:2==(a/=.5)?1:1>a?-.5*Math.pow(2,10*--a)*Math.sin((1*a-.1125)*f/.45):Math.pow(2,
-10*--a)*Math.sin((1*a-.1125)*f/.45)*.5+1,easeInBack:(a,b=1.70158)=>(a/=1)*a*((b+1)*a-b),easeOutBack:(a,b=1.70158)=>(a=a/1-1)*a*((b+1)*a+b)+1,easeInOutBack:(a,b=1.70158)=>1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2),easeInBounce:a=>1-h.easingFunctions.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>.5>a?.5*h.easingFunctions.easeInBounce(2*
a):.5*h.easingFunctions.easeOutBounce(2*a-1)+.5}},initNode:function(a,b){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.callSuper(a,b);c(this)},setRunning:function(b){if(this.running!==b&&(this.running=b,this.inited&&this.fireEvent("running",b),!this.paused)){if(b){{const a=this.target||this.parent;this.__isColorAnim=a&&"function"===typeof a.isColorAttr?a.isColorAttr(this.attribute):void 0}}else this.__temporaryFrom&&
(this.from=void 0),c(this);this[b?"attachTo":"detachFrom"](a.global.idle,"__updateAnim","idle")}},setPaused:function(b){if(this.paused!==b&&(this.paused=b,this.inited&&this.fireEvent("paused",b),this.running))this[b?"detachFrom":"attachTo"](a.global.idle,"__updateAnim","idle")},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&this.fireEvent("reverse",a),this.running||c(this))},setEasingFunction:function(a){"string"===typeof a&&(a=h.easingFunctions[a]);a||(a=h.DEFAULT_EASING_FUNCTION);
this.easingFunction!==a&&(this.easingFunction=a,this.inited&&this.fireEvent("easingFunction",a))},setFrom:function(a){this.from!==a&&(this.from=a,this.inited&&this.fireEvent("from",a))},setTo:function(a){this.to!==a&&(this.to=a,this.inited&&this.fireEvent("to",a))},setCallback:function(a){this.callback=a},next:function(a,b){const f=this.callback;if(f&&!b){const b=this;this.setCallback(function(d){f.call(b,d);a.call(b,d)})}else this.setCallback(a)},reset:function(a){c(this);this.setRunning(!1);this.setPaused(!1);
a&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.reset(!1)},__updateAnim:function(a){e(this,a.value.delta)}});h.DEFAULT_EASING_FUNCTION=h.easingFunctions.easeInOutQuad})(myt);
(a=>{const b=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},c=(a,b)=>{if(a.__transInProgress){var f=a.__deferredTransitions;f||(f=a.__deferredTransitions=[]);f.unshift(b)}else{a.__transInProgress=!0;f=b.shift();const c=b.shift();if(a.__pendingTransition)return d.PENDING;if(a.isFinished())return a.__transInProgress=!1,d.NO_TRANSITION;let e=a.map[a.current][c];e||(e=a.map["*"][c]);if(e)return a.__pendingTransition=c,a.__transDestinationState=
e,a.__additionalArgs=b,a.resumeTransition(f);a.__transInProgress=!1;return d.NO_TRANSITION}},e=a=>{a.__transInProgress=!1;const b=a.__deferredTransitions;if(b)for(;0<b.length;)c(a,b.pop())},d=a.StateMachine=new JS.Class("StateMachine",a.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,d){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";b(this);this.callSuper(a,d)},setInitialState:function(a){if(""===this.current){if(Array.isArray(a)){var b=
a;a=b.shift()}else b=[];this.current=this.initial=a;this.doEnterState("","",a,b);b={name:"",from:"",to:a,args:b};this.fireEvent("enter"+a,b);this.fireEvent("enter",b);this.isFinished()&&this.fireEvent("finished",b)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(a=>this.addTransition(...a))},addTransition:function(a,b,d){const f=this.map;b=b?Array.isArray(b)?b:[b]:["*"];let c=b.length,e;for(;c;)(e=f[b[--c]])||(e=f[b[c]]={}),e[a]=d},doTransition:function(...a){a.unshift("sync");
return c(this,a)},doAsyncTransition:function(...a){a.unshift("async");return c(this,a)},resumeTransition:function(a){const f=this.__pendingTransition;if(!f)return d.INVALID;const c=this.current,l=this.__transDestinationState,k=this.__additionalArgs,m={name:f,from:c,to:l,args:k};switch(this.__transStage){case "leaveState":const g=this.doLeaveState(f,c,l,k);if(!1===g)return b(this),e(this),d.CANCELLED;if("async"===g||"async"===a)return this.__transStage="enterState",this.fireEvent("start"+f,m),this.fireEvent("start",
m),this.fireEvent("leave"+c,m),this.fireEvent("leave",m),e(this),d.PENDING;this.fireEvent("start"+f,m);this.fireEvent("start",m);this.fireEvent("leave"+c,m);this.fireEvent("leave",m);case "enterState":this.current=l,b(this),this.doEnterState(f,c,l,k),this.fireEvent("enter"+l,m),this.fireEvent("enter",m),this.fireEvent("end"+f,m),this.fireEvent("end",m),this.isFinished()&&this.fireEvent("finished",m)}e(this);return d.SUCCEEDED},doLeaveState:(a,b,d,c)=>{},doEnterState:(a,b,d,c)=>{},isFinished:function(){return this.is(this.terminal)},
isStarting:function(){return this.is(this.initial)},is:function(a){return Array.isArray(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==this.map["*"][a]}})})(myt);
(a=>{const b=(a,b)=>a.replicationIndex-b.replicationIndex,c=(a,b)=>{let f=a.length,d;for(;f;)d=a[--f],d.decrementLockedCounter(),b&&d.update()},e=b=>{d(b);const f=b.template;f&&(b.__pool=new a.TrackActivesPool(f,b.parent))},d=a=>{const b=a.__pool;if(b){const f=a.parent.getLayouts();{a=f;let b=a.length;for(;b;)a[--b].incrementLockedCounter()}b.putActives();b.destroyPooledInstances();c(f,!1);b.destroy()}};a.Replicable=new JS.Module("Replicable",{include:[a.Reusable],replicate:function(a,b){this.replicationData=
a;this.replicationIndex=b},notify:function(a,b){},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,b){return b===this.replicationIndex&&a===this.replicationData}});a.Replicator=new JS.Class("Replicator",a.Node,{initNode:function(a,b){this.callSuper(a,b);e(this);this.doReplication()},destroyAfterOrphaning:function(){d(this);this.callSuper()},setTemplate:function(b){(this.template=b.includes(a.Replicable)?b:null)||a.dumpStack("Template not an myt.Replicable");
this.inited&&(e(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let d;if(a){d=this.parent.getLayouts();for(var e=d.length;e;)d[--e].incrementLockedCounter();const f=(e=this.data)?e.length:0,g=a.getActives(),h=g.length,n=[];let p=h,r,q;for(g.sort(b);p;)if(r=g[--p],q=r.replicationIndex,q>=f||!r.alreadyHasReplicationData(e[q],q))n[q]=r;for(p=n.length;p;)(r=
n[--p])&&a.putInstance(r);for(p=0;f>p;++p)(p>=h||null!=n[p])&&a.getInstance().replicate(e[p],p);for(p=d.length;p;)d[--p].sortSubviews(b);c(d,!0)}},notify:function(a,b){var f=this.__pool;if(f){f=f.getActives();let d=f.length;for(;d;)f[--d].notify(a,b)}}})})(myt);
myt.WrappingLayout=new JS.Class("WrappingLayout",myt.VariableLayout,{initNode:function(a,b){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";const e=this.measureAttrBaseName=b?"height":"width";this.otherMeasureAttrName=b?"boundsWidth":"boundsHeight";const d=this.otherMeasureAttrBaseName=b?"width":"height";this.parentSetterName=b?"setWidth":"setHeight";this.otherSetterName=b?"setX":"setY";c&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(d),this.startMonitoringParent(e));this.callSuper(a)}},setParent:function(a){if(this.parent!==
a){const b="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(b?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(b?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.inited&&(this.fireEvent("spacing",a),this.update()))},setOutset:function(a){this.outset!==a&&(this.outset=a,this.inited&&(this.fireEvent("outset",a),this.update()))},
setLineSpacing:function(a){this.lineSpacing!==a&&(this.lineSpacing=a,this.inited&&(this.fireEvent("lineSpacing",a),this.update()))},setLineInset:function(a){this.lineInset!==a&&(this.lineInset=a,this.inited&&(this.fireEvent("lineInset",a),this.update()))},setLineOutset:function(a){this.lineOutset!==a&&(this.lineOutset=a,this.inited&&(this.fireEvent("lineOutset",a),this.update()))},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,
"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update",this.otherMeasureAttrName);this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,
b,c,e){a=b[this.measureAttrName];const d=b[this.otherMeasureAttrName];e+a>this.parentSizeLessOutset||"break"===b.layoutHint?(e=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=d,++this.lineCount):d>this.lineSize&&(this.lineSize=d);b[this.otherSetterName](this.linePos+(d-b[this.otherMeasureAttrBaseName])/2);b[c](e+(a-b[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,e+a+this.outset);return e+a+this.spacing},updateParent:function(a,b){this.parent[this.parentSetterName](this.linePos+
this.lineSize+this.lineOutset)}});
myt.SpacedLayout=new JS.Class("SpacedLayout",myt.VariableLayout,{initNode:function(a,b){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
b?"height":"width";this.parentSetterName=b?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.inited&&(this.fireEvent("spacing",a),this.update()))},setOutset:function(a){this.outset!==a&&(this.outset=a,this.inited&&(this.fireEvent("outset",
a),this.update()))},addSubview:function(a){const b=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=b},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,b,c,e){a=b[this.measureAttrName];b[c](e+(a-b[this.measureAttrBaseName])/2);return e+a+this.spacing},updateParent:function(a,b){this.parent[this.parentSetterName](b+
this.outset-this.spacing)}});
myt.ResizeLayout=new JS.Class("SpacedLayout",myt.SpacedLayout,{setCollapseParent:function(a){},setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){const b="x"===a;this.stopMonitoringParent(b?"height":"width");this.startMonitoringParent(b?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const b="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(b);this.callSuper(a);this.parent&&this.startMonitoringParent(b)}},startMonitoringParent:function(a){this.attachTo(this.parent,
"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){const a=this.measureAttrName;let b=this.parent[this.measureAttrBaseName];b-=this.targetValue+this.outset;const c=this.subviews;let e=c.length,d,f=0,g=0;for(;e;)d=c[--e],this.skipSubview(d)||(++f,0<d.layoutHint?g+=d.layoutHint:b-=d[a]);0!==f&&(this.remainder=b-=(f-1)*this.spacing,this.resizeSum=g,this.scalingFactor=b/g,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===
a?"setWidth":"setHeight")},updateSubview:function(a,b,c,e){var d=b.layoutHint;0<d&&(this.resizeSumUsed+=d,d=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(d*this.scalingFactor),this.remainderUsed+=d,b[this.measureSetter](d));return this.callSuper(a,b,c,e)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<a.layoutHint||this.detachFrom(a,"update",
this.measureAttrName);this.detachFrom(a,"update","visible")},updateParent:function(a,b){}});
myt.AlignedLayout=new JS.Class("AlignedLayout",myt.VariableLayout,{initNode:function(a,b){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
b?"height":"width";this.parentSetterName=b?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;const b=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=b;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,
"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){const a=this.measureAttrName,b=this.subviews;let c=0,e,d=b.length;for(;d;)e=b[--d],this.skipSubview(e)||(c=c>e[a]?c:e[a]);this.setTargetValue(c)},updateSubview:function(a,b,c,e){switch(this.align){case "center":case "middle":b[c]((e-b[this.measureAttrName])/2);break;case "right":case "bottom":b[c](e-b[this.measureAttrName]);break;default:b[c](0)}return e},updateParent:function(a,b){this.parent[this.parentSetterName](b)}});
myt.UpdateableUI=new JS.Module("UpdateableUI",{initNode:function(a,b){this.callSuper(a,b);this.updateUI()},updateUI:function(){}});myt.Disableable=new JS.Module("Disableable",{initNode:function(a,b){null==b.disabled&&(b.disabled=!1);this.callSuper(a,b)},setDisabled:function(a){this.disabled!==a&&(this.disabled=a,this.inited&&this.fireEvent("disabled",a),this.doDisabled())},doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});
new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
myt.MouseOver=new JS.Module("MouseOver",{initNode:function(a,b){null==b.mouseOver&&(b.mouseOver=!1);this.callSuper(a,b);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(a){this.mouseOver!==a&&(this.mouseOver=a,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(myt.global.idle,"__doMouseOverOnIdle","idle")))},setDisabled:function(a){this.callSuper(a);this.disabled?this.mouseOver&&(this.__disabledOver=
!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(myt.global.idle,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const a=this.mouseOver;this.__lastOverIdleValue!==a&&(this.__lastOverIdleValue=a,this.doSmoothMouseOver(a))},doSmoothMouseOver:function(a){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(a){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(a){this.__disabledOver=
!1;this.disabled||this.setMouseOver(!1)}});
myt.MouseDown=new JS.Module("MouseDown",{initNode:function(a,b){null==b.mouseDown&&(b.mouseDown=!1);this.callSuper(a,b);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(a){this.mouseDown!==a&&(this.mouseDown=a,this.inited&&(a&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(a){a&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(a)},doMouseOver:function(a){this.callSuper(a);this.mouseDown&&
this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseOut:function(a){this.callSuper(a);!this.disabled&&this.mouseDown&&this.attachToDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseDown:function(a){this.disabled||this.setMouseDown(!0)},doMouseUp:function(a){this.mouseOver||this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(a))},doMouseUpInside:function(a){this.doActivated&&
this.doActivated()}});myt.MouseOverAndDown=new JS.Module("MouseOverAndDown",{include:[myt.MouseOver,myt.MouseDown]});myt.Activateable=new JS.Module("Activateable",{doActivated:function(){}});
myt.KeyActivation=new JS.Module("KeyActivation",{extend:{DEFAULT_ACTIVATION_KEYS:[13,32]},initNode:function(a,b){this.activateKeyDown=-1;null==b.activationKeys&&(b.activationKeys=myt.KeyActivation.DEFAULT_ACTIVATION_KEYS);this.callSuper(a,b);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(a){this.activationKeys=a},setRepeatKeyDown:function(a){this.repeatKeyDown=
a},__handleKeyDown:function(a){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const b=myt.KeyObservable.getKeyCodeFromEvent(a),c=this.activationKeys;let e=c.length;for(;e;)if(b===c[--e]){this.activateKeyDown===b?this.doActivationKeyDown(b,!0):(this.activateKeyDown=b,this.doActivationKeyDown(b,!1));a.value.preventDefault();break}}},__handleKeyPress:function(a){if(!this.disabled){const b=myt.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===b){const c=this.activationKeys;
let e=c.length;for(;e;)if(b===c[--e]){a.value.preventDefault();break}}}},__handleKeyUp:function(a){if(!this.disabled){const b=myt.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===b){const c=this.activationKeys;let e=c.length;for(;e;)if(b===c[--e]){this.activateKeyDown=-1;this.doActivationKeyUp(b);a.value.preventDefault();break}}}},__doDomBlur:function(a){this.disabled||(a=this.activateKeyDown,-1!==a&&(this.activateKeyDown=-1,this.doActivationKeyAborted(a)))},doActivationKeyDown:function(a,
b){},doActivationKeyUp:function(a){this.doActivated()},doActivationKeyAborted:function(a){}});
(a=>{const b=JS.Class,c=JS.Module,e=[0,0,7,"#666666"];var d=a.Button=new c("Button",{include:[a.Activateable,a.UpdateableUI,a.Disableable,a.MouseOverAndDown,a.KeyActivation],extend:{DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE:e,DEFAULT_DISABLED_OPACITY:.5},initNode:function(a,b){null==b.focusable&&(b.focusable=!0);null==b.cursor&&(b.cursor="pointer");this.callSuper(a,b)},setFocused:function(a){const b=this.focused;this.callSuper(a);this.inited&&this.focused!==b&&this.updateUI()},doActivationKeyDown:function(a,
b){b||this.updateUI()},doActivationKeyUp:function(a){this.callSuper(a);this.updateUI()},doActivationKeyAborted:function(a){this.callSuper(a);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const a=this.__restoreCursor;a&&(this.setCursor(a),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(e)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()}});d=a.SimpleButtonStyle=new c("SimpleButtonStyle",{include:[d],setActiveColor:function(a){this.activeColor!==a&&(this.activeColor=
a,this.inited&&this.updateUI())},setHoverColor:function(a){this.hoverColor!==a&&(this.hoverColor=a,this.inited&&this.updateUI())},setReadyColor:function(a){this.readyColor!==a&&(this.readyColor=a,this.inited&&this.updateUI())},drawDisabledState:function(){this.setOpacity(.5);this.setBgColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setBgColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setBgColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);
this.setBgColor(this.readyColor)}});d=a.SimpleButton=new b("SimpleButton",a.View,{include:[d],initNode:function(a,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(a,b)}});a.IconTextButtonContent=new c("IconTextButtonContent",{initNode:function(a,b){this.textY=this.iconY="middle";this.iconSpacing=2;this.inset=this.outset=0;null==b.shrinkToFit&&(b.shrinkToFit=!1);null==b.contentAlign&&(b.contentAlign="center");this.callSuper(a,b);a=this.iconView;b=this.textView;this.constrain("__updateContentPosition",
[this,"inset",this,"outset",this,"width",this,"shrinkToFit",this,"iconSpacing",this,"contentAlign",a,"width",a,"visible",b,"width",b,"visible"])},doAfterAdoption:function(){const b=this.iconY,d=this.textY;let c={name:"iconView",imageUrl:this.iconUrl};"string"===typeof b?c.valign=b:c.y=b;new a.Image(this,c);c={name:"textView",whiteSpace:"nowrap",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof d?c.valign=d:c.y=d;new a.Text(this,c);this.callSuper()},setInset:function(a){null!=a&&
"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){this.set("shrinkToFit",a,!0)},setContentAlign:function(a){this.set("contentAlign",a,!0)},setIconSpacing:function(a){this.set("iconSpacing",a,!0)},setIconUrl:function(a){this.iconUrl!==a&&(this.iconUrl=a,this.inited&&
(this.fireEvent("iconUrl",a),this.iconView.setImageUrl(a)))},setIconY:function(a){const b=this.iconView;this.iconY!==a&&(this.iconY=a,this.inited&&(this.fireEvent("iconY",a),"string"===typeof a?b.setValign(a):b.setY(a)))},setTextY:function(a){const b=this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){var b=
this.inset,f=this.outset;a=this.iconView;var d=this.textView,c=d.visible&&this.text,e=a.visible?a.width:0;e+=c&&0<e?this.iconSpacing:0;c=c?d.width:0;this.shrinkToFit?(a.setX(b),b+=e,d.setX(b),this.__updateContentPositionLoopBlock=!0,this.setWidth(b+(c+f)),this.__updateContentPositionLoopBlock=!1):("left"!==this.contentAlign&&("center"===this.contentAlign?(f=this.width-b-e-c-f,b+=f/2):b=this.width-e-c-f),a.setX(b),d.setX(b+e))}}});a.TextButtonContent=new c("TextButtonContent",{initNode:function(a,
b){this.inset=this.outset=0;null==b.shrinkToFit&&(b.shrinkToFit=!1);this.textY=b.shrinkToFit?"middle":0;this.callSuper(a,b);a=this.textView;this.constrain("__updateContentPosition",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",a,"visible",a,"width",a,"height",a,"y"])},doAfterAdoption:function(){const b=this.textY,d={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?d.valign=b:d.y=b;new a.Text(this,d);this.__origHeight=
this.height;this.callSuper()},setInset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){const b=this.textView;this.shrinkToFit!==a&&(this.shrinkToFit=a,this.inited&&(b&&b.setWhiteSpace(a?"nowrap":"normal"),this.fireEvent("shrinkToFit",a)))},
setTextY:function(a){const b=this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){a=this.inset;var b=this.outset,d=this.textView,f=d.visible&&this.text;this.__updateContentPositionLoopBlock=!0;this.shrinkToFit?(d.setX(a),this.setWidth(a+(f?d.width:0)+b),this.setHeight(this.__origHeight)):(d.setHeight("auto"),
d.setWidth(this.width-a-b),d.setX(a),this.setHeight(f?d.y+d.height:this.__origHeight));this.__updateContentPositionLoopBlock=!1}}});a.SimpleIconTextButton=new b("SimpleIconTextButton",d,{include:[a.IconTextButtonContent]});a.SimpleTextButton=new b("SimpleTextButton",d,{include:[a.TextButtonContent]})})(myt);
myt.FloatingPanel=new JS.Class("FloatingPanel",myt.View,{include:[myt.RootView],initNode:function(a,b){a=document.createElement("div");a.style.position="absolute";myt.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;b.visible=b.focusEmbellishment=!1;b.focusable=b.focusCage=!0;this.callSuper(a,b)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=
a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var b=a.value;a=b.pageX;b=b.pageY;this.containsPoint(a,b)||this.ignoreOwnerForHideOnMouseDown&&this.owner.containsPoint(a,b)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){var b=myt.global.focus;this.owner&&this.isAncestorOf(b.focusedView)?this.owner[b.lastTraversalWasForward?"getNextFocusAfterPanel":
"getPrevFocusAfterPanel"](this.panelId).focus(a):(b=this.getFirstFocusableDescendant(),b===this?this.callSuper(a):b.focus(a))},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&myt.global.focus.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),
this.setVisible(!0),this.owner.notifyPanelShown(this),a=myt.global,this.attachToDom(a.mouse,"__doMouseDown","mousedown",!0),this.attachTo(a.focus,"__doFocusChange","focused"))},hide:function(a){if(this.isShown()){const b=myt.global;this.detachFromDom(b.mouse,"__doMouseDown","mousedown",!0);this.detachFrom(b.focus,"__doFocusChange","focused");this.setVisible(!1);this.owner.notifyPanelHidden(this);a||this.restoreFocus();this.setOwner()}},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);
const b=this.panelId,c=a.getFloatingAlignForPanelId(b),e=a.getFloatingValignForPanelId(b),d=a.getPagePosition();let f=0,g=0,h=typeof c;if("string"===h)switch(f=d.x+a.getFloatingAlignOffsetForPanelId(b),c){case "outsideRight":f+=a.width;break;case "insideRight":f+=a.width-this.width;break;case "outsideLeft":f-=this.width;break;case "insideLeft":break;default:console.warn("Unexpected align value",h,c)}else"number"===h?f=c:console.warn("Unexpected align type",h,c);this.setX(f);h=typeof e;if("string"===
h)switch(g=d.y+a.getFloatingValignOffsetForPanelId(b),e){case "outsideBottom":g+=a.height;break;case "insideBottom":g+=a.height-this.height;break;case "outsideTop":g-=this.height;break;case "insideTop":break;default:console.warn("Unexpected valign value",h,e)}else"number"===h?g=e:console.warn("Unexpected valign type",h,e);this.setY(g)}});
myt.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{classesByPanelId:{},panelsByPanelId:{}},initNode:function(a,b){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,b)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,b,c){a=a||this.floatingPanelId;const e=myt.FloatingPanelAnchor;b=b||e.classesByPanelId[a];if(!b)return console.log("No panel class found for panelId:",a),null;c=c||{};c.panelId=a;return e.panelsByPanelId[a]=new b(null,c)},getFloatingPanel:function(a){return myt.FloatingPanelAnchor.panelsByPanelId[a||this.floatingPanelId]},
toggleFloatingPanel:function(a){const b=this.getFloatingPanel(a=a||this.floatingPanelId);b&&b.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&
this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;return a&&a.isShown()?a:this.callSuper?this.callSuper():null},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});
myt.ListViewItemMixin=new JS.Module("ListViewItemMixin",{setListView:function(a){this.listView=a},getMinimumWidth:function(){return 0},syncToDom:function(){}});
myt.ListViewItem=new JS.Class("ListViewItem",myt.SimpleIconTextButton,{include:[myt.ListViewItemMixin],initNode:function(a,b){null==b.height&&(b.height=24);null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#ffffff");null==b.readyColor&&(b.readyColor="#eeeeee");null==b.contentAlign&&(b.contentAlign="left");null==b.inset&&(b.inset=8);null==b.outset&&(b.outset=8);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},syncToDom:function(){this.textView.sizeViewToDom()},
getMinimumWidth:function(){var a=this.iconView;const b=this.textView,c=b.visible&&this.text;a=a.visible?a.width:0;return this.inset+(a+(c&&0<a?this.iconSpacing:0))+(c?Math.ceil(b.width):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},doActivationKeyDown:function(a,b){switch(a){case 27:this.listView.owner.hideFloatingPanel();return;
case 37:case 38:myt.global.focus.prev();break;case 39:case 40:myt.global.focus.next()}this.callSuper(a,b)}});myt.ListViewSeparator=new JS.Class("ListViewSeparator",myt.View,{include:[myt.ListViewItemMixin],initNode:function(a,b){null==b.height&&(b.height=1);null==b.bgColor&&(b.bgColor="#666666");this.callSuper(a,b)},getMinimumWidth:function(){return 0}});
myt.ListView=new JS.Class("ListView",myt.FloatingPanel,{initNode:function(a,b){this.items=[];this.maxHeight=-1;this.minWidth=0;null==b.defaultItemClass&&(b.defaultItemClass=myt.ListViewItem);null==b.overflow&&(b.overflow="autoy");null==b.bgColor&&(b.bgColor="#cccccc");null==b.boxShadow&&(b.boxShadow=myt.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE);this.callSuper(a,b);this.__updateItems();this.buildLayout()},buildLayout:function(){new myt.SpacedLayout(this.getContentView(),{axis:"y",spacing:1,collapseParent:!0})},
setMinWidth:function(a){this.minWidth=a},setDefaultItemClass:function(a){this.defaultItemClass=a},setItemConfig:function(a){this.itemConfig=a;this.inited&&this.__updateItems()},getContentView:function(){return this},setMaxHeight:function(a){this.maxHeight!==a&&(this.maxHeight=a,this.inited&&(this.fireEvent("maxHeight",a),this.setHeight(this.height)))},setHeight:function(a,b){0<=this.maxHeight&&(a=Math.min(this.maxHeight,a));this.callSuper(a,b)},doItemActivated:function(a){const b=this.owner;b&&b.doItemActivated(a)},
getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const a=this.items,b=a.length;let c,e=0;for(;b>e;++e)if(c=a[e],c.isFocusable())return c;return null},getLastFocusableItem:function(){const a=this.items;let b,c=a.length;for(;c;)if(b=a[--c],b.isFocusable())return b;return null},__updateItems:function(){var a=this.itemConfig||[],b=a.length;const c=this.items,e=c.length,d=this.defaultItemClass,f=this.getContentView(),g=f.getLayouts(),
h=g.length;let l,k,m,n=this.minWidth;for(m=h;m;)g[--m].incrementLockedCounter();const p=f.getOuterDomElement(),r=p.nextSibling,q=p.parentNode;q.removeChild(p);for(m=0;b>m;++m){var v=a[m];l=v.klass||d;v=v.attrs||{};(k=c[m])&&!k.isA(l)&&(k.destroy(),k=null);k||(k=c[m]=new l(f,{listView:this}));k&&(k.callSetters(v),k.__LAYOUT_IDX=m)}q.insertBefore(p,r);for(m=0;b>m;++m)k=c[m],k.syncToDom(),a=k.getMinimumWidth(),a>n&&(n=a);for(;e>m;++m)c[m].destroy();c.length=b;for(m=0;b>m;++m)this.updateItemWidth(c[m],
n);this.updateContentWidth(f,n);for(m=h;m;)b=g[--m],b.sortSubviews(function(a,b){return a.__LAYOUT_IDX-b.__LAYOUT_IDX}),b.decrementLockedCounter(),b.update()},updateItemWidth:function(a,b){a.setWidth(b)},updateContentWidth:function(a,b){a.setWidth(b)}});
myt.ListViewAnchor=new JS.Module("ListViewAnchor",{include:[myt.FloatingPanelAnchor],initNode:function(a,b){null==b.listViewClass&&(b.listViewClass=myt.ListView);null==b.listViewAttrs&&(b.listViewAttrs={});null==b.itemConfig&&(b.itemConfig=[]);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},setListViewClass:function(a){this.listViewClass=a},setListViewAttrs:function(a){this.listViewAttrs=a},setItemConfig:function(a){this.itemConfig=a},doItemActivated:function(a){this.hideFloatingPanel()},
getFloatingPanel:function(a){return this.callSuper(a)||this.createFloatingPanel(a,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);b&&(b.setItemConfig(this.itemConfig),this.callSuper(a))},doActivationKeyDown:function(a,b){if(27===a)this.hideFloatingPanel();else{switch(a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}this.callSuper(a,b)}},doActivationKeyUp:function(a){if(27!==a)switch(this.callSuper(a),a){case 37:case 38:this.selectLastItem();
break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getLastFocusableItem())&&a.focus()},selectFirstItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getFirstFocusableItem())&&a.focus()}});
myt.BAGMembership=new JS.Module("BAGMembership",{initNode:function(a,b){this.__bags=[];this.callSuper(a,b)},destroyAfterOrphaning:function(){this.callSuper();const a=this.__bags;let b=a.length,c;for(;b;)c=a[--b],this.removeFromBAG(c.attrName,c.groupId)},isRegisteredWithBAG:function(a){const b=this.__bags;let c=b.length;for(;c;)if(b[--c]===a)return!0;return!1},getBAG:function(a,b){return myt.BAG.getGroup(a,b)},addToBAG:function(a,b){b=this.getBAG(a,b);this.isRegisteredWithBAG(b)||(this.__bags.push(b),
b.register(this),this.isAttachedTo(this,"__updateForBAG",a)||this.attachTo(this,"__updateForBAG",a))},removeFromBAG:function(a,b){b=this.getBAG(a,b);if(this.isRegisteredWithBAG(b)){const c=this.__bags;let e=c.length,d,f=!0;for(;e;)d=c[--e],d===b?(c.splice(e,1),b.unregister(this)):d.attrName===a&&(f=!1);f&&this.detachFrom(this,"__updateForBAG",a)}},__updateForBAG:function(a){const b=a.type;a=a.value;const c=this.__bags;let e=c.length,d;for(;e;)d=c[--e],d.attrName===b&&(a?d.setTrue(this):d.setFalse(this))}});
myt.BAG=new JS.Class("BAG",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable],extend:{__groups:{},generateUniqueGroupId:function(){return myt.generateGuid()},createGroup:function(a){return new myt.BAG(a,this.generateUniqueGroupId())},getGroup:function(a,b){if(a&&b){var c=this.__groups;c=c[a]||(c[a]={});return c[b]||(c[b]=new myt.BAG(a,b))}return null},removeGroup:function(a,b){if(a&&b){var c=this.__groups;if(c&&(a=c[a]))return(c=a[b])&&delete a[b],c}return null}},initialize:function(a,
b){this.__nodes=[];this.trueNode=null;this.attrName=a;this.groupId=b},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&myt.BAG.removeGroup(this.attrName,this.groupId);this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(a){this.set("groupId",a,!0)},setAttrName:function(a){this.set("attrName",a,!0)},setTrueNode:function(a){this.set("trueNode",a,!0)},getNodes:function(){return this.__nodes},register:function(a){a&&!this.isRegistered(a)&&
(this.__nodes.push(a),a[this.attrName]&&this.setTrue(a))},unregister:function(a){if(a){const b=this.__nodes;let c=b.length;for(;c;)if(a===b[--c]){b.splice(c,1);break}this.trueNode===a&&this.setTrueNode(null);0===b.length&&this.destroy()}},setTrue:function(a){if(a&&this.trueNode!==a&&this.isRegistered(a)){const b=this.attrName,c=myt.AccessorSupport.generateSetterName(b),e=this.__nodes;let d=e.length,f;for(this.setTrueNode(a);d;)if(f=e[--d],a===f){if(!f[b])f[c](!0)}else if(f[b])f[c](!1)}},setFalse:function(a){if(a&&
this.trueNode===a){const b=myt.AccessorSupport.generateSetterName(this.attrName);a[b](!1);this.setTrueNode(null)}},isRegistered:function(a){const b=this.__nodes;let c=b.length;for(;c;)if(a===b[--c])return!0;return!1}});
(a=>{const b=a=>{const b=a.label||"";a.setText('<i class="far fa-'+(!0===a.selected?"dot-":"")+'circle"></i>'+(0<b.length?" ":"")+b)};a.Radio=new JS.Class("Radio",a.Text,{include:[a.SimpleButtonStyle,a.BAGMembership],initNode:function(c,e){null==e.selected&&(e.selected=!1);null==e.groupId&&(e.groupId=a.generateGuid());null==e.focusEmbellishment&&(e.focusEmbellishment=!1);null==e.activeColor&&(e.activeColor="inherits");null==e.hoverColor&&(e.hoverColor="inherits");null==e.readyColor&&(e.readyColor=
"inherits");const d=e.value;delete e.value;this.callSuper(c,e);this.setValue(d);this.selected&&(c=this.getBAG("selected",this.groupId))&&c.setTrue(this);a.FontAwesome.registerForNotification(this);b(this)},setOptionValue:function(a){this.set("optionValue",a,!0)},setValue:function(a){if(this.inited){{const b=this.getBAG("selected",this.groupId);if(b){const d=b.getNodes();let f=d.length,c;for(;f;)if(c=d[--f],c.optionValue===a){b.setTrue(c);break}}}}},getValue:function(){var a=this.getBAG("selected",
this.groupId);return(a=a?a.trueNode:null)?a.optionValue:null},setSelected:function(a){this.selected!==a&&(this.selected=a,this.inited&&(this.fireEvent("selected",a),b(this)))},setGroupId:function(a){if(this.groupId!==a){const b=this.groupId;this.groupId=a;b&&this.removeFromBAG("selected",b);a&&this.addToBAG("selected",a);this.inited&&this.fireEvent("groupId",a)}},setLabel:function(a){this.label!==a&&(this.set("label",a,!0),this.inited&&b(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},
drawDisabledState:function(){this.setOpacity(a.Button.DEFAULT_DISABLED_OPACITY);this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
(a=>{const b=JS.Module,c=a.global.keys,e=a.Selectable=new b("Selectable",{setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return this.selected?!0:!1},canSelect:a=>!0,canDeselect:a=>!0}),d=a.SelectionManager=new b("SelectionManager",{extend:{isAddMode:()=>c.isShiftKeyDown(),isToggleMode:()=>c.isAcceleratorKeyDown()},initNode:function(a,b){this.__selected={};this.__lastSelectedItem=
null;b.selectedCount=0;null==b.itemSelectionId&&(b.itemSelectionId="id");null==b.maxSelected&&(b.maxSelected=-1);this.callSuper(a,b)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>d.isAddMode(),isToggleMode:()=>d.isToggleMode(),getSelected:function(){const a=[],b=this.__selected;let d;for(d in b)a.push(b[d]);
return a},select:function(a){a&&!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const b=this.maxSelected,d=this.selectedCount;if(0===b)return!1;if(1===b){if(0<d&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<
b&&d>=b)return!1;return a.canSelect(this)},selectAll:function(){const a=this.getSelectableItems();let b=a.length;for(;b;)this.select(a[--b])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},
canDeselectItem:function(a){return a.canDeselect(this)},deselectAll:function(){const a=this.__selected;let b;for(b in a)this.deselect(a[b])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],b=this.getSubviews();let d=b.length,c;for(;d;)c=b[--d],c.isA(e)&&a.push(c);return a},getSelectableItems:function(){const a=this.getManagedItems();let b=a.length;for(;b;)a[--b].canSelect(this)||a.splice(b,
1);return a},getSelectableItem:function(a){const b=this.getSelectableItems(),d=this.itemSelectionId;let c=b.length,f;for(;c;)if(f=b[--c],f[d]===a)return f;return null}})})(myt);
(a=>{a.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[a.SelectionManager],extend:{DEFAULT_SPACING:1},initNode:function(b,c){const e=this;e._tabSliders=[];c.defaultPlacement="container";null==c.spacing&&(c.spacing=a.TabSliderContainer.DEFAULT_SPACING);null==c.overflow&&(c.overflow="autoy");null==c.itemSelectionId&&(c.itemSelectionId="tabId");null==c.maxSelected&&(c.maxSelected=1);e.updateLayout=a.debounce(e.updateLayout);e.callSuper(b,c);const d=a.TabSlider;b=new a.View(e,{name:"container",
ignorePlacement:!0,percentOfParentWidth:100},[a.SizeToParent,{subnodeAdded:function(a){this.callSuper(a);a instanceof d&&(e._tabSliders.push(a),e.attachTo(a,"updateLayout","selected"))},subnodeRemoved:function(a){if(a instanceof d){const b=e._tabSliders;let d=b.length;for(;d;)if(b[--d]===a){e.detachFrom(a,"updateLayout","selected");b.splice(d,1);break}}this.callSuper(a)}}]);new a.SpacedLayout(b,{name:"layout",axis:"y",spacing:e.spacing,collapseParent:!0});e.attachTo(e,"updateLayout","height")},setSpacing:function(a){this.spacing!==
a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},updateLayout:function(a){a=this._tabSliders;for(var b=a.length,e,d=0,f=0,g=0;b;)e=a[--b],e.visible&&(++g,e.selected?(d+=e.getMinimumExpandedHeight(),f+=e.getPreferredExpandedHeight()):(e=e.getCollapsedHeight(),d+=e,f+=e));b=this.container.layout;e=b.inset+b.outset+b.spacing*(g-1);f+=e;b=this.height;d=d+e>b;g=f>b;f-=b;let h,l,k;for(b=a.length;b;)e=a[--b],e.visible&&(e.selected?(d?k=e.getMinimumExpandedHeight():g?(h=e.getPreferredExpandedHeight(),
l=e.getMinimumExpandedHeight(),k=h-f,l>k?(f-=h-l,k=l):f=0):k=e.getPreferredExpandedHeight(),e.expand(k)):e.collapse())}})})(myt);
(a=>{const b=a.View,c=a.SizeToParent,e=a.TabSlider=new JS.Class("TabSlider",b,{include:[a.Selectable,a.Disableable,c],extend:{DEFAULT_BUTTON_HEIGHT:30,DEFAULT_MINIMUM_CONTAINER_HEIGHT:100,DEFAULT_FILL_COLOR_SELECTED:"#666666",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#cccccc",DEFAULT_FILL_COLOR_READY:"#ffffff",DEFAULT_ANIMATION_MILLIS:500},initNode:function(d,f){const g=this;let h;f.defaultPlacement="wrapper.container";f.percentOfParentWidth=100;f.expansionState="collapsed";null==
f.tabId&&(f.tabId=a.generateGuid());null==f.tabContainer&&(f.tabContainer=d);null==f.selected&&(f.selected=!1);null==f.buttonClass&&(f.buttonClass=a.SimpleButton);null==f.zIndex&&(f.zIndex=0);null==f.buttonHeight&&(f.buttonHeight=e.DEFAULT_BUTTON_HEIGHT);null==f.fillColorSelected&&(f.fillColorSelected=e.DEFAULT_FILL_COLOR_SELECTED);null==f.fillColorHover&&(f.fillColorHover=e.DEFAULT_FILL_COLOR_HOVER);null==f.fillColorActive&&(f.fillColorActive=e.DEFAULT_FILL_COLOR_ACTIVE);null==f.fillColorReady&&
(f.fillColorReady=e.DEFAULT_FILL_COLOR_READY);null==f.minContainerHeight&&(f.minContainerHeight=e.DEFAULT_MINIMUM_CONTAINER_HEIGHT);f.selected&&(h=!0,delete f.selected);g.callSuper(d,f);new g.buttonClass(g,{name:"button",ignorePlacement:!0,zIndex:1,height:g.buttonHeight,focusEmbellishment:!0,groupId:g.parent.parent.groupId,percentOfParentWidth:100,hoverColor:g.fillColorHover,activeColor:g.fillColorActive,readyColor:g.fillColorReady},[c,{doActivated:function(){const a=g.tabContainer;g.isSelected()&&
1!==a.maxSelected?a.deselect(g):a.select(g)},updateUI:function(){this.callSuper();g.selected&&-1!==g.tabContainer.maxSelected&&this.setBgColor(g.fillColorSelected);g.notifyButtonRedraw()}}]);d=new b(g,{name:"wrapper",ignorePlacement:!0,y:g.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[c,{setHeight:function(a,b){this.callSuper(Math.round(a),b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.container.setWidth(a)}}]);const l=new b(d,{name:"container"});
new a.SizeToChildren(l,{axis:"y"});g.constrain("__updateHeight",[d,"y",d,"height"]);h&&g.tabContainer.select(g);!0===f.disabled&&g.setDisabled(!0);g.setHeight(g.getCollapsedHeight())},setSelected:function(a){this.callSuper(a);this.button&&this.button.updateUI()},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},setMinContainerHeight:function(a){this.minContainerHeight=a},setButtonClass:function(a){this.buttonClass=a},setFillColorSelected:function(a){this.fillColorSelected=
a},setFillColorHover:function(a){this.fillColorHover=a},setFillColorActive:function(a){this.fillColorActive=a},setFillColorReady:function(a){this.fillColorReady=a},setButtonHeight:function(a){this.buttonHeight!==a&&(this.buttonHeight=a,this.button&&(this.button.setHeight(a),this.wrapper.setY(a)))},setExpansionState:function(a){if(this.expansionState!==a){this.expansionState=a;this.inited&&this.fireEvent("expansionState",a);const b=this.wrapper;b&&("expanded"===a?(b.setMaskFocus(!1),b.setOverflow("auto")):
"expanding"===a?b.setVisible(!0):"collapsed"===a?b.setVisible(!1):"collapsing"===a&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){const a=this.button;a&&a.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(a){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(a){const b=this,d=b.wrapper;a-=b.getCollapsedHeight();b.setExpansionState("expanding");d.stopActiveAnimators();d.height!==a?d.animate({attribute:"height",to:a,duration:e.DEFAULT_ANIMATION_MILLIS}).next(a=>
{b.setExpansionState("expanded")}):b.setExpansionState("expanded")},collapse:function(){const a=this,b=a.wrapper;a.setExpansionState("collapsing");b.stopActiveAnimators();0!==b.height?b.animate({attribute:"height",to:0,duration:e.DEFAULT_ANIMATION_MILLIS}).next(b=>{a.setExpansionState("collapsed")}):a.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},
getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}})})(myt);
myt.TextTabSlider=new JS.Class("TextTabSlider",myt.TabSlider,{extend:{DEFAULT_LABEL_TEXT_COLOR_CHECKED:"#ffffff",DEFAULT_LABEL_TEXT_COLOR:"#333333"},initNode:function(a,b){const c=myt.TextTabSlider;null==b.labelTextColorChecked&&(b.labelTextColorChecked=c.DEFAULT_LABEL_TEXT_COLOR_CHECKED);null==b.labelTextColor&&(b.labelTextColor=c.DEFAULT_LABEL_TEXT_COLOR);this.callSuper(a,b);new myt.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",
valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(a){this.labelTextColorChecked=a},setLabelTextColor:function(a){this.labelTextColor=a},setText:function(a){if(this.text!==a){this.text=a;const b=this.button;b&&b.label&&b.label.setText(a)}},notifyButtonRedraw:function(){const a=this.button.label;a&&a.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});
myt.TabContainer=new JS.Module("TabContainer",{include:[myt.SelectionManager],extend:{DEFAULT_SPACING:1,DEFAULT_INSET:0},initNode:function(a,b){this.__tabs=[];const c=myt.TabContainer;null==b.spacing&&(b.spacing=c.DEFAULT_SPACING);null==b.inset&&(b.inset=c.DEFAULT_INSET);null==b.location&&(b.location="top");null==b.itemSelectionId&&(b.itemSelectionId="tabId");null==b.maxSelected&&(b.maxSelected=1);this.callSuper(a,b);let e;switch(this.location){case "top":case "bottom":e="x";break;case "left":case "right":e=
"y"}new myt.SpacedLayout(this,{name:"layout",axis:e,spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(myt.TabMixin))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(myt.TabMixin)){const b=this.__tabs;let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);break}}this.callSuper(a)}});
myt.TabMixin=new JS.Module("TabMixin",{include:[myt.Selectable],initNode:function(a,b){null==b.tabId&&(b.tabId=myt.generateGuid());null==b.tabContainer&&(b.tabContainer=a);let c;b.selected&&(c=!0,delete b.selected);this.callSuper(a,b);c&&this.tabContainer.select(this)},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},doActivated:function(){this.selected||this.tabContainer.select(this)}});
(a=>{const b=a=>{const b=null!=a.cornerRadius?a.cornerRadius:c.DEFAULT_RADIUS;switch(a.tabContainer.location){case "top":a.setRoundedTopLeftCorner(b);a.setRoundedTopRightCorner(b);break;case "bottom":a.setRoundedBottomLeftCorner(b);a.setRoundedBottomRightCorner(b);break;case "left":a.setRoundedTopLeftCorner(b);a.setRoundedBottomLeftCorner(b);break;case "right":a.setRoundedTopRightCorner(b),a.setRoundedBottomRightCorner(b)}},c=a.Tab=new JS.Class("Tab",a.SimpleIconTextButton,{include:[a.TabMixin],extend:{DEFAULT_HEIGHT:24,
DEFAULT_INSET:8,DEFAULT_OUTSET:8,DEFAULT_FILL_COLOR_SELECTED:"#ffffff",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#aaaaaa",DEFAULT_FILL_COLOR_READY:"#cccccc",DEFAULT_LABEL_TEXT_COLOR_SELECTED:"#333333",DEFAULT_RADIUS:6},initNode:function(a,d){null==d.inset&&(d.inset=c.DEFAULT_INSET);null==d.outset&&(d.outset=c.DEFAULT_OUTSET);null==d.selectedColor&&(d.selectedColor=c.DEFAULT_FILL_COLOR_SELECTED);null==d.hoverColor&&(d.hoverColor=c.DEFAULT_FILL_COLOR_HOVER);null==d.activeColor&&
(d.activeColor=c.DEFAULT_FILL_COLOR_ACTIVE);null==d.readyColor&&(d.readyColor=c.DEFAULT_FILL_COLOR_READY);null==d.labelTextSelectedColor&&(d.labelTextSelectedColor=c.DEFAULT_LABEL_TEXT_COLOR_SELECTED);null==d.height&&(d.height=c.DEFAULT_HEIGHT);null==d.focusEmbellishment&&(d.focusEmbellishment=!1);this.callSuper(a,d);b(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setSelectedColor:function(a){this.selectedColor=a},setCornerRadius:function(a){this.cornerRadius=
a;this.inited&&b(this)},setLabelTextColor:function(a){this.labelTextColor=a},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)}})})(myt);
myt.InputObservable=new JS.Module("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:{source:null,type:null,value:null}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.InputObservable)||this.callSuper(a,b,c)}});
myt.NativeInputWrapper=new JS.Class("NativeInputWrapper",myt.View,{include:[myt.Disableable,myt.InputObservable],initNode:function(a,b){null==b.tagName&&(b.tagName="input");null==b.focusable&&(b.focusable=!0);this.callSuper(a,b);this.addDomClass("mytNativeInput")},createOurDomElement:function(a){a=this.callSuper(a);let b;this.inputType&&(b=Array.isArray(a)?a[1]:a,b.type=this.inputType);return a},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==
a&&(this.value=a,this.setDomValue(a),this.inited&&this.fireEvent("value",a))},getDomValue:function(){return this.getInnerDomElement().value},setDomValue:function(a){const b=this.getInnerDomElement();b.value!==a&&(b.value=a)}});
myt.DragDropObservable=new JS.Module("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:{source:null,type:null,value:null}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.DragDropObservable,!0)||this.callSuper(a,b,c)}});
myt.DragDropSupport=new JS.Module("DragDropSupport",{include:[myt.DragDropObservable],initNode:function(a,b){this.callSuper(a,b);this.disabled||this.setupDragListeners()},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a),this.inited&&(a?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){this.attachToDom(this,"doDragOver","dragover",!1);this.attachToDom(this,"doDragEnter","dragenter",!1);this.attachToDom(this,"doDragLeave",
"dragleave",!1);this.attachToDom(this,"doDrop","drop",!1)},teardownDragListeners:function(){this.detachFromDom(this,"doDragOver","dragover",!1);this.detachFromDom(this,"doDragEnter","dragenter",!1);this.detachFromDom(this,"doDragLeave","dragleave",!1);this.detachFromDom(this,"doDrop","drop",!1)},doDragOver:function(a){},doDragEnter:function(a){},doDragLeave:function(a){},doDrop:function(a){this.handleFiles(a.value.dataTransfer.files,a)},handleFiles:function(a,b){if(void 0!==a){let c=a.length,e;for(;c;)(e=
this.filterFiles(a[--c]))&&this.handleDroppedFile(e,b)}else myt.dumpStack("Browser doesn't support the File API")},filterFiles:function(a){return a},handleDroppedFile:function(a,b){}});
myt.Form=new JS.Module("Form",{initNode:function(a,b){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(a,b);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(a){this.errorMessages=a},getFullId:function(){const a=[this.id];let b=this.form;for(;b&&b.id;)a.unshift(b.id),b=b.form;return a.join(".")},setId:function(a){if(this.id!==a){const b=this.id;this.id=
a;(a=this.form)&&this.inited&&(a.removeSubForm(b),a.addSubForm(this))}},setForm:function(a){if(this.form!==a){const b=this.form;this.form=a;b&&b.removeSubForm(this.id);a&&this.inited&&a.addSubForm(this)}},setIsValid:function(a){this.isValid=a;this.inited&&this.fireEvent("isValid",a);const b=this.form;b&&!this._lockCascade&&(a?b.verifyValidState(this):b.notifySubFormInvalid())},setIsChanged:function(a){if(this.isChanged!==a){this.isChanged=a;this.inited&&this.fireEvent("isChanged",a);const b=this.form;
b&&!this._lockCascade&&(a?b.notifySubFormChanged():b.verifyChangedState(this))}},setValidators:function(a){let b=a.length,c;for(;b;)c=a[--b],"string"===typeof c&&((a[b]=c=myt.global.validators.getValidator(c))||a.splice(b,1));this.__v=a},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(myt.FormElement))return this.value;const a={},b=this.__sf;let c;for(c in b)a[c]=b[c].getValue();return a},setValue:function(a){this.callSuper&&this.callSuper(a);if("object"===typeof a&&!this.isA(myt.FormElement)){let b,
c;for(c in a)(b=this.getSubForm(c))?a[c]=b.setValue(a[c]):console.warn("ID in setValue for non-existant subform",c)}this.form&&this.form.notifyValueChanged(this);return a},getDefaultValue:function(){const a={};let b=this.__sf,c;for(c in b)a[c]=b[c].getDefaultValue();return a},setDefaultValue:function(a){if("object"===typeof a){let b,c;for(c in a)(b=this.getSubForm(c))?a[c]=b.setDefaultValue(a[c]):console.warn("ID in setDefaultValue for non-existant subform",c)}return a},getRollbackValue:function(){const a=
{},b=this.__sf;let c;for(c in b)a[c]=b[c].getRollbackValue();return a},setRollbackValue:function(a){if("object"===typeof a){let b,c;for(c in a)(b=this.getSubForm(c))?a[c]=b.setRollbackValue(a[c]):console.warn("ID in setRollbackValue for non-existant subform",c)}return a},addAccelerator:function(a,b){this.__acc[a]=b},removeAccelerator:function(a){delete this.__acc[a]},invokeAccelerator:function(a,b){(a=this.__acc[a])&&a.call(this,void 0===b?null:b)},addValidator:function(a){a&&this.__v.push(a)},removeValidator:function(a){if(a){const b=
this.__v;let c=b.length,e;for(;c;)if(e=b[--c],e.id===a)return b.splice(c,1),e}return null},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(a){const b=a.id;null!=this.getSubForm(b)?console.warn("ID in use for subform, add aborted.",b,a):(a.setForm(this),this.__sf[b]=a,a.isChanged&&this.notifySubFormChanged(),a.isValid||this.notifySubFormInvalid())},removeSubForm:function(a){const b=this.getSubForm(a);b&&(b.setForm(null),delete this.__sf[a],this.verifyChangedState(),
this.verifyValidState());return b},getSubForm:function(a){return this.__sf[a]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(a){a&&this.doValidation();const b=myt.FormElement,c=[];(function f(a){if(a.isA(b))a.isValid||c.push(a.getFullId());else{a=a.getSubForms();for(let b in a)f(a[b])}})(this);return c},getAllErrorMessages:function(){const a=this.__sf;let b=(this.errorMessages||[]).concat(),c;for(c in a)b=b.concat(a[c].getAllErrorMessages());return b},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(a){const b=this.__sf;let c=!0,e,d;for(d in b)e=b[d],e!==a&&(c=e.isValid&&c);return this.__applyValidation(c)},doValidation:function(){const a=this.__sf;let b=!0,c;for(c in a)b=a[c].doValidation()&&b;this._lockCascade=!0;b=this.__applyValidation(b);this._lockCascade=!1;return b},__applyValidation:function(a){const b=this.__v,c=b.length,e=[];for(let d=0;c>d;)a=b[d++].isFormValid(this,null,e)&&a;this.setErrorMessages(e);this.setIsValid(a);return a},notifyValueChanged:function(a){this.form&&
this.form.notifyValueChanged(a)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(a){const b=this.__sf;let c=!1,e,d;for(d in b)e=b[d],e!==a&&(c=e.isChanged||c);this.setIsChanged(c);return c},setup:function(a,b,c){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==a&&(a={});null==b&&(b={});null==c&&(c={});const e=this.__sf;for(let d in e)e[d].setup(a[d],b[d],c[d])},resetForm:function(){this._lockCascade=
!0;const a=this.__sf;for(let b in a)a[b].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const a=this.__sf;for(let b in a)a[b].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const a={},b=this.__sf;let c,e;for(e in b)c=b[e],c.isChanged&&(a[e]=c.getChangedValue());return a}});
myt.RootForm=new JS.Module("RootForm",{include:[myt.Form],initNode:function(a,b){this.callSuper(a,b);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:function(a){},doInvalidSubmit:function(){},doCancel:function(){this.rollbackForm();this.doValidation()}});
myt.FormElement=new JS.Module("FormElement",{include:[myt.Form],initNode:function(a,b){this.__vp=[];this.callSuper(a,b)},getValue:function(){return this.__processValue(this.callSuper?this.callSuper():this.value,myt.ValueProcessor.CURRENT_ATTR)},setValue:function(a){void 0===a&&(a=this.getRollbackValue());this.value!==a&&(this.callSuper(a),this.verifyChangedState());return a},getDefaultValue:function(){return this.__processValue(this.defaultValue,myt.ValueProcessor.DEFAULT_ATTR)},setDefaultValue:function(a){this.defaultValue!==
a&&(this.defaultValue=a,this.inited&&this.fireEvent("defaultValue",a),this.verifyChangedState());return a},getRollbackValue:function(){return this.__processValue(this.rollbackValue,myt.ValueProcessor.ROLLBACK_ATTR)},setRollbackValue:function(a){void 0===a&&(a=this.getDefaultValue());this.rollbackValue!==a&&(this.rollbackValue=a,this.inited&&this.fireEvent("rollbackValue",a),this.verifyChangedState());return a},setValueProcessors:function(a){let b=a.length,c;for(;b;)c=a[--b],"string"===typeof c&&((a[b]=
c=myt.global.valueProcessors.getValueProcessor(c))||a.splice(b,1));this.__vp=a},addValueProcessor:function(a){this.__vp.push(a)},removeValueProcessor:function(a){if(a){const b=this.__vp;let c=b.length,e;for(;c;)if(e=b[--c],e.id===a)return b.splice(c,1),e}return null},__processValue:function(a,b){const c=this.__vp,e=c.length;let d,f=0;for(;e>f;)d=c[f++],d[b]&&(a=d.process(a));return a},addSubForm:function(a){myt.dumpStack("addSubForm not supported on form elements.")},getSubForm:function(a){myt.dumpStack("getSubForm not supported on form elements.");
return null},removeSubForm:function(a){myt.dumpStack("removeSubForm not supported on form elements.");return null},verifyChangedState:function(a){a=this.getValue()!==this.getRollbackValue();this.setIsChanged(a);return a},setup:function(a,b,c){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(a);this.setRollbackValue(b);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(c)},resetForm:function(){this._lockCascade=
!0;const a=this.getDefaultValue();this.setRollbackValue(a);this.setValue(a);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}});
myt.Uploader=new JS.Class("Uploader",myt.View,{include:[myt.DragDropSupport,myt.Disableable,myt.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",MIME_TYPES_BY_EXTENSION:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},readFile:function(a,b){if(void 0!==FileReader){const c=new FileReader;c.onload=b;c.readAsDataURL(a)}},isSameFile:function(a,b){return null==a||null==b?!1:a.name===b.name&&a.type===b.type&&a.size===b.size},createFile:function(a){const b=(new myt.URI(a)).file;
return{name:b,serverPath:a,size:-1,type:this.MIME_TYPES_BY_EXTENSION[myt.getExtension(b)]}}},initNode:function(a,b){const c=this;c.files=[];null==b.requestFileParam&&(b.requestFileParam="file");null==b.maxFiles&&(b.maxFiles=-1);c.callSuper(a,b);new myt.NativeInputWrapper(c,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:c.disabled,overflow:"hidden"},[myt.SizeToParent,{initNode:function(a,b){this.inputType="file";this.callSuper(a,b);this.attachToDom(this,"_handleInput",
"change");this.domElement.multiple=1<c.maxFiles},_handleInput:function(a){c.handleFiles(this.domElement.files,a)}}])},setValue:function(a){this.clearFiles();if(a){Array.isArray(a)||(a=[a]);const b=a.length;let c=0;for(;b>c;++c)this.addFile(myt.Uploader.createFile(a[c]))}return this.callSuper?this.callSuper(a):a},getValue:function(){return this.value},setDisabled:function(a){this.callSuper(a);this.fileInput&&this.fileInput.setDisabled(a)},setMaxFiles:function(a){this.maxFiles!==a&&(this.maxFiles=a,
this.inited&&this.fireEvent("maxFiles",a),this.fileInput&&(this.fileInput.domElement.multiple=1<a))},setUploadUrl:function(a){this.set("uploadUrl",a,!0)},setRequestFileParam:function(a){this.set("requestFileParam",a,!0)},bringSubviewToFront:function(a){a===this.fileInput?this.callSuper(a):this.sendSubviewBehind(a,this.fileInput)},subviewAdded:function(a){this.callSuper(a);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(a,b){this.addFile(a)},filterFiles:function(a){return 0<=
this.maxFiles&&this.files.length>=this.maxFiles?null:a},uploadFiles:function(a,b){a=a||this.uploadUrl;const c=this.files;let e=c.length;for(;e;)this.uploadFile(c[--e],a,b)},uploadFile:function(a,b,c){const e=this,d=new FormData;d.append(c||e.requestFileParam,a,a.name);myt.doFetch(b||e.uploadUrl,{method:"POST",body:d},!1,b=>{e.handleUploadSuccess(a,b)},b=>{e.handleUploadFailure(a,b)})},handleUploadSuccess:function(a,b){a[myt.Uploader.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(a,b);this.updateValueFromFiles()},
handleUploadFailure:(a,b)=>{myt.dumpStack("Upload failure: "+b.status+" : "+b.message)},parseServerPathFromResponse:(a,b)=>null,addFile:function(a){this.files.push(a);this.updateValueFromFiles();this.fireEvent("addFile",a)},removeFile:function(a){const b=this.files;let c=b.length;for(;c;)if(myt.Uploader.isSameFile(b[--c],a)){b.splice(c,1);this.updateValueFromFiles();this.fireEvent("removeFile",a);break}},updateValueFromFiles:function(){const a=[];var b=this.files;let c=b.length,e;for(;c;)(e=b[--c][myt.Uploader.FILE_ATTR_SERVER_PATH])&&
a.push(e);b=a.length;this.value=1===b?a[0]:0===b?void 0:a;this.value||(this.fileInput.domElement.value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const a=this.files;let b=a.length;for(;b;)this.removeFile(a[--b])}});
myt.ImageUploader=new JS.Class("ImageUploader",myt.Uploader,{extend:{isImageFile:function(a){return/image/i.test(a.type)}},initNode:function(a,b){b.maxFiles=1;this.callSuper(a,b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.updateImageSize()},setHeight:function(a,b){this.callSuper(a,b);this.inited&&this.updateImageSize()},filterFiles:function(a){if(!myt.ImageUploader.isImageFile(a))return null;for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(a)},addFile:function(a){const b=
this;b.callSuper(a);const c=b.image=new myt.Image(b,{useNaturalSize:!1,align:"center",valign:"middle"});c.file=a;if(-1===a.size){const e=new Image;e.onload=function(){a.width=this.width;a.height=this.height;c&&!c.destroyed&&b.updateImage(a,c,this.src)};e.src=a.serverPath}else void 0!==FileReader&&myt.ImageUploader.isImageFile(a)&&myt.Uploader.readFile(a,function(e){const d=new Image;d.onload=function(){a.width=this.width;a.height=this.height;c&&!c.destroyed&&b.updateImage(a,c,this.src)};d.src=e.target.result})},
scaleToFit:function(a,b,c,e){return c/e>a/b?[a,e*a/c]:[c*b/e,b]},removeFile:function(a){this.callSuper(a);const b=this.getSubviews();let c=b.length,e;for(;c;)if(e=b[--c],myt.Uploader.isSameFile(e.file,a)){e.destroy();break}},handleDroppedFile:function(a,b){this.callSuper(a,b);this.uploadFile(a,this.uploadUrl)},updateImage:function(a,b,c){this.nativeWidth=a.width;this.nativeHeight=a.height;this.updateImageSize();b.setImageUrl(c)},updateImageSize:function(){const a=this.image;if(a&&!a.destroyed){var b=
this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const c=Math.round(b[0]);b=Math.round(b[1]);a.setImageSize(c+"px "+b+"px");a.setWidth(c);a.setHeight(b)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}});
(function(a,b){function c(a,d,c){const f=[];let e=0,g,h,k;for(;e<a.length;)(g=a[e++])?(h=q(g),k=.5>h.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",k+=q.equals(d,g)?" sp-thumb-active":"",f.push('<span title="'+h.toHexString()+'" data-color="'+h.toHexString()+'" class="'+k+'"><span class="sp-thumb-inner" style="background-color:'+h.toHexString()+';"></span></span>')):f.push(b("<div />").append(b('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",
c.noColorSelectedText)).html());return"<div class='sp-cf'>"+f.join("")+"</div>"}function e(f,e){function g(){if(A.palette){Z=A.palette.slice(0);S=Array.isArray(Z[0])?Z:[Z];aa={};for(let a=0;a<S.length;a++)for(let b=0;b<S[a].length;b++){const d=q(S[a][b]).toHexString();aa[d]=!0}}B.toggleClass("sp-clear-enabled",M);K()}function k(){if(y&&a.localStorage)try{G=a.localStorage[y].split(";")}catch(ra){}}function m(d){if(w){d=q(d).toHexString();if(!aa[d]&&-1===b.inArray(d,G))for(G.push(d);G.length>pa;)G.shift();
if(y&&a.localStorage)try{a.localStorage[y]=G.join(";")}catch(sa){}}}function n(){const a=[];for(let b=0;b<G.length;b++){const d=q(G[b]).toHexString();aa[d]||a.push(G[b])}return a.reverse().slice(0,A.maxSelectionSize)}function p(){const a=E(),d=b.map(S,function(b,d){return c(b,a,A)});k();if(G){const b=n(),f=b.length;for(let e=0;f>e;e+=ka)d.push(c(b.slice(e,e+ka),a,A))}la.html(d.join(""))}function r(){(0>=I||0>=R||0>=ba)&&K();B.addClass("sp-dragging");L=null;C.trigger("dragstart.spectrum",[E()])}function x(){B.removeClass("sp-dragging");
C.trigger("dragstop.spectrum",[E()])}function D(){var a=N.val();null!==a&&""!==a||!M?(a=q(a),a.isValid()?v(a):N.addClass("sp-validation-error")):v(null)}function v(a){q.equals(a,E())||(!a&&M?O=!0:(O=!1,a=q(a),a=a.toHsv(),T=a.h%360/360,U=a.s,V=a.v));u()}function E(){return M&&O?null:q.fromRatio({h:T,s:U,v:V})}function u(){N.removeClass("sp-validation-error");P();var a=q.fromRatio({h:T,s:1,v:1});da.css("background-color",a.toHexString());a=(a=E())||!M?a.toHexString():"";N.val(a);p();a=ma;const b=E();
na.html(c([a,b],b,A))}function P(){if(M&&O)ea.hide(),fa.hide();else{ea.show();fa.show();let a=U*R,b=I-V*I;a=Math.max(-Q,Math.min(R-Q,a-Q));b=Math.max(-Q,Math.min(I-Q,b-Q));fa.css({top:b+"px",left:a+"px"});ea.css({top:T*ba-oa+"px"})}}function K(){R=da.width();I=da.height();Q=fa.height();ia.width();ba=ia.height();oa=ea.height();P();p();C.trigger("reflow.spectrum")}const A=Object.assign({},h,e),w=A.showSelectionPalette,y=A.localStorageKey,J=A.color;e=f.ownerDocument;const C=b(f),B=b("<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'/></div><div class='sp-initial sp-thumb sp-cf'></div></div></div>",
e);B.find(".sp-picker-container");const da=B.find(".sp-color"),fa=B.find(".sp-dragger"),ia=B.find(".sp-hue"),ea=B.find(".sp-slider"),N=B.find(".sp-input"),la=B.find(".sp-palette"),na=B.find(".sp-initial"),ja=B.find(".sp-clear"),M=A.allowEmpty;f=A.dialog;let R=0,I=0,Q=0,ba=0,oa=0,T=0,U=0,V=0,Z=[],S=[],aa={},G=A.selectionPalette.slice(0),ka=A.selectionWrapSize,pa=A.maxSelectionSize,L=null,O=!J,ma=!1;(function(){function a(a){v(b(a.target).closest(".sp-thumb-el").data("color"));u();return!1}g();M||ja.hide();
C.after(B).hide();k();N.change(D);N.bind("paste",function(){setTimeout(D,1)});N.keydown(function(a){13==a.keyCode&&D()});ja.attr("title",A.clearText);ja.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();O=!0;u()});d(ia,function(a,b){T=parseFloat(b/ba);O=!1;u()},r,x);d(da,function(a,b,d){d.shiftKey?L||(L=Math.abs(a-U*R)>Math.abs(b-(I-V*I))?"x":"y"):L=null;d=!L||"y"===L;L&&"x"!==L||(U=parseFloat(a/R));d&&(V=parseFloat((I-b)/I));O=!1;u()},r,x);J&&(v(J),m(J));K();ma=E();u();la.delegate(".sp-thumb-el",
"click.spectrum",a);na.delegate(".sp-thumb-el:nth-child(1)","click.spectrum",a)})();const W={reflow:K,option:function(a,b){if(null==a)return Object.assign({},A);if(null==b)return A[a];A[a]=b;g()},set:v,addColorToSelectionPalette:m,get:E,destroy:function(){C.show();B.remove();l[W.id]=null},container:B};W.id=l.push(W)-1;f._spectrumCallback(W);return W}function d(a,d,c,f){function e(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function g(b){k&&d.apply(a,
[Math.max(0,Math.min(b.pageX-m.left,n)),Math.max(0,Math.min(b.pageY-m.top,l)),b])}d=d||function(){};c=c||function(){};f=f||function(){};const h=a.ownerDocument||document;let k=!1,m={},l=0,n=0;const p={};p.selectstart=e;p.dragstart=e;p.mousemove=g;p.mouseup=function(){k&&(b(h).unbind(p),b(h.body).removeClass("sp-dragging"),f.apply(a,arguments));k=!1};b(a).bind("mousedown",function(d){(d.which?3==d.which:2==d.button)||k||!1===c.apply(a,arguments)||(k=!0,l=b(a).height(),n=b(a).width(),m=b(a).offset(),
b(h).bind(p),b(h.body).addClass("sp-dragging"),g(d),e(d))})}function f(a,b){var d="string"==typeof a;d&&-1!=a.indexOf(".")&&1===parseFloat(a)&&(a="100%");d=d&&-1!=a.indexOf("%");a=p(b,r(0,parseFloat(a)));d&&(a=parseInt(a*b,10)/100);return 1E-6>m.abs(a-b)?1:a%b/parseFloat(b)}function g(a){return 1>=a?100*a+"%":a}const h={color:!1,allowEmpty:!0,showSelectionPalette:!0,localStorageKey:!1,selectionWrapSize:8,maxSelectionSize:56,clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",
palette:[],selectionPalette:[]},l=[];b.fn.spectrum=function(a,...d){if("string"==typeof a){let c=this;this.each(function(){const f=l[b(this).data("spectrum.id")];if(f){const e=f[a];if(!e)throw Error("Spectrum: no such method: '"+a+"'");"get"==a?c=f.get():"container"==a?c=f.container:"option"==a?c=f.option.apply(f,d):"destroy"==a?(f.destroy(),b(this).removeData("spectrum.id")):e.apply(f,d)}});return c}return this.spectrum("destroy").each(function(){var d=Object.assign({},a,b(this).data());d=e(this,
d);b(this).data("spectrum.id",d.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.draggable=d;b.fn.spectrum.defaults=h;b.spectrum={};const k=/^[#]+/,m=Math,n=m.round,p=m.min,r=m.max,q=function t(a){a=a?a:"";if(a instanceof t)return a;if(!(this instanceof t))return new t(a);var b=0,d=0,c=0,e=!1;if("string"==typeof a){a=a.trim().toLowerCase().replace(k,"");var h;a=(h=v.rgb.exec(a))?{r:h[1],g:h[2],b:h[3]}:(h=v.hex6.exec(a))?{r:parseInt(h[1],16),g:parseInt(h[2],16),b:parseInt(h[3],16)}:!1}if("object"==typeof a)if(a.hasOwnProperty("r")&&
a.hasOwnProperty("g")&&a.hasOwnProperty("b"))d=a.g,c=a.b,b=255*f(a.r,255),d=255*f(d,255),c=255*f(c,255),e=!0;else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){a.s=g(a.s);a.v=g(a.v);{c=a.h;b=a.s;a=a.v;c=6*f(c,360);b=f(b,100);a=f(a,100);d=m.floor(c);h=c-d;c=a*(1-b);e=a*(1-h*b);h=a*(1-(1-h)*b);const g=d%6;b=255*[a,e,c,c,h,a][g];d=255*[h,a,a,e,c,c][g];c=255*[c,c,h,a,a,e][g]}e=!0}this._r=p(255,r(b,0));this._g=p(255,r(d,0));this._b=p(255,r(c,0));this._ok=e;1>this._r&&(this._r=
n(this._r));1>this._g&&(this._g=n(this._g));1>this._b&&(this._b=n(this._b))};q.prototype={isValid:function(){return this._ok},toHsv:function(){{var a=this._r;var b=this._g,d=this._b;a=f(a,255);b=f(b,255);d=f(d,255);var c=r(a,b,d);const g=p(a,b,d);let h;var e=c-g;if(c==g)h=0;else{switch(c){case a:h=(b-d)/e+(b<d?6:0);break;case b:h=(d-a)/e+2;break;case d:h=(a-b)/e+4}h/=6}a=h;e=0===c?0:e/c}return{h:360*a,s:e,v:c}},toHsl:function(){{var a=this._r;var b=this._g;var d=this._b;a=f(a,255);b=f(b,255);d=f(d,
255);const g=r(a,b,d);var c=p(a,b,d);var e=(g+c)/2;let h;if(g==c)h=c=0;else{const f=g-c;c=.5<e?f/(2-g-c):f/(g+c);switch(g){case a:h=(b-d)/f+(b<d?6:0);break;case b:h=(d-a)/f+2;break;case d:h=(a-b)/f+4}h/=6}a=h;b=c}return{h:360*a,s:b,l:e}},toHexString:function(){return myt.Color.rgbToHex(this._r,this._g,this._b,!0)}};q.fromRatio=function(a){if("object"==typeof a){let b={};for(let d in a)a.hasOwnProperty(d)&&(b[d]=g(a[d]));a=b}return q(a)};q.equals=function(a,b){return a&&b?q(a).toHexString()==q(b).toHexString():
!1};const v={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})(window,jQuery);
(function(a,b){const c={en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"},ja:{days:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),months:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),sep:"/"},ru:{days:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),months:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" ")},
br:{days:"Dom Seg Ter Qua Qui Sex S\u00e1b".split(" "),months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" ")},pt:{days:"dom seg ter qua qui sex s\u00e1b".split(" "),months:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" ")},cn:{days:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},
de:{days:"So Mo Di Mi Do Fr Sa".split(" "),months:"Jan Feb M\u00e4rz Apr Mai Juni Juli Aug Sept Okt Nov Dez".split(" ")},sv:{days:"S\u00f6 M\u00e5 Ti On To Fr L\u00f6".split(" "),months:"Jan Feb Mar Apr Maj Juni Juli Aug Sept Okt Nov Dec".split(" ")},id:{days:"Min Sen Sel Rab Kam Jum Sab".split(" "),months:"Jan Feb Mar Apr Mei Jun Jul Agu Sep Okt Nov Des".split(" ")},it:{days:"Dom Lun Mar Mer Gio Ven Sab".split(" "),months:"Gen Feb Mar Apr Mag Giu Lug Ago Set Ott Nov Dic".split(" ")},tr:{days:"Pz Pzt Sal \u00c7ar Per Cu Cts".split(" "),
months:"Ock \u015eub Mar Nis May Haz Tem Agu Eyl Ekm Kas Arlk".split(" ")},es:{days:"dom lun mar mi\u00e9r jue vi\u00e9 s\u00e1b".split(" "),months:"ene feb mar abr may jun jul ago sep oct nov dic".split(" ")},ko:{days:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ")},nl:{days:"zo ma di wo do vr za".split(" "),months:"jan feb mrt apr mei jun jul aug sep okt nov dec".split(" ")},
cz:{days:"Ne Po \u00dat St \u010ct P\u00e1 So".split(" "),months:"Led \u00dano B\u0159e Dub Kv\u011b \u010cer \u010cvc Srp Z\u00e1\u0159 \u0158\u00edj Lis Pro".split(" ")},fr:{days:"Dim Lun Mar Mer Jeu Ven Sam".split(" "),months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" ")}},e=a=>b(a).closest(".myt-dp"),d=(a,b)=>"undefined"!==typeof c[a][b]?c[a][b]:c.en[b],f=function(a,h,l,k,m,n){h=null!=m?new Date(h,l,k,m,n,0):null!=h?new Date(h,
l,k):new Date;var g=a.data("todayButton");l=a.data("futureOnly");k=a.data("minDate");m=a.data("maxDate");n=a.data("minuteInterval");var r=a.data("firstDayOfWeek"),q=a.data("allowWdays");if(null==q||!1===Array.isArray(q)||0>=q.length)q=null;var v=a.data("minTime");const D=a.data("maxTime"),x=new Date;l&&h.getTime()<x.getTime()&&h.setTime(x.getTime());if(null!=q&&6>=q.length)for(;;)if(-1==b.inArray(h.getDay(),q))h.setDate(h.getDate()+1);else break;var t=a.data("locale");c.hasOwnProperty(t)||(t="en");
var z=(new Date(h.getFullYear(),h.getMonth(),1)).getDay()-r,H=(new Date(h.getFullYear(),h.getMonth()+1,0)).getDate();const ha=(new Date(h.getFullYear(),h.getMonth(),0)).getDate(),X=new Date(h.getFullYear(),h.getMonth(),0),Y=new Date(h.getFullYear(),h.getMonth()+2,0);var F=x.getFullYear()==h.getFullYear();const ca=F&&x.getMonth()==h.getMonth(),qa=ca&&x.getDate()==h.getDate();let E=!1;if(h.getFullYear()<x.getFullYear()||F&&h.getMonth()<x.getMonth())E=!0;var u=a.children(".dp-header");const P=a.children(".dp-calendar"),
K=P.children(".dp-table");F=a.children(".dp-timelist");b(a).data("pickedDate",h);b.fn.dtpicker.dialog._dtpickerCallback(h);const A=F.scrollTop();if(!0===a.data("timeOnly"))P.css("border-right","0px"),P.css("width","0px"),F.css("width","130px");else{u.children().remove();var w=new Date(h.getTime());w.setMinutes(59);w.setHours(23);w.setSeconds(59);w.setDate(0);var y=null;l&&ca||!(null==k||k<w.getTime())?a.data("stateAllowBeforeMonth",!1):(y=b("<a>"),y.text("<"),y.prop("alt",d(t,"prevMonth")),y.prop("title",
d(t,"prevMonth")),y.click(()=>{{const g=e(a);if(!1!==g.data("stateAllowBeforeMonth")){var b=e(g).data("pickedDate"),d=(new Date(b.getFullYear(),b.getMonth(),0)).getDate();d<b.getDate()&&b.setDate(d);f(g,b.getFullYear(),b.getMonth()-1,b.getDate(),b.getHours(),b.getMinutes());var c=new Date;c.getFullYear()==b.getFullYear()&&c.getMonth()==b.getMonth()&&g.data("futureOnly")||(d<b.getDate()&&b.setDate(d),f(g,b.getFullYear(),b.getMonth()-1,b.getDate(),b.getHours(),b.getMinutes()))}}}),a.data("stateAllowBeforeMonth",
!0));w.setMinutes(0);w.setHours(0);w.setSeconds(0);w.setDate(1);w.setMonth(h.getMonth()+1);var J=b("<span>");J.text(h.getFullYear()+" "+d(t,"sep")+" "+d(t,"months")[h.getMonth()]);var C=null;if(null==m||m>w.getTime())C=b("<a>"),C.text(">"),C.prop("alt",d(t,"nextMonth")),C.prop("title",d(t,"nextMonth")),C.click(()=>{{const d=e(a),c=e(d).data("pickedDate");var b=(new Date(c.getFullYear(),c.getMonth()+1,0)).getDate();b<c.getDate()&&c.setDate(b);b=(new Date(c.getFullYear(),c.getMonth()+2,0)).getDate();
b<c.getDate()&&c.setDate(b);f(d,c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes())}});g&&(g=b("<a/>"),g.html(decodeURIComponent("%3c%3fxml%20version%3d%221%2e0%22%20encoding%3d%22UTF%2d8%22%20standalone%3d%22no%22%3f%3e%3csvg%20%20xmlns%3adc%3d%22http%3a%2f%2fpurl%2eorg%2fdc%2felements%2f1%2e1%2f%22%20%20xmlns%3acc%3d%22http%3a%2f%2fcreativecommons%2eorg%2fns%23%22%20xmlns%3ardf%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f1999%2f02%2f22%2drdf%2dsyntax%2dns%23%22%20%20xmlns%3asvg%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20%20version%3d%221%2e1%22%20%20width%3d%22100%25%22%20%20height%3d%22100%25%22%20viewBox%3d%220%200%2010%2010%22%3e%3cg%20transform%3d%22translate%28%2d5%2e5772299%2c%2d26%2e54581%29%22%3e%3cpath%20d%3d%22m%2014%2e149807%2c31%2e130932%20c%200%2c%2d0%2e01241%200%2c%2d0%2e02481%20%2d0%2e0062%2c%2d0%2e03721%20L%2010%2e57723%2c28%2e153784%207%2e0108528%2c31%2e093719%20c%200%2c0%2e01241%20%2d0%2e0062%2c0%2e02481%20%2d0%2e0062%2c0%2e03721%20l%200%2c2%2e97715%20c%200%2c0%2e217084%200%2e1798696%2c0%2e396953%200%2e3969534%2c0%2e396953%20l%202%2e3817196%2c0%200%2c%2d2%2e38172%201%2e5878132%2c0%200%2c2%2e38172%202%2e381719%2c0%20c%200%2e217084%2c0%200%2e396953%2c%2d0%2e179869%200%2e396953%2c%2d0%2e396953%20l%200%2c%2d2%2e97715%20m%201%2e383134%2c%2d0%2e427964%20c%200%2e06823%2c%2d0%2e08063%200%2e05582%2c%2d0%2e210882%20%2d0%2e02481%2c%2d0%2e279108%20l%20%2d1%2e358324%2c%2d1%2e128837%200%2c%2d2%2e530576%20c%200%2c%2d0%2e111643%20%2d0%2e08683%2c%2d0%2e198477%20%2d0%2e198477%2c%2d0%2e198477%20l%20%2d1%2e190859%2c0%20c%20%2d0%2e111643%2c0%20%2d0%2e198477%2c0%2e08683%20%2d0%2e198477%2c0%2e198477%20l%200%2c1%2e209467%20%2d1%2e513384%2c%2d1%2e265289%20c%20%2d0%2e2605%2c%2d0%2e217083%20%2d0%2e682264%2c%2d0%2e217083%20%2d0%2e942764%2c0%20L%205%2e6463253%2c30%2e42386%20c%20%2d0%2e080631%2c0%2e06823%20%2d0%2e093036%2c0%2e198476%20%2d0%2e024809%2c0%2e279108%20l%200%2e3845485%2c0%2e458976%20c%200%2e031012%2c0%2e03721%200%2e080631%2c0%2e06203%200%2e1302503%2c0%2e06823%200%2e055821%2c0%2e0062%200%2e1054407%2c%2d0%2e01241%200%2e1488574%2c%2d0%2e04342%20l%204%2e2920565%2c%2d3%2e578782%204%2e292058%2c3%2e578782%20c%200%2e03721%2c0%2e03101%200%2e08063%2c0%2e04342%200%2e13025%2c0%2e04342%200%2e0062%2c0%200%2e01241%2c0%200%2e01861%2c0%200%2e04962%2c%2d0%2e0062%200%2e09924%2c%2d0%2e03101%200%2e130251%2c%2d0%2e06823%20l%200%2e384549%2c%2d0%2e458976%22%20%2f%3e%3c%2fg%3e%3c%2fsvg%3e")),
g.addClass("icon-home"),g.prop("alt",d(t,"today")),g.prop("title",d(t,"today")),g.click(()=>{const b=new Date;f(e(a),b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes())}),u.append(g));null!=y&&u.append(y);u.append(J);null!=C&&u.append(C);K.children().remove();g=b("<tr>");K.append(g);r=7+r;t=d(t,"days");for(y=0;7>y;y++)u=b("<th>"),u.text(t[(y+r)%7]),g.append(u);J=7*Math.ceil((z+H)/7);y=0;0>z&&(y=-7);t=new Date(h.getTime());t.setHours(0);t.setMinutes(0);for(t.setSeconds(0);y<J;y++){w=
y+1-z;C=E||ca&&w<x.getDate();0===y%7&&(g=b("<tr>"),K.append(g));u=b("<td>");u.data("day",w);g.append(u);z>y?(u.text(ha+w),u.addClass("day_another_month"),u.data("dateStr",X.getFullYear()+"/"+(X.getMonth()+1)+"/"+(ha+w)),t.setDate(ha+w),t.setMonth(X.getMonth()),t.setYear(X.getFullYear())):y<z+H?(u.text(w),u.data("dateStr",h.getFullYear()+"/"+(h.getMonth()+1)+"/"+w),t.setDate(w),t.setMonth(h.getMonth()),t.setYear(h.getFullYear())):(u.text(w-H),u.addClass("day_another_month"),u.data("dateStr",Y.getFullYear()+
"/"+(Y.getMonth()+1)+"/"+(w-H)),t.setDate(w-H),t.setMonth(Y.getMonth()),t.setYear(Y.getFullYear()));const a=(y+r)%7;if(null!=q){if(-1==b.inArray(a,q)){u.addClass("day_in_unallowed");continue}}else 0===a?u.addClass("wday_sun"):6==a&&u.addClass("wday_sat");w==h.getDate()&&u.addClass("active");ca&&w==x.getDate()&&u.addClass("today");w=new Date(t.getTime());w.setHours(23);w.setMinutes(59);w.setSeconds(59);null!=k&&k>w.getTime()||null!=m&&m<t.getTime()?u.addClass("out_of_range"):l&&C?u.addClass("day_in_past"):
(u.click(function(){b(this).hasClass("hover")&&b(this).removeClass("hover");b(this).addClass("active");const a=e(b(this)),d=new Date(b(this).data("dateStr")),c=e(a).data("pickedDate");f(a,d.getFullYear(),d.getMonth(),d.getDate(),c.getHours(),c.getMinutes())}),u.hover(function(){b(this).hasClass("active")||b(this).addClass("hover")},function(){b(this).hasClass("hover")&&b(this).removeClass("hover")}))}}if(!0===a.data("dateOnly"))F.css("display","none"),P.css("border-right","0px");else{F.children().remove();
t=new Date(h.getTime());F.css("height","175px");q=v[0];for(v=v[1];100*q+v<100*D[0]+D[1];)z=b("<div>"),H=q<x.getHours()||q==x.getHours()&&v<x.getMinutes(),H=qa&&H,z.addClass("dp-timelist_item"),z.text(("0"+q).slice(-2)+":"+("0"+v).slice(-2)),z.data("hour",q),z.data("min",v),F.append(z),t.setHours(q),t.setMinutes(v),null!=k&&k>t.getTime()||null!=m&&m<t.getTime()?z.addClass("out_of_range"):l&&H?z.addClass("time_in_past"):(z.click(function(){b(this).hasClass("hover")&&b(this).removeClass("hover");b(this).addClass("active");
const a=e(b(this)),d=e(a).data("pickedDate"),c=b(this).data("hour"),g=b(this).data("min");f(a,d.getFullYear(),d.getMonth(),d.getDate(),c,g)}),z.hover(function(){b(this).hasClass("active")||b(this).addClass("hover")},function(){b(this).hasClass("hover")&&b(this).removeClass("hover")})),q==h.getHours()&&v==h.getMinutes()&&(z.addClass("active"),z.offset()),v+=n,60<=v&&(v-=60,q++);F.scrollTop(A)}};b.fn.dtpicker=function(a){var d=a.dialog;a=b.extend({current:null,locale:"en",minuteInterval:30,firstDayOfWeek:0,
todayButton:!0,dateOnly:!1,timeOnly:!1,futureOnly:!1,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowWdays:null},a);this.addClass("myt-dp");a.current||(a.current=new Date);this.data("dateOnly",a.dateOnly);this.data("timeOnly",a.timeOnly);this.data("locale",a.locale);this.data("firstDayOfWeek",a.firstDayOfWeek);this.data("todayButton",a.todayButton);this.data("futureOnly",a.futureOnly);this.data("allowWdays",a.allowWdays);var c=Date.parse(a.minDate);this.data("minDate",isNaN(c)?null:
c);c=Date.parse(a.maxDate);this.data("maxDate",isNaN(c)?null:c);this.data("state",0);5<=a.minuteInterval&&30>=a.minuteInterval?this.data("minuteInterval",a.minuteInterval):this.data("minuteInterval",30);a.minTime=a.minTime.split(":");a.maxTime=a.maxTime.split(":");0<=a.minTime[0]&&24>a.minTime[0]||(a.minTime[0]="00");0<=a.maxTime[0]&&24>a.maxTime[0]||(a.maxTime[0]="23");0<=a.minTime[1]&&60>a.minTime[1]||(a.minTime[1]="00");0<=a.maxTime[1]&&24>a.maxTime[1]||(a.maxTime[1]="59");a.minTime[0]=parseInt(a.minTime[0]);
a.minTime[1]=parseInt(a.minTime[1]);a.maxTime[0]=parseInt(a.maxTime[0]);a.maxTime[1]=parseInt(a.maxTime[1]);this.data("minTime",a.minTime);this.data("maxTime",a.maxTime);c=b("<div>");c.addClass("dp-header");this.append(c);c=b("<div>");c.addClass("dp-calendar");c.css("height","175px");var g=b("<table>");g.addClass("dp-table");c.append(g);this.append(c);g=b("<div>");g.addClass("dp-timelist");this.append(g);c.bind("wheel",function(a){var d=e(b(this)),c=b.fn.dtpicker;null==c._delta&&(c._delta=0);a=c._delta+=
a.originalEvent.deltaY;75<a?(c._delta-=75,d=e(d),c=e(d).data("pickedDate"),c.setDate(c.getDate()-1),f(d,c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())):-75>a&&(c._delta+=75,d=e(d),c=e(d).data("pickedDate"),c.setDate(c.getDate()+1),f(d,c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes()));return!1});b.fn.dtpicker.dialog=d;d=a.current;f(this,d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes())}})(window,jQuery);
(a=>{const b=a.SizeToParent;a.Dimmer=new JS.Class("Dimmer",a.View,{include:[b],extend:{DEFAULT_OPACITY:.35,DEFAULT_COLOR:"#000000"},initNode:function(b,e){const d=this;d.restoreFocus=!0;e.focusable=e.focusCage=!0;null==e.percentOfParentWidth&&(e.percentOfParentWidth=100);null==e.percentOfParentHeight&&(e.percentOfParentHeight=100);null==e.visible&&(e.visible=!1);null==e.ignoreLayout&&(e.ignoreLayout=!0);d.callSuper(b,e);"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(a=>
{d.attachDomObserver(d,"eatMouseEvent",a)});a.RootView.setupCaptureDrop(d)},doBeforeAdoption:function(){this.callSuper();const c=a.Dimmer;new a.View(this,{name:"overlay",ignorePlacement:!0,opacity:c.DEFAULT_OPACITY,bgColor:c.DEFAULT_COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[b])},destroyAfterOrphaning:function(){a.RootView.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(a){this.restoreFocus=a},eatMouseEvent:a=>!0,show:function(){const b=a.global.focus;this.prevFocus=
b.focusedView||b.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(a){this.visible&&(this.setVisible(!1),!a&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus())}})})(myt);
myt.SizeToChildren=new JS.Class("SizeToChildren",myt.Layout,{initNode:function(a,b){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(a,b)},setAxis:function(a){this.axis!==a&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=a,this.startMonitoringAllSubviews(),this.fireEvent("axis",a),this.update()):this.axis=a)},setPaddingX:function(a){this.paddingX!==a&&(this.paddingX=a,this.inited&&(this.fireEvent("paddingX",a),this.update()))},setPaddingY:function(a){this.paddingY!==a&&(this.paddingY=
a,this.inited&&(this.fireEvent("paddingY",a),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const a=this.parent;if(!a.isBeingDestroyed){const b=this.subviews,c=b.length,e=this.axis,d=Math.max;let f,g,h,l;if("y"!==e){f=c;for(h=0;f;)g=b[--f],g.visible&&(l=g.boundsWidth,l=0<l?l:0,h=d(h,g.x+l));a.setWidth(h+this.paddingX)}if("x"!==e){f=c;for(h=0;f;)g=b[--f],g.visible&&(l=g.boundsHeight,l=0<l?l:0,h=d(h,g.y+l));a.setHeight(h+this.paddingY)}}this.decrementLockedCounter()}},
startMonitoringSubview:function(a){this.__updateMonitoringSubview(a,this.attachTo)},stopMonitoringSubview:function(a){this.__updateMonitoringSubview(a,this.detachFrom)},__updateMonitoringSubview:function(a,b){const c=this.axis;b=b.bind(this);"y"!==c&&(b(a,"update","x"),b(a,"update","boundsWidth"));"x"!==c&&(b(a,"update","y"),b(a,"update","boundsHeight"));b(a,"update","visible")}});
myt.ModalPanel=new JS.Class("ModalPanel",myt.Dimmer,{extend:{DEFAULT_PADDING_X:20,DEFAULT_PADDING_Y:15,DEFAULT_MARGIN_TOP:40,DEFAULT_MARGIN_LEFT:40,DEFAULT_MARGIN_BOTTOM:40,DEFAULT_MARGIN_RIGHT:40},initNode:function(a,b){this.defaultPlacement="content";null==b.sizingStrategy&&(b.sizingStrategy="children");const c=myt.ModalPanel;null==b.marginTop&&(b.marginTop=c.DEFAULT_MARGIN_TOP);null==b.marginLeft&&(b.marginLeft=c.DEFAULT_MARGIN_LEFT);null==b.marginBottom&&(b.marginBottom=c.DEFAULT_MARGIN_BOTTOM);
null==b.marginRight&&(b.marginRight=c.DEFAULT_MARGIN_RIGHT);null==b.paddingX&&(b.paddingX=c.DEFAULT_PADDING_X);null==b.paddingY&&(b.paddingY=c.DEFAULT_PADDING_Y);this.callSuper(a,b)},doBeforeAdoption:function(){const a=myt,b=a.View,c={name:"content",ignorePlacement:!0},e=Object.assign({},c,{align:"center",valign:"middle"});this.callSuper();switch(this.sizingStrategy){case "children":new a.SizeToChildren(new b(this,e),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});
break;case "parent":new b(this,Object.assign(c,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[a.SizeToParent]);break;case "basic":new b(this,e);break;default:new b(this,c)}},setSizingStrategy:function(a){this.sizingStrategy=a},setMarginTop:function(a){this.marginTop=a},setMarginLeft:function(a){this.marginLeft=a},setMarginBottom:function(a){this.marginBottom=
a},setMarginRight:function(a){this.marginRight=a},setPaddingX:function(a){this.paddingX=a},setPaddingY:function(a){this.paddingY=a}});
myt.Spinner=new JS.Class("Spinner",myt.View,{initNode:function(a,b){this.lateAttrs=["spinColor"];null==b.visible&&(b.visible=!1);null==b.borderWidth&&(b.borderWidth=5);null==b.borderColor&&(b.borderColor="#ffffff");null==b.borderStyle&&(b.borderStyle="solid");null==b.spinColor&&(b.spinColor="#000000");this.callSuper(a,b);this.deStyle.borderRadius="50%";this._updateSize();this._spin()},setSize:function(a){this.size!==a&&(this.size=a,this.inited&&this._updateSize())},setSpinColor:function(a){this.spinColor!==
a&&(this.deStyle.borderTopColor=this.spinColor=a,this.inited&&this.fireEvent("spinColor",a))},setBorderWidth:function(a){this.borderWidth!==a&&(this.callSuper(a),this.inited&&this._updateSize())},setVisible:function(a){this.visible!==a&&(this.callSuper(a),this.inited&&this._spin())},_spin:function(){this[this.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},_updateSize:function(){const a=this.size,b=this.deStyle;this.setWidth(a);this.setHeight(a);b.width=b.height=a-2*this.borderWidth+"px"}});
(a=>{const b=a.View,c=a.Text,e=a.ModalPanel,d=new JS.Class("DialogButton",a.SimpleButton,{initNode:function(a,b){null==b.height&&(b.height=20);null==b.shrinkToFit&&(b.shrinkToFit=!0);null==b.inset&&(b.inset=10);null==b.outset&&(b.outset=10);null==b.textY&&(b.textY=3);null==b.roundedCorners&&(b.roundedCorners=5);null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.readyColor&&(b.readyColor="#cccccc");null==b.textColor&&(b.textColor="#000000");const d=
b.fontSize,f=b.shrinkToFit,e=b.text||"";delete b.fontSize;delete b.shrinkToFit;delete b.text;this.callSuper(a,b);a=this.textView=new c(this,{x:this.inset,y:this.textY,text:e,fontSize:d,whiteSpace:"nowrap",domClass:"myt-Text mytButtonText"});f&&this.constrain("__update",[this,"inset",this,"outset",a,"width"])},setText:function(a){this.inited&&this.textView.setText(a)},setTooltip:function(a){this.getInnerDomElement().title=a},__update:function(a){if(!this.destroyed){a=this.inset;const b=this.textView;
b.setX(a);this.setWidth(a+b.width+this.outset)}}});a.Dialog=new JS.Class("Dialog",e,{extend:{DEFAULT_RADIUS:12,DEFAULT_SHADOW:[0,4,20,"#666666"],DEFAULT_BORDER:[1,"solid","#ffffff"],DEFAULT_BGCOLOR:"#ffffff",DEFAULT_BUTTON_CLASS:d,WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},
PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000000"}},initNode:function(b,d){const c=a.Dialog;null==d.buttonClass&&(d.buttonClass=c.DEFAULT_BUTTON_CLASS);this.callSuper(b,d);b=this.content;b.setRoundedCorners(c.DEFAULT_RADIUS);b.setBgColor(c.DEFAULT_BGCOLOR);b.setBoxShadow(c.DEFAULT_SHADOW);b.setBorder(c.DEFAULT_BORDER);
b.setFocusCage(!0);this.createCloseButton(b,this)},setButtonClass:function(a){this.buttonClass=a},setDisplayMode:function(a){this.displayMode=a},setCallbackFunction:function(a){this.callbackFunction=a},createCloseButton:function(b,d,c,e,k,m){return new this.buttonClass(b,{name:"closeBtn",ignoreLayout:!0,width:16,height:16,y:4,align:"right",alignOffset:4,inset:4,textY:2,shrinkToFit:!1,roundedCorners:8,activeColor:e||"#cc0000",hoverColor:c||"#ff3333",readyColor:k||"#ff0000",textColor:"#ffffff",fontSize:"11px",
text:a.FontAwesome.makeTag(["times"]),tooltip:"Close Dialog."},[{doActivated:function(){d.doCallback(this)}}])},hide:function(a){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(a)},eatMouseEvent:function(a){"message"===this.displayMode&&this.content.closeBtn.focus();return this.callSuper(a)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const b=a.Dialog,d=this.content,c=d.sizeToChildren,l=d.getSubviews();let k=l.length,m;for(;k;)m=
l[--k],"closeBtn"!==m.name&&m.destroy();d.setVisible(!0);this.overlay.setBgColor(a.Dimmer.DEFAULT_COLOR);this.setCallbackFunction();c.setPaddingY(e.DEFAULT_PADDING_Y);c.setPaddingX(e.DEFAULT_PADDING_X);d.setRoundedCorners(b.DEFAULT_RADIUS);d.setBgColor(b.DEFAULT_BGCOLOR);d.setBoxShadow(b.DEFAULT_SHADOW);d.setBorder(b.DEFAULT_BORDER)},doCallback:function(a){const b=this.callbackFunction;b&&b.call(this,a.name)||this.hide()},showBlank:function(a){this.destroyContent();this.content.setVisible(!1);a&&
a.bgColor&&this.overlay.setBgColor(a.bgColor);this.show();this.setDisplayMode("blank")},showMessage:function(b,d,h){const f=a.Dialog,g=this.content,m=g.closeBtn;h=Object.assign({},f.WRAP_TEXT_DEFAULTS,h);this.destroyContent();this.setCallbackFunction(d);b=new c(g,{name:"msg",text:b,whiteSpace:h.whiteSpace,wordWrap:h.wordWrap,fontWeight:h.fontWeight,x:null==h.msgX?e.DEFAULT_PADDING_X:h.msgX,y:null==h.msgY?e.DEFAULT_PADDING_Y:h.msgY,width:h.width});h.titleText&&(this.setupTitle(g,h.titleText,f.DEFAULT_RADIUS),
b.setY(b.y+24));this.show();!1===h.showClose?m.setVisible(!1):(m.setVisible(!0),m.focus());this.setDisplayMode("message")},showSimple:function(d,c,e){e=e||{};const f=this.content,g=f.closeBtn,h=e.maxContainerHeight;this.destroyContent();e.bgColor&&f.setBgColor(e.bgColor);e.roundedCorners&&f.setRoundedCorners(e.roundedCorners);e.boxShadow&&f.setBoxShadow(e.boxShadow);e.border&&f.setBorder(e.border);f.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new b(f,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(a){a>h&&(a=h);this.callSuper(a)}}]);d.call(this,c);new a.SizeToChildren(c,{axis:"both"});this.show();g.setVisible(!0);g.focus();this.setDisplayMode("content");c.initialFocus&&c.initialFocus.focus()},showSpinner:function(b,d){const f=this.content;d=Object.assign({},a.Dialog.NO_WRAP_TEXT_DEFAULTS,d);this.destroyContent();const g=this.spinner=new a.Spinner(f,{align:"center",visible:!0,borderColor:"#cccccc",size:50,y:null==d.msgY?e.DEFAULT_PADDING_Y:d.msgY});b&&new c(f,
{text:b,whiteSpace:d.whiteSpace,wordWrap:d.wordWrap,fontWeight:d.fontWeight,x:null==d.msgX?e.DEFAULT_PADDING_X:d.msgX,y:g.y+g.size+e.DEFAULT_PADDING_Y,width:d.width});this.show();f.closeBtn.setVisible(!1);this.focus();this.setDisplayMode("spinner")},showColorPicker:function(d,c){const f=this.content,g=f.closeBtn,k=a.Dialog.DEFAULT_RADIUS;c=Object.assign({},a.Dialog.PICKER_DEFAULTS,c);this.destroyContent();this.setCallbackFunction(function(a){switch(a){case "closeBtn":case "cancelBtn":d.call(this,
a);break;case "confirmBtn":const b=this._spectrum.get();this._spectrum.addColorToSelectionPalette(b);d.call(this,a,b?b.toHexString():"transparent")}this._spectrum.destroy()});const m=new b(f,{name:"picker",x:e.DEFAULT_PADDING_X,y:e.DEFAULT_PADDING_Y+24,width:337,height:177}),n=new b(m);$(n.getInnerDomElement()).spectrum({color:c.color,palette:["#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777".split(" "),"#888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")],
localStorageKey:"myt.default",dialog:this});this.show();g.setVisible(!0);g.focus();this.setupFooterButtons(m,c);this.setupTitle(f,c.titleText,k);this.setDisplayMode("color_picker")},_spectrumCallback:function(a){this._spectrum=a},showDatePicker:function(d,c){const f=this.content,g=f.closeBtn,k=a.Dialog.DEFAULT_RADIUS;c=Object.assign({},a.Dialog.DATE_PICKER_DEFAULTS,c);this.destroyContent();f.sizeToChildren.setPaddingX(0);this.setCallbackFunction(function(a){switch(a){case "closeBtn":case "cancelBtn":d.call(this,
a);break;case "confirmBtn":d.call(this,a,this._pickedDateTime)}});const m=new b(f,{name:"picker",x:e.DEFAULT_PADDING_X,y:e.DEFAULT_PADDING_Y+24,width:c.dateOnly?200:c.timeOnly?150:260,height:193}),n=new b(m);$(n.getInnerDomElement()).dtpicker({current:new Date(c.initialDate||Date.now()),dateOnly:c.dateOnly||!1,timeOnly:c.timeOnly||!1,dialog:this});this.show();g.setVisible(!0);g.focus();this.setupFooterButtons(m,c);this.setupTitle(f,c.timeOnly?c.timeOnlyTitleText:c.titleText,k);this.setDisplayMode("date_picker")},
_dtpickerCallback:function(a){this._pickedDateTime=a},showConfirm:function(b,d,c){c=Object.assign({},a.Dialog.CONFIRM_DEFAULTS,c);this.showMessage(b,d,c);this.setupFooterButtons(this.content.msg,c);this.setDisplayMode("confirm")},showContentConfirm:function(d,c,e){const f=this.content,g=f.closeBtn,h=a.Dialog.DEFAULT_RADIUS;let n;e=Object.assign({},a.Dialog.CONFIRM_DEFAULTS,e);n=e.maxContainerHeight;this.destroyContent();f.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new b(f,{name:"contentContainer",
x:1,y:25,overflow:"auto"},[{setHeight:function(a){this.callSuper(a>n?n:a)}}]);d.call(this,c);new a.SizeToChildren(c,{axis:"both"});this.show();g.setVisible(!0);g.focus();this.setupTitle(f,e.titleText,h);c.setY(this.header.height+1);this.setupFooterButtons(c,e);this.setDisplayMode("content");c.initialFocus&&c.initialFocus.focus()},setupTitle:function(a,d,e){(this.header=new b(a,{ignoreLayout:!0,width:a.width,height:24,bgColor:"#eeeeee",roundedTopLeftCorner:e,roundedTopRightCorner:e})).sendToBack();
new c(a,{name:"title",x:e,y:4,text:d,fontWeight:"bold"})},setupFooterButtons:function(d,c){const f=this,g=f.content;var k=e.DEFAULT_PADDING_Y;const m=a.Dialog.DEFAULT_RADIUS,n=f.buttonClass;let p,r;const q=new b(g,{y:d.y+d.height+k,align:"center"});p=c.cancelAttrs||{};null==p.name&&(p.name="cancelBtn");null==p.text&&(p.text=c.cancelTxt);null!=c.activeColor&&(p.activeColor=c.activeColor);null!=c.hoverColor&&(p.hoverColor=c.hoverColor);null!=c.readyColor&&(p.readyColor=c.readyColor);null!=c.textColor&&
(p.textColor=c.textColor);d=new n(q,p,[{doActivated:function(){f.doCallback(this)}}]);p=c.confirmAttrs||{};null==p.name&&(p.name="confirmBtn");null==p.text&&(p.text=c.confirmTxt);null!=c.activeColorConfirm&&(p.activeColor=c.activeColorConfirm);null!=c.hoverColorConfirm&&(p.hoverColor=c.hoverColorConfirm);null!=c.readyColorConfirm&&(p.readyColor=c.readyColorConfirm);null!=c.textColorConfirm&&(p.textColor=c.textColorConfirm);new n(q,p,[{doActivated:function(){f.doCallback(this)}}]);if(r=c.buttons){const a=
r.length;for(let b=0;a>b;b++)p=r[b],null==p.name&&(p.name="btn_"+b),new n(q,p,[{doActivated:function(){f.doCallback(this)}}])}new a.SizeToChildren(q,{axis:"y"});new a.SpacedLayout(q,{spacing:4,collapseParent:!0});g.sizeToChildren.setPaddingY(k/2);k=new b(g,{ignoreLayout:!0,y:q.y-k/2,width:g.width,bgColor:"#eeeeee",roundedBottomLeftCorner:m,roundedBottomRightCorner:m});k.setHeight(g.height-k.y);k.sendToBack();!1===c.showClose&&d.focus()}})})(myt);
(a=>{const b=JS.Class,c={},e=(b,d)=>{if(b){const c=b.id;b.id?d(c):a.dumpStack("No ID")}else a.dumpStack("No validator")},d=a=>{e(a,b=>{c[b]=a})},f=a.Validator=new b("Validator",{initialize:function(a){this.id=a},isValid:(a,b,d)=>!0,isFormValid:function(a,b,d){b||(b={});b.form=a;return this.isValid(a.getValue(),b,d)}}),g=a.RequiredFieldValidator=new b("RequiredFieldValidator",f,{isValid:function(a,b,d){return null==a||""===a||"string"===typeof a&&""===a.trim()?(d&&d.push("This value is required."),
!1):!0}}),h=a.EqualsIgnoreCaseValidator=new b("EqualsIgnoreCaseValidator",f,{isValid:function(a,b,d){b=b.form.getRollbackValue();return a&&b&&a.toLowerCase()===b.toLowerCase()?(d&&d.push("Value must differ by more than just case."),!1):!0}}),l=a.URLValidator=new b("URLValidator",f,{initialize:function(a,b){this.callSuper(a);this.originalRawQuery=b},isValid:function(b,d,c){return(new a.URI(b)).toString(this.originalRawQuery)!==b?(c&&c.push("Not a valid URL."),!1):!0}}),k=a.JSONValidator=new b("JSONValidator",
f,{isValid:function(a,b,d){try{return JSON.parse(a),!0}catch(r){return d&&d.push(r),!1}}});a.EqualFieldsValidator=new b("EqualFieldsValidator",f,{initialize:function(a,b,d){this.callSuper(a);this.fieldA=b;this.fieldB=d},isValid:function(a,b,d){if(a&&this.fieldA.getValue()===this.fieldB.getValue())return!0;d&&d.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});a.LengthValidator=new b("LengthValidator",f,{initialize:function(a,b,d){this.callSuper(a);this.min=
b;this.max=d},isValid:function(a,b,d){a=a?a.length:0;b=this.min;const c=this.max;return void 0!==b&&b>a?(d&&d.push("Value must not be less than "+b+"."),!1):void 0!==c&&c<a?(d&&d.push("Value must not be greater than "+c+"."),!1):!0}});a.NumericRangeValidator=new b("NumericRangeValidator",f,{initialize:function(a,b,d){this.callSuper(a);this.min=b;this.max=d},isValid:function(a,b,d){if(""===a)return!0;a=Number(a);b=this.min;const c=this.max;return isNaN(a)?(d&&d.push("Value is not a number."),!1):void 0!==
b&&b>a?(d&&d.push("Value must not be less than "+b+"."),!1):void 0!==c&&c<a?(d&&d.push("Value must not be greater than "+c+"."),!1):!0}});a.CompoundValidator=new b("CompoundValidator",f,{initialize:function(a,...b){this.callSuper(a);a=b.length;let d;for(;a;)d=b[--a],"string"===typeof d&&((b[a]=d=c[d])||b.splice(a,1));this.__v=b},addValidator:function(a){"string"===typeof a&&(a=c[a]);a&&this.__v.push(a)},isValid:function(a,b,d){const c=this.__v,f=c.length;let e=!0,g=0;for(;f>g;)e=c[g++].isValid(a,
b,d)&&e;return e}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){d(new g("required"));d(new h("equalsIgnoreCase"));d(new l("url"));d(new k("json"));a.global.register("validators",this)},getValidator:a=>c[a],register:d,unregister:a=>{e(a,a=>{c[a]&&delete c[a]})}})})(myt);
myt.ValueProcessor=new JS.Class("ValueProcessor",{extend:{DEFAULT_ATTR:"runForDefault",ROLLBACK_ATTR:"runForRollback",CURRENT_ATTR:"runForCurrent"},initialize:function(a,b,c,e){this.id=a;a=myt.ValueProcessor;this[a.DEFAULT_ATTR]=b?!0:!1;this[a.ROLLBACK_ATTR]=c?!0:!1;this[a.CURRENT_ATTR]=e?!0:!1},process:function(a){return a}});
myt.ToNumberValueProcessor=new JS.Class("ToNumberValueProcessor",myt.ValueProcessor,{process:function(a){if(null==a||""===a||"-"===a)return a;const b=Number(a);return isNaN(b)?a:b}});myt.TrimValueProcessor=new JS.Class("TrimValueProcessor",myt.ValueProcessor,{initialize:function(a,b,c,e,d){this.callSuper(a,b,c,e);this.trim=d},process:function(a){a+="";switch(this.trim){case "start":case "left":return a.trimStart();case "end":case "right":return a.trimEnd();default:return a.trim()}}});
myt.UndefinedValueProcessor=new JS.Class("UndefinedValueProcessor",myt.ValueProcessor,{initialize:function(a,b,c,e,d){this.callSuper(a,b,c,e);this.defaultValue=d},process:function(a){return void 0===a?this.defaultValue:a}});
new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){const a=myt;this.__c={};a.global.register("valueProcessors",this);this.register(new a.UndefinedValueProcessor("undefToEmpty",!0,!0,!0,""));this.register(new a.ToNumberValueProcessor("toNumber",!0,!0,!0));this.register(new a.TrimValueProcessor("trimLeft",!0,!0,!0,"left"));this.register(new a.TrimValueProcessor("trimRight",!0,!0,!0,"right"));this.register(new a.TrimValueProcessor("trimBoth",!0,!0,!0,"both"))},getValueProcessor:function(a){return this.__c[a]},
register:function(a){if(a){const b=a.id;b?this.__c[b]=a:myt.dumpStack("No ID")}else myt.dumpStack("No processor")},unregister:function(a){a?(a=a.id)?this.getValueProcessor(a)&&delete this.__c[a]:myt.dumpStack("No ID"):myt.dumpStack("No processor")}});
myt.UseOtherFieldIfEmptyValueProcessor=new JS.Class("UseOtherFieldIfEmptyValueProcessor",myt.ValueProcessor,{initialize:function(a,b,c,e,d){this.callSuper(a,b,c,e);this.otherField=d},process:function(a){return null==a||""===a?this.otherField.getValue():a}});
myt.InputSelect=new JS.Class("InputSelect",myt.NativeInputWrapper,{include:[myt.SizeToDom],initNode:function(a,b){null==b.tagName&&(b.tagName="select");b.inputType=null;null==b.multiple&&(b.multiple=!1);null==b.size&&(b.size=b.multiple?4:1);this.callSuper(a,b);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(a){this.multiple!==a&&(this.multiple=this.getInnerDomElement().multiple=a,this.inited&&this.fireEvent("multiple",a))},setSize:function(a){this.size!==a&&
(this.size=this.getInnerDomElement().size=a,this.inited&&this.fireEvent("size",a))},setOptions:function(a){this.destroyAllOptions();if(Array.isArray(a)){const b=a.length;for(let c=0;b>c;++c)this.addOption(a[c])}},getOptions:function(){return this.getSubviews().concat()},setValue:function(a){Array.isArray(a)&&myt.areArraysEqual(a,this.value)||this.value===a||(this.value=a,this.inited&&this.fireEvent("value",a))},subviewAdded:function(a){a instanceof myt.InputSelectOption||(myt.dumpStack("Subview not supported. Destroying it."),
a.destroy())},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(myt.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()},getSelectedOptions:function(){const a=this.getOptions(),b=[];let c=a.length,e;for(;c;)e=a[--c],e.isSelected()&&b.push(e);return b},getSelectedOptionValues:function(){const a=this.getOptions(),b=[];let c=a.length,e;for(;c;)e=a[--c],e.isSelected()&&b.push(e.value);
return b},getOptionForValue:function(a){const b=this.getOptions();let c=b.length,e;for(;c;)if(e=b[--c],e.value===a)return e;return null},addOption:function(a){new myt.InputSelectOption(this,a)},destroyAllOptions:function(){const a=this.getOptions();let b=a.length;for(;b;)a[--b].destroy()},destroyOptionWithValue:function(a){if(a=this.getOptionForValue(a))if(a.destroy(),a.destroyed)return!0;return!1},deselectAll:function(){const a=this.getOptions();let b=a.length,c,e=!1;for(;b;)c=a[--b],c.isSelected()&&
(c.setSelected(!1),e=!0);e&&this.__doChanged()},selectValues:function(a){a=Array.isArray(a)?a:[a];let b=a.length;for(;b;)this.selectValue(a[--b])},selectValue:function(a){this.select(this.getOptionForValue(a))},select:function(a){a&&a.canSelect(this)&&(a.setSelected(!0),this.__syncToDom())},deselectValue:function(a){this.deselect(this.getOptionForValue(a))},deselect:function(a){a&&a.canDeselect(this)&&(a.setSelected(!1),this.__syncToDom())},__doChanged:function(a){this.__syncToDom();this.doChanged()},
doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}});
myt.InputSelectOption=new JS.Class("InputSelectOption",myt.View,{include:[myt.Disableable,myt.Selectable],createOurDomElement:function(a){return document.createElement("option")},setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);const b=this.getInnerDomElement();b.selected!==a&&(b.selected=a)},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==a&&(this.value=a,this.getInnerDomElement().value!==a&&
(this.getInnerDomElement().value=a),this.inited&&this.fireEvent("value",a))},setLabel:function(a){this.label!==a&&(this.getInnerDomElement().textContent=this.label=a,this.inited&&this.fireEvent("label",a))},isSelected:function(){return this.getInnerDomElement().selected},canSelect:function(a){return!this.disabled&&!this.getInnerDomElement().selected&&this.parent===a},canDeselect:function(a){return!this.disabled&&this.getInnerDomElement().selected&&this.parent===a}});
myt.FormInputSelect=new JS.Class("FormInputSelect",myt.InputSelect,{include:[myt.FormElement],setValue:function(a){if(!this.__abortSetValue)return a=this.callSuper(a),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(a),this.__abortSetValue=!1,a}});
myt.ValueComponent=new JS.Module("ValueComponent",{initNode:function(a,b){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,b)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,b){const c=this.valueFilter;this.setValueFilter(c?"last"===
b?b=>a(c(b)):b=>c(a(b)):a)}});
(a=>{const b=b=>{const d=a.BAG.getGroup("selected",b.groupId);if(d){const a=d.getNodes();b=b.value;let c=a.length,e;for(;c;)if(e=a[--c],e.optionValue===b){d.setTrue(e);break}}},c=b=>{if(b.groupId){const d=a.BAG.getGroup("selected",b.groupId);d&&b.syncTo(d,"__syncValue","trueNode")}};a.FormRadioGroup=new JS.Class("FormRadioGroup",a.Node,{include:[a.ValueComponent,a.FormElement],initNode:function(e,d){null==d.groupId&&(d.groupId=a.generateGuid());this.callSuper(e,d);void 0!==this.value&&b(this);c(this)},
setValue:function(a){a=this.callSuper(a);this.inited&&b(this);return a},setGroupId:function(b){if(this.groupId!==b){if(this.groupId){const b=a.BAG.getGroup("selected",this.groupId);b&&this.detachFrom(b,"__syncValue","trueNode")}this.groupId=b;this.inited&&c(this)}},__syncValue:function(a){this.setValue(a.value?a.value.optionValue:null)}})})(myt);
(a=>{const b=a=>{const b=a.label||"";a.setText('<i class="'+("solid"===(a.checkboxStyle||"outline")?"fas":"far")+" fa-"+(a.isChecked()?"check-":"")+'square"></i>'+(0<b.length?" ":"")+b)};a.Checkbox=new JS.Class("Checkbox",a.Text,{include:[a.SimpleButtonStyle,a.ValueComponent],initNode:function(c,e){null==e.value&&(e.value=!1);null==e.focusEmbellishment&&(e.focusEmbellishment=!1);null==e.checkboxStyle&&(e.checkboxStyle="outline");null==e.activeColor&&(e.activeColor="inherits");null==e.hoverColor&&
(e.hoverColor="inherits");null==e.readyColor&&(e.readyColor="inherits");this.callSuper(c,e);a.FontAwesome.registerForNotification(this);b(this)},setValue:function(a){this.value!==a&&(this.callSuper(a),this.inited&&b(this))},setLabel:function(a){this.label!==a&&(this.set("label",a,!0),this.inited&&b(this))},setCheckboxStyle:function(a){this.checkboxStyle!==a&&(this.set("checkboxStyle",a,!0),this.inited&&b(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},
drawDisabledState:function(){this.setOpacity(a.Button.DEFAULT_DISABLED_OPACITY);this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
myt.FormCheckbox=new JS.Class("FormCheckbox",myt.Checkbox,{include:[myt.FormElement],initNode:function(a,b){this.rollbackValue=this.defaultValue=!1;this.callSuper(a,b)}});
myt.FormInputTextMixin=new JS.Module("FormInputTextMixin",{include:[myt.FormElement,myt.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";null==b.bgColor&&(b.bgColor="#ffffff");null==b.borderWidth&&(b.borderWidth=1);null==b.borderStyle&&(b.borderStyle="solid");null==b.focusEmbellishment&&(b.focusEmbellishment=!0);this.callSuper(a,b);this.addValueProcessor(myt.global.valueProcessors.getValueProcessor("undefToEmpty"));
this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&
this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":myt.global.focus.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");
break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__handleKeyDown:function(a){13===myt.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("accept")},__handleKeyUp:function(a){27===myt.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?
this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
myt.BaseInputText=new JS.Class("BaseInputText",myt.NativeInputWrapper,{include:[myt.TextSupport],initNode:function(a,b){null==b.bgColor&&(b.bgColor="transparent");null==b.spellcheck&&(b.spellcheck=!1);this.callSuper(a,b);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(a){this.callSuper(a);this.setValue(a)},setSpellcheck:function(a){this.spellcheck!==a&&(this.spellcheck=this.getInnerDomElement().spellcheck=
a,this.inited&&this.fireEvent("spellcheck",a))},setMaxLength:function(a){if(null==a||0>a)a=void 0;this.maxLength!==a&&(this.maxLength=this.getInnerDomElement().maxLength=a,this.inited&&this.fireEvent("maxLength",a))},setAllowedChars:function(a){this.allowedChars=a},setPlaceholder:function(a){this.placeholder!==a&&(this.getInnerDomElement().placeholder=this.placeholder=a,this.inited&&this.fireEvent("placeholder",a))},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(myt.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE)},
hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()},__filterInput:function(a){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(a){a=a.value;const b=a.which;switch(b){case 8:case 0:return}const c=this.allowedChars;c&&-1===c.indexOf(String.fromCharCode(b))&&a.preventDefault();this.filterInputPress(a)},filterInput:function(a){return a},filterInputPress:function(a){},__syncToDom:function(a){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const a=
document.selection.createRange();a.moveStart("character",-this.getDomValue().length);return a.text.length}return this.getInnerDomElement().selectionStart||0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}var c=this.getInnerDomElement();c.setSelectionRange?c.setSelectionRange(a,b):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())},setCaretToStart:function(){this.setCaretPosition(0)},
setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getInnerDomElement().select()},getSelection:function(){const a=this.getInnerDomElement();return{start:a.selectionStart,startElem:a,end:a.selectionEnd,endElem:a}},setSelection:function(a){a&&this.setCaretPosition(a.start,a.end)},saveSelection:function(a){this._selRange=a||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});
myt.InputText=new JS.Class("InputText",myt.BaseInputText,{include:[myt.SizeHeightToDom],initNode:function(a,b){this.inputType=!0===b.password?"password":"text";this.callSuper(a,b);this.setCaretToEnd()},setPassword:function(a){this.password=a}});myt.FormInputText=new JS.Class("FormInputText",myt.InputText,{include:[myt.FormInputTextMixin]});
myt.ComboBox=new JS.Class("ComboBox",myt.InputText,{include:[myt.Activateable,myt.KeyActivation,myt.ListViewAnchor],initNode:function(a,b){this.filterItems=!0;null==b.activationKeys&&(b.activationKeys=[13,27,38,40]);null==b.bgColor&&(b.bgColor="#ffffff");null==b.borderWidth&&(b.borderWidth=1);null==b.borderStyle&&(b.borderStyle="solid");null==b.floatingAlignOffset&&(b.floatingAlignOffset=b.borderWidth);null==b.listViewAttrs&&(b.listViewAttrs={maxHeight:99});null==b.fullItemConfig&&(b.fullItemConfig=
[]);this.callSuper(a,b)},setFullItemConfig:function(a){this.fullItemConfig=a},setFilterItems:function(a){this.filterItems=a},__syncToDom:function(a){const b=this.value;this.callSuper(a);b!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);if(b){let e;if(this.filterItems){e=[];var c=this.value;c=null==c?"":(""+c).toLowerCase();const a=this.fullItemConfig,b=a.length;let g=0,h,l,k;for(;b>g;)h=a[g++],l=h.attrs.text.toLowerCase(),k=l.indexOf(c),0===k?
l!==c&&e.push(h):0<k&&e.push(h)}else e=this.fullItemConfig;0<e.length?(b.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(e),this.callSuper(a)):this.hideFloatingPanel(a)}},doItemActivated:function(a){this.setValue(a.text);this.callSuper(a)},doActivated:function(){this.toggleFloatingPanel()}});
myt.FormComboBox=new JS.Class("FormComboBox",myt.ComboBox,{include:[myt.FormElement,myt.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";this.callSuper(a,b);this.addValueProcessor(myt.global.valueProcessors.getValueProcessor("undefToEmpty"));this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=
a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":myt.global.focus.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(a){this._isShown=!0},notifyPanelHidden:function(a){this._isShown=!1},doActivationKeyDown:function(a,b){27!==a||this._isShown?this.callSuper(a,b):this.invokeAccelerator("reject")},
doActivationKeyUp:function(a){13!==a||this._isShown?this.callSuper(a):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
myt.InputTextArea=new JS.Class("InputTextArea",myt.BaseInputText,{initNode:function(a,b){null==b.tagName&&(b.tagName="textarea");b.inputType=null;null==b.resize&&(b.resize="none");null==b.wrap&&(b.wrap="soft");this.callSuper(a,b)},setResize:function(a){this.resize!==a&&(this.resize=this.getInnerDomStyle().resize=a||"none",this.inited&&this.fireEvent("resize",a))},setWrap:function(a){this.wrap!==a&&(this.wrap=this.getInnerDomElement().wrap=a,this.inited&&this.fireEvent("wrap",a))}});
myt.FormInputTextArea=new JS.Class("FormInputTextArea",myt.InputTextArea,{include:[myt.FormInputTextMixin],__handleKeyDown:function(a){}});
myt.EditableText=new JS.Class("EditableText",myt.BaseInputText,{include:[myt.SizeToDom],initNode:function(a,b){null==b.tagName&&(b.tagName="div");b.inputType=null;null==b.whiteSpace&&(b.whiteSpace="pre");null==b.contentEditable&&(b.contentEditable=!0);this.callSuper(a,b);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(a){this.__setProp(a,"minWidth")},setMinHeight:function(a){"Firefox"===
BrowserDetect.browser&&(a+=2);this.__setProp(a,"minHeight")},setPadding:function(a){this.setPaddingTop(a);this.setPaddingRight(a);this.setPaddingBottom(a);this.setPaddingLeft(a)},setPaddingTop:function(a){this.__setProp(a,"paddingTop")},setPaddingRight:function(a){this.__setProp(a,"paddingRight")},setPaddingBottom:function(a){this.__setProp(a,"paddingBottom")},setPaddingLeft:function(a){this.__setProp(a,"paddingLeft")},__setProp:function(a,b){this[b]!==a&&(this[b]=a,this.deStyle[b]=a+"px",this.inited&&
(this.fireEvent(b,a),this.sizeViewToDom()))},setContentEditable:function(a){this.contentEditable!==a&&(this.contentEditable=this.getInnerDomElement().contentEditable=a,this.inited&&this.fireEvent("contentEditable",a))},filterInputPress:function(a){const b=this.maxLength;0<=b&&this.getCharacterCount()===b&&a.preventDefault();this.callSuper(a)},getDomValue:function(){return this.getInnerDomElement().innerHTML},setDomValue:function(a){const b=this.getInnerDomElement();b.innerHTML!==a&&(b.innerHTML=a,
this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(a){13===myt.KeyObservable.getKeyCodeFromEvent(a)&&(a.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(a){this.callSuper(a);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const a=this.getInnerDomElement().firstChild;return a?a.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===
this.getCharacterCount()},getCaretPosition:function(){const a=this.getSelection();return a?a.end:0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}this.saveSelection({start:a,startElem:this.getInnerDomElement().firstChild,end:b,endElem:this.getInnerDomElement().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(a){this.saveSelection();return!0},getSelection:function(){let a;if(window.getSelection){const b=
window.getSelection();if(0<b.rangeCount){if(b.extentNode===this.getInnerDomElement())return null;a=b.getRangeAt(0)}}else document.selection&&(a=document.selection.createRange());return{start:a?a.startOffset:0,startElem:a?a.startContainer:this.getInnerDomElement().firstChild,end:a?a.endOffset:0,endElem:a?a.endContainer:this.getInnerDomElement().firstChild}},setSelection:function(a){if(a){const b=a.startElem,c=a.endElem;if(b&&b.parentNode&&c&&c.parentNode){const e=document.createRange();e.setStart(b,
Math.min(a.start,b.length));e.setEnd(c,Math.min(a.end,c.length));window.getSelection?(a=window.getSelection(),0<a.rangeCount&&a.removeAllRanges(),a.addRange(e)):document.selection&&e.select()}}}});myt.FormEditableText=new JS.Class("FormEditableText",myt.EditableText,{include:[myt.FormInputTextMixin],__handleKeyDown:function(a){"nowrap"===this.whitespace&&this.callSuper(a)}});
myt.BoundedValueComponent=new JS.Module("BoundedValueComponent",{include:[myt.ValueComponent],initNode:function(a,b){this.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==b.snapToInt&&(b.snapToInt=!0);if(!b.valueFilter){const a=this;b.valueFilter=function(b){var d=a.maxValue;if(null!=d&&b>d)return d;d=a.minValue;return null!=d&&b<d?d:b}}this.callSuper(a,b)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=Math.round(a));if(this.minValue!==a){const b=this.maxValue;null!=b&&a>b&&(a=b);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=Math.round(a));if(this.maxValue!==a){const b=this.minValue;null!=b&&a<b&&(a=b);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",
a),this.setValue(this.value)))}},setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?Math.round(a):a)}});
(a=>{let b,c,e;const d=[],f=[],g=a=>{const d=e;d!==a&&(d&&(d.notifyDragLeave(c),c.destroyed||c.notifyDragLeave(d),b.fireEvent("dragLeave",d)),e=a)&&(a.notifyDragEnter(c),c.destroyed||c.notifyDragEnter(a),b.fireEvent("dragEnter",d))},h=a=>{let e=c,g,h,k,q;if(e!==a){(c=a)?(e=a,g="notifyDragStart",h="startDrag"):(g="notifyDragStop",h="stopDrag");k=l(e,f);for(q=k.length;q;)k[--q][g](e);k=l(e,d);for(q=k.length;q;)k[--q][g](e);b.fireEvent(h,a)}},l=(a,b)=>{let d;if(a.destroyed)d=[];else if(a.acceptAnyDragGroup())d=
b;else{d=[];a=a.getDragGroups();let c=b.length,f,e,g;for(;c;)if(f=b[--c],f.acceptAnyDragGroup())d.push(f);else for(g in e=f.getDragGroups(),a)if(e[g]){d.push(f);break}}return d};new JS.Singleton("GlobalDragManager",{include:[a.Observable],initialize:function(){a.global.register("dragManager",b=this)},getDragView:()=>c,registerAutoScroller:a=>{d.push(a)},unregisterAutoScroller:a=>{let b=d.length;for(;b;)if(d[--b]===a){d.splice(b,1);break}},registerDropTarget:a=>{f.push(a)},unregisterDropTarget:a=>
{let b=f.length;for(;b;)if(f[--b]===a){f.splice(b,1);break}},startDrag:a=>{h(a)},stopDrag:(a,d,c)=>{d.notifyDropped(e,c);e&&!c&&e.notifyDrop(d);g();h();e&&!c&&b.fireEvent("drop",[d,e])},updateDrag:(a,b)=>{const d=l(b,f);let c=d.length,e;if(0<c){var h=a.value;a=h.pageX;for(h=h.pageY;c;){let f=d[--c];f.willAcceptDrop(b)&&b.willPermitDrop(f)&&f.isPointVisible(a,h)&&(!e||f.isInFrontOf(e))&&(e=f)}}g(e)}})})(myt);
(a=>{const b=a.global,c=b.mouse,e=b.keys;a.Draggable=new JS.Module("Draggable",{initNode:function(a,b){let d=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(d=b.isDraggable,delete b.isDraggable);this.callSuper(a,b);this.setIsDraggable(d)},setIsDraggable:function(a){let b,d,c;if(this.isDraggable!==a&&((this.isDraggable=a)?b=this.attachToDom:this.inited&&(b=this.detachFromDom),b))for(a=this.getDragViews(),
c=a.length;c;)d=a[--c],b.call(this,d,"__doMouseDown","mousedown"),b.call(this,d,"__doContextMenu","contextmenu")},setIsDragging:function(a){this.set("isDragging",a,!0)},setDragOffsetX:function(a,b){this.dragOffsetX!==a&&(this.dragOffsetX=a,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDragOffsetY:function(a,b){this.dragOffsetY!==a&&(this.dragOffsetY=a,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(a){this.distanceBeforeDrag=a},
setDraggableAllowBubble:function(a){this.draggableAllowBubble=a},setCenterOnMouse:function(a){this.centerOnMouse=a},setAllowAbort:function(a){this.allowAbort=a},getDragViews:function(){return[this]},__doContextMenu:a=>{},__doMouseDown:function(b){const d=a.MouseObservable.getMouseFromEvent(b),e=this.getOuterDomElement();this.dragInitX=d.x-e.offsetLeft;this.dragInitY=d.y-e.offsetTop;this.attachToDom(c,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(c,"__doDragCheck","mousemove",
!0):this.startDrag(b);b.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(a){this.isDragging?this.stopDrag(a,!1):(this.detachFromDom(c,"__doMouseUp","mouseup",!0),this.detachFromDom(c,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(a){27===a.value&&this.stopDrag(a,!0)},__doDragCheck:function(b){const d=a.MouseObservable.getMouseFromEvent(b);a.Geometry.measureDistance(d.x,d.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&
(this.detachFromDom(a.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(b))},startDrag:function(a){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(e,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(c,"updateDrag","mousemove",!0);this.updateDrag(a)},updateDrag:function(b){this.__lastMousePosition=a.MouseObservable.getMouseFromEvent(b);this.reRequestDragPosition()},__updateDragInitX:function(a){this.dragInitX=
this.width/2*(this.scaleX||1)},__updateDragInitY:function(a){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(a,b){this.detachFromDom(c,"__doMouseUp","mouseup",!0);this.detachFromDom(c,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(e,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(a,b){this.disabled||(this.setX(a),
this.setY(b))},reRequestDragPosition:function(){const a=this.__lastMousePosition;this.requestDragPosition(a.x-this.dragInitX+this.dragOffsetX,a.y-this.dragInitY+this.dragOffsetY)}})})(myt);
myt.SliderThumbMixin=new JS.Module("SliderThumbMixin",{include:[myt.Draggable],initNode:function(a,b){null==b.width&&(b.width=a.thumbWidth);null==b.height&&(b.height=a.thumbHeight);null==b.repeatKeyDown&&(b.repeatKeyDown=!0);null==b.activationKeys&&(b.activationKeys=[37,38,39,40]);this.callSuper(a,b);"x"===a.axis?this.setY(a.thumbOffset):this.setX(a.thumbOffset);this.syncTo(a,"setDisabled","disabled");a._syncThumbToValue(this,a.getValue())},setDisabled:function(a){null!=a&&"object"===typeof a&&(a=
a.value);this.callSuper(a)},setFocused:function(a){this.callSuper(a);a&&this.makeHighestZIndex()},setX:function(a){this.x!==a&&(this.callSuper(a),a=this.parent,"x"===a.axis&&a._syncValueToThumb(this))},setY:function(a){this.y!==a&&(this.callSuper(a),a=this.parent,"y"===a.axis&&a._syncValueToThumb(this))},requestDragPosition:function(a,b){if(!this.disabled){var c=this.parent;const e=c.getMinPixelValueForThumb(this),d=c.getMaxPixelValueForThumb(this);"x"===c.axis?(c=this.width/2,b=this.setX):(c=this.height/
2,a=b,b=this.setY);b.call(this,Math.min(Math.max(a,e-c),d-c))}},doActivationKeyDown:function(a,b){const c=this.parent;switch(a){case 37:c.nudgeValueLeft(this);break;case 38:c.nudgeValueUp(this);break;case 39:c.nudgeValueRight(this);break;case 40:c.nudgeValueDown(this)}this.callSuper(a,b)}});
myt.SimpleSliderThumb=new JS.Class("SimpleSliderThumb",myt.SimpleButton,{include:[myt.SliderThumbMixin],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.readyColor&&(b.readyColor="#cccccc");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.boxShadow&&(b.boxShadow=[0,0,4,"#666666"]);this.callSuper(a,b);null==b.roundedCorners&&this.setRoundedCorners(Math.min(this.height,this.width)/2)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,
0,9,"#666666"])},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,4,"#666666"])}});
myt.BaseSlider=new JS.Class("BaseSlider",myt.View,{include:[myt.Disableable],initNode:function(a,b){null==b.axis&&(b.axis="x");"x"===b.axis?(null==b.width&&(b.width=100),null==b.height&&(b.height=18)):(null==b.width&&(b.width=18),null==b.height&&(b.height=100));null==b.bgColor&&(b.bgColor="#999999");null==b.roundedCorners&&(b.roundedCorners=9);null==b.trackInset&&(b.trackInset=9);null==b.trackOutset&&(b.trackOutset=9);null==b.thumbWidth&&(b.thumbWidth=16);null==b.thumbHeight&&(b.thumbHeight=16);null==
b.thumbOffset&&(b.thumbOffset=1);null==b.nudgeAmount&&(b.nudgeAmount=1);null==b.thumbClass&&(b.thumbClass=myt.SimpleSliderThumb);this.callSuper(a,b)},setAxis:function(a){this.axis=a},setTrackInset:function(a){this.trackInset=a},setTrackOutset:function(a){this.trackOutset=a},setThumbWidth:function(a){this.thumbWidth=a},setThumbHeight:function(a){this.thumbHeight=a},setThumbOffset:function(a){this.thumbOffset=a},setThumbClass:function(a){this.thumbClass=a},setNudgeAmount:function(a){this.nudgeAmount=
a},convertValueToPixels:function(a){const b=this.minValue,c=this.trackInset;return c+(("x"===this.axis?this.width:this.height)-c-this.trackOutset)/(this.maxValue-b)*(a-b)},convertPixelsToValue:function(a){const b=this.minValue,c=this.trackInset;return(this.maxValue-b)/(("x"===this.axis?this.width:this.height)-c-this.trackOutset)*(a-c)+b},nudgeValueLeft:function(a){this._nudge(a,!1)},nudgeValueUp:function(a){this._nudge(a,!1)},nudgeValueRight:function(a){this._nudge(a,!0)},nudgeValueDown:function(a){this._nudge(a,
!0)},_nudge:function(a,b){},_syncThumbToValue:function(a,b){b=this.convertValueToPixels(b);"x"===this.axis?a.setX(b-a.width/2):a.setY(b-a.height/2)}});
myt.Slider=new JS.Class("Slider",myt.BaseSlider,{include:[myt.BoundedValueComponent],initNode:function(a,b){this.callSuper(a,b);new this.thumbClass(this,{name:"thumb"})},setValue:function(a){this.callSuper(a);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(a,b){const c=this.height;this.callSuper(a,
b);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(a){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this.setValue(this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2)),this._syncThumbToValue(a,this.getValue()),this.__lockSync=!1)},_nudge:function(a,b){this.setValue(this.getValue()+this.nudgeAmount*(b?1:-1))},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(this.maxValue)}});
myt.RangeComponent=new JS.Module("RangeComponent",{include:[myt.ValueComponent],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var b=this.value;const c=b?b.lower:
void 0;b=b?b.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==c||a.upper!==b){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const b=a.lower;a.lower=a.upper;a.upper=b}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==c&&this.fireEvent("lowerValue",a.lower),a.upper!==b&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=this.value;return{lower:a.lower,
upper:a.upper}}});
myt.BoundedRangeComponent=new JS.Module("BoundedRangeComponent",{include:[myt.BoundedValueComponent,myt.RangeComponent],initNode:function(a,b){if(!b.valueFilter){const a=this;b.valueFilter=function(b){if(b){const d=a.maxValue,c=a.minValue;null!=d&&b.upper>d&&(b.upper=d);null!=c&&b.lower<c&&(b.lower=c)}return b}}this.callSuper(a,b)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=Math.round(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=Math.round(a.upper)));this.callSuper(a)}});
myt.SimpleSliderRangeFill=new JS.Class("SimpleSliderRangeFill",myt.View,{initNode:function(a,b){null==b.bgColor&&(b.bgColor="#666666");this.callSuper(a,b);"x"===a.axis?(this.setY(a.thumbOffset),this.setHeight(a.thumbHeight),this.setRoundedCorners(a.thumbHeight/2)):(this.setX(a.thumbOffset),this.setWidth(a.thumbWidth),this.setRoundedCorners(a.thumbWidth/2));a._syncRangeFillToValue()}});
myt.RangeSlider=new JS.Class("RangeSlider",myt.BaseSlider,{include:[myt.BoundedRangeComponent],initNode:function(a,b){null==b.rangeFillClass&&(b.rangeFillClass=myt.SimpleSliderRangeFill);this.callSuper(a,b);new this.rangeFillClass(this,{name:"rangeFill"});new this.thumbClass(this,{name:"thumbLower"});new this.thumbClass(this,{name:"thumbUpper"})},setRangeFillClass:function(a){this.rangeFillClass=a},setValue:function(a){this.callSuper(a);this.inited&&(this.__lockSync||(a=this.getValue(),this._syncThumbToValue(this.thumbLower,
a),this._syncThumbToValue(this.thumbUpper,a)),this._syncRangeFillToValue())},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},setHeight:function(a,b){const c=this.height;this.callSuper(a,b);this.inited&&"y"===this.axis&&this.height!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,
a))},_syncRangeFillToValue:function(){const a=this.rangeFill;var b=this.getValue();const c=this.convertValueToPixels(b.lower);b=this.convertValueToPixels(b.upper)-c;"x"===this.axis?(a.setX(c),a.setWidth(b)):(a.setY(c),a.setHeight(b))},_syncThumbToValue:function(a,b){this.callSuper(a,"thumbLower"===a.name?b.lower:b.upper)},_syncValueToThumb:function(a){if(this.inited&&!this.__lockSync){this.__lockSync=!0;const b=this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2);let c=this.getValueCopy();
"thumbLower"===a.name?c.lower=b:c.upper=b;this.setValue(c);c=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,c);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,c);this.__lockSync=!1}},_nudge:function(a,b){const c=this.getValueCopy();b=this.nudgeAmount*(b?1:-1);"thumbLower"===a.name?(c.lower+=b,c.lower>c.upper&&(c.lower=c.upper)):(c.upper+=b,c.lower>c.upper&&(c.upper=c.lower));this.setValue(c)},getMinPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===
a.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===a.name?this.getValue().upper:this.maxValue)}});
(a=>{const b=JS.Class,c=a=>{const b="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,b,a.parent,b])},e=new b("BaseDivider",a.SimpleButton,{include:[a.BoundedValueComponent,a.Draggable],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.readyColor&&(b.readyColor="#cccccc");null==b.axis&&(b.axis="x");null==b.minValue&&(b.minValue=0);null==b.value&&(b.value=b.minValue);null==b.expansionState&&(b.expansionState=
2);null==b.focusEmbellishment&&(b.focusEmbellishment=!1);null==b.repeatKeyDown&&(b.repeatKeyDown=!0);null==b.activationKeys&&(b.activationKeys=[37,38,39,40,13,32]);"y"===b.axis?(null==b.height&&(b.height=6),null==b.cursor&&(b.cursor="row-resize")):(null==b.width&&(b.width=6),null==b.cursor&&(b.cursor="col-resize"));this.__nudgeAcc=1;this.callSuper(a,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&c(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},
setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):c(this)))},setAxis:function(a){this.inited?console.warn("Axis may not be updated after instantiation."):this.axis=a},setValue:function(a,b){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);b&&this.setRestoreValue(a)},
__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,b){this.callSuper(a,b);switch(a){case 37:case 38:a=-1;break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=b?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const a=this.restoreValue,b=this.maxValue,c=this.minValue;let e;switch(this.expansionState){case 0:null!=
a&&(this.setExpansionState(1),a===c?a!==b&&this.doPrimaryAction():e=a);break;case 1:null!=b&&(this.setExpansionState(3),this.value===b?this.doPrimaryAction():e=b);break;case 2:null!=c&&(this.setExpansionState(0),this.value===c?this.doPrimaryAction():e=c);break;case 3:null!=a&&(this.setExpansionState(2),a===b?this.doPrimaryAction():e=a)}null!=e&&(this.stopActiveAnimators("value"),this.animateOnce("value",e,null,250))},requestDragPosition:function(a,b){this.disabled||(this.setValue("y"===this.axis?
b:a,!0),this.setExpansionState(2))}});a.HorizontalDivider=new b("HorizontalDivider",e,{initNode:function(a,b){b.axis="x";this.callSuper(a,b)}});a.VerticalDivider=new b("VerticalDivider",e,{initNode:function(a,b){b.axis="y";this.callSuper(a,b)}})})(myt);
(a=>{const b=a=>{a=a.columnHeaders;let b=a.length;for(;b;){const c=a[--b];if(c.visible)return c}return null},c=a=>{const b=a.columnHeaders;var c=a.sort;const d=c?c[0]:"";c=c?c[1]:"";let e=b.length;for(;e;){const a=b[--e];a.columnId===d?a.sortable&&a.setSortState(c):a.setSortState("none")}a.locked||a.doSort()},e=(a,b,c,e)=>{if(0!==b){const g=0<b,h=[];for(var d=a.length,f;d;)f=a[--d],f.resizable&&(c?0<f.flex:0===f.flex)&&h.push({hdr:f,limit:(g?f.maxValue:f.minValue)-f.value,amt:0});a=h.length;if(0<
a){let k=d=0;for(;0!==b;){const e=h[d];f=e.hdr;e.full?++k:(g?(f=Math.min(c?f.flex:1,b),e.amt+f>e.limit&&(f=e.limit-e.amt,e.full=!0)):(f=Math.max(c?-f.flex:-1,b),e.amt+f<e.limit&&(f=e.limit-e.amt,e.full=!0)),e.amt+=f,b-=f);if(k===a)break;++d;d===a&&(k=d=0)}h.forEach(a=>{a.hdr.setValue(a.hdr.value+a.amt)});e&&e(b)}}};a.GridController=new JS.Module("GridController",{initNode:function(a,b){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(a,
b);this.fitHeadersToWidth();c(this)},setMaxWidth:function(a){this.set("maxWidth",a,!0)},setMinWidth:function(a){this.set("minWidth",a,!0)},setFitToWidth:function(a){this.fitToWidth=a},setSort:function(b){a.areArraysEqual(b,this.sort)||(this.sort=b,this.inited&&(this.fireEvent("sort",b),c(this)))},setLastColumn:function(a){const b=this.lastColumn;b!==a&&(b&&b.setLast(!1),(this.lastColumn=a)&&a.setLast(!0))},setLocked:function(a){this.locked=a;this.inited&&!a&&(this.__tempLock=!0,this.fitHeadersToWidth(),
this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(a=>{this.notifyColumnHeaderXChange(a);this.notifyColumnHeaderWidthChange(a);this.notifyColumnHeaderVisibilityChange(a)}),this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.gridWidth!==a&&(this.gridWidth=a,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevColumnHeader:function(a){const b=this.columnHeaders;a=
this.getColumnHeaderIndex(a);if(0<a)for(;a;){const c=b[--a];if(c.visible)return c}return null},getNextColumnHeader:function(a){const b=this.columnHeaders,c=b.length;a=this.getColumnHeaderIndex(a)+1;if(0<a&&a<c)for(;c>a;a++){const c=b[a];if(c.visible)return c}return null},hasColumnHeader:function(a){return-1!==this.getColumnHeaderIndex(a)},getColumnHeaderIndex:function(a){return this.columnHeaders.indexOf(a)},getColumnHeaderById:function(a){const b=this.columnHeaders;let c=b.length;for(;c;){const d=
b[--c];if(d.columnId===a)return d}return null},getVisibleColumnHeaders:function(){return this.columnHeaders.filter(a=>a.visible)},notifyAddColumnHeader:function(a){this.hasColumnHeader(a)||(this.columnHeaders.push(a),a.visible&&this.setLastColumn(a))},notifyRemoveColumnHeader:function(a){const b=this.getColumnHeaderIndex(a);0<=b&&(this.columnHeaders.splice(b,1),a.visible&&a.last&&this.setLastColumn(this.getPrevColumnHeader(a)))},notifyColumnHeaderXChange:function(a){this.isLocked()||this.rows.forEach(b=>
{b.notifyColumnHeaderXChange(a)})},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.rows.forEach(b=>{b.notifyColumnHeaderWidthChange(a)})},notifyColumnHeaderVisibilityChange:function(a){if(!this.isLocked()){this.updateRowsForVisibilityChange(a);this.setLastColumn(b(this));const c=a.visible?1:-1;this.setMaxWidth(this.maxWidth+a.maxValue*c);this.setMinWidth(this.minWidth+a.minValue*c);this.fitHeadersToWidth()}},updateRowsForVisibilityChange:function(a){this.rows.forEach(b=>{b.notifyColumnHeaderVisibilityChange(a)})},
hasRow:function(a){return-1!==this.getRowIndex(a)},getRowIndex:function(a){return this.rows.indexOf(a)},getRowById:function(a,b=b=>b.model.id===a){return this.rows.find(b)},getPrevRow:function(a){a=this.getRowIndex(a)-1;return this.rows[0>a?this.rows.length-1:a]},getNextRow:function(a){a=this.getRowIndex(a)+1;return this.rows[a<this.rows.length?a:0]},notifyAddRow:function(a,b){if(!this.hasRow(a)&&(this.rows.push(a),!this.locked)){const c=this.width;this.columnHeaders.forEach(b=>{a.setWidth(c);a.notifyColumnHeaderXChange(b);
a.notifyColumnHeaderWidthChange(b);a.notifyColumnHeaderVisibilityChange(b)});b||this.doSort()}},notifyRemoveRow:function(a){a=this.getRowIndex(a);0<=a&&this.rows.splice(a,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const a=this.getVisibleColumnHeaders();let b=0;a.forEach(a=>{b=Math.max(b,a.x+a.width)});e(a,this.gridWidth-b,!0,b=>{e(a,b,!1,null)})}}})})(myt);
(a=>{const b=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.maxValue-a.value+b(a):0,c=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):null)?a.maxValue-a.value+c(a):0,e=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.minValue-a.value+e(a):0,d=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):null)?a.minValue-a.value+d(a):0,f=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+b;a.resizable&&
a.setValue(c);const d=c-a.value;c=b-d;0>d&&(c+=f(a,d))}return c},g=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+b;a.resizable&&a.setValue(c);const d=c-a.value;c=b-d;0<d&&(c+=g(a,d))}return c},h=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=a.value,0>b&&h(a,b)},l=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=
a.value,0<b&&l(a,b)};a.GridColumnHeader=new JS.Module("GridColumnHeader",{include:[a.BoundedValueComponent],initNode:function(k,m){const n=this;let p;null==m.minValue&&(m.minValue=16);null==m.maxValue&&(m.maxValue=9999);null==m.resizable&&(m.resizable=!0);null==m.flex&&(m.flex=0);null==m.cellXAdj&&(m.cellXAdj=0);null==m.cellWidthAdj&&(m.cellWidthAdj=0);null==m.sortable&&(m.sortable=!0);null==m.sortState&&(m.sortState="none");null==m.placement&&(m.placement="*");n.callSuper(k,m);p=n.gridController;
new a.View(n,{name:"resizer",cursor:"col-resize",width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[a.SizeToParent,a.Draggable,{requestDragPosition:function(a,k){a-=this.x;if(p.fitToWidth&&(0<a?(k=n.maxValue-n.value,a=Math.min(a,Math.min(-d(n),k+b(n)))):0>a&&(k=n.minValue-n.value,a=Math.max(a,Math.max(-c(n),k+e(n)))),0===a))return;k=n.value+a;n.resizable&&n.setValue(k);k-=n.value;a=k-a;let m=0;0>k?m=f(n,k):0<k&&(m=g(n,k));this.dragInitX+=m;a-=m;p.fitToWidth&&
(0>a?h(n,a):0<a&&l(n,a))}}]);p&&(p.notifyAddColumnHeader(n),p.notifyColumnHeaderXChange(n),p.notifyColumnHeaderVisibilityChange(n));n.setWidth(n.value);n.resizer.setVisible(!(n.last&&n.gridController.fitToWidth))},destroy:function(a){this.setGridController();this.callSuper(a)},setSortable:function(a){this.set("sortable",a,!0)},setSortState:function(a){this.set("sortState",a,!0)},setResizable:function(a){this.set("resizable",a,!0)},setCellWidthAdj:function(a){this.cellWidthAdj=a},setCellXAdj:function(a){this.cellXAdj=
a},setFlex:function(a){this.flex=a},setColumnId:function(a){this.columnId=a},setLast:function(a){this.last=a;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveColumnHeader(this),this.gridController=a,this.inited&&a&&(a.notifyAddColumnHeader(this),a.notifyColumnHeaderXChange(this),a.notifyColumnHeaderWidthChange(this),a.notifyColumnHeaderVisibilityChange(this)))},setValue:function(a){this.callSuper(a);
this.inited&&this.setWidth(this.value)},setMinValue:function(a){const b=this.minValue||0,c=this.gridController;this.callSuper(a);this.inited&&c&&b!==this.minValue&&c.setMinWidth(c.minWidth+this.minValue-b)},setMaxValue:function(a){const b=this.maxValue||0,c=this.gridController;null==a&&(a=9999);this.callSuper(a);this.inited&&c&&b!==this.maxValue&&c.setMaxWidth(c.maxWidth+this.maxValue-b)},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&this.gridController&&c!==this.width&&
this.gridController.notifyColumnHeaderWidthChange(this)},setX:function(a){const b=this.x;this.callSuper(a);this.inited&&this.gridController&&b!==this.x&&this.gridController.notifyColumnHeaderXChange(this)},setVisible:function(a){const b=this.visible;this.callSuper(a);this.inited&&this.gridController&&b!==this.visible&&this.gridController.notifyColumnHeaderVisibilityChange(this)}})})(myt);
(a=>{const b=a.View;a.GridRow=new JS.Module("GridRow",{initNode:function(a,b){null==b.placement&&(b.placement="*");this.callSuper(a,b);(a=this.gridController)&&a.notifyAddRow(this)},destroy:function(a){this.setGridController();this.callSuper(a)},setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveRow(this),this.gridController=a,this.inited&&a&&a.notifyAddRow(this))},notifyColumnHeaderXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyColumnHeaderWidthChange:function(a){const b=
this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyColumnHeaderVisibilityChange:function(a){const b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}});a.Grid=new JS.Class("Grid",b,{include:[a.GridController],initNode:function(c,e){const d=a.SpacedLayout;null==e.overflow&&(e.overflow="autox");null==e.bgColor&&(e.bgColor="#cccccc");null==e.rowSpacing&&(e.rowSpacing=1);null==e.columnSpacing&&(e.columnSpacing=1);var f=e.isAutoScrolling;delete e.isAutoScrolling;this.callSuper(c,e);
c=new b(this,{name:"header",overflow:"hidden"});new d(c,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new a.SizeToChildren(c,{name:"yLayout",locked:!0,axis:"y"});e=this.sizeHeightToRows;f=new b(this,{name:"content",overflow:e?"hidden":"autoy"},f?[a.AutoScroller]:[]);new d(f,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:e});this.syncTo(this,"setGridWidth","width");this.syncTo(c,"_updateContentWidth","width");this.constrain("_updateContentHeight",
[e?f:this,"height",c,"height",c,"y"])},setSizeHeightToRows:function(a){this.sizeHeightToRows=a},setRowSpacing:function(a){this.rowSpacing!==a&&(this.rowSpacing=a,this.inited&&this.content.yLayout.setSpacing(a))},setColumnSpacing:function(a){this.columnSpacing!==a&&(this.columnSpacing=a,this.inited&&this.header.xLayout.setSpacing(a))},setLocked:function(a){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(b=>{a?b.incrementLockedCounter():(b.decrementLockedCounter(),
b.update())});this.callSuper(a)},_updateContentWidth:function(a){const b=this.content,c=b.getSubviews(),f=a.value;b.setWidth(f);c.forEach(a=>{a.setWidth(f)})},_updateContentHeight:function(a){var b=this.header;a=this.content;b=b.y+b.height;a.setY(b);this.sizeHeightToRows?this.setHeight(b+a.height):a.setHeight(this.height-b)},determinePlacement:function(b,e){if("*"===b){let b;e.isA(a.GridRow)?b=this.content:e.isA(a.GridColumnHeader)&&(b=this.header);if(b)return e.gridController!==this&&e.setGridController(this),
b}return this.callSuper(b,e)},doSort:function(){var a=this.sort||["",""];if(a=this.getSortFunction(a[0],a[1])){const b=this.content,c=b.yLayout;this.rows.sort(a);b.sortSubviews(a);c.sortSubviews(a);c.update()}},getSortFunction:(a,b)=>{if(a){const c="ascending"===b?1:-1,f=a+"View";return(a,b)=>{a=a[f].text;b=b[f].text;return a>b?c:b>a?-c:0}}}})})(myt);
(a=>{const b=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),c=a=>{let b=a.properties;b?(b="string"===typeof b?b.split(" "):b.concat(),b.unshift(a.size),b.unshift(a.icon)):b=[a.icon,a.size];a.setHtml(e.makeTag(b))};a.loadCSSFonts(["//use.fontawesome.com/releases/v5.0.8/css/all.css"]);const e=a.FontAwesome=new JS.Class("FontAwesome",a.Markup,{extend:{makeTag:function(c){if(Array.isArray(c)){let a=c.length,d,e;if(0<a){c.unshift("fa");++a;0!==c[1].indexOf("fa-")&&(c[1]="fa-"+c[1]);3<=a&&(c[2]=b[c[2]]||"");
if(3<a)for(e=3;a>e;++e)d=c[e],0!==d.indexOf("fa-")&&(c[e]="fa-"+d);return'<i class="'+c.join(" ")+'"></i>'}}a.dumpStack("Error making tag");console.error(c);return""},registerForNotification:b=>{a.registerForFontNotification(b,"Font Awesome 5 Free 400");a.registerForFontNotification(b,"Font Awesome 5 Free 900");a.registerForFontNotification(b,"Font Awesome 5 Brands 400")}},initNode:function(a,b){this.size=0;this.icon="";this.callSuper(a,b);c(this);e.registerForNotification(this)},setIcon:function(a){const b=
this.icon;this.set("icon",a,!0);this.inited&&b!==a&&c(this)},setSize:function(a){const b=this.size;this.set("size",a,!0);this.inited&&b!==a&&c(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",a);this.inited&&c(this)}})})(myt);
(a=>{const b=a=>{let b="";if(a.sortable)switch(a.sortState){case "ascending":b="chevron-up";break;case "descending":b="chevron-down"}a.sortIcon.setIcon(b)},c=a=>{if("left"===a.contentAlign){const b=a.textView;b&&b.setWidth(a.width-a.outset-b.x)}};a.SimpleGridColumnHeader=new JS.Class("SimpleGridColumnHeader",a.SimpleIconTextButton,{include:[a.GridColumnHeader],initNode:function(e,d){const f=this;null==d.activeColor&&(d.activeColor="#999999");null==d.hoverColor&&(d.hoverColor="#bbbbbb");null==d.readyColor&&
(d.readyColor="#aaaaaa");null==d.inset&&(d.inset=2);null==d.outset&&(d.outset=2);null==d.height&&(d.height=18);null==d.contentAlign&&(d.contentAlign="left");null==d.sortIconColor&&(d.sortIconColor="#666666");f.callSuper(e,d);new a.FontAwesome(f,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:f.sortIconColor},[{initNode:function(a,b){this.callSuper(a,b);this.getInnerDomStyle().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();f.setOutset(this.width+2);c(f)}}]);f.textView.enableEllipsis();
f.setDisabled(!f.sortable);c(f);b(f)},setSortIconColor:function(a){this.sortIconColor=a;this.sortIcon&&this.sortIcon.setTextColor(a)},setSortable:function(a){this.callSuper(a);this.inited&&(a&&this.setOutset(14),this.setDisabled(!a),b(this))},setSortState:function(a){this.callSuper(a);this.inited&&b(this)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&c(this)},doActivated:function(){if(!this.disabled){switch(this.sortState){case "ascending":this.setSortState("descending");break;case "descending":this.setSortState("ascending");
break;case "none":this.setSortState("ascending")}this.gridController.setSort([this.columnId,this.sortState])}},drawDisabledState:function(){this.setBgColor(this.readyColor)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()}})})(myt);
(a=>{const b=a.View;a.InfiniteListRow=new JS.Module("InfiniteListRow",{include:[a.Reusable],setInfiniteOwner:function(a){this.infiniteOwner=a},setModel:function(a){this.model=a},setClassKey:function(a){this.classKey=a},notifyRefreshed:()=>{}});a.InfiniteList=new JS.Class("InfiniteList",b,{initNode:function(a,e){let c=e.rowClasses;delete e.rowClasses;if("function"===typeof c){const a={};a["default"]=c;c=a}null==e.modelIDName&&(e.modelIDName="id");null==e.numericSort&&(e.numericSort=!0);null==e.ascendingSort&&
(e.ascendingSort=!0);null==e.overflow&&(e.overflow="autoy");null==e.bgColor&&(e.bgColor="#cccccc");null==e.rowSpacing&&(e.rowSpacing=1);null==e.rowInset&&(e.rowInset=0);null==e.rowOutset&&(e.rowOutset=0);null==e.rowHeight&&(e.rowHeight=30);null==e.overscrollBehavior&&(e.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(a,e);a=this._listView=new b(this);this._scrollAnchorView=new b(a,{width:1,
height:1,bgColor:"transparent"});this._itemPool=this.makePool(c,a);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(b,e)=>new a.TrackActivesMultiPool(b,e),setOverscrollBehavior:function(a){this.overscrollBehavior=a;this.getInnerDomStyle().overscrollBehavior=a},setCollectionModel:function(a){this.collectionModel=a},setModelIDName:function(a){this.modelIDName=a},setRowSpacing:function(a){this.rowSpacing=a;this._rowExtent=this.rowSpacing+this.rowHeight},
setRowHeight:function(a){this.rowHeight=a;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(a,b){if(0<a&&(this.callSuper(a,b),this.inited)){a=this._listView;const b=this.width;a.setWidth(b);a.getSubviews().forEach(a=>{a.setWidth(b)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getInnerDomElement().scrollTop+this.height===this._listView.height},getSortFunction:function(){const a=
this.modelIDName,b=this.ascendingSort?1:-1;return this.numericSort?(c,f)=>(c[a]-f[a])*b:(c,f)=>{c=c[a];f=f[a];return(c>f?1:c<f?-1:0)*b}},getFilterFunction:function(){},scrollModelIntoView:function(a){var b=this.getIndexOfModelInData(a);if(0<=b){var c=this._rowExtent;a=this.getInnerDomElement().scrollTop;const d=a+this.height;b=this.rowInset+b*c;c=b+c;if(b<=a)return this.scrollYTo(b,!0),!0;if(c>=d)return this.scrollYTo(c-this.height,!0),!0}return!1},isModelInData:function(a){return-1!==this.getIndexOfModelInData(a)},
getNextModel:function(a,b=!0,d=!0){const c=this.getListData(),e=c.length;a=this.getIndexOfModelInData(a);if(0<=a)return a+=1,a>=e?b?c[0]:c[e-1]:c[a];if(d&&0<e)return c[e-1]},getPrevModel:function(a,b=!0,d=!0){const c=this.getListData(),e=c.length;a=this.getIndexOfModelInData(a);if(0<=a)return--a,0>a?b?c[e-1]:c[0]:c[a];if(d&&0<e)return c[0]},getIndexOfModelInData:function(a){if(a){const b=this.getListData();let c=b.length;for(;c;)if(this.areModelsEqual(b[--c],a))return c}return-1},areModelsEqual:function(a,
b){const c=this.modelIDName;return a[c]===b[c]},getActiveRowForModel:function(a){if(a){const b=this._itemPool.getActives();let c=b.length;for(;c;){const d=b[--c];if(this.areModelsEqual(d.model,a))return d}}},refreshListData:function(a,b){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(a,b)},resetListUI:function(a,b){const c=this.getListData().length,f=this._listView,e=this._scrollAnchorView;f.setHeight(c*this._rowExtent-(0<c?this.rowSpacing:
0)+this.rowInset+this.rowOutset);e.setY(f.height-e.height);this._startIdx=this._endIdx=-1;this.__forceFullResetOnNextRefresh=b;a||0===this.getInnerDomElement().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(b){const c=a.global.focus;var d=c.focusedView;d&&d.isDescendantOf(b)&&((d=this.getFocusTrap())?d.focus():c.clear());b.setVisible(!1);this._itemPool.putInstance(b)},refreshListUI:function(a){a=this._rowExtent;const b=this.rowInset,c=this.__forceFullResetOnNextRefresh;
var f=this.getInnerDomElement().scrollTop;const g=this.getListData()||[];var h=Math.max(0,Math.floor((f-b)/a));f=Math.min(g.length,Math.ceil((f-b+this.height)/a));this.__forceFullResetOnNextRefresh&&(this.__forceFullResetOnNextRefresh=!1);if(this._startIdx!==h||this._endIdx!==f||c){const d=this.width,e=this.rowHeight,m=this._visibleRowsByIdx;this._startIdx=h;this._endIdx=f;let n;for(n in m)if(n<h||n>=f)this.putRowBackInPool(m[n]),delete m[n];for(n=h;n<f;n++){h=m[n];const f=g[n],l=this.getClassKey(f);
h&&h.classKey===l||(h&&this.putRowBackInPool(h),m[n]=h=this._itemPool.getInstance(l),h.setInfiniteOwner(this),h.setClassKey(l),h.setWidth(d),h.setHeight(e),h.setY(b+n*a),h.setVisible(!0));h.model&&this.areModelsEqual(h.model,f)&&!c||(h.setModel(f),this.updateRow(h));h.notifyRefreshed();h.bringToFront()}}},getClassKey:a=>"default",updateRow:a=>{}})})(myt);
(a=>{const b=JS.Class,c=a=>{const b=a.selectedRow;b&&(b.setSelected(!1),a.set("selectedRow",null,!0))},e=a.SelectableInfiniteListRow=new JS.Module("SelectableInfiniteListRow",{include:[a.InfiniteListRow,a.Selectable]});a.SimpleSelectableInfiniteListRow=new b("SimpleSelectableInfiniteListRow",a.SimpleButton,{include:[e],initNode:function(a,b){null==b.selectedColor&&(b.selectedColor="#ccccff");null==b.activeColor&&(b.activeColor="#f8f8f8");null==b.hoverColor&&(b.hoverColor="#eeeeee");null==b.readyColor&&
(b.readyColor="#ffffff");null==b.focusEmbellishment&&(b.focusEmbellishment=!1);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(a){this.callSuper(a);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},
doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(a,b){b=this.infiniteOwner;const c=this.model;switch(a){case 27:this.selected&&b.setSelectedRow();break;case 37:case 38:b.selectPrevRowForModel(c);break;case 39:case 40:b.selectNextRowForModel(c)}},doActivationKeyUp:function(a){switch(a){case 13:case 32:this.doActivated()}}});a.SelectableInfiniteList=new b("SelectableInfiniteList",a.InfiniteList,{setSelectedRow:function(a){const b=this.selectedRow;
a!==b&&(b&&b.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",a,!0),a&&(this.setSelectedRowModel(a.model),a.setSelected(!0)))},setSelectedRowModel:function(a){this.set("selectedRowModel",a,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(a,b,e){a&&(c(this),this.setSelectedRowModel(a),this.refreshListUI(),b&&(a=this.getActiveSelectedRow())&&a.focus())},selectNextRowForModel:function(a,
b=!0){this.selectRowForModel(this.getNextModel(a),b,!0)},selectPrevRowForModel:function(a,b=!0){this.selectRowForModel(this.getPrevModel(a),b,!1)},resetListUI:function(a,b){this.isModelInData(this.selectedRowModel)?c(this):this.setSelectedRow();this.callSuper(a,b)},putRowBackInPool:function(a){a.selected&&c(this);this.callSuper(a)},refreshListUI:function(b){b=a.global.focus.focusedView;this.callSuper();const c=this.getActiveSelectedRow();c&&(this.set("selectedRow",c,!0),c.setSelected(!0),b&&b!==c||
c.focus(!0))}})})(myt);
(a=>{const b=JS.Class,c=JS.Module,e=a.View,d=new c("InfiniteGridRowMixin",{notifyXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyWidthChange:function(a){const b=this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyVisibilityChange:function(a){const b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}}),f=new c("InfiniteGridMixin",{setGridHeader:function(a){(this.gridHeader=a)&&a.setGrid(this)},makeReady:function(a,b){const c=this.gridHeader;c?
(this.__forceFullResetOnNextRefresh=b,c.setSort(a),c.setLocked(!1)):this.refreshListData(!1,b)},getSortFunction:function(){var a=this.gridHeader.sort||["",""];const b=a[0];a=a[1];if(b){const c="ascending"===a?1:-1;return(a,d)=>{a=a[b];d=d[b];return a>d?c:d>a?-c:0}}return this.callSuper()},updateRow:function(a){this.gridHeader&&this.gridHeader.columnHeaders.forEach(b=>{a.notifyXChange(b);a.notifyWidthChange(b);a.notifyVisibilityChange(b)})},notifyXChange:function(a){this.getVisibleRows().forEach(b=>
{b.notifyXChange(a)})},notifyWidthChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyWidthChange(a)})},notifyVisibilityChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyVisibilityChange(a)})}});a.InfiniteGridRow=new c("InfiniteGridRow",{include:[a.InfiniteListRow,d]});a.SelectableInfiniteGridRow=new c("SelectableInfiniteGridRow",{include:[a.SelectableInfiniteListRow,d]});a.SimpleSelectableInfiniteGridRow=new b("SimpleSelectableInfiniteGridRow",a.SimpleSelectableInfiniteListRow,
{include:[d]});a.InfiniteGrid=new b("InfiniteGrid",a.InfiniteList,{include:[f]});a.SelectableInfiniteGrid=new b("InfiniteGrid",a.SelectableInfiniteList,{include:[f]});a.InfiniteGridHeader=new b("InfiniteGridHeader",e,{include:[a.GridController],initNode:function(b,c){null==c.columnSpacing&&(c.columnSpacing=1);c.overflow="hidden";this.callSuper(b,c);new a.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(a){this.grid=a},setColumnSpacing:function(a){this.columnSpacing=a},getColumnSpacingInUse:function(){return 0===
this.columnSpacing?0:Math.max(0,this.getVisibleColumnHeaders().length-1)*this.columnSpacing},setHeight:function(a,b){this.callSuper(a,b);this.inited&&(a=this.height,this.columnHeaders.forEach(b=>{b.setHeight(a)}))},setWidth:function(a,b){this.callSuper(Math.max(this.minWidth,a),b);this.inited&&(a=this.width,this.setGridWidth(a),this.grid.setWidth(a))},subviewAdded:function(b){this.callSuper(b);b.isA(a.GridColumnHeader)&&(b.setGridController(this),b.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,
this.grid.__forceFullResetOnNextRefresh)},notifyColumnHeaderXChange:function(a){this.isLocked()||this.grid.notifyXChange(a)},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.grid.notifyWidthChange(a)},updateRowsForVisibilityChange:function(a){this.grid.notifyVisibilityChange(a)}})})(myt);
myt.StackablePanel=new JS.Module("StackablePanel",{include:[myt.Selectable],initNode:function(a,b){b.visible=b.selected=!1;null==b.bgColor&&(b.bgColor="#ffffff");null==b.panelId&&(b.panelId=b.name);this.callSuper(a,b);this.selected&&this.doStackTransition()},setPanelStack:function(a){this.panelStack=a},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(a){this.panelId=a},setSelected:function(a){this.selected!==a&&(this.callSuper(a),this.inited&&this.doStackTransition())},
doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});myt.PanelStackTransition=new JS.Class("PanelStackTransition",myt.Node,{to:a=>Promise.resolve(a),from:a=>Promise.resolve(a)});
myt.PanelStackFadeTransition=new JS.Class("PanelStackFadeTransition",myt.PanelStackTransition,{initNode:function(a,b){null==b.duration&&(b.duration=1E3);this.callSuper(a,b)},setDuration:function(a){this.duration=a},to:function(a){return new Promise((b,c)=>{a.stopActiveAnimators("opacity");a.setVisible(!0);a.animate({attribute:"opacity",to:1,duration:this.duration}).next(c=>{a.makeHighestZIndex();b(a)})})},from:function(a){return new Promise((b,c)=>{a.stopActiveAnimators("opacity");a.animate({attribute:"opacity",
to:0,duration:this.duration}).next(c=>{a.setVisible(!1);b(a)})})}});
myt.PanelStackSlideTransition=new JS.Class("PanelStackSlideTransition",myt.PanelStackTransition,{initNode:function(a,b){null==b.duration&&(b.duration=1E3);null==b.direction&&(b.direction="right");this.callSuper(a,b)},setDuration:function(a){this.duration=a},setDirection:function(a){this.direction=a},to:function(a){const b=a.getPanelStack(),c=this.duration;let e,d;switch(this.direction){case "left":d="x";e=b.width;break;case "right":d="x";e=-b.width;break;case "up":d="y";e=b.height;break;case "down":d=
"y",e=-b.height}a.stopActiveAnimators(d);a.set(d,e);a.setVisible(!0);return new Promise((b,e)=>{e=c=>{a.makeHighestZIndex();b(a)};0<c?a.animate({attribute:d,to:0,duration:c}).next(e):(a.set(d,0),a.makeHighestZIndex(),b(a))})},from:function(a){const b=a.getPanelStack(),c=this.duration;let e,d;switch(this.direction){case "left":d="x";e=-b.width;break;case "right":d="x";e=b.width;break;case "up":d="y";e=-b.height;break;case "down":d="y",e=b.height}a.stopActiveAnimators(d);return new Promise((b,g)=>{g=
c=>{a.setVisible(!1);b(a)};0<c?a.animate({attribute:d,to:e,duration:c}).next(g):(a.set(d,e),a.setVisible(!1),b(a))})}});
myt.PanelStack=new JS.Class("PanelStack",myt.View,{include:[myt.SelectionManager],initNode:function(a,b){b.overflow="hidden";null==b.itemSelectionId&&(b.itemSelectionId="panelId");null==b.maxSelected&&(b.maxSelected=1);this.callSuper(a,b);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(a){this.set("transition",a,!0)},__updateWidth:function(a){const b=this.getActivePanel();b&&b.setWidth(a.value)},__updateHeight:function(a){const b=this.getActivePanel();
b&&b.setHeight(a.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(a){return this.getSelectableItem(a)},selectPanel:function(a){this.selectById(a)},doSelected:function(a){a.setWidth(this.width);a.setHeight(this.height)},doStackTransition:function(a){this["doStackTransition"+(a.selected?"To":"From")](a)},doStackTransitionTo:function(a){const b=this;b.doBeforeTransitionTo(a);const c=b.transition;c?c.to(a).then(a=>{b.doAfterTransitionTo(a)}):(a.makeHighestZIndex(),a.setVisible(!0),
b.doAfterTransitionTo(a))},doBeforeTransitionTo:function(a){},doAfterTransitionTo:function(a){},doStackTransitionFrom:function(a){const b=this;b.doBeforeTransitionFrom(a);const c=b.transition;c?c.from(a).then(a=>{b.doAfterTransitionFrom(a)}):(a.setVisible(!1),b.doAfterTransitionFrom(a))},doBeforeTransitionFrom:function(a){},doAfterTransitionFrom:function(a){}});
myt.DragGroupSupport=new JS.Module("DragGroupSupport",{initNode:function(a,b){this.__dragGroups={"*":!0};this.__acceptAny=!0;this.callSuper(a,b)},setDragGroups:function(a){const b={};for(let c in a)b[c]=!0;this.__dragGroups=b;this.__acceptAny=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dragGroups},addDragGroup:function(a){a&&(this.__dragGroups[a]=!0,"*"===a&&(this.__acceptAny=!0))},removeDragGroup:function(a){a&&(delete this.__dragGroups[a],"*"===a&&(this.__acceptAny=!1))},acceptAnyDragGroup:function(){return this.__acceptAny}});
myt.Dropable=new JS.Module("Dropable",{include:[myt.Draggable,myt.DragGroupSupport],setDropTarget:function(a){this.dropTarget=a},setDropped:function(a){this.dropped=a},setDropFailed:function(a){this.dropFailed=a},willPermitDrop:function(a){return!0},startDrag:function(a){this.setDropped(!1);this.setDropFailed(!1);myt.global.dragManager.startDrag(this);this.callSuper(a)},updateDrag:function(a){myt.global.dragManager.updateDrag(a,this);this.callSuper(a)},stopDrag:function(a,b){myt.global.dragManager.stopDrag(a,
this,b);this.callSuper(a,b);b?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(a){this.setDropTarget(a)},notifyDragLeave:function(a){this.setDropTarget()},notifyDropped:function(a,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:function(){},notifyDropAborted:function(){}});
myt.DropTarget=new JS.Module("DropTarget",{include:[myt.DragGroupSupport],initNode:function(a,b){this.callSuper(a,b);myt.global.dragManager.registerDropTarget(this)},destroyAfterOrphaning:function(){myt.global.dragManager.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(a){return this.disabled||!this.isVisible()?!1:!0},notifyDragStart:function(a){},notifyDragStop:function(a){},notifyDragEnter:function(a){},notifyDragLeave:function(a){},notifyDrop:function(a){}});
myt.DropSource=new JS.Module("DropSource",{include:[myt.Draggable],initNode:function(a,b){null==b.distanceBeforeDrag&&(b.distanceBeforeDrag=2);null==b.dropParent&&(b.dropParent=a.getRoot());this.callSuper(a,b)},setDropClass:function(a){this.dropClass=myt.resolveClassname(a)},setDropClassAttrs:function(a){this.dropClassAttrs=a},setDropParent:function(a){this.dropParent=a},startDrag:function(a){const b=this.dropable=this.makeDropable();if(b){const c=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(a);
b.__doMouseDown(a);b.distanceBeforeDrag=c}},doMouseUp:function(a){this.callSuper(a);const b=this.dropable;b&&(b.__doMouseUp(a),b.doMouseUp(a),this.dropable=null)},makeDropable:function(){const a=this.dropClass,b=this.dropParent;if(a&&b){const c=myt.DomElementProxy.getPagePosition(this.getInnerDomElement(),b.getInnerDomElement()),e=Object.assign({},this.dropClassAttrs);e.x=c.x||0;e.y=c.y||0;return new a(b,e)}}});
(a=>{const b=a.global,c=b.dragManager,e=b.mouse,d=(a,b,c)=>{a["__isAuto"+b]&&(a.getInnerDomElement()["scrollUp"===b||"scrollDown"===b?"scrollTop":"scrollLeft"]+=c*a["__amount"+b],a["__timerIdAuto"+b]=setTimeout(()=>{d(a,b,c)},a.scrollFrequency))};a.AutoScroller=new JS.Module("AutoScroller",{include:[a.DragGroupSupport],initNode:function(a,b){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;null==b.overflow&&(b.overflow="auto");this.callSuper(a,b);c.registerAutoScroller(this)},
destroyAfterOrphaning:function(){c.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(a){this.scrollBorder=a},setScrollFrequency:function(a){this.scrollFrequency=a},setScrollAmount:function(a){this.scrollAmount=a},setScrollAcceleration:function(a){this.scrollAcceleration=a},notifyDragStart:function(a){a=this.getInnerDomElement();(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)&&this.attachToDom(e,"__handleMouseMove","mousemove",!0)},notifyDragStop:function(a){this.detachFromDom(e,
"__handleMouseMove","mousemove",!0);this.__isAutoscrollUp=this.__isAutoscrollDown=!1;this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null;this.__isAutoscrollLeft=this.__isAutoscrollRight=!1;this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null},__handleMouseMove:function(a){var b=a.value;a=b.pageX;b=b.pageY;if(this.containsPoint(a,b)){const c=this.getPagePosition(),f=this.scrollBorder;a-=c.x;b-=c.y;b<f?(this.__isAutoscrollUp=!0,this.__amountscrollUp=Math.round(this.scrollAmount*
(1+(f-b)/f*this.scrollAcceleration)),this.__timerIdAutoscrollUp||d(this,"scrollUp",-1)):this.height-b<f?(this.__isAutoscrollDown=!0,this.__amountscrollDown=Math.round(this.scrollAmount*(1+(f-(this.height-b))/f*this.scrollAcceleration)),this.__timerIdAutoscrollDown||d(this,"scrollDown",1)):(this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null);a<f?(this.__isAutoscrollLeft=!0,this.__amountscrollLeft=Math.round(this.scrollAmount*(1+(f-a)/f*this.scrollAcceleration)),
this.__timerIdAutoscrollLeft||d(this,"scrollLeft",-1)):this.width-a<f?(this.__isAutoscrollRight=!0,this.__amountscrollRight=Math.round(this.scrollAmount*(1+(f-(this.width-a))/f*this.scrollAcceleration)),this.__timerIdAutoscrollRight||d(this,"scrollRight",1)):(this.__isAutoscrollLeft=this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null)}else this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null,this.__isAutoscrollLeft=
this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Constrainable],initialize:function(a,b){if(b){const a=b.length;for(let c=0,d;a>c;)(d=b[c++])?this.extend(d):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.init(a||{})},init:function(a){this.callSetters(a);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(a=>{const b=a.Geometry.degreesToRadians,c=c=>{a.Annulus.draw(c.__path,b(c.startAngle),b(c.endAngle),c.thickness,c.radius,c.width/2,c.color,c.startCapRounding,c.endCapRounding)},e=a=>{const b=2*(a.radius+a.thickness),d=a.__svg;a.setWidth(b);a.setHeight(b);d.setAttribute("viewBox","0 0 "+b+" "+b);d.setAttribute("width",b);d.setAttribute("height",b);c(a)};a.Annulus=new JS.Class("Annulus",a.View,{extend:{draw:(a,b,c,e,l,k,m,n,p)=>{if(b>c){var d=b;b=c;c=d}d=l+e;var f=Math.PI;const g=c-b,h=g+1E-4>=2*f;
h&&(b=0,c=f);const x=Math.cos,t=Math.sin;b=[[k+d*x(b),k+d*t(b)],[k+d*x(c),k+d*t(c)],[k+l*x(c),k+l*t(c)],[k+l*x(b),k+l*t(b)]];c=[];c.push("M"+b[0].join());h?(c.push("A"+[d,d,0,1,1,b[1]].join()),c.push("A"+[d,d,0,1,1,b[0]].join()),c.push("L"+b[2].join()),c.push("A"+[l,l,0,1,0,b[3]].join()),c.push("A"+[l,l,0,1,0,b[2]].join())):(f=g%(2*f)>f?1:0,c.push("A"+[d,d,0,f,1,b[1]].join()),p?c.push("A"+[e/2,e/2,0,0,1,b[2]].join()):c.push("L"+b[2].join()),c.push("A"+[l,l,0,f,0,b[3]].join()),n&&c.push("A"+[e/2,e/
2,0,0,1,b[0]].join()));c.push("z");a.setAttribute("d",c.join(" "));a.setAttribute("fill",m)},makeSVG:(a,b)=>{a=document.createElementNS("http://www.w3.org/2000/svg",a);b&&b.appendChild(a);return a}},initNode:function(a,b){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(a,b);e(this)},createOurDomElement:function(b){b=this.callSuper(b);const c=a.Annulus.makeSVG;var d=Array.isArray(b)?b[1]:b;d=this.__svg=c("svg",d);this.__path=c("path",
d);d.style.pointerEvents="none";return b},setRadius:function(a){this.radius!==a&&(this.radius=a=Math.max(0,a),this.inited&&(e(this),this.fireEvent("radius",a)))},setThickness:function(a){this.thickness!==a&&(this.thickness=a=Math.max(0,a),this.inited&&(e(this),this.fireEvent("thickness",a)))},setStartAngle:function(a){this.startAngle!==a&&(this.startAngle=a,this.inited&&(c(this),this.fireEvent("startAngle",a)))},setEndAngle:function(a){this.endAngle!==a&&(this.endAngle=a,this.inited&&(c(this),this.fireEvent("endAngle",
a)))},setStartCapRounding:function(a){this.startCapRounding!==a&&(this.startCapRounding=a,this.inited&&(c(this),this.fireEvent("startCapRounding",a)))},setEndCapRounding:function(a){this.endCapRounding!==a&&(this.endCapRounding=a,this.inited&&(c(this),this.fireEvent("endCapRounding",a)))},setColor:function(a){this.color!==a&&(this.color=a,this.inited&&(c(this),this.fireEvent("color",a)))},sendSubviewToBack:function(a){if(a.parent===this){const b=this.getInnerDomElement(),c=b.childNodes[1];a.getOuterDomElement()!==
c&&(a=b.removeChild(a.getOuterDomElement()))&&b.insertBefore(a,c)}},isColorAttr:function(a){return"color"===a||this.callSuper(a)}})})(myt);
(a=>{const b=JS.Class,c=a.WebSocket=new b("WebSocket",a.Node,{initNode:function(a,b){this.status="closed";this.useJSON=!0;this.callSuper()},destroy:function(){this.close(1E3,"destroyed");this.callSuper()},setUseJSON:function(a){this.useJSON!==a&&(this.useJSON=a,this.inited&&this.fireEvent("useJSON",a))},setStatus:function(a){this.status!==a&&(this.status=a,this.inited&&this.fireEvent("status",a))},setUrl:function(b){"object"===typeof b&&"function"===typeof b.isA&&b.isA(a.URI)&&(b=b.toString());this.url=
b},setProtocols:function(a){this.protocols=a},connect:function(a){if(!this._ws&&this.url)try{const b=this._ws=new WebSocket(this.url,this.protocols),c=this.onOpen.bind(this);b.onopen=a?d=>{c(d);a(d);b.onopen=c}:c;b.onerror=this.onError.bind(this);b.onmessage=this.onMessage.bind(this);b.onclose=this.onClose.bind(this)}catch(g){this.onError(g)}},send:function(a,b){const c=this,d=c._ws;if(d&&"open"===c.status){if(c.useJSON)try{a=JSON.stringify(a)}catch(k){c.onError(k)}d.send(a);return!0}if(b)return!1;
c.connect(b=>{c.send(a,!0)})},close:function(a,b){this._ws&&this._ws.close(a||1E3,b||"close")},onOpen:function(a){this.setStatus("open")},onError:function(a){console.error(a);this._ws&&this._ws.readyState!==WebSocket.OPEN&&this.close()},onMessage:function(a){a=a.data;if(this.useJSON)try{a=JSON.parse(a)}catch(g){this.onError(g)}return a},onClose:function(a){this._ws&&delete this._ws;this.setStatus("closed")}}),e={},d=a=>{let b;"string"===typeof a?b=e[a]||(e[a]=b=>b===a):"function"===typeof a?b=a:null==
a&&(b=a=>!0);return b};a.MessageTypeWebSocket=new b("MessageTypeWebSocket",c,{initNode:function(a,b){this._listeners=[];null==b.protocols&&(b.protocols="typedMessage");this.callSuper()},registerListener:function(a,b){if(a&&(b=d(b))){var c=this._listeners;let d=c.length;for(;d;){const e=c[--d];if(e.func===a){a=e.patternMatchers;for(c=a.length;c;)if(a[--c]===b)return;a.push(b);return}}c.push({func:a,patternMatchers:[b]})}},unregisterListener:function(a,b){if(a&&(b=d(b))){const d=this._listeners;let e=
d.length;for(;e;){var c=d[--e];if(c.func===a){a=c.patternMatchers;for(c=a.length;c;)if(a[--c]===b){a.splice(c,1);break}0===a.length&&d.splice(e,1);break}}}},sendTypedMessage:function(a,b,c){if(b=this.createMessage(a,b))return this.send(b,c)},createMessage:(a,b)=>{let c;try{c=JSON.stringify(b)}catch(l){console.error(l);return}return{type:a||"",msg:c,date:Date.now()}},onMessage:function(a){const b=this.callSuper(a);try{b.msg=JSON.parse(b.msg)}catch(l){this.onError(b);return}const c=b.type;this._listeners.forEach(a=>
{a.patternMatchers.every(d=>d(c)?(a.func(b),!1):!0)});return b}})})(myt);
myt.Canvas=new JS.Class("Canvas",myt.View,{createOurDomElement:function(a){a=this.callSuper(a);let b;b=Array.isArray(a)?a[1]:a;const c=this.__canvas=document.createElement("canvas");c.className="mytUnselectable";b.appendChild(c);c.style.position="absolute";this.__ctx=c.getContext("2d");return a},setWidth:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("width",a);this.callSuper(a,b)},setHeight:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("height",a);this.callSuper(a,b)},setFillStyle:function(a){this.__ctx.fillStyle=
a},getFillStyle:function(){return this.__ctx.fillStyle},setStrokeStyle:function(a){this.__ctx.strokeStyle=a},getStrokeStyle:function(){return this.__ctx.strokeStyle},setShadowColor:function(a){this.__ctx.shadowColor=a},getShadowColor:function(){return this.__ctx.shadowColor},setShadowBlur:function(a){this.__ctx.shadowBlur=a},getShadowBlur:function(){return this.__ctx.shadowBlur},setShadowOffsetX:function(a){this.__ctx.shadowOffsetX=a},getShadowOffsetX:function(){return this.__ctx.shadowOffsetX},setShadowOffsetY:function(a){this.__ctx.shadowOffsetY=
a},getShadowOffsetY:function(){return this.__ctx.shadowOffsetY},setLineWidth:function(a){this.__ctx.lineWidth=a},getLineWidth:function(){return this.__ctx.lineWidth},setLineCap:function(a){this.__ctx.lineCap=a},getLineCap:function(){return this.__ctx.lineCap},setLineJoin:function(a){this.__ctx.lineJoin=a},getLineJoin:function(){return this.__ctx.lineJoin},setMiterLimit:function(a){this.__ctx.miterLimit=a},getMiterLimit:function(){return this.__ctx.miterLimit},setFont:function(a){this.__ctx.font=a},
getFont:function(){return this.__ctx.font},setTextAlign:function(a){this.__ctx.textAlign=a},getTextAlign:function(){return this.__ctx.textAlign},setTextBaseline:function(a){this.__ctx.textBaseline=a},getTextBaseline:function(){return this.__ctx.textBaseline},setGlobalAlpha:function(a){this.__ctx.globalAlpha=a},getGlobalAlpha:function(){return this.__ctx.globalAlpha},setGlobalCompositeOperation:function(a){this.__ctx.globalCompositeOperation=a},getGlobalCompositeOperation:function(){return this.__ctx.globalCompositeOperation},
sendSubviewToBack:function(a){if(a.parent===this){const b=this.domElement,c=b.childNodes[1];a.domElement!==c&&(a=b.removeChild(a.domElement))&&b.insertBefore(a,c)}},clear:function(){const a=this.__ctx;a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.width,this.height);a.restore()},dataURItoBlob:function(a,b){a=atob(a.split(",")[1]);const c=[];for(let b=0;b<a.length;b++)c.push(a.charCodeAt(b));return new Blob([new Uint8Array(c)],{type:b})},getDataURL:function(a,b){return this.__canvas.toDataURL(a,
b)},getImageFile:function(a,b,c){switch(a){case "png":case "PNG":a="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":a="jpeg";null==c&&(c=.5);break;default:console.warn("Unexpected image type: ",a),a=a.toLowerCase()}const e="image/"+a;c=this.dataURItoBlob(this.getDataURL(e,c),e);b&&(c.name=b+"."+a);return c},circle:function(a,b,c){this.__ctx.arc(a,b,c,0,2*Math.PI)},save:function(){const a=this.__ctx;a.save.apply(a,arguments)},restore:function(){const a=this.__ctx;a.restore.apply(a,arguments)},
scale:function(){const a=this.__ctx;a.scale.apply(a,arguments)},rotate:function(){const a=this.__ctx;a.rotate.apply(a,arguments)},translate:function(){const a=this.__ctx;a.translate.apply(a,arguments)},transform:function(){const a=this.__ctx;a.transform.apply(a,arguments)},setTransform:function(){const a=this.__ctx;a.setTransform.apply(a,arguments)},createLinearGradient:function(){const a=this.__ctx;return a.createLinearGradient.apply(a,arguments)},createRadialGradient:function(){const a=this.__ctx;
return a.createRadialGradient.apply(a,arguments)},createPattern:function(){const a=this.__ctx;return a.createPattern.apply(a,arguments)},clearRect:function(){const a=this.__ctx;a.clearRect.apply(a,arguments)},fillRect:function(){const a=this.__ctx;a.fillRect.apply(a,arguments)},strokeRect:function(){const a=this.__ctx;a.strokeRect.apply(a,arguments)},beginPath:function(){const a=this.__ctx;a.beginPath.apply(a,arguments)},closePath:function(){const a=this.__ctx;a.closePath.apply(a,arguments)},moveTo:function(){const a=
this.__ctx;a.moveTo.apply(a,arguments)},lineTo:function(){const a=this.__ctx;a.lineTo.apply(a,arguments)},quadraticCurveTo:function(){const a=this.__ctx;a.quadraticCurveTo.apply(a,arguments)},bezierCurveTo:function(){const a=this.__ctx;a.bezierCurveTo.apply(a,arguments)},arcTo:function(){const a=this.__ctx;a.arcTo.apply(a,arguments)},rect:function(){const a=this.__ctx;a.rect.apply(a,arguments)},arc:function(){const a=this.__ctx;a.arc.apply(a,arguments)},fill:function(){const a=this.__ctx;a.fill.apply(a,
arguments)},stroke:function(){const a=this.__ctx;a.stroke.apply(a,arguments)},clip:function(){const a=this.__ctx;a.clip.apply(a,arguments)},isPointInPath:function(){const a=this.__ctx;a.isPointInPath.apply(a,arguments)},fillText:function(){const a=this.__ctx;a.fillText.apply(a,arguments)},strokeText:function(){const a=this.__ctx;a.strokeText.apply(a,arguments)},measureText:function(){const a=this.__ctx;return a.measureText.apply(a,arguments)},drawImage:function(){const a=this.__ctx;a.drawImage.apply(a,
arguments)},createImageData:function(){const a=this.__ctx;a.createImageData.apply(a,arguments)},getImageData:function(){const a=this.__ctx;return a.getImageData.apply(a,arguments)},putImageData:function(){const a=this.__ctx;a.putImageData.apply(a,arguments)}});
myt.BaseTooltip=new JS.Class("BaseTooltip",myt.View,{include:[myt.RootView],extend:{DEFAULT_TIP_DELAY:500,DEFAULT_TIP_HIDE_DELAY:100},initNode:function(a,b){const c=myt.BaseTooltip;this.tipDelay=this.nextTipDelay=c.DEFAULT_TIP_DELAY;this.tipHideDelay=c.DEFAULT_TIP_HIDE_DELAY;null==b.visible&&(b.visible=!1);this.callSuper(a,b)},setTooltip:function(a){this.inited&&(this.tooltip=a)&&(this.attachToDom(myt.global.mouse,"__checkMouseMovement","mousemove",!0),a=a.parent,this.attachToDom(a,"hideTip","mousedown",
!0),this.attachToDom(a,"hideTip","mouseup",!0))},__checkMouseMovement:function(a){const b=this;b._lastPos=myt.MouseObservable.getMouseFromEvent(a);b.__checkIn()&&(b.__clearTimeout(),b.__checkTipTimerId=setTimeout(function(){delete b.__checkTipTimerId;b.__checkIn()&&b.showTip()},b.nextTipDelay))},__clearTimeout:function(){this.__checkTipTimerId&&(clearTimeout(this.__checkTipTimerId),delete this.__checkTipTimerId)},__checkIn:function(){const a=this.tooltip;if(a){const b=this._lastPos;if(a.parent.containsPoint(b.x,
b.y))return!0}this.hideTip();return!1},hideTip:function(a){this.__clearTimeout();a=this.tooltip.parent;this.detachFromDom(a,"hideTip","mousedown",!0);this.detachFromDom(a,"hideTip","mouseup",!0);this.detachFromDom(myt.global.mouse,"__checkMouseMovement","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){myt.global.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}});
myt.Tooltip=new JS.Class("Tooltip",myt.BaseTooltip,{extend:{DEFAULT_POINTER_WIDTH:7,DEFAULT_POINTER_HEIGHT:4,DEFAULT_EDGE_WIDTH:1,DEFAULT_POINTER_INSET:2,DEFAULT_HORIZONTAL_INSET:4,DEFAULT_TOP_INSET:2,DEFAULT_BOTTOM_INSET:3,DEFAULT_SHADOW_WIDTH:2,DEFAULT_MAX_TEXT_WIDTH:280,DEFAULT_TIP_BG_COLOR:"#dddddd",DEFAULT_EDGE_COLOR:"#666666",DEFAULT_SHADOW_COLOR:"#000000"},initNode:function(a,b){const c=myt,e=c.Tooltip;null==b.pointerWidth&&(b.pointerWidth=e.DEFAULT_POINTER_WIDTH);null==b.pointerHeight&&(b.pointerHeight=
e.DEFAULT_POINTER_HEIGHT);null==b.edgeWidth&&(b.edgeWidth=e.DEFAULT_EDGE_WIDTH);null==b.pointerInset&&(b.pointerInset=e.DEFAULT_POINTER_INSET);null==b.insetH&&(b.insetH=e.DEFAULT_HORIZONTAL_INSET);null==b.insetTop&&(b.insetTop=e.DEFAULT_TOP_INSET);null==b.insetBottom&&(b.insetBottom=e.DEFAULT_BOTTOM_INSET);null==b.shadowWidth&&(b.shadowWidth=e.DEFAULT_SHADOW_WIDTH);null==b.maxTextWidth&&(b.maxTextWidth=e.DEFAULT_MAX_TEXT_WIDTH);null==b.tipBgColor&&(b.tipBgColor=e.DEFAULT_TIP_BG_COLOR);null==b.edgeColor&&
(b.edgeColor=e.DEFAULT_EDGE_COLOR);null==b.shadowColor&&(b.shadowColor=e.DEFAULT_SHADOW_COLOR);this.__tipWidth=0;this.callSuper(a,b);new c.Canvas(this,{name:"_bg",percentOfParentWidth:100,percentOfParentHeight:100},[c.SizeToParent]);new c.Text(this,{name:"_tipText",fontSize:"12px",x:this.edgeWidth+this.insetH,whiteSpace:"inherit"})},setPointerWidth:function(a){this.pointerWidth=a},setPointerHeight:function(a){this.pointerHeight=a},setEdgeWidth:function(a){this.edgeWidth=a},setPointerInset:function(a){this.pointerInset=
a},setInsetH:function(a){this.insetH=a},setInsetTop:function(a){this.insetTop=a},setInsetBottom:function(a){this.insetBottom=a},setShadowWidth:function(a){this.shadowWidth=a},setMaxTextWidth:function(a){this.maxTextWidth=a},setTipBgColor:function(a){this.tipBgColor=a},setEdgeColor:function(a){this.edgeColor=a},setShadowColor:function(a){this.shadowColor=a},showTip:function(){var a=this.tooltip,b=a.text,c=a.parent;const e=this._tipText,d=this.insetTop,f=this.shadowWidth;e.text!==b&&e.setText(b);b=
myt.global.windowResize;var g=b.getWidth();b=b.getHeight();var h=c.getPagePosition();const l=h.y;h=h.x;e.setWidth("auto");var k=Math.min(e.measureNoWrapWidth(),this.maxTextWidth);let m=e.x;this.__tipWidth=2*m+k;e.setWidth(k);e.sizeViewToDom();"right"===a.tipalign?(h+=c.width-this.__tipWidth,m+=e.width-this.pointerInset-this.pointerWidth):m+=this.pointerInset;0>h&&(k=0-h,h+=k,m-=k);h+this.__tipWidth>0+g&&(k=h+this.__tipWidth-(0+g),h-=k,m+=k);g=2*this.edgeWidth+d+this.insetBottom+e.height+this.pointerHeight;
c=c.height;switch(a.tipvalign){case "below":k=l+c;a=!0;k+g>0+b&&(k=l-g,a=!1);break;default:k=l-g,a=!1,0>k&&(k=l+c,a=!0)}this.setX(Math.round(h));this.setY(Math.round(k));e.setY(d+this.edgeWidth+(a?this.pointerHeight:0));this.setWidth(this.__tipWidth+f);this.setHeight(g+f);this.__redraw(m,a);this.callSuper()},__redraw:function(a,b){const c=this._bg;var e=this.pointerWidth;const d=a+e/2;e=a+e;const f=this.pointerHeight,g=this.shadowWidth,h=this.edgeWidth,l=c.lineTo.bind(c);let k=this.__tipWidth,m=b?
this.pointerHeight:0,n=2*this.edgeWidth+this.insetTop+this.insetBottom+this._tipText.height+m;c.clear();c.beginPath();c.moveTo(g,m+g);l(k+g,m+g);l(k+g,n+g);l(g,n+g);c.closePath();c.setGlobalAlpha(.3);c.setFillStyle(this.shadowColor);c.fill();c.setGlobalAlpha(1);c.beginPath();c.moveTo(0,m);b&&(l(a,m),l(d,m-f),l(e,m));l(k,m);l(k,n);b||(l(e,n),l(d,n+f),l(a,n));l(0,n);c.closePath();c.setFillStyle(this.edgeColor);c.fill();k-=h;m+=h;n-=h;c.beginPath();c.moveTo(h,m);b&&(l(a,m),l(d,m-f),l(e,m));l(k,m);l(k,
n);b||(l(e,n),l(d,n+f),l(a,n));l(h,n);c.closePath();c.setFillStyle(this.tipBgColor);c.fill()}});
myt.TooltipMixin=new JS.Module("TooltipMixin",{extend:{DEFAULT_TIP_CLASS:myt.Tooltip},setTooltip:function(a){this.callSuper("");this.set("tooltip",a,!0)},setTipAlign:function(a){this.set("tipAlign",a,!0)},setTipValign:function(a){this.set("tipValign",a,!0)},setTipClass:function(a){this.set("tipClass",a,!0)},doSmoothMouseOver:function(a){const b=myt,c=b.global,e=this.tooltip;this.callSuper(a);if(a&&e){a=this.tipClass||b.TooltipMixin.DEFAULT_TIP_CLASS;var d=c.tooltipView;!d||d instanceof a||(c.unregister("tooltipView"),
d.destroy(),d=null);d||(d=document.getElementById("tooltipDiv"),d||(d=b.DomElementProxy.createDomElement("div",{position:"absolute"}),b.getElement().appendChild(d)),c.register("tooltipView",d=new a(d,{domId:"tooltipDiv"})));d.setTooltip({parent:this,text:e,tipalign:this.tipAlign||"left",tipvalign:this.tipValign||"above"})}}});myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

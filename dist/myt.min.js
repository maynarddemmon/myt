(l=>{let v;var r=c=>{let d,b=c.length;for(;b;)if(d=c[--b],v=d.ver||d.id,d.str&&0<=d.str.indexOf(d.sub)||d.prop)return d.id};var p=c=>{const d=c.indexOf(v);if(0<=d)return parseFloat(c.substring(d+v.length+1))};const g=navigator.userAgent,a=navigator.platform;p=l.BrowserDetect={browser:r([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:g,sub:"Firefox",id:"Firefox"},{str:g,sub:"Chrome",id:"Chrome"},{str:g,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:p(g)||p(navigator.appVersion)||"UNKNOWN",os:r([{str:g,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(p.browser){case "Chrome":case "Safari":l="WebKit";break;case "Explorer":l="MS";break;case "Firefox":l="Moz";break;case "Opera":l="O";break;default:l="UNKNOWN"}r=l.toLowerCase();p.prefix={dom:l,lowercase:r,css:"-"+r+"-",js:r[0].toUpperCase()+r.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const l=Math,v=l.abs,r=l.floor,p=l.ceil,g="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),c="Sun Mon Tue Wed Thu Fri Sat".split(" "),d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b=f=>(10>f?"0":"")+f,h=(f,q)=>{f=f.getTimezoneOffset();return(0<f?"-":"+")+b(r(v(f/60)))+(q?":":"")+(0==v(f%60)?"00":b(v(f%60)))},n=
{d:f=>b(f.getDate()),D:f=>c[f.getDay()],j:f=>f.getDate(),l:f=>d[f.getDay()],N:f=>0==f.getDay()?7:f.getDay(),S:f=>{f=f.getDate();return 1==f%10&&11!=f?"st":2==f%10&&12!=f?"nd":3==f%10&&13!=f?"rd":"th"},w:f=>f.getDay(),z:f=>{const q=new Date(f.getFullYear(),0,1);return p((f-q)/864E5)},W:f=>{const q=new Date(f.valueOf());f=(f.getDay()+6)%7;q.setDate(q.getDate()-f+3);f=q.valueOf();q.setMonth(0,1);4!==q.getDay()&&q.setMonth(0,1+(4-q.getDay()+7)%7);return b(1+p((f-q)/6048E5))},F:f=>a[f.getMonth()],m:f=>
b(f.getMonth()+1),M:f=>g[f.getMonth()],n:f=>f.getMonth()+1,t:f=>{let q=f.getFullYear();f=f.getMonth()+1;12===f&&(q=q++,f=0);return(new Date(q,f,0)).getDate()},L:f=>{f=f.getFullYear();return 0==f%400||0!=f%100&&0==f%4},o:f=>{const q=new Date(f.valueOf());q.setDate(q.getDate()-(f.getDay()+6)%7+3);return q.getFullYear()},Y:f=>f.getFullYear(),y:f=>(""+f.getFullYear()).substr(2),a:f=>12>f.getHours()?"am":"pm",A:f=>12>f.getHours()?"AM":"PM",B:f=>r(1E3*((f.getUTCHours()+1)%24+f.getUTCMinutes()/60+f.getUTCSeconds()/
3600)/24),g:f=>f.getHours()%12||12,G:f=>f.getHours(),h:f=>b(f.getHours()%12||12),H:f=>b(f.getHours()),i:f=>b(f.getMinutes()),s:f=>b(f.getSeconds()),e:f=>/\((.*)\)/.exec((new Date).toString())[1],I:f=>{let q=null,e=0;for(;12>e;){const u=(new Date(f.getFullYear(),e++,1)).getTimezoneOffset();if(null===q)q=u;else if(u<q){q=u;break}else if(u>q)break}return f.getTimezoneOffset()==q|0},O:f=>h(f,!1),P:f=>h(f,!0),T:f=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:f=>60*-f.getTimezoneOffset(),c:f=>f.format("Y-m-d\\TH:i:sP"),
r:f=>f.toString(),U:f=>f.getTime()/1E3};return function(f){return f.replace(/(\\?)(.)/g,(q,e,u)=>""===e&&n[u]?n[u](this):u)}})();
(l=>{const v=(w,k)=>{if(w&&k)for(const x in k)w[x]===k[x]||w.hasOwnProperty(x)||(w[x]=k[x]);return w},r=w=>{const k=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},x=function(){};x.prototype=(w||Object).prototype;k.prototype=new x;return k},p=(w,k)=>{const x=!k;if(x&&w.__anc__)return w.__anc__.slice();k=k||[];const C=w.__inc__,z=C.length;for(let B=0;B<z;)p(C[B++],k);k.includes(w)||k.push(w);x&&(w.__anc__=k.slice());return k},g=(w,k)=>{var x=w.__mct__[k];if(x)return x.slice();
x=p(w);const C=x.length,z=[];for(let B=0;B<C;){const D=x[B++].__fns__;D.hasOwnProperty(k)&&z.push(D[k])}w.__mct__[k]=z.slice();return z},a=(w,k)=>{const x=w.callable;return w.__hs?function(){const C=this.callSuper,z=this.hasOwnProperty("callSuper"),B=g(k,w.name);let D=B.length-1;if(0===D)delete this.callSuper;else{const m=Array.from(arguments),y=this.callSuper=(...A)=>{let H=A.length;for(;H;)m[--H]=A[H];0===--D&&delete this.callSuper;A=B[D].apply(this,m);this.callSuper=y;D++;return A}}const t=x.apply(this,
arguments);z?this.callSuper=C:delete this.callSuper;return t}:x},c=(w,k)=>{k=k||w;if(k===w){w.__anc__=null;w.__mct__={};for(var x=w.__dep__.length;x;)c(w.__dep__[--x])}if(x=k.__tgt__){var C=w.__inc__;w=w.__fns__;const z=C.length;for(let B=0;B<z;)c(C[B++],k);for(const B in w)C=w[B],C=C instanceof h?a(C,k):C,x[B]!==C&&(x[B]=C)}},d=w=>w.__meta__?w.__meta__:(w.__meta__=new f("",null,{_target:w})).include(w.klass,{_rslv:!1}),b=w=>"function"!==typeof w||w.__fns__&&w.__inc__,h=l.Method=r(),n=(w,k,x)=>x&&
x.__inc__&&x.__fns__||"function"!==typeof x?x:new h(w,k,x),f=l.Module=r();v(h.prototype,{initialize:function(w,k,x){this.module=w;this.name=k;this.callable=x;this.__hs="function"===typeof x&&-1!==x.toString().indexOf("callSuper")},call:function(...w){return this.callable(...w)},apply:function(w,k){return this.callable.apply(w,k)}});v(f.prototype,{initialize:function(w,k,x){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(x||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
w;this.include(k,{_rslv:!1})},define:function(w,k,x){this.__fns__[w]=n(this,w,k);!1!==(x||{})._rslv&&c(this)},include:function(w,k){if(w){if(w.__fns__&&w.__inc__)this.__inc__.push(w),w.__dep__.push(this);else{var x=w.extend,C=w.include;const z={_rslv:!1};if(b(x)){x=[].concat(x);for(let B=0,D=x.length;B<D;)this.extend(x[B++])}if(b(C)){C=[].concat(C);for(let B=0,D=C.length;B<D;)this.include(C[B++],z)}for(const B in w)w.hasOwnProperty(B)&&(C=w[B],("extend"!==B&&"include"!==B||!b(C))&&this.define(B,C,
z))}!1!==(k||{})._rslv&&c(this)}return this},includes:function(w){if(w===this)return!0;const k=this.__inc__,x=k.length;for(let C=0;C<x;)if(k[C++].includes(w))return!0;return!1},instanceMethod:function(w){return g(this,w).pop()}});const q=new f("Kernel",{equals:function(w){return this===w},extend:function(w,k){w&&d(this).include(w,{_rslv:(k||{})._rslv});return this},isA:function(w){return"function"===typeof w&&this instanceof w||d(this).includes(w)}}),e=l.Class=r(f);v(e.prototype,{initialize:function(w,
k,x,C){"function"!==typeof k&&(C=x,x=k,k=Object);f.prototype.initialize.call(this,w);w=(C||{})._rslv;C={_rslv:!1};const z=r(k);v(z,this);z.prototype.constructor=z.prototype.klass=z;d(z).include(k.__meta__,{_rslv:w});z.__tgt__=z.prototype;k=k===Object?{}:k.__fns__?k:new f(k.prototype,C);z.include(q,C).include(k,C).include(x,C);!1!==w&&c(z);return z}});const u=(w,k)=>{w.__inc__=[];w.__dep__=[];const x=w.__tgt__=w.prototype,C=w.__fns__={};for(const z in x)x.hasOwnProperty(z)&&(C[z]=n(w,z,x[z]));x.constructor=
x.klass=w;v(w,e.prototype);w.include(k);w.constructor=w.klass=e};u(h,q);u(f,q);u(e,f);c(d(h));c(d(f));d(e).include(f.__meta__);l.Singleton=new e("Singleton",{initialize:(w,k,x)=>new (new e(w,k,x))})})(global.JS||(global.JS={}));
(l=>{class v extends Error{constructor(z,B,...D){super(...D);this.name="FetchError";this.status=z;this.url=B}}let r=0,p;const g=Math,a=g.abs,c=g.min,d=g.max,b=g.pow,h=document,n=h.head,f=h.createElement.bind(h),q={},e={"":!0},u=h.fonts,w=z=>{z=z.family.split('"').join("")+" "+z.weight;if(!e[z]){e[z]=!0;const B=q[z]||[];for(;B.length;)(z=B.pop())&&!z.destroyed&&z.sizeViewToDom()}},k={},x=z=>function(){const B=JSON.stringify(arguments),D=z.__cache||(z.__cache={});return B in D?D[B]:D[B]=z.apply(this,
arguments)},C=l.myt={version:2.02201181318E7,generateGuid:()=>++r,addEventListener:(z,B,D,t,m)=>{z.addEventListener(B,D,{capture:t||!1,passive:m||!1})},removeEventListener:(z,B,D,t)=>{z.removeEventListener(B,D,t||!1)},resolveName:(z,B)=>{if(z&&0!==z.length){B=B||global;var D=Array.isArray(z)?z:z.split("."),t=D.length;for(let m=0;m<t;m++)if(B=B[D[m]],void 0===B){console.warn("resolveName failed for",z,"at part",m,D[m]);return}return B}},resolveClassname:z=>{"string"===typeof z&&(z=C.resolveName(z));
return z&&"function"===typeof z.isA&&z.isA(JS.Class)?z:null},getExtension:z=>z?z.split(".")[1]:null,loadScript:function(z,B,D){const t=this._loadedScripts||(this._loadedScripts={});if(t[z])return console.warn("script already loaded for src",z),null;t[z]=!0;const m=f("script");m.type="text/javascript";m.async=!1;if(B){let y=!1;m.onload=m.onreadystatechange=()=>{y||m.readyState&&"complete"!==m.readyState||(y=!0,m.onload=m.onreadystatechange=null,B())}}m.src=z+(D?"":(0<=z.indexOf("?")?"&":"?")+"cacheBust="+
Date.now());n.appendChild(m);return m},dumpStack:(z,B)=>{let D;"string"===typeof z&&(D=z,z=null);C.global.error.notify(B||"error",null,D,z)},getRandom:z=>{const B=g.random();return z?d(0,c(z(B),.9999999999)):B},getRandomArbitrary:(z,B,D)=>{const t=c(z,B);return C.getRandom(D)*(d(z,B)-t)+t},getRandomInt:(z,B,D)=>{const t=c(z,B);return g.floor(C.getRandom(D)*(d(z,B)-t+1)+t)},areFloatsEqual:(z,B,D)=>{const t=a(z),m=a(B);return a(z-B)<=(t>m?m:t)*(null==D?1E-6:a(D))},areArraysEqual:(z,B)=>{if(z!==B){if(null==
z||null==B)return!1;let D=z.length;if(D!==B.length)return!1;for(;D;)if(z[--D]!==B[D])return!1}return!0},areObjectsEqual:(z,B)=>{if(z!==B){if(null==z||null==B)return!1;for(const D in z)if(z[D]!==B[D])return!1;for(const D in B)if(z[D]!==B[D])return!1}return!0},getElement:(z,B)=>h.getElementsByTagName(z||"body")[0<B?B:0],loadFontFaces:(z,B)=>{const D=[];z.forEach(t=>{t=new FontFace(t.family,"url("+t.url+")",t.options);D.push(t.load())});Promise.all(D).then(t=>{t.forEach(m=>{u.add(m);w(m)});B&&B(t)})},
loadFontFace:(z,B,D={},t)=>{z=new FontFace(z,"url("+B+")",D);z.loaded.then(m=>{u.add(m);w(m);t&&t(m)});z.load()},registerForFontNotification:(z,B)=>{e[B]?z&&!z.destroyed&&z.sizeViewToDom():(q[B]||(q[B]=[])).push(z)},createBaseFontCSSRule:z=>{C.addCSSRule(C.createStylesheet(),"body, input","font-family:"+z,0)},loadCSSFonts:z=>{(z||[]).forEach(B=>{const D=f("link");D.rel="stylesheet";D.href=B;n.appendChild(D)})},createStylesheet:()=>{const z=f("style");n.appendChild(z);return z.sheet},addCSSRule:(z,
B,D,t)=>{"insertRule"in z?z.insertRule(B+"{"+D+"}",t):"addRule"in z&&z.addRule(B,D,t)},removeCSSRules:z=>{let B=z.cssRules.length;for(;B;)B--,"deleteRule"in z?z.deleteRule(B):"removeRule"in z&&z.removeRule(B)},createInputPlaceholderCSSRule:(z,B,D,t=1)=>{var m=z.getODE();m=m.id||(m.id="id"+C.generateGuid());let y=z.__sheet;y?C.removeCSSRules(y):y=z.__sheet=C.createStylesheet();z=[];B&&z.push("color:"+B);D&&z.push("font-family:"+D);t&&z.push("opacity:"+t);C.addCSSRule(y,"#"+m+"::placeholder",z.join("; "),
0)},chainSortFunc:(z,B)=>(D,t)=>{const m=z(D,t);return 0===m?B(D,t):m},getAlphaObjSortFunc:x((z,B,D,t)=>{const m=B?1:-1;return(y,A)=>{y=y[z];A=A[z];t?("string"!==typeof y&&(y=""+y),"string"!==typeof A&&(A=""+A)):(y=y||"",A=A||"");D&&(y=y.toLowerCase(),A=A.toLowerCase());return y.localeCompare(A)*m}}),getNumericObjSortFunc:x((z,B)=>{const D=B?1:-1;return(t,m)=>{t=t[z]||0;m=m[z]||0;return(t-m)*D}}),formatAsPercentage:(z,B=2)=>{if("number"===typeof z)return B=d(16,c(0,B)),z=g.round(d(0,c(1,z))*b(10,
2+B))/b(10,B),(0===z%1?z:z.toFixed(B))+"%";"string"!==typeof z&&console.warn("formatAsPercentage: expects a number");return z},memoize:x,debounce:function(z,B,D){return function(){const t=this,m=t.__DBTO,y=arguments,A=D&&!m;clearTimeout(m);t.__DBTO=setTimeout(function(){t.__DBTO=null;D||z.apply(t,y)},B);A&&z.apply(t,y)}},createFixedThresholdCounter:(z,B,D,t)=>{var m=C.AccessorSupport.generateName;const y="function"===typeof z||z instanceof JS.Module,A={};t=t||m("counter",D);const H=m(t,"increment");
m=m(t,"decrement");if(void 0!==(y?z.instanceMethod(H):z[H]))return console.warn("Increment: Abort clobber",H,z),!1;if(void 0!==(y?z.instanceMethod(m):z[m]))return console.warn("Decrement: Abort clobber",m,z),!1;A[H]=function(){const I=this[t]+1;this[t]=I;this.fireEvent(t,I);I===B&&this.set(D,!0)};A[m]=function(){const I=this[t];if(0!==I){var J=I-1;this[t]=J;this.fireEvent(t,J);I===B&&this.set(D,!1)}};z[y?"include":"extend"](A);return!0},makeURLSearchParams:(z={})=>{const B=new URLSearchParams;for(const D in z){const t=
z[D];void 0!==t&&B.set(D,t)}return B},doFetch:(z,B,D,t,m,y)=>fetch(z,B).then(A=>{if(!A.ok)throw new v(A.status,z,A.statusText);return A}).then(A=>D?A.text():A.json()).then(A=>{if(t)try{if(D)t(A);else{if(!1===A.success)throw new v(200,z,A.message);t(A.data)}}catch(H){throw A=new v(200,z,H.message),A.stack=H.stack,A;}}).catch(A=>{if(m){if("FetchError"!==A.name){const H=new v(0,z,A.message);H.stack=A.stack;A=H}m(A)}}).finally(()=>{y&&y()}),I18N:{setLocale:z=>{p=z},getLocale:()=>p,addDictionary:(z,B)=>
{k[B]=Object.assign(k[B]||{},z)},get:function(z){const B=arguments;var D=p||=(navigator.language||"en").split("-")[0].toLowerCase();D=(k[D]||k.en||{})[z];if(null!=D){if(1<B.length){for(var t of D.matchAll(/\{\{plural:\$(.*?)\|(.*?)\|(.*?)\}\}/g))D=D.replace(t[0],t[1==B[parseInt(t[1])]?2:3]);for(t=1;t<B.length;t++)D=D.replaceAll("$"+t,B[t])}return D}return z}}};u.onloadingdone=z=>{z.fontfaces.forEach(B=>{w(B)})}})(global);
(l=>{const v=Object.assign,r=(g,a)=>{0===g.indexOf('"')&&(g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a?JSON.parse(g):g}catch(c){}},p=l.Cookie={defaults:{raw:!1,json:!1},read:(g,a)=>{a=v({},p.defaults,a);const c=a.raw?f=>f:f=>decodeURIComponent(f.split("+").join(" "));a=a.json;const d=document.cookie.split("; "),b=d.length,h=g?void 0:{};for(let f=0;f<b;){var n=d[f++].split("=");const q=c(n.shift());n=c(n.join("="));if(g){if(g===q)return r(n,a)}else h[q]=r(n,a)}return h},
write:(g,a,c)=>{c=v({},p.defaults,c);if("number"===typeof c.expires){const d=c.expires,b=c.expires=new Date;b.setDate(b.getDate()+d)}a=c.json?JSON.stringify(a):String(a);return document.cookie=[c.raw?g:encodeURIComponent(g),"=",c.raw?a:encodeURIComponent(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.samesite?"; samesite="+c.samesite:"",c.secure?"; secure":""].join("")},remove:(g,a)=>void 0!==p.read(g,a)?(p.write(g,"",v({},a,{expires:-1})),
!0):!1}})(myt);
(l=>{const v=global.localStorage,r=(g,a,c)=>{if(0<a){const d="__timerId_"+c;(c=p[d])&&clearTimeout(c);p[d]=setTimeout(()=>{g();delete p[d]},a)}else g()},p=l.LocalStorage={hasDatum:(g,a)=>{if(g&&(a=p.getItem(a||"myt")))try{return null!=JSON.parse(a)[g]}catch(c){console.error(c)}return!1},getDatum:(g,a)=>{if(g&&(a=p.getItem(a||"myt")))try{const c=JSON.parse(a);if("object"===typeof c)return c[g]}catch(c){console.error(c)}},setDatum:(g,a,c,d)=>{c=c||"myt";r(()=>{const b=p.getData(c);b[g]=a;p.setItem(c,
JSON.stringify(b))},d,c+"___"+g)},removeDatum:(g,a,c)=>{a=a||"myt";r(()=>{const d=p.getData(a);delete d[g];p.setItem(a,JSON.stringify(d))},c,a+"___"+g)},hasData:g=>null!=p.getItem(g||"myt"),getData:g=>{if(g=p.getItem(g||"myt"))try{return JSON.parse(g)}catch(a){console.error(a)}return{}},setData:(g,a,c)=>{a=a||"myt";null==g&&(g={});return"object"===typeof g?(r(()=>{p.setItem(a,JSON.stringify(g))},c,a),!0):!1},removeData:(g,a)=>{g=g||"myt";r(()=>{p.removeItem(g)},a,g)},getLength:()=>v.length,getKey:g=>
v.key(g),getItem:g=>v.getItem(g),setItem:(g,a)=>{v.setItem(g,a)},removeItem:g=>{v.removeItem(g)},clear:()=>{v.clear()},get:g=>p.getItem(g),set:(g,a)=>{p.setItem(g,a)},remove:g=>{p.removeItem(g)},clearAll:()=>{p.clear()}}})(myt);
(l=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,r=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;l.URI=new JS.Class("URI",{initialize:function(g,a){g&&this.parse(g,a)},setSource:function(g){this.source=g},setProtocol:function(g){this.protocol=
g},setAuthority:function(g){this.authority=g},setUserInfo:function(g){this.userInfo=g},setUser:function(g){this.user=g},setPassword:function(g){this.password=g},setHost:function(g){this.host=g},setPort:function(g){this.port=g},setRelative:function(g){this.relative=g},setPath:function(g){this.path=g},setDirectory:function(g){this.directory=g},setFile:function(g){this.file=g},setQuery:function(g){this.query=g},setAnchor:function(g){this.anchor=g},parse:function(g,a){const c=this;g=(a?p:r).exec(g);c.setSource(g[0]||
"");c.setProtocol(g[1]||"");c.setAuthority(g[2]||"");c.setUserInfo(g[3]||"");c.setUser(g[4]||"");c.setPassword(g[5]||"");c.setHost(g[6]||"");c.setPort(g[7]||"");c.setRelative(g[8]||"");c.setPath(g[9]||"");c.setDirectory(g[10]||"");c.setFile(g[11]||"");c.setQuery(g[12]||"");c.setAnchor(g[13]||"");c.queryPairs={};c.query.replace(v,(d,b,h)=>{b&&(c.queryPairs[b]=h)})},decodeQueryParam:g=>decodeURIComponent(g).split("+").join(" "),getQuery:function(){var g=this.queryPairs;const a=[];for(const c in g)a.push(c+
"="+encodeURIComponent(this.getQueryParam(c)));g=a.join("&");return 0<g.length?"?"+g:g},getQueryParam:function(g){g=this.queryPairs[g];return null==g?void 0:this.decodeQueryParam(g)},getPathParts:function(g){const a=this.path.split("/");if(!g)for(g=a.length;g;)0===a[--g].length&&a.splice(g,1);return a},toString:function(g){const a=this.protocol,c=this.host,d=this.userInfo,b=this.port,h=this.path;g=g?this.query?"?"+this.query:"":this.getQuery();const n=this.anchor;let f="";a&&(f+=a+"://");d&&c&&(f+=
d+"@");c&&(f+=c,b&&(f+=":"+b));h?f+=h:c&&(g||n)&&(f+="/");g&&(f+=g);n&&(f+="#"+n);return f}})})(myt);
(l=>{const v=Math,r=v.PI,p=v.cos,g=v.sin,a=v.sqrt,c=l.Geometry={getClosestPointOnALineToAPoint:(d,b,h,n,f,q,e)=>{h-=d;n-=b;f=(h*(f-d)+n*(q-b))/(h*h+n*n);e&&(f=v.min(1,v.max(0,f)));return{x:d+h*f,y:b+n*f}},isPointInPath:(d,b,h,n)=>{"object"===typeof d&&(n=h,h=b,b=d.y,d=d.x);if(c.rectContainsPoint(d,b,h)&&(h=n.length,6<=h)){let f=!1,q=n[0],e=n[1],u,w;for(;h;)w=n[--h],u=n[--h],w>b!==e>b&&d<(q-u)*(b-w)/(e-w)+u&&(f=!f),q=u,e=w;return f}return!1},rectContainsPoint:(d,b,h,n,f,q)=>{"object"===typeof d&&(q=
f,f=n,n=h,h=b,b=d.y,d=d.x);"object"===typeof h&&(q=h.height,f=h.width,n=h.y,h=h.x);return d>=h&&b>=n&&d<=h+f&&b<=n+q},circleContainsPoint:(d,b,h,n,f)=>c.measureDistance(d,b,h,n,!0)<=f*f,measureDistance:(d,b,h,n,f)=>{d=h-d;b=n-b;b=d*d+b*b;return f?b:a(b)},degreesToRadians:d=>d*r/180,radiansToDegrees:d=>180*d/r,circleContainsLatLng:(d,b,h,n,f,q)=>c.measureLatLngDistance(d,b,h,n,q)<=f,measureLatLngDistance:(d,b,h,n,f)=>{void 0===f&&(f=6371);d=c.degreesToRadians(d);b=c.degreesToRadians(b);h=c.degreesToRadians(h);
n=c.degreesToRadians(n);return f*v.acos(g(d)*g(h)+p(d)*p(h)*p(n-b))},polarToCartesian:(d,b,h,n)=>{null==h&&(h=0);null==n&&(n=0);b%=360;if(0===b)b=d,d=0;else if(90===b)b=0;else if(180===b)b=-d,d=0;else if(270===b)b=0,d=-d;else{const f=c.degreesToRadians(b);b=d*p(f);d*=g(f)}return[h+b,n+d]},cartesianToPolar:(d,b,h,n,f)=>{null==h&&(h=0);null==n&&(n=0);d-=h;n=b-n;b=a(d*d+n*n);n=v.atan2(n,d);0>n&&(n+=2*r);return[b,f?n:c.radiansToDegrees(n)]}}})(myt);
(l=>{const v=JS.Module;l.Observable=new v("Observable",{attachObserver:function(r,p,g){return r&&p&&g?(this.getObservers(g).push(p,r),!0):!1},detachObserver:function(r,p,g){if(r&&p&&g){var a=this.__obsbt;if(a&&(g=a[g])){a=!1;let c=g.length;for(;c;)--c,r===g[c--]&&p===g[c]&&(g.splice(c,2),a=!0);return a}}return!1},detachAllObservers:function(){const r=this.__obsbt;if(r)for(const p in r){const g=r[p];let a=g.length;for(;a;){const c=g[--a],d=g[--a];c&&d&&("function"===typeof c.detachFrom&&c.detachFrom(this,
d,p)||g.splice(a,2))}}},getObservers:function(r){const p=this.__obsbt||(this.__obsbt={});return p[r]||(p[r]=[])},hasObservers:function(r){const p=this.__obsbt;return p?(r=p[r])&&0<r.length:!1},createEvent:function(r,p){return{source:this,type:r,value:p}},isFiringEvent:function(r){return(this.__aet||(this.__aet={}))[r]},fireEvent:function(r,p,g){if(g=g||(this.hasObservers(r)?this.__obsbt[r]:null)){p={source:this,type:r,value:p};const a=this.__aet||(this.__aet={});if(!0===a[r])l.global.error.notifyWarn("eventLoop",
"Abort refiring event:"+r);else{a[r]=!0;let c=g.length;for(;c;){const d=g[--c],b=g[--c];if(d&&b)try{if("function"===typeof b){if(b.call(d,p))break}else if(d[b](p))break}catch(h){l.dumpStack(h)}}a[r]=!1}}}});l.Observer=new v("Observer",{valueFromEvent:r=>r&&"object"===typeof r&&r.type?r.value:r,syncTo:function(r,p,g,a,c){void 0===a&&(a=g);try{this[p](r.createEvent(g,r.get(a)))}catch(d){l.dumpStack(d)}c||this.attachTo(r,p,g,c)},isAttachedTo:function(r,p,g){if(r&&p&&g){var a=this.__obt;if(a&&(g=a[g]))for(a=
g.length;a;)if(--a,r===g[a--]&&p===g[a])return!0}return!1},getObservables:function(r){const p=this.__obt||(this.__obt={});return p[r]||(p[r]=[])},hasObservables:function(r){const p=this.__obt;return p?(r=p[r])&&0<r.length:!1},attachTo:function(r,p,g,a){if(r&&p&&g){const c=this.getObservables(g);if(a){const d=this,b=p;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);p="__DO_ONCE_"+this.__methodNameCounter++;this[p]=h=>{d.detachFrom(r,p,g);delete d[p];return d[b](h)}}if(r.attachObserver(this,
p,g))return c.push(p,r),!0}return!1},detachFrom:function(r,p,g){if(r&&p&&g){var a=this.__obt;if(a&&(a=a[g])){let c=!1,d=a.length;for(;d;)--d,r===a[d--]&&p===a[d]&&r.detachObserver(this,p,g)&&(a.splice(d,2),c=!0);return c}}return!1},detachFromAllObservables:function(){const r=this.__obt;if(r)for(const p in r){const g=r[p];let a=g.length;for(;a;)g[--a].detachObserver(this,g[--a],p);g.length=0}},constrain:function(r,p){if(r&&p){const a=p.length;if(0!==a%2)console.log("Observables uneven",this);else{var g=
this.__cbmn||(this.__cbmn={});g=g[r]||(g[r]=[]);if(0<g.length)console.log("Constraint exists for "+r+" on "+this);else{for(let c=0;a!==c;){const d=p[c++],b=p[c++];d&&b&&(this.attachTo(d,r,b),g.push(d,b))}try{this[r]()}catch(c){l.dumpStack(c)}}}}},releaseConstraint:function(r){if(r){var p=this.__cbmn;if(p&&(p=p[r])){let g=p.length;for(;g;){const a=p[--g],c=p[--g];this.detachFrom(c,r,a)}p.length=0}}},releaseAllConstraints:function(){const r=this.__cbmn;if(r)for(const p in r)this.releaseConstraint(p)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(l,v){this.hasOwnProperty(l)&&(console.warn("Global key in use",l),this.unregister(l));this[l]=v;this.fireEvent("register"+l,v)},unregister:function(l){if(this.hasOwnProperty(l)){const v=this[l];delete this[l];this.fireEvent("unregister"+l,v)}else console.warn("Global key not in use",l)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(l){this.consoleLogging=l},setStackTraceLimit:function(l){Error.stackTraceLimit=this.stackTraceLimit=l},notifyError:function(l,v,r){this.notify("error",l,v,r)},notifyWarn:function(l,v,r){this.notify("warn",l,v,r)},notifyMsg:function(l,v,r){this.notify("log",l,v,r)},notifyDebug:function(l,v,r){this.notify("debug",
l,v,r)},notify:function(l,v,r,p){p||=Error(r||v);p=p.stack||p.stacktrace;this.fireEvent(v||"error",{msg:r,stacktrace:p});if(this.consoleLogging&&l)console[l](p)}});
(l=>{const v=global,r=v.getComputedStyle,p=document,g=Math.max,a=l.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(c,d,b)=>{c=p.createElement(c);if(b)for(const h in b)c[h]=b[h];if(d)for(const h in d)c.style[h]=d[h];return c},isDomElementVisible:c=>{if("INPUT"===c.nodeName&&"hidden"===c.type)return!1;for(;c;){if(c===p)return!0;const d=r(c);if("none"===d.display||"hidden"===d.visibility)break;c=c.parentNode}return!1},getZIndexRelativeToAncestor:(c,d)=>{if(c&&d)for(c=a.getAncestorArray(c,
d),d=c.length-1;d;){const b=r(c[--d]),h=b.zIndex,n="auto"===h;if(0===d||!n||1!==parseInt(b.opacity,10))return n?0:parseInt(h,10)}return 0},getAncestorArray:(c,d)=>{const b=[];for(;c;){b.push(c);if(c===d)break;c=c.parentNode}return b},getHighestZIndex:c=>{var d=r(c);let b=d.zIndex;var h="auto"===b;if(h&&1===parseInt(d.opacity,10))for(b=0,c=c.childNodes,d=c.length;d;)h=c[--d],1===h.nodeType&&(b=g(b,a.getHighestZIndex(h)));else b=h?0:parseInt(b,10);return b},getRelativePosition:(c,d)=>{if(c){let b=0,
h=0;for(;c&&"BODY"!==c.nodeName&&c!==d;)if(b+=c.offsetLeft,h+=c.offsetTop,(c=c.offsetParent)&&"BODY"!==c.nodeName){const n=r(c);b+=parseInt(n.borderLeftWidth,10)-c.scrollLeft;h+=parseInt(n.borderTopWidth,10)-c.scrollTop}return{x:b,y:h}}},getTruePosition:c=>{if(c)return c=c.getBoundingClientRect(),{x:c.left+v.scrollX,y:c.top+v.scrollY}},simulateDomEvent:(c,d,b)=>{if(c){const h={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},n={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(b)for(const q in b)h[q]=b[q];let f;for(const q in n)if(n[q].test(d)){f=q;break}if(!f)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(p.createEvent)b=p.createEvent(f),"HTMLEvents"===f?b.initEvent(d,h.bubbles,h.cancelable):b.initMouseEvent(d,h.bubbles,h.cancelable,p.defaultView,h.button,h.pointerX,h.pointerY,h.pointerX,h.pointerY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,null),c.dispatchEvent(b);
else{h.clientX=h.pointerX;h.clientY=h.pointerY;b=p.createEventObject();for(const q in h)b[q]=h[q];c.fireEvent("on"+d,b)}}},getScrollbarSize:l.memoize(()=>{const c=p.body,d=a.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});c.appendChild(d);const b=d.offsetWidth-d.clientWidth;c.removeChild(d);return b})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(c){const d=
Array.isArray(c),b=this.__oE=d?c[0]:c;c=this.__iE=d?c[1]:c;this.__iS=c.style;this.__oS=b.style;c.model=b.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(c){this.__iE.className=this.domClass=c},addDomClass:function(c){const d=this.__iE.className;this.setDomClass((d?d+" ":"")+c)},removeDomClass:function(c){var d=
this.__iE.className;if(d){d=d.split(" ");let b=d.length;for(;b;)d[--b]===c&&d.splice(b,1);this.setDomClass(d.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(c){this.__iE.id=this.domId=c},setZIndex:function(c){this.__oS.zIndex=c},setStyleProperty:function(c,d){this.__iS[c]=d},getPagePosition:function(c){return a["get"+(c?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){a.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return a.getHighestZIndex(this.__iE)},
getHighestChildZIndex:function(c){const d=this.__iE.childNodes;let b=d.length,h=0;for(;b;){const n=d[--b];1===n.nodeType&&n!==c&&(h=g(h,a.getHighestZIndex(n)))}return h},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(c,d){(d?this.__iE:this.__oE).scrollTop=c||0}})})(myt);
(l=>{let v;const r=g=>{for(;g.lastChild;)g=g.lastChild;return g},p=(g,a)=>{v.lastTraversalWasForward=g;let c=document.body,d=c;var b=document.activeElement;let h=d,n;const f=g?"getNextFocus":"getPrevFocus";b&&(h=d=b,(b=d.model)||(b=v.findModelForDomElement(d)),b&&(a=b.getFocusTrap(a))&&(c=a.getIDE()));for(;h;){if(h.model&&h.model[f]&&(n=h.model[f]()))h=n.getIDE();else if(g)if(h.firstChild)h=h.firstChild;else{if(h===c)return d.model;if(h.nextSibling)h=h.nextSibling;else for(;h&&(h=h.parentNode,h!==
c);)if(h.nextSibling){h=h.nextSibling;break}}else h=h===c?r(c):h.previousSibling?r(h.previousSibling):h.parentNode;if(h===d)return d.model;if(1===h.nodeType)if((b=h.model)&&b instanceof l.View){if(b.isFocusable())return b}else if(a=h.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||h.disabled||isNaN(h.tabIndex)||!l.DomElementProxy.isDomElementVisible(h)||(b=v.findModelForDomElement(h),b&&b.searchAncestorsOrSelf(q=>!0===q.maskFocus)))){h.focus();v.focusedDom=
h;break}}};new JS.Singleton("GlobalFocus",{include:[l.Observable],initialize:function(){this.lastTraversalWasForward=!0;l.global.register("focus",v=this)},setFocusedView:g=>{if(v.focusedView!==g){v.prevFocusedView=v.focusedView;if(v.focusedView=g)v.focusedDom=null;v.fireEvent("focused",g)}},notifyFocus:g=>{v.focusedView!==g&&v.setFocusedView(g)},notifyBlur:g=>{v.focusedView===g&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:g=>{(g=p(!0,g))&&g.focus()},prev:g=>{(g=p(!1,g))&&g.focus()},findModelForDomElement:g=>{for(;g;){let a=g.model;if(a&&a instanceof l.View)return a;g=g.parentNode}}})})(myt);
(l=>{const v=JS.Module,r=l.global.focus,p=()=>({source:null,type:null,value:null}),g=l.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:p(),getKeyCodeFromEvent:f=>f.value.keyCode||f.value.charCode},createDomHandler:function(f,q,e){return this.createStandardDomHandler(f,q,e,g)||this.callSuper(f,q,e)}}),a=l.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,
wheel:!0},EVENT:p(),getMouseFromEvent:f=>({x:f.value.pageX,y:f.value.pageY}),getMouseFromEventRelativeToView:(f,q)=>{q=q.getPagePosition();f=a.getMouseFromEvent(f);f.x-=q.x;f.y-=q.y;return f}},createDomHandler:function(f,q,e){return this.createStandardDomHandler(f,q,e,a,!0)||this.callSuper(f,q,e)}}),c=l.ScrollObservable=new v("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:p(),getScrollFromEvent:f=>{f=f.value;f=f.target||f.srcElement;return{x:f.scrollLeft,y:f.scrollTop}}},createDomHandler:function(f,
q,e){return this.createStandardDomHandler(f,q,e,c)||this.callSuper(f,q,e)}}),d=l.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:p()},createDomHandler:function(f,q,e){return this.createStandardDomHandler(f,q,e,d,!1)||this.callSuper(f,q,e)}}),b=l.FocusObservable=new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:p()},initNode:function(f,q){this.focusable=!1;this.focusIndicator=!0;this.callSuper(f,q)},destroy:function(){this.giveAwayFocus();
this.callSuper()},setFocused:function(f){this.focused!==f&&(this.focused=f,this.inited&&(this.fireEvent("focused",f),f?r.notifyFocus(this):r.notifyBlur(this)))},setFocusable:function(f){if(this.focusable!==f){const q=this.focusable;(this.focusable=f)?(this.getIDE().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):q&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&
this.fireEvent("focusable",f)}},setFocusIndicator:function(f){this.focusIndicator!==f&&(this.focusIndicator=f,this.focused&&(f?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(r.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(f=>!0===f.maskFocus)},focus:function(f){this.isFocusable()&&this.getIDE().focus({preventScroll:f})},blur:function(){this.getIDE().blur()},
__doFocus:function(f){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(f){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},showFocusIndicator:function(){this.getIDE().hideFocus=!1;const f=this.getIDS();f.outlineWidth="thin";f.outlineColor="#8bf";f.outlineStyle="solid";f.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},
hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(f,q,e){if(b.EVENT_TYPES[e]){const u=this;return w=>{w||(w=window.event);if(u._ignoreFocus)w.cancelBubble=!0,w.stopPropagation&&w.stopPropagation(),w.preventDefault();else{var k=b.EVENT;k.source=u;k.type=w.type;k.value=w;f[q](k)||(w.cancelBubble=!0,w.stopPropagation&&w.stopPropagation());k.source=void 0}}}return this.callSuper(f,q,e)}}),h=l.InputObservable=new v("InputObservable",
{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:p()},createDomHandler:function(f,q,e){return this.createStandardDomHandler(f,q,e,h)||this.callSuper(f,q,e)}}),n=l.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:p()},createDomHandler:function(f,q,e){return this.createStandardDomHandler(f,q,e,n,!0)||this.callSuper(f,q,e)}});l.DomObservable=new v("DomObservable",{attachDomObserver:function(f,q,e,u,w){if(f&&q&&
e){u=!!u;const k=this.createDomHandler(f,q,e);if(k){const x=this.__dobsbt||(this.__dobsbt={}),C=x[e];C?C.push(f,q,k,u):x[e]=[f,q,k,u];l.addEventListener(this.getDomElementForDomObservable(e),e,k,u,w);return!0}}return!1},getDomElementForDomObservable:function(f){return this.getIDE()},createDomHandler:(f,q,e)=>null,createStandardDomHandler:function(f,q,e,u,w){if(u.EVENT_TYPES[e]){const k=this,x=u.EVENT;return C=>{C||(C=window.event);x.source=k;x.type=C.type;x.value=C;f[q](x)||(C.cancelBubble=!0,C.stopPropagation&&
C.stopPropagation(),w&&C.preventDefault());x.source=void 0}}},detachDomObserver:function(f,q,e,u){if(f&&q&&e){u=!!u;var w=this.__dobsbt;if(w&&(w=w[e])){const k=this.getDomElementForDomObservable(e);let x=!1,C=w.length;for(;C;)C-=4,f===w[C]&&q===w[C+1]&&u===w[C+3]&&(k&&l.removeEventListener(k,e,w[C+2],u),w.splice(C,4),x=!0);return x}}return!1},detachAllDomObservers:function(){const f=this.__dobsbt;if(f)for(const q in f){const e=f[q];let u=e.length;for(;u;){const w=e[--u],k=e[--u];u-=2;l.removeEventListener(this.getDomElementForDomObservable(q),
q,k,w)}e.length=0}}});l.DomObserver=new v("DomObserver",{attachToDom:function(f,q,e,u,w){if(f&&q&&e){u=!!u;var k=this.__dobt||(this.__dobt={});k=k[e]||(k[e]=[]);f.attachDomObserver(this,q,e,u,w)&&k.push(u,q,f)}},detachFromDom:function(f,q,e,u){if(f&&q&&e){u=!!u;var w=this.__dobt;if(w&&(w=w[e])){let k=!1,x=w.length;for(;x;)x-=3,f===w[x+2]&&q===w[x+1]&&u===w[x]&&f.detachDomObserver(this,q,e,u)&&(w.splice(x,3),k=!0);return k}}return!1},detachFromAllDomSources:function(){const f=this.__dobt;if(f)for(const q in f){const e=
f[q];let u=e.length;for(;u;)e[--u].detachDomObserver(this,e[--u],q,e[--u]);e.length=0}}})})(myt);
(l=>{let v,r={};const p=l.global,g=p.focus,a="Firefox"===BrowserDetect.browser,c=a?224:91,d=a?224:93,b=()=>!!r[c]||!!r[d],h=(f,q)=>{switch(f){case 8:return f=q.nodeName,!("TEXTAREA"===f||"INPUT"===f&&("text"===q.type||"password"===q.type)||"DIV"===f&&"true"===q.contentEditable&&q.firstChild);case 9:return!0}return!1},n=(f,q)=>{["keydown","keypress","keyup"].forEach(e=>{v[q](f,"__hndl_"+e,e)})};new JS.Singleton("GlobalKeys",{include:[l.DomElementProxy,l.DomObservable,l.DomObserver,l.KeyObservable,
l.Observable,l.Observer],initialize:function(){p.register("keys",v=this);v.KEYCODE_TAB=9;v.KEYCODE_SHIFT=16;v.KEYCODE_CONTROL=17;v.KEYCODE_ALT=18;v.KEYCODE_Z=90;v.KEYCODE_COMMAND=c;v.KEYCODE_RIGHT_COMMAND=d;v.setDomElement(document);v.attachTo(g,"__hndl_focused","focused");n(v,"attachToDom");global.onblur=()=>{r={}}},isKeyDown:f=>!!r[f],isShiftKeyDown:()=>!!r[16],isControlKeyDown:()=>!!r[17],isAltKeyDown:()=>!!r[18],isCommandKeyDown:b,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?b():!!r[17],
ignoreFocusTrap:()=>!!r[18],__hndl_focused:f=>{(f=f.value)?(n(v,"detachFromDom"),n(f,"attachToDom")):((f=g.prevFocusedView)&&n(f,"detachFromDom"),n(v,"attachToDom"))},__hndl_keydown:f=>{const q=l.KeyObservable.getKeyCodeFromEvent(f);f=f.value;h(q,f.target)&&f.preventDefault();b()&&16!==q&&17!==q&&18!==q?(v.fireEvent("keydown",q),v.fireEvent("keyup",q)):(r[q]=!0,9===q&&(f=!!r[18],r[16]?g.prev(f):g.next(f)),v.fireEvent("keydown",q))},__hndl_keypress:f=>{v.fireEvent("keypress",l.KeyObservable.getKeyCodeFromEvent(f))},
__hndl_keyup:f=>{const q=l.KeyObservable.getKeyCodeFromEvent(f);f=f.value;h(q,f.target)&&f.preventDefault();r[q]=!1;v.fireEvent("keyup",q)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(l=>{const v=JS.Module,r=a=>{a.getSubviews().forEach(c=>{c&&c.syncInnerToOuter&&!c.ignoreFlex&&(c.syncInnerToOuter(),c.syncModelToOuterBounds())})},p=a=>{a.isChildOfFlexBox()&&(a.getODS().position=a.visible?"":"absolute")},g=l.FlexBoxSupport=new v("FlexBoxSupport",{initNode:function(a,c){this.callSuper(a,c);r(this)},setWidth:function(a,c){this.callSuper(a,c);this.inited&&r(this)},setHeight:function(a,c){this.callSuper(a,c);this.inited&&r(this)},setFlexDirection:function(a){if(this.flexDirection!==
a){let c=this.flexDirection=a;switch(c){case "rowReverse":c="row-reverse";break;case "columnReverse":c="column-reverse"}this.getIDS().flexDirection=c;this.inited&&(this.fireEvent("flexDirection",a),r(this))}},setFlexWrap:function(a){if(this.flexWrap!==a){let c=this.flexWrap=a;switch(c){case "wrapReverse":case "reverse":c="wrap-reverse"}this.getIDS().flexWrap=c;this.inited&&(this.fireEvent("flexWrap",a),r(this))}},setJustifyContent:function(a){if(this.justifyContent!==a){let c=this.justifyContent=
a;switch(c){case "start":c="flex-start";break;case "end":c="flex-end";break;case "spaceBetween":case "between":c="space-between";break;case "spaceAround":case "around":c="space-around";break;case "spaceEvenly":case "evenly":c="space-evenly"}this.getIDS().justifyContent=c;this.inited&&(this.fireEvent("justifyContent",a),r(this))}},setAlignItems:function(a){if(this.alignItems!==a){let c=this.alignItems=a;switch(c){case "start":c="flex-start";break;case "end":c="flex-end"}this.getIDS().alignItems=c;
this.inited&&(this.fireEvent("alignItems",a),r(this))}},setAlignContent:function(a){if(this.alignContent!==a){let c=this.alignContent=a;switch(c){case "start":c="flex-start";break;case "end":c="flex-end";break;case "spaceBetween":case "between":c="space-between";break;case "spaceAround":case "around":c="space-around"}this.getIDS().alignContent=c;this.inited&&(this.fireEvent("alignContent",a),r(this))}},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.display="flex";
return a},subviewAdded:function(a){a&&!a.ignoreFlex&&(a.getODS().position="",this.inited&&r(this))},syncSubviews:function(){r(this)},subviewRemoved:a=>{!a||a.destroyed||a.ignoreFlex||(a.getODS().position="absolute")}});l.FlexBoxChildSupport=new v("FlexBoxChildSupport",{setParent:function(a){var c=this.isChildOfFlexBox();this.callSuper(a);this.__parentIsFlexBox=this.parent&&this.parent.isA(g);this.inited&&c&&!this.isChildOfFlexBox()&&(a=this.getIDS(),c=this.getODS(),"auto"!==a.width&&(c.width=this.width+
"px"),"auto"!==a.height&&(c.height=this.height+"px"),this.syncInnerToOuter());p(this)},setVisible:function(a){this.callSuper(a);p(this)},setWidth:function(a,c){null==a||""===a?(this.getODS().width="",this.syncModelToOuterBounds(!1,!0)):this.callSuper(a,c);this.syncInnerToOuter(!1,!0)},setHeight:function(a,c){null==a||""===a?(this.getODS().height="",this.syncModelToOuterBounds(!0,!1)):this.callSuper(a,c);this.syncInnerToOuter(!0,!1)},setFlexGrow:function(a){this.flexGrow!==a&&(this.getODS().flexGrow=
this.flexGrow=a,this.inited&&(this.fireEvent("flexGrow",a),(a=this.parent)&&a.syncSubviews&&a.syncSubviews()))},setFlexShrink:function(a){this.flexShrink!==a&&(this.getODS().flexShrink=this.flexShrink=a,this.inited&&(this.fireEvent("flexShrink",a),(a=this.parent)&&a.syncSubviews&&a.syncSubviews()))},setAlignSelf:function(a){if(this.alignSelf!==a){let c=this.alignSelf=a;switch(c){case "start":c="flex-start";break;case "end":c="flex-end"}this.getODS().alignSelf=c;this.inited&&this.fireEvent("alignSelf",
a)}},isChildOfFlexBox:function(){return this.__parentIsFlexBox},syncModelToOuterBounds:function(a,c){const d=this.getODE(),b=this.getIDS();a||("auto"===b.width?this.getODS().width="auto":this.setInnerWidth(d.clientWidth),this.fireEvent("width",this.width=d.clientWidth));c||("auto"===b.height?this.getODS().height="auto":this.setInnerHeight(d.clientHeight),this.fireEvent("height",this.height=d.clientHeight))},syncInnerToOuter:function(a,c){const d=this.getIDS(),b=this.getODE();a||"auto"===d.width||
this.setInnerWidth(b.clientWidth);c||"auto"===d.height||this.setInnerHeight(b.clientHeight)},setInnerWidth:function(a){this.getIDS().width=a+"px"},setInnerHeight:function(a){this.getIDS().height=a+"px"},createOurDomElement:function(a){a=this.callSuper(a);const c=document.createElement("div");c.style.position="relative";a.appendChild(c);return[a,c]}})})(myt);
(l=>{const v=Array.prototype,r={},p={},g=(b,h)=>h+b.substring(0,1).toUpperCase()+b.substring(1),a=b=>p[b]||(p[b]=g(b,"set")),c=b=>r[b]||(r[b]=g(b,"get")),d=(b,h,n)=>{null==b[h]&&(b[h]=n)};l.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:a,generateGetterName:c,generateName:g,createSetterFunction:(b,h)=>{const n=a(h);b[n]&&console.log("Overwriting setter",n);b[n]=f=>{b[h]!==f&&(b[h]=f,b.inited&&b.fireEvent(h,f))}},createGetterFunction:(b,h)=>{const n=c(h);b[n]&&console.log("Overwriting getter",
n);b[n]=()=>b[h]},defAttr:d},appendToEarlyAttrs:function(){v.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){v.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){v.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){v.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:d,quickSet:function(b,h){(b||[]).forEach(n=>{this[n]=h[n];delete h[n]})},callSetters:function(b){var h=
this.earlyAttrs;const n=this.lateAttrs;let f;var q;if(h||n){var e={};for(q in b)e[q]=b[q];b=e;if(h)for(e=0,q=h.length;q>e;){const u=h[e++];u in b&&(this.set(u,b[u]),delete b[u])}if(n)for(f=[],e=0,q=n.length;q>e;)h=n[e++],h in b&&(f.push(h,b[h]),delete b[h])}for(const u in b)this.set(u,b[u]);if(f)for(e=0,q=f.length;q>e;)this.set(f[e++],f[e++])},get:function(b){const h=c(b);return this[h]?this[h]():this[b]},set:function(b,h,n){if(!n&&(n=a(b),this[n]))return this[n](h);this[b]!==h&&(this[b]=h,!1!==this.inited&&
this.fireEvent&&this.fireEvent(b,h))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let l,v;const r=this.__meta__;if(r)for(l=Object.keys(r),v=l.length;v;)delete r[l[--v]];l=Object.keys(this);for(v=l.length;v;)delete this[l[--v]];this.destroyed=!0}}});
(l=>{const v=JS.Class,r=JS.Module,p=new v("AbstractPool",{include:[l.Destructible],initialize:()=>{},destroy:function(){const d=this.__op;d&&(d.length=0);this.callSuper()},getInstance:function(){const d=this.__op||(this.__op=[]);return d.length?d.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(d){(this.__op||(this.__op=[])).push(this.cleanInstance(d))},cleanInstance:d=>{"function"===typeof d.clean&&d.clean();return d},destroyPooledInstances:function(){var d=
this.__op;if(d){let b=d.length;for(;b;){const h=d[--b];"function"===typeof h.destroy&&h.destroy()}}}}),g=l.SimplePool=new v("SimplePool",p,{initialize:function(d,b){this.callSuper();this.instanceClass=d||Object;this.instanceParent=b},createInstance:function(d){var b=this.instanceParent,h=this.instanceClass;return b?new h(b,d):new h}}),a=new r("TrackActives",{destroy:function(){const d=this.__actives;d&&(d.length=0);this.callSuper()},getInstance:function(){const d=this.callSuper();(this.__actives||
(this.__actives=[])).push(d);return d},putInstance:function(d){var b=this.__actives;if(b){let h=b.length;for(;h;)if(b[--h]===d){b.splice(h,1);this.callSuper(d);return}b="inactive"}else b="missing";console.warn("Tried to put a "+b+" instance",d,this)},getActives:function(d){const b=this.__actives;if(b){if(d){const h=[],n=b.length;for(let f=0;n>f;){const q=b[f++];d.call(this,q)&&h.push(q)}return h}return b.concat()}return[]},putActives:function(){const d=this.__actives;if(d){let b=d.length;for(;b;)this.putInstance(d[--b])}}}),
c=l.TrackActivesPool=new v("TrackActivesPool",g,{include:[a]});l.TrackActivesMultiPool=new v("TrackActivesMultiPool",p,{initialize:function(d,b){this.callSuper();this.instanceClassesByKey=d;const h=this._poolsByClassName={},n=this.__pbk={};for(const f in d){const q=d[f];n[f]=h[q.__displayName]=new c(q,b)}},destroy:function(){const d=this.__pbk;for(const b in d)d[b].destroy();this.callSuper()},getInstance:function(){const d=arguments[0],b=this.__pbk[d];if(b)return b.getInstance(arguments);console.warn("No pool for key",
d)},putInstance:function(d){const b=this._poolsByClassName[d.klass.__displayName];b?b.putInstance(d):console.warn("No pool for obj",d)},destroyPooledInstances:function(){const d=this.__pbk;for(const b in d)d[b].destroyPooledInstances()},getActives:function(d){let b=[];const h=this.__pbk;for(const n in h)b=b.concat(h[n].getActives(d));return b},putActives:function(){const d=this.__pbk;for(const b in d)d[b].putActives()}});l.Reusable=new r("Reusable",{clean:()=>{}})})(myt);
(l=>{const v=(a,c)=>{if(c)for(;a;){if(c(a))return a;a=a.parent}},r=(a,c)=>{const d=c.name;void 0===a[d]?a[d]=c:console.warn("Name in use",d)},p=(a,c)=>{const d=c.name;a[d]===c?delete a[d]:console.warn("Name not in use",d)},g=a=>a.__animPool||(a.__animPool=new l.TrackActivesPool(l.Animator,a));l.Node=new JS.Class("Node",{include:[l.AccessorSupport,l.Destructible,l.Observable,l.Observer],extend:{getMatchingAncestorOrSelf:v,getMatchingAncestor:(a,c)=>v(a?a.parent:null,c)},initialize:function(a,c,d){if(d){const b=
d.length;for(let h=0,n;b>h;)(n=d[h++])?this.extend(n):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.initNode(a,c||{})},initNode:function(a,c){this.callSetters(c);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let c=a.length;for(;c;)a[--c].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();
this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var c=this.placement||a.defaultPlacement;c&&(a=a.determinePlacement(c,this))}if(!(this.parent===a||a&&a.destroyed)){if(c=this.parent){let d=c.getSubnodeIndex(this);0<=d&&(this.name&&p(c,this),c.subnodes.splice(d,
1),c.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&r(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const c=this.parent;c&&this.name&&p(c,this);this.name=a;c&&a&&r(c,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,c){let d=a.indexOf("."),b;0<=d&&(b=a.substring(d+1),a=a.substring(0,d));"*"===a&&(a=this.defaultPlacement)&&(d=a.indexOf("."),0<=d&&(b=a.substring(d+
1)+(b?"."+b:""),a=a.substring(0,d)));return(a=this[a])?b?a.determinePlacement(b,c):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;
a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(c=>c instanceof a)},searchAncestors:function(a){return v(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return v(this,a)},getAncestors:function(){const a=[];let c=this;for(;c;)a.push(c),c=c.parent;return a},hasSubnode:function(a){return 0<=this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent===
this)return a.setParent(),a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,c,d,b,h){return this.animate(a,c,d,!1,null,b,!1,1,h)},animate:function(a){if(a){const c=g(this),d=c.getInstance({ignorePlacement:!0}),b=a.callback;delete a.callback;d.callSetters(a);d.next(h=>{c.putInstance(d)});b&&d.next(b);d.setRunning(!0);return d}},getActiveAnimators:function(a){if("string"===typeof a){const c=a;a=d=>d.attribute===c}return g(this).getActives(a)},stopActiveAnimators:function(a,c=!1){a=this.getActiveAnimators(a);
let d=a.length;if(0<d){const b=g(this);for(;d;){const h=a[--d];h.reset(c);c||b.putInstance(h)}}},doOnceOnIdle:function(a){this.attachTo(l.global.idle,a,"idle",!0)}})})(myt);
(l=>{let v=0,r=!1;const p=JS.Class,g=[],a=f=>{if(r!==f&&(r=f,!f)){for(f=g.length;f;){const q=g[--f];q.__deferredLayout=!1;q.update()}g.length=0}},c=(f,q,e,u)=>{const w=f.getSubviewIndex(q),k=f.subviews;0<=w&&(f=f.getSubviewIndex(e),k.splice(w,1),0<=f?(w<f&&--f,k.splice(f+(u?1:0),0,q)):u?k.push(q):k.unshift(q))},d=(f,q,e)=>{f[q]!==e&&(f[q]=e,f.inited&&(f.fireEvent(q,e),f.update()))},b=l.Layout=new p("Layout",l.Node,{extend:{incrementGlobalLock:()=>{1===++v&&a(!0)},decrementGlobalLock:()=>{0<v&&0===
--v&&a(!1)}},initNode:function(f,q){this.subviews=[];this.locked=!0;this.lockedCounter=1;const e=!0===q.locked;delete q.locked;this.callSuper(f,q);e||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(f){var q=this.parent;if(q!==f){const e=!this.locked;e&&(this.locked=!0);let u,w;if(q){u=this.subviews;for(w=u.length;w;)this.removeSubview(u[--w]);this.detachFrom(q,"__hndlPSA","subviewAdded");this.detachFrom(q,"__hndlPSR","subviewRemoved")}this.callSuper(f);
if(f=this.parent){u=f.getSubviews();w=0;for(q=u.length;q>w;)this.addSubview(u[w++]);this.attachTo(f,"__hndlPSA","subviewAdded");this.attachTo(f,"__hndlPSR","subviewRemoved")}e&&(this.locked=!1,this.inited&&f&&this.update())}},canUpdate:function(){return r?(this.__deferredLayout||(g.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(f){return 0<=this.getSubviewIndex(f)},getSubviewIndex:function(f){return this.subviews.indexOf(f)},addSubview:function(f){this.ignore(f)||
(this.subviews.push(f),this.startMonitoringSubview(f),this.locked||this.update())},startMonitoringSubview:f=>{},startMonitoringAllSubviews:function(){const f=this.subviews;let q=f.length;for(;q;)this.startMonitoringSubview(f[--q])},removeSubview:function(f){if(this.ignore(f))return-1;const q=this.getSubviewIndex(f);0<=q&&(this.stopMonitoringSubview(f),this.subviews.splice(q,1),this.locked||this.update());return q},stopMonitoringSubview:f=>{},stopMonitoringAllSubviews:function(){const f=this.subviews;
let q=f.length;for(;q;)this.stopMonitoringSubview(f[--q])},ignore:f=>f.ignoreLayout,__hndlPSA:function(f){f=f.value;f.parent===this.parent&&this.addSubview(f)},__hndlPSR:function(f){f=f.value;f.parent===this.parent&&this.removeSubview(f)},sortSubviews:function(f){this.subviews.sort(f)},moveSubviewBefore:function(f,q){c(this,f,q,!1)},moveSubviewAfter:function(f,q){c(this,f,q,!0)}});var h=l.ConstantLayout=new p("ConstantLayout",b,{setTargetAttrName:function(f){this.setterName=l.AccessorSupport.generateSetterName(f);
d(this,"targetAttrName",f)},setTargetValue:function(f){d(this,"targetValue",f)},update:function(){if(this.canUpdate()){const f=this.setterName,q=this.targetValue,e=this.subviews,u=e.length;if(f)for(let w=0;u>w;)e[w++][f](q)}}});h=l.VariableLayout=new p("VariableLayout",h,{initNode:function(f,q){this.collapseParent=this.reverse=!1;this.callSuper(f,q)},setCollapseParent:function(f){d(this,"collapseParent",f)},setReverse:function(f){d(this,"reverse",f)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const q=this.setterName,e=this.subviews;var f=e.length;let u=this.targetValue,w,k=0;if(this.reverse)for(w=f;w;)f=e[--w],this.skipSubview(f)||(u=this.updateSubview(++k,f,q,u));else for(w=0;f>w;){const x=e[w++];this.skipSubview(x)||(u=this.updateSubview(++k,x,q,u))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(q,u);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(f){this.attachTo(f,
"update","visible")},stopMonitoringSubview:function(f){this.detachFrom(f,"update","visible")},updateSubview:(f,q,e,u)=>{q[e](u);return u},skipSubview:f=>!f.visible,updateParent:(f,q)=>{}});const n=l.SpacedLayout=new p("SpacedLayout",h,{initNode:function(f,q){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(f,q)},setTargetAttrName:function(f){if(this.targetAttrName!==
f){const q="y"===f,e=this.inited;e&&this.stopMonitoringAllSubviews();this.measureAttrName=q?"boundsHeight":"boundsWidth";this.measureAttrBaseName=q?"height":"width";this.parentSetterName=q?"setHeight":"setWidth";e&&this.startMonitoringAllSubviews();this.callSuper(f)}},setNoAddSubviewOptimization:function(f){this.noAddSubviewOptimization=f},setAxis:function(f){this.setTargetAttrName(this.axis=f)},setInset:function(f){this.setTargetValue(this.inset=f)},setSpacing:function(f){d(this,"spacing",f)},setOutset:function(f){d(this,
"outset",f)},addSubview:function(f){const q=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(f);this.locked=q},startMonitoringSubview:function(f){this.attachTo(f,"update",this.measureAttrName);this.callSuper(f)},stopMonitoringSubview:function(f){this.detachFrom(f,"update",this.measureAttrName);this.callSuper(f)},updateSubview:function(f,q,e,u){f=q[this.measureAttrName];q[e](u+(f-q[this.measureAttrBaseName])/2);return u+f+this.spacing},updateParent:function(f,q){this.parent[this.parentSetterName](q+
this.outset-this.spacing)}});l.ResizeLayout=new p("ResizeLayout",n,{setCollapseParent:f=>{},setTargetAttrName:function(f){if(this.targetAttrName!==f){if(this.inited){const q="x"===f;this.stopMonitoringParent(q?"height":"width");this.startMonitoringParent(q?"width":"height")}this.callSuper(f)}},setParent:function(f){if(this.parent!==f){const q="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(q);this.callSuper(f);this.parent&&this.startMonitoringParent(q)}},startMonitoringParent:function(f){this.attachTo(this.parent,
"update",f)},stopMonitoringParent:function(f){this.detachFrom(this.parent,"update",f)},doBeforeUpdate:function(){const f=this.measureAttrName,q=this.subviews;let e=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,u=q.length,w=0,k=0;for(;u;){const x=q[--u];this.skipSubview(x)||(++w,0<x.layoutHint?k+=x.layoutHint:e-=x[f])}0!==w&&(this.remainder=e-=(w-1)*this.spacing,this.resizeSum=k,this.scalingFactor=e/k,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===f?
"setWidth":"setHeight")},updateSubview:function(f,q,e,u){var w=q.layoutHint;0<w&&(this.resizeSumUsed+=w,w=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(w*this.scalingFactor),this.remainderUsed+=w,q[this.measureSetter](w));return this.callSuper(f,q,e,u)},startMonitoringSubview:function(f){0<f.layoutHint||this.attachTo(f,"update",this.measureAttrName);this.attachTo(f,"update","visible")},stopMonitoringSubview:function(f){0<f.layoutHint||this.detachFrom(f,"update",
this.measureAttrName);this.detachFrom(f,"update","visible")},updateParent:(f,q)=>{}});l.AlignedLayout=new p("AlignedLayout",h,{initNode:function(f,q){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(f,q)},setTargetAttrName:function(f){if(this.targetAttrName!==f){const q="y"===f,e=this.inited;e&&this.stopMonitoringAllSubviews();this.measureAttrName=
q?"boundsHeight":"boundsWidth";this.measureAttrBaseName=q?"height":"width";this.parentSetterName=q?"setHeight":"setWidth";e&&this.startMonitoringAllSubviews();this.callSuper(f)}},setAlign:function(f){if(this.align!==f){this.align=f;const q=this.locked;this.locked=!0;this.setTargetAttrName("middle"===f||"bottom"===f||"top"===f?"y":"x");this.locked=q;this.inited&&(this.fireEvent("align",f),this.update())}},startMonitoringSubview:function(f){this.attachTo(f,"update",this.measureAttrName);this.callSuper(f)},
stopMonitoringSubview:function(f){this.detachFrom(f,"update",this.measureAttrName);this.callSuper(f)},doBeforeUpdate:function(){const f=this.measureAttrName,q=this.subviews;let e=0,u,w=q.length;for(;w;)u=q[--w],this.skipSubview(u)||(e=e>u[f]?e:u[f]);this.setTargetValue(e)},updateSubview:function(f,q,e,u){switch(this.align){case "center":case "middle":q[e]((u-q[this.measureAttrName])/2);break;case "right":case "bottom":q[e](u-q[this.measureAttrName]);break;default:q[e](0)}return u},updateParent:function(f,
q){this.parent[this.parentSetterName](q)}});l.WrappingLayout=new p("WrappingLayout",h,{initNode:function(f,q){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(f,q)},
setTargetAttrName:function(f){if(this.targetAttrName!==f){const q="y"===f,e=this.inited;e&&this.stopMonitoringAllSubviews();this.measureAttrName=q?"boundsHeight":"boundsWidth";const u=this.measureAttrBaseName=q?"height":"width";this.otherMeasureAttrName=q?"boundsWidth":"boundsHeight";const w=this.otherMeasureAttrBaseName=q?"width":"height";this.parentSetterName=q?"setWidth":"setHeight";this.otherSetterName=q?"setX":"setY";e&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(w),this.startMonitoringParent(u));
this.callSuper(f)}},setParent:function(f){if(this.parent!==f){const q="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(q?"height":"width");this.callSuper(f);this.parent&&this.startMonitoringParent(q?"height":"width")}},setAxis:function(f){this.setTargetAttrName(this.axis=f)},setInset:function(f){this.setTargetValue(this.inset=f)},setSpacing:function(f){d(this,"spacing",f)},setOutset:function(f){d(this,"outset",f)},setLineSpacing:function(f){d(this,"lineSpacing",f)},setLineInset:function(f){d(this,
"lineInset",f)},setLineOutset:function(f){d(this,"lineOutset",f)},startMonitoringParent:function(f){this.attachTo(this.parent,"update",f)},stopMonitoringParent:function(f){this.detachFrom(this.parent,"update",f)},startMonitoringSubview:function(f){this.attachTo(f,"update",this.measureAttrName);this.attachTo(f,"update",this.otherMeasureAttrName);this.callSuper(f)},stopMonitoringSubview:function(f){this.detachFrom(f,"update",this.measureAttrName);this.detachFrom(f,"update",this.otherMeasureAttrName);
this.callSuper(f)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(f,q,e,u){f=q[this.measureAttrName];const w=q[this.otherMeasureAttrName];u+f>this.parentSizeLessOutset||"break"===q.layoutHint?(u=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=w,++this.lineCount):w>this.lineSize&&(this.lineSize=w);q[this.otherSetterName](this.linePos+
(w-q[this.otherMeasureAttrBaseName])/2);q[e](u+(f-q[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,u+f+this.outset);return u+f+this.spacing},updateParent:function(f,q){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});l.createFixedThresholdCounter(b,1,"locked")})(myt);
(l=>{const v=Math.round,r=l.DomElementProxy,p=l.Geometry.rectContainsPoint,g=(e,u)=>{const w=l.global.focus.focusedView,k=e.getIDE();if(w===e||w&&w.isDescendantOf(e))w._ignoreFocus=!0;e=k.scrollTop;const x=k.scrollLeft;u.call();w&&(w._ignoreFocus=!1,w.focus(!0));k.scrollTop=e;k.scrollLeft=x},a=(e,u,w,k)=>{if(u&&"object"===typeof u){if(k&&(k=e.getLeastCommonAncestor(u))){var x=k.getIDE();k=r.getZIndexRelativeToAncestor(e.getODE(),x);x=r.getZIndexRelativeToAncestor(u.getODE(),x);w&&(k*=-1,x*=-1);if(k<
x)return!0;if(x<k)return!1}e=e.getODE().compareDocumentPosition(u.getODE());return w?2===e||10===e:4===e||20===e}return!1},c=e=>{e=e.getAncestors();let u=e.length,w=1,k=1;for(;u;){const x=e[--u];w*=x.scaleX||1;k*=x.scaleY||1;x.__effectiveScaleX=w;x.__effectiveScaleY=k}return{scaleX:w,scaleY:k}},d=(e,u,w)=>{const k=e.getODE();if(p(u,w,0,0,k.offsetWidth*e.__effectiveScaleX,k.offsetHeight*e.__effectiveScaleY)){if(e=e.parent){const x=e.getIDE();return d(e,u+(k.offsetLeft-x.scrollLeft)*e.__effectiveScaleX,
w+(k.offsetTop-x.scrollTop)*e.__effectiveScaleY)}return!0}return!1},b=e=>{switch(e.align){case "center":e.releaseConstraint("__doAlignCenter");break;case "right":e.releaseConstraint("__doAlignRight")}},h=e=>{const u=e.parent;if(u)switch(e.align){case "center":e.constrain("__doAlignCenter",[e,"width",e,"alignOffset",u,"width"]);break;case "right":e.constrain("__doAlignRight",[e,"width",e,"alignOffset",u,"width"]);break;case "left":e.setX(e.alignOffset||0)}},n=e=>{switch(e.valign){case "middle":e.releaseConstraint("__doValignMiddle");
break;case "bottom":e.releaseConstraint("__doValignBottom")}},f=e=>{const u=e.parent;if(u)switch(e.valign){case "middle":e.constrain("__doValignMiddle",[e,"height",e,"valignOffset",u,"height"]);break;case "bottom":e.constrain("__doValignBottom",[e,"height",e,"valignOffset",u,"height"]);break;case "top":e.setY(e.valignOffset||0)}},q=(e,u,w)=>{e.getODS()["border"+w+"Radius"]=u+"px"};l.View=new JS.Class("View",l.Node,{include:[r,l.DomObservable,l.DomObserver,l.ScrollObservable,l.FocusObservable,l.KeyObservable,
l.MouseObservable],extend:{retainFocusDuringDomUpdate:g},initNode:function(e,u){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=u.tagName;delete u.tagName;this.setDomElement(this.createOurDomElement(e));const w=this.getODS();w.left=w.top="0px";this.callSuper(e,u);this.__updateBounds(this.width,this.height);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(e){e=document.createElement(this.tagName||"div");e.style.position="absolute";
const u=this.klass;e.className=u.__cssClassName||(u.__cssClassName="myt-"+u.__displayName.split(".").join("-"));return e},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(e){this.parent!==e&&(this.inited&&(b(this),n(this)),this.callSuper(e),this.align&&h(this),this.valign&&f(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(e=>
e!==this)},setFocusTrap:function(e){this.focusTrap=e},setFocusCage:function(e){this.focusCage=e},setMaskFocus:function(e){this.maskFocus=e},setLayoutHint:function(e){this.layoutHint=e},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(e){if(this.ignoreLayout!==e){var u=this.inited&&this.parent;let w;if(e){if(u)for(u=this.parent.getLayouts(),w=u.length;w;)u[--w].removeSubview(this);this.ignoreLayout=e}else if(this.ignoreLayout=e,u)for(u=this.parent.getLayouts(),
w=u.length;w;)u[--w].addSubview(this)}},setDomClass:function(e){this.domClass!==e&&(this.callSuper(e),this.inited&&this.fireEvent("domClass",e))},setDomId:function(e){this.domId!==e&&(this.callSuper(e),this.inited&&this.fireEvent("domId",e))},setAlignOffset:function(e){this.alignOffset!==e&&(this.alignOffset=e,this.inited&&this.fireEvent("alignOffset",e),this.parent&&"left"===this.align&&this.setX(e))},setAlign:function(e){this.align!==e&&(this.inited&&b(this),this.align=e,this.inited&&(this.fireEvent("align",
e),h(this)))},__doAlignCenter:function(e){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(e){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(e){this.valignOffset!==e&&(this.valignOffset=e,this.inited&&this.fireEvent("valignOffset",e),this.parent&&"top"===this.valign&&this.setY(e))},setValign:function(e){this.valign!==e&&(this.inited&&n(this),this.valign=e,this.inited&&(this.fireEvent("valign",e),f(this)))},__doValignMiddle:function(e){this.setY(v((this.parent.height-
this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(e){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(e){this.x!==e&&(this.x=e,this.visible&&(this.getODS().left=e+"px"),this.inited&&this.fireEvent("x",e))},setY:function(e){this.y!==e&&(this.y=e,this.visible&&(this.getODS().top=e+"px"),this.inited&&this.fireEvent("y",e))},setWidth:function(e,u){0>e&&(e=0);this.width!==e&&(this.width=e,this.getODS().width=e+"px",this.inited&&(this.__updateBounds(e,this.height),
u||this.fireEvent("width",e)))},setHeight:function(e,u){0>e&&(e=0);this.height!==e&&(this.height=e,this.getODS().height=e+"px",this.inited&&(this.__updateBounds(this.width,e),u||this.fireEvent("height",e)))},setDomMinWidth:function(e,u){(u?this.getIDS():this.getODS()).minWidth=e?e+"px":null},getDomMinWidth:function(e){e=(e?this.getIDS():this.getODS()).minWidth;return null!=e?Number.parseInt(e):null},setDomMinHeight:function(e,u){(u?this.getIDS():this.getODS()).minHeight=e?e+"px":null},getDomMinHeight:function(e){e=
(e?this.getIDS():this.getODS()).minHeight;return null!=e?Number.parseInt(e):null},setTextColor:function(e){this.textColor!==e&&(this.textColor=e,this.getODS().color=e||"inherit",this.inited&&this.fireEvent("textColor",e))},setBgColor:function(e){this.bgColor!==e&&(this.getODS().backgroundColor=this.bgColor=e,this.inited&&this.fireEvent("bgColor",e))},isColorAttr:e=>"bgColor"===e||"textColor"===e,setOpacity:function(e){this.opacity!==e&&(this.getODS().opacity=this.opacity=e,this.inited&&this.fireEvent("opacity",
e))},setOverflow:function(e){const u=this.overflow;if(u!==e){this.overflow=e;const w=this.getIDS();if("autox"===e)w.overflowX="auto",w.overflowY="hidden";else if("autoy"===e)w.overflowY="auto",w.overflowX="hidden";else{if("autox"===u||"autoy"===u)w.overflowX=w.overflowY=null;w.overflow=e||"visible"}this.inited&&this.fireEvent("overflow",e)}},setVisible:function(e){if(this.visible!==e){this.visible=e;const u=this.getODS();u.visibility=e?"inherit":"hidden";u.left=e?this.x+"px":"-100000px";u.top=e?this.y+
"px":"-100000px";this.inited&&this.fireEvent("visible",e)}},setPointerEvents:function(e){this.pointerEvents!==e&&(this.pointerEvents=e,this.getODS().pointerEvents=e||"auto",this.inited&&this.fireEvent("pointerEvents",e))},setCursor:function(e){this.cursor!==e&&(this.cursor=e,this.getODS().cursor=e||"auto",this.inited&&this.fireEvent("cursor",e))},__updateBounds:function(e,u){this.boundsWidth!==e&&this.fireEvent("boundsWidth",this.boundsWidth=e);this.boundsHeight!==u&&this.fireEvent("boundsHeight",
this.boundsHeight=u)},setOutline:function(e){e=e||[];this.setOutlineWidth(e[0]);this.setOutlineStyle(e[1]);this.setOutlineColor(e[2])},setOutlineWidth:function(e){this.outlineWidth=e||0;this.getODS().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(e){this.getODS().outlineStyle=this.outlineStyle=e||"none"},setOutlineColor:function(e){this.getODS().outlineColor=this.outlineColor=e||"#000"},setBorder:function(e){e=e||[];this.setBorderWidth(e[0]);this.setBorderStyle(e[1]);this.setBorderColor(e[2])},
setBorderWidth:function(e){this.borderWidth=e||0;this.getODS().borderWidth=this.borderWidth+"px"},setBorderStyle:function(e){this.getODS().borderStyle=this.borderStyle=e||"none"},setBorderColor:function(e){this.getODS().borderColor=this.borderColor=e||"#000"},setRoundedCorners:function(e){this.getODS().borderRadius=e+"px"},setRoundedTopLeftCorner:function(e){q(this,e,"TopLeft")},setRoundedTopRightCorner:function(e){q(this,e,"TopRight")},setRoundedBottomLeftCorner:function(e){q(this,e,"BottomLeft")},
setRoundedBottomRightCorner:function(e){q(this,e,"BottomRight")},setBoxShadow:function(e){this.getODS().boxShadow=e?(e[0]||0)+"px "+(e[1]||0)+"px "+(e[2]||7)+"px "+(e[3]||"#000"):"none"},setGradient:function(e){const u=this.getODS();if(e){let k=e[0];"linear"===k||"radial"===k?e.shift():k="linear";let x=e[0];if("radial"===k){void 0===x?x="closest-side":e.shift();var w=e[0];if(void 0===w)w="circle";else{switch(w){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",
w),w="circle"}e.shift()}let C=e[0];void 0===C?C="center":(C=C.replaceAll("middle","center"),e.shift());x=w+" "+x+" at "+C}else"number"===typeof x?(x+="deg",e.shift()):x?(x="to "+x,e.shift()):x="0deg";w=C=>{e.push(C&&"inherit"!==C?C:"transparent")};2>e.length&&w(this.textColor);2>e.length&&w(this.bgColor);u.background=k+"-gradient("+x+","+e.join(",")+")"}else u.background="none";this.bgColor=void 0},setTooltip:function(e){this.tooltip!==e&&(this.tooltip=this.getODE().title=e,this.inited&&this.fireEvent("tooltip",
e))},isVisible:function(){return null==this.searchAncestorsOrSelf(e=>!e.visible)},getFocusTrap:function(e){return this.searchAncestorsOrSelf(u=>u.focusCage||u.focusTrap&&!e)},subnodeAdded:function(e){e instanceof l.View?(this.getIDE().appendChild(e.getODE()),this.getSubviews().push(e),this.fireEvent("subviewAdded",e),this.subviewAdded(e)):e instanceof l.Layout&&(this.getLayouts().push(e),this.fireEvent("layoutAdded",e),this.layoutAdded(e))},subnodeRemoved:function(e){let u;e instanceof l.View?(u=
this.getSubviewIndex(e),0<=u&&(this.fireEvent("subviewRemoved",e),e.removeDomElement(),this.subviews.splice(u,1),this.subviewRemoved(e))):e instanceof l.Layout&&(u=this.getLayoutIndex(e),0<=u&&(this.fireEvent("layoutRemoved",e),this.layouts.splice(u,1),this.layoutRemoved(e)))},hasSubview:function(e){return 0<=this.getSubviewIndex(e)},getSubviewIndex:function(e){return this.getSubviews().indexOf(e)},subviewAdded:e=>{},subviewRemoved:e=>{},getNextSibling:function(){if(this.parent){const e=this.getODE().nextElementSibling;
if(e)return e.model}},getPrevSibling:function(){if(this.parent){const e=this.getODE().previousElementSibling;if(e)return e.model}},hasLayout:function(e){return 0<=this.getLayoutIndex(e)},getLayoutIndex:function(e){return this.getLayouts().indexOf(e)},layoutAdded:e=>{},layoutRemoved:e=>{},isBehind:function(e,u){return a(this,e,!1,u)},isInFrontOf:function(e,u){return a(this,e,!0,u)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},
sendBehind:function(e){this.parent.sendSubviewBehind(this,e)},sendInFrontOf:function(e){this.parent.sendSubviewInFrontOf(this,e)},bringSubviewToFront:function(e){if(e&&e.parent===this){const u=this.getIDE();e.getODE()!==u.lastChild&&g(e,()=>{u.appendChild(e.getODE())})}},sendSubviewToBack:function(e){if(e&&e.parent===this){const u=this.getIDE();e.getODE()!==u.firstChild&&g(e,()=>{u.insertBefore(e.getODE(),u.firstChild)})}},sendSubviewBehind:function(e,u){if(e&&u&&e.parent===this&&u.parent===this){const w=
this.getIDE();g(e,()=>{w.insertBefore(e.getODE(),u.getODE())})}},sendSubviewInFrontOf:function(e,u){e&&u&&e.parent===this&&u.parent===this&&(this.sendSubviewBehind(e,u),this.sendSubviewBehind(u,e))},sortSubviews:function(e){const u=this,w=u.getSubviews().sort(e);g(u,()=>{const k=u.getODE(),x=k.parentNode;let C;x&&(C=k.nextSibling,x.removeChild(k));const z=document.createDocumentFragment(),B=w.length;for(let D=0;B>D;)z.appendChild(w[D++].getODE());u.getIDE().appendChild(z);x&&x.insertBefore(k,C)})},
containsPoint:function(e,u,w){const k=this.getODE();if(!k)return!1;w=r.getRelativePosition(k,w);return p(e,u,w.x,w.y,this.width,this.height)},isPointVisible:function(e,u){const w=this.getPagePosition(!0);c(this);return d(this,e-w.x,u-w.y)},getEffectiveScale:function(){return c(this)},getEffectiveScaleX:function(){return c(this).scaleX},getEffectiveScaleY:function(){return c(this).scaleY}})})(myt);
(l=>{const v=(p,g,a)=>{const c=r(p,g);p.getODS().transform=c+(0===c.length?"":" ")+g+"("+a+")"},r=(p,g)=>{p=p.getODS();var a=p.transform;if(!a||0===a.length)return"";a=a.split(" ");let c=a.length;for(;c;)if(0===a[--c].indexOf(g)){a.splice(c,1);break}return p.transform=a.join(" ")};l.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(p){this.transformOrigin!==p&&(this.transformOrigin=p,this.getODS().transformOrigin=p||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",p)))},setRotation:function(p){this.rotation!==p&&(this.rotation=p,v(this,"rotate",(p||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",p)))},setScale:function(p){const g=this.scaleX!==p,a=this.scaleY!==p;if(g){var c=this.scaleX=p;null==c?r(this,"scaleX"):v(this,"scaleX",c||1)}a&&(c=this.scaleY=p,null==c?r(this,"scaleY"):v(this,"scaleY",c||1));this.inited&&((g||a)&&this.__updateBounds(this.width,this.height),
g&&this.fireEvent("scaleX",p),a&&this.fireEvent("scaleY",p))},setScaleX:function(p){if(this.scaleX!==p){var g=this.scaleX=p;null==g?r(this,"scaleX"):v(this,"scaleX",g||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",p))}},setScaleY:function(p){if(this.scaleY!==p){var g=this.scaleY=p;null==g?r(this,"scaleY"):v(this,"scaleY",g||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",p))}},setSkewX:function(p){this.skewX!==p&&(this.skewX=
p,v(this,"skewX",p||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",p)))},setSkewY:function(p){this.skewY!==p&&(this.skewY=p,v(this,"skewY",p||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",p)))},__updateBounds:function(p,g){const a=this.rotation;var c=this.scaleX;const d=this.scaleY;c=(null==c||1===c)&&(null==d||1===d);if(!c||null!=a&&0!==a&&180!==a)!c||90!==a&&270!==a?(g=this.getODE().getBoundingClientRect(),p=g.width,g=g.height):
(p=this.height,g=this.width);this.callSuper(p,g)}})})(myt);
(l=>{const v=JS.Module,r=(c,d)=>{if("auto"===d)c.__hasSetWidth=!1,c.getODS().width="auto",c.sizeViewToDom();else return c.__hasSetWidth=!0},p=(c,d)=>{if("auto"===d)c.__hasSetHeight=!1,c.getODS().height="auto",c.sizeViewToDom();else return c.__hasSetHeight=!0},g=c=>{if(!c.__hasSetWidth){const d=c.getODE().offsetWidth/c.getEffectiveScaleX();c.width!==d&&(c.width=d,c.inited&&c.__updateBounds(d,c.height),c.fireEvent("width",d))}},a=c=>{if(!c.__hasSetHeight){const d=c.getODE().offsetHeight/c.getEffectiveScaleY();
c.height!==d&&(c.height=d,c.inited&&c.__updateBounds(c.width,d),c.fireEvent("height",d))}};l.SizeToDom=new v("SizeToDom",{initNode:function(c,d){this.callSuper(c,d);this.sizeViewToDom()},setWidth:function(c,d){r(this,c)&&this.callSuper(c,d)},setHeight:function(c,d){p(this,c)&&this.callSuper(c,d)},sizeViewToDom:function(){g(this);a(this)}});l.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(c,d){this.callSuper(c,d);this.sizeViewToDom()},setWidth:function(c,d){r(this,c)&&this.callSuper(c,d)},
sizeViewToDom:function(){g(this)}});l.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(c,d){this.callSuper(c,d);this.sizeViewToDom()},setHeight:function(c,d){p(this,c)&&this.callSuper(c,d)},sizeViewToDom:function(){a(this)}})})(myt);
(l=>{const v=(a,c,d,b)=>{a[d]!==c&&(a[d]=c,a.getIDS()[d]=c||b||"inherit",a.inited&&(a.fireEvent(d,c),a.sizeViewToDom()))};l.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,c){this.callSuper(a,c);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a||this.sizeViewToDom())},setText:function(a){a||="";a=this.valueFromEvent(a);this.text!==a&&(this.getIDE().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==
a&&(this.textOverflow=a,this.getIDS().textOverflow=a||"inherit",this.inited&&this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getIDS().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){v(this,a,"whiteSpace")},setWordWrap:function(a){v(this,a,"wordWrap","normal")},setTextIndent:function(a){v(this,a,"textIndent")},setTextTransform:function(a){v(this,a,"textTransform")},setTextDecoration:function(a){v(this,
a,"textDecoration")},setLineHeight:function(a){v(this,a,"lineHeight")},setLetterSpacing:function(a){v(this,a,"letterSpacing")},setWordSpacing:function(a){v(this,a,"wordSpacing")},setFontFamily:function(a){v(this,a,"fontFamily")},setFontStyle:function(a){v(this,a,"fontStyle")},setFontVariant:function(a){v(this,a,"fontVariant")},setFontWeight:function(a){v(this,a,"fontWeight")},setFontSize:function(a){v(this,a,"fontSize")},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=
a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,c,d,b){this.getIDS().textShadow=(a||0)+"px "+(c||0)+"px "+(null!=d?d:2)+"px "+(b||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}});const r=(a,c,d)=>{const b="padding"+d;c=Math.max(c,0);a[b]!==c&&(a[b]=c,a.getIDS()[b]=c+"px",a.fireEvent(b,c),"Left"===d||"Right"===d?p(a):g(a))},p=a=>{a.__hasSetWidth&&(a.getODS().width=a.width-(a.paddingLeft||0)-(a.paddingRight||0)+"px",a.inited&&a.sizeViewToDom())},g=a=>{a.__hasSetHeight&&(a.getODS().height=a.height-(a.paddingTop||0)-(a.paddingBottom||0)+"px",a.inited&&a.sizeViewToDom())};l.PaddedTextSupport=new JS.Module("PaddedTextSupport",{setWidth:function(a,c){this.callSuper(a,c);
p(this)},setHeight:function(a,c){this.callSuper(a,c);g(this)},setPadding:function(a){let c,d,b;a||=0;"object"===typeof a?(c=a.top||0,d=a.right||0,b=a.bottom||0,a=a.left||0):c=d=b=a;this.setPaddingTop(c);this.setPaddingRight(d);this.setPaddingBottom(b);this.setPaddingLeft(a)},setPaddingTop:function(a){r(this,a,"Top")},setPaddingRight:function(a){r(this,a,"Right")},setPaddingBottom:function(a){r(this,a,"Bottom")},setPaddingLeft:function(a){r(this,a,"Left")}})})(myt);
(l=>{const v={},r={},p=g=>{const a=g.imageUrl;if(g.calculateNaturalSize&&a){var c=v[a];if(c)g.setNaturalWidth(c.width),g.setNaturalHeight(c.height);else{c=r[a];if(!c){r[a]=c=[];const d=new Image;d.onerror=b=>{if(b=r[a]){let h=b.length;for(;h;)b[--h].setImageLoadingError(!0);b.length=0;delete r[a]}};d.onload=()=>{const b=d.width,h=d.height,n=r[a];if(n){let f=n.length;for(;f;){const q=n[--f];q.imageUrl===a&&(q.setNaturalWidth(b),q.setNaturalHeight(h))}n.length=0;delete r[a]}v[a]={width:b,height:h}};
d.src=a}c.push(g)}}};l.ImageSupport=new JS.Module("ImageSupport",{initNode:function(g,a){this.defAttr(a,"imageRepeat","no-repeat");this.defAttr(a,"imageAttachment","scroll");this.callSuper(g,a)},setImageUrl:function(g){this.imageUrl!==g&&(this.imageUrl=g,this.getIDS().backgroundImage=g?'url("'+g+'")':"none",this.inited&&(this.fireEvent("imageUrl",g),this.setNaturalWidth(),this.setNaturalHeight(),!g&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),p(this))},setImageLoadingError:function(g){this.set("imageLoadingError",
g,!0)},setImageSize:function(g){this.imageSize!==g&&(this.imageSize=g,this.getIDS().backgroundSize=g||"auto",this.inited&&this.fireEvent("imageSize",g))},setImageRepeat:function(g){this.imageRepeat!==g&&(this.getIDS().backgroundRepeat=this.imageRepeat=g,this.inited&&this.fireEvent("imageRepeat",g))},setImagePosition:function(g){this.imagePosition!==g&&(this.getIDS().backgroundPosition=this.imagePosition=g,this.inited&&this.fireEvent("imagePosition",g))},setImageAttachment:function(g){this.imageAttachment!==
g&&(this.getIDS().backgroundAttachment=this.imageAttachment=g,this.inited&&this.fireEvent("imageAttachment",g))},setCalculateNaturalSize:function(g){this.calculateNaturalSize!==g&&(this.calculateNaturalSize=g,this.inited&&this.fireEvent("calculateNaturalSize",g),p(this))},setNaturalWidth:function(g){this.naturalWidth!==g&&(this.naturalWidth=g,this.inited&&this.fireEvent("naturalWidth",g),this.useNaturalSize&&g&&this.setWidth(g))},setNaturalHeight:function(g){this.naturalHeight!==g&&(this.naturalHeight=
g,this.inited&&this.fireEvent("naturalHeight",g),this.useNaturalSize&&g&&this.setHeight(g))},setUseNaturalSize:function(g){this.useNaturalSize!==g&&(this.useNaturalSize=g,this.inited&&this.fireEvent("useNaturalSize",g),g&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),g&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(l=>{const v=JS.Class,r=l.View,p=l.SizeToDom,g=l.AccessorSupport.defAttr;l.FlexBox=new v("FlexBox",r,{include:[l.FlexBoxSupport]});l.Frame=new v("Frame",r,{initNode:function(a,c){g(c,"tagName","iframe");this.callSuper(a,c);a=l.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getIDE().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});l.Markup=new v("Markup",r,{include:[p],setHtml:function(a){this.html!==a&&(this.getIDE().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});l.Text=new v("Text",r,{include:[p,l.TextSupport],initNode:function(a,c){g(c,"whiteSpace",
"nowrap");g(c,"userUnselectable",!0);this.callSuper(a,c)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getIDS(),c=a.whiteSpace;a.whiteSpace="nowrap";const d=this.getODE().getBoundingClientRect().width;a.whiteSpace=c;return d}});l.PaddedText=new v("PaddedText",l.Text,{include:[l.PaddedTextSupport]});l.Image=new v("Image",r,{include:[l.ImageSupport],initNode:function(a,c){g(c,"useNaturalSize",!0);this.callSuper(a,c)}});l.BackView=new v("BackView",r,{sendSubviewToBack:function(a){if(a.parent===
this){const c=this.getIDE(),d=c.childNodes[1];a=a.getODE();a!==d&&(a=c.removeChild(a))&&c.insertBefore(a,d)}}})})(myt);
(l=>{const v=Math.round,r=c=>{const d=c.parent;d&&0<=c.percentOfParentWidth&&c.syncTo(d,"__doPOPW","width")},p=c=>{0<=c.percentOfParentWidth&&c.detachFrom(c.parent,"__doPOPW","width")},g=c=>{const d=c.parent;d&&0<=c.percentOfParentHeight&&c.syncTo(d,"__doPOPH","height")},a=c=>{0<=c.percentOfParentHeight&&c.detachFrom(c.parent,"__doPOPH","height")};l.SizeToParent=new JS.Module("SizeToParent",{setParent:function(c){this.parent!==c&&(this.inited&&(p(this),a(this)),this.callSuper(c),r(this),g(this))},
setPercentOfParentWidthOffset:function(c){this.percentOfParentWidthOffset!==c&&(this.percentOfParentWidthOffset=c,this.inited&&(this.fireEvent("percentOfParentWidthOffset",c),this.__doPOPW()))},setPercentOfParentWidth:function(c){this.percentOfParentWidth!==c&&(this.inited&&p(this),this.percentOfParentWidth=c,this.inited&&this.fireEvent("percentOfParentWidth",c),r(this))},setPercentOfParentHeightOffset:function(c){this.percentOfParentHeightOffset!==c&&(this.percentOfParentHeightOffset=c,this.inited&&
(this.fireEvent("percentOfParentHeightOffset",c),this.__doPOPH()))},setPercentOfParentHeight:function(c){this.percentOfParentHeight!==c&&(this.inited&&a(this),this.percentOfParentHeight=c,this.inited&&this.fireEvent("percentOfParentHeight",c),g(this))},__doPOPW:function(c){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(c){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/
100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);(l=>{let v;const r=[];new JS.Singleton("GlobalRootViewRegistry",{include:[l.Observable],initialize:function(){l.global.register("roots",v=this)},getRoots:()=>r,addRoot:p=>{r.push(p);v.fireEvent("rootAdded",p)},removeRoot:p=>{let g=r.length;for(;g;){const a=r[--g];if(a===p){r.splice(g,1);v.fireEvent("rootRemoved",a);break}}}})})(myt);
(l=>{const v=l.global.roots,r=l.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:p=>{const g=p.__captureDrop=a=>{a.preventDefault()};p=p.getIDE();l.addEventListener(p,"drop",g);l.addEventListener(p,"dragover",g)},teardownCaptureDrop:p=>{const g=p.getIDE();p=p.__captureDrop;l.removeEventListener(g,"drop",p);l.removeEventListener(g,"dragover",p)}},initNode:function(p,g){this.callSuper(p,g);this.setZIndex(0);this.addDomClass("myt");v.addRoot(this);r.setupCaptureDrop(this)},createOurDomElement:function(p){p||
(p=this.callSuper(p),l.getElement().appendChild(p));return p},destroy:function(){r.teardownCaptureDrop(this);v.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(p){this.keepDomElementWhenDestroyed=p},setParent:p=>{},bringToFront:function(){var p=this.getIDE();const g=p.parentNode;p!==g.lastChild&&(p=g.removeChild(p))&&g.appendChild(p)},sendToBack:function(){var p=this.getIDE();const g=p.parentNode;p!==g.firstChild&&
(p=g.removeChild(p))&&g.insertBefore(p,g.firstChild)},sendBehind:function(p){var g=this.getIDE();p=p.getIDE();const a=g.parentNode;p.parentNode===a&&(g=a.removeChild(g))&&a.insertBefore(g,p)},sendInFrontOf:function(p){p.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(p),p.sendBehind(this))}})})(myt);
(l=>{let v,r;const p=window;new JS.Singleton("GlobalWindowResize",{include:[l.Observable],initialize:function(){l.addEventListener(p,"resize",g=>{this.fireEvent("resize",{w:v=p.innerWidth,h:r=p.innerHeight})});l.global.register("windowResize",this)},getWidth:()=>v||=p.innerWidth,getHeight:()=>r||=p.innerHeight})})(myt);
(l=>{const v=JS.Module,r=l.global.windowResize,p=l.AccessorSupport.defAttr,g=c=>{const d=c.resizeDimension;"both"!==d&&"width"!==d||c.setWidth(Math.max(c.minWidth,r.getWidth()));"both"!==d&&"height"!==d||c.setHeight(Math.max(c.minHeight,r.getHeight()))},a=l.SizeToWindow=new v("SizeToWindow",{include:[l.RootView],initNode:function(c,d){this.minWidth=this.minHeight=0;p(d,"resizeDimension","both");this.attachTo(r,"__hndlResize","resize");this.callSuper(c,d)},setResizeDimension:function(c){this.resizeDimension!==
c&&(this.resizeDimension=c,g(this))},setMinWidth:function(c){this.minWidth!==c&&(this.minWidth=c,g(this))},setMinHeight:function(c){this.minHeight!==c&&(this.minHeight=c,g(this))},__hndlResize:function(c){g(this)}});l.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[a],initNode:function(c,d){p(d,"resizeDimension","width");this.callSuper(c,d)}});l.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[a],initNode:function(c,d){p(d,"resizeDimension","height");this.callSuper(c,d)}})})(myt);
(l=>{let v,r,p,g=!1;const a=window,c={};new JS.Singleton("GlobalIdle",{include:[l.Observable],initialize:function(){const d=this,b=["webkit","moz","ms","o"];for(let h=0;h<b.length&&!a.requestAnimationFrame;){const n=b[h++];a.requestAnimationFrame=a[n+"RequestAnimationFrame"];a.cancelAnimationFrame=a[n+"CancelAnimationFrame"]||a[n+"CancelRequestAnimationFrame"]}r=h=>{v=a.requestAnimationFrame(r);-1!==p&&(h=Math.round(h),c.delta=h-p,c.time=h,d.fireEvent("idle",c));p=h};l.global.register("idle",d)},
attachObserver:function(d,b,h){d=this.callSuper(d,b,h);!g&&this.hasObservers("idle")&&(g=!0,p=-1,v=a.requestAnimationFrame(r));return d},detachObserver:function(d,b,h){d=this.callSuper(d,b,h);g&&!this.hasObservers("idle")&&(a.cancelAnimationFrame(v),g=!1);return d}})})(myt);
(l=>{const v=Math,r=v.max,p=v.min,g=e=>p(255,r(0,v.round(e))),a=e=>{e=g(e).toString(16);return 1===e.length?"0"+e:e},c=(e,u,w,k)=>[k?"#":"",a(e),a(u),a(w)].join(""),d=e=>new q((16711680&e)>>16,(65280&e)>>8,255&e),b=(e,u,w)=>(g(e)<<16)+(g(u)<<8)+g(w),h=(e,u)=>{if("string"===typeof e)if(e.endsWith("%"))e=parseFloat(e.substring(0,e.length-1))*u/100;else return 0;e=p(u,r(0,e))/u;return 1E-6>v.abs(1-e)?1:e},n=(e,u,w)=>{e=h(e,255);u=h(u,255);w=h(w,255);const k=r(e,u,w),x=k-p(e,u,w);if(0===x)return{h:0,
s:0,v:k};let C;switch(k){case e:C=(u-w)/x+(u<w?6:0);break;case u:C=(w-e)/x+2;break;case w:C=(e-u)/x+4}return{h:60*C,s:0===k?0:x/k,v:k}},f=(e,u,w)=>{e=6*h(e,360);u=h(u,100);w=h(w,100);var k=v.floor(e);const x=e-k;e=w*(1-u);const C=w*(1-x*u);u=w*(1-(1-x)*u);k%=6;return{red:255*[w,C,e,e,u,w][k],green:255*[u,w,w,C,e,e][k],blue:255*[e,e,u,w,w,C][k]}},q=l.Color=new JS.Class("Color",{extend:{toUnitRange:h,rgbToHsv:n,hsvToRgb:f,toHex:a,rgbToHex:c,cleanChannelValue:g,getRedChannel:e=>(16711680&e)>>16,getGreenChannel:e=>
(65280&e)>>8,getBlueChannel:e=>255&e,makeColorFromNumber:d,makeColorFromHexString:e=>{if(e){e.startsWith("#")||(e="#"+e);if(4===e.length){const u=e.substring(1,2),w=e.substring(2,3);e=e.substring(3,4);e="#"+u+u+w+w+e+e}return d(parseInt(e.substring(1),16))}},makeColorFromHSV:(e,u,w)=>{e=f(e,u,w);return d(b(e.red,e.green,e.blue))},getLighterColor:(e,u)=>d(e).isLighterThan(d(u))?e:u,makeColorNumberFromChannels:b,makeBlendedColor:(e,u,w)=>new q(e.red+w*(u.red-e.red),e.green+w*(u.green-e.green),e.blue+
w*(u.blue-e.blue))},initialize:function(e,u,w){this.setRed(e);this.setGreen(u);this.setBlue(w)},setRed:function(e){this.red=g(e)},setGreen:function(e){this.green=g(e)},setBlue:function(e){this.blue=g(e)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return c(this.red,this.green,this.blue,!0)},getHSV:function(){return n(this.red,this.green,this.blue)},isLighterThan:function(e){e=this.getDiffFrom(e);return 0>e.red+e.green+e.blue},getDiffFrom:function(e){return{red:e.red-
this.red,green:e.green-this.green,blue:e.blue-this.blue}},applyDiff:function(e){return this.add(e)},add:function(e){this.setRed(this.red+e.red);this.setGreen(this.green+e.green);this.setBlue(this.blue+e.blue);return this},subtract:function(e){this.setRed(this.red-e.red);this.setGreen(this.green-e.green);this.setBlue(this.blue-e.blue);return this},multiply:function(e){this.setRed(this.red*e);this.setGreen(this.green*e);this.setBlue(this.blue*e);return this},divide:function(e){this.setRed(this.red/
e);this.setGreen(this.green/e);this.setBlue(this.blue/e);return this},clone:function(){return new q(this.red,this.green,this.blue)},equals:function(e){return e===this||e&&e.isA&&e.isA(q)&&e.red===this.red&&e.green===this.green&&e.blue===this.blue}})})(myt);
(l=>{const v=Math,r=v.max,p=v.sin,g=v.cos,a=v.pow,c=v.sqrt,d=v.PI,b=2*d,h=d/2,n={linear:k=>k,inQuad:k=>k*k,outQuad:k=>-k*(k-2),inOutQuad:k=>1>(k*=2)?k*k/2:-(--k*(k-2)-1)/2,inCubic:k=>k*k*k,outCubic:k=>--k*k*k+1,inOutCubic:k=>1>(k*=2)?k*k*k/2:((k-=2)*k*k+2)/2,inQuart:k=>k*k*k*k,outQuart:k=>-(--k*k*k*k-1),inOutQuart:k=>1>(k*=2)?k*k*k*k/2:-((k-=2)*k*k*k-2)/2,inQuint:k=>k*k*k*k*k,outQuint:k=>--k*k*k*k*k+1,inOutQuint:k=>1>(k*=2)?k*k*k*k*k/2:((k-=2)*k*k*k*k+2)/2,inSine:k=>-g(k*h)+1,outSine:k=>p(k*h),inOutSine:k=>
-(g(k*d)-1)/2,inCirc:k=>-(c(1-k*k)-1),outCirc:k=>c(1- --k*k),inOutCirc:k=>1>(k*=2)?-(c(1-k*k)-1)/2:(c(1-(k-=2)*k)+1)/2,inExpo:k=>0===k?0:a(2,10*(k-1)),outExpo:k=>1===k?1:-a(2,-10*k)+1,inOutExpo:k=>0===k||1===k?k:1>(k*=2)?a(2,10*(k-1))/2:(-a(2,-10*--k)+2)/2,inElastic:k=>0===k||1===k?k:-(a(2,10*--k)*p((1*k-.075)*b/.3)),outElastic:k=>0===k||1===k?k:a(2,-10*k)*p((1*k-.075)*b/.3)+1,inOutElastic:k=>0===k||1===k?k:1>(k*=2)?-(a(2,10*--k)*p((1*k-.1125)*b/.45))/2:a(2,-10*--k)*p((1*k-.1125)*b/.45)/2+1,inBack:(k,
x=1.70158)=>(k/=1)*k*((x+1)*k-x),outBack:(k,x=1.70158)=>(k=k/1-1)*k*((x+1)*k+x)+1,inOutBack:(k,x=1.70158)=>1>(k*=2)?k*k*(((x*=1.525)+1)*k-x)/2:((k-=2)*k*(((x*=1.525)+1)*k+x)+2)/2,inBounce:k=>1-n.outBounce(1-k),outBounce:k=>k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375,inOutBounce:k=>1>(k*=2)?n.inBounce(k)/2:(n.outBounce(k-1)+1)/2},f=l.global.idle,q=l.Color.makeColorFromHexString,e=k=>{k.__tmpFrom=!1;k.__loopCnt=k.reverse?
k.repeat-1:0;k.__prog=k.reverse?k.duration:0},u=(k,x)=>{if(k.running&&!k.paused){const H=k.reverse,I=k.duration,J=k.repeat;H&&(x*=-1);var C=k.__prog;k.__prog+=x;x=0;k.__prog>I?(x=k.__prog-I,k.__prog=I,++k.__loopCnt===J&&(x=0)):0>k.__prog&&(x=-k.__prog,k.__prog=0,0>--k.__loopCnt&&0<J&&(x=0));var z=k.target||k.parent;if(z){var B=C,D=k.relative,t=k.duration;C=k.attribute;var m=r(0,k.__prog/t);B=r(0,B/t);null==k.from&&(k.__tmpFrom=!0,k.from=D?k.__isColorAnim?"#000":0:z.get(C));B=k.easingFunction(m)-(D?
k.easingFunction(B):0);var y=D?z.get(C):k.from;t=k.to;m=z.set;if(k.__isColorAnim){var A=y;y=q(k.from);t=q(t);D=D?q(A):y;D.setRed(D.red+(t.red-y.red)*B);D.setGreen(D.green+(t.green-y.green)*B);D.setBlue(D.blue+(t.blue-y.blue)*B);D=D.getHtmlHexString()}else D=y+(t-k.from)*B;m.call(z,C,D);!H&&k.__loopCnt===J||H&&0>k.__loopCnt&&0<J?(k.setRunning(!1),k.callback&&k.callback.call(k,!0)):0<x&&(k.fireEvent("repeat",k.__loopCnt),k.__prog=H?I:0,u(k,x))}else console.log("No target for animator",k),k.setRunning(!1),
k.callback&&k.callback.call(k,!1)}},w=l.Animator=new JS.Class("Animator",l.Node,{include:[l.Reusable],extend:{easings:n,EASING:n.inOutQuad},initNode:function(k,x){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=w.EASING;this.callSuper(k,x);e(this)},setRunning:function(k){if(this.running!==k&&(this.running=k,this.inited&&this.fireEvent("running",k),!this.paused)){if(k){const x=this.target||this.parent;this.__isColorAnim=x&&"function"===typeof x.isColorAttr?
x.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),e(this);this[k?"attachTo":"detachFrom"](f,"__updateAnim","idle")}},setPaused:function(k){if(this.paused!==k&&(this.paused=k,this.inited&&this.fireEvent("paused",k),this.running))this[k?"detachFrom":"attachTo"](f,"__updateAnim","idle")},setReverse:function(k){this.reverse!==k&&(this.reverse=k,this.inited&&this.fireEvent("reverse",k),this.running||e(this))},setEasingFunction:function(k){"string"===typeof k&&(k=n[k]);k||(k=
w.EASING);this.set("easingFunction",k,!0)},setFrom:function(k){this.set("from",k,!0)},setTo:function(k){this.set("to",k,!0)},setCallback:function(k){this.callback=k},next:function(k,x){const C=this,z=C.callback;z&&!x?C.setCallback(B=>{z.call(C,B);k.call(C,B)}):C.setCallback(k)},reset:function(k){e(this);this.setRunning(!1);this.setPaused(!1);k&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=
!1;this.repeat=1;this.easingFunction=w.EASING;this.reset(!1)},__updateAnim:function(k){u(this,k.value.delta)}})})(myt);
(l=>{const v=Array.isArray,r=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},p=(a,c)=>{if(a.__transInProgress){var d=a.__deferredTransitions;d||(d=a.__deferredTransitions=[]);d.unshift(c)}else{a.__transInProgress=!0;d=c.shift();const b=c.shift();if(a.__pendingTransition)return 3;if(a.isFinished())return a.__transInProgress=!1,5;let h=a.map[a.current][b];h||=a.map["*"][b];if(h)return a.__pendingTransition=b,a.__transDestinationState=h,a.__additionalArgs=
c,a.resumeTransition(d);a.__transInProgress=!1;return 5}},g=a=>{a.__transInProgress=!1;const c=a.__deferredTransitions;if(c)for(;0<c.length;)p(a,c.pop())};l.StateMachine=new JS.Class("StateMachine",l.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,c){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";r(this);this.callSuper(a,c)},setInitialState:function(a){if(""===this.current){if(v(a)){var c=a;a=c.shift()}else c=[];this.current=
this.initial=a;this.doEnterState("","",a,c);c={name:"",from:"",to:a,args:c};this.fireEvent("enter"+a,c);this.fireEvent("enter",c);this.isFinished()&&this.fireEvent("finished",c)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(c=>this.addTransition(...c))},addTransition:function(a,c,d){c=c?v(c)?c:[c]:["*"];const b=this.map;let h=c.length;for(;h;)(b[c[--h]]||(b[c[h]]={}))[a]=d},doTransition:function(...a){a.unshift("sync");return p(this,a)},doAsyncTransition:function(...a){a.unshift("async");
return p(this,a)},resumeTransition:function(a){const c=this.__pendingTransition;if(!c)return 4;const d=this.current,b=this.__transDestinationState,h=this.__additionalArgs,n={name:c,from:d,to:b,args:h},f=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const q=this.doLeaveState(c,d,b,h);if(!1===q)return r(this),g(this),2;if("async"===q||"async"===a)return this.__transStage="enterState",f("start"+c,n),f("start",n),f("leave"+d,n),f("leave",n),g(this),3;f("start"+c,n);f("start",n);
f("leave"+d,n);f("leave",n);case "enterState":this.current=b,r(this),this.doEnterState(c,d,b,h),f("enter"+b,n),f("enter",n),f("end"+c,n),f("end",n),this.isFinished()&&f("finished",n)}g(this);return 1},doLeaveState:(a,c,d,b)=>{},doEnterState:(a,c,d,b)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return v(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==
this.map["*"][a]}})})(myt);
(l=>{const v=(a,c)=>a.replicationIndex-c.replicationIndex,r=(a,c)=>{let d=a.length,b;for(;d;)b=a[--d],b.decrementLockedCounter(),c&&b.update()},p=a=>{g(a);const c=a.template;c&&(a.__pool=new l.TrackActivesPool(c,a.parent))},g=a=>{const c=a.__pool;if(c){const d=a.parent.getLayouts();a=d;let b=a.length;for(;b;)a[--b].incrementLockedCounter();c.putActives();c.destroyPooledInstances();r(d,!1);c.destroy()}};l.Replicable=new JS.Module("Replicable",{include:[l.Reusable],replicate:function(a,c){this.replicationData=
a;this.replicationIndex=c},notify:(a,c)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,c){return c===this.replicationIndex&&a===this.replicationData}});l.Replicator=new JS.Class("Replicator",l.Node,{initNode:function(a,c){this.callSuper(a,c);p(this);this.doReplication()},destroy:function(){g(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(l.Replicable)?a:null)||l.dumpStack("Template not replicable");this.inited&&
(p(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let c;if(a){c=this.parent.getLayouts();for(var d=c.length;d;)c[--d].incrementLockedCounter();const b=(d=this.data)?d.length:0,h=a.getActives(),n=h.length,f=[];let q=n,e,u;for(h.sort(v);q;)if(e=h[--q],u=e.replicationIndex,u>=b||!e.alreadyHasReplicationData(d[u],u))f[u]=e;for(q=f.length;q;)(e=f[--q])&&
a.putInstance(e);for(q=0;b>q;++q)(q>=n||null!=f[q])&&a.getInstance().replicate(d[q],q);for(q=c.length;q;)c[--q].sortSubviews(v);r(c,!0)}},notify:function(a,c){var d=this.__pool;if(d){d=d.getActives();let b=d.length;for(;b;)d[--b].notify(a,c)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(l=>{let v,r,p;const g=[],a=[],c=h=>{const n=p;n!==h&&(n&&(n.notifyDragLeave(r),r.destroyed||r.notifyDragLeave(n),v("dragLeave",n)),p=h)&&(h.notifyDragEnter(r),r.destroyed||r.notifyDragEnter(h),v("dragEnter",n))},d=h=>{let n=r;if(n!==h){r=h;let f,q,e=u=>{u[f](n)};h?(n=h,f="notifyDragStart",q="startDrag"):(f="notifyDragStop",q="stopDrag");b(n,a).forEach(e);b(n,g).forEach(e);v(q,h)}},b=(h,n)=>{if(h.destroyed)return[];if(h.acceptAnyDragGroup())return n;const f=[];h=h.getDragGroups();let q=n.length;for(;q;){const e=
n[--q];if(e.acceptAnyDragGroup())f.push(e);else{const u=e.getDragGroups();for(const w in h)if(u[w]){f.push(e);break}}}return f};new JS.Singleton("GlobalDragManager",{include:[l.Observable],initialize:function(){l.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>r,registerAutoScroller:h=>{g.push(h)},unregisterAutoScroller:h=>{let n=g.length;for(;n;)if(g[--n]===h){g.splice(n,1);break}},registerDropTarget:h=>{a.push(h)},unregisterDropTarget:h=>{let n=a.length;for(;n;)if(a[--n]===
h){a.splice(n,1);break}},startDrag:h=>{d(h)},stopDrag:(h,n,f)=>{n.notifyDropped(p,f);p&&!f&&p.notifyDrop(n);c();d();p&&!f&&v("drop",[n,p])},updateDrag:(h,n)=>{const f=b(n,a);let q=f.length,e;if(0<q){var u=h.value;h=u.pageX;for(u=u.pageY;q;){let w=f[--q];w.willAcceptDrop(n)&&n.willPermitDrop(w)&&w.isPointVisible(h,u)&&(!e||w.isInFrontOf(e))&&(e=w)}}c(e)}})})(myt);
(l=>{const v=JS.Module,r=l.global,p=r.mouse,g=r.keys,a=r.idle,c=l.AccessorSupport.defAttr;l.Activateable=new v("Activateable",{doActivated:()=>{}});l.UpdateableUI=new v("UpdateableUI",{initNode:function(d,b){this.callSuper(d,b);this.updateUI()},updateUI:()=>{}});l.Disableable=new v("Disableable",{initNode:function(d,b){c(b,"disabled",!1);this.callSuper(d,b)},setDisabled:function(d){d=this.valueFromEvent(d);this.disabled!==d&&(this.disabled=d,this.inited&&this.fireEvent("disabled",d),this.doDisabled())},
doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});l.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[13,32]},initNode:function(d,b){this.activateKeyDown=-1;c(b,"activationKeys",l.KeyActivation.ACTIVATION_KEYS);this.callSuper(d,b);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur",
"blur")},setActivationKeys:function(d){this.activationKeys=d},setRepeatKeyDown:function(d){this.repeatKeyDown=d},__hndlKeyDown:function(d){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const b=l.KeyObservable.getKeyCodeFromEvent(d),h=this.activationKeys;let n=h.length;for(;n;)if(b===h[--n]){this.activateKeyDown===b?this.doActivationKeyDown(b,!0):(this.activateKeyDown=b,this.doActivationKeyDown(b,!1));d.value.preventDefault();break}}},__hndlKeyPress:function(d){if(!this.disabled){const b=
l.KeyObservable.getKeyCodeFromEvent(d);if(this.activateKeyDown===b){const h=this.activationKeys;let n=h.length;for(;n;)if(b===h[--n]){d.value.preventDefault();break}}}},__hndlKeyUp:function(d){if(!this.disabled){const b=l.KeyObservable.getKeyCodeFromEvent(d);if(this.activateKeyDown===b){const h=this.activationKeys;let n=h.length;for(;n;)if(b===h[--n]){this.activateKeyDown=-1;this.doActivationKeyUp(b);d.value.preventDefault();break}}}},__doDomBlur:function(d){this.disabled||(d=this.activateKeyDown,
-1!==d&&(this.activateKeyDown=-1,this.doActivationKeyAborted(d)))},doActivationKeyDown:(d,b)=>{},doActivationKeyUp:function(d){this.doActivated()},doActivationKeyAborted:d=>{}});l.MouseOver=new v("MouseOver",{initNode:function(d,b){c(b,"mouseOver",!1);this.callSuper(d,b);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(d){this.mouseOver!==d&&(this.mouseOver=d,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,
this.attachTo(a,"__doMouseOverOnIdle","idle")))},setDisabled:function(d){this.callSuper(d);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const d=this.mouseOver;this.__lastOverIdleValue!==d&&(this.__lastOverIdleValue=d,this.doSmoothMouseOver(d))},doSmoothMouseOver:function(d){this.inited&&this.updateUI&&this.updateUI()},
doMouseOver:function(d){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(d){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});l.MouseDown=new v("MouseDown",{initNode:function(d,b){c(b,"mouseDown",!1);this.callSuper(d,b);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(d){this.mouseDown!==d&&(this.mouseDown=d,this.inited&&(d&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},
setDisabled:function(d){d&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(d)},doMouseOver:function(d){this.callSuper(d);this.mouseDown&&this.detachFromDom(p,"doMouseUp","mouseup",!0)},doMouseOut:function(d){this.callSuper(d);!this.disabled&&this.mouseDown&&this.attachToDom(p,"doMouseUp","mouseup",!0)},doMouseDown:function(d){this.disabled||this.setMouseDown(!0)},doMouseUp:function(d){this.mouseOver||this.detachFromDom(p,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),
this.mouseOver&&this.doMouseUpInside(d))},doMouseUpInside:function(d){this.doActivated&&this.doActivated()}});l.MouseOverAndDown=new v("MouseOverAndDown",{include:[l.MouseOver,l.MouseDown]});l.Draggable=new v("Draggable",{initNode:function(d,b){let h=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(h=b.isDraggable,delete b.isDraggable);this.callSuper(d,b);this.setIsDraggable(h)},setIsDraggable:function(d){if(this.isDraggable!==
d){this.isDraggable=d;let b;d?b=this.attachToDom:this.inited&&(b=this.detachFromDom);if(b){d=this.getDragViews();let h=d.length;for(;h;){const n=d[--h];b.call(this,n,"__doMouseDown","mousedown");b.call(this,n,"__doContextMenu","contextmenu")}}}},setIsDragging:function(d){this.set("isDragging",d,!0)},setDragOffsetX:function(d,b){this.dragOffsetX!==d&&(this.dragOffsetX=d,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDragOffsetY:function(d,b){this.dragOffsetY!==d&&(this.dragOffsetY=
d,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(d){this.distanceBeforeDrag=d},setDraggableAllowBubble:function(d){this.draggableAllowBubble=d},setCenterOnMouse:function(d){this.centerOnMouse=d},setAllowAbort:function(d){this.allowAbort=d},getDragViews:function(){return[this]},__doContextMenu:d=>{},__doMouseDown:function(d){const b=l.MouseObservable.getMouseFromEvent(d),h=this.getODE();this.dragInitX=b.x-h.offsetLeft;this.dragInitY=b.y-h.offsetTop;
this.attachToDom(p,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(p,"__doDragCheck","mousemove",!0):this.startDrag(d);d.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(d){this.isDragging?this.stopDrag(d,!1):(this.detachFromDom(p,"__doMouseUp","mouseup",!0),this.detachFromDom(p,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(d){27===d.value&&this.stopDrag(d,!0)},__doDragCheck:function(d){const b=l.MouseObservable.getMouseFromEvent(d);
l.Geometry.measureDistance(b.x,b.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(l.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(d))},startDrag:function(d){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(g,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(p,"updateDrag","mousemove",!0);this.updateDrag(d)},updateDrag:function(d){this.__lastMousePosition=
l.MouseObservable.getMouseFromEvent(d);this.reRequestDragPosition()},__updateDragInitX:function(d){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(d){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(d,b){this.detachFromDom(p,"__doMouseUp","mouseup",!0);this.detachFromDom(p,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(g,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(d,b){this.disabled||(this.setX(d),this.setY(b))},reRequestDragPosition:function(){const d=this.__lastMousePosition;this.requestDragPosition(d.x-this.dragInitX+this.dragOffsetX,d.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(l=>{const v=JS.Class;var r=JS.Module,p=l.View;const g=l.AccessorSupport.defAttr,a=l.Button=new r("Button",{include:[l.Activateable,l.UpdateableUI,l.Disableable,l.MouseOverAndDown,l.KeyActivation],extend:{FOCUS_SHADOW:[0,0,7,"#666"],DISABLED_OPACITY:.5},initNode:function(c,d){g(d,"focusable",!0);g(d,"cursor","pointer");this.callSuper(c,d)},setFocused:function(c){const d=this.focused;this.callSuper(c);this.inited&&this.focused!==d&&this.updateUI()},doActivationKeyDown:function(c,d){d||this.updateUI()},
doActivationKeyUp:function(c){this.callSuper(c);this.updateUI()},doActivationKeyAborted:function(c){this.callSuper(c);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const c=this.__restoreCursor;c&&(this.setCursor(c),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?this.drawHoverState():
this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});r=l.SimpleButtonStyle=new r("SimpleButtonStyle",{include:[a],setActiveColor:function(c){this.activeColor!==c&&(this.activeColor=c,this.inited&&this.updateUI())},setHoverColor:function(c){this.hoverColor!==
c&&(this.hoverColor=c,this.inited&&this.updateUI())},setReadyColor:function(c){this.readyColor!==c&&(this.readyColor=c,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(c,d=1){this.setOpacity(d);this.setBgColor(c)}});p=l.SimpleButton=new v("SimpleButton",p,{include:[r],initNode:function(c,
d){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(c,d)}});l.SimpleTextButton=new v("SimpleTextButton",p,{initNode:function(c,d){this.inset=this.outset=0;g(d,"shrinkToFit",!1);g(d,"height",24);g(d,"textY","middle");this.callSuper(c,d);c=this.textY;d={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof c?d.valign=c:d.y=c;c=new l.Text(this,d);this.constrain("__updateContent",[this,"inset",this,
"outset",this,"width",this,"shrinkToFit",c,"visible",c,"width",c,"height",c,"y"])},setInset:function(c){this.set("inset",this.valueFromEvent(c),!0)},setOutset:function(c){this.set("outset",this.valueFromEvent(c),!0)},setText:function(c){this.text!==c&&(this.text=c,this.inited&&(this.textView.setText(c),this.fireEvent("text",c)))},setShrinkToFit:function(c){const d=this.textView;this.shrinkToFit!==c&&(this.shrinkToFit=c,this.inited&&(d&&d.setWhiteSpace(c?"nowrap":"normal"),this.fireEvent("shrinkToFit",
c)))},setTextY:function(c){const d=this.textView;this.textY!==c&&(this.textY=c,this.inited&&(this.fireEvent("textY",c),"string"===typeof c?d.setValign(c):(d.setValign(""),d.setY(c))))},__updateContent:function(c){if(!this.__updateContentLoopBlock&&!this.destroyed){c=this.inset;const d=this.outset,b=this.textView;this.__updateContentLoopBlock=!0;b.setX(c);this.shrinkToFit?this.setWidth(c+(b.visible&&this.text?b.width:0)+d):b.setWidth(this.width-c-d);this.__updateContentLoopBlock=!1}}});l.TextButton=
new v("TextButton",l.PaddedText,{include:[r],initNode:function(c,d){g(d,"focusIndicator",!1);g(d,"roundedCorners",3);g(d,"textAlign","center");g(d,"paddingTop",1);g(d,"height",23-(d.paddingTop||0));g(d,"activeColor","#ddd");g(d,"hoverColor","#eee");g(d,"readyColor","#fff");this.callSuper(c,d)}})})(myt);
(l=>{const v=l.global,r=v.focus,p=v.mouse,g={};l.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>g[a]},initNode:function(a,c){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,c)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,c,d){a=a||this.floatingPanelId;d=d||{};d.panelId=a;return g[a]=new c(null,d)},getFloatingPanel:function(a){return g[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const c=this.getFloatingPanel(a=a||this.floatingPanelId);c&&c.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;if(a&&a.isShown())return a;if(this.callSuper)return this.callSuper()},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});l.FloatingPanel=new JS.Class("FloatingPanel",l.View,{include:[l.RootView],initNode:function(a,c){a=document.createElement("div");a.style.position="absolute";l.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;c.visible=c.focusIndicator=!1;c.focusable=c.focusCage=!0;this.callSuper(a,c)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var c=a.value;a=c.pageX;c=c.pageY;this.containsPoint(a,c)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,c)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(r.focusedView))this.owner[(r.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(a);else{const c=this.getFirstFocusableDescendant();c===this?this.callSuper(a):c.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&r.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(p,"__doMouseDown","mousedown",!0),this.attachTo(r,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(p,"__doMouseDown","mousedown",!0),this.detachFrom(r,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const c=this.panelId,d=a.getFloatingAlignForPanelId(c),b=a.getFloatingValignForPanelId(c),h=a.getPagePosition();let n=0,f=0,q=typeof d;if("string"===q)switch(n=h.x+a.getFloatingAlignOffsetForPanelId(c),d){case "outsideRight":n+=a.width;break;case "insideRight":n+=a.width-this.width;
break;case "outsideLeft":n-=this.width;break;case "insideLeft":break;default:console.warn("Invalid align value",q,d)}else"number"===q?n=d:console.warn("Invalid align type",q,d);this.setX(n);q=typeof b;if("string"===q)switch(f=h.y+a.getFloatingValignOffsetForPanelId(c),b){case "outsideBottom":f+=a.height;break;case "insideBottom":f+=a.height-this.height;break;case "outsideTop":f-=this.height;break;case "insideTop":break;default:console.warn("Invalid valign value",q,b)}else"number"===q?f=b:console.warn("Invalid valign type",
q,b);this.setY(f)}})})(myt);
(l=>{const v=JS.Class,r=JS.Module,p=l.global.focus,g=l.AccessorSupport.defAttr,a=[13,27,32,37,38,39,40],c=b=>{var h=b.itemConfig||[];const n=h.length,f=b.items,q=f.length;var e=b.defaultItemClass;const u=b.getContentView(),w=u.getLayouts();w.forEach(D=>{D.incrementLockedCounter()});const k=u.getODE(),x=k.nextSibling,C=k.parentNode;C.removeChild(k);let z=0;for(;n>z;++z){var B=h[z];const D=B.klass||e;B=B.attrs||{};let t=f[z];t&&!t.isA(D)&&(t.destroy(),t=null);t||=f[z]=new D(u,{listView:b});t&&(t.callSetters(B),
t.__LAYOUT_IDX=z)}C.insertBefore(k,x);h=b.minWidth;for(z=0;n>z;)e=f[z++],e.syncToDom(),h=Math.max(h,e.getMinimumWidth());for(;q>z;)f[z++].destroy();f.length=n;for(z=0;n>z;)b.updateItemWidth(f[z++],h);b.updateContentWidth(u,h);w.forEach(D=>{D.sortSubviews((t,m)=>t.__LAYOUT_IDX-m.__LAYOUT_IDX);D.decrementLockedCounter();D.update()})},d=l.ListViewItemMixin=new r("ListViewItemMixin",{setListView:function(b){this.listView=b},getMinimumWidth:()=>0,syncToDom:()=>{}});l.ListView=new v("ListView",l.FloatingPanel,
{initNode:function(b,h){this.items=[];this.maxHeight=-1;this.minWidth=0;g(h,"defaultItemClass",l.ListViewItem);g(h,"overflow","autoy");g(h,"bgColor","#ccc");g(h,"boxShadow",l.Button.FOCUS_SHADOW);this.callSuper(b,h);c(this);this.buildLayout(this.getContentView())},buildLayout:b=>{new l.SpacedLayout(b,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(b){this.minWidth=b},setDefaultItemClass:function(b){this.defaultItemClass=b},setItemConfig:function(b){this.itemConfig=b;this.inited&&c(this)},
getContentView:function(){return this},setMaxHeight:function(b){this.maxHeight!==b&&(this.maxHeight=b,this.inited&&(this.fireEvent("maxHeight",b),this.setHeight(this.height)))},setHeight:function(b,h){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,b):b,h)},doItemActivated:function(b){this.owner&&this.owner.doItemActivated(b)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const b=this.items,h=b.length;for(let n=
0;h>n;){const f=b[n++];if(f.isFocusable())return f}},getLastFocusableItem:function(){const b=this.items;let h=b.length;for(;h;){const n=b[--h];if(n.isFocusable())return n}},updateItemWidth:(b,h)=>{b.setWidth(h)},updateContentWidth:(b,h)=>{b.setWidth(h)}});l.ListViewAnchor=new r("ListViewAnchor",{include:[l.FloatingPanelAnchor],initNode:function(b,h){g(h,"listViewClass",l.ListView);g(h,"listViewAttrs",{});g(h,"itemConfig",[]);g(h,"activationKeys",a);this.callSuper(b,h)},setListViewClass:function(b){this.listViewClass=
b},setListViewAttrs:function(b){this.listViewAttrs=b},setItemConfig:function(b){this.itemConfig=b},doItemActivated:function(b){this.hideFloatingPanel()},getFloatingPanel:function(b){return this.callSuper(b)||this.createFloatingPanel(b,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(b){const h=this.getFloatingPanel(b);h&&(h.setItemConfig(this.itemConfig),this.callSuper(b))},doActivationKeyDown:function(b,h){if(27===b)this.hideFloatingPanel();else{switch(b){case 37:case 38:this.selectLastItem();
break;case 39:case 40:this.selectFirstItem()}this.callSuper(b,h)}},doActivationKeyUp:function(b){if(27!==b)switch(this.callSuper(b),b){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getLastFocusableItem())&&b.focus()},selectFirstItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getFirstFocusableItem())&&b.focus()}});l.ListViewItem=new v("ListViewItem",l.SimpleTextButton,
{include:[d],initNode:function(b,h){g(h,"activeColor","#bbb");g(h,"hoverColor","#fff");g(h,"readyColor","#eee");g(h,"inset",8);g(h,"outset",8);g(h,"activationKeys",a);this.callSuper(b,h)},syncToDom:function(){this.textView.getIDS().width="auto";this.textView.sizeViewToDom()},getMinimumWidth:function(){return this.inset+(this.textView.visible&&this.text?Math.ceil(this.textView.measureNoWrapWidth()):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(b,
h){switch(b){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:p.prev();break;case 39:case 40:p.next()}this.callSuper(b,h)}});l.ListViewSeparator=new v("ListViewSeparator",l.View,{include:[d],initNode:function(b,h){g(h,"height",1);g(h,"bgColor","#666");this.callSuper(b,h)}})})(myt);
(l=>{const v=l.AccessorSupport,r={},p=l.BAG=new JS.Class("BAG",{include:[v,l.Destructible,l.Observable],extend:{getGroup:(g,a)=>{if(g&&a){const c=r[g]||(r[g]={});return c[a]||(c[a]=new p(g,a))}},removeGroup:(g,a)=>{if(g&&a&&(g=r[g])){const c=g[a];c&&delete g[a];return c}}},initialize:function(g,a){this.__nodes=[];this.trueNode=null;this.attrName=g;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&p.removeGroup(this.attrName,this.groupId);this.__nodes.length=
0;this.detachAllObservers();this.callSuper()},setGroupId:function(g){this.set("groupId",g,!0)},setAttrName:function(g){this.set("attrName",g,!0)},setTrueNode:function(g){this.set("trueNode",g,!0)},getNodes:function(){return this.__nodes},register:function(g){g&&!this.isRegistered(g)&&(this.__nodes.push(g),g[this.attrName]&&this.setTrue(g))},unregister:function(g){if(g){const a=this.__nodes;let c=a.length;for(;c;)if(g===a[--c]){a.splice(c,1);break}this.trueNode===g&&this.setTrueNode(null);0===a.length&&
this.destroy()}},setTrue:function(g){if(g&&this.trueNode!==g&&this.isRegistered(g)){const a=this.attrName,c=v.generateSetterName(a),d=this.__nodes;let b=d.length;for(this.setTrueNode(g);b;){const h=d[--b];if(g===h){if(!h[a])h[c](!0)}else if(h[a])h[c](!1)}}},setFalse:function(g){g&&this.trueNode===g&&(g[v.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(g){const a=this.__nodes;let c=a.length;for(;c;)if(g===a[--c])return!0;return!1}});l.BAGMembership=new JS.Module("BAGMembership",
{initNode:function(g,a){this.__bags=[];this.callSuper(g,a)},destroy:function(){const g=this.__bags;let a=g.length;for(;a;){const c=g[--a];this.removeFromBAG(c.attrName,c.groupId)}this.callSuper()},isRegisteredWithBAG:function(g){const a=this.__bags;let c=a.length;for(;c;)if(a[--c]===g)return!0;return!1},getBAG:(g,a)=>p.getGroup(g,a),addToBAG:function(g,a){a=this.getBAG(g,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,"__updateForBAG",g)||this.attachTo(this,
"__updateForBAG",g))},removeFromBAG:function(g,a){a=this.getBAG(g,a);if(this.isRegisteredWithBAG(a)){const c=this.__bags;let d=c.length,b=!0;for(;d;){const h=c[--d];h===a?(c.splice(d,1),a.unregister(this)):h.attrName===g&&(b=!1)}b&&this.detachFrom(this,"__updateForBAG",g)}},__updateForBAG:function(g){this.__bags.forEach(a=>{if(a.attrName===g.type)a[g.value?"setTrue":"setFalse"](this)})}})})(myt);
(l=>{const v=l.AccessorSupport.defAttr,r=p=>{const g=p.label||"";p.setText('<i class="far fa-'+(!0===p.selected?"dot-":"")+'circle"></i>'+(0<g.length?" ":"")+g)};l.Radio=new JS.Class("Radio",l.Text,{include:[l.SimpleButtonStyle,l.BAGMembership],initNode:function(p,g){v(g,"selected",!1);null==g.groupId&&(g.groupId=l.generateGuid());v(g,"focusIndicator",!1);v(g,"activeColor","inherit");v(g,"hoverColor","inherit");v(g,"readyColor","inherit");const a=g.value;delete g.value;this.callSuper(p,g);this.setValue(a);
this.selected&&(p=this.getBAG("selected",this.groupId))&&p.setTrue(this);l.FontAwesome.registerForNotification(this);r(this)},setOptionValue:function(p){this.set("optionValue",p,!0)},setValue:function(p){if(this.inited){const g=this.getBAG("selected",this.groupId);if(g){const a=g.getNodes();let c=a.length;for(;c;){const d=a[--c];if(d.optionValue===p){g.setTrue(d);break}}}}},getValue:function(){var p=this.getBAG("selected",this.groupId);return(p=p?p.trueNode:null)?p.optionValue:null},setSelected:function(p){this.selected!==
p&&(this.selected=p,this.inited&&(this.fireEvent("selected",p),r(this)))},setGroupId:function(p){if(this.groupId!==p){const g=this.groupId;this.groupId=p;g&&this.removeFromBAG("selected",g);p&&this.addToBAG("selected",p);this.inited&&this.fireEvent("groupId",p)}},setLabel:function(p){this.label!==p&&(this.set("label",p,!0),this.inited&&r(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(p,g=1){this.setOpacity(g);this.setTextColor(p)}})})(myt);
(l=>{const v=JS.Module,r=l.global.keys,p=l.Selectable=new v("Selectable",{setSelected:function(a){a=this.valueFromEvent(a);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return!!this.selected},canSelect:a=>!0,canDeselect:a=>!0}),g=l.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>r.isShiftKeyDown(),isToggleMode:()=>r.isAcceleratorKeyDown()},initNode:function(a,c){this.__selected={};this.__lastSelectedItem=null;
c.selectedCount=0;this.defAttr(c,"itemSelectionId","id");this.defAttr(c,"maxSelected",-1);this.callSuper(a,c)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>g.isAddMode(),isToggleMode:()=>g.isToggleMode(),getSelected:function(){const a=[],c=this.__selected;for(const d in c)a.push(c[d]);return a},select:function(a){a&&
!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const c=this.maxSelected,d=this.selectedCount;if(0===c)return!1;if(1===c){if(0<d&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<c&&d>=c)return!1;return a.canSelect(this)},
selectAll:function(){const a=this.getSelectableItems();let c=a.length;for(;c;)this.select(a[--c])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},
deselectAll:function(){const a=this.__selected;for(const c in a)this.deselect(a[c])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],c=this.getSubviews();let d=c.length;for(;d;){const b=c[--d];b.isA(p)&&a.push(b)}return a},getSelectableItems:function(){const a=this.getManagedItems();let c=a.length;for(;c;)a[--c].canSelect(this)||a.splice(c,1);return a},getSelectableItem:function(a){const c=
this.getSelectableItems(),d=this.itemSelectionId;let b=c.length;for(;b;){const h=c[--b];if(h[d]===a)return h}}})})(myt);
(l=>{const v=JS.Class,r=l.View,p=l.SizeToParent,g=l.AccessorSupport.defAttr,a=l.TabSlider=new v("TabSlider",r,{include:[l.Selectable,l.Disableable,p],extend:{ANIMATION_MILLIS:500},initNode:function(d,b){const h=this;let n;b.defaultPlacement="wrapper.container";b.percentOfParentWidth=100;b.expansionState="collapsed";null==b.tabId&&(b.tabId=l.generateGuid());g(b,"tabContainer",d);g(b,"selected",!1);g(b,"buttonClass",l.SimpleButton);g(b,"zIndex",0);g(b,"buttonHeight",30);g(b,"fillColorSelected","#666");
g(b,"fillColorHover","#eee");g(b,"fillColorActive","#ccc");g(b,"fillColorReady","#fff");g(b,"minContainerHeight",100);b.selected&&(n=!0,delete b.selected);h.callSuper(d,b);new h.buttonClass(h,{name:"button",ignorePlacement:!0,zIndex:1,height:h.buttonHeight,focusIndicator:!0,groupId:h.parent.parent.groupId,percentOfParentWidth:100,hoverColor:h.fillColorHover,activeColor:h.fillColorActive,readyColor:h.fillColorReady},[p,{doActivated:()=>{const f=h.tabContainer;h.isSelected()&&1!==f.maxSelected?f.deselect(h):
f.select(h)},updateUI:function(){this.callSuper();h.selected&&-1!==h.tabContainer.maxSelected&&this.setBgColor(h.fillColorSelected);h.notifyButtonRedraw()}}]);d=new r(h,{name:"wrapper",ignorePlacement:!0,y:h.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[p,{setHeight:function(f,q){this.callSuper(Math.round(f),q)},setWidth:function(f,q){this.callSuper(f,q);this.inited&&this.container.setWidth(f)}}]);new l.SizeToChildren(new r(d,{name:"container"}),{axis:"y"});
h.constrain("__updateHeight",[d,"y",d,"height"]);n&&h.tabContainer.select(h);!0===b.disabled&&h.setDisabled(!0);h.setHeight(h.getCollapsedHeight())},setSelected:function(d){this.callSuper(d);this.button&&this.button.updateUI()},setTabId:function(d){this.tabId=d},setTabContainer:function(d){this.tabContainer=d},setMinContainerHeight:function(d){this.minContainerHeight=d},setButtonClass:function(d){this.buttonClass=d},setFillColorSelected:function(d){this.fillColorSelected=d},setFillColorHover:function(d){this.fillColorHover=
d},setFillColorActive:function(d){this.fillColorActive=d},setFillColorReady:function(d){this.fillColorReady=d},setButtonHeight:function(d){this.buttonHeight!==d&&(this.buttonHeight=d,this.button&&(this.button.setHeight(d),this.wrapper.setY(d)))},setExpansionState:function(d){if(this.expansionState!==d){this.expansionState=d;this.inited&&this.fireEvent("expansionState",d);const b=this.wrapper;b&&("expanded"===d?(b.setMaskFocus(!1),b.setOverflow("auto")):"expanding"===d?b.setVisible(!0):"collapsed"===
d?b.setVisible(!1):"collapsing"===d&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){const d=this.button;d&&d.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(d){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(d){const b=this,h=b.wrapper;d-=b.getCollapsedHeight();b.setExpansionState("expanding");h.stopActiveAnimators();h.height!==d?h.animate({attribute:"height",to:d,duration:a.ANIMATION_MILLIS}).next(n=>{b.setExpansionState("expanded")}):
b.setExpansionState("expanded")},collapse:function(){const d=this,b=d.wrapper;d.setExpansionState("collapsing");b.stopActiveAnimators();0!==b.height?b.animate({attribute:"height",to:0,duration:a.ANIMATION_MILLIS}).next(h=>{d.setExpansionState("collapsed")}):d.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+
this.wrapper.container.height}});l.TextTabSlider=new v("TextTabSlider",a,{initNode:function(d,b){g(b,"labelTextColorChecked","#fff");g(b,"labelTextColor","#333");this.callSuper(d,b);new l.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(d){this.labelTextColorChecked=d},setLabelTextColor:function(d){this.labelTextColor=d},setText:function(d){if(this.text!==
d){this.text=d;const b=this.button;b&&b.label&&b.label.setText(d)}},notifyButtonRedraw:function(){const d=this.button.label;d&&d.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});const c=l.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[l.SelectionManager],extend:{SPACING:1},initNode:function(d,b){const h=this;h._tabSliders=[];b.defaultPlacement="container";g(b,"spacing",
c.SPACING);g(b,"overflow","autoy");g(b,"itemSelectionId","tabId");g(b,"maxSelected",1);h.updateLayout=l.debounce(h.updateLayout);h.callSuper(d,b);d=new r(h,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[p,{subnodeAdded:function(n){this.callSuper(n);n instanceof a&&(h._tabSliders.push(n),h.attachTo(n,"updateLayout","selected"))},subnodeRemoved:function(n){if(n instanceof a){const f=h._tabSliders;let q=f.length;for(;q;)if(f[--q]===n){h.detachFrom(n,"updateLayout","selected");f.splice(q,
1);break}}this.callSuper(n)}}]);new l.SpacedLayout(d,{name:"layout",axis:"y",spacing:h.spacing,collapseParent:!0});h.attachTo(h,"updateLayout","height")},setSpacing:function(d){this.spacing!==d&&(this.spacing=d,this.layout&&this.layout.setSpacing(d))},updateLayout:function(d){d=this._tabSliders;for(var b=d.length,h=b,n=0,f=0,q=0;h;){var e=d[--h];e.visible&&(++q,e.selected?(n+=e.getMinimumExpandedHeight(),f+=e.getPreferredExpandedHeight()):(e=e.getCollapsedHeight(),n+=e,f+=e))}h=this.container.layout;
q=h.inset+h.outset+h.spacing*(q-1);f+=q;h=this.height;n=n+q>h;q=f>h;f-=h;for(h=b;h;)if(b=d[--h],b.visible)if(b.selected){if(n)e=b.getMinimumExpandedHeight();else if(q){const u=b.getPreferredExpandedHeight(),w=b.getMinimumExpandedHeight();e=u-f;w>e?(f-=u-w,e=w):f=0}else e=b.getPreferredExpandedHeight();b.expand(e)}else b.collapse()}})})(myt);
(l=>{const v=l.AccessorSupport.defAttr,r=a=>{const c=[];switch(a.tabContainer.location){case "top":c.push("TopLeft","TopRight");break;case "bottom":c.push("BottomLeft","BottomRight");break;case "left":c.push("TopLeft","BottomLeft");break;case "right":c.push("TopRight","BottomRight")}c.forEach(d=>{a["setRounded"+d+"Corner"](a.cornerRadius||0)})},p=l.Tab=new JS.Class("Tab",l.SimpleTextButton,{include:[l.Selectable],extend:{INSET:8,OUTSET:8},initNode:function(a,c){null==c.tabId&&(c.tabId=l.generateGuid());
v(c,"tabContainer",a);let d;c.selected&&(d=!0,delete c.selected);v(c,"inset",p.INSET);v(c,"outset",p.OUTSET);v(c,"selectedColor","#fff");v(c,"hoverColor","#eee");v(c,"activeColor","#aaa");v(c,"readyColor","#ccc");v(c,"labelTextSelectedColor","#333");v(c,"height",24);v(c,"focusIndicator",!1);v(c,"cornerRadius",6);this.callSuper(a,c);d&&this.tabContainer.select(this);r(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(a){this.tabId=a},
setTabContainer:function(a){this.tabContainer=a},setSelectedColor:function(a){this.selectedColor=a},setLabelTextColor:function(a){this.labelTextColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&r(this)},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}}),g=l.TabContainer=new JS.Module("TabContainer",{include:[l.SelectionManager],extend:{SPACING:1,INSET:0},initNode:function(a,c){this.__tabs=[];v(c,"spacing",g.SPACING);v(c,"inset",g.INSET);v(c,"location","top");v(c,"itemSelectionId","tabId");v(c,"maxSelected",1);this.callSuper(a,c);new l.SpacedLayout(this,{name:"layout",axis:"left"===this.location||
"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(p))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(p)){const c=this.__tabs;let d=c.length;for(;d;)if(c[--d]===a){c.splice(d,1);break}}this.callSuper(a)}})})(myt);
(l=>{const v=JS.Class,r=Math.min,p=Array.isArray,g=l.SizeToDom;var a=l.View,c=l.Disableable;const d=l.AccessorSupport.defAttr,b=l.Button.FOCUS_SHADOW,h=(e,u,w)=>{e[w]!==u&&(e[w]=u,e.getIDS()[w]=u+"px",e.inited&&(e.fireEvent(w,u),e.sizeViewToDom()))},n=(e,u,w)=>{e[u]!==w&&(e.getIDE()[u]=e[u]=w,e.inited&&e.fireEvent(u,w))},f=l.NativeInputWrapper=new v("NativeInputWrapper",a,{include:[c,l.InputObservable],initNode:function(e,u){d(u,"tagName","input");d(u,"focusable",!0);this.callSuper(e,u);this.addDomClass("mytNativeInput")},
createOurDomElement:function(e){e=this.callSuper(e);this.inputType&&((p(e)?e[1]:e).type=this.inputType);return e},setDisabled:function(e){this.disabled!==e&&(this.getIDE().disabled=e,this.callSuper(e))},setValue:function(e){this.value!==e&&(this.value=e,this.setDomValue(e),this.inited&&this.fireEvent("value",e))},getDomValue:function(){return this.getIDE().value},setDomValue:function(e){const u=this.getIDE();u.value!==e&&(u.value=e)}}),q=l.InputSelectOption=new v("InputSelectOption",a,{include:[c,
l.Selectable],createOurDomElement:e=>document.createElement("option"),setSelected:function(e){e=this.valueFromEvent(e);const u=this.getIDE();u.selected!==e&&(u.selected=e)},setDisabled:function(e){this.disabled!==e&&(this.getIDE().disabled=e,this.callSuper(e))},setValue:function(e){n(this,"value",e)},setLabel:function(e){this.label!==e&&(this.getIDE().textContent=this.label=e,this.inited&&this.fireEvent("label",e))},isSelected:function(){return this.getIDE().selected},canSelect:function(e){return!this.disabled&&
!this.getIDE().selected&&this.parent===e},canDeselect:function(e){return!this.disabled&&this.getIDE().selected&&this.parent===e}});a=l.BaseInputText=new v("BaseInputText",f,{include:[l.TextSupport],initNode:function(e,u){d(u,"bgColor","transparent");d(u,"spellcheck",!1);this.callSuper(e,u);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(e){this.callSuper(e);this.setValue(e)},setSpellcheck:function(e){n(this,
"spellcheck",e)},setMaxLength:function(e){n(this,"maxLength",null==e||0>e?void 0:e)},setAllowedChars:function(e){this.allowedChars=e},setPlaceholder:function(e){n(this,"placeholder",e)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(b)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(e){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(e){e=e.value;const u=this.allowedChars;
u&&-1===u.indexOf(String.fromCharCode(e.which))&&e.preventDefault();this.filterInputPress(e)},filterInput:e=>e,filterInputPress:e=>{},__syncToDom:function(e){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const e=document.selection.createRange();e.moveStart("character",-this.getDomValue().length);return e.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(e,u){if(null==u||e===u){if(this.getCaretPosition()===e)return;u=e}var w=this.getIDE();
w.setSelectionRange?w.setSelectionRange(e,u):w.createTextRange&&(w=w.createTextRange(),w.collapse(!0),w.moveEnd("character",u),w.moveStart("character",e),w.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const e=this.getIDE();return{start:e.selectionStart,startElem:e,end:e.selectionEnd,endElem:e}},setSelection:function(e){e&&this.setCaretPosition(e.start,
e.end)},saveSelection:function(e){this._selRange=e||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});c=l.InputText=new v("InputText",a,{include:[l.SizeHeightToDom],initNode:function(e,u){this.inputType=!0===u.password?"password":"text";this.callSuper(e,u);this.setCaretToEnd()},setPassword:function(e){this.password=e}});l.EditableText=new v("EditableText",a,{include:[g],initNode:function(e,u){d(u,"tagName","div");u.inputType=null;d(u,"whiteSpace",
"pre");d(u,"contentEditable",!0);this.callSuper(e,u);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(e){h(this,e,"minWidth")},setMinHeight:function(e){h(this,e,"minHeight")},setPadding:function(e){this.setPaddingTop(e);this.setPaddingRight(e);this.setPaddingBottom(e);this.setPaddingLeft(e)},setPaddingTop:function(e){h(this,e,"paddingTop")},setPaddingRight:function(e){h(this,
e,"paddingRight")},setPaddingBottom:function(e){h(this,e,"paddingBottom")},setPaddingLeft:function(e){h(this,e,"paddingLeft")},setContentEditable:function(e){n(this,"contentEditable",e)},filterInputPress:function(e){const u=this.maxLength;0<=u&&this.getCharacterCount()===u&&e.preventDefault();this.callSuper(e)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(e){const u=this.getIDE();u.innerHTML!==e&&(u.innerHTML=e,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(e){13===
l.KeyObservable.getKeyCodeFromEvent(e)&&(e.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(e){this.callSuper(e);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const e=this.getIDE().firstChild;return e?e.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const e=this.getSelection();return e?
e.end:0},setCaretPosition:function(e,u){if(null==u||e===u){if(this.getCaretPosition()===e)return;u=e}this.saveSelection({start:e,startElem:this.getIDE().firstChild,end:u,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(e){this.saveSelection();return!0},getSelection:function(){let e;if(window.getSelection){const u=window.getSelection();if(0<u.rangeCount){if(u.extentNode===this.getIDE())return;e=u.getRangeAt(0)}}else document.selection&&
(e=document.selection.createRange());return{start:e?e.startOffset:0,startElem:e?e.startContainer:this.getIDE().firstChild,end:e?e.endOffset:0,endElem:e?e.endContainer:this.getIDE().firstChild}},setSelection:function(e){if(e){const u=e.startElem,w=e.endElem;if(u&&u.parentNode&&w&&w.parentNode){const k=document.createRange();k.setStart(u,r(e.start,u.length));k.setEnd(w,r(e.end,w.length));window.getSelection?(e=window.getSelection(),0<e.rangeCount&&e.removeAllRanges(),e.addRange(k)):document.selection&&
k.select()}}}});l.InputTextArea=new v("InputTextArea",a,{initNode:function(e,u){d(u,"tagName","textarea");u.inputType=null;d(u,"resize","none");d(u,"wrap","soft");this.callSuper(e,u)},setResize:function(e){this.resize!==e&&(this.resize=this.getIDS().resize=e||"none",this.inited&&this.fireEvent("resize",e))},setWrap:function(e){n(this,"wrap",e)}});l.ComboBox=new v("ComboBox",c,{include:[l.Activateable,l.KeyActivation,l.ListViewAnchor],initNode:function(e,u){this.filterItems=!0;d(u,"activationKeys",
[13,27,38,40]);d(u,"bgColor","#fff");d(u,"borderWidth",1);d(u,"borderStyle","solid");d(u,"floatingAlignOffset",u.borderWidth);d(u,"listViewAttrs",{maxHeight:99});d(u,"fullItemConfig",[]);this.callSuper(e,u)},setFullItemConfig:function(e){this.fullItemConfig=e},setFilterItems:function(e){this.filterItems=e},__syncToDom:function(e){const u=this.value;this.callSuper(e);u!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(e){const u=this.getFloatingPanel(e);if(u){let k;if(this.filterItems){k=
[];var w=this.value;w=null==w?"":(""+w).toLowerCase();const x=this.fullItemConfig,C=x.length;for(let z=0;C>z;){const B=x[z++],D=B.attrs.text.toLowerCase(),t=D.indexOf(w);0===t?D!==w&&k.push(B):0<t&&k.push(B)}}else k=this.fullItemConfig;0<k.length?(u.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(k),this.callSuper(e)):this.hideFloatingPanel(e)}},doItemActivated:function(e){this.setValue(e.text);this.callSuper(e)},doActivated:function(){this.toggleFloatingPanel()}});l.InputSelect=new v("InputSelect",
f,{include:[g],initNode:function(e,u){d(u,"tagName","select");u.inputType=null;d(u,"multiple",!1);d(u,"size",u.multiple?4:1);this.callSuper(e,u);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(e){n(this,"multiple",e)},setSize:function(e){n(this,"size",e)},setOptions:function(e){this.destroyAllOptions();p(e)&&e.forEach(u=>{this.addOption(u)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(e){p(e)&&l.areArraysEqual(e,this.value)||
this.value===e||(this.value=e,this.inited&&this.fireEvent("value",e))},subviewAdded:function(e){e instanceof q||(l.dumpStack("Subview unsupported. Destroying it"),e.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(b)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(e=>e.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(e=>
e.value)},getOptionForValue:function(e){return this.getOptions().find(u=>u.value===e)},addOption:function(e){return new q(this,e)},destroyAllOptions:function(){this.getOptions().forEach(e=>{e.destroy()})},destroyOptionWithValue:function(e){if(e=this.getOptionForValue(e))if(e.destroy(),e.destroyed)return!0;return!1},deselectAll:function(){let e=!1;this.getOptions().forEach(u=>{u.isSelected()&&(u.setSelected(!1),e=!0)});e&&this.__doChanged()},selectValues:function(e){(p(e)?e:[e]).forEach(u=>{this.selectValue(u)})},
selectValue:function(e){this.select(this.getOptionForValue(e))},select:function(e){e&&e.canSelect(this)&&(e.setSelected(!0),this.__syncToDom())},deselectValue:function(e){this.deselect(this.getOptionForValue(e))},deselect:function(e){e&&e.canDeselect(this)&&(e.setSelected(!1),this.__syncToDom())},__doChanged:function(e){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(l=>{const v=JS.Module,r=Math.round;var p=l.ValueComponent=new v("ValueComponent",{initNode:function(a,c){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,c)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,c){const d=this.valueFilter;
this.setValueFilter(d?"last"===c?b=>a(d(b)):b=>d(a(b)):a)}});const g=l.RangeComponent=new v("RangeComponent",{include:[p],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var c=
this.value;const d=c?c.lower:void 0;c=c?c.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==d||a.upper!==c){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const b=a.lower;a.lower=a.upper;a.upper=b}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==d&&this.fireEvent("lowerValue",a.lower),a.upper!==c&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});p=l.BoundedValueComponent=new v("BoundedValueComponent",{include:[p],initNode:function(a,c){const d=this;d.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==c.snapToInt&&(c.snapToInt=!0);c.valueFilter||(c.valueFilter=b=>{var h=d.maxValue;if(null!=h&&b>h)return h;h=d.minValue;return null!=h&&b<h?h:b});d.callSuper(a,c)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=r(a));if(this.minValue!==a){const c=this.maxValue;null!=c&&a>c&&(a=c);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=r(a));if(this.maxValue!==a){const c=this.minValue;null!=c&&a<c&&(a=c);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",a),this.setValue(this.value)))}},
setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?r(a):a)}});l.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[p,g],initNode:function(a,c){const d=this;c.valueFilter||(c.valueFilter=b=>{if(b){const h=d.maxValue,n=d.minValue;null!=h&&b.upper>h&&(b.upper=h);null!=n&&b.lower<n&&(b.lower=n)}return b});d.callSuper(a,c)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=r(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=r(a.upper)));
this.callSuper(a)}})})(myt);
(l=>{const v=l.AccessorSupport.defAttr,r=p=>{const g=p.label||"";p.setText('<i class="'+("solid"===(p.checkboxStyle||"outline")?"fas":"far")+" fa-"+(p.isChecked()?"check-":"")+'square"></i>'+(0<g.length?" ":"")+g)};l.Checkbox=new JS.Class("Checkbox",l.Text,{include:[l.SimpleButtonStyle,l.ValueComponent],initNode:function(p,g){this.appendToEarlyAttrs("userUnselectable");v(g,"value",!1);v(g,"focusIndicator",!1);v(g,"checkboxStyle","outline");v(g,"activeColor","inherit");v(g,"hoverColor","inherit");
v(g,"readyColor","inherit");this.callSuper(p,g);l.FontAwesome.registerForNotification(this);r(this)},setValue:function(p){this.value!==p&&(this.callSuper(p),this.inited&&r(this))},setLabel:function(p){this.label!==p&&(this.set("label",p,!0),this.inited&&r(this))},setCheckboxStyle:function(p){this.checkboxStyle!==p&&(this.set("checkboxStyle",p,!0),this.inited&&r(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(p,g=1){this.setOpacity(g);
this.setTextColor(p)}})})(myt);
(l=>{let v;const r=JS.Class,p=JS.Module,g=l.global,a=g.focus,c=l.AccessorSupport.defAttr,d=l.KeyObservable.getKeyCodeFromEvent,b={},h=(t,m)=>{if(t){const y=t.id;t.id?m(y):l.dumpStack("No ID")}else l.dumpStack("No processor")},n=t=>{h(t,m=>{b[m]=t})},f=t=>{const m=l.BAG.getGroup("selected",t.groupId);if(m){const y=m.getNodes();t=t.value;let A=y.length;for(;A;){const H=y[--A];if(H.optionValue===t){m.setTrue(H);break}}}},q=t=>{if(t.groupId){const m=l.BAG.getGroup("selected",t.groupId);m&&t.syncTo(m,
"__syncValue","trueNode")}},e=(t,m)=>{const y=[];t.__v.forEach(A=>{m=A.isFormValid(t,null,y)&&m});t.setErrorMessages(y);t.setIsValid(m);return m},u=(t,m,y)=>{t.__vp.forEach(A=>{A[y]&&(m=A.process(m))});return m},w=l.ValueProcessor=new r("ValueProcessor",{initialize:function(t,m,y,A){this.id=t;this.runForDefault=!!m;this.runForRollback=!!y;this.runForCurrent=!!A},process:t=>t}),k=l.ToNumberValueProcessor=new r("ToNumberValueProcessor",w,{process:t=>{if(null==t||""===t||"-"===t)return t;const m=Number(t);
return isNaN(m)?t:m}}),x=l.TrimValueProcessor=new r("TrimValueProcessor",w,{initialize:function(t,m,y,A,H){this.callSuper(t,m,y,A);this.trim=H},process:function(t){t+="";switch(this.trim){case "start":case "left":return t.trimStart();case "end":case "right":return t.trimEnd();default:return t.trim()}}}),C=l.UndefinedValueProcessor=new r("UndefinedValueProcessor",w,{initialize:function(t,m,y,A,H){this.callSuper(t,m,y,A);this.defaultValue=H},process:function(t){return void 0===t?this.defaultValue:t}}),
z=l.Form=new p("Form",{initNode:function(t,m){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(t,m);this.form&&this.form.isA(z)&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.isA(z)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(t){this.errorMessages=t},getFullId:function(){const t=[this.id];let m=this.form;for(;m&&m.id;)t.unshift(m.id),m=m.form;return t.join(".")},setId:function(t){if(this.id!==
t){const m=this.id;this.id=t;(t=this.form)&&this.inited&&(t.removeSubForm(m),t.addSubForm(this))}},setForm:function(t){if(this.form!==t){const m=this.form;this.form=t;m&&m.removeSubForm(this.id);t&&this.inited&&t.addSubForm(this)}},setIsValid:function(t){this.isValid=t;this.inited&&this.fireEvent("isValid",t);const m=this.form;m&&!this._lockCascade&&(t?m.verifyValidState(this):m.notifySubFormInvalid())},setIsChanged:function(t){if(this.isChanged!==t){this.isChanged=t;this.inited&&this.fireEvent("isChanged",
t);const m=this.form;m&&!this._lockCascade&&(t?m.notifySubFormChanged():m.verifyChangedState(this))}},setValidators:function(t){let m=t.length;for(;m;){const y=t[--m];"string"===typeof y&&(t[m]=g.validators.getValidator(y),t[m]||t.splice(m,1))}this.__v=t},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(B))return this.value;const t={},m=this.__sf;for(const y in m)t[y]=m[y].getValue();return t},setValue:function(t){this.callSuper&&this.callSuper(t);if("object"===typeof t&&
!this.isA(B))for(const m in t){const y=this.getSubForm(m);y?t[m]=y.setValue(t[m]):console.warn("ID in setValue for missing subform",m)}this.form&&this.form.notifyValueChanged(this);return t},getDefaultValue:function(){const t={};let m=this.__sf;for(const y in m)t[y]=m[y].getDefaultValue();return t},setDefaultValue:function(t){if("object"===typeof t)for(const m in t){const y=this.getSubForm(m);y?t[m]=y.setDefaultValue(t[m]):console.warn("ID in setDefaultValue for missing subform",m)}return t},getRollbackValue:function(){const t=
{},m=this.__sf;for(const y in m)t[y]=m[y].getRollbackValue();return t},setRollbackValue:function(t){if("object"===typeof t)for(const m in t){const y=this.getSubForm(m);y?t[m]=y.setRollbackValue(t[m]):console.warn("ID in setRollbackValue for missing subform",m)}return t},addAccelerator:function(t,m){this.__acc[t]=m},removeAccelerator:function(t){delete this.__acc[t]},invokeAccelerator:function(t,m){(t=this.__acc[t])&&t.call(this,null==m?null:m)},addValidator:function(t){t&&this.__v.push(t)},removeValidator:function(t){if(t){const m=
this.__v;let y=m.length;for(;y;){const A=m[--y];if(A.id===t)return m.splice(y,1),A}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(t){const m=t.id;null!=this.getSubForm(m)?console.warn("ID in use for subform, add aborted",m,t):(t.setForm(this),this.__sf[m]=t,t.isChanged&&this.notifySubFormChanged(),t.isValid||this.notifySubFormInvalid())},removeSubForm:function(t){const m=this.getSubForm(t);m&&(m.setForm(null),delete this.__sf[t],this.verifyChangedState(),
this.verifyValidState());return m},getSubForm:function(t){return this.__sf[t]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(t){t&&this.doValidation();const m=[];(function H(A){if(A.isA(B))A.isValid||m.push(A.getFullId());else{A=A.getSubForms();for(const I in A)H(A[I])}})(this);return m},getAllErrorMessages:function(){const t=this.__sf;let m=(this.errorMessages||[]).concat();for(const y in t)m=m.concat(t[y].getAllErrorMessages());return m},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(t){const m=this.__sf;let y=!0;for(const A in m){const H=m[A];H!==t&&(y=H.isValid&&y)}return e(this,y)},doValidation:function(){const t=this.__sf;let m=!0;for(const y in t)m=t[y].doValidation()&&m;this._lockCascade=!0;m=e(this,m);this._lockCascade=!1;return m},notifyValueChanged:function(t){this.form&&this.form.notifyValueChanged(t)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(t){const m=this.__sf;let y=!1;for(const A in m){const H=m[A];
H!==t&&(y=H.isChanged||y)}this.setIsChanged(y);return y},setup:function(t,m,y){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==t&&(t={});null==m&&(m={});null==y&&(y={});const A=this.__sf;for(const H in A)A[H].setup(t[H],m[H],y[H])},resetForm:function(){this._lockCascade=!0;const t=this.__sf;for(const m in t)t[m].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=
!0;const t=this.__sf;for(const m in t)t[m].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const t={},m=this.__sf;for(const y in m){const A=m[y];A.isChanged&&(t[y]=A.getChangedValue())}return t}}),B=l.FormElement=new p("FormElement",{include:[z],initNode:function(t,m){this.__vp=[];this.callSuper(t,m)},getValue:function(){return u(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(t){void 0===
t&&(t=this.getRollbackValue());this.value!==t&&(this.callSuper(t),this.verifyChangedState());return t},getDefaultValue:function(){return u(this,this.defaultValue,"runForDefault")},setDefaultValue:function(t){this.defaultValue!==t&&(this.defaultValue=t,this.inited&&this.fireEvent("defaultValue",t),this.verifyChangedState());return t},getRollbackValue:function(){return u(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(t){void 0===t&&(t=this.getDefaultValue());this.rollbackValue!==
t&&(this.rollbackValue=t,this.inited&&this.fireEvent("rollbackValue",t),this.verifyChangedState());return t},setValueProcessors:function(t){let m=t.length;for(;m;){const y=t[--m];"string"===typeof y&&(t[m]=b[y],t[m]||t.splice(m,1))}this.__vp=t},addValueProcessor:function(t){this.__vp.push(t)},removeValueProcessor:function(t){if(t){const m=this.__vp;let y=m.length;for(;y;){const A=m[--y];if(A.id===t)return m.splice(y,1),A}}},addSubForm:t=>{l.dumpStack("addSubForm unsupported on FormElement")},getSubForm:t=>
{l.dumpStack("getSubForm unsupported on FormElement")},removeSubForm:t=>{l.dumpStack("removeSubForm unsupported on FormElement")},verifyChangedState:function(t){t=this.getValue()!==this.getRollbackValue();this.setIsChanged(t);return t},setup:function(t,m,y){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(t);this.setRollbackValue(m);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(y)},resetForm:function(){this._lockCascade=
!0;const t=this.getDefaultValue();this.setRollbackValue(t);this.setValue(t);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),D=l.FormInputTextMixin=new p("FormInputTextMixin",{include:[B,l.UpdateableUI],initNode:function(t,
m){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";c(m,"bgColor","#fff");c(m,"borderWidth",1);c(m,"borderStyle","solid");c(m,"borderStyle",!0);this.callSuper(t,m);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(t){this.validateWhen=
t},setAcceleratorScope:function(t){this.acceleratorScope=t},setErrorColor:function(t){this.errorColor=t},setActionRequiredColor:function(t){this.actionRequiredColor=t},setNormalColor:function(t){this.normalColor=t},setIsChanged:function(t){this.callSuper(t);this.inited&&this.updateUI()},setIsValid:function(t){this.callSuper(t);this.inited&&this.updateUI()},setValue:function(t){t=this.callSuper(t);const m=this.validateWhen;"key"!==m&&"blurWithKeyFix"!==m||this.verifyValidState();return t},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__hndlKeyDown:function(t){13===d(t)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(t){27===d(t)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const t=this.validateWhen;"blur"!==t&&"blurWithKeyFix"!==
t||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});l.RootForm=new p("RootForm",{include:[z],initNode:function(t,m){this.callSuper(t,m);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:t=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();
this.doValidation()}});l.FormCheckbox=new r("FormCheckbox",l.Checkbox,{include:[B],initNode:function(t,m){this.rollbackValue=this.defaultValue=!1;this.callSuper(t,m)}});l.FormComboBox=new r("FormComboBox",l.ComboBox,{include:[B,l.UpdateableUI],initNode:function(t,m){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(t,m);this.addValueProcessor(v);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",
this.doReject)},setValidateWhen:function(t){this.validateWhen=t},setAcceleratorScope:function(t){this.acceleratorScope=t},setErrorColor:function(t){this.errorColor=t},setActionRequiredColor:function(t){this.actionRequiredColor=t},setNormalColor:function(t){this.normalColor=t},setIsChanged:function(t){this.callSuper(t);this.inited&&this.updateUI()},setIsValid:function(t){this.callSuper(t);this.inited&&this.updateUI()},setValue:function(t){t=this.callSuper(t);const m=this.validateWhen;"key"!==m&&"blurWithKeyFix"!==
m||this.verifyValidState();return t},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(t){this._isShown=!0},notifyPanelHidden:function(t){this._isShown=
!1},doActivationKeyDown:function(t,m){27!==t||this._isShown?this.callSuper(t,m):this.invokeAccelerator("reject")},doActivationKeyUp:function(t){13!==t||this._isShown?this.callSuper(t):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const t=this.validateWhen;"blur"!==t&&"blurWithKeyFix"!==t||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});l.FormEditableText=new r("FormEditableText",
l.EditableText,{include:[D],__hndlKeyDown:function(t){"nowrap"===this.whitespace&&this.callSuper(t)}});l.FormInputText=new r("FormInputText",l.InputText,{include:[D]});l.FormInputTextArea=new r("FormInputTextArea",l.InputTextArea,{include:[D],__hndlKeyDown:t=>{}});l.FormInputSelect=new r("FormInputSelect",l.InputSelect,{include:[B],setValue:function(t){if(!this.__abortSetValue)return t=this.callSuper(t),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(t),this.__abortSetValue=!1,t}});l.FormRadioGroup=
new r("FormRadioGroup",l.Node,{include:[l.ValueComponent,B],initNode:function(t,m){null==m.groupId&&(m.groupId=l.generateGuid());this.callSuper(t,m);void 0!==this.value&&f(this);q(this)},setValue:function(t){t=this.callSuper(t);this.inited&&f(this);return t},setGroupId:function(t){if(this.groupId!==t){if(this.groupId){const m=l.BAG.getGroup("selected",this.groupId);m&&this.detachFrom(m,"__syncValue","trueNode")}this.groupId=t;this.inited&&q(this)}},__syncValue:function(t){t=t.value;this.setValue(t?
t.optionValue:null)}});l.UseOtherFieldIfEmptyValueProcessor=new r("UseOtherFieldIfEmptyValueProcessor",w,{initialize:function(t,m,y,A,H){this.callSuper(t,m,y,A);this.otherField=H},process:function(t){return null==t||""===t?this.otherField.getValue():t}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){n(v=new C("undefToEmpty",!0,!0,!0,""));n(new k("toNumber",!0,!0,!0));n(new x("trimLeft",!0,!0,!0,"left"));n(new x("trimRight",!0,!0,!0,"right"));n(new x("trimBoth",!0,!0,!0,"both"));
g.register("valueProcessors",this)},getValueProcessor:t=>b[t],register:n,unregister:t=>{h(t,m=>{b[m]&&delete b[m]})}})})(myt);
(l=>{const v=JS.Class,r=Math.round,p={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},g=(b,h)=>{b[h](b,"doDragOver","dragover",!1);b[h](b,"doDragEnter","dragenter",!1);b[h](b,"doDragLeave","dragleave",!1);b[h](b,"doDrop","drop",!1)},a=l.DragDropSupport=new JS.Module("DragDropSupport",{include:[l.DragDropObservable],initNode:function(b,h){this.callSuper(b,h);this.disabled||this.setupDragListeners()},setDisabled:function(b){this.disabled!==b&&(this.getIDE().disabled=b,this.callSuper(b),
this.inited&&(b?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){g(this,"attachToDom")},teardownDragListeners:function(){g(this,"detachFromDom")},doDragOver:b=>{},doDragEnter:b=>{},doDragLeave:b=>{},doDrop:function(b){this.handleFiles(b.value.dataTransfer.files,b)},handleFiles:function(b,h){if(void 0!==b){let n=b.length;for(;n;){const f=this.filterFiles(b[--n]);f&&this.handleDroppedFile(f,h)}}else l.dumpStack("No File API")},filterFiles:b=>b,handleDroppedFile:(b,
h)=>{}}),c=l.Uploader=new v("Uploader",l.View,{include:[a,l.Disableable,l.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(b,h)=>{if(void 0!==FileReader){const n=new FileReader;n.onload=h;n.readAsDataURL(b)}},isSameFile:(b,h)=>null!=b&&null!=h&&b.name===h.name&&b.type===h.type&&b.size===h.size,createFile:b=>{const h=(new l.URI(b)).file;return{name:h,serverPath:b,size:-1,type:p[l.getExtension(h)]}}},initNode:function(b,h){const n=this;n.files=[];n.defAttr(h,"requestFileParam","file");
n.defAttr(h,"maxFiles",-1);n.callSuper(b,h);new l.NativeInputWrapper(n,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:n.disabled,overflow:"hidden"},[l.SizeToParent,{initNode:function(f,q){this.inputType="file";this.callSuper(f,q);this.attachToDom(this,"_hndlInput","change");this.getIDE().multiple=1<n.maxFiles},_hndlInput:function(f){n.handleFiles(this.getIDE().files,f)}}])},setValue:function(b){this.clearFiles();b&&(Array.isArray(b)||(b=[b]),b.forEach(h=>
{this.addFile(c.createFile(h))}));return this.callSuper?this.callSuper(b):b},getValue:function(){return this.value},setDisabled:function(b){this.callSuper(b);this.fileInput&&this.fileInput.setDisabled(b)},setMaxFiles:function(b){this.maxFiles!==b&&(this.maxFiles=b,this.inited&&this.fireEvent("maxFiles",b),this.fileInput&&(this.fileInput.getIDE().multiple=1<b))},setUploadUrl:function(b){this.set("uploadUrl",b,!0)},setRequestFileParam:function(b){this.set("requestFileParam",b,!0)},bringSubviewToFront:function(b){b===
this.fileInput?this.callSuper(b):this.sendSubviewBehind(b,this.fileInput)},subviewAdded:function(b){this.callSuper(b);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(b,h){this.addFile(b)},filterFiles:function(b){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:b},uploadFiles:function(b,h){b=b||this.uploadUrl;const n=this.files;let f=n.length;for(;f;)this.uploadFile(n[--f],b,h)},makeFetchOptionsForUpload:b=>({method:"POST",body:b}),uploadFile:function(b,
h,n){const f=this,q=new FormData;q.append(n||f.requestFileParam,b,b.name);l.doFetch(h||f.uploadUrl,f.makeFetchOptionsForUpload(q),!1,e=>{f.handleUploadSuccess(b,e)},e=>{f.handleUploadFailure(b,e)})},handleUploadSuccess:function(b,h){b[c.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(b,h);this.updateValueFromFiles()},handleUploadFailure:(b,h)=>{l.dumpStack("Upload failure:"+h.status+":"+h.message)},parseServerPathFromResponse:(b,h)=>null,addFile:function(b){this.files.push(b);this.updateValueFromFiles();
this.fireEvent("addFile",b)},removeFile:function(b){const h=this.files;let n=h.length;for(;n;)if(c.isSameFile(h[--n],b)){h.splice(n,1);this.updateValueFromFiles();this.fireEvent("removeFile",b);break}},updateValueFromFiles:function(){const b=[];var h=this.files;let n=h.length;for(;n;){const f=h[--n][c.FILE_ATTR_SERVER_PATH];f&&b.push(f)}h=b.length;this.value=1===h?b[0]:0===h?void 0:b;this.value||(this.fileInput.getIDE().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);
this.fireEvent("value",this.value)},clearFiles:function(){const b=this.files;let h=b.length;for(;h;)this.removeFile(b[--h])}}),d=l.ImageUploader=new v("ImageUploader",c,{extend:{isImageFile:b=>/image/i.test(b.type)},initNode:function(b,h){h.maxFiles=1;this.callSuper(b,h)},setWidth:function(b,h){this.callSuper(b,h);this.inited&&this.updateImageSize()},setHeight:function(b,h){this.callSuper(b,h);this.inited&&this.updateImageSize()},filterFiles:function(b){if(d.isImageFile(b)){for(;0<this.files.length;)this.removeFile(this.files[0]);
return this.callSuper(b)}},addFile:function(b){const h=this;h.callSuper(b);const n=h.image=new l.Image(h,{useNaturalSize:!1,align:"center",valign:"middle"});n.file=b;const f=q=>{const e=new Image;e.onload=()=>{b.width=e.width;b.height=e.height;n&&!n.destroyed&&h.updateImage(b,n,e.src)};e.src=q};-1===b.size?f(b.serverPath):void 0!==FileReader&&d.isImageFile(b)&&c.readFile(b,q=>{f(q.target.result)})},scaleToFit:(b,h,n,f)=>n/f>b/h?[b,f*b/n]:[n*h/f,h],removeFile:function(b){this.callSuper(b);const h=
this.getSubviews();let n=h.length;for(;n;){const f=h[--n];if(c.isSameFile(f.file,b)){f.destroy();break}}},handleDroppedFile:function(b,h){this.callSuper(b,h);this.uploadFile(b,this.uploadUrl)},updateImage:function(b,h,n){this.nativeWidth=b.width;this.nativeHeight=b.height;this.updateImageSize();h.setImageUrl(n)},updateImageSize:function(){const b=this.image;if(b&&!b.destroyed){var h=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const n=r(h[0]);h=r(h[1]);b.setImageSize(n+
"px "+h+"px");b.setWidth(n);b.setHeight(h)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(l=>{const v=(r,p,g)=>{const a=r.axis;g=g.bind(r);"y"!==a&&(g(p,"update","x"),g(p,"update","boundsWidth"));"x"!==a&&(g(p,"update","y"),g(p,"update","boundsHeight"));g(p,"update","visible")};l.SizeToChildren=new JS.Class("SizeToChildren",l.Layout,{initNode:function(r,p){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(r,p)},setAxis:function(r){this.axis!==r&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=r,this.startMonitoringAllSubviews(),this.fireEvent("axis",r),this.update()):
this.axis=r)},setPaddingX:function(r){this.paddingX!==r&&(this.paddingX=r,this.inited&&(this.fireEvent("paddingX",r),this.update()))},setPaddingY:function(r){this.paddingY!==r&&(this.paddingY=r,this.inited&&(this.fireEvent("paddingY",r),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const p=this.parent;if(!p.isBeingDestroyed){const g=this.subviews;var r=g.length;const a=this.axis;let c,d;if("y"!==a){c=r;for(d=0;c;){const b=g[--c];b.visible&&(d=Math.max(d,b.x+
(0<b.boundsWidth?b.boundsWidth:0)))}p.setWidth(d+this.paddingX)}if("x"!==a){c=r;for(d=0;c;)r=g[--c],r.visible&&(d=Math.max(d,r.y+(0<r.boundsHeight?r.boundsHeight:0)));p.setHeight(d+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(r){v(this,r,this.attachTo)},stopMonitoringSubview:function(r){v(this,r,this.detachFrom)}})})(myt);
(l=>{const v=JS.Class,r=l.SizeToParent,p=l.View,g=l.RootView,a=l.AccessorSupport.defAttr,c=l.Dimmer=new v("Dimmer",p,{include:[r],extend:{OPACITY:.35,COLOR:"#000"},initNode:function(b,h){const n=this;n.restoreFocus=!0;h.focusable=h.focusCage=!0;a(h,"percentOfParentWidth",100);a(h,"percentOfParentHeight",100);a(h,"visible",!1);a(h,"ignoreLayout",!0);n.callSuper(b,h);new p(n,{name:"overlay",ignorePlacement:!0,opacity:c.OPACITY,bgColor:c.COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[r]);
"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(f=>{n.attachDomObserver(n,"eatMouseEvent",f)});g.setupCaptureDrop(n)},destroy:function(){g.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(b){this.restoreFocus=b},eatMouseEvent:b=>!0,show:function(){const b=l.global.focus;this.prevFocus=b.focusedView||b.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(b){this.visible&&(this.setVisible(!1),!b&&this.restoreFocus&&
this.prevFocus&&this.prevFocus.focus())}}),d=l.ModalPanel=new v("ModalPanel",c,{extend:{PADDING_X:20,PADDING_Y:15,MARGIN_TOP:40,MARGIN_LEFT:40,MARGIN_BOTTOM:40,MARGIN_RIGHT:40},initNode:function(b,h){const n={name:"content",ignorePlacement:!0},f=Object.assign({},n,{align:"center",valign:"middle"});this.defaultPlacement="content";a(h,"sizingStrategy","children");a(h,"marginTop",d.MARGIN_TOP);a(h,"marginLeft",d.MARGIN_LEFT);a(h,"marginBottom",d.MARGIN_BOTTOM);a(h,"marginRight",d.MARGIN_RIGHT);a(h,"paddingX",
d.PADDING_X);a(h,"paddingY",d.PADDING_Y);this.callSuper(b,h);switch(this.sizingStrategy){case "children":new l.SizeToChildren(new p(this,f),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new p(this,Object.assign(n,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[r]);break;case "basic":new p(this,
f);break;default:new p(this,n)}},setSizingStrategy:function(b){this.sizingStrategy=b},setMarginTop:function(b){this.marginTop=b},setMarginLeft:function(b){this.marginLeft=b},setMarginBottom:function(b){this.marginBottom=b},setMarginRight:function(b){this.marginRight=b},setPaddingX:function(b){this.paddingX=b},setPaddingY:function(b){this.paddingY=b}})})(myt);
(l=>{const v=p=>{p[p.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},r=p=>{const g=p.size,a=p.getIDS();p.setWidth(g);p.setHeight(g);a.width=a.height=g-2*p.borderWidth+"px"};l.Spinner=new JS.Class("Spinner",l.View,{initNode:function(p,g){this.lateAttrs=["spinColor"];const a=this.defAttr;a(g,"visible",!1);a(g,"borderWidth",5);a(g,"borderColor","#fff");a(g,"borderStyle","solid");a(g,"spinColor","#000");this.callSuper(p,g);this.getIDS().borderRadius="50%";r(this);v(this)},setSize:function(p){this.size!==
p&&(this.size=p,this.inited&&r(this))},setSpinColor:function(p){this.spinColor!==p&&(this.getIDS().borderTopColor=this.spinColor=p,this.inited&&this.fireEvent("spinColor",p))},setBorderWidth:function(p){this.borderWidth!==p&&(this.callSuper(p),this.inited&&r(this))},setVisible:function(p){this.visible!==p&&(this.callSuper(p),this.inited&&v(this))}})})(myt);
(l=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),r=a=>{if(Array.isArray(a)){let c=a.length;if(0<c){a.unshift("fa");c++;a[1].startsWith("fa-")||(a[1]="fa-"+a[1]);3<=c&&(a[2]=v[a[2]]||"");if(3<c)for(let d=3;c>d;d++)a[d].startsWith("fa-")||(a[d]="fa-"+a[d]);return'<i class="'+a.join(" ")+'"></i>'}}l.dumpStack("Error making tag");console.error(a);return""},p=a=>{let c=a.properties;c=c?"string"===typeof c?c.split(" "):c.concat():[];c.unshift(a.icon,a.size);a.setHtml(r(c))},g=a=>{["Free 400","Free 900",
"Brands 400"].forEach(c=>{l.registerForFontNotification(a,"Font Awesome 5 "+c)})};l.FontAwesome=new JS.Class("FontAwesome",l.Markup,{extend:{makeTag:r,registerForNotification:g},initNode:function(a,c){this.size=0;this.icon="";this.callSuper(a,c);p(this);g(this)},setIcon:function(a){const c=this.icon;this.set("icon",a,!0);this.inited&&c!==a&&p(this)},setSize:function(a){const c=this.size;this.set("size",a,!0);this.inited&&c!==a&&p(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&p(this)}});l.loadCSSFonts(["https://use.fontawesome.com/releases/v5.0.8/css/all.css"])})(myt);
(l=>{let v,r,p,g,a=0,c=0,d=0,b=[],h,n,f,q,e,u,w,k,x,C,z,B,D,t,m,y,A,H,I,J,O,W,Q,Z;const ba=JS.Class,S=l.View,ha=l.Text,X=l.ModalPanel,ra=l.SizeToChildren,ya=l.SpacedLayout,za=l.SelectionManager,la=l.Color,Aa=l.LocalStorage,sa=l.Button,ia=l.TextButton,Ba=l.Draggable,ja=l.FontAwesome.makeTag,Y=l.AccessorSupport.defAttr,da=Object.assign,aa=Math.min,ca=Math.max,ea=[1,"solid","#333"],Ca=[1,"solid","#999"],ta=[1,"solid","#fff"],Ia=new ba("DialogButton",ia,{initNode:function(E,G){Y(G,"height",17);Y(G,"paddingTop",
3);Y(G,"paddingLeft",10);Y(G,"paddingRight",10);Y(G,"activeColor","#bbb");Y(G,"hoverColor","#ddd");Y(G,"readyColor","#ccc");G.domClass="mytButtonText";this.callSuper(E,G)}}),Ja=ja(["check"]),ua={},Da=new ba("Swatch",S,{include:[sa],initNode:function(E,G){G.width=G.height=16;G.border=Ca;this.callSuper(E,G);this.bgColor===g&&(E=la.makeColorFromHexString(g),new l.Text(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>E.red+E.green+E.blue?"#fff":"#000"}))},setBgColor:function(E){this.callSuper(E);
this.setTooltip(E)},doActivated:function(){v.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(ea)},drawReadyState:function(){this.setBorder(Ca)}}),Ka=l.ColorPicker=new ba("ColorPicker",S,{initNode:function(E,G){v=this;p=G.color||"transparent";delete G.color;h=G.palette||[];h.forEach(F=>{ua[F]=!0});delete G.palette;r="transparent"===p;v.callSuper(E,G);n=new S(v,{width:160,height:170});new l.WrappingLayout(n,{spacing:4,lineSpacing:4});f=new S(v,{x:170,width:139,height:139,border:ea},
[Ba,{requestDragPosition:function(F,L){f.callSuper(f.x,f.y);const K=this.getPagePosition();c=parseFloat(ca(0,aa(1,(F+this.dragInitX-K.x)/this.width)));d=parseFloat(1-ca(0,aa(1,(L+this.dragInitY-K.y)/this.height)));r=!1;v.updateUI()}}]);E=new S(f,{width:139,height:139});G=new S(E,{width:139,height:139});E.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";G.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";q=new S(G,{width:6,height:6,bgColor:"#000",
border:ta,roundedCorners:4});e=new S(v,{x:315,y:30,width:24,height:109,border:ea},[Ba,{requestDragPosition:function(F,L){this.callSuper(e.x,e.y);a=parseFloat(ca(0,aa(1,(L+this.dragInitY-this.getPagePosition().y)/this.height)));r=!1;v.updateUI()}}]);e.getIDS().background="linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";u=new S(e,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new S(v,{x:315,width:24,height:24,border:ea,tooltip:"Set to transparent.",
domClass:"mytCheckerboardPattern"},[sa,{doActivated:()=>{v.setColor("transparent")}}]);w=new l.InputText(v,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:ea,maxLength:11});v.attachToDom(w,"_submitInput","blur");v.attachToDom(w,"_handleKeyDown","keydown");w.getIDS().paddingLeft="6px";E=new S(v,{x:170,y:146,width:60,height:23,border:ea});new S(E,{width:30,height:23,focusIndicator:!1,bgColor:p,domClass:r?"mytCheckerboardPattern":""},[sa,{doActivated:()=>{v.setColor(p)}}]);
k=new S(E,{x:30,width:30,height:23},[{setBgColor:function(F){this.callSuper(F);this[("transparent"===F?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(E=Aa.getItem("myt.default"))b=E.split(";"),b.forEach(F=>{ua[F]=!0});v.setColor(p)},_handleKeyDown:E=>{13===l.KeyObservable.getKeyCodeFromEvent(E)&&v._submitInput()},_submitInput:()=>{v.setColor(w.value)},addToPalette:E=>{E&&"transparent"!==E&&!ua[E]&&(b.unshift(E),b.length=aa(b.length,56),Aa.setItem("myt.default",b.join(";")))},setColor:E=>
{E&&"transparent"!==E?(E=la.makeColorFromHexString(E).getHSV(),a=E.h/360,c=E.s,d=E.v,r=!1):r=!0;v.updateUI()},getColor:()=>r?"transparent":la.makeColorFromHSV(360*a,100*c,100*d).getHtmlHexString(),updateUI:()=>{const E=!r;u.setVisible(E);q.setVisible(E);E&&(q.setX(ca(0,aa(1,c)*(f.width+2))-5),q.setY(ca(0,aa(1,1-d)*(f.height+2))-5),u.setY(a*(e.height-2)-1));f.setBgColor(la.makeColorFromHSV(360*a,100,100).getHtmlHexString());g=v.getColor();w.setValue(g);k.setBgColor(g);v.redrawPalette()},redrawPalette:l.debounce(()=>
{const E=n.getSubviews();let G=E.length;for(;G;)E[--G].destroy();h.forEach(F=>{new Da(n,{bgColor:F})});b.forEach(F=>{new Da(n,{bgColor:F})})},50)}),va=E=>{E=E.split(":");return[ca(0,aa(23,parseInt(E[0]))),ca(0,aa(60,parseInt(E[1])))]},Ea=E=>{E.deselectAll();E=E.getSubviews();let G=E.length;for(;G;)E[--G].destroy()},Fa=new ba("SelectableBtn",ia,{include:[l.Selectable],setSelected:function(E){this.callSuper(E);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),
this.setTextColor("#fff")):this.setTextColor()}}),La=new ba("TimeBtn",Fa,{initNode:function(E,G){G.width=z?175:49;this.callSuper(E,G)},doActivated:function(){this.callSuper();const E=this.text,G=va(E);Z.selectById(E);I.setHours(G[0]);I.setMinutes(G[1])}}),Ma=new ba("DayBtn",Fa,{initNode:function(E,G){G.width=23;G.border=ta;this.callSuper(E,G)},setData:function(E){this.data=E},setIsAnotherMonth:function(E){this.isAnotherMonth=E},setIsToday:function(E){this.isToday=E},setIsSunday:function(E){this.isSunday=
E},setIsSaturday:function(E){this.isSaturday=E},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const E=new Date(this.data);E.setHours(I.getHours());E.setMinutes(I.getMinutes());ka(E)}}),ka=E=>{E.setSeconds(0);E.setMilliseconds(0);var G=6>=D.length,F;if(G)for(F=7;F--&&!D.includes(E.getDay());)E.setDate(E.getDate()+
1);I=E;const L=Z.getODE().scrollTop;var K=new Date,M=K.getFullYear();F=K.getMonth();var P=K.getDate();K.getHours();K.getMinutes();var N=E.getFullYear(),R=E.getMonth();const ma=E.getDate();var fa=E.getTime();K=E.getHours();E=E.getMinutes();const na=(new Date(N,R,1)).getDay()-B,oa=(new Date(N,R+1,0)).getDate(),wa=(new Date(N,R,0)).getDate(),pa=new Date(N,R,0),qa=new Date(N,R+2,0),Na=M==N&&F==R;if(!z){Ea(Q);F=new Date(fa);const Ga=7+B;M=x.days;O.setText(N+" "+x.sep+" "+x.months[R]);F.setMinutes(59);
F.setHours(23);F.setSeconds(59);F.setDate(0);J.setVisible(null==t||t<F.getTime());F.setMinutes(0);F.setHours(0);F.setSeconds(0);F.setDate(1);F.setMonth(R+1);W.setVisible(null==m||m>F.getTime());for(F=0;7>F;F++)new ha(Q,{width:23,height:20,textAlign:"center",text:M[(F+Ga)%7],textColor:"#999"});F=0;let Ha=42;0>na&&(F=-7,Ha=35);M=new Date(fa);M.setHours(0);M.setMinutes(0);for(M.setSeconds(0);F<Ha;F++){var U=F+1-na;const xa=(F+Ga)%7,V=new Ma(Q);na>F?(V.setText(wa+U),V.setData(pa.getFullYear()+"/"+(pa.getMonth()+
1)+"/"+(wa+U)),V.setIsAnotherMonth(!0),M.setDate(wa+U),M.setMonth(pa.getMonth()),M.setYear(pa.getFullYear())):F<na+oa?(V.setText(U),V.setData(N+"/"+(R+1)+"/"+U),M.setDate(U),M.setMonth(R),M.setYear(N)):(V.setText(U-oa),V.setData(qa.getFullYear()+"/"+(qa.getMonth()+1)+"/"+(U-oa)),V.setIsAnotherMonth(!0),M.setDate(U-oa),M.setMonth(qa.getMonth()),M.setYear(qa.getFullYear()));G&&!D.includes(xa)?V.setDisabled(!0):(0===xa?V.setIsSunday(!0):6===xa&&V.setIsSaturday(!0),U===ma&&(Q.select(V),V.focus()),Na&&
U===P&&V.setIsToday(!0),U=new Date(M.getTime()),U.setHours(23),U.setMinutes(59),U.setSeconds(59),(null!=t&&t>U.getTime()||null!=m&&m<M.getTime())&&V.setDisabled(!0));V.updateUI()}}if(!C){G=60*A[0]+A[1];Ea(Z);P=y[0];N=y[1];for(M=new Date(fa);60*P+N<G;)fa=new La(Z,{text:("0"+P).slice(-2)+":"+("0"+N).slice(-2)}),P===K&&N===E&&Z.select(fa),M.setHours(P),M.setMinutes(N),R=M.getTime(),(null!=t&&t>R||null!=m&&m<R)&&fa.setDisabled(!0),N+=H,60<=N&&(N-=60,P++);Z.scrollYTo(L)}},Oa=l.DatePicker=new ba("DatePicker",
S,{initNode:function(E,G){const F=da({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},G.opt);delete G.opt;this.callSuper(E,G);x=F.locales[F.locale||"en"];C=F.dateOnly;z=F.timeOnly;B=F.firstDayOfWeek;H=ca(5,aa(30,F.minuteInterval));D=F.allowedDays;Array.isArray(D)&&0!==D.length||(D=[0,1,2,3,4,5,6]);t=Date.parse(F.minDate);t=isNaN(t)?null:t;m=Date.parse(F.maxDate);
m=isNaN(m)?null:m;y=va(F.minTime);A=va(F.maxTime);E=new S(this,{visible:!z});F.showTodayButton&&new ia(E,{width:24,text:ja(["home"]),tooltip:x.today},[{doActivated:()=>{ka(new Date)}}]);J=new ia(E,{width:24,x:28,text:ja(["chevron-left"]),tooltip:x.prevMonth},[{doActivated:()=>{const L=(new Date(I.getFullYear(),I.getMonth(),0)).getDate();L<I.getDate()&&I.setDate(L);I.setMonth(I.getMonth()-1);ka(I);J.focus()}}]);O=new ha(E,{width:100,x:52,textAlign:"center"});W=new ia(E,{width:24,x:152,text:ja(["chevron-right"]),
tooltip:x.nextMonth},[{doActivated:()=>{var L=(new Date(I.getFullYear(),I.getMonth()+1,0)).getDate();L<I.getDate()&&I.setDate(L);L=(new Date(I.getFullYear(),I.getMonth()+2,0)).getDate();L<I.getDate()&&I.setDate(L);I.setMonth(I.getMonth()+1);ka(I);W.focus()}}]);Q=new S(this,{y:25,width:175,height:175,visible:!z,maxSelected:1,itemSelectionId:"data"},[za]);new l.WrappingLayout(Q,{spacing:2,lineInset:2,lineSpacing:3});Z=new S(this,{x:z?0:195,y:z?0:25,width:(z?175:49)+l.DomElementProxy.getScrollbarSize(),
height:z?200:175,overflow:"autoy",visible:!C,maxSelected:1,itemSelectionId:"text"},[za]);new ya(Z,{axis:"y",inset:1,spacing:3});this.setWidth(Z.visible?Z.x+Z.width:Q.width);ka(F.current||new Date)},getPickedDate:()=>I}),T=l.Dialog=new ba("Dialog",X,{extend:{RADIUS:12,BUTTON_CLASS:Ia,SHADOW:[0,4,20,"#666"],BORDER:ta,BGCOLOR:"#fff",WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},
CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",
today:"Today"}},locale:"en"}},initNode:function(E,G){Y(G,"buttonClass",T.BUTTON_CLASS);this.callSuper(E,G);E=this.content;E.setRoundedCorners(T.RADIUS);E.setBgColor(T.BGCOLOR);E.setBoxShadow(T.SHADOW);E.setBorder(T.BORDER);E.setFocusCage(!0);this.makeCloseButton(E)},setButtonClass:function(E){this.buttonClass=E},setCallbackFunction:function(E){this.callbackFunction=E},makeButton:function(E,G){const F=this;return new F.buttonClass(E,G,[{doActivated:function(){F.doCallback(this)}}])},makeCloseButton:function(E){return this.makeButton(E,
{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ja(["times"]),tooltip:"Close Dialog."})},hide:function(E){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(E)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const E=this.content,G=E.sizeToChildren,F=E.getSubviews();let L=
F.length;for(;L;){const K=F[--L];"closeBtn"!==K.name&&K.destroy()}E.setVisible(!0);this.overlay.setBgColor(l.Dimmer.COLOR);this.setCallbackFunction();G.setPaddingY(X.PADDING_Y);G.setPaddingX(X.PADDING_X);E.setRoundedCorners(T.RADIUS);E.setBgColor(T.BGCOLOR);E.setBoxShadow(T.SHADOW);E.setBorder(T.BORDER)},doCallback:function(E){const G=this.callbackFunction;G&&G.call(this,E.name)||this.hide()},showBlank:function(E){this.destroyContent();this.content.setVisible(!1);E&&E.bgColor&&this.overlay.setBgColor(E.bgColor);
this.show()},showMessage:function(E,G,F){const L=this.content,K=L.closeBtn;F=da({},T.WRAP_TEXT_DEFAULTS,F);this.destroyContent();this.setCallbackFunction(G);E=new ha(L,{name:"msg",text:E,whiteSpace:F.whiteSpace,wordWrap:F.wordWrap,fontWeight:F.fontWeight,x:null==F.msgX?X.PADDING_X:F.msgX,y:null==F.msgY?X.PADDING_Y:F.msgY,width:F.width});F.titleText&&(this.setupTitle(L,F.titleText),E.setY(E.y+24));this.show();!1===F.showClose?K.setVisible(!1):(K.setVisible(!0),K.focus())},showSimple:function(E,G,F,
L){F=F||{};const K=this.content,M=K.closeBtn,P=F.maxContainerHeight;this.destroyContent();F.bgColor&&K.setBgColor(F.bgColor);F.roundedCorners&&K.setRoundedCorners(F.roundedCorners);F.boxShadow&&K.setBoxShadow(F.boxShadow);F.border&&K.setBorder(F.border);K.sizeToChildren.setPaddingX(1);this.setCallbackFunction(G);G=new S(K,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(N){N>P&&(N=P);this.callSuper(N)}}]);E.call(this,G);new ra(G,{axis:"both"});this.show();M.setVisible(!0);M.focus();
F.titleText&&(this.setupTitle(K,F.titleText),G.setY(this.header.height+1));G.initialFocus&&G.initialFocus.focus();L&&L(this)},showConfirm:function(E,G,F){F=da({},T.CONFIRM_DEFAULTS,F);this.showMessage(E,G,F);this.setupFooterButtons(this.content.msg,F)},showContentConfirm:function(E,G,F,L){F=da({},T.CONFIRM_DEFAULTS,F);const K=this.content,M=K.closeBtn,P=F.maxContainerHeight;this.destroyContent();K.sizeToChildren.setPaddingX(1);this.setCallbackFunction(G);G=new S(K,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(N){this.callSuper(N>P?P:N)}}]);E.call(this,G);new ra(G,{axis:"both"});this.show();M.setVisible(!0);M.focus();this.setupTitle(K,F.titleText);G.setY(this.header.height+1);this.setupFooterButtons(G,F);G.initialFocus&&G.initialFocus.focus();L&&L(this)},showSpinner:function(E,G){const F=this.content;G=da({},T.NO_WRAP_TEXT_DEFAULTS,G);this.destroyContent();const L=this.spinner=new l.Spinner(F,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==G.msgY?X.PADDING_Y:
G.msgY});E&&new ha(F,{text:E,whiteSpace:G.whiteSpace,wordWrap:G.wordWrap,fontWeight:G.fontWeight,x:null==G.msgX?X.PADDING_X:G.msgX,y:L.y+L.size+X.PADDING_Y,width:G.width});this.show();F.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(E,G){const F=this,L=F.content,K=L.closeBtn;G=da({},T.COLOR_PICKER_DEFAULTS,G);F.destroyContent();F.setCallbackFunction(P=>{switch(P){case "closeBtn":case "cancelBtn":E.call(F,P);break;case "confirmBtn":const N=M.getColor();M.addToPalette(N);E.call(F,P,
N)}M.destroy()});const M=new Ka(L,{x:X.PADDING_X,y:X.PADDING_Y+24,width:337,height:177,color:G.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});F.show();K.setVisible(!0);K.focus();F.setupFooterButtons(M,G);F.setupTitle(L,G.titleText)},showDatePicker:function(E,G){const F=this,L=F.content,K=L.closeBtn;G=da({},T.DATE_PICKER_DEFAULTS,G);F.destroyContent();F.setCallbackFunction(P=>{switch(P){case "closeBtn":case "cancelBtn":E.call(F,P);break;
case "confirmBtn":E.call(F,P,M.getPickedDate())}M.destroy()});const M=new Oa(L,{x:X.PADDING_X,y:X.PADDING_Y+24,height:195,opt:{current:new Date(G.initialDate||Date.now()),dateOnly:G.dateOnly||!1,timeOnly:G.timeOnly||!1,locales:G.locales,locale:G.locale}});F.show();K.setVisible(!0);K.focus();F.setupFooterButtons(M,G);F.setupTitle(L,G.timeOnly?G.timeOnlyTitleText:G.titleText)},setupTitle:function(E,G){const F=T.RADIUS;(this.header=new S(E,{ignoreLayout:!0,width:E.width,height:24,bgColor:"#eee",roundedTopLeftCorner:F,
roundedTopRightCorner:F})).sendToBack();new ha(E,{name:"title",x:F,y:4,text:G,fontWeight:"bold"})},setupFooterButtons:function(E,G){const F=this,L=F.content;var K=X.PADDING_Y,M=K/2;const P=new S(L,{name:"btnContainer",y:E.y+E.height+K,align:"center"});K=["active","hover","ready","text"];let N=G.cancelAttrs||{};Y(N,"name","cancelBtn");Y(N,"text",G.cancelTxt);K.forEach(R=>{R+="Color";null!=G[R]&&(N[R]=G[R])});E=F.makeButton(P,N);N=G.confirmAttrs||{};Y(N,"name","confirmBtn");Y(N,"text",G.confirmTxt);
K.forEach(R=>{R+="Color";const ma=R+"Confirm";null!=G[ma]&&(N[R]=G[ma])});F.makeButton(P,N);(G.buttons||[]).forEach(R=>{F.makeButton(P,R)});new ra(P,{axis:"y"});new ya(P,{spacing:4,collapseParent:!0});L.sizeToChildren.setPaddingY(M);K=T.RADIUS;M=P.y-M;(new S(L,{ignoreLayout:!0,y:M,width:L.width,height:L.height-M,bgColor:"#eee",roundedBottomLeftCorner:K,roundedBottomRightCorner:K})).sendToBack();!1===G.showClose&&E.focus()}})})(myt);
(l=>{const v=JS.Class,r={},p=(n,f)=>{if(n){const q=n.id;n.id?f(q):l.dumpStack("No ID")}else l.dumpStack("No validator")},g=n=>{p(n,f=>{r[f]=n})},a=l.Validator=new v("Validator",{initialize:function(n){this.id=n},isValid:(n,f,q)=>!0,isFormValid:function(n,f,q){f||={};f.form=n;return this.isValid(n.getValue(),f,q)}}),c=l.RequiredFieldValidator=new v("RequiredFieldValidator",a,{isValid:function(n,f,q){return null==n||""===n||"string"===typeof n&&""===n.trim()?(q&&q.push("This value is required."),!1):
!0}}),d=l.EqualsIgnoreCaseValidator=new v("EqualsIgnoreCaseValidator",a,{isValid:function(n,f,q){f=f.form.getRollbackValue();return n&&f&&n.toLowerCase()===f.toLowerCase()?(q&&q.push("Value must differ by more than just case."),!1):!0}}),b=l.URLValidator=new v("URLValidator",a,{initialize:function(n,f){this.callSuper(n);this.originalRawQuery=f},isValid:function(n,f,q){return(new l.URI(n)).toString(this.originalRawQuery)!==n?(q&&q.push("Invalid URL."),!1):!0}}),h=l.JSONValidator=new v("JSONValidator",
a,{isValid:function(n,f,q){try{return JSON.parse(n),!0}catch(e){return q&&q.push(e),!1}}});l.EqualFieldsValidator=new v("EqualFieldsValidator",a,{initialize:function(n,f,q){this.callSuper(n);this.fieldA=f;this.fieldB=q},isValid:function(n,f,q){if(n&&this.fieldA.getValue()===this.fieldB.getValue())return!0;q&&q.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});l.LengthValidator=new v("LengthValidator",a,{initialize:function(n,f,q){this.callSuper(n);this.min=
f;this.max=q},isValid:function(n,f,q){n=n?n.length:0;f=this.min;const e=this.max;return void 0!==f&&f>n?(q&&q.push("Value must not be less than "+f+"."),!1):void 0!==e&&e<n?(q&&q.push("Value must not be greater than "+e+"."),!1):!0}});l.NumericRangeValidator=new v("NumericRangeValidator",a,{initialize:function(n,f,q){this.callSuper(n);this.min=f;this.max=q},isValid:function(n,f,q){if(""===n)return!0;n=Number(n);f=this.min;const e=this.max;return isNaN(n)?(q&&q.push("Value is not a number."),!1):void 0!==
f&&f>n?(q&&q.push("Value must not be less than "+f+"."),!1):void 0!==e&&e<n?(q&&q.push("Value must not be greater than "+e+"."),!1):!0}});l.CompoundValidator=new v("CompoundValidator",a,{initialize:function(n,...f){this.callSuper(n);n=f.length;let q;for(;n;)q=f[--n],"string"===typeof q&&((f[n]=q=r[q])||f.splice(n,1));this.__v=f},addValidator:function(n){"string"===typeof n&&(n=r[n]);n&&this.__v.push(n)},isValid:function(n,f,q){const e=this.__v,u=e.length;let w=!0,k=0;for(;u>k;)w=e[k++].isValid(n,
f,q)&&w;return w}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){g(new c("required"));g(new d("equalsIgnoreCase"));g(new b("url"));g(new h("json"));l.global.register("validators",this)},getValidator:n=>r[n],register:g,unregister:n=>{p(n,f=>{r[f]&&delete r[f]})}})})(myt);
(l=>{const v=JS.Class,r=Math.min,p=Math.max,g=l.View,a=l.AccessorSupport.defAttr,c=new v("SliderThumb",l.SimpleButton,{include:[l.Draggable],initNode:function(b,h){const n=h.width=b.thumbWidth,f=h.height=b.thumbHeight;h.roundedCorners=r(f,n)/2;h.repeatKeyDown=!0;h.activationKeys=[37,38,39,40];h.activeColor="#bbb";h.readyColor="#ccc";h.hoverColor="#ddd";h.boxShadow=[0,0,4,"#666"];this.callSuper(b,h);this["x"===b.axis?"setY":"setX"](b.thumbOffset);this.syncTo(b,"setDisabled","disabled");b._syncThumbToValue(this,
b.getValue())},setDisabled:function(b){this.callSuper(this.valueFromEvent(b))},setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b.syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b.syncValueToThumb(this))},requestDragPosition:function(b,h){if(!this.disabled){var n=this.parent;const f=n.getMinPixelValueForThumb(this),q=n.getMaxPixelValueForThumb(this);
"x"===n.axis?(n=this.width/2,h="setX"):(n=this.height/2,b=h,h="setY");this[h](r(p(b,f-n),q-n))}},doActivationKeyDown:function(b,h){const n=this.parent;switch(b){case 37:n.nudgeValueLeft(this);break;case 38:n.nudgeValueUp(this);break;case 39:n.nudgeValueRight(this);break;case 40:n.nudgeValueDown(this)}this.callSuper(b,h)}}),d=l.BaseSlider=new v("BaseSlider",g,{include:[l.Disableable],initNode:function(b,h){a(h,"axis","x");"x"===h.axis?(a(h,"width",100),a(h,"height",18)):(a(h,"width",18),a(h,"height",
100));a(h,"bgColor","#999");a(h,"roundedCorners",9);a(h,"trackInset",9);a(h,"trackOutset",9);a(h,"thumbWidth",16);a(h,"thumbHeight",16);a(h,"thumbOffset",1);a(h,"nudgeAmount",1);this.callSuper(b,h)},setAxis:function(b){this.axis=b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setNudgeAmount:function(b){this.nudgeAmount=
b},convertValueToPixels:function(b){const h=this.minValue,n=this.trackInset;return n+(("x"===this.axis?this.width:this.height)-n-this.trackOutset)/(this.maxValue-h)*(b-h)},convertPixelsToValue:function(b){const h=this.minValue,n=this.trackInset;return(this.maxValue-h)/(("x"===this.axis?this.width:this.height)-n-this.trackOutset)*(b-n)+h},nudgeValueLeft:function(b){this._nudge(b,!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,
!0)},_nudge:(b,h)=>{},_syncThumbToValue:function(b,h){h=this.convertValueToPixels(h);"x"===this.axis?b.setX(h-b.width/2):b.setY(h-b.height/2)},syncValueToThumb:function(b){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(b,this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2)),this.__lockSync=!1)},_syncValueToThumb:(b,h)=>{},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}});
l.RangeSlider=new v("RangeSlider",d,{include:[l.BoundedRangeComponent],initNode:function(b,h){this.callSuper(b,h);b=new g(this,{name:"rangeFill",bgColor:"#666"});"x"===this.axis?(b.setY(this.thumbOffset),b.setHeight(this.thumbHeight),b.setRoundedCorners(this.thumbHeight/2)):(b.setX(this.thumbOffset),b.setWidth(this.thumbWidth),b.setRoundedCorners(this.thumbWidth/2));new c(this,{name:"thumbLower"});new c(this,{name:"thumbUpper"});this._syncRangeFillToValue()},setValue:function(b){this.callSuper(b);
this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b,h){const n=this.width;this.callSuper(b,h);this.inited&&"x"===this.axis&&this.width!==n&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},setHeight:function(b,h){const n=this.height;this.callSuper(b,h);this.inited&&"y"===this.axis&&this.height!==n&&(b=this.getValue(),
this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var h=this.getValue();const n=this.convertValueToPixels(h.lower);h=this.convertValueToPixels(h.upper)-n;"x"===this.axis?(b.setX(n),b.setWidth(h)):(b.setY(n),b.setHeight(h))},_syncThumbToValue:function(b,h){this.callSuper(b,"thumbLower"===b.name?h.lower:h.upper)},_syncValueToThumb:function(b,h){let n=this.getValueCopy();n["thumbLower"===b.name?"lower":"upper"]=
h;this.setValue(n);n=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,n);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,n)},_nudge:function(b,h){const n=this.getValueCopy();h=this.nudgeAmount*(h?1:-1);"thumbLower"===b.name?n.lower=r(n.lower+h,n.upper):n.upper=p(n.upper+h,n.lower);this.setValue(n)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===b.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===
b.name?this.getValue().upper:this.maxValue)}});l.Slider=new v("Slider",d,{include:[l.BoundedValueComponent],initNode:function(b,h){this.callSuper(b,h);new c(this,{name:"thumb"})},setValue:function(b){this.callSuper(b);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b,h){const n=this.width;this.callSuper(b,h);this.inited&&"x"===this.axis&&this.width!==n&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b,h){const n=this.height;
this.callSuper(b,h);this.inited&&"y"===this.axis&&this.height!==n&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b,h){this.setValue(h);this._syncThumbToValue(b,this.getValue())},_nudge:function(b,h){this.setValue(this.getValue()+this.nudgeAmount*(h?1:-1))}})})(myt);
(l=>{const v=JS.Class,r=l.AccessorSupport.defAttr,p=a=>{const c="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,c,a.parent,c])},g=new v("BaseDivider",l.SimpleButton,{include:[l.BoundedValueComponent,l.Draggable],initNode:function(a,c){r(c,"activeColor","#bbb");r(c,"hoverColor","#ddd");r(c,"readyColor","#ccc");r(c,"axis","x");r(c,"minValue",0);r(c,"value",c.minValue);r(c,"expansionState",2);r(c,"focusIndicator",!1);r(c,"repeatKeyDown",!0);r(c,"activationKeys",[37,38,
39,40,13,32]);"y"===c.axis?(r(c,"height",6),r(c,"cursor","row-resize")):(r(c,"width",6),r(c,"cursor","col-resize"));this.quickSet(["axis"],c);this.__nudgeAcc=1;this.callSuper(a,c);null==c.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&p(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=
a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):p(this)))},setAxis:function(a){this.inited?console.warn("Axis not updatable after instantiation"):this.axis=a},setValue:function(a,c){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);c&&this.setRestoreValue(a)},__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,c){this.callSuper(a,
c);switch(a){case 37:case 38:a=-1;break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=c?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const a=this.restoreValue,c=this.maxValue,d=this.minValue;let b;switch(this.expansionState){case 0:null!=a&&(this.setExpansionState(1),a===d?a!==c&&this.doPrimaryAction():b=a);break;case 1:null!=c&&(this.setExpansionState(3),this.value===c?this.doPrimaryAction():
b=c);break;case 2:null!=d&&(this.setExpansionState(0),this.value===d?this.doPrimaryAction():b=d);break;case 3:null!=a&&(this.setExpansionState(2),a===c?this.doPrimaryAction():b=a)}null!=b&&(this.stopActiveAnimators("value"),this.animateOnce("value",b,null,250))},requestDragPosition:function(a,c){this.disabled||(this.setValue("y"===this.axis?c:a,!0),this.setExpansionState(2))}});l.HorizontalDivider=new v("HorizontalDivider",g,{initNode:function(a,c){c.axis="x";this.callSuper(a,c)}});l.VerticalDivider=
new v("VerticalDivider",g,{initNode:function(a,c){c.axis="y";this.callSuper(a,c)}})})(myt);
(l=>{let v=0;const r=JS.Class,p=JS.Module,g=Math.min,a=Math.max,c=l.View,d=l.AccessorSupport.defAttr,b=m=>{const y=m.columnHeaders;var A=m.sort;const H=A?A[0]:"";A=A?A[1]:"";let I=y.length;for(;I;){const J=y[--I];J.columnId===H?J.sortable&&J.setSortState(A):J.setSortState("none")}m.locked||m.doSort()},h=(m,y,A,H)=>{if(0!==y){const O=0<y,W=[];for(var I=m.length,J;I;)J=m[--I],J.resizable&&(A?0<J.flex:0===J.flex)&&W.push({hdr:J,limit:(O?J.maxValue:J.minValue)-J.value,amt:0});m=W.length;if(0<m){for(I=
0;0!==y;){v>=m&&(I=v=0);const Q=W[v];J=Q.hdr;Q.full?++I:(O?(J=g(A?J.flex:1,y),Q.amt+J>Q.limit&&(J=Q.limit-Q.amt,Q.full=!0)):(J=a(A?-J.flex:-1,y),Q.amt+J<Q.limit&&(J=Q.limit-Q.amt,Q.full=!0)),Q.amt+=J,y-=J);if(I===m)break;++v}W.forEach(Q=>{Q.hdr.setValue(Q.hdr.value+Q.amt)});H&&H(y)}}},n=m=>(m=m.gridController?m.gridController.getPrevHdr(m):null)?m.maxValue-m.value+n(m):0,f=m=>(m=m.gridController?m.gridController.getNextHdr(m):null)?m.maxValue-m.value+f(m):0,q=m=>(m=m.gridController?m.gridController.getPrevHdr(m):
null)?m.minValue-m.value+q(m):0,e=m=>(m=m.gridController?m.gridController.getNextHdr(m):null)?m.minValue-m.value+e(m):0,u=(m,y)=>{m=m.gridController?m.gridController.getPrevHdr(m):null;var A=0;if(m){A=m.value+y;m.resizable&&m.setValue(A);const H=A-m.value;A=y-H;0>H&&(A+=u(m,H))}return A},w=(m,y)=>{m=m.gridController?m.gridController.getPrevHdr(m):null;var A=0;if(m){A=m.value+y;m.resizable&&m.setValue(A);const H=A-m.value;A=y-H;0<H&&(A+=w(m,H))}return A},k=(m,y)=>{if(m=m.gridController?m.gridController.getNextHdr(m):
null)y=m.value+y,m.resizable&&m.setValue(y),y-=m.value,0>y&&k(m,y)},x=(m,y)=>{if(m=m.gridController?m.gridController.getNextHdr(m):null)y=m.value+y,m.resizable&&m.setValue(y),y-=m.value,0<y&&x(m,y)},C=m=>{let y="";if(m.sortable)switch(m.sortState){case "ascending":y="chevron-up";break;case "descending":y="chevron-down"}m.sortIcon.setIcon(y)},z=m=>{const y=m.textView;y&&y.setWidth(m.width-m.outset-y.x)},B=l.GridController=new p("GridController",{initNode:function(m,y){this.columnHeaders=[];this.rows=
[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(m,y);this.fitHeadersToWidth();b(this)},setMaxWidth:function(m){this.set("maxWidth",m,!0)},setMinWidth:function(m){this.set("minWidth",m,!0)},setFitToWidth:function(m){this.fitToWidth=m},setSort:function(m){l.areArraysEqual(m,this.sort)||(this.sort=m,this.inited&&(this.fireEvent("sort",m),b(this)))},setLastColumn:function(m){const y=this.lastColumn;y!==m&&(y&&y.setLast(!1),(this.lastColumn=m)&&m.setLast(!0))},
setLocked:function(m){this.locked=m;this.inited&&!m&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.__skipInvisibleHeaders=!0,this.columnHeaders.forEach(y=>{this.notifyHdrXChange(y);this.notifyHdrWidthChange(y);this.notifyHdrVisibilityChange(y)}),this.__skipInvisibleHeaders=!1,this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(m){m=this.valueFromEvent(m);this.gridWidth!==m&&(this.gridWidth=m,
this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevHdr:function(m){const y=this.columnHeaders;m=this.getHdrIndex(m);if(0<m)for(;m;){const A=y[--m];if(A.visible)return A}},getNextHdr:function(m){const y=this.columnHeaders,A=y.length;m=this.getHdrIndex(m)+1;if(0<m&&m<A)for(;A>m;){const H=y[m++];if(H.visible)return H}},hasHdr:function(m){return 0<=this.getHdrIndex(m)},getHdrIndex:function(m){return this.columnHeaders.indexOf(m)},getHdrById:function(m){const y=this.columnHeaders;let A=y.length;
for(;A;){const H=y[--A];if(H.columnId===m)return H}},getVisibleHdrs:function(){return this.columnHeaders.filter(m=>m.visible)},notifyAddHdr:function(m){this.hasHdr(m)||(this.columnHeaders.push(m),m.visible&&this.setLastColumn(m),this.fixupResizerCursors())},notifyRemoveHdr:function(m){const y=this.getHdrIndex(m);0<=y&&(this.columnHeaders.splice(y,1),m.visible&&m.last&&this.setLastColumn(this.getPrevHdr(m)),this.fixupResizerCursors())},notifyHdrXChange:function(m){this.isLocked()||this.rows.forEach(y=>
{y.notifyHdrXChange(m)})},notifyHdrWidthChange:function(m){this.isLocked()||this.rows.forEach(y=>{y.notifyHdrWidthChange(m)})},notifyHdrVisibilityChange:function(m){if((!this.__skipInvisibleHeaders||m.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(m);var y=this.setLastColumn;a:{var A=this.columnHeaders;let H=A.length;for(;H;){const I=A[--H];if(I.visible){A=I;break a}}A=void 0}y.call(this,A);y=m.visible?1:-1;this.setMaxWidth(this.maxWidth+m.maxValue*y);this.setMinWidth(this.minWidth+
m.minValue*y);this.fitHeadersToWidth();this.fixupResizerCursors()}},updateRowsForVisibilityChange:function(m){this.rows.forEach(y=>{y.notifyHdrVisibilityChange(m)})},hasRow:function(m){return 0<=this.getRowIndex(m)},getRowIndex:function(m){return this.rows.indexOf(m)},getRowById:function(m,y=A=>A.model.id===m){return this.rows.find(y)},getPrevRow:function(m){m=this.getRowIndex(m)-1;return this.rows[0>m?this.rows.length-1:m]},getNextRow:function(m){m=this.getRowIndex(m)+1;return this.rows[m<this.rows.length?
m:0]},notifyAddRow:function(m,y){if(!this.hasRow(m)&&(this.rows.push(m),!this.locked)){const A=this.width;this.columnHeaders.forEach(H=>{m.setWidth(A);m.notifyHdrXChange(H);m.notifyHdrWidthChange(H);m.notifyHdrVisibilityChange(H)});y||this.doSort()}},notifyRemoveRow:function(m){m=this.getRowIndex(m);0<=m&&this.rows.splice(m,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const m=this.getVisibleHdrs();let y=0;m.forEach(A=>{y=a(y,A.x+A.width)});h(m,this.gridWidth-y,!0,A=>{h(m,A,!1,
null)})}},fixupResizerCursors:function(){const m=this.getVisibleHdrs();let y=!0,A=0;m.forEach((O,W)=>{y&&O.isFixed()?O.setResizerCursor("",!0):(y&&(A=W),y=!1,O.restoreResizerCursor())});let H=!0,I=m.length,J=I-1;for(;I>A;){const O=m[--I];H?O.setResizerCursor("",!0):O.restoreResizerCursor();O.isFixed()||(H&&(J=I),H=!1)}A===J&&m[A].setResizerCursor("",!0)}}),D=l.GridColHdr=new p("GridColHdr",{include:[l.BoundedValueComponent],initNode:function(m,y){const A=this;d(y,"resizerCursor","col-resize");let H=
y.resizerCursor;delete y.resizerCursor;d(y,"minValue",16);d(y,"maxValue",9999);d(y,"value",y.minValue);d(y,"resizable",!0);d(y,"flex",0);d(y,"cellXAdj",0);d(y,"cellWidthAdj",0);d(y,"sortable",!0);d(y,"sortState","none");d(y,"placement","*");A.callSuper(m,y);const I=A.gridController;A.resizer=new c(A,{cursor:H,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[l.SizeToParent,l.Draggable,{requestDragPosition:function(J,O){O=J-this.x;if(I.fitToWidth&&(0<
O?O=g(O,g(-e(A),A.maxValue-A.value+n(A))):0>O&&(O=a(O,a(-f(A),A.minValue-A.value+q(A)))),0===O))return;J=A.value+O;A.resizable&&A.setValue(J);J-=A.value;O=J-O;let W=0;0>J?W=u(A,J):0<J&&(W=w(A,J));this.dragInitX+=W;O-=W;I.fitToWidth&&(0>O?k(A,O):0<O&&x(A,O))}}]);I&&(I.notifyAddHdr(A),I.notifyHdrXChange(A),I.notifyHdrVisibilityChange(A));A.setWidth(A.value);A.resizer.setVisible(!(A.last&&A.gridController.fitToWidth))},destroy:function(m){this.setGridController();this.callSuper(m)},setSortable:function(m){this.set("sortable",
m,!0)},setSortState:function(m){this.set("sortState",m,!0)},setResizable:function(m){this.set("resizable",m,!0)},setCellWidthAdj:function(m){this.cellWidthAdj=m},setCellXAdj:function(m){this.cellXAdj=m},setFlex:function(m){this.flex=m},setColumnId:function(m){this.columnId=m},setResizerCursor:function(m,y){const A=this.resizer,H=A.cursor;m!==H&&(y&&(this.__rrc=H),A.setCursor(m))},restoreResizerCursor:function(){const m=this.__rrc;m&&(this.setResizerCursor(m),this.__rrc=null)},isFixed:function(){return this.minValue===
this.maxValue},setLast:function(m){this.last=m;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(m){const y=this.gridController;y!==m&&(y&&y.notifyRemoveHdr(this),this.gridController=m,this.inited&&m&&(m.notifyAddHdr(this),m.notifyHdrXChange(this),m.notifyHdrWidthChange(this),m.notifyHdrVisibilityChange(this)))},setValue:function(m){this.callSuper(m);this.inited&&this.setWidth(this.value)},setMinValue:function(m){const y=this.minValue||
0,A=this.gridController;this.callSuper(m);A&&this.inited&&y!==this.minValue&&A.setMinWidth(A.minWidth+this.minValue-y)},setMaxValue:function(m){const y=this.maxValue||0,A=this.gridController;null==m&&(m=9999);this.callSuper(m);A&&this.inited&&y!==this.maxValue&&A.setMaxWidth(A.maxWidth+this.maxValue-y)},setWidth:function(m,y){const A=this.width,H=this.gridController;this.callSuper(m,y);H&&this.inited&&A!==this.width&&H.notifyHdrWidthChange(this)},setX:function(m){const y=this.x,A=this.gridController;
this.callSuper(m);A&&this.inited&&y!==this.x&&A.notifyHdrXChange(this)},setVisible:function(m){const y=this.visible,A=this.gridController;this.callSuper(m);this.inited&&A&&y!==this.visible&&A.notifyHdrVisibilityChange(this)}}),t=l.GridRow=new p("GridRow",{initNode:function(m,y){d(y,"placement","*");this.callSuper(m,y);(m=this.gridController)&&m.notifyAddRow(this)},destroy:function(m){this.setGridController();this.callSuper(m)},setGridController:function(m){const y=this.gridController;y!==m&&(y&&y.notifyRemoveRow(this),
this.gridController=m,this.inited&&m&&m.notifyAddRow(this))},notifyHdrXChange:function(m){const y=this[m.columnId+"View"];y&&y.setX(m.x+m.cellXAdj)},notifyHdrWidthChange:function(m){const y=this[m.columnId+"View"];y&&y.setWidth(m.width+m.cellWidthAdj)},notifyHdrVisibilityChange:function(m){const y=this[m.columnId+"View"];y&&y.setVisible(m.visible)}});l.Grid=new r("Grid",c,{include:[B],initNode:function(m,y){const A=l.SpacedLayout;d(y,"overflow","autox");d(y,"bgColor","#ccc");d(y,"rowSpacing",1);d(y,
"columnSpacing",1);var H=y.isAutoScrolling;delete y.isAutoScrolling;this.callSuper(m,y);m=new c(this,{name:"header",overflow:"hidden"});new A(m,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new l.SizeToChildren(m,{name:"yLayout",locked:!0,axis:"y"});y=this.sizeHeightToRows;H=new c(this,{name:"content",overflow:y?"hidden":"autoy"},H?[l.AutoScroller]:[]);new A(H,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:y});this.syncTo(this,"setGridWidth","width");
this.syncTo(m,"_updateContentWidth","width");this.constrain("_updateContentHeight",[y?H:this,"height",m,"height",m,"y"])},setSizeHeightToRows:function(m){this.sizeHeightToRows=m},setRowSpacing:function(m){this.rowSpacing!==m&&(this.rowSpacing=m,this.inited&&this.content.yLayout.setSpacing(m))},setColumnSpacing:function(m){this.columnSpacing!==m&&(this.columnSpacing=m,this.inited&&this.header.xLayout.setSpacing(m))},setLocked:function(m){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(y=>
{m?y.incrementLockedCounter():(y.decrementLockedCounter(),y.update())});this.callSuper(m)},_updateContentWidth:function(m){const y=this.content,A=m.value;y.setWidth(A);y.getSubviews().forEach(H=>{H.setWidth(A)})},_updateContentHeight:function(m){var y=this.header;m=this.content;y=y.y+y.height;m.setY(y);this.sizeHeightToRows?this.setHeight(y+m.height):m.setHeight(this.height-y)},determinePlacement:function(m,y){if("*"===m){let A;y.isA(t)?A=this.content:y.isA(D)&&(A=this.header);if(A)return y.gridController!==
this&&y.setGridController(this),A}return this.callSuper(m,y)},doSort:function(){var m=this.sort||["",""];if(m=this.getSortFunction(m[0],m[1])){const y=this.content,A=y.yLayout;this.rows.sort(m);y.sortSubviews(m);A.sortSubviews(m);A.update()}},getSortFunction:(m,y)=>{if(m){const A="ascending"===y?1:-1,H=m+"View";return(I,J)=>{I=I[H].text;J=J[H].text;return I>J?A:J>I?-A:0}}}});l.SimpleGridColHdr=new r("SimpleGridColHdr",l.SimpleTextButton,{include:[D],initNode:function(m,y){const A=this;d(y,"activeColor",
"#999");d(y,"hoverColor","#bbb");d(y,"readyColor","#aaa");d(y,"inset",2);d(y,"sortIconColor","#666");d(y,"outset",2);const H=y.outset;delete y.outset;A.callSuper(m,y);new l.FontAwesome(A,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:A.sortIconColor},[{initNode:function(I,J){this.callSuper(I,J);this.getIDS().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();A.setOutset(this.width+H);z(A)}}]);A.textView.enableEllipsis();A.setDisabled(!A.sortable);z(A);C(A)},setSortIconColor:function(m){this.sortIconColor=
m;this.sortIcon&&this.sortIcon.setTextColor(m)},setSortable:function(m){this.callSuper(m);this.inited&&(m&&this.setOutset(14),this.setDisabled(!m),C(this))},setSortState:function(m){this.callSuper(m);this.inited&&C(this)},setWidth:function(m,y){this.callSuper(m,y);this.inited&&z(this)},doActivated:function(){this.disabled||(this.setSortState("ascending"===this.sortState?"descending":"ascending"),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,
1)}})})(myt);
(l=>{const v=JS.Class,r=JS.Module,p=Math,g=p.max,a=l.View,c=l.global.focus,d=l.AccessorSupport.defAttr,b=k=>{const x=k.selectedRow;x&&(x.setSelected(!1),k.set("selectedRow",null,!0))},h=l.InfiniteListRow=new r("InfiniteListRow",{include:[l.Reusable],setInfiniteOwner:function(k){this.infiniteOwner=k},setModel:function(k){this.model=k},setClassKey:function(k){this.classKey=k},notifyRefreshed:()=>{}}),n=l.SelectableInfiniteListRow=new r("SelectableInfiniteListRow",{include:[h,l.Selectable]}),f=l.InfiniteList=
new v("InfiniteList",a,{initNode:function(k,x){let C=x.rowClasses;delete x.rowClasses;if("function"===typeof C){const z={};z["default"]=C;C=z}d(x,"modelIDName","id");d(x,"numericSort",!0);d(x,"ascendingSort",!0);d(x,"overflow","autoy");d(x,"bgColor","#ccc");d(x,"rowSpacing",1);d(x,"rowInset",0);d(x,"rowOutset",0);d(x,"rowHeight",30);d(x,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(k,x);
k=this._listView=new a(this);this._scrollAnchorView=new a(k,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(C,k);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(k,x)=>new l.TrackActivesMultiPool(k,x),setOverscrollBehavior:function(k){this.overscrollBehavior=k;this.getIDS().overscrollBehavior=k},setCollectionModel:function(k){this.collectionModel=k},setModelIDName:function(k){this.modelIDName=k},setRowSpacing:function(k){this.rowSpacing=
k;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(k){this.rowHeight=k;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(k,x){if(0<k&&(this.callSuper(k,x),this.inited)){k=this._listView;const C=this.width;k.setWidth(C);k.getSubviews().forEach(z=>{z.setWidth(C)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},
getSortFunction:function(){const k=this.modelIDName,x=this.ascendingSort;return this.numericSort?l.getNumericObjSortFunc(k,x):l.getAlphaObjSortFunc(k,x,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(k){var x=this.getIndexOfModelInData(k);if(0<=x){var C=this._rowExtent;k=this.getIDE().scrollTop;const z=k+this.height;x=this.rowInset+x*C;C=x+C;if(x<=k)return this.scrollYTo(x,!0),!0;if(C>=z)return this.scrollYTo(C-this.height,!0),!0}return!1},isModelInData:function(k){return 0<=this.getIndexOfModelInData(k)},
getNextModel:function(k,x=!0,C=!0){const z=this.getListData(),B=z.length;k=this.getIndexOfModelInData(k);if(0<=k)return k+=1,k>=B?x?z[0]:z[B-1]:z[k];if(C&&0<B)return z[B-1]},getPrevModel:function(k,x=!0,C=!0){const z=this.getListData(),B=z.length;k=this.getIndexOfModelInData(k);if(0<=k)return--k,0>k?x?z[B-1]:z[0]:z[k];if(C&&0<B)return z[0]},getIndexOfModelInData:function(k){if(k){const x=this.getListData();let C=x.length;for(;C;)if(this.areModelsEqual(x[--C],k))return C}return-1},areModelsEqual:function(k,
x){const C=this.modelIDName;return k[C]===x[C]},getActiveRowForModel:function(k){if(k){const x=this._itemPool.getActives();let C=x.length;for(;C;){const z=x[--C];if(this.areModelsEqual(z.model,k))return z}}},refreshListData:function(k,x){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(k,x)},resetListUI:function(k,x){const C=this.getListData().length,z=this._listView,B=this._scrollAnchorView;z.setHeight(C*this._rowExtent-(0<C?this.rowSpacing:
0)+this.rowInset+this.rowOutset);B.setY(z.height-B.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=x;k||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(k){var x=c.focusedView;x&&x.isDescendantOf(k)&&((x=this.getFocusTrap())?x.focus():c.clear());k.setVisible(!1);this._itemPool.putInstance(k)},refreshListUI:function(k){k=this._rowExtent;const x=this.rowInset,C=this.forceFullResetOnNextRefresh;var z=this.getIDE().scrollTop;const B=
this.getListData()||[];var D=g(0,p.floor((z-x)/k));z=p.min(B.length,p.ceil((z-x+this.height)/k));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==D||this._endIdx!==z||C){const m=this.width,y=this.rowHeight,A=this._visibleRowsByIdx;this._startIdx=D;this._endIdx=z;for(var t in A)if(t<D||t>=z)this.putRowBackInPool(A[t]),delete A[t];for(t=D;t<z;t++){D=A[t];const H=B[t],I=this.getClassKey(H);let J=!1;D&&D.classKey===I||(D&&this.putRowBackInPool(D),A[t]=D=this._itemPool.getInstance(I),
D.setInfiniteOwner(this),D.setClassKey(I),D.setWidth(m),D.setHeight(y),D.setY(x+t*k),D.setVisible(!0),J=!0);!C&&D.model&&this.areModelsEqual(D.model,H)?J&&this.updateRow(D):(D.setModel(H),this.updateRow(D));D.notifyRefreshed();D.bringToFront()}}},getClassKey:k=>"default",updateRow:k=>{}}),q=l.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",l.SimpleButton,{include:[n],initNode:function(k,x){d(x,"selectedColor","#ccf");d(x,"activeColor","#f8f8f8");d(x,"hoverColor","#eee");d(x,
"readyColor","#fff");d(x,"focusIndicator",!1);d(x,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(k,x)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(k){this.callSuper(k);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();
this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(k,x){x=this.infiniteOwner;const C=this.model;switch(k){case 27:this.selected&&x.setSelectedRow();break;case 37:case 38:x.selectPrevRowForModel(C);break;case 39:case 40:x.selectNextRowForModel(C)}},doActivationKeyUp:function(k){switch(k){case 13:case 32:this.doActivated()}}}),e=l.SelectableInfiniteList=new v("SelectableInfiniteList",f,{setSelectedRow:function(k){const x=this.selectedRow;k!==x&&(x&&x.setSelected(!1),this.setSelectedRowModel(),
this.set("selectedRow",k,!0),k&&(this.setSelectedRowModel(k.model),k.setSelected(!0)))},setSelectedRowModel:function(k){this.set("selectedRowModel",k,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(k,x,C){k&&(b(this),this.setSelectedRowModel(k),this.refreshListUI(),x&&(k=this.getActiveSelectedRow())&&k.focus())},selectNextRowForModel:function(k,x=!0){this.selectRowForModel(this.getNextModel(k),
x,!0)},selectPrevRowForModel:function(k,x=!0){this.selectRowForModel(this.getPrevModel(k),x,!1)},resetListUI:function(k,x){this.isModelInData(this.selectedRowModel)?b(this):this.setSelectedRow();this.callSuper(k,x)},putRowBackInPool:function(k){k.selected&&b(this);this.callSuper(k)},refreshListUI:function(k){k=c.focusedView;this.callSuper();const x=this.getActiveSelectedRow();x&&(this.set("selectedRow",x,!0),x.setSelected(!0),k&&k!==x||x.focus(!0))}}),u=new r("InfiniteGridRowMixin",{notifyXChange:function(k){const x=
this[k.columnId+"View"];x&&x.setX(k.x+k.cellXAdj)},notifyWidthChange:function(k){const x=this[k.columnId+"View"];x&&x.setWidth(k.width+k.cellWidthAdj)},notifyVisibilityChange:function(k){const x=this[k.columnId+"View"];x&&x.setVisible(k.visible)}}),w=new r("InfiniteGridMixin",{setGridHeader:function(k){(this.gridHeader=k)&&k.setGrid(this)},makeReady:function(k,x){const C=this.gridHeader;C?(this.forceFullResetOnNextRefresh=x,C.setSort(k),C.setLocked(!1)):this.refreshListData(!1,x)},getSortFunction:function(){var k=
this.gridHeader.sort||["",""];const x=k[0];k=k[1];return x?l.getAlphaObjSortFunc(x,"ascending"===k,!1):this.callSuper()},updateRow:function(k){this.gridHeader&&this.gridHeader.columnHeaders.forEach(x=>{k.notifyXChange(x);k.notifyWidthChange(x);k.notifyVisibilityChange(x)})},notifyXChange:function(k){this.getVisibleRows().forEach(x=>{x.notifyXChange(k)})},notifyWidthChange:function(k){this.getVisibleRows().forEach(x=>{x.notifyWidthChange(k)})},notifyVisibilityChange:function(k){this.getVisibleRows().forEach(x=>
{x.notifyVisibilityChange(k)})}});l.InfiniteGridRow=new r("InfiniteGridRow",{include:[h,u]});l.SelectableInfiniteGridRow=new r("SelectableInfiniteGridRow",{include:[n,u]});l.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",q,{include:[u]});l.InfiniteGrid=new v("InfiniteGrid",f,{include:[w]});l.SelectableInfiniteGrid=new v("InfiniteGrid",e,{include:[w]});l.InfiniteGridHeader=new v("InfiniteGridHeader",a,{include:[l.GridController],initNode:function(k,x){d(x,"columnSpacing",1);
x.overflow="hidden";this.callSuper(k,x);new l.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(k){this.grid=k},setColumnSpacing:function(k){this.columnSpacing=k},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:g(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setHeight:function(k,x){this.callSuper(k,x);this.inited&&(k=this.height,this.columnHeaders.forEach(C=>{C.setHeight(k)}))},setWidth:function(k,x){this.callSuper(g(this.minWidth,k),x);this.inited&&(k=this.width,
this.setGridWidth(k),this.grid.setWidth(k))},subviewAdded:function(k){this.callSuper(k);k.isA(l.GridColHdr)&&(k.setGridController(this),k.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},notifyHdrXChange:function(k){this.isLocked()||this.grid.notifyXChange(k)},notifyHdrWidthChange:function(k){this.isLocked()||this.grid.notifyWidthChange(k)},updateRowsForVisibilityChange:function(k){this.grid.notifyVisibilityChange(k)}})})(myt);
(l=>{const v=JS.Class,r=l.AccessorSupport.defAttr,p=l.PanelStackTransition=new v("PanelStackTransition",l.Node,{to:g=>Promise.resolve(g),from:g=>Promise.resolve(g)});l.PanelStack=new v("PanelStack",l.View,{include:[l.SelectionManager],initNode:function(g,a){a.overflow="hidden";r(a,"itemSelectionId","panelId");r(a,"maxSelected",1);this.callSuper(g,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(g){this.set("transition",g,!0)},__updateWidth:function(g){const a=
this.getActivePanel();a&&a.setWidth(g.value)},__updateHeight:function(g){const a=this.getActivePanel();a&&a.setHeight(g.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(g){return this.getSelectableItem(g)},selectPanel:function(g){this.selectById(g)},doSelected:function(g){g.setWidth(this.width);g.setHeight(this.height)},doStackTransition:function(g){this["doStackTransition"+(g.selected?"To":"From")](g)},doStackTransitionTo:function(g){const a=this;a.doBeforeTransitionTo(g);
const c=a.transition;c?c.to(g).then(d=>{a.doAfterTransitionTo(d)}):(g.makeHighestZIndex(),g.setVisible(!0),a.doAfterTransitionTo(g))},doBeforeTransitionTo:g=>{},doAfterTransitionTo:g=>{},doStackTransitionFrom:function(g){const a=this;a.doBeforeTransitionFrom(g);const c=a.transition;c?c.from(g).then(d=>{a.doAfterTransitionFrom(d)}):(g.setVisible(!1),a.doAfterTransitionFrom(g))},doBeforeTransitionFrom:g=>{},doAfterTransitionFrom:g=>{}});l.StackablePanel=new JS.Module("StackablePanel",{include:[l.Selectable],
initNode:function(g,a){a.visible=a.selected=!1;r(a,"bgColor","#fff");r(a,"panelId",a.name);this.callSuper(g,a);this.selected&&this.doStackTransition()},setPanelStack:function(g){this.panelStack=g},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(g){this.panelId=g},setSelected:function(g){this.selected!==g&&(this.callSuper(g),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});l.PanelStackFadeTransition=
new v("PanelStackFadeTransition",p,{initNode:function(g,a){r(a,"duration",1E3);this.callSuper(g,a)},setDuration:function(g){this.duration=g},to:function(g){return new Promise((a,c)=>{g.stopActiveAnimators("opacity");g.setVisible(!0);g.animate({attribute:"opacity",to:1,duration:this.duration}).next(d=>{g.makeHighestZIndex();a(g)})})},from:function(g){return new Promise((a,c)=>{g.stopActiveAnimators("opacity");g.animate({attribute:"opacity",to:0,duration:this.duration}).next(d=>{g.setVisible(!1);a(g)})})}});
l.PanelStackSlideTransition=new v("PanelStackSlideTransition",p,{initNode:function(g,a){r(a,"duration",1E3);r(a,"direction","right");this.callSuper(g,a)},setDuration:function(g){this.duration=g},setDirection:function(g){this.direction=g},to:function(g){const a=g.getPanelStack(),c=this.duration;let d,b;switch(this.direction){case "left":b="x";d=a.width;break;case "right":b="x";d=-a.width;break;case "up":b="y";d=a.height;break;case "down":b="y",d=-a.height}g.stopActiveAnimators(b);g.set(b,d);g.setVisible(!0);
return new Promise((h,n)=>{n=f=>{g.makeHighestZIndex();h(g)};0<c?g.animate({attribute:b,to:0,duration:c}).next(n):(g.set(b,0),g.makeHighestZIndex(),h(g))})},from:function(g){const a=g.getPanelStack(),c=this.duration;let d,b;switch(this.direction){case "left":b="x";d=-a.width;break;case "right":b="x";d=a.width;break;case "up":b="y";d=-a.height;break;case "down":b="y",d=a.height}g.stopActiveAnimators(b);return new Promise((h,n)=>{n=f=>{g.setVisible(!1);h(g)};0<c?g.animate({attribute:b,to:d,duration:c}).next(n):
(g.set(b,d),g.setVisible(!1),h(g))})}})})(myt);
(l=>{const v=JS.Module;var r=l.global;const p=r.dragManager,g=r.mouse;r=l.Draggable;const a=(d,b,h)=>{[b,h].forEach(n=>{d["__is"+n]=!1;d["__tmrId"+n]=null})},c=l.DragGroupSupport=new v("DragGroupSupport",{initNode:function(d,b){this.__dgs={"*":!0};this.__any=!0;this.callSuper(d,b)},setDragGroups:function(d){const b=this.__dgs={};for(const h in d)b[h]=!0;this.__any=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},addDragGroup:function(d){d&&(this.__dgs[d]=!0,"*"===d&&(this.__any=
!0))},removeDragGroup:function(d){d&&(delete this.__dgs[d],"*"===d&&(this.__any=!1))},acceptAnyDragGroup:function(){return this.__any}});l.DropSource=new v("DropSource",{include:[r],initNode:function(d,b){this.defAttr(b,"distanceBeforeDrag",2);null==b.dropParent&&(b.dropParent=d.getRoot());this.callSuper(d,b)},setDropClass:function(d){this.dropClass=l.resolveClassname(d)},setDropClassAttrs:function(d){this.dropClassAttrs=d},setDropParent:function(d){this.dropParent=d},startDrag:function(d){const b=
this.dropable=this.makeDropable();if(b){const h=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(d);b.__doMouseDown(d);b.distanceBeforeDrag=h}},doMouseUp:function(d){this.callSuper(d);const b=this.dropable;b&&(b.__doMouseUp(d),b.doMouseUp(d),this.dropable=null)},makeDropable:function(){const d=this.dropClass,b=this.dropParent;if(d&&b){const h=l.DomElementProxy.getRelativePosition(this.getIDE(),b.getIDE());return new d(b,Object.assign({},this.dropClassAttrs,{x:h.x||0,y:h.y||0}))}}});l.DropTarget=
new v("DropTarget",{include:[c],initNode:function(d,b){this.callSuper(d,b);p.registerDropTarget(this)},destroy:function(){p.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(d){return!this.disabled&&this.isVisible()},notifyDragStart:d=>{},notifyDragStop:d=>{},notifyDragEnter:d=>{},notifyDragLeave:d=>{},notifyDrop:d=>{}});l.Dropable=new v("Dropable",{include:[r,c],setDropTarget:function(d){this.dropTarget=d},setDropped:function(d){this.dropped=d},setDropFailed:function(d){this.dropFailed=
d},willPermitDrop:d=>!0,startDrag:function(d){this.setDropped(!1);this.setDropFailed(!1);p.startDrag(this);this.callSuper(d)},updateDrag:function(d){p.updateDrag(d,this);this.callSuper(d)},stopDrag:function(d,b){p.stopDrag(d,this,b);this.callSuper(d,b);b?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(d){this.setDropTarget(d)},notifyDragLeave:function(d){this.setDropTarget()},notifyDropped:function(d,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},
notifyDropFailed:()=>{},notifyDropAborted:()=>{}});l.AutoScroller=new v("AutoScroller",{include:[c],initNode:function(d,b){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(b,"overflow","auto");this.callSuper(d,b);p.registerAutoScroller(this)},destroy:function(){p.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(d){this.scrollBorder=Math.max(1,d)},setScrollFrequency:function(d){this.scrollFrequency=d},setScrollAmount:function(d){this.scrollAmount=
d},setScrollAcceleration:function(d){this.scrollAcceleration=d},notifyDragStart:function(d){d=this.getIDE();(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&this.attachToDom(g,"__hndlMove","mousemove",!0)},notifyDragStop:function(d){this.detachFromDom(g,"__hndlMove","mousemove",!0);a(this,"Up","Down");a(this,"Left","Right")},__hndlMove:function(d){const b=this;var h=d.value;d=h.pageX;h=h.pageY;if(b.containsPoint(d,h)){const n=b.getPagePosition(),f=b.scrollBorder,q=(e,u)=>{b["__is"+e]&&
(b.getIDE()["scroll"+("Up"===e||"Down"===e?"Top":"Left")]+=u*b["__amt"+e],b["__tmrId"+e]=setTimeout(()=>{q(e,u)},b.scrollFrequency))};d-=n.x;h-=n.y;h<f?(b.__isUp=!0,b.__amtUp=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-h/f))),b.__tmrIdUp||q("Up",-1)):b.height-h<f?(b.__isDown=!0,b.__amtDown=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-(b.height-h)/f))),b.__tmrIdDown||q("Down",1)):a(b,"Up","Down");d<f?(b.__isLeft=!0,b.__amtLeft=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-d/
f))),b.__tmrIdLeft||q("Left",-1)):b.width-d<f?(b.__isRight=!0,b.__amtRight=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-(b.width-d)/f))),b.__tmrIdRight||q("Right",1)):a(b,"Left","Right")}else a(b,"Up","Down"),a(b,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(l,v){if(v){const r=v.length;for(let p=0,g;r>p;)(g=v[p++])?this.extend(g):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.init(l||{})},init:function(l){this.callSetters(l);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(l=>{const v=Math,r=l.Geometry.degreesToRadians,p=b=>{var h=r(b.startAngle),n=r(b.endAngle);if(h>n){var f=h;h=n;n=f}f=b.__path;const q=b.width/2;var e=b.thickness;const u=b.radius,w=u+e;var k=v.PI;const x=n-h,C=x+1E-4>=2*k;C&&(h=0,n=k);const z=v.cos,B=v.sin;h=[[q+w*z(h),q+w*B(h)],[q+w*z(n),q+w*B(n)],[q+u*z(n),q+u*B(n)],[q+u*z(h),q+u*B(h)]];n=["M"+h[0].join()];C?n.push("A"+[w,w,0,1,1,h[1]].join(),"A"+[w,w,0,1,1,h[0]].join(),"L"+h[2].join(),"A"+[u,u,0,1,0,h[3]].join(),"A"+[u,u,0,1,0,h[2]].join()):(k=
x%(2*k)>k?1:0,e/=2,n.push("A"+[w,w,0,k,1,h[1]].join(),b.endCapRounding?"A"+[e,e,0,0,1,h[2]].join():"L"+h[2].join(),"A"+[u,u,0,k,0,h[3]].join(),b.startCapRounding?"A"+[e,e,0,0,1,h[0]].join():""));n.push("z");f.setAttribute("d",n.join(" "));f.setAttribute("fill",b.color)},g=b=>{const h=2*(b.radius+b.thickness),n=b.__svg;b.setWidth(h);b.setHeight(h);n.setAttribute("viewBox","0 0 "+h+" "+h);n.setAttribute("width",h);n.setAttribute("height",h);p(b)},a=(b,h,n)=>{b[h]!==n&&(b[h]=n,b.inited&&(p(b),b.fireEvent(h,
n)))},c=(b,h,n)=>{b[h]!==n&&(b[h]=n=v.max(0,n),b.inited&&(g(b),b.fireEvent(h,n)))},d=(b,h)=>{b=document.createElementNS("http://www.w3.org/2000/svg",b);h&&h.appendChild(b);return b};l.Annulus=new JS.Class("Annulus",l.BackView,{initNode:function(b,h){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(b,h);g(this)},createOurDomElement:function(b){b=this.callSuper(b);var h=Array.isArray(b)?b[1]:b;h=this.__svg=d("svg",h);this.__path=
d("path",h);h.style.pointerEvents="none";return b},setRadius:function(b){c(this,"radius",b)},setThickness:function(b){c(this,"thickness",b)},setStartAngle:function(b){a(this,"startAngle",b)},setEndAngle:function(b){a(this,"endAngle",b)},setStartCapRounding:function(b){a(this,"startCapRounding",b)},setEndCapRounding:function(b){a(this,"endCapRounding",b)},setColor:function(b){a(this,"color",b)},isColorAttr:function(b){return"color"===b||this.callSuper(b)}})})(myt);
(l=>{let v;const r=JS.Class,p=l.global,g=p.mouse,a=p.windowResize,c=Math,d=c.min,b=c.max,h=c.round,n=l.AccessorSupport.defAttr,f=k=>{k.__checkTID&&(clearTimeout(k.__checkTID),delete k.__checkTID)},q=k=>{if(k.tooltip){const x=k._lastPos;if(k.tooltip.parent.containsPoint(x.x,x.y))return!0}k.hideTip();return!1},e=l.BaseTooltip=new r("BaseTooltip",l.View,{include:[l.RootView],extend:{TIP_DELAY:500,TIP_HIDE_DELAY:100},initNode:function(k,x){this.tipDelay=this.nextTipDelay=e.TIP_DELAY;this.tipHideDelay=
e.TIP_HIDE_DELAY;n(x,"visible",!1);this.callSuper(k,x)},setTooltip:function(k){this.inited&&(this.tooltip=k)&&(this.attachToDom(g,"__hndl_mousemove","mousemove",!0),this.attachToDom(k.parent,"hideTip","mousedown",!0),this.attachToDom(k.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(k){const x=this;x._lastPos=l.MouseObservable.getMouseFromEvent(k);q(x)&&(f(x),x.__checkTID=setTimeout(()=>{delete x.__checkTID;q(x)&&x.showTip()},x.nextTipDelay))},hideTip:function(k){f(this);k=this.tooltip.parent;
this.detachFromDom(k,"hideTip","mousedown",!0);this.detachFromDom(k,"hideTip","mouseup",!0);this.detachFromDom(g,"__hndl_mousemove","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){p.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),u=l.Tooltip=new r("Tooltip",e,{extend:{EDGE_SIZE:0,EDGE_COLOR:"#444",SHADOW_SIZE:2,SHADOW_COLOR:"#00000033",HORIZONTAL_INSET:6,VERTICAL_INSET:3,TIP_BG_COLOR:"#444",
TIP_TEXT_COLOR:"#eee"},initNode:function(k,x){n(x,"edgeSize",u.EDGE_SIZE);n(x,"edgeColor",u.EDGE_COLOR);n(x,"shadowSize",u.SHADOW_SIZE);n(x,"shadowColor",u.SHADOW_COLOR);n(x,"insetH",u.HORIZONTAL_INSET);n(x,"insetV",u.VERTICAL_INSET);n(x,"tipBgColor",u.TIP_BG_COLOR);n(x,"tipTextColor",u.TIP_TEXT_COLOR);this.callSuper(k,x);new l.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(k){this.edgeSize=k},setEdgeColor:function(k){this.edgeColor=
k},setShadowSize:function(k){this.shadowSize=k},setShadowColor:function(k){this.shadowColor=k},setInsetH:function(k){this.insetH=k},setInsetV:function(k){this.insetV=k},setTipBgColor:function(k){this.tipBgColor=k},setTipTextColor:function(k){this.tipTextColor=k},showTip:function(){const k=this.tooltip;var x=k.text;const C=k.parent;var z=this._tipText;const B=this.edgeSize,D=this.shadowSize;z.text!==x&&z.setText(x);z.setWidth("auto");var t=d(z.measureNoWrapWidth(),k.maxTextWidth);x=t+2*z.x;const m=
x+2*B;z.setWidth(t);z.sizeViewToDom();t=C.getPagePosition();z=z.height+2*z.y;const y=z+2*B,A=t.y-y+("below"===k.tipvalign?C.height+y:0);t=t.x;switch(k.tipalign){case "right":t-=m;case "farright":t+=C.width;break;case "farleft":t-=m}this.setX(h(d(b(t,0),a.getWidth()-m)));this.setY(h(d(b(A,0),a.getHeight()-y)));this.setWidth(x);this.setHeight(z);this.setBgColor(this.tipBgColor);this.setBorder([B,"solid",this.edgeColor]);this.setBoxShadow([D,D,D,this.shadowColor]);this.callSuper()}}),w=l.TooltipMixin=
new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},setTooltip:function(k){this.callSuper("");this.set("tooltip",k,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(k){this.set("tipAlign",k,!0)},setTipValign:function(k){this.set("tipValign",k,!0)},setMaxTextWidth:function(k){this.set("maxTextWidth",k,!0)},setTipClass:function(k){this.set("tipClass",k,!0)},doSmoothMouseOver:function(k){const x=this.getTooltip();this.callSuper(k);if(k&&x){k=this.tipClass||w.TIP_CLASS;
!v||v instanceof k||(v.destroy(),v=null);if(!v){let C=document.getElementById("tooltipDiv");C||(C=l.DomElementProxy.createElement("div",{position:"absolute"}),l.getElement().appendChild(C));v=new k(C,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:x,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||w.MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(l){this.setVectors(l||[])},setVectors:function(l){this._boundingBox=null;this.vectors=l},copyFrom:function(l){this.vectors=l.vectors.slice();this._boundingBox=null},drawInto:function(l){l.beginPath();const v=this.vectors;let r=v.length,p=0;for(l.moveTo(v[p++],v[p++]);r>p;)l.lineTo(v[p++],v[p++]);l.closePath()},translate:function(l,v){const r=this.vectors;let p=r.length;for(;p;)r[--p]+=v,r[--p]+=l;this._boundingBox=null},rotate:function(l){const v=
Math.cos(l);l=Math.sin(l);const r=this.vectors,p=r.length;for(let g=0;p>g;){const a=r[g]*v-r[g+1]*l,c=r[g]*l+r[g+1]*v;r[g++]=a;r[g++]=c}this._boundingBox=null},rotateAroundOrigin:function(l,v,r){this.translate(-v,-r);this.rotate(l);this.translate(v,r)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const l=this.vectors;let v=l.length,r,p,g,a;if(2<=v){g=a=l[--v];for(r=p=l[--v];v;){const c=l[--v],d=l[--v];g=Math.min(c,g);a=Math.max(c,a);r=Math.min(d,r);p=Math.max(d,p)}return this._boundingBox=
{x:r,y:g,width:p-r,height:a-g}}return this._boundingBox=null},getCenter:function(){const l=this.getBoundingBox();return l?{x:l.x+l.width/2,y:l.y+l.height/2}:null},isPointInPath:function(l,v){"object"===typeof l&&(v=l.y,l=l.x);return myt.Geometry.isPointInPath(l,v,this.getBoundingBox(),this.vectors)}});
(l=>{const v=Math.PI,r=v/2,p=3*v/2,g=l.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(c=>{a[c]=function(){this.__ctx[c].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(c=>
{a[c]=function(){return this.__ctx[c].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(c=>{a[g.generateSetterName(c)]=function(d){this.__ctx[c]=d};a[g.generateGetterName(c)]=function(){return this.__ctx[c]}});l.Canvas=new JS.Class("Canvas",l.BackView,{include:[a],createOurDomElement:function(c){c=this.callSuper(c);const d=
Array.isArray(c)?c[1]:c,b=this.__cvs=document.createElement("canvas");b.className="mytUnselectable";d.appendChild(b);b.style.position="absolute";this.__ctx=b.getContext("2d");return c},setWidth:function(c,d){0>c&&(c=0);this.__cvs.setAttribute("width",c);this.callSuper(c,d)},setHeight:function(c,d){0>c&&(c=0);this.__cvs.setAttribute("height",c);this.callSuper(c,d)},clear:function(){const c=this.__ctx;c.save();c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,this.width,this.height);c.restore()},dataURItoBlob:function(c,
d){c=atob(c.split(",")[1]);const b=c.length,h=[];for(let n=0;n<b;)h.push(c.charCodeAt(n++));return new Blob([new Uint8Array(h)],{type:d})},getDataURL:function(c,d){return this.__cvs.toDataURL(c,d)},getImageFile:function(c,d,b){switch(c){case "png":case "PNG":c="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":c="jpeg";null==b&&(b=.5);break;default:console.warn("Unexpected image type",c),c=c.toLowerCase()}const h="image/"+c;b=this.dataURItoBlob(this.getDataURL(h,b),h);d&&(b.name=d+"."+c);return b},
circle:function(c,d,b){this.__ctx.arc(c,d,b,0,2*v)},drawRoundedRect:function(c,d,b,h,n,f){const q=this.lineTo.bind(this),e=this.arc.bind(this);f=h+f;n=b+n;this.beginPath();this.moveTo(b,h+c);q(b,f-c);e(b+c,f-c,c,v,r,!0);q(n-c,f);e(n-c,f-c,c,r,0,!0);q(n,h+c);e(n-c,h+c,c,0,p,!0);q(b+c,h);e(b+c,h+c,c,p,v,!0);this.closePath();0<d&&(c-=d,b+=d,n-=d,h+=d,f-=d,this.moveTo(b,h+c),e(b+c,h+c,c,v,p),q(n-c,h),e(n-c,h+c,c,p,0),q(n,f-c),e(n-c,f-c,c,0,r),q(b+c,f),e(b+c,f-c,c,r,v),this.closePath());return this},drawRectOutline:function(c,
d,b,h,n){n=b+n;h=d+h;const f=d+c,q=h-c,e=b+c;c=n-c;const u=this.lineTo.bind(this);this.beginPath();this.moveTo(d,b);u(d,n);u(h,n);u(h,b);u(d,b);u(f,e);u(q,e);u(q,c);u(f,c);u(f,e);this.closePath();return this},drawPartiallyRoundedRect:function(c,d,b,h,n,f,q,e){e=f+e;q=n+q;const u=this.lineTo.bind(this),w=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(n,f+c);u(n,e-b);0<b&&w(n,e,n+b,e);u(q-h,e);0<h&&w(q,e,q,e-h);u(q,f+d);0<d&&w(q,f,q-d,f);u(n+c,f);0<c&&w(n,f,n,f+c);this.closePath();return this},
drawAnnulus:function(c,d,b,h,n,f,q,e=60){const u=l.Color;q.forEach(H=>{"string"===typeof H.color&&(H.color=u.makeColorFromHexString(H.color))});e=v/e;let w=0;for(;q.length-1>w;){var k=q[w++],x=q[w],C=Math.round((x.angle-k.angle)/e);x=k.color.getDiffFrom(x.color);k.colorDelta={red:x.red/C,green:x.green/C,blue:x.blue/C}}b=new l.Path([c+b,d,c+h,d]);b.rotateAroundOrigin(n,c,d);h=b.vectors;let z,B;k=h[0];C=h[1];x=h[2];let D=h[3],t=0,m=v/360;for(w=0;f>n;){z=k;B=C;var y=x;var A=D;n+=e;n>f&&(e+=f-n,m=0,n=
f);b.rotateAroundOrigin(e+m,c,d);k=h[0];C=h[1];x=h[2];D=h[3];this.beginPath();this.moveTo(z,B);this.lineTo(y,A);this.lineTo(x,D);this.lineTo(k,C);this.closePath();y=q[w].color;A=q[w].colorDelta;this.setFillStyle(u.rgbToHex(y.red+t*A.red,y.green+t*A.green,y.blue+t*A.blue,!0));this.fill();0<m&&(b.rotateAroundOrigin(-m,c,d),k=h[0],C=h[1],x=h[2],D=h[3]);t++;n>=q[w+1].angle&&(t=0,w++)}return this}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

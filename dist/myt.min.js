'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,g){a!=Array.prototype&&a!=Object.prototype&&(a[d]=g.value)};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var d=0;d<a.length;++d){var g=a[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,g,f){if(d){g=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var c=a[f];c in g||(g[c]={});g=g[c]}a=a[a.length-1];f=g[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,g){var f=this;f instanceof String&&(f=String(f));var c=f.length;g=g||0;for(0>g&&(g=Math.max(g+c,0));g<c;g++){var b=f[g];if(b===a||Object.is(b,a))return!0}return!1}},"es7","es3");
$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var d="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise.prototype.finally",function(a){return a?a:function(a){return this.then(function(d){return Promise.resolve(a()).then(function(){return d})},function(d){return Promise.resolve(a()).then(function(){throw d;})})}},"es9","es3");$jscomp.polyfill("String.prototype.trimLeft",function(a){function d(){return this.replace(/^[\s\xa0]+/,"")}return a||d},"es_2019","es3");$jscomp.polyfill("String.prototype.trimStart",function(a){return a||String.prototype.trimLeft},"es_2019","es3");
$jscomp.polyfill("String.prototype.trimRight",function(a){function d(){return this.replace(/[\s\xa0]+$/,"")}return a||d},"es_2019","es3");$jscomp.polyfill("String.prototype.trimEnd",function(a){return a||String.prototype.trimRight},"es_2019","es3");$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var d=[],f;for(f in a)$jscomp.owns(a,f)&&d.push(a[f]);return d}},"es8","es3");
(a=>{let d;var g=b=>{let e,c=b.length;for(;c;)if(e=b[--c],d=e.ver||e.id,e.str&&0<=e.str.indexOf(e.sub)||e.prop)return e.id};var f=b=>{const e=b.indexOf(d);if(0<=e)return parseFloat(b.substring(e+d.length+1))};const c=navigator.userAgent,b=navigator.platform;f=a.BrowserDetect={browser:g([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:c,sub:"Firefox",id:"Firefox"},{str:c,sub:"Chrome",id:"Chrome"},{str:c,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:f(c)||f(navigator.appVersion)||"UNKNOWN",os:g([{str:c,sub:"iPhone",id:"iPhone/iPod"},{str:b,sub:"Linux",id:"Linux"},{str:b,sub:"Mac",id:"Mac"},{str:b,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(f.browser){case "Chrome":case "Safari":a="WebKit";break;case "Explorer":a="MS";break;case "Firefox":a="Moz";break;case "Opera":a="O";break;default:a="UNKNOWN"}g=a.toLowerCase();f.prefix={dom:a,lowercase:g,css:"-"+g+"-",js:g[0].toUpperCase()+g.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d="January February March April May June July August September October November December".split(" "),g="Sun Mon Tue Wed Thu Fri Sat".split(" "),f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),c={d:b=>(10>b.getDate()?"0":"")+b.getDate(),D:b=>g[b.getDay()],j:b=>b.getDate(),l:b=>f[b.getDay()],N:b=>0==b.getDay()?7:b.getDay(),S:b=>1==b.getDate()%10&&11!=b.getDate()?
"st":2==b.getDate()%10&&12!=b.getDate()?"nd":3==b.getDate()%10&&13!=b.getDate()?"rd":"th",w:b=>b.getDay(),z:b=>{const e=new Date(b.getFullYear(),0,1);return Math.ceil((b-e)/864E5)},W:b=>{var e=new Date(b.valueOf());b=(b.getDay()+6)%7;e.setDate(e.getDate()-b+3);b=e.valueOf();e.setMonth(0,1);4!==e.getDay()&&e.setMonth(0,1+(4-e.getDay()+7)%7);e=1+Math.ceil((b-e)/6048E5);return 10>e?"0"+e:e},F:b=>d[b.getMonth()],m:b=>(9>b.getMonth()?"0":"")+(b.getMonth()+1),M:b=>a[b.getMonth()],n:b=>b.getMonth()+1,t:b=>
{let e=b.getFullYear();b=b.getMonth()+1;12===b&&(e=e++,b=0);return(new Date(e,b,0)).getDate()},L:b=>{b=b.getFullYear();return 0==b%400||0!=b%100&&0==b%4},o:b=>{const e=new Date(b.valueOf());e.setDate(e.getDate()-(b.getDay()+6)%7+3);return e.getFullYear()},Y:b=>b.getFullYear(),y:b=>(""+b.getFullYear()).substr(2),a:b=>12>b.getHours()?"am":"pm",A:b=>12>b.getHours()?"AM":"PM",B:b=>Math.floor(1E3*((b.getUTCHours()+1)%24+b.getUTCMinutes()/60+b.getUTCSeconds()/3600)/24),g:b=>b.getHours()%12||12,G:b=>b.getHours(),
h:b=>(10>(b.getHours()%12||12)?"0":"")+(b.getHours()%12||12),H:b=>(10>b.getHours()?"0":"")+b.getHours(),i:b=>(10>b.getMinutes()?"0":"")+b.getMinutes(),s:b=>(10>b.getSeconds()?"0":"")+b.getSeconds(),u:b=>{b=b.getMilliseconds();return(10>b?"00":100>b?"0":"")+b},e:b=>/\((.*)\)/.exec((new Date).toString())[1],I:b=>{let e=null,c=0;for(var a;12>c;)if(a=new Date(b.getFullYear(),c++,1),a=a.getTimezoneOffset(),null===e)e=a;else if(a<e){e=a;break}else if(a>e)break;return b.getTimezoneOffset()==e|0},O:b=>(0>
-b.getTimezoneOffset()?"-":"+")+(10>Math.abs(b.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(b.getTimezoneOffset()/60))+(0==Math.abs(b.getTimezoneOffset()%60)?"00":(10>Math.abs(b.getTimezoneOffset()%60)?"0":"")+Math.abs(b.getTimezoneOffset()%60)),P:b=>(0>-b.getTimezoneOffset()?"-":"+")+(10>Math.abs(b.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(b.getTimezoneOffset()/60))+":"+(0==Math.abs(b.getTimezoneOffset()%60)?"00":(10>Math.abs(b.getTimezoneOffset()%60)?"0":"")+Math.abs(b.getTimezoneOffset()%
60)),T:b=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:b=>60*-b.getTimezoneOffset(),c:b=>b.format("Y-m-d\\TH:i:sP"),r:b=>b.toString(),U:b=>b.getTime()/1E3};return function(b){const e=this;return b.replace(/(\\?)(.)/g,(b,a,l)=>""===a&&c[l]?c[l](e):l)}})();
(a=>{const d=(b,e)=>{if(b&&e)for(const c in e)b[c]===e[c]||b.hasOwnProperty(c)||(b[c]=e[c]);return b},g=b=>{const e=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},c=function(){};c.prototype=(b||Object).prototype;e.prototype=new c;return e},f=(b,e)=>{const c=!e;if(c&&b.__anc__)return b.__anc__.slice();e=e||[];const a=b.__inc__,k=a.length;for(let b=0;b<k;)f(a[b++],e);e.includes(b)||e.push(b);c&&(b.__anc__=e.slice());return e},c=(b,e)=>{var c=b.__mct__[e];if(c)return c.slice();
c=f(b);const a=c.length,k=[];for(let b=0;b<a;){const a=c[b++].__fns__;a.hasOwnProperty(e)&&k.push(a[e])}b.__mct__[e]=k.slice();return k},b=(b,e)=>{const a=b.callable;return b.__hs?function(){const k=this.callSuper,h=this.hasOwnProperty("callSuper"),m=c(e,b.name);let l=m.length-1;if(0===l)delete this.callSuper;else{const b=Array.from(arguments),e=this.callSuper=(...c)=>{let a=c.length;for(;a;)b[--a]=c[a];0===--l&&delete this.callSuper;c=m[l].apply(this,b);this.callSuper=e;l++;return c}}const f=a.apply(this,
arguments);h?this.callSuper=k:delete this.callSuper;return f}:a},e=(c,a)=>{a=a||c;if(a===c){c.__anc__=null;c.__mct__={};for(var k=c.__dep__.length;k;)e(c.__dep__[--k])}if(k=a.__tgt__){var h=c.__inc__;c=c.__fns__;const m=h.length;for(let b=0;b<m;)e(h[b++],a);for(const e in c)h=c[e],h=h instanceof l?b(h,a):h,k[e]!==h&&(k[e]=h)}},h=b=>b.__meta__?b.__meta__:(b.__meta__=new m("",null,{_target:b})).include(b.klass,{_rslv:!1}),k=b=>"function"!==typeof b||b.__fns__&&b.__inc__,l=a.Method=g(),n=(b,e,c)=>c&&
c.__inc__&&c.__fns__||"function"!==typeof c?c:new l(b,e,c),m=a.Module=g();d(l.prototype,{initialize:function(b,e,c){this.module=b;this.name=e;this.callable=c;this.__hs="function"===typeof c&&-1!==c.toString().indexOf("callSuper")},call:function(...b){return this.callable(...b)},apply:function(b,e){return this.callable.apply(b,e)}});d(m.prototype,{initialize:function(b,e,c){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(c||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
b;this.include(e,{_rslv:!1})},define:function(b,c,a){this.__fns__[b]=n(this,b,c);!1!==(a||{})._rslv&&e(this)},include:function(b,c){if(b){if(b.__fns__&&b.__inc__)this.__inc__.push(b),b.__dep__.push(this);else{var a=b.extend,h=b.include;const e={_rslv:!1};if(k(a)){a=[].concat(a);for(let b=0,e=a.length;b<e;)this.extend(a[b++])}if(k(h)){h=[].concat(h);for(let b=0,c=h.length;b<c;)this.include(h[b++],e)}for(const c in b)b.hasOwnProperty(c)&&(h=b[c],("extend"!==c&&"include"!==c||!k(h))&&this.define(c,h,
e))}!1!==(c||{})._rslv&&e(this)}return this},includes:function(b){if(b===this)return!0;const e=this.__inc__,c=e.length;for(let a=0;a<c;)if(e[a++].includes(b))return!0;return!1},instanceMethod:function(b){return c(this,b).pop()}});const p=new m("Kernel",{equals:function(b){return this===b},extend:function(b,e){b&&h(this).include(b,{_rslv:(e||{})._rslv});return this},isA:function(b){return"function"===typeof b&&this instanceof b||h(this).includes(b)}}),r=a.Class=g(m);d(r.prototype,{initialize:function(b,
c,a,k){"function"!==typeof c&&(k=a,a=c,c=Object);m.prototype.initialize.call(this,b);b=(k||{})._rslv;k={_rslv:!1};const l=g(c);d(l,this);l.prototype.constructor=l.prototype.klass=l;h(l).include(c.__meta__,{_rslv:b});l.__tgt__=l.prototype;c=c===Object?{}:c.__fns__?c:new m(c.prototype,k);l.include(p,k).include(c,k).include(a,k);!1!==b&&e(l);return l}});const q=(b,e)=>{b.__inc__=[];b.__dep__=[];const c=b.__tgt__=b.prototype,a=b.__fns__={};for(const e in c)c.hasOwnProperty(e)&&(a[e]=n(b,e,c[e]));c.constructor=
c.klass=b;d(b,r.prototype);b.include(e);b.constructor=b.klass=r};q(l,p);q(m,p);q(r,m);e(h(l));e(h(m));h(r).include(m.__meta__);a.Singleton=new r("Singleton",{initialize:(b,e,c)=>new (new r(b,e,c))})})(global.JS||(global.JS={}));
(a=>{class d extends Error{constructor(b,e,...c){super(...c);this.name="FetchError";this.status=b;this.url=e}}let g=0;const f={},c={"":!0},b=document.fonts,e=b=>{b=b.family+" "+b.weight;0<=b.indexOf("\\35 ")&&(b=b.replace(/\\35 /g,"5"));if(!c[b])for(c[b]=!0,b=f[b]||[];b.length;){var e=b.pop();e&&!e.destroyed&&e.sizeViewToDom()}},h=a.myt={version:2.02106282027E7,IMAGE_ROOT:global.MYT_IMAGE_ROOT||"",generateGuid:()=>++g,addEventListener:(b,e,c,a,h)=>{b.addEventListener(e,c,{capture:a||!1,passive:h||
!1})},removeEventListener:(b,e,c,a)=>{b.removeEventListener(e,c,a||!1)},resolveName:(b,e)=>{if(b&&0!==b.length){e=e||global;var c=Array.isArray(b)?b:b.split("."),a=c.length;for(let k=0;k<a;k++)if(e=e[c[k]],void 0===e){console.warn("resolveName failed for:",b,"at part:",k,c[k]);return}return e}},resolveClassname:b=>{"string"===typeof b&&(b=h.resolveName(b));return b&&"function"===typeof b.isA&&b.isA(JS.Class)?b:null},getExtension:b=>b?b.split(".")[1]:null,loadScript:function(b,e,c){const a=this._loadedScripts||
(this._loadedScripts={});if(a[b])return console.warn("script already loaded for src",b),null;{a[b]=!0;const k=document.createElement("script");k.type="text/javascript";k.async=!1;if(e){let b=!1;k.onload=k.onreadystatechange=function(){b||this.readyState&&"complete"!==this.readyState||(b=!0,k.onload=k.onreadystatechange=null,e())}}k.src=b+(c?"":(-1!==b.indexOf("?")?"&":"?")+"cacheBust="+Date.now());this.getElement("head").appendChild(k);return k}},dumpStack:(b,e)=>{let c;"string"===typeof b&&(c=b,
b=null);h.global.error.notify(e||"error",null,c,b)},getRandom:b=>{let e=Math.random();b&&(e=b(e),1<=e?e=.9999999999:0>e&&(e=0));return e},getRandomArbitrary:(b,e,c)=>{if(b>e){const c=b;b=e;e=c}return h.getRandom(c)*(e-b)+b},getRandomInt:(b,e,c)=>{if(b>e){const c=b;b=e;e=c}return Math.floor(h.getRandom(c)*(e-b+1)+b)},areFloatsEqual:(b,e,c)=>{const a=Math.abs(b),k=Math.abs(e);c=c?Math.abs(c):1E-6;return Math.abs(b-e)<=(a>k?k:a)*c},areArraysEqual:(b,e)=>{if(b!==e){if(null==b||null==e)return!1;let c=
b.length;if(c!==e.length)return!1;for(;c;)if(b[--c]!==e[c])return!1}return!0},areObjectsEqual:(b,e)=>{if(b!==e){if(null==b||null==e)return!1;let c;for(c in b)if(b[c]!==e[c])return!1;for(c in e)if(b[c]!==e[c])return!1}return!0},getElement:(b,e)=>document.getElementsByTagName(b||"body")[0<e?e:0],loadFontFaces:(c,a)=>{const k=[];c.forEach(b=>{b=new FontFace(b.family,"url("+b.url+")",b.options);k.push(b.load())});Promise.all(k).then(c=>{c.forEach(c=>{b.add(c);e(c)});a&&a(c)})},loadFontFace:(c,a,h={},
m)=>{c=new FontFace(c,"url("+a+")",h);c.loaded.then(c=>{b.add(c);e(c);m&&m(c)});c.load()},registerForFontNotification:(b,e)=>{c[e]?b&&!b.destroyed&&b.sizeViewToDom():(f[e]||(f[e]=[])).push(b)},createBaseFontCSSRule:b=>{h.addCSSRule(h.createStylesheet(),"body, input","font-family:"+b,0)},loadCSSFonts:b=>{(b||[]).forEach(b=>{const e=document.createElement("link");e.rel="stylesheet";e.href=b;document.head.appendChild(e)})},createStylesheet:()=>{const b=document.createElement("style");document.head.appendChild(b);
return b.sheet},addCSSRule:(b,e,c,a)=>{"insertRule"in b?b.insertRule(e+"{"+c+"}",a):"addRule"in b&&b.addRule(e,c,a)},removeCSSRules:b=>{let e=b.cssRules.length;for(;e;)e--,"deleteRule"in b?b.deleteRule(e):"removeRule"in b&&b.removeRule(e)},createInputPlaceholderCSSRule:(b,e,c)=>{const a=b.getOuterDomElement().id||(b.getOuterDomElement().id="id"+h.generateGuid());let k=b.__sheet,f=[];k?h.removeCSSRules(k):k=b.__sheet=h.createStylesheet();e&&f.push("color:"+e);c&&f.push("font-family:"+c);f=f.join("; ");
switch(BrowserDetect.browser){case "Chrome":case "Safari":h.addCSSRule(k,"#"+a+"::-webkit-input-placeholder",f,0);break;case "Firefox":h.addCSSRule(k,"#"+a+":-moz-placeholder","opacity:1; "+f,0);h.addCSSRule(k,"#"+a+"::-moz-placeholder","opacity:1; "+f,0);break;case "Explorer":h.addCSSRule(k,"#"+a+":-ms-input-placeholder",f,0)}},memoize:b=>function(){const e=JSON.stringify(arguments),c=b.__cache||(b.__cache={});return e in c?c[e]:c[e]=b.apply(this,arguments)},debounce:function(b,e,c){return function(){const a=
this,k=a.__DBTO,h=arguments,f=c&&!k;clearTimeout(k);a.__DBTO=setTimeout(function(){a.__DBTO=null;c||b.apply(a,h)},e);f&&b.apply(a,h)}},createFixedThresholdCounter:(b,e,c,a)=>{var k=h.AccessorSupport.generateName;const f="function"===typeof b||b instanceof JS.Module,m={};a=a||k("counter",c);let l=k(a,"increment");k=k(a,"decrement");if(void 0!==(f?b.instanceMethod(l):b[l]))return console.warn("Can't clobber existing property during setup of increment function.",l,b),!1;if(void 0!==(f?b.instanceMethod(k):
b[k]))return console.warn("Can't clobber existing property during setup of decrement function.",k,b),!1;m[l]=function(){const b=this[a]+1;this[a]=b;this.fireEvent(a,b);b===e&&this.set(c,!0)};m[k]=function(){const b=this[a];if(0!==b){var k=b-1;this[a]=k;this.fireEvent(a,k);b===e&&this.set(c,!1)}};b[f?"include":"extend"](m);return!0},makeURLSearchParams:(b={})=>{const e=new URLSearchParams;for(const c in b){const a=b[c];void 0!==a&&e.set(c,a)}return e},doFetch:(b,e,c,a,h,f)=>fetch(b,e).then(e=>{if(!e.ok)throw new d(e.status,
b,e.statusText);return e}).then(b=>c?b.text():b.json()).then(e=>{if(a)try{if(c)a(e);else{if(!1===e.success)throw new d(200,b,e.message);a(e.data)}}catch(w){throw e=new d(200,b,w.message),e.stack=w.stack,e;}}).catch(e=>{if(h){if("FetchError"!==e.name){const c=new d(0,b,e.message);c.stack=e.stack;e=c}h(e)}}).finally(b=>{f&&f()})};b.onloadingdone=b=>{b.fontfaces.forEach(b=>{e(b)})}})(global);
(a=>{const d=/\+/g,g=b=>b,f=b=>decodeURIComponent(b.replace(d," ")),c=(b,c)=>{0===b.indexOf('"')&&(b=b.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return c?JSON.parse(b):b}catch(k){}},b=a.Cookie={defaults:{raw:!1,json:!1},read:(e,a)=>{a=Object.assign({},b.defaults,a);const k=a.raw?g:f;a=a.json;const h=document.cookie.split("; ");let d=e?void 0:{};let m,p=0,r=h.length;for(;p<r;){var q=h[p++].split("=");m=k(q.shift());q=k(q.join("="));if(e&&e===m){d=c(q,a);break}e||(d[m]=c(q,a))}return d},
write:(e,c,a)=>{a=Object.assign({},b.defaults,a);if("number"===typeof a.expires){const b=a.expires,e=a.expires=new Date;e.setDate(e.getDate()+b)}c=a.json?JSON.stringify(c):String(c);return document.cookie=[a.raw?e:encodeURIComponent(e),"=",a.raw?c:encodeURIComponent(c),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")},remove:(e,c)=>void 0!==b.read(e,c)?(b.write(e,"",Object.assign({},c,{expires:-1})),!0):
!1}})(myt);
(a=>{const d=global.localStorage,g=(c,b,e)=>{if(0<b){const a="__timerId_"+e;(e=f[a])&&clearTimeout(e);f[a]=setTimeout(()=>{c();delete f[a]},b)}else c()},f=a.LocalStorage={hasDatum:(c,b)=>{if(c&&(b=f.getItem(b||"myt")))try{return null!=JSON.parse(b)[c]}catch(e){console.error(e)}return!1},getDatum:(c,b)=>{if(c&&(b=f.getItem(b||"myt")))try{const e=JSON.parse(b);if("object"===typeof e)return e[c]}catch(e){console.error(e)}},setDatum:(c,b,e,a)=>{e=e||"myt";g(()=>{const a=f.getData(e);a[c]=b;f.setItem(e,
JSON.stringify(a))},a,e+"___"+c)},removeDatum:(c,b,e)=>{b=b||"myt";g(()=>{const e=f.getData(b);delete e[c];f.setItem(b,JSON.stringify(e))},e,b+"___"+c)},hasData:c=>null!=f.getItem(c||"myt"),getData:c=>{if(c=f.getItem(c||"myt"))try{return JSON.parse(c)}catch(b){console.error(b)}return{}},setData:(c,b,e)=>{b=b||"myt";null==c&&(c={});return"object"===typeof c?(g(()=>{f.setItem(b,JSON.stringify(c))},e,b),!0):!1},removeData:(c,b)=>{c=c||"myt";g(()=>{f.removeItem(c)},b,c)},getLength:()=>d.length,getKey:c=>
d.key(c),getItem:c=>d.getItem(c),setItem:(c,b)=>{d.setItem(c,b)},removeItem:c=>{d.removeItem(c)},clear:()=>{d.clear()},get:c=>f.getItem(c),set:(c,b)=>{f.setItem(c,b)},remove:c=>{f.removeItem(c)},clearAll:()=>{f.clear()}}})(myt);
(a=>{const d=/(?:^|&)([^&=]*)=?([^&]*)/g,g=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;a.URI=new JS.Class("URI",{initialize:function(c,b){c&&this.parse(c,b)},setSource:function(c){this.source=c},setProtocol:function(c){this.protocol=
c},setAuthority:function(c){this.authority=c},setUserInfo:function(c){this.userInfo=c},setUser:function(c){this.user=c},setPassword:function(c){this.password=c},setHost:function(c){this.host=c},setPort:function(c){this.port=c},setRelative:function(c){this.relative=c},setPath:function(c){this.path=c},setDirectory:function(c){this.directory=c},setFile:function(c){this.file=c},setQuery:function(c){this.query=c},setAnchor:function(c){this.anchor=c},parse:function(c,b){const e=this;c=(b?f:g).exec(c);e.setSource(c[0]||
"");e.setProtocol(c[1]||"");e.setAuthority(c[2]||"");e.setUserInfo(c[3]||"");e.setUser(c[4]||"");e.setPassword(c[5]||"");e.setHost(c[6]||"");e.setPort(c[7]||"");e.setRelative(c[8]||"");e.setPath(c[9]||"");e.setDirectory(c[10]||"");e.setFile(c[11]||"");e.setQuery(c[12]||"");e.setAnchor(c[13]||"");e.queryPairs={};e.query.replace(d,(b,c,a)=>{c&&(e.queryPairs[c]=a)})},decodeQueryParam:function(c){c=decodeURIComponent(c);return c.replace("+"," ")},getQuery:function(){var c=this.queryPairs;const b=[];let e;
for(e in c)b.push(e+"="+encodeURIComponent(this.getQueryParam(e)));c=b.join("&");return 0<c.length?"?"+c:c},getQueryParam:function(c){c=this.queryPairs[c];return null==c?void 0:this.decodeQueryParam(c)},getPathParts:function(c){const b=this.path.split("/");if(!c)for(c=b.length;c;)0===b[--c].length&&b.splice(c,1);return b},toString:function(c){const b=this.protocol,e=this.host,a=this.userInfo,k=this.port,f=this.path;c=c?this.query?"?"+this.query:"":this.getQuery();const d=this.anchor;let m="";b&&(m+=
b+"://");a&&e&&(m+=a+"@");e&&(m+=e,k&&(m+=":"+k));f?m+=f:e&&(c||d)&&(m+="/");c&&(m+=c);d&&(m+="#"+d);return m}})})(myt);
(a=>{const d=a.Geometry={getClosestPointOnALineToAPoint:(a,f,c,b,e,h)=>{c-=a;b-=f;e=(c*(e-a)+b*(h-f))/(c*c+b*b);return{x:a+c*e,y:f+b*e}},getClosestPointOnASegmentToAPoint:(a,f,c,b,e,h)=>{const k=c-a,d=b-f;e=(k*(e-a)+d*(h-f))/(k*k+d*d);return 0>e?{x:a,y:f}:1<e?{x:c,y:b}:{x:a+k*e,y:f+d*e}},isPointInPath:(a,f,c,b)=>{"object"===typeof a&&(b=c,c=f,f=a.y,a=a.x);if(d.rectContainsPoint(a,f,c)&&(c=b.length,6<=c)){let e=!1,h=b[0],k=b[1],d,n;for(;c;)n=b[--c],d=b[--c],n>f!==k>f&&a<(h-d)*(f-n)/(k-n)+d&&(e=!e),
h=d,k=n;return e}return!1},rectContainsPoint:(a,f,c,b,e,h)=>{"object"===typeof a&&(h=e,e=b,b=c,c=f,f=a.y,a=a.x);"object"===typeof c&&(h=c.height,e=c.width,b=c.y,c=c.x);return a>=c&&f>=b&&a<=c+e&&f<=b+h},circleContainsPoint:(a,f,c,b,e)=>d.measureDistance(a,f,c,b,!0)<=e*e,measureDistance:(a,f,c,b,e)=>{a=c-a;f=b-f;f=a*a+f*f;return e?f:Math.sqrt(f)},degreesToRadians:a=>a*Math.PI/180,radiansToDegrees:a=>180*a/Math.PI,circleContainsLatLng:(a,f,c,b,e,h)=>d.measureLatLngDistance(a,f,c,b,h)<=e,measureLatLngDistance:(a,
f,c,b,e)=>{void 0===e&&(e=6371);a=d.degreesToRadians(a);f=d.degreesToRadians(f);c=d.degreesToRadians(c);b=d.degreesToRadians(b);return e*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(b-f))},polarToCartesian:(a,f,c,b)=>{null==c&&(c=0);null==b&&(b=0);f%=360;let e;0===f?(f=a,a=0):90===f?f=0:180===f?(f=-a,a=0):270===f?(f=0,a=-a):(e=d.degreesToRadians(f),f=a*Math.cos(e),a*=Math.sin(e));return[c+f,b+a]},cartesianToPolar:(a,f,c,b,e)=>{null==c&&(c=0);null==b&&(b=0);a-=c;b=f-b;f=Math.sqrt(a*
a+b*b);b=Math.atan2(b,a);0>b&&(b+=2*Math.PI);return[f,e?b:d.radiansToDegrees(b)]}}})(myt);
(a=>{const d=JS.Module;a.Observable=new d("Observable",{attachObserver:function(a,f,c){return a&&f&&c?(this.getObservers(c).push(f,a),!0):!1},detachObserver:function(a,f,c){if(a&&f&&c){var b=this.__obsbt;if(b&&(c=b[c])){b=!1;let e=c.length;for(;e;)--e,a===c[e--]&&f===c[e]&&(c.splice(e,2),b=!0);return b}}return!1},detachAllObservers:function(){const a=this.__obsbt;if(a)for(const f in a){const c=a[f];let b=c.length;for(;b;){const e=c[--b],a=c[--b];e&&a&&("function"===typeof e.detachFrom&&e.detachFrom(this,
a,f)||c.splice(b,2))}}},getObservers:function(a){const f=this.__obsbt||(this.__obsbt={});return f[a]||(f[a]=[])},hasObservers:function(a){const f=this.__obsbt;return f?(a=f[a])&&0<a.length:!1},createEvent:function(a,f){return{source:this,type:a,value:f}},isFiringEvent:function(a){return(this.__aet||(this.__aet={}))[a]},fireEvent:function(d,f,c){if(c=c||(this.hasObservers(d)?this.__obsbt[d]:null)){f={source:this,type:d,value:f};const b=this.__aet||(this.__aet={});if(!0===b[d])a.global.error.notifyWarn("eventLoop",
"Attempt to refire active event: "+d);else{b[d]=!0;let e=c.length;for(;e;){const b=c[--e],k=c[--e];if(b&&k)try{if("function"===typeof k){if(k.call(b,f))break}else if(b[k](f))break}catch(l){a.dumpStack(l)}}b[d]=!1}}}});a.Observer=new d("Observer",{syncTo:function(d,f,c,b,e){void 0===b&&(b=c);try{this[f](d.createEvent(c,d.get(b)))}catch(h){a.dumpStack(h)}e||this.attachTo(d,f,c,e)},isAttachedTo:function(a,f,c){if(a&&f&&c){var b=this.__obt;if(b&&(c=b[c]))for(b=c.length;b;)if(--b,a===c[b--]&&f===c[b])return!0}return!1},
getObservables:function(a){const f=this.__obt||(this.__obt={});return f[a]||(f[a]=[])},hasObservables:function(a){const f=this.__obt;return f?(a=f[a])&&0<a.length:!1},attachTo:function(a,f,c,b){if(a&&f&&c){const e=this.getObservables(c);if(b){const b=this,e=f;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);f="__DO_ONCE_"+this.__methodNameCounter++;this[f]=k=>{b.detachFrom(a,f,c);delete b[f];return b[e](k)}}if(a.attachObserver(this,f,c))return e.push(f,a),!0}return!1},detachFrom:function(a,
f,c){if(a&&f&&c){var b=this.__obt;if(b&&(b=b[c])){let e=!1,h=b.length;for(;h;)--h,a===b[h--]&&f===b[h]&&a.detachObserver(this,f,c)&&(b.splice(h,2),e=!0);return e}}return!1},detachFromAllObservables:function(){const a=this.__obt;if(a)for(const f in a){const c=a[f];let b=c.length;for(;b;)c[--b].detachObserver(this,c[--b],f);c.length=0}},constrain:function(d,f){if(d&&f){const b=f.length;if(0!==b%2)console.log("Observables not even.",this);else{var c=this.__cbmn||(this.__cbmn={});c=c[d]||(c[d]=[]);if(0<
c.length)console.log("Constraint already exists for "+d+" on "+this);else{for(let e=0;b!==e;){const b=f[e++],a=f[e++];b&&a&&(this.attachTo(b,d,a),c.push(b,a))}try{this[d]()}catch(e){a.dumpStack(e)}}}}},releaseConstraint:function(a){if(a){var f=this.__cbmn;if(f&&(f=f[a])){let c=f.length;for(;c;){const b=f[--c],e=f[--c];this.detachFrom(e,a,b)}f.length=0}}},releaseAllConstraints:function(){const a=this.__cbmn;if(a)for(const f in a)this.releaseConstraint(f)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(a,d){this.hasOwnProperty(a)&&(console.log("Warning: myt.global key in use: ",a),this.unregister(a));this[a]=d;this.fireEvent("register"+a,d)},unregister:function(a){if(this.hasOwnProperty(a)){const d=this[a];delete this[a];this.fireEvent("unregister"+a,d)}else console.log("Warning: myt.global key not in use: ",a)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(a){this.consoleLogging=a},setStackTraceLimit:function(a){Error.stackTraceLimit=this.stackTraceLimit=a},notifyError:function(a,d,g){this.notify("error",a,d,g)},notifyWarn:function(a,d,g){this.notify("warn",a,d,g)},notifyMsg:function(a,d,g){this.notify("log",a,d,g)},notifyDebug:function(a,d,g){this.notify("debug",
a,d,g)},notify:function(a,d,g,f){f||(f=Error(g||d));f=f.stack||f.stacktrace;this.fireEvent(d||"error",{msg:g,stacktrace:f});if(this.consoleLogging&&a)console[a](f)}});
(a=>{const d=global,g=a.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createDomElement:(a,c,b)=>{a=document.createElement(a);let e;if(b)for(e in b)a[e]=b[e];if(c)for(e in c)a.style[e]=c[e];return a},isDomElementVisible:a=>{if("INPUT"===a.nodeName&&"hidden"===a.type)return!1;for(;a;){if(a===document)return!0;const c=d.getComputedStyle(a);if("none"===c.display||"hidden"===c.visibility)break;a=a.parentNode}return!1},getZIndexRelativeToAncestor:(a,c)=>{if(a&&c)for(a=g.getAncestorArray(a,c),
c=a.length-1;c;){const b=d.getComputedStyle(a[--c]),e=b.zIndex,h="auto"===e;if(0===c||!h||1!==parseInt(b.opacity,10))return h?0:parseInt(e,10)}return 0},getAncestorArray:(a,c)=>{const b=[];for(;a;){b.push(a);if(a===c)break;a=a.parentNode}return b},getHighestZIndex:a=>{var c=d.getComputedStyle(a);let b=c.zIndex;var e="auto"===b;if(e&&1===parseInt(c.opacity,10))for(b=0,a=a.childNodes,c=a.length;c;)e=a[--c],1===e.nodeType&&(b=Math.max(b,g.getHighestZIndex(e)));else b=e?0:parseInt(b,10);return b},getPagePosition:(a,
c)=>{if(!a)return null;const b="Firefox"===BrowserDetect.browser?2:1;let e=0,h=0;for(;a&&"BODY"!==a.nodeName&&a!==c;)if(e+=a.offsetLeft,h+=a.offsetTop,(a=a.offsetParent)&&"BODY"!==a.nodeName){const c=d.getComputedStyle(a);e+=b*parseInt(c.borderLeftWidth,10)-a.scrollLeft;h+=b*parseInt(c.borderTopWidth,10)-a.scrollTop}return{x:e,y:h}},getTruePagePosition:a=>{if(!a)return null;a=$(a).offset();return{x:a.left,y:a.top}},simulateDomEvent:(a,c,b)=>{if(a){const e={pointerX:0,pointerY:0,button:0,ctrlKey:!1,
altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},h={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(b)for(let a in b)e[a]=b[a];let k;for(let b in h)if(h[b].test(c)){k=b;break}if(!k)throw new SyntaxError("Only HTMLEvent and MouseEvent interfaces supported");if(document.createEvent)b=document.createEvent(k),"HTMLEvents"===k?b.initEvent(c,e.bubbles,e.cancelable):b.initMouseEvent(c,
e.bubbles,e.cancelable,document.defaultView,e.button,e.pointerX,e.pointerY,e.pointerX,e.pointerY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),a.dispatchEvent(b);else{e.clientX=e.pointerX;e.clientY=e.pointerY;b=document.createEventObject();for(let a in e)b[a]=e[a];a.fireEvent("on"+c,b)}}}},getInnerDomElement:function(){return this.domElement},getOuterDomElement:function(){return this.__oE},getInnerDomStyle:function(){return this.deStyle},getOuterDomStyle:function(){return this.__oS},setDomElement:function(a){let c;
Array.isArray(a)?(c=a[0],a=a[1]):c=a;this.domElement=a;this.__oE=c;this.deStyle=a.style;this.__oS=c.style;a.model=c.model=this},removeDomElement:function(){const a=this.getOuterDomElement();a.parentNode.removeChild(a)},disposeOfDomElement:function(){delete this.domElement.model;delete this.deStyle;delete this.domElement;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(a){this.domElement.className=this.domClass=a},addDomClass:function(a){const c=this.domElement.className;
this.setDomClass((c?c+" ":"")+a)},removeDomClass:function(a){var c=this.domElement.className;if(c){c=c.split(" ");let b=c.length;for(;b;)c[--b]===a&&c.splice(b,1);this.setDomClass(c.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(a){this.domElement.id=this.domId=a},setZIndex:function(a){this.deStyle.zIndex=a},setStyleProperty:function(a,c){this.deStyle[a]=c},getPagePosition:function(){return g.getPagePosition(this.domElement)},getTruePagePosition:function(){return g.getTruePagePosition(this.domElement)},
simulateClick:function(){g.simulateDomEvent(this.domElement,"click")},getHighestZIndex:function(){return g.getHighestZIndex(this.domElement)},getHighestChildZIndex:function(a){const c=this.domElement.childNodes;let b=c.length,e=0;for(;b;){const h=c[--b];1===h.nodeType&&h!==a&&(e=Math.max(e,g.getHighestZIndex(h)))}return e},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.domElement)+1)},scrollYTo:function(a,c){(c?this.getInnerDomElement():this.getOuterDomElement()).scrollTop=
a||0}})})(myt);
(a=>{let d;const g=a=>{for(;a.lastChild;)a=a.lastChild;return a},f=(c,b)=>{d.lastTraversalWasForward=c;let e=document.body,h=e;var k=document.activeElement;let f=h,n;const m=c?"getNextFocus":"getPrevFocus";k&&(f=h=k,(k=h.model)||(k=d.findModelForDomElement(h)),k&&(b=k.getFocusTrap(b)))&&(e=b.domElement);for(;f;){if(f.model&&f.model[m]&&(n=f.model[m]()))f=n.domElement;else if(c)if(f.firstChild)f=f.firstChild;else{if(f===e)return h.model;if(f.nextSibling)f=f.nextSibling;else for(;f&&(f=f.parentNode,
f!==e);)if(f.nextSibling){f=f.nextSibling;break}}else f=f===e?g(e):f.previousSibling?g(f.previousSibling):f.parentNode;if(f===h)return h.model;if(1===f.nodeType)if((k=f.model)&&k instanceof a.View){if(k.isFocusable())return k}else if(b=f.nodeName,!("A"!==b&&"AREA"!==b&&"INPUT"!==b&&"TEXTAREA"!==b&&"SELECT"!==b&&"BUTTON"!==b||f.disabled||isNaN(f.tabIndex)||!a.DomElementProxy.isDomElementVisible(f)||(k=d.findModelForDomElement(f),k&&k.searchAncestorsOrSelf(b=>!0===b.maskFocus)))){f.focus();d.focusedDom=
f;break}}return null};new JS.Singleton("GlobalFocus",{include:[a.Observable],initialize:function(){this.lastTraversalWasForward=!0;a.global.register("focus",d=this)},setFocusedView:a=>{if(d.focusedView!==a){d.prevFocusedView=d.focusedView;if(d.focusedView=a)d.focusedDom=null;d.fireEvent("focused",a)}},notifyFocus:a=>{d.focusedView!==a&&d.setFocusedView(a)},notifyBlur:a=>{d.focusedView===a&&d.setFocusedView(null)},clear:()=>{d.focusedView?d.focusedView.blur():d.focusedDom&&(d.focusedDom.blur(),d.focusedDom=
null)},next:a=>{(a=f(!0,a))&&a.focus()},prev:a=>{(a=f(!1,a))&&a.focus()},findModelForDomElement:c=>{for(;c;){let b=c.model;if(b&&b instanceof a.View)return b;c=c.parentNode}return null}})})(myt);
(a=>{const d=JS.Module,g=a.global.focus,f=()=>({source:null,type:null,value:null});a.DomObservable=new d("DomObservable",{attachDomObserver:function(c,b,e,h,k){if(c&&b&&e){h=!!h;const d=this.createDomMethodRef(c,b,e);if(d){const f=this.__dobsbt||(this.__dobsbt={}),m=f[e];m?m.push(c,b,d,h):f[e]=[c,b,d,h];a.addEventListener(this.getInnerDomElement(),e,d,h,k);return!0}}return!1},createDomMethodRef:(a,b,e)=>null,createStandardDomMethodRef:function(a,b,e,h,k){if(h.EVENT_TYPES[e]){const e=this,c=h.EVENT;
return h=>{h||(h=window.event);c.source=e;c.type=h.type;c.value=h;a[b](c)||(h.cancelBubble=!0,h.stopPropagation&&h.stopPropagation(),k&&h.preventDefault());c.source=void 0}}},detachDomObserver:function(c,b,e,h){if(c&&b&&e){h=!!h;var k=this.__dobsbt;if(k&&(k=k[e])){const d=this.getInnerDomElement();let f=!1,m=k.length;for(;m;)m-=4,c===k[m]&&b===k[m+1]&&h===k[m+3]&&(d&&a.removeEventListener(d,e,k[m+2],h),k.splice(m,4),f=!0);return f}}return!1},detachAllDomObservers:function(){const c=this.getInnerDomElement();
if(c){const b=this.__dobsbt;if(b)for(const e in b){const h=b[e];let k=h.length;for(;k;){const b=h[--k],d=h[--k];k-=2;a.removeEventListener(c,e,d,b)}h.length=0}}}});a.DomObserver=new d("DomObserver",{attachToDom:function(a,b,e,h,k){if(a&&b&&e){h=!!h;var c=this.__dobt||(this.__dobt={});c=c[e]||(c[e]=[]);a.attachDomObserver(this,b,e,h,k)&&c.push(h,b,a)}},detachFromDom:function(a,b,e,h){if(a&&b&&e){h=!!h;var c=this.__dobt;if(c&&(c=c[e])){let k=!1,d=c.length;for(;d;)d-=3,a===c[d+2]&&b===c[d+1]&&h===c[d]&&
a.detachDomObserver(this,b,e,h)&&(c.splice(d,3),k=!0);return k}}return!1},detachFromAllDomSources:function(){const a=this.__dobt;if(a)for(const b in a){const e=a[b];let c=e.length;for(;c;)e[--c].detachDomObserver(this,e[--c],b,e[--c]);e.length=0}}});a.KeyObservable=new d("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:f(),getKeyCodeFromEvent:a=>a.value.keyCode||a.value.charCode},createDomMethodRef:function(c,b,e){return this.createStandardDomMethodRef(c,b,e,a.KeyObservable)||
this.callSuper(c,b,e)}});a.MouseObservable=new d("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:f(),getMouseFromEvent:a=>({x:a.value.pageX,y:a.value.pageY}),getMouseFromEventRelativeToView:function(a,b){b=b.getPagePosition();a=this.getMouseFromEvent(a);a.x-=b.x;a.y-=b.y;return a}},createDomMethodRef:function(c,b,e){return this.createStandardDomMethodRef(c,b,e,a.MouseObservable,!0)||this.callSuper(c,
b,e)}});a.ScrollObservable=new d("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:f(),getScrollFromEvent:a=>{a=a.value.target||a.value.srcElement;return{x:a.scrollLeft,y:a.scrollTop}}},createDomMethodRef:function(c,b,e){return this.createStandardDomMethodRef(c,b,e,a.ScrollObservable)||this.callSuper(c,b,e)}});a.TouchObservable=new d("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:f()},createDomMethodRef:function(c,b,e){return this.createStandardDomMethodRef(c,
b,e,a.TouchObservable,!1)||this.callSuper(c,b,e)}});a.FocusObservable=new d("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:f()},initNode:function(a,b){this.focusable=!1;this.focusEmbellishment=!0;this.callSuper(a,b)},destroyBeforeOrphaning:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(a){this.focused!==a&&(this.focused=a,this.inited&&(this.fireEvent("focused",a),a?g.notifyFocus(this):g.notifyBlur(this)))},setFocusable:function(a){if(this.focusable!==a){const b=
this.focusable;(this.focusable=a)?(this.getInnerDomElement().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):b&&(this.getInnerDomElement().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",a)}},setFocusEmbellishment:function(a){this.focusEmbellishment!==a&&(this.focusEmbellishment=a,this.focused&&(a?this.showFocusEmbellishment():this.hideFocusEmbellishment()))},
giveAwayFocus:function(){this.focused&&(g.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null===this.searchAncestorsOrSelf(a=>!0===a.maskFocus)},focus:function(a){this.isFocusable()&&this.getInnerDomElement().focus({preventScroll:a})},blur:function(){this.getInnerDomElement().blur()},__doFocus:function(a){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(a){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusEmbellishment?
this.showFocusEmbellishment():this.hideFocusEmbellishment()},doBlur:function(){this.focusEmbellishment&&this.hideFocusEmbellishment()},showFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!1;const a=this.getInnerDomStyle();a.outlineWidth="thin";a.outlineColor="#88bbff";a.outlineStyle="solid";a.outlineOffset="0px"},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideDefaultFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!0;this.getInnerDomStyle().outlineStyle=
"none"},createDomMethodRef:function(c,b,e){if(a.FocusObservable.EVENT_TYPES[e]){const e=this;return k=>{k||(k=window.event);if(e._ignoreFocus)k.cancelBubble=!0,k.stopPropagation&&k.stopPropagation(),k.preventDefault();else{var h=a.FocusObservable.EVENT;h.source=e;h.type=k.type;h.value=k;c[b](h)||(k.cancelBubble=!0,k.stopPropagation&&k.stopPropagation());h.source=void 0}}}return this.callSuper(c,b,e)}});a.InputObservable=new d("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:f()},
createDomMethodRef:function(c,b,e){return this.createStandardDomMethodRef(c,b,e,a.InputObservable)||this.callSuper(c,b,e)}});a.DragDropObservable=new d("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:f()},createDomMethodRef:function(c,b,e){return this.createStandardDomMethodRef(c,b,e,a.DragDropObservable,!0)||this.callSuper(c,b,e)}})})(myt);
(a=>{let d,g={};const f=a.global,c=f.focus,b="Firefox"===BrowserDetect.browser,e=b?224:91,h=b?224:93,k=()=>!!g[e]||!!g[h],l=(b,a)=>{switch(b){case 8:b=a.nodeName;if("TEXTAREA"===b||"INPUT"===b&&("text"===a.type||"password"===a.type)||"DIV"===b&&"true"===a.contentEditable&&a.firstChild)break;return!0;case 9:return!0}return!1};new JS.Singleton("GlobalKeys",{include:[a.DomElementProxy,a.DomObservable,a.DomObserver,a.KeyObservable,a.Observable,a.Observer],initialize:function(){f.register("keys",d=this);
d.KEYCODE_TAB=9;d.KEYCODE_SHIFT=16;d.KEYCODE_CONTROL=17;d.KEYCODE_ALT=18;d.KEYCODE_Z=90;d.KEYCODE_COMMAND=e;d.KEYCODE_RIGHT_COMMAND=h;d.setDomElement(document);d.attachTo(c,"__handleFocused","focused");d.__listenToDocument();global.onblur=()=>{g={}}},isKeyDown:b=>!!g[b],isShiftKeyDown:()=>!!g[16],isControlKeyDown:()=>!!g[17],isAltKeyDown:()=>!!g[18],isCommandKeyDown:k,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?k():!!g[17],ignoreFocusTrap:()=>!!g[18],__handleFocused:b=>{if(b=b.value)d.detachFromDom(d,
"__handleKeyDown","keydown"),d.detachFromDom(d,"__handleKeyPress","keypress"),d.detachFromDom(d,"__handleKeyUp","keyup"),d.attachToDom(b,"__handleKeyDown","keydown"),d.attachToDom(b,"__handleKeyPress","keypress"),d.attachToDom(b,"__handleKeyUp","keyup");else{if(b=c.prevFocusedView)d.detachFromDom(b,"__handleKeyDown","keydown"),d.detachFromDom(b,"__handleKeyPress","keypress"),d.detachFromDom(b,"__handleKeyUp","keyup");d.__listenToDocument()}},__listenToDocument:()=>{d.attachToDom(d,"__handleKeyDown",
"keydown");d.attachToDom(d,"__handleKeyPress","keypress");d.attachToDom(d,"__handleKeyUp","keyup")},__handleKeyDown:b=>{const e=a.KeyObservable.getKeyCodeFromEvent(b);b=b.value;l(e,b.target)&&b.preventDefault();k()&&16!==e&&17!==e&&18!==e?(d.fireEvent("keydown",e),d.fireEvent("keyup",e)):(g[e]=!0,9===e&&(b=!!g[18],g[16]?c.prev(b):c.next(b)),d.fireEvent("keydown",e))},__handleKeyPress:b=>{d.fireEvent("keypress",a.KeyObservable.getKeyCodeFromEvent(b))},__handleKeyUp:b=>{const e=a.KeyObservable.getKeyCodeFromEvent(b);
b=b.value;l(e,b.target)&&b.preventDefault();g[e]=!1;d.fireEvent("keyup",e)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
myt.FlexBoxChildSupport=new JS.Module("FlexBoxChildSupport",{setParent:function(a){const d=this.isChildOfFlexBox();this.callSuper(a);this._isChildOfFlexBox=this.parent&&this.parent.isA(myt.FlexBoxSupport);this.inited&&d&&!this.isChildOfFlexBox()&&this._syncDomToModel()},_syncDomToModel:function(){const a=this.getOuterDomStyle();"auto"!==a.width&&(a.width=this.width+"px");"auto"!==a.height&&(a.height=this.height+"px");this.syncInnerToOuter()},setWidth:function(a,d){null==a||""===a?(this.getOuterDomStyle().width=
"",this.__syncModelToOuterBoundsWidth()):this.callSuper(a,d);this.__syncInnerWidthToOuterWidth()},setHeight:function(a,d){null==a||""===a?(this.getOuterDomStyle().height="",this.__syncModelToOuterBoundsHeight()):this.callSuper(a,d);this.__syncInnerHeightToOuterHeight()},setFlexGrow:function(a){this.flexGrow!==a&&(this.getOuterDomStyle().flexGrow=this.flexGrow=a,this.inited&&(this.fireEvent("flexGrow",a),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setFlexShrink:function(a){this.flexShrink!==
a&&(this.getOuterDomStyle().flexShrink=this.flexShrink=a,this.inited&&(this.fireEvent("flexShrink",a),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setAlignSelf:function(a){if(this.alignSelf!==a){let d=this.alignSelf=a;switch(d){case "start":d="flex-start";break;case "end":d="flex-end"}this.getOuterDomStyle().alignSelf=d;this.inited&&this.fireEvent("alignSelf",a)}},isChildOfFlexBox:function(){return this._isChildOfFlexBox},syncModelToOuterBounds:function(){const a=this.getOuterDomElement();
this.__syncModelToOuterBoundsWidth(a);this.__syncModelToOuterBoundsHeight(a)},__syncModelToOuterBoundsWidth:function(a){const d=this.getInnerDomStyle();a||(a=this.getOuterDomElement());"auto"===d.width?this.getOuterDomStyle().width="auto":this.__setInnerWidth(a.clientWidth);this.fireEvent("width",this.width=a.clientWidth)},__syncModelToOuterBoundsHeight:function(a){const d=this.getInnerDomStyle();a||(a=this.getOuterDomElement());"auto"===d.height?this.getOuterDomStyle().height="auto":this.__setInnerHeight(a.clientHeight);
this.fireEvent("height",this.height=a.clientHeight)},syncInnerToOuter:function(){this.__syncInnerWidthToOuterWidth();this.__syncInnerHeightToOuterHeight()},__syncInnerWidthToOuterWidth:function(){"auto"!==this.getInnerDomStyle().width&&this.__setInnerWidth(this.getOuterDomElement().clientWidth)},__syncInnerHeightToOuterHeight:function(){"auto"!==this.getInnerDomStyle().height&&this.__setInnerHeight(this.getOuterDomElement().clientHeight)},__setInnerWidth:function(a){this.getInnerDomStyle().width=
a+"px"},__setInnerHeight:function(a){this.getInnerDomStyle().height=a+"px"},createOurDomElement:function(a){a=this.callSuper(a);const d=document.createElement("div");d.style.position="relative";a.appendChild(d);return[a,d]}});
(a=>{const d={},g={},f=(b,a)=>a+b.substring(0,1).toUpperCase()+b.substring(1),c=b=>g[b]||(g[b]=f(b,"set")),b=b=>d[b]||(d[b]=f(b,"get"));a.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:c,generateGetterName:b,generateName:f,createSetterFunction:(b,a)=>{const e=c(a);b[e]&&console.log("Overwriting setter",e);b[e]=e=>{b[a]!==e&&(b[a]=e,b.inited&&b.fireEvent(a,e))}},createGetterFunction:(a,c)=>{const e=b(c);a[e]&&console.log("Overwriting getter",e);a[e]=()=>a[c]}},appendToEarlyAttrs:function(){Array.prototype.push.apply(this.earlyAttrs||
(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){Array.prototype.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){Array.prototype.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){Array.prototype.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},quickSet:function(b,a){(b||[]).forEach(b=>{this[b]=a[b];delete a[b]})},callSetters:function(b){const a=this.earlyAttrs,e=this.lateAttrs;let c,d;let f;
if(a||e){var g={};for(c in b)g[c]=b[c];b=g;if(a)for(g=0,f=a.length;f>g;)c=a[g++],c in b&&(this.set(c,b[c]),delete b[c]);if(e)for(d=[],g=0,f=e.length;f>g;)c=e[g++],c in b&&(d.push(c,b[c]),delete b[c])}for(c in b)this.set(c,b[c]);if(d)for(g=0,f=d.length;f>g;)this.set(d[g++],d[g++])},get:function(a){const e=b(a);return this[e]?this[e]():this[a]},set:function(b,a,k){if(!k&&(k=c(b),this[k]))return this[k](a);this[b]!==a&&(this[b]=a,!1!==this.inited&&this.fireEvent&&this.fireEvent(b,a))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let a,d;const g=this.__meta__;if(g)for(a=Object.keys(g),d=a.length;d;)delete g[a[--d]];a=Object.keys(this);for(d=a.length;d;)delete this[a[--d]];this.destroyed=!0}}});
(a=>{const d=JS.Class,g=JS.Module,f=new d("AbstractPool",{include:[a.Destructible],initialize:()=>{},destroy:function(){const b=this.__op;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.__op||(this.__op=[]);return b.length?b.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(b){(this.__op||(this.__op=[])).push(this.cleanInstance(b))},cleanInstance:b=>{"function"===typeof b.clean&&b.clean();return b},destroyPooledInstances:function(){var b=
this.__op;if(b){let a=b.length;for(;a;){const e=b[--a];"function"===typeof e.destroy&&e.destroy()}}}}),c=a.SimplePool=new d("SimplePool",f,{initialize:function(b,a){this.callSuper();this.instanceClass=b||Object;this.instanceParent=a},createInstance:function(b){var a=this.instanceParent,e=this.instanceClass;return a?new e(a,b):new e}}),b=new g("TrackActives",{destroy:function(){const b=this.__actives;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.callSuper();(this.__actives||
(this.__actives=[])).push(b);return b},putInstance:function(b){var a=this.__actives;if(a){let e=a.length;for(;e;)if(a[--e]===b){a.splice(e,1);this.callSuper(b);return}a="non-active"}else a="non-existant";console.warn("Attempt to put a "+a+" instance.",b,this)},getActives:function(b){const a=this.__actives;if(a){if(b){const e=[],c=a.length;for(let k=0;c>k;){const c=a[k++];b.call(this,c)&&e.push(c)}return e}return a.concat()}return[]},putActives:function(){const b=this.__actives;if(b){let a=b.length;
for(;a;)this.putInstance(b[--a])}}}),e=a.TrackActivesPool=new d("TrackActivesPool",c,{include:[b]});a.TrackActivesMultiPool=new d("TrackActivesMultiPool",f,{initialize:function(b,a){this.callSuper();this.instanceClassesByKey=b;const c=this._poolsByClassName={},k=this._poolsByKey={};for(let h in b){const d=b[h];k[h]=c[d.__displayName]=new e(d,a)}},destroy:function(){const b=this._poolsByKey;for(let a in b)b[a].destroy();this.callSuper()},getInstance:function(){const b=arguments[0],a=this._poolsByKey[b];
if(a)return a.getInstance(arguments);console.warn("No pool found for key:",b)},putInstance:function(b){const a=this._poolsByClassName[b.klass.__displayName];a?a.putInstance(b):console.warn("No pool found for obj:",b)},destroyPooledInstances:function(){const b=this._poolsByKey;for(let a in b)b[a].destroyPooledInstances()},getActives:function(b){let a=[];const e=this._poolsByKey;for(let c in e)a=a.concat(e[c].getActives(b));return a},putActives:function(){const b=this._poolsByKey;for(let a in b)b[a].putActives()}});
a.Reusable=new g("Reusable",{clean:()=>{}})})(myt);
(a=>{const d=(b,a)=>{if(a)for(;b;){if(a(b))return b;b=b.parent}return null},g=(b,a)=>{const e=a.name;void 0===b[e]?b[e]=a:console.log("Name in use:"+e)},f=(b,a)=>{const e=a.name;b[e]===a?delete b[e]:console.log("Name not in use:"+e)},c=b=>b.__animPool||(b.__animPool=new a.TrackActivesPool(a.Animator,b));a.Node=new JS.Class("Node",{include:[a.AccessorSupport,a.Destructible,a.Observable,a.Observer],extend:{getMatchingAncestorOrSelf:d,getMatchingAncestor:(b,a)=>d(b?b.parent:null,a)},initialize:function(b,
a,c){if(c){const b=c.length;for(let a=0,e;b>a;)(e=c[a++])?this.extend(e):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.initNode(b,a||{})},initNode:function(b,a){this.callSetters(a);this.doBeforeAdoption();this.setParent(b);this.doAfterAdoption();this.inited=!0},doBeforeAdoption:()=>{},doAfterAdoption:()=>{},destroy:function(){const b=this.subnodes;this.isBeingDestroyed=!0;if(b){let a=b.length;for(;a;)b[--a].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());
this.destroyBeforeOrphaning();this.parent&&this.setParent(null);this.destroyAfterOrphaning();this.callSuper()},destroyBeforeOrphaning:()=>{},destroyAfterOrphaning:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers()},setPlacement:function(b){this.placement=b},setDefaultPlacement:function(b){this.defaultPlacement=b},setIgnorePlacement:function(b){this.ignorePlacement=b},setParent:function(b){if(b&&!this.ignorePlacement){var a=this.placement||b.defaultPlacement;
a&&(b=b.determinePlacement(a,this))}if(!(this.parent===b||b&&b.destroyed)){if(a=this.parent){let b=a.getSubnodeIndex(this);-1!==b&&(this.name&&f(a,this),a.subnodes.splice(b,1),a.subnodeRemoved(this))}if(this.parent=b)b.getSubnodes().push(this),this.name&&g(b,this),b.subnodeAdded(this);this.inited&&this.fireEvent("parent",b)}},setName:function(b){if(this.name!==b){const a=this.parent;a&&this.name&&f(a,this);this.name=b;a&&b&&g(a,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},
determinePlacement:function(b,a){let e=b.indexOf("."),c;-1!==e&&(c=b.substring(e+1),b=b.substring(0,e));"*"===b&&(b=this.defaultPlacement)&&(e=b.indexOf("."),-1!==e&&(c=b.substring(e+1)+(c?"."+c:""),b=b.substring(0,e)));return(b=this[b])?c?b.determinePlacement(c,a):b:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(b){if(b){if(b===this)return!0;if(this.parent)return this.domElement&&b.domElement?b.domElement.contains(this.domElement):
this.parent.isDescendantOf(b)}return!1},isAncestorOf:function(b){return b?b.isDescendantOf(this):!1},getLeastCommonAncestor:function(b){for(;b;){if(this.isDescendantOf(b))return b;b=b.parent}return null},searchAncestorsForClass:function(b){return b?this.searchAncestors(a=>a instanceof b):null},searchAncestors:function(b){return d(this?this.parent:null,b)},searchAncestorsOrSelf:function(b){return d(this,b)},getAncestors:function(){const b=[];let a=this;for(;a;)b.push(a),a=a.parent;return b},hasSubnode:function(b){return-1!==
this.getSubnodeIndex(b)},getSubnodeIndex:function(b){return this.getSubnodes().indexOf(b)},addSubnode:function(b){b.setParent(this)},removeSubnode:function(b){if(b.parent!==this)return null;b.setParent(null);return b},subnodeAdded:b=>{},subnodeRemoved:b=>{},animateOnce:function(b,a,c,k,d){return this.animate(b,a,c,!1,null,k,!1,1,d)},animate:function(b,a,h,k,d,f,m,g,r){const e=c(this),l=e.getInstance({ignorePlacement:!0});"object"===typeof b?(d=b.callback,delete b.callback,l.callSetters(b)):(l.attribute=
b,l.setTo(a),l.setFrom(h),null!=f&&(l.duration=f),null!=k&&(l.relative=k),null!=g&&(l.repeat=g),null!=m&&l.setReverse(m),null!=r&&l.setEasingFunction(r));l.next(b=>{e.putInstance(l)});d&&l.next(d);l.setRunning(!0);return l},getActiveAnimators:function(b){if("string"===typeof b){const a=b;b=b=>b.attribute===a}return c(this).getActives(b)},stopActiveAnimators:function(b,a=!1){b=this.getActiveAnimators(b);let e=b.length;if(0<e){const k=c(this);for(;e;){const c=b[--e];c.reset(a);a||k.putInstance(c)}}},
doOnceOnIdle:function(b){this.attachTo(a.global.idle,b,"idle",!0)}})})(myt);
(a=>{let d=0,g=!1;const f=JS.Class,c=[],b=b=>{if(g!==b&&(g=b,!b)){b=c.length;let a;for(;b;)a=c[--b],a.__deferredLayout=!1,a.update();c.length=0}},e=(b,a,e,c)=>{const k=b.getSubviewIndex(a),h=b.subviews;0<=k&&(b=b.getSubviewIndex(e),h.splice(k,1),0<=b?(k<b&&--b,h.splice(b+(c?1:0),0,a)):c?h.push(a):h.unshift(a))},h=a.Layout=new f("Layout",a.Node,{extend:{incrementGlobalLock:()=>{1===++d&&b(!0)},decrementGlobalLock:()=>{0<d&&0===--d&&b(!1)}},initNode:function(b,a){this.subviews=[];this.locked=!0;this.lockedCounter=
1;const e=!0===a.locked;delete a.locked;this.callSuper(b,a);e||this.decrementLockedCounter();this.update()},destroyAfterOrphaning:function(){this.callSuper();this.subviews.length=0},setParent:function(b){if(this.parent!==b){const a=!this.locked;a&&(this.locked=!0);let e,c;if(this.parent){e=this.subviews;for(c=e.length;c;)this.removeSubview(e[--c]);this.detachFrom(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.detachFrom(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}this.callSuper(b);
if(this.parent){e=this.parent.getSubviews();c=0;for(b=e.length;b>c;)this.addSubview(e[c++]);this.attachTo(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.attachTo(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}a&&(this.locked=!1,this.inited&&this.parent&&this.update())}},canUpdate:function(){return g?(this.__deferredLayout||(c.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(b){return-1!==this.getSubviewIndex(b)},getSubviewIndex:function(b){return this.subviews.indexOf(b)},
addSubview:function(b){this.ignore(b)||(this.subviews.push(b),this.startMonitoringSubview(b),this.locked||this.update())},startMonitoringSubview:b=>{},startMonitoringAllSubviews:function(){const b=this.subviews;let a=b.length;for(;a;)this.startMonitoringSubview(b[--a])},removeSubview:function(b){if(this.ignore(b))return-1;const a=this.getSubviewIndex(b);-1!==a&&(this.stopMonitoringSubview(b),this.subviews.splice(a,1),this.locked||this.update());return a},stopMonitoringSubview:b=>{},stopMonitoringAllSubviews:function(){const b=
this.subviews;let a=b.length;for(;a;)this.stopMonitoringSubview(b[--a])},ignore:b=>b.ignoreLayout,__handleParentSubviewAddedEvent:function(b){b.value.parent===this.parent&&this.addSubview(b.value)},__handleParentSubviewRemovedEvent:function(b){b.value.parent===this.parent&&this.removeSubview(b.value)},sortSubviews:function(b){this.subviews.sort(b)},moveSubviewBefore:function(b,a){e(this,b,a,!1)},moveSubviewAfter:function(b,a){e(this,b,a,!0)}});a.createFixedThresholdCounter(h,1,"locked");a.ConstantLayout=
new f("ConstantLayout",h,{setTargetAttrName:function(b){this.targetAttrName!==b&&(this.targetAttrName=b,this.setterName=a.AccessorSupport.generateSetterName(b),this.inited&&(this.fireEvent("targetAttrName",b),this.update()))},setTargetValue:function(b){this.targetValue!==b&&(this.targetValue=b,this.inited&&(this.fireEvent("targetValue",b),this.update()))},update:function(){if(this.canUpdate()){const b=this.setterName,a=this.targetValue,e=this.subviews,c=e.length;if(b)for(let k=0;c>k;)e[k++][b](a)}}});
a.VariableLayout=new f("VariableLayout",a.ConstantLayout,{initNode:function(b,a){this.collapseParent=this.reverse=!1;this.callSuper(b,a)},setCollapseParent:function(b){this.collapseParent!==b&&(this.collapseParent=b,this.inited&&(this.fireEvent("collapseParent",b),this.update()))},setReverse:function(b){this.reverse!==b&&(this.reverse=b,this.inited&&(this.fireEvent("reverse",b),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();this.doBeforeUpdate();const a=this.setterName,
e=this.subviews;var b=e.length;let c=this.targetValue,k,h=0;if(this.reverse)for(k=b;k;)b=e[--k],this.skipSubview(b)||(c=this.updateSubview(++h,b,a,c));else for(k=0;b>k;){const b=e[k++];this.skipSubview(b)||(c=this.updateSubview(++h,b,a,c))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(a,c);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(b){this.attachTo(b,"update","visible")},stopMonitoringSubview:function(b){this.detachFrom(b,
"update","visible")},updateSubview:(b,a,e,c)=>{a[e](c);return c},skipSubview:b=>!b.visible,updateParent:(b,a)=>{}})})(myt);
(a=>{const d=a.DomElementProxy,g=(b,e)=>{const c=a.global.focus.focusedView,k=b.getInnerDomElement();if(c===b||c&&c.isDescendantOf(b))c._ignoreFocus=!0;b=k.scrollTop;const h=k.scrollLeft;e.call();c&&(c._ignoreFocus=!1,c.focus(!0));k.scrollTop=b;k.scrollLeft=h},f=(b,a,e,c)=>{if(a&&"object"===typeof a){if(c&&(c=b.getLeastCommonAncestor(a))){var k=c.getInnerDomElement();c=d.getZIndexRelativeToAncestor(b.getOuterDomElement(),k);k=d.getZIndexRelativeToAncestor(a.getOuterDomElement(),k);e&&(c*=-1,k*=-1);
if(c<k)return!0;if(k<c)return!1}b=b.getOuterDomElement().compareDocumentPosition(a.getOuterDomElement());return e?2===b||10===b:4===b||20===b}return!1},c=b=>{b=b.getAncestors();let a=b.length,e=1,c=1;for(;a;){const k=b[--a];e*=k.scaleX||1;c*=k.scaleY||1;k.__effectiveScaleX=e;k.__effectiveScaleY=c}return{scaleX:e,scaleY:c}},b=(e,c,k)=>{const h=e.getOuterDomElement();if(a.Geometry.rectContainsPoint(c,k,0,0,h.offsetWidth*e.__effectiveScaleX,h.offsetHeight*e.__effectiveScaleY)){if(e=e.parent){const a=
e.getOuterDomElement();return b(e,c+(h.offsetLeft-a.scrollLeft)*e.__effectiveScaleX,k+(h.offsetTop-a.scrollTop)*e.__effectiveScaleY)}return!0}return!1},e=b=>{switch(b.align){case "center":b.releaseConstraint("__doAlignCenter");break;case "right":b.releaseConstraint("__doAlignRight")}},h=b=>{const a=b.parent;if(a)switch(b.align){case "center":b.constrain("__doAlignCenter",[b,"width",b,"alignOffset",a,"width"]);break;case "right":b.constrain("__doAlignRight",[b,"width",b,"alignOffset",a,"width"]);break;
case "left":b.setX(b.alignOffset||0)}},k=b=>{switch(b.valign){case "middle":b.releaseConstraint("__doValignMiddle");break;case "bottom":b.releaseConstraint("__doValignBottom")}},l=b=>{const a=b.parent;if(a)switch(b.valign){case "middle":b.constrain("__doValignMiddle",[b,"height",b,"valignOffset",a,"height"]);break;case "bottom":b.constrain("__doValignBottom",[b,"height",b,"valignOffset",a,"height"]);break;case "top":b.setY(b.valignOffset||0)}},n=(b,a,e)=>{b.getOuterDomStyle()["border"+e+"Radius"]=
a+"px"};a.View=new JS.Class("View",a.Node,{include:[d,a.DomObservable,a.DomObserver,a.ScrollObservable,a.FocusObservable,a.KeyObservable,a.MouseObservable],extend:{retainFocusDuringDomUpdate:g},initNode:function(b,a){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=a.tagName;delete a.tagName;this.setDomElement(this.createOurDomElement(b));const e=this.getOuterDomStyle();e.left=e.top="0px";this.callSuper(b,a);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(b){b=
document.createElement(this.tagName||"div");b.style.position="absolute";const a=this.klass;b.className=a.__cssClassName||(a.__cssClassName="myt-"+a.__displayName.split(".").join("-"));return b},doAfterAdoption:function(){this.__updateBounds(this.width,this.height)},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(b){this.parent!==b&&(this.inited&&(e(this),k(this)),this.callSuper(b),this.align&&
h(this),this.valign&&l(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(b=>b!==this)},setFocusTrap:function(b){this.focusTrap=b},setFocusCage:function(b){this.focusCage=b},setMaskFocus:function(b){this.maskFocus=b},setLayoutHint:function(b){this.layoutHint=b},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(b){if(this.ignoreLayout!==b){var a=this.inited&&
this.parent;let e;if(b){if(a)for(a=this.parent.getLayouts(),e=a.length;e;)a[--e].removeSubview(this);this.ignoreLayout=b}else if(this.ignoreLayout=b,a)for(a=this.parent.getLayouts(),e=a.length;e;)a[--e].addSubview(this)}},setDomClass:function(b){this.domClass!==b&&(this.callSuper(b),this.inited&&this.fireEvent("domClass",b))},setDomId:function(b){this.domId!==b&&(this.callSuper(b),this.inited&&this.fireEvent("domId",b))},setAlignOffset:function(b){this.alignOffset!==b&&(this.alignOffset=b,this.inited&&
this.fireEvent("alignOffset",b),this.parent&&"left"===this.align&&this.setX(b))},setAlign:function(b){this.align!==b&&(this.inited&&e(this),this.align=b,this.inited&&(this.fireEvent("align",b),h(this)))},__doAlignCenter:function(b){this.setX(Math.round((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(b){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(b){this.valignOffset!==b&&(this.valignOffset=b,this.inited&&this.fireEvent("valignOffset",
b),this.parent&&"top"===this.valign&&this.setY(b))},setValign:function(b){this.valign!==b&&(this.inited&&k(this),this.valign=b,this.inited&&(this.fireEvent("valign",b),l(this)))},__doValignMiddle:function(b){this.setY(Math.round((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(b){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(b){this.x!==b&&(this.x=b,this.visible&&(this.getOuterDomStyle().left=b+"px"),this.inited&&this.fireEvent("x",
b))},setY:function(b){this.y!==b&&(this.y=b,this.visible&&(this.getOuterDomStyle().top=b+"px"),this.inited&&this.fireEvent("y",b))},setWidth:function(b,a){0>b&&(b=0);this.width!==b&&(this.width=b,this.getOuterDomStyle().width=b+"px",this.inited&&(this.__updateBounds(b,this.height),a||this.fireEvent("width",b)))},setHeight:function(b,a){0>b&&(b=0);this.height!==b&&(this.height=b,this.getOuterDomStyle().height=b+"px",this.inited&&(this.__updateBounds(this.width,b),a||this.fireEvent("height",b)))},setTextColor:function(b){this.textColor!==
b&&(this.textColor=b,this.getOuterDomStyle().color=b||"inherit",this.inited&&this.fireEvent("textColor",b))},setBgColor:function(b){this.bgColor!==b&&(this.getOuterDomStyle().backgroundColor=this.bgColor=b,this.inited&&this.fireEvent("bgColor",b))},isColorAttr:b=>"bgColor"===b||"textColor"===b,setOpacity:function(b){this.opacity!==b&&(this.getOuterDomStyle().opacity=this.opacity=b,this.inited&&this.fireEvent("opacity",b))},setOverflow:function(b){const a=this.overflow;if(a!==b){this.overflow=b;const e=
this.getInnerDomStyle();if("autox"===b)e.overflowX="auto",e.overflowY="hidden";else if("autoy"===b)e.overflowY="auto",e.overflowX="hidden";else{if("autox"===a||"autoy"===a)e.overflowX=e.overflowY=null;e.overflow=b||"visible"}this.inited&&this.fireEvent("overflow",b)}},setVisible:function(b){if(this.visible!==b){this.visible=b;const a=this.getOuterDomStyle();a.visibility=b?"inherit":"hidden";a.left=b?this.x+"px":"-100000px";a.top=b?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",b)}},
setPointerEvents:function(b){this.pointerEvents!==b&&(this.pointerEvents=b,this.getOuterDomStyle().pointerEvents=b||"auto",this.inited&&this.fireEvent("pointerEvents",b))},setCursor:function(b){this.cursor!==b&&(this.cursor=b,this.getOuterDomStyle().cursor=b||"auto",this.inited&&this.fireEvent("cursor",b))},__updateBounds:function(b,a){this.boundsWidth!==b&&this.fireEvent("boundsWidth",this.boundsWidth=b);this.boundsHeight!==a&&this.fireEvent("boundsHeight",this.boundsHeight=a)},setOutline:function(b){b=
b||[];this.setOutlineWidth(b[0]);this.setOutlineStyle(b[1]);this.setOutlineColor(b[2])},setOutlineWidth:function(b){this.outlineWidth=b||0;this.getOuterDomStyle().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(b){this.getOuterDomStyle().outlineStyle=this.outlineStyle=b||"none"},setOutlineColor:function(b){this.getOuterDomStyle().outlineColor=this.outlineColor=b||"#000000"},setBorder:function(b){b=b||[];this.setBorderWidth(b[0]);this.setBorderStyle(b[1]);this.setBorderColor(b[2])},setBorderWidth:function(b){this.borderWidth=
b||0;this.getOuterDomStyle().borderWidth=this.borderWidth+"px"},setBorderStyle:function(b){this.getOuterDomStyle().borderStyle=this.borderStyle=b||"none"},setBorderColor:function(b){this.getOuterDomStyle().borderColor=this.borderColor=b||"#000000"},setRoundedCorners:function(b){this.getOuterDomStyle().borderRadius=b+"px"},setRoundedTopLeftCorner:function(b){n(this,b,"TopLeft")},setRoundedTopRightCorner:function(b){n(this,b,"TopRight")},setRoundedBottomLeftCorner:function(b){n(this,b,"BottomLeft")},
setRoundedBottomRightCorner:function(b){n(this,b,"BottomRight")},setBoxShadow:function(b){b=b?(b[0]||0)+"px "+(b[1]||0)+"px "+(b[2]||7)+"px "+(b[3]||"#000000"):"none";this.getOuterDomStyle().boxShadow=b},setGradient:function(b){const a=this.getOuterDomStyle();if(b){let c=b[0];"linear"===c||"radial"===c?b.shift():c="linear";let k=b[0];if("radial"===c){void 0===k?k="closest-side":b.shift();var e=b[0];if(void 0===e)e="circle";else{switch(e){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape: "+
e),e="circle"}b.shift()}let a=b[0];void 0===a?a="center":(a=a.replaceAll("middle","center"),b.shift());k=e+" "+k+" at "+a}else"number"===typeof k?(k+="deg",b.shift()):k?(k="to "+k,b.shift()):k="0deg";e=a=>{b.push(a&&"inherit"!==a?a:"transparent")};2>b.length&&e(this.textColor);2>b.length&&e(this.bgColor);a.background=c+"-gradient("+k+","+b.join(",")+")"}else a.background="none";this.bgColor=void 0},setTooltip:function(b){this.tooltip!==b&&(this.tooltip=this.getOuterDomElement().title=b,this.inited&&
this.fireEvent("tooltip",b))},isVisible:function(){return null===this.searchAncestorsOrSelf(b=>!b.visible)},getFocusTrap:function(b){return this.searchAncestorsOrSelf(a=>a.focusCage||a.focusTrap&&!b)},subnodeAdded:function(b){b instanceof a.View?(this.getInnerDomElement().appendChild(b.getOuterDomElement()),this.getSubviews().push(b),this.fireEvent("subviewAdded",b),this.subviewAdded(b)):b instanceof a.Layout&&(this.getLayouts().push(b),this.fireEvent("layoutAdded",b),this.layoutAdded(b))},subnodeRemoved:function(b){let e;
b instanceof a.View?(e=this.getSubviewIndex(b),-1!==e&&(this.fireEvent("subviewRemoved",b),b.removeDomElement(),this.subviews.splice(e,1),this.subviewRemoved(b))):b instanceof a.Layout&&(e=this.getLayoutIndex(b),-1!==e&&(this.fireEvent("layoutRemoved",b),this.layouts.splice(e,1),this.layoutRemoved(b)))},hasSubview:function(b){return-1!==this.getSubviewIndex(b)},getSubviewIndex:function(b){return this.getSubviews().indexOf(b)},subviewAdded:b=>{},subviewRemoved:b=>{},getNextSibling:function(){if(this.parent){const b=
this.getOuterDomElement().nextElementSibling;if(b)return b.model}return null},getPrevSibling:function(){if(this.parent){const b=this.getOuterDomElement().previousElementSibling;if(b)return b.model}return null},hasLayout:function(b){return-1!==this.getLayoutIndex(b)},getLayoutIndex:function(b){return this.getLayouts().indexOf(b)},layoutAdded:b=>{},layoutRemoved:b=>{},isBehind:function(b,a){return f(this,b,!1,a)},isInFrontOf:function(b,a){return f(this,b,!0,a)},bringToFront:function(){this.parent.bringSubviewToFront(this)},
sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(b){this.parent.sendSubviewBehind(this,b)},sendInFrontOf:function(b){this.parent.sendSubviewInFrontOf(this,b)},bringSubviewToFront:function(b){if(b&&b.parent===this){const a=this.getInnerDomElement();b.getOuterDomElement()!==a.lastChild&&g(b,()=>{a.appendChild(b.getOuterDomElement())})}},sendSubviewToBack:function(b){if(b&&b.parent===this){const a=this.getInnerDomElement();b.getOuterDomElement()!==a.firstChild&&g(b,()=>
{a.insertBefore(b.getOuterDomElement(),a.firstChild)})}},sendSubviewBehind:function(b,a){if(b&&a&&b.parent===this&&a.parent===this){const e=this.getInnerDomElement();g(b,()=>{e.insertBefore(b.getOuterDomElement(),a.getOuterDomElement())})}},sendSubviewInFrontOf:function(b,a){b&&a&&b.parent===this&&a.parent===this&&(this.sendSubviewBehind(b,a),this.sendSubviewBehind(a,b))},sortSubviews:function(b){const a=this,e=a.getSubviews().sort(b);g(a,()=>{const b=a.getOuterDomElement(),c=b.parentNode;let k;c&&
(k=b.nextSibling,c.removeChild(b));const h=document.createDocumentFragment(),d=e.length;for(let b=0;d>b;)h.appendChild(e[b++].getOuterDomElement());a.getInnerDomElement().appendChild(h);c&&c.insertBefore(b,k)})},containsPoint:function(b,e,c){const k=this.getOuterDomElement();if(!k)return!1;c=d.getPagePosition(k,c);return a.Geometry.rectContainsPoint(b,e,c.x,c.y,this.width,this.height)},isPointVisible:function(a,e){const k=this.getTruePagePosition();c(this);return b(this,a-k.x,e-k.y)},getEffectiveScale:function(){return c(this)},
getEffectiveScaleX:function(){return c(this).scaleX},getEffectiveScaleY:function(){return c(this).scaleY}})})(myt);
myt.FlexBoxSupport=new JS.Module("FlexBoxSupport",{initNode:function(a,d){this.callSuper(a,d);this.__syncSubviews()},setWidth:function(a,d){this.callSuper(a,d);this.inited&&this.__syncSubviews()},setHeight:function(a,d){this.callSuper(a,d);this.inited&&this.__syncSubviews()},setFlexDirection:function(a){if(this.flexDirection!==a){let d=this.flexDirection=a;switch(d){case "rowReverse":d="row-reverse";break;case "columnReverse":d="column-reverse"}this.getInnerDomStyle().flexDirection=d;this.inited&&
(this.fireEvent("flexDirection",a),this.__syncSubviews())}},setFlexWrap:function(a){if(this.flexWrap!==a){let d=this.flexWrap=a;switch(d){case "wrapReverse":case "reverse":d="wrap-reverse"}this.getInnerDomStyle().flexWrap=d;this.inited&&(this.fireEvent("flexWrap",a),this.__syncSubviews())}},setJustifyContent:function(a){if(this.justifyContent!==a){let d=this.justifyContent=a;switch(d){case "start":d="flex-start";break;case "end":d="flex-end";break;case "spaceBetween":case "between":d="space-between";
break;case "spaceAround":case "around":d="space-around";break;case "spaceEvenly":case "evenly":d="space-evenly"}this.getInnerDomStyle().justifyContent=d;this.inited&&(this.fireEvent("justifyContent",a),this.__syncSubviews())}},setAlignItems:function(a){if(this.alignItems!==a){let d=this.alignItems=a;switch(d){case "start":d="flex-start";break;case "end":d="flex-end"}this.getInnerDomStyle().alignItems=d;this.inited&&(this.fireEvent("alignItems",a),this.__syncSubviews())}},setAlignContent:function(a){if(this.alignContent!==
a){let d=this.alignContent=a;switch(d){case "start":d="flex-start";break;case "end":d="flex-end";break;case "spaceBetween":case "between":d="space-between";break;case "spaceAround":case "around":d="space-around"}this.getInnerDomStyle().alignContent=d;this.inited&&(this.fireEvent("alignContent",a),this.__syncSubviews())}},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.display="flex";return a},subviewAdded:function(a){a&&!a.ignoreFlex&&(a.getOuterDomStyle().position=
"",this.inited&&this.__syncSubviews())},__syncSubviews:function(){this.getSubviews().forEach(a=>this.__syncSubview(a))},__syncSubview:function(a){a&&a.syncInnerToOuter&&!a.ignoreFlex&&(a.syncInnerToOuter(),a.syncModelToOuterBounds())},subviewRemoved:function(a){!a||a.destroyed||a.ignoreFlex||(a.getOuterDomStyle().position="absolute")}});myt.FlexBox=new JS.Class("FlexBox",myt.View,{include:[myt.FlexBoxSupport]});
(a=>{const d=(a,c,b)=>{const e=g(a,c);a.getOuterDomStyle().transform=e+(0===e.length?"":" ")+c+"("+b+")"},g=(a,c)=>{a=a.getOuterDomStyle();var b=a.transform;let e;if(!b||0===b.length)return"";b=b.split(" ");for(e=b.length;e;)if(0===b[--e].indexOf(c)){b.splice(e,1);break}return a.transform=b.join(" ")};a.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(a){this.transformOrigin!==a&&(this.transformOrigin=a,this.getOuterDomStyle().transformOrigin=a||"50% 50% 0",this.inited&&
(this.__updateBounds(this.width,this.height),this.fireEvent("transformOrigin",a)))},setRotation:function(a){this.rotation!==a&&(this.rotation=a,d(this,"rotate",(a||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",a)))},setScale:function(a){const c=this.scaleX!==a;if(c){var b=this.scaleX=a;null==b?g(this,"scaleX"):d(this,"scaleX",b||1)}if(b=this.scaleY!==a){var e=this.scaleY=a;null==e?g(this,"scaleY"):d(this,"scaleY",e||1)}this.inited&&((c||b)&&this.__updateBounds(this.width,
this.height),c&&this.fireEvent("scaleX",a),b&&this.fireEvent("scaleY",a))},setScaleX:function(a){if(this.scaleX!==a){var c=this.scaleX=a;null==c?g(this,"scaleX"):d(this,"scaleX",c||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",a))}},setScaleY:function(a){if(this.scaleY!==a){var c=this.scaleY=a;null==c?g(this,"scaleY"):d(this,"scaleY",c||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",a))}},setSkewX:function(a){this.skewX!==
a&&(this.skewX=a,d(this,"skewX",a||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",a)))},setSkewY:function(a){this.skewY!==a&&(this.skewY=a,d(this,"skewY",a||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",a)))},__updateBounds:function(a,c){const b=this.rotation,e=this.scaleX,h=this.scaleY;let k=!1;void 0!==e&&1!==e||void 0!==h&&1!==h||(k=!0);if(!k||void 0!==b&&0!==b&&180!==b)!k||90!==b&&270!==b?(c=this.getOuterDomElement().getBoundingClientRect(),
a=c.width,c=c.height):(a=this.height,c=this.width);this.callSuper(a,c)}})})(myt);
(a=>{const d=JS.Module,g=(b,a)=>{if("auto"===a)b.__hasSetWidth=!1,b.getOuterDomStyle().width="auto",b.sizeViewToDom();else return b.__hasSetWidth=!0},f=(b,a)=>{if("auto"===a)b.__hasSetHeight=!1,b.getOuterDomStyle().height="auto",b.sizeViewToDom();else return b.__hasSetHeight=!0},c=b=>{if(!b.__hasSetWidth){const a=b.getOuterDomElement().offsetWidth/b.getEffectiveScaleX();b.width!==a&&(b.width=a,b.inited&&b.__updateBounds(a,b.height),b.fireEvent("width",a))}},b=b=>{if(!b.__hasSetHeight){const a=b.getOuterDomElement().offsetHeight/
b.getEffectiveScaleY();b.height!==a&&(b.height=a,b.inited&&b.__updateBounds(b.width,a),b.fireEvent("height",a))}};a.SizeToDom=new d("SizeToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(b,a){g(this,b)&&this.callSuper(b,a)},setHeight:function(b,a){f(this,b)&&this.callSuper(b,a)},sizeViewToDom:function(){c(this);b(this)}});a.SizeWidthToDom=new d("SizeWidthToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(b,a){g(this,
b)&&this.callSuper(b,a)},sizeViewToDom:function(){c(this)}});a.SizeHeightToDom=new d("SizeHeightToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setHeight:function(b,a){f(this,b)&&this.callSuper(b,a)},sizeViewToDom:function(){b(this)}})})(myt);
myt.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,d){this.callSuper(a,d);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a||this.sizeViewToDom())},setText:function(a){a||(a="");"object"===typeof a&&(a=a.value);this.text!==a&&(this.getInnerDomElement().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==a&&(this.textOverflow=a,this.getInnerDomStyle().textOverflow=a||"inherit",this.inited&&
this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getInnerDomStyle().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){this.__s(a,"whiteSpace")},setWordWrap:function(a){this.__s(a,"wordWrap","normal")},setTextIndent:function(a){this.__s(a,"textIndent")},setTextTransform:function(a){this.__s(a,"textTransform")},setTextDecoration:function(a){this.__s(a,"textDecoration")},setLineHeight:function(a){this.__s(a,
"lineHeight")},setLetterSpacing:function(a){this.__s(a,"letterSpacing")},setWordSpacing:function(a){this.__s(a,"wordSpacing")},setFontFamily:function(a){this.__s(a,"fontFamily")},setFontStyle:function(a){this.__s(a,"fontStyle")},setFontVariant:function(a){this.__s(a,"fontVariant")},setFontWeight:function(a){this.__s(a,"fontWeight")},setFontSize:function(a){this.__s(a,"fontSize")},__s:function(a,d,g){this[d]!==a&&(this[d]=a,this.getInnerDomStyle()[d]=a||g||"inherit",this.inited&&(this.fireEvent(d,
a),this.sizeViewToDom()))},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,d,g,f,c){a=(a||0)+"px "+(d||0)+"px "+(null!=g?g:
2)+"px "+(f||"#000000");if(0<c){for(d=[a];c--;)d.push(a);a=d.join(",")}this.getInnerDomStyle().textShadow=a},hideTextShadow:function(){this.getInnerDomStyle().textShadow="none"}});
myt.Text=new JS.Class("Text",myt.View,{include:[myt.SizeToDom,myt.TextSupport],initNode:function(a,d){null==d.whiteSpace&&(d.whiteSpace="nowrap");null==d.userUnselectable&&(d.userUnselectable=!0);this.callSuper(a,d)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.deStyle,d=a.whiteSpace;a.whiteSpace="nowrap";const g=this.getOuterDomElement().offsetWidth;a.whiteSpace=d;return g}});
myt.ImageSupport=new JS.Module("ImageSupport",{extend:{SIZE_CACHE:{},OPEN_SIZE_QUERIES:{}},initNode:function(a,d){null==d.imageRepeat&&(d.imageRepeat="no-repeat");null==d.imageAttachment&&(d.imageAttachment="scroll");this.callSuper(a,d)},setImageUrl:function(a){this.imageUrl!==a&&(this.imageUrl=a,this.deStyle.backgroundImage=a?'url("'+a+'")':"none",this.inited&&(this.fireEvent("imageUrl",a),this.setNaturalWidth(void 0),this.setNaturalHeight(void 0),!a&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
this.__calculateNaturalSize())},setImageLoadingError:function(a){this.set("imageLoadingError",a,!0)},setImageSize:function(a){this.imageSize!==a&&(this.imageSize=a,this.deStyle.backgroundSize=a||"auto",this.inited&&this.fireEvent("imageSize",a))},setImageRepeat:function(a){this.imageRepeat!==a&&(this.deStyle.backgroundRepeat=this.imageRepeat=a,this.inited&&this.fireEvent("imageRepeat",a))},setImagePosition:function(a){this.imagePosition!==a&&(this.deStyle.backgroundPosition=this.imagePosition=a,this.inited&&
this.fireEvent("imagePosition",a))},setImageAttachment:function(a){this.imageAttachment!==a&&(this.deStyle.backgroundAttachment=this.imageAttachment=a,this.inited&&this.fireEvent("imageAttachment",a))},setCalculateNaturalSize:function(a){this.calculateNaturalSize!==a&&(this.calculateNaturalSize=a,this.inited&&this.fireEvent("calculateNaturalSize",a),this.__calculateNaturalSize())},setNaturalWidth:function(a){this.naturalWidth!==a&&(this.naturalWidth=a,this.inited&&this.fireEvent("naturalWidth",a),
this.useNaturalSize&&a&&this.setWidth(a))},setNaturalHeight:function(a){this.naturalHeight!==a&&(this.naturalHeight=a,this.inited&&this.fireEvent("naturalHeight",a),this.useNaturalSize&&a&&this.setHeight(a))},setUseNaturalSize:function(a){this.useNaturalSize!==a&&(this.useNaturalSize=a,this.inited&&this.fireEvent("useNaturalSize",a),a&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),a&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))},
__calculateNaturalSize:function(){const a=this.imageUrl;if(this.calculateNaturalSize&&a){const g=myt.ImageSupport.SIZE_CACHE;var d=g[a];if(d)this.setNaturalWidth(d.width),this.setNaturalHeight(d.height);else{const f=myt.ImageSupport.OPEN_SIZE_QUERIES;d=f[a];if(!d){f[a]=d=[];const c=new Image;c.onerror=function(b){if(b=f[a]){let e=b.length;for(;e;)b[--e].setImageLoadingError(!0);b.length=0;delete f[a]}};c.onload=function(){const b=this.width,e=this.height,c=f[a];if(c){let k=c.length,h;for(;k;)h=c[--k],
h.imageUrl===a&&(h.setNaturalWidth(b),h.setNaturalHeight(e));c.length=0;delete f[a]}g[a]={width:b,height:e}};c.src=a}d.push(this)}}}});myt.Image=new JS.Class("Image",myt.View,{include:[myt.ImageSupport],initNode:function(a,d){null==d.useNaturalSize&&(d.useNaturalSize=!0);this.callSuper(a,d)}});myt.Markup=new JS.Class("Markup",myt.View,{include:[myt.SizeToDom],setHtml:function(a){this.html!==a&&(this.getInnerDomElement().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});
myt.Frame=new JS.Class("Frame",myt.View,{initNode:function(a,d){null==d.tagName&&(d.tagName="iframe");this.callSuper(a,d);a=myt.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getInnerDomElement().src=a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=
this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});
(a=>{const d=b=>{const a=b.parent;a&&0<=b.percentOfParentWidth&&b.syncTo(a,"__doPOPW","width")},g=b=>{0<=b.percentOfParentWidth&&b.detachFrom(b.parent,"__doPOPW","width")},f=b=>{const a=b.parent;a&&0<=b.percentOfParentHeight&&b.syncTo(a,"__doPOPH","height")},c=b=>{0<=b.percentOfParentHeight&&b.detachFrom(b.parent,"__doPOPH","height")};a.SizeToParent=new JS.Module("SizeToParent",{setParent:function(b){this.parent!==b&&(this.inited&&(g(this),c(this)),this.callSuper(b),d(this),f(this))},setPercentOfParentWidthOffset:function(b){this.percentOfParentWidthOffset!==
b&&(this.percentOfParentWidthOffset=b,this.inited&&(this.fireEvent("percentOfParentWidthOffset",b),this.__doPOPW()))},setPercentOfParentWidth:function(b){this.percentOfParentWidth!==b&&(this.inited&&g(this),this.percentOfParentWidth=b,this.inited&&this.fireEvent("percentOfParentWidth",b),d(this))},setPercentOfParentHeightOffset:function(b){this.percentOfParentHeightOffset!==b&&(this.percentOfParentHeightOffset=b,this.inited&&(this.fireEvent("percentOfParentHeightOffset",b),this.__doPOPH()))},setPercentOfParentHeight:function(b){this.percentOfParentHeight!==
b&&(this.inited&&c(this),this.percentOfParentHeight=b,this.inited&&this.fireEvent("percentOfParentHeight",b),f(this))},__doPOPW:function(b){this.setWidth((this.percentOfParentWidthOffset||0)+Math.round(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(b){this.setHeight((this.percentOfParentHeightOffset||0)+Math.round(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(a=>{let d;const g=[];new JS.Singleton("GlobalRootViewRegistry",{include:[a.Observable],initialize:function(){a.global.register("roots",d=this)},getRoots:()=>g,addRoot:a=>{g.push(a);d.fireEvent("rootAdded",a)},removeRoot:a=>{let c=g.length;for(;c;){const b=g[--c];if(b===a){g.splice(c,1);d.fireEvent("rootRemoved",b);break}}}})})(myt);
myt.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:function(a){const d=a.__captureDrop=a=>{a.preventDefault()};a=a.domElement;myt.addEventListener(a,"drop",d);myt.addEventListener(a,"dragover",d)},teardownCaptureDrop:function(a){const d=a.domElement;a=a.__captureDrop;myt.removeEventListener(d,"drop",a);myt.removeEventListener(d,"dragover",a)}},initNode:function(a,d){this.callSuper(a,d);this.setZIndex(0);this.addDomClass("myt");myt.global.roots.addRoot(this);myt.RootView.setupCaptureDrop(this)},
createOurDomElement:function(a){a||(a=this.callSuper(a),myt.getElement().appendChild(a));return a},destroyAfterOrphaning:function(){myt.RootView.teardownCaptureDrop(this);myt.global.roots.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(a){this.keepDomElementWhenDestroyed=a},setParent:function(a){this.callSuper(void 0)},bringToFront:function(){var a=this.domElement;const d=a.parentNode;a!==d.lastChild&&(a=d.removeChild(a))&&
d.appendChild(a)},sendToBack:function(){var a=this.domElement;const d=a.parentNode;a!==d.firstChild&&(a=d.removeChild(a))&&d.insertBefore(a,d.firstChild)},sendBehind:function(a){var d=this.domElement;a=a.domElement;const g=d.parentNode;a.parentNode===g&&(d=g.removeChild(d))&&g.insertBefore(d,a)},sendInFrontOf:function(a){a.domElement.parentNode===this.domElement.parentNode&&(this.sendBehind(a),a.sendBehind(this))}});
(a=>{const d=window;let g,f;new JS.Singleton("GlobalWindowResize",{include:[a.Observable],initialize:function(){a.addEventListener(d,"resize",a=>{this.fireEvent("resize",{w:g=d.innerWidth,h:f=d.innerHeight})});a.global.register("windowResize",this)},getWidth:()=>g||(g=d.innerWidth),getHeight:()=>f||(f=d.innerHeight)})})(myt);
(a=>{const d=JS.Module,g=a.global.windowResize,f=b=>{const a=b.resizeDimension;"width"!==a&&"both"!==a||b.setWidth(Math.max(b.minWidth,g.getWidth()));"height"!==a&&"both"!==a||b.setHeight(Math.max(b.minHeight,g.getHeight()))},c=a.SizeToWindow=new d("SizeToWindow",{include:[a.RootView],initNode:function(b,a){this.minWidth=this.minHeight=0;null==a.resizeDimension&&(a.resizeDimension="both");this.attachTo(g,"__handleResize","resize");this.callSuper(b,a)},setResizeDimension:function(b){this.resizeDimension!==
b&&(this.resizeDimension=b,f(this))},setMinWidth:function(b){this.minWidth!==b&&(this.minWidth=b,f(this))},setMinHeight:function(b){this.minHeight!==b&&(this.minHeight=b,f(this))},__handleResize:function(b){f(this)}});a.SizeToWindowWidth=new d("SizeToWindowWidth",{include:[c],initNode:function(b,a){null==a.resizeDimension&&(a.resizeDimension="width");this.callSuper(b,a)}});a.SizeToWindowHeight=new d("SizeToWindowHeight",{include:[c],initNode:function(b,a){null==a.resizeDimension&&(a.resizeDimension=
"height");this.callSuper(b,a)}})})(myt);
(a=>{const d=window,g={};let f,c,b,e=!1;new JS.Singleton("GlobalIdle",{include:[a.Observable],initialize:function(){const e=this,k=["webkit","moz","ms","o"];for(let b=0;b<k.length&&!d.requestAnimationFrame;){const a=k[b++];d.requestAnimationFrame=d[a+"RequestAnimationFrame"];d.cancelAnimationFrame=d[a+"CancelAnimationFrame"]||d[a+"CancelRequestAnimationFrame"]}c=a=>{f=d.requestAnimationFrame(c);-1!==b&&(a=Math.round(a),g.delta=a-b,g.time=a,e.fireEvent("idle",g));b=a};a.global.register("idle",e)},
attachObserver:function(a,k,l){a=this.callSuper(a,k,l);!e&&this.hasObservers("idle")&&(e=!0,b=-1,f=d.requestAnimationFrame(c));return a},detachObserver:function(b,a,c){b=this.callSuper(b,a,c);e&&!this.hasObservers("idle")&&(d.cancelAnimationFrame(f),e=!1);return b}})})(myt);
(a=>{const d=(b,e,c,h,d)=>{const k=a.Color;b=k.makeColorFromHexString(b);e=k.makeColorFromHexString(e);h=h?k.makeColorFromHexString(d):b;h.setRed(h.red+(e.red-b.red)*c);h.setGreen(h.green+(e.green-b.green)*c);h.setBlue(h.blue+(e.blue-b.blue)*c);return h.getHtmlHexString()},g=b=>{b.__temporaryFrom=!1;b.__loopCount=b.reverse?b.repeat-1:0;b.__progress=b.reverse?b.duration:0},f=(b,a)=>{if(b.running&&!b.paused){const n=b.reverse,g=b.duration,l=b.repeat;n&&(a*=-1);var e=b.__progress;b.__progress+=a;a=0;
b.__progress>g?(a=b.__progress-g,b.__progress=g,++b.__loopCount===l&&(a=0)):0>b.__progress&&(a=-b.__progress,b.__progress=0,0>--b.__loopCount&&0<l&&(a=0));var c=b.target||b.parent;if(c){{const a=b.relative;var k=b.duration;const f=b.attribute;var h=Math.max(0,b.__progress/k);e=Math.max(0,e/k);null==b.from&&(b.__temporaryFrom=!0,b.from=a?b.__isColorAnim?"#000000":0:c.get(f));e=b.easingFunction(h)-(a?b.easingFunction(e):0);h=a?c.get(f):b.from;k=b.to;c.set(f,b.__isColorAnim?d(b.from,k,e,a,h):h+(k-b.from)*
e)}!n&&b.__loopCount===l||n&&0>b.__loopCount&&0<l?(b.setRunning(!1),b.callback&&b.callback.call(b,!0)):0<a&&(b.fireEvent("repeat",b.__loopCount),b.__progress=n?g:0,f(b,a))}else console.log("No target found for animator.",b),b.setRunning(!1),b.callback&&b.callback.call(b,!1)}},c=Math.PI,b=2*c,e=c/2,h=a.Animator=new JS.Class("Animator",a.Node,{include:[a.Reusable],extend:{easingFunctions:{linear:b=>b,easeInQuad:b=>b*b,easeOutQuad:b=>-b*(b-2),easeInOutQuad:b=>1>(b/=.5)?.5*b*b:-.5*(--b*(b-2)-1),easeInCubic:b=>
b*b*b,easeOutCubic:b=>--b*b*b+1,easeInOutCubic:b=>1>(b/=.5)?.5*b*b*b:.5*((b-=2)*b*b+2),easeInQuart:b=>b*b*b*b,easeOutQuart:b=>-(--b*b*b*b-1),easeInOutQuart:b=>1>(b/=.5)?.5*b*b*b*b:-.5*((b-=2)*b*b*b-2),easeInQuint:b=>b*b*b*b*b,easeOutQuint:b=>--b*b*b*b*b+1,easeInOutQuint:b=>1>(b/=.5)?.5*b*b*b*b*b:.5*((b-=2)*b*b*b*b+2),easeInSine:b=>-Math.cos(b*e)+1,easeOutSine:b=>Math.sin(b*e),easeInOutSine:b=>-.5*(Math.cos(c*b)-1),easeInCirc:b=>-(Math.sqrt(1-b*b)-1),easeOutCirc:b=>Math.sqrt(1- --b*b),easeInOutCirc:b=>
1>(b/=.5)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1),easeInExpo:b=>0==b?0:Math.pow(2,10*(b-1)),easeOutExpo:b=>1==b?1:-Math.pow(2,-10*b)+1,easeInOutExpo:b=>0==b?0:1==b?1:1>(b/=.5)?.5*Math.pow(2,10*(b-1)):.5*(-Math.pow(2,-10*--b)+2),easeInElastic:a=>0==a?0:1==a?1:-(Math.pow(2,10*--a)*Math.sin((1*a-.075)*b/.3)),easeOutElastic:a=>0==a?0:1==a?1:Math.pow(2,-10*a)*Math.sin((1*a-.075)*b/.3)+1,easeInOutElastic:a=>0==a?0:2==(a/=.5)?1:1>a?-.5*Math.pow(2,10*--a)*Math.sin((1*a-.1125)*b/.45):Math.pow(2,
-10*--a)*Math.sin((1*a-.1125)*b/.45)*.5+1,easeInBack:(b,a=1.70158)=>(b/=1)*b*((a+1)*b-a),easeOutBack:(b,a=1.70158)=>(b=b/1-1)*b*((a+1)*b+a)+1,easeInOutBack:(b,a=1.70158)=>1>(b/=.5)?.5*b*b*(((a*=1.525)+1)*b-a):.5*((b-=2)*b*(((a*=1.525)+1)*b+a)+2),easeInBounce:b=>1-h.easingFunctions.easeOutBounce(1-b),easeOutBounce:b=>b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375,easeInOutBounce:b=>.5>b?.5*h.easingFunctions.easeInBounce(2*
b):.5*h.easingFunctions.easeOutBounce(2*b-1)+.5}},initNode:function(b,a){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.callSuper(b,a);g(this)},setRunning:function(b){if(this.running!==b&&(this.running=b,this.inited&&this.fireEvent("running",b),!this.paused)){if(b){{const b=this.target||this.parent;this.__isColorAnim=b&&"function"===typeof b.isColorAttr?b.isColorAttr(this.attribute):void 0}}else this.__temporaryFrom&&
(this.from=void 0),g(this);this[b?"attachTo":"detachFrom"](a.global.idle,"__updateAnim","idle")}},setPaused:function(b){if(this.paused!==b&&(this.paused=b,this.inited&&this.fireEvent("paused",b),this.running))this[b?"detachFrom":"attachTo"](a.global.idle,"__updateAnim","idle")},setReverse:function(b){this.reverse!==b&&(this.reverse=b,this.inited&&this.fireEvent("reverse",b),this.running||g(this))},setEasingFunction:function(b){"string"===typeof b&&(b=h.easingFunctions[b]);b||(b=h.DEFAULT_EASING_FUNCTION);
this.set("easingFunction",b,!0)},setFrom:function(b){this.set("from",b,!0)},setTo:function(b){this.set("to",b,!0)},setCallback:function(b){this.callback=b},next:function(b,a){const e=this,c=e.callback;c&&!a?e.setCallback(a=>{c.call(e,a);b.call(e,a)}):e.setCallback(b)},reset:function(b){g(this);this.setRunning(!1);this.setPaused(!1);b&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=
1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.reset(!1)},__updateAnim:function(b){f(this,b.value.delta)}});h.DEFAULT_EASING_FUNCTION=h.easingFunctions.easeInOutQuad})(myt);
(a=>{const d=b=>{b.__additionalArgs=[];b.__pendingTransition="";b.__transDestinationState="";b.__transStage="leaveState"},g=(b,a)=>{if(b.__transInProgress){var e=b.__deferredTransitions;e||(e=b.__deferredTransitions=[]);e.unshift(a)}else{b.__transInProgress=!0;e=a.shift();const h=a.shift();if(b.__pendingTransition)return c.PENDING;if(b.isFinished())return b.__transInProgress=!1,c.NO_TRANSITION;let d=b.map[b.current][h];d||(d=b.map["*"][h]);if(d)return b.__pendingTransition=h,b.__transDestinationState=
d,b.__additionalArgs=a,b.resumeTransition(e);b.__transInProgress=!1;return c.NO_TRANSITION}},f=b=>{b.__transInProgress=!1;const a=b.__deferredTransitions;if(a)for(;0<a.length;)g(b,a.pop())},c=a.StateMachine=new JS.Class("StateMachine",a.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(b,a){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";d(this);this.callSuper(b,a)},setInitialState:function(b){if(""===this.current){if(Array.isArray(b)){var a=
b;b=a.shift()}else a=[];this.current=this.initial=b;this.doEnterState("","",b,a);a={name:"",from:"",to:b,args:a};this.fireEvent("enter"+b,a);this.fireEvent("enter",a);this.isFinished()&&this.fireEvent("finished",a)}},setTerminalState:function(b){this.terminal=b},addTransitions:function(b){b.forEach(b=>this.addTransition(...b))},addTransition:function(b,a,c){const e=this.map;a=a?Array.isArray(a)?a:[a]:["*"];let h=a.length,d;for(;h;)(d=e[a[--h]])||(d=e[a[h]]={}),d[b]=c},doTransition:function(...b){b.unshift("sync");
return g(this,b)},doAsyncTransition:function(...b){b.unshift("async");return g(this,b)},resumeTransition:function(b){const a=this.__pendingTransition;if(!a)return c.INVALID;const h=this.current,k=this.__transDestinationState,g=this.__additionalArgs,n={name:a,from:h,to:k,args:g};switch(this.__transStage){case "leaveState":const e=this.doLeaveState(a,h,k,g);if(!1===e)return d(this),f(this),c.CANCELLED;if("async"===e||"async"===b)return this.__transStage="enterState",this.fireEvent("start"+a,n),this.fireEvent("start",
n),this.fireEvent("leave"+h,n),this.fireEvent("leave",n),f(this),c.PENDING;this.fireEvent("start"+a,n);this.fireEvent("start",n);this.fireEvent("leave"+h,n);this.fireEvent("leave",n);case "enterState":this.current=k,d(this),this.doEnterState(a,h,k,g),this.fireEvent("enter"+k,n),this.fireEvent("enter",n),this.fireEvent("end"+a,n),this.fireEvent("end",n),this.isFinished()&&this.fireEvent("finished",n)}f(this);return c.SUCCEEDED},doLeaveState:(b,a,c,d)=>{},doEnterState:(b,a,c,d)=>{},isFinished:function(){return this.is(this.terminal)},
isStarting:function(){return this.is(this.initial)},is:function(b){return Array.isArray(b)?0<=b.indexOf(this.current):this.current===b},can:function(b){return void 0!==this.map[this.current][b]?!0:void 0!==this.map["*"][b]}})})(myt);
(a=>{const d=(b,a)=>b.replicationIndex-a.replicationIndex,g=(b,a)=>{let e=b.length,c;for(;e;)c=b[--e],c.decrementLockedCounter(),a&&c.update()},f=b=>{c(b);const e=b.template;e&&(b.__pool=new a.TrackActivesPool(e,b.parent))},c=b=>{const a=b.__pool;if(a){const e=b.parent.getLayouts();{b=e;let a=b.length;for(;a;)b[--a].incrementLockedCounter()}a.putActives();a.destroyPooledInstances();g(e,!1);a.destroy()}};a.Replicable=new JS.Module("Replicable",{include:[a.Reusable],replicate:function(b,a){this.replicationData=
b;this.replicationIndex=a},notify:function(b,a){},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(b,a){return a===this.replicationIndex&&b===this.replicationData}});a.Replicator=new JS.Class("Replicator",a.Node,{initNode:function(b,a){this.callSuper(b,a);f(this);this.doReplication()},destroyAfterOrphaning:function(){c(this);this.callSuper()},setTemplate:function(b){(this.template=b.includes(a.Replicable)?b:null)||a.dumpStack("Template not an myt.Replicable");
this.inited&&(f(this),this.doReplication())},setData:function(b){this.data=b;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const b=this.__pool;let a;if(b){a=this.parent.getLayouts();for(var c=a.length;c;)a[--c].incrementLockedCounter();const e=(c=this.data)?c.length:0,h=b.getActives(),f=h.length,m=[];let p=f,r,q;for(h.sort(d);p;)if(r=h[--p],q=r.replicationIndex,q>=e||!r.alreadyHasReplicationData(c[q],q))m[q]=r;for(p=m.length;p;)(r=
m[--p])&&b.putInstance(r);for(p=0;e>p;++p)(p>=f||null!=m[p])&&b.getInstance().replicate(c[p],p);for(p=a.length;p;)a[--p].sortSubviews(d);g(a,!0)}},notify:function(b,a){var e=this.__pool;if(e){e=e.getActives();let c=e.length;for(;c;)e[--c].notify(b,a)}}})})(myt);
myt.WrappingLayout=new JS.Class("WrappingLayout",myt.VariableLayout,{initNode:function(a,d){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(a,d)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const d="y"===a,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";const f=this.measureAttrBaseName=d?"height":"width";this.otherMeasureAttrName=d?"boundsWidth":"boundsHeight";const c=this.otherMeasureAttrBaseName=d?"width":"height";this.parentSetterName=d?"setWidth":"setHeight";this.otherSetterName=d?"setX":"setY";g&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(c),this.startMonitoringParent(f));this.callSuper(a)}},setParent:function(a){if(this.parent!==
a){const d="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(d?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(d?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.inited&&(this.fireEvent("spacing",a),this.update()))},setOutset:function(a){this.outset!==a&&(this.outset=a,this.inited&&(this.fireEvent("outset",a),this.update()))},
setLineSpacing:function(a){this.lineSpacing!==a&&(this.lineSpacing=a,this.inited&&(this.fireEvent("lineSpacing",a),this.update()))},setLineInset:function(a){this.lineInset!==a&&(this.lineInset=a,this.inited&&(this.fireEvent("lineInset",a),this.update()))},setLineOutset:function(a){this.lineOutset!==a&&(this.lineOutset=a,this.inited&&(this.fireEvent("lineOutset",a),this.update()))},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,
"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update",this.otherMeasureAttrName);this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,
d,g,f){a=d[this.measureAttrName];const c=d[this.otherMeasureAttrName];f+a>this.parentSizeLessOutset||"break"===d.layoutHint?(f=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=c,++this.lineCount):c>this.lineSize&&(this.lineSize=c);d[this.otherSetterName](this.linePos+(c-d[this.otherMeasureAttrBaseName])/2);d[g](f+(a-d[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,f+a+this.outset);return f+a+this.spacing},updateParent:function(a,d){this.parent[this.parentSetterName](this.linePos+
this.lineSize+this.lineOutset)}});
myt.SpacedLayout=new JS.Class("SpacedLayout",myt.VariableLayout,{initNode:function(a,d){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,d)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const d="y"===a,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
d?"height":"width";this.parentSetterName=d?"setHeight":"setWidth";g&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.inited&&(this.fireEvent("spacing",a),this.update()))},setOutset:function(a){this.outset!==a&&(this.outset=a,this.inited&&(this.fireEvent("outset",
a),this.update()))},addSubview:function(a){const d=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=d},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,d,g,f){a=d[this.measureAttrName];d[g](f+(a-d[this.measureAttrBaseName])/2);return f+a+this.spacing},updateParent:function(a,d){this.parent[this.parentSetterName](d+
this.outset-this.spacing)}});
myt.ResizeLayout=new JS.Class("SpacedLayout",myt.SpacedLayout,{setCollapseParent:function(a){},setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){const d="x"===a;this.stopMonitoringParent(d?"height":"width");this.startMonitoringParent(d?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const d="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(d);this.callSuper(a);this.parent&&this.startMonitoringParent(d)}},startMonitoringParent:function(a){this.attachTo(this.parent,
"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){const a=this.measureAttrName;let d=this.parent[this.measureAttrBaseName];d-=this.targetValue+this.outset;const g=this.subviews;let f=g.length,c,b=0,e=0;for(;f;)c=g[--f],this.skipSubview(c)||(++b,0<c.layoutHint?e+=c.layoutHint:d-=c[a]);0!==b&&(this.remainder=d-=(b-1)*this.spacing,this.resizeSum=e,this.scalingFactor=d/e,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===
a?"setWidth":"setHeight")},updateSubview:function(a,d,g,f){var c=d.layoutHint;0<c&&(this.resizeSumUsed+=c,c=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(c*this.scalingFactor),this.remainderUsed+=c,d[this.measureSetter](c));return this.callSuper(a,d,g,f)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<a.layoutHint||this.detachFrom(a,"update",
this.measureAttrName);this.detachFrom(a,"update","visible")},updateParent:function(a,d){}});
myt.AlignedLayout=new JS.Class("AlignedLayout",myt.VariableLayout,{initNode:function(a,d){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,d)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const d="y"===a,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
d?"height":"width";this.parentSetterName=d?"setHeight":"setWidth";g&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;const d=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=d;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,
"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){const a=this.measureAttrName,d=this.subviews;let g=0,f,c=d.length;for(;c;)f=d[--c],this.skipSubview(f)||(g=g>f[a]?g:f[a]);this.setTargetValue(g)},updateSubview:function(a,d,g,f){switch(this.align){case "center":case "middle":d[g]((f-d[this.measureAttrName])/2);break;case "right":case "bottom":d[g](f-d[this.measureAttrName]);break;default:d[g](0)}return f},updateParent:function(a,d){this.parent[this.parentSetterName](d)}});
myt.UpdateableUI=new JS.Module("UpdateableUI",{initNode:function(a,d){this.callSuper(a,d);this.updateUI()},updateUI:()=>{}});myt.Disableable=new JS.Module("Disableable",{initNode:function(a,d){null==d.disabled&&(d.disabled=!1);this.callSuper(a,d)},setDisabled:function(a){this.disabled!==a&&(this.disabled=a,this.inited&&this.fireEvent("disabled",a),this.doDisabled())},doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});
new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
myt.MouseOver=new JS.Module("MouseOver",{initNode:function(a,d){null==d.mouseOver&&(d.mouseOver=!1);this.callSuper(a,d);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(a){this.mouseOver!==a&&(this.mouseOver=a,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(myt.global.idle,"__doMouseOverOnIdle","idle")))},setDisabled:function(a){this.callSuper(a);this.disabled?this.mouseOver&&(this.__disabledOver=
!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(myt.global.idle,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const a=this.mouseOver;this.__lastOverIdleValue!==a&&(this.__lastOverIdleValue=a,this.doSmoothMouseOver(a))},doSmoothMouseOver:function(a){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(a){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(a){this.__disabledOver=
!1;this.disabled||this.setMouseOver(!1)}});
myt.MouseDown=new JS.Module("MouseDown",{initNode:function(a,d){null==d.mouseDown&&(d.mouseDown=!1);this.callSuper(a,d);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(a){this.mouseDown!==a&&(this.mouseDown=a,this.inited&&(a&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(a){a&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(a)},doMouseOver:function(a){this.callSuper(a);this.mouseDown&&
this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseOut:function(a){this.callSuper(a);!this.disabled&&this.mouseDown&&this.attachToDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseDown:function(a){this.disabled||this.setMouseDown(!0)},doMouseUp:function(a){this.mouseOver||this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(a))},doMouseUpInside:function(a){this.doActivated&&
this.doActivated()}});myt.MouseOverAndDown=new JS.Module("MouseOverAndDown",{include:[myt.MouseOver,myt.MouseDown]});myt.Activateable=new JS.Module("Activateable",{doActivated:()=>{}});
myt.KeyActivation=new JS.Module("KeyActivation",{extend:{DEFAULT_ACTIVATION_KEYS:[13,32]},initNode:function(a,d){this.activateKeyDown=-1;null==d.activationKeys&&(d.activationKeys=myt.KeyActivation.DEFAULT_ACTIVATION_KEYS);this.callSuper(a,d);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(a){this.activationKeys=a},setRepeatKeyDown:function(a){this.repeatKeyDown=
a},__handleKeyDown:function(a){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const d=myt.KeyObservable.getKeyCodeFromEvent(a),g=this.activationKeys;let f=g.length;for(;f;)if(d===g[--f]){this.activateKeyDown===d?this.doActivationKeyDown(d,!0):(this.activateKeyDown=d,this.doActivationKeyDown(d,!1));a.value.preventDefault();break}}},__handleKeyPress:function(a){if(!this.disabled){const d=myt.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===d){const g=this.activationKeys;
let f=g.length;for(;f;)if(d===g[--f]){a.value.preventDefault();break}}}},__handleKeyUp:function(a){if(!this.disabled){const d=myt.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===d){const g=this.activationKeys;let f=g.length;for(;f;)if(d===g[--f]){this.activateKeyDown=-1;this.doActivationKeyUp(d);a.value.preventDefault();break}}}},__doDomBlur:function(a){this.disabled||(a=this.activateKeyDown,-1!==a&&(this.activateKeyDown=-1,this.doActivationKeyAborted(a)))},doActivationKeyDown:(a,d)=>
{},doActivationKeyUp:function(a){this.doActivated()},doActivationKeyAborted:a=>{}});
(a=>{const d=JS.Class,g=JS.Module,f=[0,0,7,"#666666"];var c=a.Button=new g("Button",{include:[a.Activateable,a.UpdateableUI,a.Disableable,a.MouseOverAndDown,a.KeyActivation],extend:{DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE:f,DEFAULT_DISABLED_OPACITY:.5},initNode:function(b,a){null==a.focusable&&(a.focusable=!0);null==a.cursor&&(a.cursor="pointer");this.callSuper(b,a)},setFocused:function(b){const a=this.focused;this.callSuper(b);this.inited&&this.focused!==a&&this.updateUI()},doActivationKeyDown:function(b,
a){a||this.updateUI()},doActivationKeyUp:function(b){this.callSuper(b);this.updateUI()},doActivationKeyAborted:function(b){this.callSuper(b);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const b=this.__restoreCursor;b&&(this.setCursor(b),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(f)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()}});c=a.SimpleButtonStyle=new g("SimpleButtonStyle",{include:[c],setActiveColor:function(b){this.activeColor!==b&&(this.activeColor=
b,this.inited&&this.updateUI())},setHoverColor:function(b){this.hoverColor!==b&&(this.hoverColor=b,this.inited&&this.updateUI())},setReadyColor:function(b){this.readyColor!==b&&(this.readyColor=b,this.inited&&this.updateUI())},drawDisabledState:function(){this.setOpacity(.5);this.setBgColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setBgColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setBgColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);
this.setBgColor(this.readyColor)}});c=a.SimpleButton=new d("SimpleButton",a.View,{include:[c],initNode:function(b,a){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(b,a)}});a.IconTextButtonContent=new g("IconTextButtonContent",{initNode:function(b,a){this.textY=this.iconY="middle";this.iconSpacing=2;this.inset=this.outset=0;null==a.shrinkToFit&&(a.shrinkToFit=!1);null==a.contentAlign&&(a.contentAlign="center");this.callSuper(b,a);b=this.iconView;a=this.textView;this.constrain("__updateContentPosition",
[this,"inset",this,"outset",this,"width",this,"shrinkToFit",this,"iconSpacing",this,"contentAlign",b,"width",b,"visible",a,"width",a,"visible"])},doAfterAdoption:function(){const b=this.iconY,e=this.textY;let c={name:"iconView",imageUrl:this.iconUrl};"string"===typeof b?c.valign=b:c.y=b;new a.Image(this,c);c={name:"textView",whiteSpace:"nowrap",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof e?c.valign=e:c.y=e;new a.Text(this,c);this.callSuper()},setInset:function(b){null!=b&&
"object"===typeof b&&(b=b.value);this.set("inset",b,!0)},setOutset:function(b){null!=b&&"object"===typeof b&&(b=b.value);this.set("outset",b,!0)},setText:function(b){this.text!==b&&(this.text=b,this.inited&&(this.textView.setText(b),this.fireEvent("text",b)))},setShrinkToFit:function(b){this.set("shrinkToFit",b,!0)},setContentAlign:function(b){this.set("contentAlign",b,!0)},setIconSpacing:function(b){this.set("iconSpacing",b,!0)},setIconUrl:function(b){this.iconUrl!==b&&(this.iconUrl=b,this.inited&&
(this.fireEvent("iconUrl",b),this.iconView.setImageUrl(b)))},setIconY:function(b){const a=this.iconView;this.iconY!==b&&(this.iconY=b,this.inited&&(this.fireEvent("iconY",b),"string"===typeof b?a.setValign(b):a.setY(b)))},setTextY:function(b){const a=this.textView;this.textY!==b&&(this.textY=b,this.inited&&(this.fireEvent("textY",b),"string"===typeof b?a.setValign(b):(a.setValign(""),a.setY(b))))},__updateContentPosition:function(b){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){var a=
this.inset,c=this.outset;b=this.iconView;var d=this.textView,f=d.visible&&this.text,g=b.visible?b.width:0;g+=f&&0<g?this.iconSpacing:0;f=f?d.width:0;this.shrinkToFit?(b.setX(a),a+=g,d.setX(a),this.__updateContentPositionLoopBlock=!0,this.setWidth(a+(f+c)),this.__updateContentPositionLoopBlock=!1):("left"!==this.contentAlign&&("center"===this.contentAlign?(c=this.width-a-g-f-c,a+=c/2):a=this.width-g-f-c),b.setX(a),d.setX(a+g))}}});a.TextButtonContent=new g("TextButtonContent",{initNode:function(b,
a){this.inset=this.outset=0;null==a.shrinkToFit&&(a.shrinkToFit=!1);this.textY=a.shrinkToFit?"middle":0;this.callSuper(b,a);b=this.textView;this.constrain("__updateContentPosition",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",b,"visible",b,"width",b,"height",b,"y"])},doAfterAdoption:function(){const b=this.textY,c={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?c.valign=b:c.y=b;new a.Text(this,c);this.__origHeight=
this.height;this.callSuper()},setInset:function(b){null!=b&&"object"===typeof b&&(b=b.value);this.set("inset",b,!0)},setOutset:function(b){null!=b&&"object"===typeof b&&(b=b.value);this.set("outset",b,!0)},setText:function(b){this.text!==b&&(this.text=b,this.inited&&(this.textView.setText(b),this.fireEvent("text",b)))},setShrinkToFit:function(b){const a=this.textView;this.shrinkToFit!==b&&(this.shrinkToFit=b,this.inited&&(a&&a.setWhiteSpace(b?"nowrap":"normal"),this.fireEvent("shrinkToFit",b)))},
setTextY:function(b){const a=this.textView;this.textY!==b&&(this.textY=b,this.inited&&(this.fireEvent("textY",b),"string"===typeof b?a.setValign(b):(a.setValign(""),a.setY(b))))},__updateContentPosition:function(b){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){b=this.inset;var a=this.outset,c=this.textView,d=c.visible&&this.text;this.__updateContentPositionLoopBlock=!0;this.shrinkToFit?(c.setX(b),this.setWidth(b+(d?c.width:0)+a),this.setHeight(this.__origHeight)):(c.setHeight("auto"),
c.setWidth(this.width-b-a),c.setX(b),this.setHeight(d?c.y+c.height:this.__origHeight));this.__updateContentPositionLoopBlock=!1}}});a.SimpleIconTextButton=new d("SimpleIconTextButton",c,{include:[a.IconTextButtonContent]});a.SimpleTextButton=new d("SimpleTextButton",c,{include:[a.TextButtonContent]})})(myt);
(a=>{const d=a.global,g=d.focus,f=d.mouse,c={};a.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:b=>c[b]},initNode:function(b,a){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(b,a)},setLastFloatingPanelShown:function(b){this.lastFloatingPanelShown=b},setLastFloatingPanelId:function(b){this.floatingPanelId=b},setFloatingAlign:function(b){this.set("floatingAlign",b,!0)},setFloatingValign:function(b){this.set("floatingValign",
b,!0)},setFloatingAlignOffset:function(b){this.set("floatingAlignOffset",b,!0)},setFloatingValignOffset:function(b){this.set("floatingValignOffset",b,!0)},createFloatingPanel:function(b,a,h){b=b||this.floatingPanelId;h=h||{};h.panelId=b;return c[b]=new a(null,h)},getFloatingPanel:function(b){return c[b||this.floatingPanelId]},toggleFloatingPanel:function(b){const a=this.getFloatingPanel(b=b||this.floatingPanelId);a&&a.isShown()?this.hideFloatingPanel(b):this.showFloatingPanel(b)},showFloatingPanel:function(b){if(b=
this.getFloatingPanel(b||this.floatingPanelId))b.show(this),this.setLastFloatingPanelShown(b)},hideFloatingPanel:function(b){if(b=this.getFloatingPanel(b||this.floatingPanelId))b.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(b){this.callSuper&&this.callSuper()},notifyPanelHidden:function(b){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(b){return this.floatingAlign},getFloatingValignForPanelId:function(b){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(b){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(b){return this.floatingValignOffset},getNextFocus:function(){const b=this.lastFloatingPanelShown;return b&&b.isShown()?b:this.callSuper?this.callSuper():null},getNextFocusAfterPanel:function(b){return this},getPrevFocusAfterPanel:function(b){return this}});a.FloatingPanel=new JS.Class("FloatingPanel",a.View,{include:[a.RootView],initNode:function(b,c){b=document.createElement("div");b.style.position="absolute";a.getElement().appendChild(b);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;c.visible=c.focusEmbellishment=!1;c.focusable=c.focusCage=!0;this.callSuper(b,c)},setOwner:function(b){this.owner=b},setPanelId:function(b){this.panelId=b},setIgnoreOwnerForHideOnMouseDown:function(b){this.ignoreOwnerForHideOnMouseDown=b},setHideOnBlur:function(b){this.hideOnBlur=b},setHideOnMouseDown:function(b){this.hideOnMouseDown=b},__doMouseDown:function(b){var a=b.value;b=a.pageX;a=a.pageY;this.containsPoint(b,a)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(b,a)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(b){if(this.owner&&this.isAncestorOf(g.focusedView))this.owner[g.lastTraversalWasForward?"getNextFocusAfterPanel":"getPrevFocusAfterPanel"](this.panelId).focus(b);else{const a=this.getFirstFocusableDescendant();a===this?this.callSuper(b):a.focus(b)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(b){(b=b.value)&&!this.isAncestorOf(b)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&g.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(b){this.isShown()||(this.bringToFront(),this.updateLocation(b),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(f,"__doMouseDown","mousedown",!0),this.attachTo(g,"__doFocusChange","focused"))},hide:function(b){this.isShown()&&(this.detachFromDom(f,"__doMouseDown","mousedown",!0),this.detachFrom(g,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),b||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(b){this.setOwner(b);const a=this.panelId,c=b.getFloatingAlignForPanelId(a),d=b.getFloatingValignForPanelId(a),f=b.getPagePosition();let g=0,m=0,p=typeof c;if("string"===p)switch(g=f.x+b.getFloatingAlignOffsetForPanelId(a),c){case "outsideRight":g+=b.width;break;case "insideRight":g+=b.width-this.width;
break;case "outsideLeft":g-=this.width;break;case "insideLeft":break;default:console.warn("Unexpected align value",p,c)}else"number"===p?g=c:console.warn("Unexpected align type",p,c);this.setX(g);p=typeof d;if("string"===p)switch(m=f.y+b.getFloatingValignOffsetForPanelId(a),d){case "outsideBottom":m+=b.height;break;case "insideBottom":m+=b.height-this.height;break;case "outsideTop":m-=this.height;break;case "insideTop":break;default:console.warn("Unexpected valign value",p,d)}else"number"===p?m=d:
console.warn("Unexpected valign type",p,d);this.setY(m)}})})(myt);
(a=>{const d=JS.Class,g=JS.Module,f=a.ListViewItemMixin=new g("ListViewItemMixin",{setListView:function(a){this.listView=a},getMinimumWidth:()=>0,syncToDom:()=>{}});a.ListView=new d("ListView",a.FloatingPanel,{initNode:function(c,b){this.items=[];this.maxHeight=-1;this.minWidth=0;null==b.defaultItemClass&&(b.defaultItemClass=a.ListViewItem);null==b.overflow&&(b.overflow="autoy");null==b.bgColor&&(b.bgColor="#cccccc");null==b.boxShadow&&(b.boxShadow=a.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE);this.callSuper(c,
b);this.__updateItems();this.buildLayout()},buildLayout:function(){new a.SpacedLayout(this.getContentView(),{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(a){this.minWidth=a},setDefaultItemClass:function(a){this.defaultItemClass=a},setItemConfig:function(a){this.itemConfig=a;this.inited&&this.__updateItems()},getContentView:function(){return this},setMaxHeight:function(a){this.maxHeight!==a&&(this.maxHeight=a,this.inited&&(this.fireEvent("maxHeight",a),this.setHeight(this.height)))},
setHeight:function(a,b){0<=this.maxHeight&&(a=Math.min(this.maxHeight,a));this.callSuper(a,b)},doItemActivated:function(a){const b=this.owner;b&&b.doItemActivated(a)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const a=this.items,b=a.length;for(let c=0;b>c;){const b=a[c++];if(b.isFocusable())return b}return null},getLastFocusableItem:function(){const a=this.items;let b=a.length;for(;b;){const c=a[--b];if(c.isFocusable())return c}return null},
__updateItems:function(){var a=this.itemConfig||[],b=a.length;const e=this.items,h=e.length;var d=this.defaultItemClass;const f=this.getContentView(),g=f.getLayouts(),m=g.length;let p=m;for(;p;)g[--p].incrementLockedCounter();const r=f.getOuterDomElement(),q=r.nextSibling,w=r.parentNode;w.removeChild(r);for(p=0;b>p;++p){var y=a[p];const b=y.klass||d,c=y.attrs||{};(y=e[p])&&!y.isA(b)&&(y.destroy(),y=null);y||(y=e[p]=new b(f,{listView:this}));y&&(y.callSetters(c),y.__LAYOUT_IDX=p)}w.insertBefore(r,
q);a=this.minWidth;for(p=0;b>p;++p)y=e[p],y.syncToDom(),d=y.getMinimumWidth(),d>a&&(a=d);for(;h>p;)e[p++].destroy();e.length=b;for(p=0;b>p;)this.updateItemWidth(e[p++],a);this.updateContentWidth(f,a);for(p=m;p;)b=g[--p],b.sortSubviews((b,a)=>b.__LAYOUT_IDX-a.__LAYOUT_IDX),b.decrementLockedCounter(),b.update()},updateItemWidth:(a,b)=>{a.setWidth(b)},updateContentWidth:(a,b)=>{a.setWidth(b)}});a.ListViewAnchor=new g("ListViewAnchor",{include:[a.FloatingPanelAnchor],initNode:function(c,b){null==b.listViewClass&&
(b.listViewClass=a.ListView);null==b.listViewAttrs&&(b.listViewAttrs={});null==b.itemConfig&&(b.itemConfig=[]);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(c,b)},setListViewClass:function(a){this.listViewClass=a},setListViewAttrs:function(a){this.listViewAttrs=a},setItemConfig:function(a){this.itemConfig=a},doItemActivated:function(a){this.hideFloatingPanel()},getFloatingPanel:function(a){return this.callSuper(a)||this.createFloatingPanel(a,this.listViewClass,this.listViewAttrs)},
showFloatingPanel:function(a){const b=this.getFloatingPanel(a);b&&(b.setItemConfig(this.itemConfig),this.callSuper(a))},doActivationKeyDown:function(a,b){if(27===a)this.hideFloatingPanel();else{switch(a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}this.callSuper(a,b)}},doActivationKeyUp:function(a){if(27!==a)switch(this.callSuper(a),a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var a=this.getFloatingPanel();
a&&a.isShown()&&(a=a.getLastFocusableItem())&&a.focus()},selectFirstItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getFirstFocusableItem())&&a.focus()}});a.ListViewItem=new d("ListViewItem",a.SimpleIconTextButton,{include:[f],initNode:function(a,b){null==b.height&&(b.height=24);null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#ffffff");null==b.readyColor&&(b.readyColor="#eeeeee");null==b.contentAlign&&(b.contentAlign="left");null==b.inset&&(b.inset=
8);null==b.outset&&(b.outset=8);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},syncToDom:function(){this.textView.sizeViewToDom()},getMinimumWidth:function(){var a=this.iconView;const b=this.textView,e=b.visible&&this.text;a=a.visible?a.width:0;return this.inset+(a+(e&&0<a?this.iconSpacing:0))+(e?Math.ceil(b.width):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},
hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},doActivationKeyDown:function(c,b){switch(c){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:a.global.focus.prev();break;case 39:case 40:a.global.focus.next()}this.callSuper(c,b)}});a.ListViewSeparator=new d("ListViewSeparator",a.View,{include:[f],initNode:function(a,b){null==b.height&&(b.height=1);null==b.bgColor&&(b.bgColor="#666666");this.callSuper(a,b)}})})(myt);
(a=>{const d=a.AccessorSupport,g={},f=a.BAG=new JS.Class("BAG",{include:[d,a.Destructible,a.Observable],extend:{getGroup:(a,b)=>{if(a&&b){const c=g[a]||(g[a]={});return c[b]||(c[b]=new f(a,b))}return null},removeGroup:(a,b)=>{if(a&&b&&(a=g[a])){const c=a[b];c&&delete a[b];return c}return null}},initialize:function(a,b){this.__nodes=[];this.trueNode=null;this.attrName=a;this.groupId=b},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&f.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(a){this.set("groupId",a,!0)},setAttrName:function(a){this.set("attrName",a,!0)},setTrueNode:function(a){this.set("trueNode",a,!0)},getNodes:function(){return this.__nodes},register:function(a){a&&!this.isRegistered(a)&&(this.__nodes.push(a),a[this.attrName]&&this.setTrue(a))},unregister:function(a){if(a){const b=this.__nodes;let e=b.length;for(;e;)if(a===b[--e]){b.splice(e,1);break}this.trueNode===a&&this.setTrueNode(null);
0===b.length&&this.destroy()}},setTrue:function(a){if(a&&this.trueNode!==a&&this.isRegistered(a)){const b=this.attrName,e=d.generateSetterName(b),c=this.__nodes;let f=c.length;for(this.setTrueNode(a);f;){const h=c[--f];if(a===h){if(!h[b])h[e](!0)}else if(h[b])h[e](!1)}}},setFalse:function(a){a&&this.trueNode===a&&(a[d.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(a){const b=this.__nodes;let e=b.length;for(;e;)if(a===b[--e])return!0;return!1}});a.BAGMembership=
new JS.Module("BAGMembership",{initNode:function(a,b){this.__bags=[];this.callSuper(a,b)},destroyAfterOrphaning:function(){this.callSuper();const a=this.__bags;let b=a.length;for(;b;){const e=a[--b];this.removeFromBAG(e.attrName,e.groupId)}},isRegisteredWithBAG:function(a){const b=this.__bags;let e=b.length;for(;e;)if(b[--e]===a)return!0;return!1},getBAG:(a,b)=>f.getGroup(a,b),addToBAG:function(a,b){b=this.getBAG(a,b);this.isRegisteredWithBAG(b)||(this.__bags.push(b),b.register(this),this.isAttachedTo(this,
"__updateForBAG",a)||this.attachTo(this,"__updateForBAG",a))},removeFromBAG:function(a,b){b=this.getBAG(a,b);if(this.isRegisteredWithBAG(b)){const e=this.__bags;let c=e.length,d=!0;for(;c;){const h=e[--c];h===b?(e.splice(c,1),b.unregister(this)):h.attrName===a&&(d=!1)}d&&this.detachFrom(this,"__updateForBAG",a)}},__updateForBAG:function(a){const b=a.type;a=a.value;const e=this.__bags;let c=e.length;for(;c;){const h=e[--c];h.attrName===b&&(a?h.setTrue(this):h.setFalse(this))}}})})(myt);
(a=>{const d=a=>{const d=a.label||"";a.setText('<i class="far fa-'+(!0===a.selected?"dot-":"")+'circle"></i>'+(0<d.length?" ":"")+d)};a.Radio=new JS.Class("Radio",a.Text,{include:[a.SimpleButtonStyle,a.BAGMembership],initNode:function(g,f){null==f.selected&&(f.selected=!1);null==f.groupId&&(f.groupId=a.generateGuid());null==f.focusEmbellishment&&(f.focusEmbellishment=!1);null==f.activeColor&&(f.activeColor="inherits");null==f.hoverColor&&(f.hoverColor="inherits");null==f.readyColor&&(f.readyColor=
"inherits");const c=f.value;delete f.value;this.callSuper(g,f);this.setValue(c);this.selected&&(g=this.getBAG("selected",this.groupId))&&g.setTrue(this);a.FontAwesome.registerForNotification(this);d(this)},setOptionValue:function(a){this.set("optionValue",a,!0)},setValue:function(a){if(this.inited){{const d=this.getBAG("selected",this.groupId);if(d){const c=d.getNodes();let b=c.length,e;for(;b;)if(e=c[--b],e.optionValue===a){d.setTrue(e);break}}}}},getValue:function(){var a=this.getBAG("selected",
this.groupId);return(a=a?a.trueNode:null)?a.optionValue:null},setSelected:function(a){this.selected!==a&&(this.selected=a,this.inited&&(this.fireEvent("selected",a),d(this)))},setGroupId:function(a){if(this.groupId!==a){const d=this.groupId;this.groupId=a;d&&this.removeFromBAG("selected",d);a&&this.addToBAG("selected",a);this.inited&&this.fireEvent("groupId",a)}},setLabel:function(a){this.label!==a&&(this.set("label",a,!0),this.inited&&d(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},
drawDisabledState:function(){this.setOpacity(a.Button.DEFAULT_DISABLED_OPACITY);this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
(a=>{const d=JS.Module,g=a.global.keys,f=a.Selectable=new d("Selectable",{setSelected:function(b){null!==b&&"object"===typeof b&&(b=b.value);this.selected!==b&&(this.selected=b,this.inited&&this.fireEvent&&this.fireEvent("selected",b))},isSelected:function(){return this.selected?!0:!1},canSelect:b=>!0,canDeselect:b=>!0}),c=a.SelectionManager=new d("SelectionManager",{extend:{isAddMode:()=>g.isShiftKeyDown(),isToggleMode:()=>g.isAcceleratorKeyDown()},initNode:function(b,a){this.__selected={};this.__lastSelectedItem=
null;a.selectedCount=0;null==a.itemSelectionId&&(a.itemSelectionId="id");null==a.maxSelected&&(a.maxSelected=-1);this.callSuper(b,a)},setItemSelectionId:function(b){this.itemSelectionId=b},setMaxSelected:function(b){this.maxSelected=b},setSelectedCount:function(b){this.selectedCount!==b&&(this.selectedCount=b,this.inited&&this.fireEvent("selectedCount",b))},isAddMode:()=>c.isAddMode(),isToggleMode:()=>c.isToggleMode(),getSelected:function(){const b=[],a=this.__selected;for(const e in a)b.push(a[e]);
return b},select:function(b){b&&!this.isSelectedItem(b)&&this.canSelectItem(b)&&(b.setSelected(!0),this.__selected[b[this.itemSelectionId]]=b,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=b,this.doSelected(b),this.fireEvent("itemSelected",b))},doSelected:b=>{},selectById:function(b){this.select(this.getSelectableItem(b))},canSelectItem:function(b){const a=this.maxSelected,c=this.selectedCount;if(0===a)return!1;if(1===a){if(0<c&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<
a&&c>=a)return!1;return b.canSelect(this)},selectAll:function(){const b=this.getSelectableItems();let a=b.length;for(;a;)this.select(b[--a])},deselect:function(b){this.isSelectedItem(b)&&this.canDeselectItem(b)&&(b.setSelected(!1),delete this.__selected[b[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===b&&(this.__lastSelectedItem=null),this.doDeselected(b),this.fireEvent("itemDeselected",b))},doDeselected:b=>{},deselectById:function(b){this.deselect(this.getSelectableItem(b))},
canDeselectItem:function(b){return b.canDeselect(this)},deselectAll:function(){const b=this.__selected;for(const a in b)this.deselect(b[a])},isSelectedItem:b=>b?b.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const b=[],a=this.getSubviews();let c=a.length;for(;c;){const e=a[--c];e.isA(f)&&b.push(e)}return b},getSelectableItems:function(){const b=this.getManagedItems();let a=b.length;for(;a;)b[--a].canSelect(this)||
b.splice(a,1);return b},getSelectableItem:function(b){const a=this.getSelectableItems(),c=this.itemSelectionId;let d=a.length;for(;d;){const e=a[--d];if(e[c]===b)return e}return null}})})(myt);
(a=>{const d=JS.Class,g=a.View,f=a.SizeToParent,c=a.TabSlider=new d("TabSlider",g,{include:[a.Selectable,a.Disableable,f],extend:{DEFAULT_BUTTON_HEIGHT:30,DEFAULT_MINIMUM_CONTAINER_HEIGHT:100,DEFAULT_FILL_COLOR_SELECTED:"#666666",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#cccccc",DEFAULT_FILL_COLOR_READY:"#ffffff",DEFAULT_ANIMATION_MILLIS:500},initNode:function(b,e){const d=this;let h;e.defaultPlacement="wrapper.container";e.percentOfParentWidth=100;e.expansionState="collapsed";
null==e.tabId&&(e.tabId=a.generateGuid());null==e.tabContainer&&(e.tabContainer=b);null==e.selected&&(e.selected=!1);null==e.buttonClass&&(e.buttonClass=a.SimpleButton);null==e.zIndex&&(e.zIndex=0);null==e.buttonHeight&&(e.buttonHeight=c.DEFAULT_BUTTON_HEIGHT);null==e.fillColorSelected&&(e.fillColorSelected=c.DEFAULT_FILL_COLOR_SELECTED);null==e.fillColorHover&&(e.fillColorHover=c.DEFAULT_FILL_COLOR_HOVER);null==e.fillColorActive&&(e.fillColorActive=c.DEFAULT_FILL_COLOR_ACTIVE);null==e.fillColorReady&&
(e.fillColorReady=c.DEFAULT_FILL_COLOR_READY);null==e.minContainerHeight&&(e.minContainerHeight=c.DEFAULT_MINIMUM_CONTAINER_HEIGHT);e.selected&&(h=!0,delete e.selected);d.callSuper(b,e);new d.buttonClass(d,{name:"button",ignorePlacement:!0,zIndex:1,height:d.buttonHeight,focusEmbellishment:!0,groupId:d.parent.parent.groupId,percentOfParentWidth:100,hoverColor:d.fillColorHover,activeColor:d.fillColorActive,readyColor:d.fillColorReady},[f,{doActivated:function(){const b=d.tabContainer;d.isSelected()&&
1!==b.maxSelected?b.deselect(d):b.select(d)},updateUI:function(){this.callSuper();d.selected&&-1!==d.tabContainer.maxSelected&&this.setBgColor(d.fillColorSelected);d.notifyButtonRedraw()}}]);b=new g(d,{name:"wrapper",ignorePlacement:!0,y:d.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[f,{setHeight:function(b,a){this.callSuper(Math.round(b),a)},setWidth:function(b,a){this.callSuper(b,a);this.inited&&this.container.setWidth(b)}}]);const k=new g(b,{name:"container"});
new a.SizeToChildren(k,{axis:"y"});d.constrain("__updateHeight",[b,"y",b,"height"]);h&&d.tabContainer.select(d);!0===e.disabled&&d.setDisabled(!0);d.setHeight(d.getCollapsedHeight())},setSelected:function(b){this.callSuper(b);this.button&&this.button.updateUI()},setTabId:function(b){this.tabId=b},setTabContainer:function(b){this.tabContainer=b},setMinContainerHeight:function(b){this.minContainerHeight=b},setButtonClass:function(b){this.buttonClass=b},setFillColorSelected:function(b){this.fillColorSelected=
b},setFillColorHover:function(b){this.fillColorHover=b},setFillColorActive:function(b){this.fillColorActive=b},setFillColorReady:function(b){this.fillColorReady=b},setButtonHeight:function(b){this.buttonHeight!==b&&(this.buttonHeight=b,this.button&&(this.button.setHeight(b),this.wrapper.setY(b)))},setExpansionState:function(b){if(this.expansionState!==b){this.expansionState=b;this.inited&&this.fireEvent("expansionState",b);const a=this.wrapper;a&&("expanded"===b?(a.setMaskFocus(!1),a.setOverflow("auto")):
"expanding"===b?a.setVisible(!0):"collapsed"===b?a.setVisible(!1):"collapsing"===b&&(a.setMaskFocus(!0),a.setOverflow("hidden")))}},doDisabled:function(){const b=this.button;b&&b.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(b){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(b){const a=this,e=a.wrapper;b-=a.getCollapsedHeight();a.setExpansionState("expanding");e.stopActiveAnimators();e.height!==b?e.animate({attribute:"height",to:b,duration:c.DEFAULT_ANIMATION_MILLIS}).next(b=>
{a.setExpansionState("expanded")}):a.setExpansionState("expanded")},collapse:function(){const b=this,a=b.wrapper;b.setExpansionState("collapsing");a.stopActiveAnimators();0!==a.height?a.animate({attribute:"height",to:0,duration:c.DEFAULT_ANIMATION_MILLIS}).next(a=>{b.setExpansionState("collapsed")}):b.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},
getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}}),b=a.TextTabSlider=new d("TextTabSlider",c,{extend:{DEFAULT_LABEL_TEXT_COLOR_CHECKED:"#ffffff",DEFAULT_LABEL_TEXT_COLOR:"#333333"},initNode:function(e,c){null==c.labelTextColorChecked&&(c.labelTextColorChecked=b.DEFAULT_LABEL_TEXT_COLOR_CHECKED);null==c.labelTextColor&&(c.labelTextColor=b.DEFAULT_LABEL_TEXT_COLOR);this.callSuper(e,c);new a.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",
ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(b){this.labelTextColorChecked=b},setLabelTextColor:function(b){this.labelTextColor=b},setText:function(b){if(this.text!==b){this.text=b;const a=this.button;a&&a.label&&a.label.setText(b)}},notifyButtonRedraw:function(){const b=this.button.label;b&&b.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?
this.labelTextColorChecked:this.labelTextColor}}),e=a.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[a.SelectionManager],extend:{DEFAULT_SPACING:1},initNode:function(b,d){const h=this;h._tabSliders=[];d.defaultPlacement="container";null==d.spacing&&(d.spacing=e.DEFAULT_SPACING);null==d.overflow&&(d.overflow="autoy");null==d.itemSelectionId&&(d.itemSelectionId="tabId");null==d.maxSelected&&(d.maxSelected=1);h.updateLayout=a.debounce(h.updateLayout);h.callSuper(b,d);b=new g(h,{name:"container",
ignorePlacement:!0,percentOfParentWidth:100},[f,{subnodeAdded:function(b){this.callSuper(b);b instanceof c&&(h._tabSliders.push(b),h.attachTo(b,"updateLayout","selected"))},subnodeRemoved:function(b){if(b instanceof c){const a=h._tabSliders;let e=a.length;for(;e;)if(a[--e]===b){h.detachFrom(b,"updateLayout","selected");a.splice(e,1);break}}this.callSuper(b)}}]);new a.SpacedLayout(b,{name:"layout",axis:"y",spacing:h.spacing,collapseParent:!0});h.attachTo(h,"updateLayout","height")},setSpacing:function(b){this.spacing!==
b&&(this.spacing=b,this.layout&&this.layout.setSpacing(b))},updateLayout:function(b){b=this._tabSliders;for(var a=b.length,e=a,c=0,d=0,h=0;e;){var f=b[--e];f.visible&&(++h,f.selected?(c+=f.getMinimumExpandedHeight(),d+=f.getPreferredExpandedHeight()):(f=f.getCollapsedHeight(),c+=f,d+=f))}e=this.container.layout;h=e.inset+e.outset+e.spacing*(h-1);d+=h;e=this.height;c=c+h>e;h=d>e;d-=e;for(e=a;e;)if(a=b[--e],a.visible)if(a.selected){if(c)f=a.getMinimumExpandedHeight();else if(h){const b=a.getPreferredExpandedHeight(),
e=a.getMinimumExpandedHeight();f=b-d;e>f?(d-=b-e,f=e):d=0}else f=a.getPreferredExpandedHeight();a.expand(f)}else a.collapse()}})})(myt);
(a=>{const d=JS.Module,g=b=>{const a=null!=b.cornerRadius?b.cornerRadius:c.DEFAULT_RADIUS;switch(b.tabContainer.location){case "top":b.setRoundedTopLeftCorner(a);b.setRoundedTopRightCorner(a);break;case "bottom":b.setRoundedBottomLeftCorner(a);b.setRoundedBottomRightCorner(a);break;case "left":b.setRoundedTopLeftCorner(a);b.setRoundedBottomLeftCorner(a);break;case "right":b.setRoundedTopRightCorner(a),b.setRoundedBottomRightCorner(a)}},f=a.TabMixin=new d("TabMixin",{include:[a.Selectable],initNode:function(b,
c){null==c.tabId&&(c.tabId=a.generateGuid());null==c.tabContainer&&(c.tabContainer=b);let e;c.selected&&(e=!0,delete c.selected);this.callSuper(b,c);e&&this.tabContainer.select(this)},setTabId:function(b){this.tabId=b},setTabContainer:function(b){this.tabContainer=b},doActivated:function(){this.selected||this.tabContainer.select(this)}}),c=a.Tab=new JS.Class("Tab",a.SimpleIconTextButton,{include:[f],extend:{DEFAULT_HEIGHT:24,DEFAULT_INSET:8,DEFAULT_OUTSET:8,DEFAULT_FILL_COLOR_SELECTED:"#ffffff",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",
DEFAULT_FILL_COLOR_ACTIVE:"#aaaaaa",DEFAULT_FILL_COLOR_READY:"#cccccc",DEFAULT_LABEL_TEXT_COLOR_SELECTED:"#333333",DEFAULT_RADIUS:6},initNode:function(b,a){null==a.inset&&(a.inset=c.DEFAULT_INSET);null==a.outset&&(a.outset=c.DEFAULT_OUTSET);null==a.selectedColor&&(a.selectedColor=c.DEFAULT_FILL_COLOR_SELECTED);null==a.hoverColor&&(a.hoverColor=c.DEFAULT_FILL_COLOR_HOVER);null==a.activeColor&&(a.activeColor=c.DEFAULT_FILL_COLOR_ACTIVE);null==a.readyColor&&(a.readyColor=c.DEFAULT_FILL_COLOR_READY);
null==a.labelTextSelectedColor&&(a.labelTextSelectedColor=c.DEFAULT_LABEL_TEXT_COLOR_SELECTED);null==a.height&&(a.height=c.DEFAULT_HEIGHT);null==a.focusEmbellishment&&(a.focusEmbellishment=!1);this.callSuper(b,a);g(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setSelectedColor:function(b){this.selectedColor=b},setCornerRadius:function(b){this.cornerRadius=b;this.inited&&g(this)},setLabelTextColor:function(b){this.labelTextColor=b},setLabelTextSelectedColor:function(b){this.labelTextSelectedColor=
b;this.inited&&this.selected&&this.textView.setTextColor(b)},setSelected:function(b){this.callSuper(b);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)}}),b=a.TabContainer=new d("TabContainer",{include:[a.SelectionManager],extend:{DEFAULT_SPACING:1,DEFAULT_INSET:0},initNode:function(e,c){this.__tabs=[];null==c.spacing&&(c.spacing=b.DEFAULT_SPACING);
null==c.inset&&(c.inset=b.DEFAULT_INSET);null==c.location&&(c.location="top");null==c.itemSelectionId&&(c.itemSelectionId="tabId");null==c.maxSelected&&(c.maxSelected=1);this.callSuper(e,c);let d;switch(this.location){case "top":case "bottom":d="x";break;case "left":case "right":d="y"}new a.SpacedLayout(this,{name:"layout",axis:d,spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(b){this.location=b},setSpacing:function(b){this.spacing!==b&&(this.spacing=b,this.layout&&
this.layout.setSpacing(b))},setInset:function(b){this.inset!==b&&(this.inset=b,this.layout&&this.layout.setInset(b))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(b){this.callSuper(b);if(b.isA(f))switch(this.__tabs.push(b),this.location){case "top":b.setValign("bottom");break;case "bottom":b.setValign("top");break;case "left":b.setAlign("right");break;case "right":b.setAlign("left")}},subnodeRemoved:function(b){if(b.isA(f)){const a=
this.__tabs;let c=a.length;for(;c;)if(a[--c]===b){a.splice(c,1);break}}this.callSuper(b)}})})(myt);
(a=>{const d=JS.Class,g=a.SizeToDom;var f=a.View,c=a.Disableable;const b=a.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE,e=(b,a,c)=>{b[c]!==a&&(b[c]=a,b.deStyle[c]=a+"px",b.inited&&(b.fireEvent(c,a),b.sizeViewToDom()))},h=(b,a,c)=>{b[a]!==c&&(b.getInnerDomElement()[a]=b[a]=c,b.inited&&b.fireEvent(a,c))},k=a.NativeInputWrapper=new d("NativeInputWrapper",f,{include:[c,a.InputObservable],initNode:function(b,a){null==a.tagName&&(a.tagName="input");null==a.focusable&&(a.focusable=!0);this.callSuper(b,a);
this.addDomClass("mytNativeInput")},createOurDomElement:function(b){b=this.callSuper(b);this.inputType&&((Array.isArray(b)?b[1]:b).type=this.inputType);return b},setDisabled:function(b){this.disabled!==b&&(this.getInnerDomElement().disabled=b,this.callSuper(b))},setValue:function(b){this.value!==b&&(this.value=b,this.setDomValue(b),this.inited&&this.fireEvent("value",b))},getDomValue:function(){return this.getInnerDomElement().value},setDomValue:function(b){const a=this.getInnerDomElement();a.value!==
b&&(a.value=b)}}),l=a.InputSelectOption=new d("InputSelectOption",f,{include:[c,a.Selectable],createOurDomElement:b=>document.createElement("option"),setSelected:function(b){null!==b&&"object"===typeof b&&(b=b.value);const a=this.getInnerDomElement();a.selected!==b&&(a.selected=b)},setDisabled:function(b){this.disabled!==b&&(this.getInnerDomElement().disabled=b,this.callSuper(b))},setValue:function(b){h(this,"value",b)},setLabel:function(b){this.label!==b&&(this.getInnerDomElement().textContent=this.label=
b,this.inited&&this.fireEvent("label",b))},isSelected:function(){return this.getInnerDomElement().selected},canSelect:function(b){return!this.disabled&&!this.getInnerDomElement().selected&&this.parent===b},canDeselect:function(b){return!this.disabled&&this.getInnerDomElement().selected&&this.parent===b}});f=a.BaseInputText=new d("BaseInputText",k,{include:[a.TextSupport],initNode:function(b,a){null==a.bgColor&&(a.bgColor="transparent");null==a.spellcheck&&(a.spellcheck=!1);this.callSuper(b,a);this.attachToDom(this,
"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(b){this.callSuper(b);this.setValue(b)},setSpellcheck:function(b){h(this,"spellcheck",b)},setMaxLength:function(b){h(this,"maxLength",null==b||0>b?void 0:b)},setAllowedChars:function(b){this.allowedChars=b},setPlaceholder:function(b){h(this,"placeholder",b)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(b)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();
this.setBoxShadow()},__filterInput:function(b){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(b){b=b.value;const a=b.which;switch(a){case 8:case 0:return}const c=this.allowedChars;c&&-1===c.indexOf(String.fromCharCode(a))&&b.preventDefault();this.filterInputPress(b)},filterInput:b=>b,filterInputPress:b=>{},__syncToDom:function(b){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const b=document.selection.createRange();b.moveStart("character",
-this.getDomValue().length);return b.text.length}return this.getInnerDomElement().selectionStart||0},setCaretPosition:function(b,a){if(null==a||b===a){if(this.getCaretPosition()===b)return;a=b}var c=this.getInnerDomElement();c.setSelectionRange?c.setSelectionRange(b,a):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",b),c.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},
selectAll:function(){this.getInnerDomElement().select()},getSelection:function(){const b=this.getInnerDomElement();return{start:b.selectionStart,startElem:b,end:b.selectionEnd,endElem:b}},setSelection:function(b){b&&this.setCaretPosition(b.start,b.end)},saveSelection:function(b){this._selRange=b||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});c=a.InputText=new d("InputText",f,{include:[a.SizeHeightToDom],initNode:function(b,a){this.inputType=
!0===a.password?"password":"text";this.callSuper(b,a);this.setCaretToEnd()},setPassword:function(b){this.password=b}});a.EditableText=new d("EditableText",f,{include:[g],initNode:function(b,a){null==a.tagName&&(a.tagName="div");a.inputType=null;null==a.whiteSpace&&(a.whiteSpace="pre");null==a.contentEditable&&(a.contentEditable=!0);this.callSuper(b,a);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");
this.setCaretToEnd()},setMinWidth:function(b){e(this,b,"minWidth")},setMinHeight:function(b){"Firefox"===BrowserDetect.browser&&(b+=2);e(this,b,"minHeight")},setPadding:function(b){this.setPaddingTop(b);this.setPaddingRight(b);this.setPaddingBottom(b);this.setPaddingLeft(b)},setPaddingTop:function(b){e(this,b,"paddingTop")},setPaddingRight:function(b){e(this,b,"paddingRight")},setPaddingBottom:function(b){e(this,b,"paddingBottom")},setPaddingLeft:function(b){e(this,b,"paddingLeft")},setContentEditable:function(b){h(this,
"contentEditable",b)},filterInputPress:function(b){const a=this.maxLength;0<=a&&this.getCharacterCount()===a&&b.preventDefault();this.callSuper(b)},getDomValue:function(){return this.getInnerDomElement().innerHTML},setDomValue:function(b){const a=this.getInnerDomElement();a.innerHTML!==b&&(a.innerHTML=b,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(b){13===a.KeyObservable.getKeyCodeFromEvent(b)&&(b.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",
!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(b){this.callSuper(b);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const b=this.getInnerDomElement().firstChild;return b?b.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const b=this.getSelection();return b?b.end:0},setCaretPosition:function(b,a){if(null==a||b===a){if(this.getCaretPosition()===b)return;a=b}this.saveSelection({start:b,
startElem:this.getInnerDomElement().firstChild,end:a,endElem:this.getInnerDomElement().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(b){this.saveSelection();return!0},getSelection:function(){let b;if(window.getSelection){const a=window.getSelection();if(0<a.rangeCount){if(a.extentNode===this.getInnerDomElement())return null;b=a.getRangeAt(0)}}else document.selection&&(b=document.selection.createRange());return{start:b?b.startOffset:0,startElem:b?
b.startContainer:this.getInnerDomElement().firstChild,end:b?b.endOffset:0,endElem:b?b.endContainer:this.getInnerDomElement().firstChild}},setSelection:function(b){if(b){const a=b.startElem,c=b.endElem;if(a&&a.parentNode&&c&&c.parentNode){const e=document.createRange();e.setStart(a,Math.min(b.start,a.length));e.setEnd(c,Math.min(b.end,c.length));window.getSelection?(b=window.getSelection(),0<b.rangeCount&&b.removeAllRanges(),b.addRange(e)):document.selection&&e.select()}}}});a.InputTextArea=new d("InputTextArea",
f,{initNode:function(b,a){null==a.tagName&&(a.tagName="textarea");a.inputType=null;null==a.resize&&(a.resize="none");null==a.wrap&&(a.wrap="soft");this.callSuper(b,a)},setResize:function(b){this.resize!==b&&(this.resize=this.getInnerDomStyle().resize=b||"none",this.inited&&this.fireEvent("resize",b))},setWrap:function(b){h(this,"wrap",b)}});a.ComboBox=new d("ComboBox",c,{include:[a.Activateable,a.KeyActivation,a.ListViewAnchor],initNode:function(b,a){this.filterItems=!0;null==a.activationKeys&&(a.activationKeys=
[13,27,38,40]);null==a.bgColor&&(a.bgColor="#ffffff");null==a.borderWidth&&(a.borderWidth=1);null==a.borderStyle&&(a.borderStyle="solid");null==a.floatingAlignOffset&&(a.floatingAlignOffset=a.borderWidth);null==a.listViewAttrs&&(a.listViewAttrs={maxHeight:99});null==a.fullItemConfig&&(a.fullItemConfig=[]);this.callSuper(b,a)},setFullItemConfig:function(b){this.fullItemConfig=b},setFilterItems:function(b){this.filterItems=b},__syncToDom:function(b){const a=this.value;this.callSuper(b);a!==this.value&&
this.showFloatingPanel()},showFloatingPanel:function(b){const a=this.getFloatingPanel(b);if(a){let e;if(this.filterItems){e=[];var c=this.value;c=null==c?"":(""+c).toLowerCase();const b=this.fullItemConfig,a=b.length;for(let d=0;a>d;){const a=b[d++],f=a.attrs.text.toLowerCase(),h=f.indexOf(c);0===h?f!==c&&e.push(a):0<h&&e.push(a)}}else e=this.fullItemConfig;0<e.length?(a.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(e),this.callSuper(b)):this.hideFloatingPanel(b)}},doItemActivated:function(b){this.setValue(b.text);
this.callSuper(b)},doActivated:function(){this.toggleFloatingPanel()}});a.InputSelect=new d("InputSelect",k,{include:[g],initNode:function(b,a){null==a.tagName&&(a.tagName="select");a.inputType=null;null==a.multiple&&(a.multiple=!1);null==a.size&&(a.size=a.multiple?4:1);this.callSuper(b,a);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(b){h(this,"multiple",b)},setSize:function(b){h(this,"size",b)},setOptions:function(b){this.destroyAllOptions();Array.isArray(b)&&
b.forEach(b=>{this.addOption(b)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(b){Array.isArray(b)&&a.areArraysEqual(b,this.value)||this.value===b||(this.value=b,this.inited&&this.fireEvent("value",b))},subviewAdded:function(b){b instanceof l||(a.dumpStack("Subview not supported. Destroying it."),b.destroy())},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(b)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();
this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(b=>b.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(b=>b.value)},getOptionForValue:function(b){return this.getOptions().find(a=>a.value===b)},addOption:function(b){return new l(this,b)},destroyAllOptions:function(){this.getOptions().forEach(b=>{b.destroy()})},destroyOptionWithValue:function(b){if(b=this.getOptionForValue(b))if(b.destroy(),b.destroyed)return!0;return!1},deselectAll:function(){let b=
!1;this.getOptions().forEach(a=>{a.isSelected()&&(a.setSelected(!1),b=!0)});b&&this.__doChanged()},selectValues:function(b){(Array.isArray(b)?b:[b]).forEach(b=>{this.selectValue(b)})},selectValue:function(b){this.select(this.getOptionForValue(b))},select:function(b){b&&b.canSelect(this)&&(b.setSelected(!0),this.__syncToDom())},deselectValue:function(b){this.deselect(this.getOptionForValue(b))},deselect:function(b){b&&b.canDeselect(this)&&(b.setSelected(!1),this.__syncToDom())},__doChanged:function(b){this.__syncToDom();
this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
myt.DragDropSupport=new JS.Module("DragDropSupport",{include:[myt.DragDropObservable],initNode:function(a,d){this.callSuper(a,d);this.disabled||this.setupDragListeners()},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a),this.inited&&(a?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){this.attachToDom(this,"doDragOver","dragover",!1);this.attachToDom(this,"doDragEnter","dragenter",!1);this.attachToDom(this,"doDragLeave",
"dragleave",!1);this.attachToDom(this,"doDrop","drop",!1)},teardownDragListeners:function(){this.detachFromDom(this,"doDragOver","dragover",!1);this.detachFromDom(this,"doDragEnter","dragenter",!1);this.detachFromDom(this,"doDragLeave","dragleave",!1);this.detachFromDom(this,"doDrop","drop",!1)},doDragOver:function(a){},doDragEnter:function(a){},doDragLeave:function(a){},doDrop:function(a){this.handleFiles(a.value.dataTransfer.files,a)},handleFiles:function(a,d){if(void 0!==a){let g=a.length,f;for(;g;)(f=
this.filterFiles(a[--g]))&&this.handleDroppedFile(f,d)}else myt.dumpStack("Browser doesn't support the File API")},filterFiles:function(a){return a},handleDroppedFile:function(a,d){}});
(a=>{const d=JS.Class,g={},f=(b,c)=>{if(b){const e=b.id;b.id?c(e):a.dumpStack("No ID")}else a.dumpStack("No processor")},c=b=>{f(b,a=>{g[a]=b})},b=a.ValueProcessor=new d("ValueProcessor",{extend:{DEFAULT_ATTR:"runForDefault",ROLLBACK_ATTR:"runForRollback",CURRENT_ATTR:"runForCurrent"},initialize:function(a,c,e,d){this.id=a;this[b.DEFAULT_ATTR]=c?!0:!1;this[b.ROLLBACK_ATTR]=e?!0:!1;this[b.CURRENT_ATTR]=d?!0:!1},process:b=>b}),e=a.ToNumberValueProcessor=new d("ToNumberValueProcessor",b,{process:b=>
{if(null==b||""===b||"-"===b)return b;const a=Number(b);return isNaN(a)?b:a}}),h=a.TrimValueProcessor=new d("TrimValueProcessor",b,{initialize:function(b,a,c,e,d){this.callSuper(b,a,c,e);this.trim=d},process:function(b){b+="";switch(this.trim){case "start":case "left":return b.trimStart();case "end":case "right":return b.trimEnd();default:return b.trim()}}}),k=a.UndefinedValueProcessor=new d("UndefinedValueProcessor",b,{initialize:function(b,a,c,e,d){this.callSuper(b,a,c,e);this.defaultValue=d},process:function(b){return void 0===
b?this.defaultValue:b}});a.UseOtherFieldIfEmptyValueProcessor=new d("UseOtherFieldIfEmptyValueProcessor",b,{initialize:function(b,a,c,e,d){this.callSuper(b,a,c,e);this.otherField=d},process:function(b){return null==b||""===b?this.otherField.getValue():b}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){c(new k("undefToEmpty",!0,!0,!0,""));c(new e("toNumber",!0,!0,!0));c(new h("trimLeft",!0,!0,!0,"left"));c(new h("trimRight",!0,!0,!0,"right"));c(new h("trimBoth",!0,!0,!0,"both"));
a.global.register("valueProcessors",this)},getValueProcessor:b=>g[b],register:c,unregister:b=>{f(b,b=>{g[b]&&delete g[b]})}})})(myt);
(a=>{const d=JS.Module,g=a.global,f=a.ValueProcessor,c=(b,a)=>{const c=b.__v,e=c.length,d=[];for(let f=0;e>f;)a=c[f++].isFormValid(b,null,d)&&a;b.setErrorMessages(d);b.setIsValid(a);return a},b=(b,a,c)=>{b=b.__vp;const e=b.length;for(let d=0;e>d;){const e=b[d++];e[c]&&(a=e.process(a))}return a},e=a.Form=new d("Form",{initNode:function(b,a){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(b,a);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&
this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(b){this.errorMessages=b},getFullId:function(){const b=[this.id];let a=this.form;for(;a&&a.id;)b.unshift(a.id),a=a.form;return b.join(".")},setId:function(b){if(this.id!==b){const a=this.id;this.id=b;(b=this.form)&&this.inited&&(b.removeSubForm(a),b.addSubForm(this))}},setForm:function(b){if(this.form!==b){const a=this.form;this.form=b;a&&a.removeSubForm(this.id);b&&this.inited&&b.addSubForm(this)}},setIsValid:function(b){this.isValid=
b;this.inited&&this.fireEvent("isValid",b);const a=this.form;a&&!this._lockCascade&&(b?a.verifyValidState(this):a.notifySubFormInvalid())},setIsChanged:function(b){if(this.isChanged!==b){this.isChanged=b;this.inited&&this.fireEvent("isChanged",b);const a=this.form;a&&!this._lockCascade&&(b?a.notifySubFormChanged():a.verifyChangedState(this))}},setValidators:function(b){let a=b.length;for(;a;){const c=b[--a];"string"===typeof c&&(b[a]=g.validators.getValidator(c),b[a]||b.splice(a,1))}this.__v=b},getValue:function(){if(this.callSuper)return this.callSuper();
if(this.isA(h))return this.value;const b={},a=this.__sf;for(const c in a)b[c]=a[c].getValue();return b},setValue:function(b){this.callSuper&&this.callSuper(b);if("object"===typeof b&&!this.isA(h))for(const a in b){const c=this.getSubForm(a);c?b[a]=c.setValue(b[a]):console.warn("ID in setValue for non-existant subform",a)}this.form&&this.form.notifyValueChanged(this);return b},getDefaultValue:function(){const b={};let a=this.__sf;for(const c in a)b[c]=a[c].getDefaultValue();return b},setDefaultValue:function(b){if("object"===
typeof b)for(const a in b){const c=this.getSubForm(a);c?b[a]=c.setDefaultValue(b[a]):console.warn("ID in setDefaultValue for non-existant subform",a)}return b},getRollbackValue:function(){const b={},a=this.__sf;for(const c in a)b[c]=a[c].getRollbackValue();return b},setRollbackValue:function(b){if("object"===typeof b)for(const a in b){const c=this.getSubForm(a);c?b[a]=c.setRollbackValue(b[a]):console.warn("ID in setRollbackValue for non-existant subform",a)}return b},addAccelerator:function(b,a){this.__acc[b]=
a},removeAccelerator:function(b){delete this.__acc[b]},invokeAccelerator:function(b,a){(b=this.__acc[b])&&b.call(this,void 0===a?null:a)},addValidator:function(b){b&&this.__v.push(b)},removeValidator:function(b){if(b){const a=this.__v;let c=a.length;for(;c;){const e=a[--c];if(e.id===b)return a.splice(c,1),e}}return null},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(b){const a=b.id;null!=this.getSubForm(a)?console.warn("ID in use for subform, add aborted.",
a,b):(b.setForm(this),this.__sf[a]=b,b.isChanged&&this.notifySubFormChanged(),b.isValid||this.notifySubFormInvalid())},removeSubForm:function(b){const a=this.getSubForm(b);a&&(a.setForm(null),delete this.__sf[b],this.verifyChangedState(),this.verifyValidState());return a},getSubForm:function(b){return this.__sf[b]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(b){b&&this.doValidation();const a=[];(function p(b){if(b.isA(h))b.isValid||a.push(b.getFullId());else{b=b.getSubForms();
for(const a in b)p(b[a])}})(this);return a},getAllErrorMessages:function(){const b=this.__sf;let a=(this.errorMessages||[]).concat();for(const c in b)a=a.concat(b[c].getAllErrorMessages());return a},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(b){const a=this.__sf;let e=!0;for(const c in a){const d=a[c];d!==b&&(e=d.isValid&&e)}return c(this,e)},doValidation:function(){const b=this.__sf;let a=!0;for(const c in b)a=b[c].doValidation()&&a;this._lockCascade=!0;a=c(this,
a);this._lockCascade=!1;return a},notifyValueChanged:function(b){this.form&&this.form.notifyValueChanged(b)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(b){const a=this.__sf;let c=!1;for(const e in a){const d=a[e];d!==b&&(c=d.isChanged||c)}this.setIsChanged(c);return c},setup:function(b,a,c){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==b&&(b={});null==a&&(a={});null==c&&(c={});const e=this.__sf;
for(const d in e)e[d].setup(b[d],a[d],c[d])},resetForm:function(){this._lockCascade=!0;const b=this.__sf;for(const a in b)b[a].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const b=this.__sf;for(const a in b)b[a].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const b={},a=this.__sf;for(const c in a){const e=a[c];e.isChanged&&
(b[c]=e.getChangedValue())}return b}}),h=a.FormElement=new d("FormElement",{include:[e],initNode:function(b,a){this.__vp=[];this.callSuper(b,a)},getValue:function(){return b(this,this.callSuper?this.callSuper():this.value,f.CURRENT_ATTR)},setValue:function(b){void 0===b&&(b=this.getRollbackValue());this.value!==b&&(this.callSuper(b),this.verifyChangedState());return b},getDefaultValue:function(){return b(this,this.defaultValue,f.DEFAULT_ATTR)},setDefaultValue:function(b){this.defaultValue!==b&&(this.defaultValue=
b,this.inited&&this.fireEvent("defaultValue",b),this.verifyChangedState());return b},getRollbackValue:function(){return b(this,this.rollbackValue,f.ROLLBACK_ATTR)},setRollbackValue:function(b){void 0===b&&(b=this.getDefaultValue());this.rollbackValue!==b&&(this.rollbackValue=b,this.inited&&this.fireEvent("rollbackValue",b),this.verifyChangedState());return b},setValueProcessors:function(b){let a=b.length;for(;a;){const c=b[--a];"string"===typeof c&&(b[a]=g.valueProcessors.getValueProcessor(c),b[a]||
b.splice(a,1))}this.__vp=b},addValueProcessor:function(b){this.__vp.push(b)},removeValueProcessor:function(b){if(b){const a=this.__vp;let c=a.length;for(;c;){const e=a[--c];if(e.id===b)return a.splice(c,1),e}}return null},addSubForm:b=>{a.dumpStack("addSubForm not supported on form elements.")},getSubForm:b=>{a.dumpStack("getSubForm not supported on form elements.");return null},removeSubForm:b=>{a.dumpStack("removeSubForm not supported on form elements.");return null},verifyChangedState:function(b){b=
this.getValue()!==this.getRollbackValue();this.setIsChanged(b);return b},setup:function(b,a,c){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(b);this.setRollbackValue(a);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(c)},resetForm:function(){this._lockCascade=!0;const b=this.getDefaultValue();this.setRollbackValue(b);this.setValue(b);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);
this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}});a.RootForm=new d("RootForm",{include:[e],initNode:function(b,a){this.callSuper(b,a);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?
this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:b=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();this.doValidation()}})})(myt);
myt.Uploader=new JS.Class("Uploader",myt.View,{include:[myt.DragDropSupport,myt.Disableable,myt.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",MIME_TYPES_BY_EXTENSION:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},readFile:function(a,d){if(void 0!==FileReader){const g=new FileReader;g.onload=d;g.readAsDataURL(a)}},isSameFile:function(a,d){return null==a||null==d?!1:a.name===d.name&&a.type===d.type&&a.size===d.size},createFile:function(a){const d=(new myt.URI(a)).file;
return{name:d,serverPath:a,size:-1,type:this.MIME_TYPES_BY_EXTENSION[myt.getExtension(d)]}}},initNode:function(a,d){const g=this;g.files=[];null==d.requestFileParam&&(d.requestFileParam="file");null==d.maxFiles&&(d.maxFiles=-1);g.callSuper(a,d);new myt.NativeInputWrapper(g,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:g.disabled,overflow:"hidden"},[myt.SizeToParent,{initNode:function(a,c){this.inputType="file";this.callSuper(a,c);this.attachToDom(this,"_handleInput",
"change");this.domElement.multiple=1<g.maxFiles},_handleInput:function(a){g.handleFiles(this.domElement.files,a)}}])},setValue:function(a){this.clearFiles();if(a){Array.isArray(a)||(a=[a]);const d=a.length;let g=0;for(;d>g;++g)this.addFile(myt.Uploader.createFile(a[g]))}return this.callSuper?this.callSuper(a):a},getValue:function(){return this.value},setDisabled:function(a){this.callSuper(a);this.fileInput&&this.fileInput.setDisabled(a)},setMaxFiles:function(a){this.maxFiles!==a&&(this.maxFiles=a,
this.inited&&this.fireEvent("maxFiles",a),this.fileInput&&(this.fileInput.domElement.multiple=1<a))},setUploadUrl:function(a){this.set("uploadUrl",a,!0)},setRequestFileParam:function(a){this.set("requestFileParam",a,!0)},bringSubviewToFront:function(a){a===this.fileInput?this.callSuper(a):this.sendSubviewBehind(a,this.fileInput)},subviewAdded:function(a){this.callSuper(a);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(a,d){this.addFile(a)},filterFiles:function(a){return 0<=
this.maxFiles&&this.files.length>=this.maxFiles?null:a},uploadFiles:function(a,d){a=a||this.uploadUrl;const g=this.files;let f=g.length;for(;f;)this.uploadFile(g[--f],a,d)},uploadFile:function(a,d,g){const f=this,c=new FormData;c.append(g||f.requestFileParam,a,a.name);myt.doFetch(d||f.uploadUrl,{method:"POST",body:c},!1,b=>{f.handleUploadSuccess(a,b)},b=>{f.handleUploadFailure(a,b)})},handleUploadSuccess:function(a,d){a[myt.Uploader.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(a,d);this.updateValueFromFiles()},
handleUploadFailure:(a,d)=>{myt.dumpStack("Upload failure: "+d.status+" : "+d.message)},parseServerPathFromResponse:(a,d)=>null,addFile:function(a){this.files.push(a);this.updateValueFromFiles();this.fireEvent("addFile",a)},removeFile:function(a){const d=this.files;let g=d.length;for(;g;)if(myt.Uploader.isSameFile(d[--g],a)){d.splice(g,1);this.updateValueFromFiles();this.fireEvent("removeFile",a);break}},updateValueFromFiles:function(){const a=[];var d=this.files;let g=d.length,f;for(;g;)(f=d[--g][myt.Uploader.FILE_ATTR_SERVER_PATH])&&
a.push(f);d=a.length;this.value=1===d?a[0]:0===d?void 0:a;this.value||(this.fileInput.domElement.value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const a=this.files;let d=a.length;for(;d;)this.removeFile(a[--d])}});
myt.ImageUploader=new JS.Class("ImageUploader",myt.Uploader,{extend:{isImageFile:function(a){return/image/i.test(a.type)}},initNode:function(a,d){d.maxFiles=1;this.callSuper(a,d)},setWidth:function(a,d){this.callSuper(a,d);this.inited&&this.updateImageSize()},setHeight:function(a,d){this.callSuper(a,d);this.inited&&this.updateImageSize()},filterFiles:function(a){if(!myt.ImageUploader.isImageFile(a))return null;for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(a)},addFile:function(a){const d=
this;d.callSuper(a);const g=d.image=new myt.Image(d,{useNaturalSize:!1,align:"center",valign:"middle"});g.file=a;if(-1===a.size){const f=new Image;f.onload=function(){a.width=this.width;a.height=this.height;g&&!g.destroyed&&d.updateImage(a,g,this.src)};f.src=a.serverPath}else void 0!==FileReader&&myt.ImageUploader.isImageFile(a)&&myt.Uploader.readFile(a,function(f){const c=new Image;c.onload=function(){a.width=this.width;a.height=this.height;g&&!g.destroyed&&d.updateImage(a,g,this.src)};c.src=f.target.result})},
scaleToFit:function(a,d,g,f){return g/f>a/d?[a,f*a/g]:[g*d/f,d]},removeFile:function(a){this.callSuper(a);const d=this.getSubviews();let g=d.length,f;for(;g;)if(f=d[--g],myt.Uploader.isSameFile(f.file,a)){f.destroy();break}},handleDroppedFile:function(a,d){this.callSuper(a,d);this.uploadFile(a,this.uploadUrl)},updateImage:function(a,d,g){this.nativeWidth=a.width;this.nativeHeight=a.height;this.updateImageSize();d.setImageUrl(g)},updateImageSize:function(){const a=this.image;if(a&&!a.destroyed){var d=
this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const g=Math.round(d[0]);d=Math.round(d[1]);a.setImageSize(g+"px "+d+"px");a.setWidth(g);a.setHeight(d)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}});
(a=>{const d=b=>Math.min(255,Math.max(0,Math.round(b))),g=b=>{b=d(b).toString(16);return 1===b.length?"0"+b:b},f=(b,a,c,d)=>[d?"#":"",g(b),g(a),g(c)].join(""),c=a=>new b((16711680&a)>>16,(65280&a)>>8,255&a),b=a.Color=new JS.Class("Color",{extend:{toHex:g,rgbToHex:f,cleanChannelValue:d,getRedChannel:b=>(16711680&b)>>16,getGreenChannel:b=>(65280&b)>>8,getBlueChannel:b=>255&b,makeColorFromNumber:c,makeColorFromHexString:b=>b&&0===b.indexOf("#")?c(parseInt(b.substring(1),16)):null,getLighterColor:(b,
a)=>c(b).isLighterThan(c(a))?b:a,makeColorNumberFromChannels:(b,a,c)=>(d(b)<<16)+(d(a)<<8)+d(c),makeBlendedColor:(a,c,d)=>new b(a.red+d*(c.red-a.red),a.green+d*(c.green-a.green),a.blue+d*(c.blue-a.blue))},initialize:function(b,a,c){this.setRed(b);this.setGreen(a);this.setBlue(c)},setRed:function(b){this.red=d(b)},setGreen:function(b){this.green=d(b)},setBlue:function(b){this.blue=d(b)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return f(this.red,
this.green,this.blue,!0)},isLighterThan:function(b){b=this.getDiffFrom(b);return 0>b.red+b.green+b.blue},getDiffFrom:function(b){return{red:b.red-this.red,green:b.green-this.green,blue:b.blue-this.blue}},applyDiff:function(b){return this.add(b)},add:function(b){this.setRed(this.red+b.red);this.setGreen(this.green+b.green);this.setBlue(this.blue+b.blue);return this},subtract:function(b){this.setRed(this.red-b.red);this.setGreen(this.green-b.green);this.setBlue(this.blue-b.blue);return this},multiply:function(b){this.setRed(this.red*
b);this.setGreen(this.green*b);this.setBlue(this.blue*b);return this},divide:function(b){this.setRed(this.red/b);this.setGreen(this.green/b);this.setBlue(this.blue/b);return this},clone:function(){return new b(this.red,this.green,this.blue)},equals:function(a){return a===this||a&&a.isA&&a.isA(b)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
(function(a,d){function g(b,a,c){const e=[];let f=0,h,g,k;for(;f<b.length;)(h=b[f++])?(g=q(h),k=.5>g.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",k+=q.equals(a,h)?" sp-thumb-active":"",e.push('<span title="'+g.toHexString()+'" data-color="'+g.toHexString()+'" class="'+k+'"><span class="sp-thumb-inner" style="background-color:'+g.toHexString()+';"></span></span>')):e.push(d("<div />").append(d('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",
c.noColorSelectedText)).html());return"<div class='sp-cf'>"+e.join("")+"</div>"}function f(b,e){function f(){if(B.palette){ba=B.palette.slice(0);V=Array.isArray(ba[0])?ba:[ba];ca={};for(let b=0;b<V.length;b++)for(let a=0;a<V[b].length;a++){const c=q(V[b][a]).toHexString();ca[c]=!0}}D.toggleClass("sp-clear-enabled",P);N()}function l(){if(x&&a.localStorage)try{J=a.localStorage[x].split(";")}catch(ra){}}function m(b){if(v){b=q(b).toHexString();if(!ca[b]&&-1===d.inArray(b,J))for(J.push(b);J.length>qa;)J.shift();
if(x&&a.localStorage)try{a.localStorage[x]=J.join(";")}catch(sa){}}}function n(){const b=[];for(let a=0;a<J.length;a++){const c=q(J[a]).toHexString();ca[c]||b.push(J[a])}return b.reverse().slice(0,B.maxSelectionSize)}function p(){const b=G(),a=d.map(V,function(a,c){return g(a,b,B)});l();if(J){const c=n(),e=c.length;for(let d=0;e>d;d+=ka)a.push(g(c.slice(d,d+ka),b,B))}la.html(a.join(""))}function r(){(0>=K||0>=U||0>=da)&&N();D.addClass("sp-dragging");O=null;E.trigger("dragstart.spectrum",[G()])}function z(){D.removeClass("sp-dragging");
E.trigger("dragstop.spectrum",[G()])}function y(){var b=Q.val();null!==b&&""!==b||!P?(b=q(b),b.isValid()?w(b):Q.addClass("sp-validation-error")):w(null)}function w(b){q.equals(b,G())||(!b&&P?R=!0:(R=!1,b=q(b),b=b.toHsv(),W=b.h%360/360,X=b.s,Y=b.v));u()}function G(){return P&&R?null:q.fromRatio({h:W,s:X,v:Y})}function u(){Q.removeClass("sp-validation-error");S();var b=q.fromRatio({h:W,s:1,v:1});ea.css("background-color",b.toHexString());b=(b=G())||!P?b.toHexString():"";Q.val(b);p();b=ma;const a=G();
na.html(g([b,a],a,B))}function S(){if(P&&R)fa.hide(),ha.hide();else{fa.show();ha.show();let b=X*U,a=K-Y*K;b=Math.max(-T,Math.min(U-T,b-T));a=Math.max(-T,Math.min(K-T,a-T));ha.css({top:a+"px",left:b+"px"});fa.css({top:W*da-oa+"px"})}}function N(){U=ea.width();K=ea.height();T=ha.height();ia.width();da=ia.height();oa=fa.height();S();p();E.trigger("reflow.spectrum")}const B=Object.assign({},h,e),v=B.showSelectionPalette,x=B.localStorageKey,L=B.color;e=b.ownerDocument;const E=d(b),D=d("<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'/></div><div class='sp-initial sp-thumb sp-cf'></div></div></div>",
e);D.find(".sp-picker-container");const ea=D.find(".sp-color"),ha=D.find(".sp-dragger"),ia=D.find(".sp-hue"),fa=D.find(".sp-slider"),Q=D.find(".sp-input"),la=D.find(".sp-palette"),na=D.find(".sp-initial"),ja=D.find(".sp-clear"),P=B.allowEmpty;b=B.dialog;let U=0,K=0,T=0,da=0,oa=0,W=0,X=0,Y=0,ba=[],V=[],ca={},J=B.selectionPalette.slice(0),ka=B.selectionWrapSize,qa=B.maxSelectionSize,O=null,R=!L,ma=!1;(function(){function b(b){w(d(b.target).closest(".sp-thumb-el").data("color"));u();return!1}f();P||
ja.hide();E.after(D).hide();l();Q.change(y);Q.bind("paste",function(){setTimeout(y,1)});Q.keydown(function(b){13==b.keyCode&&y()});ja.attr("title",B.clearText);ja.bind("click.spectrum",function(b){b.stopPropagation();b.preventDefault();R=!0;u()});c(ia,function(b,a){W=parseFloat(a/da);R=!1;u()},r,z);c(ea,function(b,a,c){c.shiftKey?O||(O=Math.abs(b-X*U)>Math.abs(a-(K-Y*K))?"x":"y"):O=null;c=!O||"y"===O;O&&"x"!==O||(X=parseFloat(b/U));c&&(Y=parseFloat((K-a)/K));R=!1;u()},r,z);L&&(w(L),m(L));N();ma=G();
u();la.delegate(".sp-thumb-el","click.spectrum",b);na.delegate(".sp-thumb-el:nth-child(1)","click.spectrum",b)})();const Z={reflow:N,option:function(b,a){if(null==b)return Object.assign({},B);if(null==a)return B[b];B[b]=a;f()},set:w,addColorToSelectionPalette:m,get:G,destroy:function(){E.show();D.remove();k[Z.id]=null},container:D};Z.id=k.push(Z)-1;b._spectrumCallback(Z);return Z}function c(b,a,c,e){function f(b){b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();b.returnValue=
!1}function h(c){k&&a.apply(b,[Math.max(0,Math.min(c.pageX-l.left,n)),Math.max(0,Math.min(c.pageY-l.top,m)),c])}a=a||function(){};c=c||function(){};e=e||function(){};const g=b.ownerDocument||document;let k=!1,l={},m=0,n=0;const p={};p.selectstart=f;p.dragstart=f;p.mousemove=h;p.mouseup=function(){k&&(d(g).unbind(p),d(g.body).removeClass("sp-dragging"),e.apply(b,arguments));k=!1};d(b).bind("mousedown",function(a){(a.which?3==a.which:2==a.button)||k||!1===c.apply(b,arguments)||(k=!0,m=d(b).height(),
n=d(b).width(),l=d(b).offset(),d(g).bind(p),d(g.body).addClass("sp-dragging"),h(a),f(a))})}function b(b,a){var c="string"==typeof b;c&&-1!=b.indexOf(".")&&1===parseFloat(b)&&(b="100%");c=c&&-1!=b.indexOf("%");b=p(a,r(0,parseFloat(b)));c&&(b=parseInt(b*a,10)/100);return 1E-6>n.abs(b-a)?1:b%a/parseFloat(a)}function e(b){return 1>=b?100*b+"%":b}const h={color:!1,allowEmpty:!0,showSelectionPalette:!0,localStorageKey:!1,selectionWrapSize:8,maxSelectionSize:56,clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",
palette:[],selectionPalette:[]},k=[];d.fn.spectrum=function(b,...a){if("string"==typeof b){let c=this;this.each(function(){const e=k[d(this).data("spectrum.id")];if(e){const f=e[b];if(!f)throw Error("Spectrum: no such method: '"+b+"'");"get"==b?c=e.get():"container"==b?c=e.container:"option"==b?c=e.option.apply(e,a):"destroy"==b?(e.destroy(),d(this).removeData("spectrum.id")):f.apply(e,a)}});return c}return this.spectrum("destroy").each(function(){var a=Object.assign({},b,d(this).data());a=f(this,
a);d(this).data("spectrum.id",a.id)})};d.fn.spectrum.load=!0;d.fn.spectrum.draggable=c;d.fn.spectrum.defaults=h;d.spectrum={};const l=/^[#]+/,n=Math,m=n.round,p=n.min,r=n.max,q=function t(a){a=a?a:"";if(a instanceof t)return a;if(!(this instanceof t))return new t(a);var c=0,d=0,f=0,h=!1;if("string"==typeof a){a=a.trim().toLowerCase().replace(l,"");var g;a=(g=w.rgb.exec(a))?{r:g[1],g:g[2],b:g[3]}:(g=w.hex6.exec(a))?{r:parseInt(g[1],16),g:parseInt(g[2],16),b:parseInt(g[3],16)}:!1}if("object"==typeof a)if(a.hasOwnProperty("r")&&
a.hasOwnProperty("g")&&a.hasOwnProperty("b"))d=a.g,f=a.b,c=255*b(a.r,255),d=255*b(d,255),f=255*b(f,255),h=!0;else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){a.s=e(a.s);a.v=e(a.v);{f=a.h;c=a.s;a=a.v;f=6*b(f,360);c=b(c,100);a=b(a,100);d=n.floor(f);g=f-d;f=a*(1-c);h=a*(1-g*c);g=a*(1-(1-g)*c);const e=d%6;c=255*[a,h,f,f,g,a][e];d=255*[g,a,a,h,f,f][e];f=255*[f,f,g,a,a,h][e]}h=!0}this._r=p(255,r(c,0));this._g=p(255,r(d,0));this._b=p(255,r(f,0));this._ok=h;1>this._r&&(this._r=
m(this._r));1>this._g&&(this._g=m(this._g));1>this._b&&(this._b=m(this._b))};q.prototype={isValid:function(){return this._ok},toHsv:function(){{var a=this._r;var c=this._g,e=this._b;a=b(a,255);c=b(c,255);e=b(e,255);var d=r(a,c,e);const h=p(a,c,e);let g;var f=d-h;if(d==h)g=0;else{switch(d){case a:g=(c-e)/f+(c<e?6:0);break;case c:g=(e-a)/f+2;break;case e:g=(a-c)/f+4}g/=6}a=g;f=0===d?0:f/d}return{h:360*a,s:f,v:d}},toHsl:function(){{var a=this._r;var c=this._g;var e=this._b;a=b(a,255);c=b(c,255);e=b(e,
255);const h=r(a,c,e);var d=p(a,c,e);var f=(h+d)/2;let g;if(h==d)g=d=0;else{const b=h-d;d=.5<f?b/(2-h-d):b/(h+d);switch(h){case a:g=(c-e)/b+(c<e?6:0);break;case c:g=(e-a)/b+2;break;case e:g=(a-c)/b+4}g/=6}a=g;c=d}return{h:360*a,s:c,l:f}},toHexString:function(){return myt.Color.rgbToHex(this._r,this._g,this._b,!0)}};q.fromRatio=function(b){if("object"==typeof b){let a={};for(let c in b)b.hasOwnProperty(c)&&(a[c]=e(b[c]));b=a}return q(b)};q.equals=function(b,a){return b&&a?q(b).toHexString()==q(a).toHexString():
!1};const w={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})(window,jQuery);
(function(a,d){const g={en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"},ja:{days:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),months:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),sep:"/"},ru:{days:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),months:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" ")},
br:{days:"Dom Seg Ter Qua Qui Sex S\u00e1b".split(" "),months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" ")},pt:{days:"dom seg ter qua qui sex s\u00e1b".split(" "),months:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" ")},cn:{days:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},
de:{days:"So Mo Di Mi Do Fr Sa".split(" "),months:"Jan Feb M\u00e4rz Apr Mai Juni Juli Aug Sept Okt Nov Dez".split(" ")},sv:{days:"S\u00f6 M\u00e5 Ti On To Fr L\u00f6".split(" "),months:"Jan Feb Mar Apr Maj Juni Juli Aug Sept Okt Nov Dec".split(" ")},id:{days:"Min Sen Sel Rab Kam Jum Sab".split(" "),months:"Jan Feb Mar Apr Mei Jun Jul Agu Sep Okt Nov Des".split(" ")},it:{days:"Dom Lun Mar Mer Gio Ven Sab".split(" "),months:"Gen Feb Mar Apr Mag Giu Lug Ago Set Ott Nov Dic".split(" ")},tr:{days:"Pz Pzt Sal \u00c7ar Per Cu Cts".split(" "),
months:"Ock \u015eub Mar Nis May Haz Tem Agu Eyl Ekm Kas Arlk".split(" ")},es:{days:"dom lun mar mi\u00e9r jue vi\u00e9 s\u00e1b".split(" "),months:"ene feb mar abr may jun jul ago sep oct nov dic".split(" ")},ko:{days:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ")},nl:{days:"zo ma di wo do vr za".split(" "),months:"jan feb mrt apr mei jun jul aug sep okt nov dec".split(" ")},
cz:{days:"Ne Po \u00dat St \u010ct P\u00e1 So".split(" "),months:"Led \u00dano B\u0159e Dub Kv\u011b \u010cer \u010cvc Srp Z\u00e1\u0159 \u0158\u00edj Lis Pro".split(" ")},fr:{days:"Dim Lun Mar Mer Jeu Ven Sam".split(" "),months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" ")}},f=b=>d(b).closest(".myt-dp"),c=(b,a)=>"undefined"!==typeof g[b][a]?g[b][a]:g.en[a],b=function(a,h,k,l,n,m){h=null!=n?new Date(h,k,l,n,m,0):null!=h?new Date(h,
k,l):new Date;var e=a.data("todayButton");k=a.data("futureOnly");l=a.data("minDate");n=a.data("maxDate");m=a.data("minuteInterval");var r=a.data("firstDayOfWeek"),q=a.data("allowWdays");if(null==q||!1===Array.isArray(q)||0>=q.length)q=null;var w=a.data("minTime");const y=a.data("maxTime"),z=new Date;k&&h.getTime()<z.getTime()&&h.setTime(z.getTime());if(null!=q&&6>=q.length)for(;;)if(-1==d.inArray(h.getDay(),q))h.setDate(h.getDate()+1);else break;var t=a.data("locale");g.hasOwnProperty(t)||(t="en");
var A=(new Date(h.getFullYear(),h.getMonth(),1)).getDay()-r,F=(new Date(h.getFullYear(),h.getMonth()+1,0)).getDate();const M=(new Date(h.getFullYear(),h.getMonth(),0)).getDate(),I=new Date(h.getFullYear(),h.getMonth(),0),H=new Date(h.getFullYear(),h.getMonth()+2,0);var C=z.getFullYear()==h.getFullYear();const aa=C&&z.getMonth()==h.getMonth(),pa=aa&&z.getDate()==h.getDate();let G=!1;if(h.getFullYear()<z.getFullYear()||C&&h.getMonth()<z.getMonth())G=!0;var u=a.children(".dp-header");const S=a.children(".dp-calendar"),
N=S.children(".dp-table");C=a.children(".dp-timelist");d(a).data("pickedDate",h);d.fn.dtpicker.dialog._dtpickerCallback(h);const B=C.scrollTop();if(!0===a.data("timeOnly"))S.css("border-right","0px"),S.css("width","0px"),C.css("width","130px");else{u.children().remove();var v=new Date(h.getTime());v.setMinutes(59);v.setHours(23);v.setSeconds(59);v.setDate(0);var x=null;k&&aa||!(null==l||l<v.getTime())?a.data("stateAllowBeforeMonth",!1):(x=d("<a>"),x.text("<"),x.prop("alt",c(t,"prevMonth")),x.prop("title",
c(t,"prevMonth")),x.click(()=>{{const h=f(a);if(!1!==h.data("stateAllowBeforeMonth")){var c=f(h).data("pickedDate"),e=(new Date(c.getFullYear(),c.getMonth(),0)).getDate();e<c.getDate()&&c.setDate(e);b(h,c.getFullYear(),c.getMonth()-1,c.getDate(),c.getHours(),c.getMinutes());var d=new Date;d.getFullYear()==c.getFullYear()&&d.getMonth()==c.getMonth()&&h.data("futureOnly")||(e<c.getDate()&&c.setDate(e),b(h,c.getFullYear(),c.getMonth()-1,c.getDate(),c.getHours(),c.getMinutes()))}}}),a.data("stateAllowBeforeMonth",
!0));v.setMinutes(0);v.setHours(0);v.setSeconds(0);v.setDate(1);v.setMonth(h.getMonth()+1);var L=d("<span>");L.text(h.getFullYear()+" "+c(t,"sep")+" "+c(t,"months")[h.getMonth()]);var E=null;if(null==n||n>v.getTime())E=d("<a>"),E.text(">"),E.prop("alt",c(t,"nextMonth")),E.prop("title",c(t,"nextMonth")),E.click(()=>{{const e=f(a),d=f(e).data("pickedDate");var c=(new Date(d.getFullYear(),d.getMonth()+1,0)).getDate();c<d.getDate()&&d.setDate(c);c=(new Date(d.getFullYear(),d.getMonth()+2,0)).getDate();
c<d.getDate()&&d.setDate(c);b(e,d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes())}});e&&(e=d("<a/>"),e.html(decodeURIComponent("%3c%3fxml%20version%3d%221%2e0%22%20encoding%3d%22UTF%2d8%22%20standalone%3d%22no%22%3f%3e%3csvg%20%20xmlns%3adc%3d%22http%3a%2f%2fpurl%2eorg%2fdc%2felements%2f1%2e1%2f%22%20%20xmlns%3acc%3d%22http%3a%2f%2fcreativecommons%2eorg%2fns%23%22%20xmlns%3ardf%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f1999%2f02%2f22%2drdf%2dsyntax%2dns%23%22%20%20xmlns%3asvg%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20%20version%3d%221%2e1%22%20%20width%3d%22100%25%22%20%20height%3d%22100%25%22%20viewBox%3d%220%200%2010%2010%22%3e%3cg%20transform%3d%22translate%28%2d5%2e5772299%2c%2d26%2e54581%29%22%3e%3cpath%20d%3d%22m%2014%2e149807%2c31%2e130932%20c%200%2c%2d0%2e01241%200%2c%2d0%2e02481%20%2d0%2e0062%2c%2d0%2e03721%20L%2010%2e57723%2c28%2e153784%207%2e0108528%2c31%2e093719%20c%200%2c0%2e01241%20%2d0%2e0062%2c0%2e02481%20%2d0%2e0062%2c0%2e03721%20l%200%2c2%2e97715%20c%200%2c0%2e217084%200%2e1798696%2c0%2e396953%200%2e3969534%2c0%2e396953%20l%202%2e3817196%2c0%200%2c%2d2%2e38172%201%2e5878132%2c0%200%2c2%2e38172%202%2e381719%2c0%20c%200%2e217084%2c0%200%2e396953%2c%2d0%2e179869%200%2e396953%2c%2d0%2e396953%20l%200%2c%2d2%2e97715%20m%201%2e383134%2c%2d0%2e427964%20c%200%2e06823%2c%2d0%2e08063%200%2e05582%2c%2d0%2e210882%20%2d0%2e02481%2c%2d0%2e279108%20l%20%2d1%2e358324%2c%2d1%2e128837%200%2c%2d2%2e530576%20c%200%2c%2d0%2e111643%20%2d0%2e08683%2c%2d0%2e198477%20%2d0%2e198477%2c%2d0%2e198477%20l%20%2d1%2e190859%2c0%20c%20%2d0%2e111643%2c0%20%2d0%2e198477%2c0%2e08683%20%2d0%2e198477%2c0%2e198477%20l%200%2c1%2e209467%20%2d1%2e513384%2c%2d1%2e265289%20c%20%2d0%2e2605%2c%2d0%2e217083%20%2d0%2e682264%2c%2d0%2e217083%20%2d0%2e942764%2c0%20L%205%2e6463253%2c30%2e42386%20c%20%2d0%2e080631%2c0%2e06823%20%2d0%2e093036%2c0%2e198476%20%2d0%2e024809%2c0%2e279108%20l%200%2e3845485%2c0%2e458976%20c%200%2e031012%2c0%2e03721%200%2e080631%2c0%2e06203%200%2e1302503%2c0%2e06823%200%2e055821%2c0%2e0062%200%2e1054407%2c%2d0%2e01241%200%2e1488574%2c%2d0%2e04342%20l%204%2e2920565%2c%2d3%2e578782%204%2e292058%2c3%2e578782%20c%200%2e03721%2c0%2e03101%200%2e08063%2c0%2e04342%200%2e13025%2c0%2e04342%200%2e0062%2c0%200%2e01241%2c0%200%2e01861%2c0%200%2e04962%2c%2d0%2e0062%200%2e09924%2c%2d0%2e03101%200%2e130251%2c%2d0%2e06823%20l%200%2e384549%2c%2d0%2e458976%22%20%2f%3e%3c%2fg%3e%3c%2fsvg%3e")),
e.addClass("icon-home"),e.prop("alt",c(t,"today")),e.prop("title",c(t,"today")),e.click(()=>{const c=new Date;b(f(a),c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())}),u.append(e));null!=x&&u.append(x);u.append(L);null!=E&&u.append(E);N.children().remove();e=d("<tr>");N.append(e);r=7+r;t=c(t,"days");for(x=0;7>x;x++)u=d("<th>"),u.text(t[(x+r)%7]),e.append(u);L=7*Math.ceil((A+F)/7);x=0;0>A&&(x=-7);t=new Date(h.getTime());t.setHours(0);t.setMinutes(0);for(t.setSeconds(0);x<L;x++){v=
x+1-A;E=G||aa&&v<z.getDate();0===x%7&&(e=d("<tr>"),N.append(e));u=d("<td>");u.data("day",v);e.append(u);A>x?(u.text(M+v),u.addClass("day_another_month"),u.data("dateStr",I.getFullYear()+"/"+(I.getMonth()+1)+"/"+(M+v)),t.setDate(M+v),t.setMonth(I.getMonth()),t.setYear(I.getFullYear())):x<A+F?(u.text(v),u.data("dateStr",h.getFullYear()+"/"+(h.getMonth()+1)+"/"+v),t.setDate(v),t.setMonth(h.getMonth()),t.setYear(h.getFullYear())):(u.text(v-F),u.addClass("day_another_month"),u.data("dateStr",H.getFullYear()+
"/"+(H.getMonth()+1)+"/"+(v-F)),t.setDate(v-F),t.setMonth(H.getMonth()),t.setYear(H.getFullYear()));const a=(x+r)%7;if(null!=q){if(-1==d.inArray(a,q)){u.addClass("day_in_unallowed");continue}}else 0===a?u.addClass("wday_sun"):6==a&&u.addClass("wday_sat");v==h.getDate()&&u.addClass("active");aa&&v==z.getDate()&&u.addClass("today");v=new Date(t.getTime());v.setHours(23);v.setMinutes(59);v.setSeconds(59);null!=l&&l>v.getTime()||null!=n&&n<t.getTime()?u.addClass("out_of_range"):k&&E?u.addClass("day_in_past"):
(u.click(function(){d(this).hasClass("hover")&&d(this).removeClass("hover");d(this).addClass("active");const a=f(d(this)),c=new Date(d(this).data("dateStr")),e=f(a).data("pickedDate");b(a,c.getFullYear(),c.getMonth(),c.getDate(),e.getHours(),e.getMinutes())}),u.hover(function(){d(this).hasClass("active")||d(this).addClass("hover")},function(){d(this).hasClass("hover")&&d(this).removeClass("hover")}))}}if(!0===a.data("dateOnly"))C.css("display","none"),S.css("border-right","0px");else{C.children().remove();
t=new Date(h.getTime());C.css("height","175px");q=w[0];for(w=w[1];100*q+w<100*y[0]+y[1];)A=d("<div>"),F=q<z.getHours()||q==z.getHours()&&w<z.getMinutes(),F=pa&&F,A.addClass("dp-timelist_item"),A.text(("0"+q).slice(-2)+":"+("0"+w).slice(-2)),A.data("hour",q),A.data("min",w),C.append(A),t.setHours(q),t.setMinutes(w),null!=l&&l>t.getTime()||null!=n&&n<t.getTime()?A.addClass("out_of_range"):k&&F?A.addClass("time_in_past"):(A.click(function(){d(this).hasClass("hover")&&d(this).removeClass("hover");d(this).addClass("active");
const a=f(d(this)),c=f(a).data("pickedDate"),e=d(this).data("hour"),h=d(this).data("min");b(a,c.getFullYear(),c.getMonth(),c.getDate(),e,h)}),A.hover(function(){d(this).hasClass("active")||d(this).addClass("hover")},function(){d(this).hasClass("hover")&&d(this).removeClass("hover")})),q==h.getHours()&&w==h.getMinutes()&&(A.addClass("active"),A.offset()),w+=m,60<=w&&(w-=60,q++);C.scrollTop(B)}};d.fn.dtpicker=function(a){var c=a.dialog;a=d.extend({current:null,locale:"en",minuteInterval:30,firstDayOfWeek:0,
todayButton:!0,dateOnly:!1,timeOnly:!1,futureOnly:!1,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowWdays:null},a);this.addClass("myt-dp");a.current||(a.current=new Date);this.data("dateOnly",a.dateOnly);this.data("timeOnly",a.timeOnly);this.data("locale",a.locale);this.data("firstDayOfWeek",a.firstDayOfWeek);this.data("todayButton",a.todayButton);this.data("futureOnly",a.futureOnly);this.data("allowWdays",a.allowWdays);var e=Date.parse(a.minDate);this.data("minDate",isNaN(e)?null:
e);e=Date.parse(a.maxDate);this.data("maxDate",isNaN(e)?null:e);this.data("state",0);5<=a.minuteInterval&&30>=a.minuteInterval?this.data("minuteInterval",a.minuteInterval):this.data("minuteInterval",30);a.minTime=a.minTime.split(":");a.maxTime=a.maxTime.split(":");0<=a.minTime[0]&&24>a.minTime[0]||(a.minTime[0]="00");0<=a.maxTime[0]&&24>a.maxTime[0]||(a.maxTime[0]="23");0<=a.minTime[1]&&60>a.minTime[1]||(a.minTime[1]="00");0<=a.maxTime[1]&&24>a.maxTime[1]||(a.maxTime[1]="59");a.minTime[0]=parseInt(a.minTime[0]);
a.minTime[1]=parseInt(a.minTime[1]);a.maxTime[0]=parseInt(a.maxTime[0]);a.maxTime[1]=parseInt(a.maxTime[1]);this.data("minTime",a.minTime);this.data("maxTime",a.maxTime);e=d("<div>");e.addClass("dp-header");this.append(e);e=d("<div>");e.addClass("dp-calendar");e.css("height","175px");var g=d("<table>");g.addClass("dp-table");e.append(g);this.append(e);g=d("<div>");g.addClass("dp-timelist");this.append(g);e.bind("wheel",function(a){var c=f(d(this)),e=d.fn.dtpicker;null==e._delta&&(e._delta=0);a=e._delta+=
a.originalEvent.deltaY;75<a?(e._delta-=75,c=f(c),e=f(c).data("pickedDate"),e.setDate(e.getDate()-1),b(c,e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())):-75>a&&(e._delta+=75,c=f(c),e=f(c).data("pickedDate"),e.setDate(e.getDate()+1),b(c,e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()));return!1});d.fn.dtpicker.dialog=c;c=a.current;b(this,c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())}})(window,jQuery);
(a=>{const d=a.SizeToParent;a.Dimmer=new JS.Class("Dimmer",a.View,{include:[d],extend:{DEFAULT_OPACITY:.35,DEFAULT_COLOR:"#000000"},initNode:function(d,f){const c=this;c.restoreFocus=!0;f.focusable=f.focusCage=!0;null==f.percentOfParentWidth&&(f.percentOfParentWidth=100);null==f.percentOfParentHeight&&(f.percentOfParentHeight=100);null==f.visible&&(f.visible=!1);null==f.ignoreLayout&&(f.ignoreLayout=!0);c.callSuper(d,f);"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(b=>
{c.attachDomObserver(c,"eatMouseEvent",b)});a.RootView.setupCaptureDrop(c)},doBeforeAdoption:function(){this.callSuper();const g=a.Dimmer;new a.View(this,{name:"overlay",ignorePlacement:!0,opacity:g.DEFAULT_OPACITY,bgColor:g.DEFAULT_COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[d])},destroyAfterOrphaning:function(){a.RootView.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(a){this.restoreFocus=a},eatMouseEvent:a=>!0,show:function(){const d=a.global.focus;this.prevFocus=
d.focusedView||d.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(a){this.visible&&(this.setVisible(!1),!a&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus())}})})(myt);
(a=>{const d=(a,d,c)=>{const b=a.axis;c=c.bind(a);"y"!==b&&(c(d,"update","x"),c(d,"update","boundsWidth"));"x"!==b&&(c(d,"update","y"),c(d,"update","boundsHeight"));c(d,"update","visible")};a.SizeToChildren=new JS.Class("SizeToChildren",a.Layout,{initNode:function(a,d){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(a,d)},setAxis:function(a){this.axis!==a&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=a,this.startMonitoringAllSubviews(),this.fireEvent("axis",a),this.update()):
this.axis=a)},setPaddingX:function(a){this.paddingX!==a&&(this.paddingX=a,this.inited&&(this.fireEvent("paddingX",a),this.update()))},setPaddingY:function(a){this.paddingY!==a&&(this.paddingY=a,this.inited&&(this.fireEvent("paddingY",a),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const d=this.parent;if(!d.isBeingDestroyed){const c=this.subviews;var a=c.length;const b=this.axis;let e,f;if("y"!==b){e=a;for(f=0;e;){const b=c[--e];b.visible&&(f=Math.max(f,b.x+
(0<b.boundsWidth?b.boundsWidth:0)))}d.setWidth(f+this.paddingX)}if("x"!==b){e=a;for(f=0;e;)a=c[--e],a.visible&&(f=Math.max(f,a.y+(0<a.boundsHeight?a.boundsHeight:0)));d.setHeight(f+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(a){d(this,a,this.attachTo)},stopMonitoringSubview:function(a){d(this,a,this.detachFrom)}})})(myt);
myt.ModalPanel=new JS.Class("ModalPanel",myt.Dimmer,{extend:{DEFAULT_PADDING_X:20,DEFAULT_PADDING_Y:15,DEFAULT_MARGIN_TOP:40,DEFAULT_MARGIN_LEFT:40,DEFAULT_MARGIN_BOTTOM:40,DEFAULT_MARGIN_RIGHT:40},initNode:function(a,d){this.defaultPlacement="content";null==d.sizingStrategy&&(d.sizingStrategy="children");const g=myt.ModalPanel;null==d.marginTop&&(d.marginTop=g.DEFAULT_MARGIN_TOP);null==d.marginLeft&&(d.marginLeft=g.DEFAULT_MARGIN_LEFT);null==d.marginBottom&&(d.marginBottom=g.DEFAULT_MARGIN_BOTTOM);
null==d.marginRight&&(d.marginRight=g.DEFAULT_MARGIN_RIGHT);null==d.paddingX&&(d.paddingX=g.DEFAULT_PADDING_X);null==d.paddingY&&(d.paddingY=g.DEFAULT_PADDING_Y);this.callSuper(a,d)},doBeforeAdoption:function(){const a=myt,d=a.View,g={name:"content",ignorePlacement:!0},f=Object.assign({},g,{align:"center",valign:"middle"});this.callSuper();switch(this.sizingStrategy){case "children":new a.SizeToChildren(new d(this,f),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});
break;case "parent":new d(this,Object.assign(g,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[a.SizeToParent]);break;case "basic":new d(this,f);break;default:new d(this,g)}},setSizingStrategy:function(a){this.sizingStrategy=a},setMarginTop:function(a){this.marginTop=a},setMarginLeft:function(a){this.marginLeft=a},setMarginBottom:function(a){this.marginBottom=
a},setMarginRight:function(a){this.marginRight=a},setPaddingX:function(a){this.paddingX=a},setPaddingY:function(a){this.paddingY=a}});
myt.Spinner=new JS.Class("Spinner",myt.View,{initNode:function(a,d){this.lateAttrs=["spinColor"];null==d.visible&&(d.visible=!1);null==d.borderWidth&&(d.borderWidth=5);null==d.borderColor&&(d.borderColor="#ffffff");null==d.borderStyle&&(d.borderStyle="solid");null==d.spinColor&&(d.spinColor="#000000");this.callSuper(a,d);this.deStyle.borderRadius="50%";this._updateSize();this._spin()},setSize:function(a){this.size!==a&&(this.size=a,this.inited&&this._updateSize())},setSpinColor:function(a){this.spinColor!==
a&&(this.deStyle.borderTopColor=this.spinColor=a,this.inited&&this.fireEvent("spinColor",a))},setBorderWidth:function(a){this.borderWidth!==a&&(this.callSuper(a),this.inited&&this._updateSize())},setVisible:function(a){this.visible!==a&&(this.callSuper(a),this.inited&&this._spin())},_spin:function(){this[this.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},_updateSize:function(){const a=this.size,d=this.deStyle;this.setWidth(a);this.setHeight(a);d.width=d.height=a-2*this.borderWidth+"px"}});
(a=>{const d=a.View,g=a.Text,f=a.ModalPanel,c=new JS.Class("DialogButton",a.SimpleButton,{initNode:function(b,a){null==a.height&&(a.height=20);null==a.shrinkToFit&&(a.shrinkToFit=!0);null==a.inset&&(a.inset=10);null==a.outset&&(a.outset=10);null==a.textY&&(a.textY=3);null==a.roundedCorners&&(a.roundedCorners=5);null==a.activeColor&&(a.activeColor="#bbbbbb");null==a.hoverColor&&(a.hoverColor="#dddddd");null==a.readyColor&&(a.readyColor="#cccccc");null==a.textColor&&(a.textColor="#000000");const c=
a.fontSize,e=a.shrinkToFit,d=a.text||"";delete a.fontSize;delete a.shrinkToFit;delete a.text;this.callSuper(b,a);b=this.textView=new g(this,{x:this.inset,y:this.textY,text:d,fontSize:c,whiteSpace:"nowrap",domClass:"myt-Text mytButtonText"});e&&this.constrain("__update",[this,"inset",this,"outset",b,"width"])},setText:function(b){this.inited&&this.textView.setText(b)},setTooltip:function(b){this.getInnerDomElement().title=b},__update:function(b){if(!this.destroyed){b=this.inset;const a=this.textView;
a.setX(b);this.setWidth(b+a.width+this.outset)}}});a.Dialog=new JS.Class("Dialog",f,{extend:{DEFAULT_RADIUS:12,DEFAULT_SHADOW:[0,4,20,"#666666"],DEFAULT_BORDER:[1,"solid","#ffffff"],DEFAULT_BGCOLOR:"#ffffff",DEFAULT_BUTTON_CLASS:c,WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},
PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000000"}},initNode:function(b,c){const e=a.Dialog;null==c.buttonClass&&(c.buttonClass=e.DEFAULT_BUTTON_CLASS);this.callSuper(b,c);b=this.content;b.setRoundedCorners(e.DEFAULT_RADIUS);b.setBgColor(e.DEFAULT_BGCOLOR);b.setBoxShadow(e.DEFAULT_SHADOW);b.setBorder(e.DEFAULT_BORDER);
b.setFocusCage(!0);this.createCloseButton(b,this)},setButtonClass:function(b){this.buttonClass=b},setDisplayMode:function(b){this.displayMode=b},setCallbackFunction:function(b){this.callbackFunction=b},createCloseButton:function(b,c,d,f,g,n){return new this.buttonClass(b,{name:"closeBtn",ignoreLayout:!0,width:16,height:16,y:4,align:"right",alignOffset:4,inset:4,textY:2,shrinkToFit:!1,roundedCorners:8,activeColor:f||"#cc0000",hoverColor:d||"#ff3333",readyColor:g||"#ff0000",textColor:"#ffffff",fontSize:"11px",
text:a.FontAwesome.makeTag(["times"]),tooltip:"Close Dialog."},[{doActivated:function(){c.doCallback(this)}}])},hide:function(b){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(b)},eatMouseEvent:function(b){"message"===this.displayMode&&this.content.closeBtn.focus();return this.callSuper(b)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const b=a.Dialog,c=this.content,d=c.sizeToChildren,g=c.getSubviews();let l=g.length,n;for(;l;)n=
g[--l],"closeBtn"!==n.name&&n.destroy();c.setVisible(!0);this.overlay.setBgColor(a.Dimmer.DEFAULT_COLOR);this.setCallbackFunction();d.setPaddingY(f.DEFAULT_PADDING_Y);d.setPaddingX(f.DEFAULT_PADDING_X);c.setRoundedCorners(b.DEFAULT_RADIUS);c.setBgColor(b.DEFAULT_BGCOLOR);c.setBoxShadow(b.DEFAULT_SHADOW);c.setBorder(b.DEFAULT_BORDER)},doCallback:function(b){const a=this.callbackFunction;a&&a.call(this,b.name)||this.hide()},showBlank:function(b){this.destroyContent();this.content.setVisible(!1);b&&
b.bgColor&&this.overlay.setBgColor(b.bgColor);this.show();this.setDisplayMode("blank")},showMessage:function(b,c,d){const e=a.Dialog,h=this.content,n=h.closeBtn;d=Object.assign({},e.WRAP_TEXT_DEFAULTS,d);this.destroyContent();this.setCallbackFunction(c);b=new g(h,{name:"msg",text:b,whiteSpace:d.whiteSpace,wordWrap:d.wordWrap,fontWeight:d.fontWeight,x:null==d.msgX?f.DEFAULT_PADDING_X:d.msgX,y:null==d.msgY?f.DEFAULT_PADDING_Y:d.msgY,width:d.width});d.titleText&&(this.setupTitle(h,d.titleText,e.DEFAULT_RADIUS),
b.setY(b.y+24));this.show();!1===d.showClose?n.setVisible(!1):(n.setVisible(!0),n.focus());this.setDisplayMode("message")},showSimple:function(b,c,f){f=f||{};const e=this.content,h=e.closeBtn,g=f.maxContainerHeight;this.destroyContent();f.bgColor&&e.setBgColor(f.bgColor);f.roundedCorners&&e.setRoundedCorners(f.roundedCorners);f.boxShadow&&e.setBoxShadow(f.boxShadow);f.border&&e.setBorder(f.border);e.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new d(e,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(b){b>g&&(b=g);this.callSuper(b)}}]);b.call(this,c);new a.SizeToChildren(c,{axis:"both"});this.show();h.setVisible(!0);h.focus();this.setDisplayMode("content");c.initialFocus&&c.initialFocus.focus()},showSpinner:function(b,c){const e=this.content;c=Object.assign({},a.Dialog.NO_WRAP_TEXT_DEFAULTS,c);this.destroyContent();const d=this.spinner=new a.Spinner(e,{align:"center",visible:!0,borderColor:"#cccccc",size:50,y:null==c.msgY?f.DEFAULT_PADDING_Y:c.msgY});b&&new g(e,
{text:b,whiteSpace:c.whiteSpace,wordWrap:c.wordWrap,fontWeight:c.fontWeight,x:null==c.msgX?f.DEFAULT_PADDING_X:c.msgX,y:d.y+d.size+f.DEFAULT_PADDING_Y,width:c.width});this.show();e.closeBtn.setVisible(!1);this.focus();this.setDisplayMode("spinner")},showColorPicker:function(b,c){const e=this.content,g=e.closeBtn,l=a.Dialog.DEFAULT_RADIUS;c=Object.assign({},a.Dialog.PICKER_DEFAULTS,c);this.destroyContent();this.setCallbackFunction(function(a){switch(a){case "closeBtn":case "cancelBtn":b.call(this,
a);break;case "confirmBtn":const c=this._spectrum.get();this._spectrum.addColorToSelectionPalette(c);b.call(this,a,c?c.toHexString():"transparent")}this._spectrum.destroy()});const n=new d(e,{name:"picker",x:f.DEFAULT_PADDING_X,y:f.DEFAULT_PADDING_Y+24,width:337,height:177}),m=new d(n);$(m.getInnerDomElement()).spectrum({color:c.color,palette:["#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777".split(" "),"#888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")],
localStorageKey:"myt.default",dialog:this});this.show();g.setVisible(!0);g.focus();this.setupFooterButtons(n,c);this.setupTitle(e,c.titleText,l);this.setDisplayMode("color_picker")},_spectrumCallback:function(b){this._spectrum=b},showDatePicker:function(b,c){const e=this.content,g=e.closeBtn,l=a.Dialog.DEFAULT_RADIUS;c=Object.assign({},a.Dialog.DATE_PICKER_DEFAULTS,c);this.destroyContent();e.sizeToChildren.setPaddingX(0);this.setCallbackFunction(function(a){switch(a){case "closeBtn":case "cancelBtn":b.call(this,
a);break;case "confirmBtn":b.call(this,a,this._pickedDateTime)}});const n=new d(e,{name:"picker",x:f.DEFAULT_PADDING_X,y:f.DEFAULT_PADDING_Y+24,width:c.dateOnly?200:c.timeOnly?150:260,height:193}),m=new d(n);$(m.getInnerDomElement()).dtpicker({current:new Date(c.initialDate||Date.now()),dateOnly:c.dateOnly||!1,timeOnly:c.timeOnly||!1,dialog:this});this.show();g.setVisible(!0);g.focus();this.setupFooterButtons(n,c);this.setupTitle(e,c.timeOnly?c.timeOnlyTitleText:c.titleText,l);this.setDisplayMode("date_picker")},
_dtpickerCallback:function(b){this._pickedDateTime=b},showConfirm:function(b,c,d){d=Object.assign({},a.Dialog.CONFIRM_DEFAULTS,d);this.showMessage(b,c,d);this.setupFooterButtons(this.content.msg,d);this.setDisplayMode("confirm")},showContentConfirm:function(b,c,f){const e=this.content,h=e.closeBtn,g=a.Dialog.DEFAULT_RADIUS;let m;f=Object.assign({},a.Dialog.CONFIRM_DEFAULTS,f);m=f.maxContainerHeight;this.destroyContent();e.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new d(e,{name:"contentContainer",
x:1,y:25,overflow:"auto"},[{setHeight:function(b){this.callSuper(b>m?m:b)}}]);b.call(this,c);new a.SizeToChildren(c,{axis:"both"});this.show();h.setVisible(!0);h.focus();this.setupTitle(e,f.titleText,g);c.setY(this.header.height+1);this.setupFooterButtons(c,f);this.setDisplayMode("content");c.initialFocus&&c.initialFocus.focus()},setupTitle:function(b,a,c){(this.header=new d(b,{ignoreLayout:!0,width:b.width,height:24,bgColor:"#eeeeee",roundedTopLeftCorner:c,roundedTopRightCorner:c})).sendToBack();
new g(b,{name:"title",x:c,y:4,text:a,fontWeight:"bold"})},setupFooterButtons:function(b,c){const e=this,g=e.content;var l=f.DEFAULT_PADDING_Y;const n=a.Dialog.DEFAULT_RADIUS,m=e.buttonClass;let p,r;const q=new d(g,{y:b.y+b.height+l,align:"center"});p=c.cancelAttrs||{};null==p.name&&(p.name="cancelBtn");null==p.text&&(p.text=c.cancelTxt);null!=c.activeColor&&(p.activeColor=c.activeColor);null!=c.hoverColor&&(p.hoverColor=c.hoverColor);null!=c.readyColor&&(p.readyColor=c.readyColor);null!=c.textColor&&
(p.textColor=c.textColor);b=new m(q,p,[{doActivated:function(){e.doCallback(this)}}]);p=c.confirmAttrs||{};null==p.name&&(p.name="confirmBtn");null==p.text&&(p.text=c.confirmTxt);null!=c.activeColorConfirm&&(p.activeColor=c.activeColorConfirm);null!=c.hoverColorConfirm&&(p.hoverColor=c.hoverColorConfirm);null!=c.readyColorConfirm&&(p.readyColor=c.readyColorConfirm);null!=c.textColorConfirm&&(p.textColor=c.textColorConfirm);new m(q,p,[{doActivated:function(){e.doCallback(this)}}]);if(r=c.buttons){const b=
r.length;for(let a=0;b>a;a++)p=r[a],null==p.name&&(p.name="btn_"+a),new m(q,p,[{doActivated:function(){e.doCallback(this)}}])}new a.SizeToChildren(q,{axis:"y"});new a.SpacedLayout(q,{spacing:4,collapseParent:!0});g.sizeToChildren.setPaddingY(l/2);l=new d(g,{ignoreLayout:!0,y:q.y-l/2,width:g.width,bgColor:"#eeeeee",roundedBottomLeftCorner:n,roundedBottomRightCorner:n});l.setHeight(g.height-l.y);l.sendToBack();!1===c.showClose&&b.focus()}})})(myt);
(a=>{const d=JS.Class,g={},f=(b,c)=>{if(b){const e=b.id;b.id?c(e):a.dumpStack("No ID")}else a.dumpStack("No validator")},c=b=>{f(b,a=>{g[a]=b})},b=a.Validator=new d("Validator",{initialize:function(b){this.id=b},isValid:(b,a,c)=>!0,isFormValid:function(b,a,c){a||(a={});a.form=b;return this.isValid(b.getValue(),a,c)}}),e=a.RequiredFieldValidator=new d("RequiredFieldValidator",b,{isValid:function(b,a,c){return null==b||""===b||"string"===typeof b&&""===b.trim()?(c&&c.push("This value is required."),
!1):!0}}),h=a.EqualsIgnoreCaseValidator=new d("EqualsIgnoreCaseValidator",b,{isValid:function(b,a,c){a=a.form.getRollbackValue();return b&&a&&b.toLowerCase()===a.toLowerCase()?(c&&c.push("Value must differ by more than just case."),!1):!0}}),k=a.URLValidator=new d("URLValidator",b,{initialize:function(b,a){this.callSuper(b);this.originalRawQuery=a},isValid:function(b,c,e){return(new a.URI(b)).toString(this.originalRawQuery)!==b?(e&&e.push("Invalid URL."),!1):!0}}),l=a.JSONValidator=new d("JSONValidator",
b,{isValid:function(b,a,c){try{return JSON.parse(b),!0}catch(r){return c&&c.push(r),!1}}});a.EqualFieldsValidator=new d("EqualFieldsValidator",b,{initialize:function(b,a,c){this.callSuper(b);this.fieldA=a;this.fieldB=c},isValid:function(b,a,c){if(b&&this.fieldA.getValue()===this.fieldB.getValue())return!0;c&&c.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});a.LengthValidator=new d("LengthValidator",b,{initialize:function(b,a,c){this.callSuper(b);this.min=
a;this.max=c},isValid:function(b,a,c){b=b?b.length:0;a=this.min;const e=this.max;return void 0!==a&&a>b?(c&&c.push("Value must not be less than "+a+"."),!1):void 0!==e&&e<b?(c&&c.push("Value must not be greater than "+e+"."),!1):!0}});a.NumericRangeValidator=new d("NumericRangeValidator",b,{initialize:function(b,a,c){this.callSuper(b);this.min=a;this.max=c},isValid:function(b,a,c){if(""===b)return!0;b=Number(b);a=this.min;const e=this.max;return isNaN(b)?(c&&c.push("Value is not a number."),!1):void 0!==
a&&a>b?(c&&c.push("Value must not be less than "+a+"."),!1):void 0!==e&&e<b?(c&&c.push("Value must not be greater than "+e+"."),!1):!0}});a.CompoundValidator=new d("CompoundValidator",b,{initialize:function(b,...a){this.callSuper(b);b=a.length;let c;for(;b;)c=a[--b],"string"===typeof c&&((a[b]=c=g[c])||a.splice(b,1));this.__v=a},addValidator:function(b){"string"===typeof b&&(b=g[b]);b&&this.__v.push(b)},isValid:function(b,a,c){const e=this.__v,d=e.length;let f=!0,h=0;for(;d>h;)f=e[h++].isValid(b,
a,c)&&f;return f}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){c(new e("required"));c(new h("equalsIgnoreCase"));c(new k("url"));c(new l("json"));a.global.register("validators",this)},getValidator:b=>g[b],register:c,unregister:b=>{f(b,b=>{g[b]&&delete g[b]})}})})(myt);
myt.FormInputSelect=new JS.Class("FormInputSelect",myt.InputSelect,{include:[myt.FormElement],setValue:function(a){if(!this.__abortSetValue)return a=this.callSuper(a),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(a),this.__abortSetValue=!1,a}});
(a=>{const d=JS.Module;var g=a.ValueComponent=new d("ValueComponent",{initNode:function(a,b){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,b)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,b){const c=this.valueFilter;this.setValueFilter(c?
"last"===b?b=>a(c(b)):b=>c(a(b)):a)}});const f=a.RangeComponent=new d("RangeComponent",{include:[g],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var b=this.value;
const c=b?b.lower:void 0;b=b?b.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==c||a.upper!==b){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const b=a.lower;a.lower=a.upper;a.upper=b}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==c&&this.fireEvent("lowerValue",a.lower),a.upper!==b&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});g=a.BoundedValueComponent=new d("BoundedValueComponent",{include:[g],initNode:function(a,b){const c=this;c.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==b.snapToInt&&(b.snapToInt=!0);b.valueFilter||(b.valueFilter=b=>{var a=c.maxValue;if(null!=a&&b>a)return a;a=c.minValue;return null!=a&&b<a?a:b});c.callSuper(a,b)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=Math.round(a));if(this.minValue!==a){const b=this.maxValue;null!=b&&a>b&&(a=b);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=Math.round(a));if(this.maxValue!==a){const b=this.minValue;null!=b&&a<b&&(a=b);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",
a),this.setValue(this.value)))}},setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?Math.round(a):a)}});a.BoundedRangeComponent=new d("BoundedRangeComponent",{include:[g,f],initNode:function(a,b){const c=this;b.valueFilter||(b.valueFilter=b=>{if(b){const a=c.maxValue,e=c.minValue;null!=a&&b.upper>a&&(b.upper=a);null!=e&&b.lower<e&&(b.lower=e)}return b});c.callSuper(a,b)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=Math.round(a.lower)),
null==a.upper||isNaN(a.upper)||(a.upper=Math.round(a.upper)));this.callSuper(a)}})})(myt);
(a=>{const d=d=>{const c=a.BAG.getGroup("selected",d.groupId);if(c){const b=c.getNodes();d=d.value;let a=b.length,f;for(;a;)if(f=b[--a],f.optionValue===d){c.setTrue(f);break}}},g=d=>{if(d.groupId){const c=a.BAG.getGroup("selected",d.groupId);c&&d.syncTo(c,"__syncValue","trueNode")}};a.FormRadioGroup=new JS.Class("FormRadioGroup",a.Node,{include:[a.ValueComponent,a.FormElement],initNode:function(f,c){null==c.groupId&&(c.groupId=a.generateGuid());this.callSuper(f,c);void 0!==this.value&&d(this);g(this)},
setValue:function(a){a=this.callSuper(a);this.inited&&d(this);return a},setGroupId:function(d){if(this.groupId!==d){if(this.groupId){const c=a.BAG.getGroup("selected",this.groupId);c&&this.detachFrom(c,"__syncValue","trueNode")}this.groupId=d;this.inited&&g(this)}},__syncValue:function(a){this.setValue(a.value?a.value.optionValue:null)}})})(myt);
(a=>{const d=a=>{const d=a.label||"";a.setText('<i class="'+("solid"===(a.checkboxStyle||"outline")?"fas":"far")+" fa-"+(a.isChecked()?"check-":"")+'square"></i>'+(0<d.length?" ":"")+d)};a.Checkbox=new JS.Class("Checkbox",a.Text,{include:[a.SimpleButtonStyle,a.ValueComponent],initNode:function(g,f){null==f.value&&(f.value=!1);null==f.focusEmbellishment&&(f.focusEmbellishment=!1);null==f.checkboxStyle&&(f.checkboxStyle="outline");null==f.activeColor&&(f.activeColor="inherits");null==f.hoverColor&&
(f.hoverColor="inherits");null==f.readyColor&&(f.readyColor="inherits");this.callSuper(g,f);a.FontAwesome.registerForNotification(this);d(this)},setValue:function(a){this.value!==a&&(this.callSuper(a),this.inited&&d(this))},setLabel:function(a){this.label!==a&&(this.set("label",a,!0),this.inited&&d(this))},setCheckboxStyle:function(a){this.checkboxStyle!==a&&(this.set("checkboxStyle",a,!0),this.inited&&d(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},
drawDisabledState:function(){this.setOpacity(a.Button.DEFAULT_DISABLED_OPACITY);this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
myt.FormCheckbox=new JS.Class("FormCheckbox",myt.Checkbox,{include:[myt.FormElement],initNode:function(a,d){this.rollbackValue=this.defaultValue=!1;this.callSuper(a,d)}});
myt.FormInputTextMixin=new JS.Module("FormInputTextMixin",{include:[myt.FormElement,myt.UpdateableUI],initNode:function(a,d){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";null==d.bgColor&&(d.bgColor="#ffffff");null==d.borderWidth&&(d.borderWidth=1);null==d.borderStyle&&(d.borderStyle="solid");null==d.focusEmbellishment&&(d.focusEmbellishment=!0);this.callSuper(a,d);this.addValueProcessor(myt.global.valueProcessors.getValueProcessor("undefToEmpty"));
this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&
this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const d=this.validateWhen;"key"!==d&&"blurWithKeyFix"!==d||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":myt.global.focus.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");
break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__handleKeyDown:function(a){13===myt.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("accept")},__handleKeyUp:function(a){27===myt.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?
this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});myt.FormInputText=new JS.Class("FormInputText",myt.InputText,{include:[myt.FormInputTextMixin]});
myt.FormComboBox=new JS.Class("FormComboBox",myt.ComboBox,{include:[myt.FormElement,myt.UpdateableUI],initNode:function(a,d){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";this.callSuper(a,d);this.addValueProcessor(myt.global.valueProcessors.getValueProcessor("undefToEmpty"));this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=
a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const d=this.validateWhen;"key"!==d&&"blurWithKeyFix"!==d||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":myt.global.focus.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(a){this._isShown=!0},notifyPanelHidden:function(a){this._isShown=!1},doActivationKeyDown:function(a,d){27!==a||this._isShown?this.callSuper(a,d):this.invokeAccelerator("reject")},
doActivationKeyUp:function(a){13!==a||this._isShown?this.callSuper(a):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});myt.FormInputTextArea=new JS.Class("FormInputTextArea",myt.InputTextArea,{include:[myt.FormInputTextMixin],__handleKeyDown:function(a){}});
myt.FormEditableText=new JS.Class("FormEditableText",myt.EditableText,{include:[myt.FormInputTextMixin],__handleKeyDown:function(a){"nowrap"===this.whitespace&&this.callSuper(a)}});
(a=>{let d,g,f;const c=[],b=[],e=b=>{const a=f;a!==b&&(a&&(a.notifyDragLeave(g),g.destroyed||g.notifyDragLeave(a),d.fireEvent("dragLeave",a)),f=b)&&(b.notifyDragEnter(g),g.destroyed||g.notifyDragEnter(b),d.fireEvent("dragEnter",a))},h=a=>{let e=g,f,h,l,q;if(e!==a){(g=a)?(e=a,f="notifyDragStart",h="startDrag"):(f="notifyDragStop",h="stopDrag");l=k(e,b);for(q=l.length;q;)l[--q][f](e);l=k(e,c);for(q=l.length;q;)l[--q][f](e);d.fireEvent(h,a)}},k=(b,a)=>{if(b.destroyed)return[];if(b.acceptAnyDragGroup())return a;
{const c=[];b=b.getDragGroups();let e=a.length;for(;e;){const d=a[--e];if(d.acceptAnyDragGroup())c.push(d);else{const a=d.getDragGroups();for(const e in b)if(a[e]){c.push(d);break}}}return c}};new JS.Singleton("GlobalDragManager",{include:[a.Observable],initialize:function(){a.global.register("dragManager",d=this)},getDragView:()=>g,registerAutoScroller:b=>{c.push(b)},unregisterAutoScroller:b=>{let a=c.length;for(;a;)if(c[--a]===b){c.splice(a,1);break}},registerDropTarget:a=>{b.push(a)},unregisterDropTarget:a=>
{let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);break}},startDrag:b=>{h(b)},stopDrag:(b,a,c)=>{a.notifyDropped(f,c);f&&!c&&f.notifyDrop(a);e();h();f&&!c&&d.fireEvent("drop",[a,f])},updateDrag:(a,c)=>{const d=k(c,b);let f=d.length,h;if(0<f){var g=a.value;a=g.pageX;for(g=g.pageY;f;){let b=d[--f];b.willAcceptDrop(c)&&c.willPermitDrop(b)&&b.isPointVisible(a,g)&&(!h||b.isInFrontOf(h))&&(h=b)}}e(h)}})})(myt);
(a=>{const d=a.global,g=d.mouse,f=d.keys;a.Draggable=new JS.Module("Draggable",{initNode:function(a,b){let c=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(c=b.isDraggable,delete b.isDraggable);this.callSuper(a,b);this.setIsDraggable(c)},setIsDraggable:function(a){if(this.isDraggable!==a){this.isDraggable=a;let b;a?b=this.attachToDom:this.inited&&(b=this.detachFromDom);if(b){a=this.getDragViews();
let c=a.length;for(;c;){const e=a[--c];b.call(this,e,"__doMouseDown","mousedown");b.call(this,e,"__doContextMenu","contextmenu")}}}},setIsDragging:function(a){this.set("isDragging",a,!0)},setDragOffsetX:function(a,b){this.dragOffsetX!==a&&(this.dragOffsetX=a,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDragOffsetY:function(a,b){this.dragOffsetY!==a&&(this.dragOffsetY=a,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(a){this.distanceBeforeDrag=
a},setDraggableAllowBubble:function(a){this.draggableAllowBubble=a},setCenterOnMouse:function(a){this.centerOnMouse=a},setAllowAbort:function(a){this.allowAbort=a},getDragViews:function(){return[this]},__doContextMenu:a=>{},__doMouseDown:function(c){const b=a.MouseObservable.getMouseFromEvent(c),e=this.getOuterDomElement();this.dragInitX=b.x-e.offsetLeft;this.dragInitY=b.y-e.offsetTop;this.attachToDom(g,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(g,"__doDragCheck","mousemove",
!0):this.startDrag(c);c.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(a){this.isDragging?this.stopDrag(a,!1):(this.detachFromDom(g,"__doMouseUp","mouseup",!0),this.detachFromDom(g,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(a){27===a.value&&this.stopDrag(a,!0)},__doDragCheck:function(c){const b=a.MouseObservable.getMouseFromEvent(c);a.Geometry.measureDistance(b.x,b.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&
(this.detachFromDom(a.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(c))},startDrag:function(a){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(f,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(g,"updateDrag","mousemove",!0);this.updateDrag(a)},updateDrag:function(c){this.__lastMousePosition=a.MouseObservable.getMouseFromEvent(c);this.reRequestDragPosition()},__updateDragInitX:function(a){this.dragInitX=
this.width/2*(this.scaleX||1)},__updateDragInitY:function(a){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(a,b){this.detachFromDom(g,"__doMouseUp","mouseup",!0);this.detachFromDom(g,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(f,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(a,b){this.disabled||(this.setX(a),
this.setY(b))},reRequestDragPosition:function(){const a=this.__lastMousePosition;this.requestDragPosition(a.x-this.dragInitX+this.dragOffsetX,a.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(a=>{const d=JS.Class,g=a.View;var f=a.SliderThumbMixin=new JS.Module("SliderThumbMixin",{include:[a.Draggable],initNode:function(b,a){null==a.width&&(a.width=b.thumbWidth);null==a.height&&(a.height=b.thumbHeight);null==a.repeatKeyDown&&(a.repeatKeyDown=!0);null==a.activationKeys&&(a.activationKeys=[37,38,39,40]);this.callSuper(b,a);"x"===b.axis?this.setY(b.thumbOffset):this.setX(b.thumbOffset);this.syncTo(b,"setDisabled","disabled");b._syncThumbToValue(this,b.getValue())},setDisabled:function(b){null!=
b&&"object"===typeof b&&(b=b.value);this.callSuper(b)},setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b._syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b._syncValueToThumb(this))},requestDragPosition:function(b,a){if(!this.disabled){var c=this.parent;const e=c.getMinPixelValueForThumb(this),d=c.getMaxPixelValueForThumb(this);"x"===c.axis?(c=this.width/
2,a=this.setX):(c=this.height/2,b=a,a=this.setY);a.call(this,Math.min(Math.max(b,e-c),d-c))}},doActivationKeyDown:function(b,a){const c=this.parent;switch(b){case 37:c.nudgeValueLeft(this);break;case 38:c.nudgeValueUp(this);break;case 39:c.nudgeValueRight(this);break;case 40:c.nudgeValueDown(this)}this.callSuper(b,a)}});const c=a.SimpleSliderThumb=new d("SimpleSliderThumb",a.SimpleButton,{include:[f],initNode:function(b,a){null==a.activeColor&&(a.activeColor="#bbbbbb");null==a.readyColor&&(a.readyColor=
"#cccccc");null==a.hoverColor&&(a.hoverColor="#dddddd");null==a.boxShadow&&(a.boxShadow=[0,0,4,"#666666"]);this.callSuper(b,a);null==a.roundedCorners&&this.setRoundedCorners(Math.min(this.height,this.width)/2)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,9,"#666666"])},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,4,"#666666"])}});f=a.BaseSlider=new d("BaseSlider",g,{include:[a.Disableable],initNode:function(b,
a){null==a.axis&&(a.axis="x");"x"===a.axis?(null==a.width&&(a.width=100),null==a.height&&(a.height=18)):(null==a.width&&(a.width=18),null==a.height&&(a.height=100));null==a.bgColor&&(a.bgColor="#999999");null==a.roundedCorners&&(a.roundedCorners=9);null==a.trackInset&&(a.trackInset=9);null==a.trackOutset&&(a.trackOutset=9);null==a.thumbWidth&&(a.thumbWidth=16);null==a.thumbHeight&&(a.thumbHeight=16);null==a.thumbOffset&&(a.thumbOffset=1);null==a.nudgeAmount&&(a.nudgeAmount=1);null==a.thumbClass&&
(a.thumbClass=c);this.callSuper(b,a)},setAxis:function(b){this.axis=b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setThumbClass:function(b){this.thumbClass=b},setNudgeAmount:function(b){this.nudgeAmount=b},convertValueToPixels:function(b){const a=this.minValue,c=this.trackInset;return c+(("x"===this.axis?this.width:
this.height)-c-this.trackOutset)/(this.maxValue-a)*(b-a)},convertPixelsToValue:function(b){const a=this.minValue,c=this.trackInset;return(this.maxValue-a)/(("x"===this.axis?this.width:this.height)-c-this.trackOutset)*(b-c)+a},nudgeValueLeft:function(b){this._nudge(b,!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,!0)},_nudge:(b,a)=>{},_syncThumbToValue:function(b,a){a=this.convertValueToPixels(a);"x"===this.axis?
b.setX(a-b.width/2):b.setY(a-b.height/2)}});const b=a.SimpleSliderRangeFill=new d("SimpleSliderRangeFill",g,{initNode:function(b,a){null==a.bgColor&&(a.bgColor="#666666");this.callSuper(b,a);"x"===b.axis?(this.setY(b.thumbOffset),this.setHeight(b.thumbHeight),this.setRoundedCorners(b.thumbHeight/2)):(this.setX(b.thumbOffset),this.setWidth(b.thumbWidth),this.setRoundedCorners(b.thumbWidth/2));b._syncRangeFillToValue()}});a.RangeSlider=new d("RangeSlider",f,{include:[a.BoundedRangeComponent],initNode:function(a,
c){null==c.rangeFillClass&&(c.rangeFillClass=b);this.callSuper(a,c);new this.rangeFillClass(this,{name:"rangeFill"});new this.thumbClass(this,{name:"thumbLower"});new this.thumbClass(this,{name:"thumbUpper"})},setRangeFillClass:function(b){this.rangeFillClass=b},setValue:function(b){this.callSuper(b);this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b,a){const c=this.width;
this.callSuper(b,a);this.inited&&"x"===this.axis&&this.width!==c&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},setHeight:function(b,a){const c=this.height;this.callSuper(b,a);this.inited&&"y"===this.axis&&this.height!==c&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var a=this.getValue();const c=this.convertValueToPixels(a.lower);
a=this.convertValueToPixels(a.upper)-c;"x"===this.axis?(b.setX(c),b.setWidth(a)):(b.setY(c),b.setHeight(a))},_syncThumbToValue:function(b,a){this.callSuper(b,"thumbLower"===b.name?a.lower:a.upper)},_syncValueToThumb:function(b){if(this.inited&&!this.__lockSync){this.__lockSync=!0;const a=this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2);let c=this.getValueCopy();"thumbLower"===b.name?c.lower=a:c.upper=a;this.setValue(c);c=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,
c);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,c);this.__lockSync=!1}},_nudge:function(b,a){const c=this.getValueCopy();a=this.nudgeAmount*(a?1:-1);"thumbLower"===b.name?(c.lower+=a,c.lower>c.upper&&(c.lower=c.upper)):(c.upper+=a,c.lower>c.upper&&(c.upper=c.lower));this.setValue(c)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===b.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===
b.name?this.getValue().upper:this.maxValue)}});a.Slider=new d("Slider",f,{include:[a.BoundedValueComponent],initNode:function(b,a){this.callSuper(b,a);new this.thumbClass(this,{name:"thumb"})},setValue:function(b){this.callSuper(b);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b,a){const c=this.width;this.callSuper(b,a);this.inited&&"x"===this.axis&&this.width!==c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b,a){const c=
this.height;this.callSuper(b,a);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this.setValue(this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2)),this._syncThumbToValue(b,this.getValue()),this.__lockSync=!1)},_nudge:function(b,a){this.setValue(this.getValue()+this.nudgeAmount*(a?1:-1))},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},
getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}})})(myt);
(a=>{const d=JS.Class,g=a=>{const b="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,b,a.parent,b])},f=new d("BaseDivider",a.SimpleButton,{include:[a.BoundedValueComponent,a.Draggable],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.readyColor&&(b.readyColor="#cccccc");null==b.axis&&(b.axis="x");null==b.minValue&&(b.minValue=0);null==b.value&&(b.value=b.minValue);null==b.expansionState&&(b.expansionState=
2);null==b.focusEmbellishment&&(b.focusEmbellishment=!1);null==b.repeatKeyDown&&(b.repeatKeyDown=!0);null==b.activationKeys&&(b.activationKeys=[37,38,39,40,13,32]);"y"===b.axis?(null==b.height&&(b.height=6),null==b.cursor&&(b.cursor="row-resize")):(null==b.width&&(b.width=6),null==b.cursor&&(b.cursor="col-resize"));this.__nudgeAcc=1;this.callSuper(a,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&g(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},
setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):g(this)))},setAxis:function(a){this.inited?console.warn("Axis may not be updated after instantiation."):this.axis=a},setValue:function(a,b){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);b&&this.setRestoreValue(a)},
__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,b){this.callSuper(a,b);switch(a){case 37:case 38:a=-1;break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=b?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const a=this.restoreValue,b=this.maxValue,e=this.minValue;let d;switch(this.expansionState){case 0:null!=
a&&(this.setExpansionState(1),a===e?a!==b&&this.doPrimaryAction():d=a);break;case 1:null!=b&&(this.setExpansionState(3),this.value===b?this.doPrimaryAction():d=b);break;case 2:null!=e&&(this.setExpansionState(0),this.value===e?this.doPrimaryAction():d=e);break;case 3:null!=a&&(this.setExpansionState(2),a===b?this.doPrimaryAction():d=a)}null!=d&&(this.stopActiveAnimators("value"),this.animateOnce("value",d,null,250))},requestDragPosition:function(a,b){this.disabled||(this.setValue("y"===this.axis?
b:a,!0),this.setExpansionState(2))}});a.HorizontalDivider=new d("HorizontalDivider",f,{initNode:function(a,b){b.axis="x";this.callSuper(a,b)}});a.VerticalDivider=new d("VerticalDivider",f,{initNode:function(a,b){b.axis="y";this.callSuper(a,b)}})})(myt);
(a=>{const d=a=>{a=a.columnHeaders;let b=a.length;for(;b;){const c=a[--b];if(c.visible)return c}return null},g=a=>{const b=a.columnHeaders;var c=a.sort;const d=c?c[0]:"";c=c?c[1]:"";let f=b.length;for(;f;){const a=b[--f];a.columnId===d?a.sortable&&a.setSortState(c):a.setSortState("none")}a.locked||a.doSort()},f=(a,b,e,d)=>{if(0!==b){const g=0<b,h=[];for(var c=a.length,f;c;)f=a[--c],f.resizable&&(e?0<f.flex:0===f.flex)&&h.push({hdr:f,limit:(g?f.maxValue:f.minValue)-f.value,amt:0});a=h.length;if(0<
a){let k=c=0;for(;0!==b;){const d=h[c];f=d.hdr;d.full?++k:(g?(f=Math.min(e?f.flex:1,b),d.amt+f>d.limit&&(f=d.limit-d.amt,d.full=!0)):(f=Math.max(e?-f.flex:-1,b),d.amt+f<d.limit&&(f=d.limit-d.amt,d.full=!0)),d.amt+=f,b-=f);if(k===a)break;++c;c===a&&(k=c=0)}h.forEach(b=>{b.hdr.setValue(b.hdr.value+b.amt)});d&&d(b)}}};a.GridController=new JS.Module("GridController",{initNode:function(a,b){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(a,
b);this.fitHeadersToWidth();g(this)},setMaxWidth:function(a){this.set("maxWidth",a,!0)},setMinWidth:function(a){this.set("minWidth",a,!0)},setFitToWidth:function(a){this.fitToWidth=a},setSort:function(c){a.areArraysEqual(c,this.sort)||(this.sort=c,this.inited&&(this.fireEvent("sort",c),g(this)))},setLastColumn:function(a){const b=this.lastColumn;b!==a&&(b&&b.setLast(!1),(this.lastColumn=a)&&a.setLast(!0))},setLocked:function(a){this.locked=a;this.inited&&!a&&(this.__tempLock=!0,this.fitHeadersToWidth(),
this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(b=>{this.notifyColumnHeaderXChange(b);this.notifyColumnHeaderWidthChange(b);this.notifyColumnHeaderVisibilityChange(b)}),this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.gridWidth!==a&&(this.gridWidth=a,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevColumnHeader:function(a){const b=this.columnHeaders;a=
this.getColumnHeaderIndex(a);if(0<a)for(;a;){const c=b[--a];if(c.visible)return c}return null},getNextColumnHeader:function(a){const b=this.columnHeaders,c=b.length;a=this.getColumnHeaderIndex(a)+1;if(0<a&&a<c)for(;c>a;a++){const c=b[a];if(c.visible)return c}return null},hasColumnHeader:function(a){return-1!==this.getColumnHeaderIndex(a)},getColumnHeaderIndex:function(a){return this.columnHeaders.indexOf(a)},getColumnHeaderById:function(a){const b=this.columnHeaders;let c=b.length;for(;c;){const e=
b[--c];if(e.columnId===a)return e}return null},getVisibleColumnHeaders:function(){return this.columnHeaders.filter(a=>a.visible)},notifyAddColumnHeader:function(a){this.hasColumnHeader(a)||(this.columnHeaders.push(a),a.visible&&this.setLastColumn(a))},notifyRemoveColumnHeader:function(a){const b=this.getColumnHeaderIndex(a);0<=b&&(this.columnHeaders.splice(b,1),a.visible&&a.last&&this.setLastColumn(this.getPrevColumnHeader(a)))},notifyColumnHeaderXChange:function(a){this.isLocked()||this.rows.forEach(b=>
{b.notifyColumnHeaderXChange(a)})},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.rows.forEach(b=>{b.notifyColumnHeaderWidthChange(a)})},notifyColumnHeaderVisibilityChange:function(a){if(!this.isLocked()){this.updateRowsForVisibilityChange(a);this.setLastColumn(d(this));const b=a.visible?1:-1;this.setMaxWidth(this.maxWidth+a.maxValue*b);this.setMinWidth(this.minWidth+a.minValue*b);this.fitHeadersToWidth()}},updateRowsForVisibilityChange:function(a){this.rows.forEach(b=>{b.notifyColumnHeaderVisibilityChange(a)})},
hasRow:function(a){return-1!==this.getRowIndex(a)},getRowIndex:function(a){return this.rows.indexOf(a)},getRowById:function(a,b=b=>b.model.id===a){return this.rows.find(b)},getPrevRow:function(a){a=this.getRowIndex(a)-1;return this.rows[0>a?this.rows.length-1:a]},getNextRow:function(a){a=this.getRowIndex(a)+1;return this.rows[a<this.rows.length?a:0]},notifyAddRow:function(a,b){if(!this.hasRow(a)&&(this.rows.push(a),!this.locked)){const c=this.width;this.columnHeaders.forEach(b=>{a.setWidth(c);a.notifyColumnHeaderXChange(b);
a.notifyColumnHeaderWidthChange(b);a.notifyColumnHeaderVisibilityChange(b)});b||this.doSort()}},notifyRemoveRow:function(a){a=this.getRowIndex(a);0<=a&&this.rows.splice(a,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const a=this.getVisibleColumnHeaders();let b=0;a.forEach(a=>{b=Math.max(b,a.x+a.width)});f(a,this.gridWidth-b,!0,b=>{f(a,b,!1,null)})}}})})(myt);
(a=>{const d=b=>(b=b.gridController?b.gridController.getPrevColumnHeader(b):null)?b.maxValue-b.value+d(b):0,g=b=>(b=b.gridController?b.gridController.getNextColumnHeader(b):null)?b.maxValue-b.value+g(b):0,f=b=>(b=b.gridController?b.gridController.getPrevColumnHeader(b):null)?b.minValue-b.value+f(b):0,c=b=>(b=b.gridController?b.gridController.getNextColumnHeader(b):null)?b.minValue-b.value+c(b):0,b=(a,c)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var e=0;if(a){e=a.value+c;a.resizable&&
a.setValue(e);const d=e-a.value;e=c-d;0>d&&(e+=b(a,d))}return e},e=(b,a)=>{b=b.gridController?b.gridController.getPrevColumnHeader(b):null;var c=0;if(b){c=b.value+a;b.resizable&&b.setValue(c);const d=c-b.value;c=a-d;0<d&&(c+=e(b,d))}return c},h=(b,a)=>{if(b=b.gridController?b.gridController.getNextColumnHeader(b):null)a=b.value+a,b.resizable&&b.setValue(a),a-=b.value,0>a&&h(b,a)},k=(b,a)=>{if(b=b.gridController?b.gridController.getNextColumnHeader(b):null)a=b.value+a,b.resizable&&b.setValue(a),a-=
b.value,0<a&&k(b,a)};a.GridColumnHeader=new JS.Module("GridColumnHeader",{include:[a.BoundedValueComponent],initNode:function(l,n){const m=this;let p;null==n.minValue&&(n.minValue=16);null==n.maxValue&&(n.maxValue=9999);null==n.resizable&&(n.resizable=!0);null==n.flex&&(n.flex=0);null==n.cellXAdj&&(n.cellXAdj=0);null==n.cellWidthAdj&&(n.cellWidthAdj=0);null==n.sortable&&(n.sortable=!0);null==n.sortState&&(n.sortState="none");null==n.placement&&(n.placement="*");m.callSuper(l,n);p=m.gridController;
new a.View(m,{name:"resizer",cursor:"col-resize",width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[a.SizeToParent,a.Draggable,{requestDragPosition:function(a,l){a-=this.x;if(p.fitToWidth&&(0<a?(l=m.maxValue-m.value,a=Math.min(a,Math.min(-c(m),l+d(m)))):0>a&&(l=m.minValue-m.value,a=Math.max(a,Math.max(-g(m),l+f(m)))),0===a))return;l=m.value+a;m.resizable&&m.setValue(l);l-=m.value;a=l-a;let n=0;0>l?n=b(m,l):0<l&&(n=e(m,l));this.dragInitX+=n;a-=n;p.fitToWidth&&
(0>a?h(m,a):0<a&&k(m,a))}}]);p&&(p.notifyAddColumnHeader(m),p.notifyColumnHeaderXChange(m),p.notifyColumnHeaderVisibilityChange(m));m.setWidth(m.value);m.resizer.setVisible(!(m.last&&m.gridController.fitToWidth))},destroy:function(b){this.setGridController();this.callSuper(b)},setSortable:function(b){this.set("sortable",b,!0)},setSortState:function(b){this.set("sortState",b,!0)},setResizable:function(b){this.set("resizable",b,!0)},setCellWidthAdj:function(b){this.cellWidthAdj=b},setCellXAdj:function(b){this.cellXAdj=
b},setFlex:function(b){this.flex=b},setColumnId:function(b){this.columnId=b},setLast:function(b){this.last=b;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(b){const a=this.gridController;a!==b&&(a&&a.notifyRemoveColumnHeader(this),this.gridController=b,this.inited&&b&&(b.notifyAddColumnHeader(this),b.notifyColumnHeaderXChange(this),b.notifyColumnHeaderWidthChange(this),b.notifyColumnHeaderVisibilityChange(this)))},setValue:function(b){this.callSuper(b);
this.inited&&this.setWidth(this.value)},setMinValue:function(b){const a=this.minValue||0,c=this.gridController;this.callSuper(b);this.inited&&c&&a!==this.minValue&&c.setMinWidth(c.minWidth+this.minValue-a)},setMaxValue:function(b){const a=this.maxValue||0,c=this.gridController;null==b&&(b=9999);this.callSuper(b);this.inited&&c&&a!==this.maxValue&&c.setMaxWidth(c.maxWidth+this.maxValue-a)},setWidth:function(b,a){const c=this.width;this.callSuper(b,a);this.inited&&this.gridController&&c!==this.width&&
this.gridController.notifyColumnHeaderWidthChange(this)},setX:function(b){const a=this.x;this.callSuper(b);this.inited&&this.gridController&&a!==this.x&&this.gridController.notifyColumnHeaderXChange(this)},setVisible:function(b){const a=this.visible;this.callSuper(b);this.inited&&this.gridController&&a!==this.visible&&this.gridController.notifyColumnHeaderVisibilityChange(this)}})})(myt);
(a=>{const d=a.View;a.GridRow=new JS.Module("GridRow",{initNode:function(a,d){null==d.placement&&(d.placement="*");this.callSuper(a,d);(a=this.gridController)&&a.notifyAddRow(this)},destroy:function(a){this.setGridController();this.callSuper(a)},setGridController:function(a){const d=this.gridController;d!==a&&(d&&d.notifyRemoveRow(this),this.gridController=a,this.inited&&a&&a.notifyAddRow(this))},notifyColumnHeaderXChange:function(a){const d=this[a.columnId+"View"];d&&d.setX(a.x+a.cellXAdj)},notifyColumnHeaderWidthChange:function(a){const d=
this[a.columnId+"View"];d&&d.setWidth(a.width+a.cellWidthAdj)},notifyColumnHeaderVisibilityChange:function(a){const d=this[a.columnId+"View"];d&&d.setVisible(a.visible)}});a.Grid=new JS.Class("Grid",d,{include:[a.GridController],initNode:function(g,f){const c=a.SpacedLayout;null==f.overflow&&(f.overflow="autox");null==f.bgColor&&(f.bgColor="#cccccc");null==f.rowSpacing&&(f.rowSpacing=1);null==f.columnSpacing&&(f.columnSpacing=1);var b=f.isAutoScrolling;delete f.isAutoScrolling;this.callSuper(g,f);
g=new d(this,{name:"header",overflow:"hidden"});new c(g,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new a.SizeToChildren(g,{name:"yLayout",locked:!0,axis:"y"});f=this.sizeHeightToRows;b=new d(this,{name:"content",overflow:f?"hidden":"autoy"},b?[a.AutoScroller]:[]);new c(b,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:f});this.syncTo(this,"setGridWidth","width");this.syncTo(g,"_updateContentWidth","width");this.constrain("_updateContentHeight",
[f?b:this,"height",g,"height",g,"y"])},setSizeHeightToRows:function(a){this.sizeHeightToRows=a},setRowSpacing:function(a){this.rowSpacing!==a&&(this.rowSpacing=a,this.inited&&this.content.yLayout.setSpacing(a))},setColumnSpacing:function(a){this.columnSpacing!==a&&(this.columnSpacing=a,this.inited&&this.header.xLayout.setSpacing(a))},setLocked:function(a){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(d=>{a?d.incrementLockedCounter():(d.decrementLockedCounter(),
d.update())});this.callSuper(a)},_updateContentWidth:function(a){const d=this.content,c=d.getSubviews(),b=a.value;d.setWidth(b);c.forEach(a=>{a.setWidth(b)})},_updateContentHeight:function(a){var d=this.header;a=this.content;d=d.y+d.height;a.setY(d);this.sizeHeightToRows?this.setHeight(d+a.height):a.setHeight(this.height-d)},determinePlacement:function(d,f){if("*"===d){let c;f.isA(a.GridRow)?c=this.content:f.isA(a.GridColumnHeader)&&(c=this.header);if(c)return f.gridController!==this&&f.setGridController(this),
c}return this.callSuper(d,f)},doSort:function(){var a=this.sort||["",""];if(a=this.getSortFunction(a[0],a[1])){const d=this.content,c=d.yLayout;this.rows.sort(a);d.sortSubviews(a);c.sortSubviews(a);c.update()}},getSortFunction:(a,d)=>{if(a){const c="ascending"===d?1:-1,b=a+"View";return(a,d)=>{a=a[b].text;d=d[b].text;return a>d?c:d>a?-c:0}}}})})(myt);
(a=>{const d=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),g=a=>{let b=a.properties;b?(b="string"===typeof b?b.split(" "):b.concat(),b.unshift(a.size),b.unshift(a.icon)):b=[a.icon,a.size];a.setHtml(f.makeTag(b))};a.loadCSSFonts(["//use.fontawesome.com/releases/v5.0.8/css/all.css"]);const f=a.FontAwesome=new JS.Class("FontAwesome",a.Markup,{extend:{makeTag:function(c){if(Array.isArray(c)){let b=c.length,a,f;if(0<b){c.unshift("fa");++b;0!==c[1].indexOf("fa-")&&(c[1]="fa-"+c[1]);3<=b&&(c[2]=d[c[2]]||"");
if(3<b)for(f=3;b>f;++f)a=c[f],0!==a.indexOf("fa-")&&(c[f]="fa-"+a);return'<i class="'+c.join(" ")+'"></i>'}}a.dumpStack("Error making tag");console.error(c);return""},registerForNotification:c=>{a.registerForFontNotification(c,"Font Awesome 5 Free 400");a.registerForFontNotification(c,"Font Awesome 5 Free 900");a.registerForFontNotification(c,"Font Awesome 5 Brands 400")}},initNode:function(a,b){this.size=0;this.icon="";this.callSuper(a,b);g(this);f.registerForNotification(this)},setIcon:function(a){const b=
this.icon;this.set("icon",a,!0);this.inited&&b!==a&&g(this)},setSize:function(a){const b=this.size;this.set("size",a,!0);this.inited&&b!==a&&g(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",a);this.inited&&g(this)}})})(myt);
(a=>{const d=a=>{let c="";if(a.sortable)switch(a.sortState){case "ascending":c="chevron-up";break;case "descending":c="chevron-down"}a.sortIcon.setIcon(c)},g=a=>{if("left"===a.contentAlign){const c=a.textView;c&&c.setWidth(a.width-a.outset-c.x)}};a.SimpleGridColumnHeader=new JS.Class("SimpleGridColumnHeader",a.SimpleIconTextButton,{include:[a.GridColumnHeader],initNode:function(f,c){const b=this;null==c.activeColor&&(c.activeColor="#999999");null==c.hoverColor&&(c.hoverColor="#bbbbbb");null==c.readyColor&&
(c.readyColor="#aaaaaa");null==c.inset&&(c.inset=2);null==c.outset&&(c.outset=2);null==c.height&&(c.height=18);null==c.contentAlign&&(c.contentAlign="left");null==c.sortIconColor&&(c.sortIconColor="#666666");b.callSuper(f,c);new a.FontAwesome(b,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:b.sortIconColor},[{initNode:function(b,a){this.callSuper(b,a);this.getInnerDomStyle().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();b.setOutset(this.width+2);g(b)}}]);b.textView.enableEllipsis();
b.setDisabled(!b.sortable);g(b);d(b)},setSortIconColor:function(a){this.sortIconColor=a;this.sortIcon&&this.sortIcon.setTextColor(a)},setSortable:function(a){this.callSuper(a);this.inited&&(a&&this.setOutset(14),this.setDisabled(!a),d(this))},setSortState:function(a){this.callSuper(a);this.inited&&d(this)},setWidth:function(a,c){this.callSuper(a,c);this.inited&&g(this)},doActivated:function(){if(!this.disabled){switch(this.sortState){case "ascending":this.setSortState("descending");break;case "descending":this.setSortState("ascending");
break;case "none":this.setSortState("ascending")}this.gridController.setSort([this.columnId,this.sortState])}},drawDisabledState:function(){this.setBgColor(this.readyColor)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()}})})(myt);
(a=>{const d=a.View;a.InfiniteListRow=new JS.Module("InfiniteListRow",{include:[a.Reusable],setInfiniteOwner:function(a){this.infiniteOwner=a},setModel:function(a){this.model=a},setClassKey:function(a){this.classKey=a},notifyRefreshed:()=>{}});a.InfiniteList=new JS.Class("InfiniteList",d,{initNode:function(a,f){let c=f.rowClasses;delete f.rowClasses;if("function"===typeof c){const b={};b["default"]=c;c=b}null==f.modelIDName&&(f.modelIDName="id");null==f.numericSort&&(f.numericSort=!0);null==f.ascendingSort&&
(f.ascendingSort=!0);null==f.overflow&&(f.overflow="autoy");null==f.bgColor&&(f.bgColor="#cccccc");null==f.rowSpacing&&(f.rowSpacing=1);null==f.rowInset&&(f.rowInset=0);null==f.rowOutset&&(f.rowOutset=0);null==f.rowHeight&&(f.rowHeight=30);null==f.overscrollBehavior&&(f.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(a,f);a=this._listView=new d(this);this._scrollAnchorView=new d(a,{width:1,
height:1,bgColor:"transparent"});this._itemPool=this.makePool(c,a);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(d,f)=>new a.TrackActivesMultiPool(d,f),setOverscrollBehavior:function(a){this.overscrollBehavior=a;this.getInnerDomStyle().overscrollBehavior=a},setCollectionModel:function(a){this.collectionModel=a},setModelIDName:function(a){this.modelIDName=a},setRowSpacing:function(a){this.rowSpacing=a;this._rowExtent=this.rowSpacing+this.rowHeight},
setRowHeight:function(a){this.rowHeight=a;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(a,d){if(0<a&&(this.callSuper(a,d),this.inited)){a=this._listView;const c=this.width;a.setWidth(c);a.getSubviews().forEach(b=>{b.setWidth(c)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getInnerDomElement().scrollTop+this.height===this._listView.height},getSortFunction:function(){const a=
this.modelIDName,d=this.ascendingSort?1:-1;return this.numericSort?(c,b)=>(c[a]-b[a])*d:(c,b)=>{c=c[a];b=b[a];return(c>b?1:c<b?-1:0)*d}},getFilterFunction:function(){},scrollModelIntoView:function(a){var d=this.getIndexOfModelInData(a);if(0<=d){var c=this._rowExtent;a=this.getInnerDomElement().scrollTop;const b=a+this.height;d=this.rowInset+d*c;c=d+c;if(d<=a)return this.scrollYTo(d,!0),!0;if(c>=b)return this.scrollYTo(c-this.height,!0),!0}return!1},isModelInData:function(a){return-1!==this.getIndexOfModelInData(a)},
getNextModel:function(a,d=!0,c=!0){const b=this.getListData(),e=b.length;a=this.getIndexOfModelInData(a);if(0<=a)return a+=1,a>=e?d?b[0]:b[e-1]:b[a];if(c&&0<e)return b[e-1]},getPrevModel:function(a,d=!0,c=!0){const b=this.getListData(),e=b.length;a=this.getIndexOfModelInData(a);if(0<=a)return--a,0>a?d?b[e-1]:b[0]:b[a];if(c&&0<e)return b[0]},getIndexOfModelInData:function(a){if(a){const d=this.getListData();let c=d.length;for(;c;)if(this.areModelsEqual(d[--c],a))return c}return-1},areModelsEqual:function(a,
d){const c=this.modelIDName;return a[c]===d[c]},getActiveRowForModel:function(a){if(a){const d=this._itemPool.getActives();let c=d.length;for(;c;){const b=d[--c];if(this.areModelsEqual(b.model,a))return b}}},refreshListData:function(a,d){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(a,d)},resetListUI:function(a,d){const c=this.getListData().length,b=this._listView,e=this._scrollAnchorView;b.setHeight(c*this._rowExtent-(0<c?this.rowSpacing:
0)+this.rowInset+this.rowOutset);e.setY(b.height-e.height);this._startIdx=this._endIdx=-1;this.__forceFullResetOnNextRefresh=d;a||0===this.getInnerDomElement().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(d){const f=a.global.focus;var c=f.focusedView;c&&c.isDescendantOf(d)&&((c=this.getFocusTrap())?c.focus():f.clear());d.setVisible(!1);this._itemPool.putInstance(d)},refreshListUI:function(a){a=this._rowExtent;const d=this.rowInset,c=this.__forceFullResetOnNextRefresh;
var b=this.getInnerDomElement().scrollTop;const e=this.getListData()||[];var h=Math.max(0,Math.floor((b-d)/a));b=Math.min(e.length,Math.ceil((b-d+this.height)/a));this.__forceFullResetOnNextRefresh&&(this.__forceFullResetOnNextRefresh=!1);if(this._startIdx!==h||this._endIdx!==b||c){const f=this.width,g=this.rowHeight,n=this._visibleRowsByIdx;this._startIdx=h;this._endIdx=b;let m;for(m in n)if(m<h||m>=b)this.putRowBackInPool(n[m]),delete n[m];for(m=h;m<b;m++){h=n[m];const b=e[m],k=this.getClassKey(b);
h&&h.classKey===k||(h&&this.putRowBackInPool(h),n[m]=h=this._itemPool.getInstance(k),h.setInfiniteOwner(this),h.setClassKey(k),h.setWidth(f),h.setHeight(g),h.setY(d+m*a),h.setVisible(!0));h.model&&this.areModelsEqual(h.model,b)&&!c||(h.setModel(b),this.updateRow(h));h.notifyRefreshed();h.bringToFront()}}},getClassKey:a=>"default",updateRow:a=>{}})})(myt);
(a=>{const d=JS.Class,g=a=>{const b=a.selectedRow;b&&(b.setSelected(!1),a.set("selectedRow",null,!0))},f=a.SelectableInfiniteListRow=new JS.Module("SelectableInfiniteListRow",{include:[a.InfiniteListRow,a.Selectable]});a.SimpleSelectableInfiniteListRow=new d("SimpleSelectableInfiniteListRow",a.SimpleButton,{include:[f],initNode:function(a,b){null==b.selectedColor&&(b.selectedColor="#ccccff");null==b.activeColor&&(b.activeColor="#f8f8f8");null==b.hoverColor&&(b.hoverColor="#eeeeee");null==b.readyColor&&
(b.readyColor="#ffffff");null==b.focusEmbellishment&&(b.focusEmbellishment=!1);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(a){this.callSuper(a);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},
doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(a,b){b=this.infiniteOwner;const c=this.model;switch(a){case 27:this.selected&&b.setSelectedRow();break;case 37:case 38:b.selectPrevRowForModel(c);break;case 39:case 40:b.selectNextRowForModel(c)}},doActivationKeyUp:function(a){switch(a){case 13:case 32:this.doActivated()}}});a.SelectableInfiniteList=new d("SelectableInfiniteList",a.InfiniteList,{setSelectedRow:function(a){const b=this.selectedRow;
a!==b&&(b&&b.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",a,!0),a&&(this.setSelectedRowModel(a.model),a.setSelected(!0)))},setSelectedRowModel:function(a){this.set("selectedRowModel",a,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(a,b,e){a&&(g(this),this.setSelectedRowModel(a),this.refreshListUI(),b&&(a=this.getActiveSelectedRow())&&a.focus())},selectNextRowForModel:function(a,
b=!0){this.selectRowForModel(this.getNextModel(a),b,!0)},selectPrevRowForModel:function(a,b=!0){this.selectRowForModel(this.getPrevModel(a),b,!1)},resetListUI:function(a,b){this.isModelInData(this.selectedRowModel)?g(this):this.setSelectedRow();this.callSuper(a,b)},putRowBackInPool:function(a){a.selected&&g(this);this.callSuper(a)},refreshListUI:function(c){c=a.global.focus.focusedView;this.callSuper();const b=this.getActiveSelectedRow();b&&(this.set("selectedRow",b,!0),b.setSelected(!0),c&&c!==b||
b.focus(!0))}})})(myt);
(a=>{const d=JS.Class,g=JS.Module,f=a.View,c=new g("InfiniteGridRowMixin",{notifyXChange:function(b){const a=this[b.columnId+"View"];a&&a.setX(b.x+b.cellXAdj)},notifyWidthChange:function(b){const a=this[b.columnId+"View"];a&&a.setWidth(b.width+b.cellWidthAdj)},notifyVisibilityChange:function(b){const a=this[b.columnId+"View"];a&&a.setVisible(b.visible)}}),b=new g("InfiniteGridMixin",{setGridHeader:function(b){(this.gridHeader=b)&&b.setGrid(this)},makeReady:function(b,a){const c=this.gridHeader;c?
(this.__forceFullResetOnNextRefresh=a,c.setSort(b),c.setLocked(!1)):this.refreshListData(!1,a)},getSortFunction:function(){var b=this.gridHeader.sort||["",""];const a=b[0];b=b[1];if(a){const c="ascending"===b?1:-1;return(b,e)=>{b=b[a];e=e[a];return b>e?c:e>b?-c:0}}return this.callSuper()},updateRow:function(b){this.gridHeader&&this.gridHeader.columnHeaders.forEach(a=>{b.notifyXChange(a);b.notifyWidthChange(a);b.notifyVisibilityChange(a)})},notifyXChange:function(b){this.getVisibleRows().forEach(a=>
{a.notifyXChange(b)})},notifyWidthChange:function(b){this.getVisibleRows().forEach(a=>{a.notifyWidthChange(b)})},notifyVisibilityChange:function(b){this.getVisibleRows().forEach(a=>{a.notifyVisibilityChange(b)})}});a.InfiniteGridRow=new g("InfiniteGridRow",{include:[a.InfiniteListRow,c]});a.SelectableInfiniteGridRow=new g("SelectableInfiniteGridRow",{include:[a.SelectableInfiniteListRow,c]});a.SimpleSelectableInfiniteGridRow=new d("SimpleSelectableInfiniteGridRow",a.SimpleSelectableInfiniteListRow,
{include:[c]});a.InfiniteGrid=new d("InfiniteGrid",a.InfiniteList,{include:[b]});a.SelectableInfiniteGrid=new d("InfiniteGrid",a.SelectableInfiniteList,{include:[b]});a.InfiniteGridHeader=new d("InfiniteGridHeader",f,{include:[a.GridController],initNode:function(b,c){null==c.columnSpacing&&(c.columnSpacing=1);c.overflow="hidden";this.callSuper(b,c);new a.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(b){this.grid=b},setColumnSpacing:function(b){this.columnSpacing=b},getColumnSpacingInUse:function(){return 0===
this.columnSpacing?0:Math.max(0,this.getVisibleColumnHeaders().length-1)*this.columnSpacing},setHeight:function(b,a){this.callSuper(b,a);this.inited&&(b=this.height,this.columnHeaders.forEach(a=>{a.setHeight(b)}))},setWidth:function(b,a){this.callSuper(Math.max(this.minWidth,b),a);this.inited&&(b=this.width,this.setGridWidth(b),this.grid.setWidth(b))},subviewAdded:function(b){this.callSuper(b);b.isA(a.GridColumnHeader)&&(b.setGridController(this),b.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,
this.grid.__forceFullResetOnNextRefresh)},notifyColumnHeaderXChange:function(b){this.isLocked()||this.grid.notifyXChange(b)},notifyColumnHeaderWidthChange:function(b){this.isLocked()||this.grid.notifyWidthChange(b)},updateRowsForVisibilityChange:function(b){this.grid.notifyVisibilityChange(b)}})})(myt);
(a=>{const d=JS.Class,g=a.PanelStackTransition=new d("PanelStackTransition",a.Node,{to:a=>Promise.resolve(a),from:a=>Promise.resolve(a)});a.PanelStack=new d("PanelStack",a.View,{include:[a.SelectionManager],initNode:function(a,c){c.overflow="hidden";null==c.itemSelectionId&&(c.itemSelectionId="panelId");null==c.maxSelected&&(c.maxSelected=1);this.callSuper(a,c);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(a){this.set("transition",a,
!0)},__updateWidth:function(a){const c=this.getActivePanel();c&&c.setWidth(a.value)},__updateHeight:function(a){const c=this.getActivePanel();c&&c.setHeight(a.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(a){return this.getSelectableItem(a)},selectPanel:function(a){this.selectById(a)},doSelected:function(a){a.setWidth(this.width);a.setHeight(this.height)},doStackTransition:function(a){this["doStackTransition"+(a.selected?"To":"From")](a)},doStackTransitionTo:function(a){const c=
this;c.doBeforeTransitionTo(a);const b=c.transition;b?b.to(a).then(b=>{c.doAfterTransitionTo(b)}):(a.makeHighestZIndex(),a.setVisible(!0),c.doAfterTransitionTo(a))},doBeforeTransitionTo:a=>{},doAfterTransitionTo:a=>{},doStackTransitionFrom:function(a){const c=this;c.doBeforeTransitionFrom(a);const b=c.transition;b?b.from(a).then(b=>{c.doAfterTransitionFrom(b)}):(a.setVisible(!1),c.doAfterTransitionFrom(a))},doBeforeTransitionFrom:a=>{},doAfterTransitionFrom:a=>{}});a.StackablePanel=new JS.Module("StackablePanel",
{include:[a.Selectable],initNode:function(a,c){c.visible=c.selected=!1;null==c.bgColor&&(c.bgColor="#ffffff");null==c.panelId&&(c.panelId=c.name);this.callSuper(a,c);this.selected&&this.doStackTransition()},setPanelStack:function(a){this.panelStack=a},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(a){this.panelId=a},setSelected:function(a){this.selected!==a&&(this.callSuper(a),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});
a.PanelStackFadeTransition=new d("PanelStackFadeTransition",g,{initNode:function(a,c){null==c.duration&&(c.duration=1E3);this.callSuper(a,c)},setDuration:function(a){this.duration=a},to:function(a){return new Promise((c,b)=>{a.stopActiveAnimators("opacity");a.setVisible(!0);a.animate({attribute:"opacity",to:1,duration:this.duration}).next(b=>{a.makeHighestZIndex();c(a)})})},from:function(a){return new Promise((c,b)=>{a.stopActiveAnimators("opacity");a.animate({attribute:"opacity",to:0,duration:this.duration}).next(b=>
{a.setVisible(!1);c(a)})})}});a.PanelStackSlideTransition=new d("PanelStackSlideTransition",g,{initNode:function(a,c){null==c.duration&&(c.duration=1E3);null==c.direction&&(c.direction="right");this.callSuper(a,c)},setDuration:function(a){this.duration=a},setDirection:function(a){this.direction=a},to:function(a){const c=a.getPanelStack(),b=this.duration;let e,d;switch(this.direction){case "left":d="x";e=c.width;break;case "right":d="x";e=-c.width;break;case "up":d="y";e=c.height;break;case "down":d=
"y",e=-c.height}a.stopActiveAnimators(d);a.set(d,e);a.setVisible(!0);return new Promise((c,e)=>{e=b=>{a.makeHighestZIndex();c(a)};0<b?a.animate({attribute:d,to:0,duration:b}).next(e):(a.set(d,0),a.makeHighestZIndex(),c(a))})},from:function(a){const c=a.getPanelStack(),b=this.duration;let e,d;switch(this.direction){case "left":d="x";e=-c.width;break;case "right":d="x";e=c.width;break;case "up":d="y";e=-c.height;break;case "down":d="y",e=c.height}a.stopActiveAnimators(d);return new Promise((c,f)=>{f=
b=>{a.setVisible(!1);c(a)};0<b?a.animate({attribute:d,to:e,duration:b}).next(f):(a.set(d,e),a.setVisible(!1),c(a))})}})})(myt);
(a=>{const d=JS.Module;var g=a.global;const f=g.dragManager,c=g.mouse;g=a.Draggable;const b=(a,c,e)=>{a["__isAuto"+c]&&(a.getInnerDomElement()["scrollUp"===c||"scrollDown"===c?"scrollTop":"scrollLeft"]+=e*a["__amount"+c],a["__timerIdAuto"+c]=setTimeout(()=>{b(a,c,e)},a.scrollFrequency))},e=a.DragGroupSupport=new d("DragGroupSupport",{initNode:function(b,a){this.__dragGroups={"*":!0};this.__acceptAny=!0;this.callSuper(b,a)},setDragGroups:function(b){const a=this.__dragGroups={};for(const c in b)a[c]=
!0;this.__acceptAny=a.hasOwnProperty("*")},getDragGroups:function(){return this.__dragGroups},addDragGroup:function(b){b&&(this.__dragGroups[b]=!0,"*"===b&&(this.__acceptAny=!0))},removeDragGroup:function(b){b&&(delete this.__dragGroups[b],"*"===b&&(this.__acceptAny=!1))},acceptAnyDragGroup:function(){return this.__acceptAny}});a.DropSource=new d("DropSource",{include:[g],initNode:function(b,a){null==a.distanceBeforeDrag&&(a.distanceBeforeDrag=2);null==a.dropParent&&(a.dropParent=b.getRoot());this.callSuper(b,
a)},setDropClass:function(b){this.dropClass=a.resolveClassname(b)},setDropClassAttrs:function(b){this.dropClassAttrs=b},setDropParent:function(b){this.dropParent=b},startDrag:function(b){const a=this.dropable=this.makeDropable();if(a){const c=a.distanceBeforeDrag;a.distanceBeforeDrag=0;a.doMouseDown(b);a.__doMouseDown(b);a.distanceBeforeDrag=c}},doMouseUp:function(b){this.callSuper(b);const a=this.dropable;a&&(a.__doMouseUp(b),a.doMouseUp(b),this.dropable=null)},makeDropable:function(){const b=this.dropClass,
c=this.dropParent;if(b&&c){const e=a.DomElementProxy.getPagePosition(this.getInnerDomElement(),c.getInnerDomElement()),d=Object.assign({},this.dropClassAttrs);d.x=e.x||0;d.y=e.y||0;return new b(c,d)}}});a.DropTarget=new d("DropTarget",{include:[e],initNode:function(b,a){this.callSuper(b,a);f.registerDropTarget(this)},destroyAfterOrphaning:function(){f.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(b){return!this.disabled&&this.isVisible()},notifyDragStart:b=>{},notifyDragStop:b=>
{},notifyDragEnter:b=>{},notifyDragLeave:b=>{},notifyDrop:b=>{}});a.Dropable=new d("Dropable",{include:[g,e],setDropTarget:function(b){this.dropTarget=b},setDropped:function(b){this.dropped=b},setDropFailed:function(b){this.dropFailed=b},willPermitDrop:b=>!0,startDrag:function(b){this.setDropped(!1);this.setDropFailed(!1);f.startDrag(this);this.callSuper(b)},updateDrag:function(b){f.updateDrag(b,this);this.callSuper(b)},stopDrag:function(b,a){f.stopDrag(b,this,a);this.callSuper(b,a);a?this.notifyDropAborted():
this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(b){this.setDropTarget(b)},notifyDragLeave:function(b){this.setDropTarget()},notifyDropped:function(b,a){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});a.AutoScroller=new d("AutoScroller",{include:[e],initNode:function(b,a){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;null==a.overflow&&(a.overflow="auto");this.callSuper(b,
a);f.registerAutoScroller(this)},destroyAfterOrphaning:function(){f.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(b){this.scrollBorder=b},setScrollFrequency:function(b){this.scrollFrequency=b},setScrollAmount:function(b){this.scrollAmount=b},setScrollAcceleration:function(b){this.scrollAcceleration=b},notifyDragStart:function(b){b=this.getInnerDomElement();(b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth)&&this.attachToDom(c,"__handleMouseMove","mousemove",!0)},
notifyDragStop:function(b){this.detachFromDom(c,"__handleMouseMove","mousemove",!0);this.__isAutoscrollUp=this.__isAutoscrollDown=!1;this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null;this.__isAutoscrollLeft=this.__isAutoscrollRight=!1;this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null},__handleMouseMove:function(a){var c=a.value;a=c.pageX;c=c.pageY;if(this.containsPoint(a,c)){const e=this.getPagePosition(),d=this.scrollBorder;a-=e.x;c-=e.y;c<d?(this.__isAutoscrollUp=!0,this.__amountscrollUp=
Math.round(this.scrollAmount*(1+(d-c)/d*this.scrollAcceleration)),this.__timerIdAutoscrollUp||b(this,"scrollUp",-1)):this.height-c<d?(this.__isAutoscrollDown=!0,this.__amountscrollDown=Math.round(this.scrollAmount*(1+(d-(this.height-c))/d*this.scrollAcceleration)),this.__timerIdAutoscrollDown||b(this,"scrollDown",1)):(this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null);a<d?(this.__isAutoscrollLeft=!0,this.__amountscrollLeft=Math.round(this.scrollAmount*
(1+(d-a)/d*this.scrollAcceleration)),this.__timerIdAutoscrollLeft||b(this,"scrollLeft",-1)):this.width-a<d?(this.__isAutoscrollRight=!0,this.__amountscrollRight=Math.round(this.scrollAmount*(1+(d-(this.width-a))/d*this.scrollAcceleration)),this.__timerIdAutoscrollRight||b(this,"scrollRight",1)):(this.__isAutoscrollLeft=this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null)}else this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=
null,this.__isAutoscrollLeft=this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(a,d){if(d){const a=d.length;for(let f=0,c;a>f;)(c=d[f++])?this.extend(c):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.init(a||{})},init:function(a){this.callSetters(a);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(a=>{const d=a.Geometry.degreesToRadians,g=c=>{a.Annulus.draw(c.__path,d(c.startAngle),d(c.endAngle),c.thickness,c.radius,c.width/2,c.color,c.startCapRounding,c.endCapRounding)},f=a=>{const b=2*(a.radius+a.thickness),c=a.__svg;a.setWidth(b);a.setHeight(b);c.setAttribute("viewBox","0 0 "+b+" "+b);c.setAttribute("width",b);c.setAttribute("height",b);g(a)};a.Annulus=new JS.Class("Annulus",a.View,{extend:{draw:(a,b,e,d,f,g,n,m,p)=>{if(b>e){var c=b;b=e;e=c}c=f+d;var h=Math.PI;const k=e-b,l=k+1E-4>=2*h;
l&&(b=0,e=h);const z=Math.cos,t=Math.sin;b=[[g+c*z(b),g+c*t(b)],[g+c*z(e),g+c*t(e)],[g+f*z(e),g+f*t(e)],[g+f*z(b),g+f*t(b)]];e=[];e.push("M"+b[0].join());l?(e.push("A"+[c,c,0,1,1,b[1]].join()),e.push("A"+[c,c,0,1,1,b[0]].join()),e.push("L"+b[2].join()),e.push("A"+[f,f,0,1,0,b[3]].join()),e.push("A"+[f,f,0,1,0,b[2]].join())):(h=k%(2*h)>h?1:0,e.push("A"+[c,c,0,h,1,b[1]].join()),p?e.push("A"+[d/2,d/2,0,0,1,b[2]].join()):e.push("L"+b[2].join()),e.push("A"+[f,f,0,h,0,b[3]].join()),m&&e.push("A"+[d/2,d/
2,0,0,1,b[0]].join()));e.push("z");a.setAttribute("d",e.join(" "));a.setAttribute("fill",n)},makeSVG:(a,b)=>{a=document.createElementNS("http://www.w3.org/2000/svg",a);b&&b.appendChild(a);return a}},initNode:function(a,b){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(a,b);f(this)},createOurDomElement:function(c){c=this.callSuper(c);var b=Array.isArray(c)?c[1]:c;const e=a.Annulus.makeSVG;b=this.__svg=e("svg",b);this.__path=e("path",
b);b.style.pointerEvents="none";return c},setRadius:function(a){this.radius!==a&&(this.radius=a=Math.max(0,a),this.inited&&(f(this),this.fireEvent("radius",a)))},setThickness:function(a){this.thickness!==a&&(this.thickness=a=Math.max(0,a),this.inited&&(f(this),this.fireEvent("thickness",a)))},setStartAngle:function(a){this.startAngle!==a&&(this.startAngle=a,this.inited&&(g(this),this.fireEvent("startAngle",a)))},setEndAngle:function(a){this.endAngle!==a&&(this.endAngle=a,this.inited&&(g(this),this.fireEvent("endAngle",
a)))},setStartCapRounding:function(a){this.startCapRounding!==a&&(this.startCapRounding=a,this.inited&&(g(this),this.fireEvent("startCapRounding",a)))},setEndCapRounding:function(a){this.endCapRounding!==a&&(this.endCapRounding=a,this.inited&&(g(this),this.fireEvent("endCapRounding",a)))},setColor:function(a){this.color!==a&&(this.color=a,this.inited&&(g(this),this.fireEvent("color",a)))},sendSubviewToBack:function(a){if(a.parent===this){const b=this.getInnerDomElement(),c=b.childNodes[1];a.getOuterDomElement()!==
c&&(a=b.removeChild(a.getOuterDomElement()))&&b.insertBefore(a,c)}},isColorAttr:function(a){return"color"===a||this.callSuper(a)}})})(myt);
(a=>{const d=JS.Class,g=a.WebSocket=new d("WebSocket",a.Node,{initNode:function(b,a){this.status="closed";this.useJSON=!0;this.callSuper()},destroy:function(){this.close(1E3,"destroyed");this.callSuper()},setUseJSON:function(b){this.useJSON!==b&&(this.useJSON=b,this.inited&&this.fireEvent("useJSON",b))},setStatus:function(b){this.status!==b&&(this.status=b,this.inited&&this.fireEvent("status",b))},setUrl:function(b){"object"===typeof b&&"function"===typeof b.isA&&b.isA(a.URI)&&(b=b.toString());this.url=
b},setProtocols:function(b){this.protocols=b},connect:function(b){if(!this._ws&&this.url)try{const a=this._ws=new WebSocket(this.url,this.protocols),c=this.onOpen.bind(this);a.onopen=b?e=>{c(e);b(e);a.onopen=c}:c;a.onerror=this.onError.bind(this);a.onmessage=this.onMessage.bind(this);a.onclose=this.onClose.bind(this)}catch(e){this.onError(e)}},send:function(b,a){const c=this,e=c._ws;if(e&&"open"===c.status){if(c.useJSON)try{b=JSON.stringify(b)}catch(l){c.onError(l)}e.send(b);return!0}if(a)return!1;
c.connect(a=>{c.send(b,!0)})},close:function(b,a){this._ws&&this._ws.close(b||1E3,a||"close")},onOpen:function(a){this.setStatus("open")},onError:function(a){console.error(a);this._ws&&this._ws.readyState!==WebSocket.OPEN&&this.close()},onMessage:function(a){a=a.data;if(this.useJSON)try{a=JSON.parse(a)}catch(e){this.onError(e)}return a},onClose:function(a){this._ws&&delete this._ws;this.setStatus("closed")}}),f={},c=a=>{let b;"string"===typeof a?b=f[a]||(f[a]=b=>b===a):"function"===typeof a?b=a:null==
a&&(b=a=>!0);return b};a.MessageTypeWebSocket=new d("MessageTypeWebSocket",g,{initNode:function(a,c){this._listeners=[];null==c.protocols&&(c.protocols="typedMessage");this.callSuper()},registerListener:function(a,e){if(a&&(e=c(e))){var b=this._listeners;let c=b.length;for(;c;){const d=b[--c];if(d.func===a){a=d.patternMatchers;for(b=a.length;b;)if(a[--b]===e)return;a.push(e);return}}b.push({func:a,patternMatchers:[e]})}},unregisterListener:function(a,e){if(a&&(e=c(e))){const c=this._listeners;let d=
c.length;for(;d;){var b=c[--d];if(b.func===a){a=b.patternMatchers;for(b=a.length;b;)if(a[--b]===e){a.splice(b,1);break}0===a.length&&c.splice(d,1);break}}}},sendTypedMessage:function(a,c,d){if(c=this.createMessage(a,c))return this.send(c,d)},createMessage:(a,c)=>{let b;try{b=JSON.stringify(c)}catch(k){console.error(k);return}return{type:a||"",msg:b,date:Date.now()}},onMessage:function(a){const b=this.callSuper(a);try{b.msg=JSON.parse(b.msg)}catch(k){this.onError(b);return}const c=b.type;this._listeners.forEach(a=>
{a.patternMatchers.every(d=>d(c)?(a.func(b),!1):!0)});return b}})})(myt);
(a=>{let d;const g=JS.Class,f=a.global,c=f.mouse,b=f.windowResize,e=a=>{a.__checkTipTimerId&&(clearTimeout(a.__checkTipTimerId),delete a.__checkTipTimerId)},h=a=>{if(a.tooltip){const b=a._lastPos;if(a.tooltip.parent.containsPoint(b.x,b.y))return!0}a.hideTip();return!1},k=a.BaseTooltip=new g("BaseTooltip",a.View,{include:[a.RootView],extend:{DEFAULT_TIP_DELAY:500,DEFAULT_TIP_HIDE_DELAY:100},initNode:function(a,b){this.tipDelay=this.nextTipDelay=k.DEFAULT_TIP_DELAY;this.tipHideDelay=k.DEFAULT_TIP_HIDE_DELAY;
null==b.visible&&(b.visible=!1);this.callSuper(a,b)},setTooltip:function(a){this.inited&&(this.tooltip=a)&&(this.attachToDom(c,"__checkMouseMovement","mousemove",!0),this.attachToDom(a.parent,"hideTip","mousedown",!0),this.attachToDom(a.parent,"hideTip","mouseup",!0))},__checkMouseMovement:function(b){const c=this;c._lastPos=a.MouseObservable.getMouseFromEvent(b);h(c)&&(e(c),c.__checkTipTimerId=setTimeout(()=>{delete c.__checkTipTimerId;h(c)&&c.showTip()},c.nextTipDelay))},hideTip:function(a){e(this);
a=this.tooltip.parent;this.detachFromDom(a,"hideTip","mousedown",!0);this.detachFromDom(a,"hideTip","mouseup",!0);this.detachFromDom(c,"__checkMouseMovement","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){f.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),l=a.Tooltip=new g("Tooltip",k,{extend:{DEFAULT_EDGE_SIZE:0,DEFAULT_EDGE_COLOR:"#444444",DEFAULT_SHADOW_SIZE:2,DEFAULT_SHADOW_COLOR:"#00000033",
DEFAULT_HORIZONTAL_INSET:6,DEFAULT_VERTICAL_INSET:3,DEFAULT_TIP_BG_COLOR:"#444444",DEFAULT_TIP_TEXT_COLOR:"#eeeeee"},initNode:function(b,c){null==c.edgeSize&&(c.edgeSize=l.DEFAULT_EDGE_SIZE);null==c.edgeColor&&(c.edgeColor=l.DEFAULT_EDGE_COLOR);null==c.shadowSize&&(c.shadowSize=l.DEFAULT_SHADOW_SIZE);null==c.shadowColor&&(c.shadowColor=l.DEFAULT_SHADOW_COLOR);null==c.insetH&&(c.insetH=l.DEFAULT_HORIZONTAL_INSET);null==c.insetV&&(c.insetV=l.DEFAULT_VERTICAL_INSET);null==c.tipBgColor&&(c.tipBgColor=
l.DEFAULT_TIP_BG_COLOR);null==c.tipTextColor&&(c.tipTextColor=l.DEFAULT_TIP_TEXT_COLOR);this.callSuper(b,c);new a.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(a){this.edgeSize=a},setEdgeColor:function(a){this.edgeColor=a},setShadowSize:function(a){this.shadowSize=a},setShadowColor:function(a){this.shadowColor=a},setInsetH:function(a){this.insetH=a},setInsetV:function(a){this.insetV=a},setTipBgColor:function(a){this.tipBgColor=
a},setTipTextColor:function(a){this.tipTextColor=a},showTip:function(){const a=this.tooltip;var c=a.text;const d=a.parent;var e=this._tipText;const f=this.edgeSize,g=this.shadowSize;e.text!==c&&e.setText(c);e.setWidth("auto");var h=Math.min(e.measureNoWrapWidth(),a.maxTextWidth);c=h+2*e.x;const k=c+2*f;e.setWidth(h);e.sizeViewToDom();h=d.getPagePosition();e=e.height+2*e.y;const l=e+2*f,n=h.y-l+("below"===a.tipvalign?d.height+l:0);h=h.x;switch(a.tipalign){case "right":h-=k;case "farright":h+=d.width;
break;case "farleft":h-=k}this.setX(Math.round(Math.min(Math.max(h,0),b.getWidth()-k)));this.setY(Math.round(Math.min(Math.max(n,0),b.getHeight()-l)));this.setWidth(c);this.setHeight(e);this.setBgColor(this.tipBgColor);this.setBorder([f,"solid",this.edgeColor]);this.setBoxShadow([g,g,g,this.shadowColor]);this.callSuper()}}),n=a.TooltipMixin=new JS.Module("TooltipMixin",{extend:{DEFAULT_TIP_CLASS:l,DEFAULT_MAX_TEXT_WIDTH:280},setTooltip:function(a){this.callSuper("");this.set("tooltip",a,!0)},setTipAlign:function(a){this.set("tipAlign",
a,!0)},setTipValign:function(a){this.set("tipValign",a,!0)},setMaxTextWidth:function(a){this.set("maxTextWidth",a,!0)},setTipClass:function(a){this.set("tipClass",a,!0)},doSmoothMouseOver:function(b){const c=this.tooltip;this.callSuper(b);if(b&&c){b=this.tipClass||n.DEFAULT_TIP_CLASS;!d||d instanceof b||(d.destroy(),d=null);if(!d){let c=document.getElementById("tooltipDiv");c||(c=a.DomElementProxy.createDomElement("div",{position:"absolute"}),a.getElement().appendChild(c));d=new b(c,{domId:"tooltipDiv"})}d.setTooltip({parent:this,
text:c,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||n.DEFAULT_MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(a){this.setVectors(a||[])},setVectors:function(a){this._boundingBox=null;this.vectors=a},copyFrom:function(a){this.vectors=a.vectors.slice();this._boundingBox=null},drawInto:function(a){a.beginPath();const d=this.vectors;let g=d.length,f=0;for(a.moveTo(d[f++],d[f++]);g>f;)a.lineTo(d[f++],d[f++]);a.closePath()},translate:function(a,d){const g=this.vectors;let f=g.length;for(;f;)g[--f]+=d,g[--f]+=a;this._boundingBox=null},rotate:function(a){const d=
Math.cos(a);a=Math.sin(a);const g=this.vectors,f=g.length;for(let c=0;f>c;){const b=g[c]*d-g[c+1]*a,e=g[c]*a+g[c+1]*d;g[c++]=b;g[c++]=e}this._boundingBox=null},rotateAroundOrigin:function(a,d,g){this.translate(-d,-g);this.rotate(a);this.translate(d,g)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const a=this.vectors;let d=a.length,g,f,c,b;if(2<=d){c=b=a[--d];for(g=f=a[--d];d;){const e=a[--d],h=a[--d];c=Math.min(e,c);b=Math.max(e,b);g=Math.min(h,g);f=Math.max(h,f)}return this._boundingBox=
{x:g,y:c,width:f-g,height:b-c}}return this._boundingBox=null},getCenter:function(){const a=this.getBoundingBox();return a?{x:a.x+a.width/2,y:a.y+a.height/2}:null},isPointInPath:function(a,d){"object"===typeof a&&(d=a.y,a=a.x);return myt.Geometry.isPointInPath(a,d,this.getBoundingBox(),this.vectors)}});
(a=>{const d=Math.PI,g=d/2,f=3*d/2,c=a.AccessorSupport,b={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(a=>{b[a]=function(){this.__ctx[a].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(a=>
{b[a]=function(){return this.__ctx[a].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(a=>{b[c.generateSetterName(a)]=function(b){this.__ctx[a]=b};b[c.generateGetterName(a)]=function(){return this.__ctx[a]}});a.Canvas=new JS.Class("Canvas",a.View,{include:[b],createOurDomElement:function(a){a=this.callSuper(a);const b=Array.isArray(a)?
a[1]:a,c=this.__canvas=document.createElement("canvas");c.className="mytUnselectable";b.appendChild(c);c.style.position="absolute";this.__ctx=c.getContext("2d");return a},setWidth:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("width",a);this.callSuper(a,b)},setHeight:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("height",a);this.callSuper(a,b)},sendSubviewToBack:function(a){if(a.parent===this){const b=this.domElement,c=b.childNodes[1];a.domElement!==c&&(a=b.removeChild(a.domElement))&&
b.insertBefore(a,c)}},clear:function(){const a=this.__ctx;a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.width,this.height);a.restore()},dataURItoBlob:function(a,b){a=atob(a.split(",")[1]);const c=a.length,d=[];for(let b=0;b<c;)d.push(a.charCodeAt(b++));return new Blob([new Uint8Array(d)],{type:b})},getDataURL:function(a,b){return this.__canvas.toDataURL(a,b)},getImageFile:function(a,b,c){switch(a){case "png":case "PNG":a="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":a="jpeg";
null==c&&(c=.5);break;default:console.warn("Unexpected image type: ",a),a=a.toLowerCase()}const d="image/"+a;c=this.dataURItoBlob(this.getDataURL(d,c),d);b&&(c.name=b+"."+a);return c},circle:function(a,b,c){this.__ctx.arc(a,b,c,0,2*d)},drawRoundedRect:function(a,b,c,l,n,m){m=l+m;n=c+n;this.beginPath();this.moveTo(c,l+a);this.lineTo(c,m-a);this.arc(c+a,m-a,a,d,g,!0);this.lineTo(n-a,m);this.arc(n-a,m-a,a,g,0,!0);this.lineTo(n,l+a);this.arc(n-a,l+a,a,0,f,!0);this.lineTo(c+a,l);this.arc(c+a,l+a,a,f,d,
!0);this.closePath();0<b&&(a-=b,c+=b,n-=b,l+=b,m-=b,this.moveTo(c,l+a),this.arc(c+a,l+a,a,d,f),this.lineTo(n-a,l),this.arc(n-a,l+a,a,f,0),this.lineTo(n,m-a),this.arc(n-a,m-a,a,0,g),this.lineTo(c+a,m),this.arc(c+a,m-a,a,g,d),this.closePath())},drawRectOutline:function(a,b,c,d,f){f=c+f;d=b+d;const e=b+a,g=d-a,h=c+a;a=f-a;this.beginPath();this.moveTo(b,c);this.lineTo(b,f);this.lineTo(d,f);this.lineTo(d,c);this.lineTo(b,c);this.lineTo(e,h);this.lineTo(g,h);this.lineTo(g,a);this.lineTo(e,a);this.lineTo(e,
h);this.closePath()},drawPartiallyRoundedRect:function(a,b,c,d,f,g,p,r){r=g+r;p=f+p;this.beginPath();this.moveTo(f,g+a);this.lineTo(f,r-c);0<c&&this.quadraticCurveTo(f,r,f+c,r);this.lineTo(p-d,r);0<d&&this.quadraticCurveTo(p,r,p,r-d);this.lineTo(p,g+b);0<b&&this.quadraticCurveTo(p,g,p-b,g);this.lineTo(f+a,g);0<a&&this.quadraticCurveTo(f,g,f,g+a);this.closePath()},drawGradientArc:function(b,c,f,g,n,m,p,r){null==r&&(r=60);r=d/r;let e=d/360;var h=p.length;let k=0;for(var l,t;h>k+1;k++)l=p[k+1].angle-
p[k].angle,l=Math.round(l/r),t=p[k].color.getDiffFrom(p[k+1].color),p[k].colorDelta={red:t.red/l,green:t.green/l,blue:t.blue/l};f=new a.Path([b+f,c,b+g,c]);let A,F;f.rotateAroundOrigin(n,b,c);g=f.vectors;h=g[0];l=g[1];t=g[2];let M=g[3],I=0;for(k=0;m>n;){A=h;F=l;var H=t;var C=M;n+=r;n>m&&(r+=m-n,e=0,n=m);f.rotateAroundOrigin(r+e,b,c);h=g[0];l=g[1];t=g[2];M=g[3];this.beginPath();this.moveTo(A,F);this.lineTo(H,C);this.lineTo(t,M);this.lineTo(h,l);this.closePath();H=p[k].color;C=p[k].colorDelta;this.fillStyle=
a.Color.makeColorNumberFromChannels(H.red+I*C.red,H.green+I*C.green,H.blue+I*C.blue);this.fill();0<e&&(f.rotateAroundOrigin(-e,b,c),h=g[0],l=g[1],t=g[2],M=g[3]);I++;n>=p[k+1].angle&&(I=0,k++)}}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

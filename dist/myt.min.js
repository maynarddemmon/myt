(n=>{let v;var w=c=>{let b,d=c.length;for(;d;)if(b=c[--d],v=b.ver||b.id,b.str&&0<=b.str.indexOf(b.sub)||b.prop)return b.id};var r=c=>{const b=c.indexOf(v);if(0<=b)return parseFloat(c.substring(b+v.length+1))};const h=navigator.userAgent,a=navigator.platform;r=n.BrowserDetect={browser:w([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:h,sub:"Firefox",id:"Firefox"},{str:h,sub:"Chrome",id:"Chrome"},{str:h,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:r(h)||r(navigator.appVersion)||"UNKNOWN",os:w([{str:h,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(r.browser){case "Chrome":case "Safari":n="WebKit";break;case "Explorer":n="MS";break;case "Firefox":n="Moz";break;case "Opera":n="O";break;default:n="UNKNOWN"}w=n.toLowerCase();r.prefix={dom:n,lowercase:w,css:"-"+w+"-",js:w[0].toUpperCase()+w.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const n=Math,v=n.abs,w=n.floor,r=n.ceil,h="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),c="Sun Mon Tue Wed Thu Fri Sat".split(" "),b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d=f=>(10>f?"0":"")+f,g=(f,q)=>{f=f.getTimezoneOffset();return(0<f?"-":"+")+d(w(v(f/60)))+(q?":":"")+(0==v(f%60)?"00":d(v(f%60)))},e=
{d:f=>d(f.getDate()),D:f=>c[f.getDay()],j:f=>f.getDate(),l:f=>b[f.getDay()],N:f=>0==f.getDay()?7:f.getDay(),S:f=>{f=f.getDate();return 1==f%10&&11!=f?"st":2==f%10&&12!=f?"nd":3==f%10&&13!=f?"rd":"th"},w:f=>f.getDay(),z:f=>{const q=new Date(f.getFullYear(),0,1);return r((f-q)/864E5)},W:f=>{const q=new Date(f.valueOf());f=(f.getDay()+6)%7;q.setDate(q.getDate()-f+3);f=q.valueOf();q.setMonth(0,1);4!==q.getDay()&&q.setMonth(0,1+(4-q.getDay()+7)%7);return d(1+r((f-q)/6048E5))},F:f=>a[f.getMonth()],m:f=>
d(f.getMonth()+1),M:f=>h[f.getMonth()],n:f=>f.getMonth()+1,t:f=>{let q=f.getFullYear();f=f.getMonth()+1;12===f&&(q=q++,f=0);return(new Date(q,f,0)).getDate()},L:f=>{f=f.getFullYear();return 0==f%400||0!=f%100&&0==f%4},o:f=>{const q=new Date(f.valueOf());q.setDate(q.getDate()-(f.getDay()+6)%7+3);return q.getFullYear()},Y:f=>f.getFullYear(),y:f=>(""+f.getFullYear()).substr(2),a:f=>12>f.getHours()?"am":"pm",A:f=>12>f.getHours()?"AM":"PM",B:f=>w(1E3*((f.getUTCHours()+1)%24+f.getUTCMinutes()/60+f.getUTCSeconds()/
3600)/24),g:f=>f.getHours()%12||12,G:f=>f.getHours(),h:f=>d(f.getHours()%12||12),H:f=>d(f.getHours()),i:f=>d(f.getMinutes()),s:f=>d(f.getSeconds()),e:f=>/\((.*)\)/.exec((new Date).toString())[1],I:f=>{let q=null,k=0;for(;12>k;){const m=(new Date(f.getFullYear(),k++,1)).getTimezoneOffset();if(null===q)q=m;else if(m<q){q=m;break}else if(m>q)break}return f.getTimezoneOffset()==q|0},O:f=>g(f,!1),P:f=>g(f,!0),T:f=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:f=>60*-f.getTimezoneOffset(),c:f=>f.format("Y-m-d\\TH:i:sP"),
r:f=>f.toString(),U:f=>f.getTime()/1E3};return function(f){return f.replace(/(\\?)(.)/g,(q,k,m)=>""===k&&e[m]?e[m](this):m)}})();
(n=>{const v=(m,t)=>{var p=m.__mct__[t];if(p)return p.slice();let x;if(p=m.__anc__)x=p.slice();else{x=[];const E=I=>{const A=I.__inc__,B=A.length;for(let l=0;l<B;)E(A[l++]);x.includes(I)||x.push(I)};E(m);m.__anc__=x.slice()}p=x.length;const z=[];for(let E=0;E<p;){const I=x[E++].__fns__;I.hasOwnProperty(t)&&z.push(I[t])}m.__mct__[t]=z.slice();return z},w=(m,t)=>{const p=m.callable;return m.__hs?function(){const x=this.callSuper,z=this.hasOwnProperty("callSuper"),E=v(t,m.name);let I=E.length-1;if(0===
I)delete this.callSuper;else{const B=Array.from(arguments),l=this.callSuper=(...u)=>{let y=u.length;for(;y;)B[--y]=u[y];0===--I&&delete this.callSuper;u=E[I].callable.apply(this,B);this.callSuper=l;I++;return u}}const A=p.apply(this,arguments);z?this.callSuper=x:delete this.callSuper;return A}:p},r=(m,t)=>{t=t||m;if(t===m){m.__anc__=null;m.__mct__={};for(var p=m.__dep__.length;p;)r(m.__dep__[--p])}if(p=t.__tgt__){var x=m.__inc__;m=m.__fns__;const z=x.length;for(let E=0;E<z;)r(x[E++],t);for(const E in m)x=
m[E],x=x instanceof d?w(x,t):x,p[E]!==x&&(p[E]=x)}},h=m=>m.__meta__?m.__meta__:(m.__meta__=new g("",null,{_target:m})).include(m.klass,{_rslv:!1}),a=m=>"function"!==typeof m||m.__fns__&&m.__inc__,c=m=>{const t=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},p=function(){};p.prototype=(m||Object).prototype;t.prototype=new p;return t},b=(m,t,p)=>p&&p.__inc__&&p.__fns__||"function"!==typeof p?p:new d(m,t,p),d=c(),g=n.Module=c();d.prototype.initialize=function(m,t,
p){this.module=m;this.name=t;this.callable=p;this.__hs=-1!==p.toString().indexOf("callSuper")};var e=g.prototype;e.initialize=function(m,t,p){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(p||{})._target;this.__mct__={};this.__displayName=m;this.include(t,{_rslv:!1})};e.include=function(m,t){if(m){if(m.__fns__&&m.__inc__)this.__inc__.push(m),m.__dep__.push(this);else{var p=m.extend,x=m.include;p&&a(p)&&this.extend(p);if(x&&a(x)){p=x.length;const z={_rslv:!1};for(let E=0;E<p;)this.include(x[E++],
z)}for(const z of Object.keys(m))if(x=m[z],"extend"!==z&&"include"!==z||!a(x))this.__fns__[z]=b(this,z,x)}!1!==(t||{})._rslv&&r(this)}return this};e.includes=function(m){if(m===this)return!0;const t=this.__inc__,p=t.length;for(let x=0;x<p;)if(t[x++].includes(m))return!0;return!1};e.instanceMethod=function(m){return v(this,m).pop()};const f=new g("Kernel",{extend:function(m,t){m&&h(this).include(m,{_rslv:(t||{})._rslv});return this},isA:function(m){return"function"===typeof m&&this instanceof m||h(this).includes(m)}}),
q=n.Class=c(g),k=q.prototype;k.initialize=function(m,t,p,x){"function"!==typeof t&&(x=p,p=t,t=Object);g.prototype.initialize.call(this,m);m=(x||{})._rslv;x={_rslv:!1};const z=c(t);for(const E in this)z[E]===this[E]||z.hasOwnProperty(E)||(z[E]=this[E]);z.prototype.constructor=z.prototype.klass=z;h(z).include(t.__meta__,{_rslv:m});z.__tgt__=z.prototype;t=t===Object?{}:t.__fns__?t:new g(t.prototype,x);z.include(f,x).include(t,x).include(p,x);!1!==m&&r(z);return z};e=(m,t)=>{m.__inc__=[];m.__dep__=[];
const p=m.__tgt__=m.prototype,x=m.__fns__={};for(const z of Object.keys(p))x[z]=b(m,z,p[z]);p.constructor=p.klass=m;for(const z in k)m[z]===k[z]||m.hasOwnProperty(z)||(m[z]=k[z]);m.include(t);m.constructor=m.klass=q};e(d,f);e(g,f);e(q,g);r(h(d));r(h(g));h(q).include(g.__meta__);n.Singleton=new q("Singleton",{initialize:(m,t,p)=>new (new q(m,t,p))})})(global.JS={});
(n=>{class v extends Error{constructor(A,B,...l){super(...l);this.name="FetchError";this.status=A;this.url=B}}let w=0,r;const h=Math,a=h.abs,c=h.min,b=h.max,d=h.pow,g=document,e=g.head,f=g.createElement.bind(g),q={},k={"":!0},m=g.fonts,t=A=>{const B=A.family.split('"').join("");[B,B+" "+A.weight].forEach(l=>{if(!k[l]){k[l]=!0;const u=q[l]||[];for(;u.length;)(l=u.pop())&&!l.destroyed&&l.sizeViewToDom()}})},p={},x=A=>{const B={};return(...l)=>{const u=JSON.stringify(l);return u in B?B[u]:B[u]=A(...l)}},
z=/\{\{plural:\$(.*?)\|(.*?)\|(.*?)\}\}/g,E=/\$(\d+)/g,I=n.myt={version:2.02201181318E7,generateGuid:()=>++w,hash:A=>A.split("").reduce((B,l)=>{B=(B<<5)-B+l.charCodeAt(0);return B&B},0),addEventListener:(A,B,l,u,y)=>{A.addEventListener(B,l,{capture:u||!1,passive:y||!1})},removeEventListener:(A,B,l,u)=>{A.removeEventListener(B,l,u||!1)},resolveName:(A,B)=>{if(A&&0!==A.length){B=B||global;var l=Array.isArray(A)?A:A.split("."),u=l.length;for(let y=0;y<u;y++)if(B=B[l[y]],null==B){console.warn("resolveName failed for",
A,"at part",y,l[y]);return}return B}},resolveClassname:A=>{"string"===typeof A&&(A=I.resolveName(A));return A&&"function"===typeof A.isA&&A.isA(JS.Class)?A:null},getExtension:A=>A?(A=A.split("."),1<A.length?A.pop():null):null,loadScript:function(A,B,l){const u=this._loadedScripts||(this._loadedScripts={});if(u[A])return console.warn("script already loaded for src",A),null;u[A]=!0;const y=f("script");y.type="text/javascript";y.async=!1;if(B){let D=!1;y.onload=y.onreadystatechange=()=>{D||y.readyState&&
"complete"!==y.readyState||(D=!0,y.onload=y.onreadystatechange=null,B())}}y.src=A+(l?"":(0<=A.indexOf("?")?"&":"?")+"cacheBust="+Date.now());e.appendChild(y);return y},dumpStack:(A,B)=>{let l;"string"===typeof A&&(l=A,A=null);I.global.error.notify(B||"error",null,l,A)},getRandom:A=>{const B=h.random();return A?b(0,c(A(B),.9999999999)):B},getRandomArbitrary:(A,B,l)=>{const u=c(A,B);return I.getRandom(l)*(b(A,B)-u)+u},getRandomInt:(A,B,l)=>{const u=c(A,B);return h.floor(I.getRandom(l)*(b(A,B)-u+1)+
u)},areFloatsEqual:(A,B,l)=>{const u=a(A),y=a(B);return a(A-B)<=(u>y?y:u)*(null==l?1E-6:a(l))},areArraysEqual:(A,B)=>{if(A!==B){if(null==A||null==B)return!1;let l=A.length;if(l!==B.length)return!1;for(;l;)if(A[--l]!==B[l])return!1}return!0},areObjectsEqual:(A,B)=>{if(A!==B){if(null==A||null==B)return!1;for(const l in A)if(A[l]!==B[l])return!1;for(const l in B)if(A[l]!==B[l])return!1}return!0},getElement:(A,B)=>g.getElementsByTagName(A||"body")[0<B?B:0],loadFontFaces:(A,B)=>{const l=[];A.forEach(u=>
{u=new FontFace(u.family,"url("+u.url+")",u.options);l.push(u.load())});Promise.all(l).then(u=>{u.forEach(y=>{m.add(y);t(y)});B&&B(u)})},loadFontFace:(A,B,l={},u)=>{A=new FontFace(A,"url("+B+")",l);A.loaded.then(y=>{m.add(y);t(y);u&&u(y)});A.load()},registerForFontNotification:(A,B)=>{k[B]?A&&!A.destroyed&&A.sizeViewToDom():(q[B]||(q[B]=[])).push(A)},createBaseFontCSSRule:A=>{I.addCSSRule(I.createStylesheet(),"body, input","font-family:"+A,0)},loadCSSFonts:A=>{(A||[]).forEach(I.createStylesheetLink)},
createStylesheetLink:A=>{const B=f("link");B.rel="stylesheet";A&&(B.href=A);e.appendChild(B);return B},createStylesheet:()=>{const A=f("style");e.appendChild(A);return A.sheet},addCSSRule:(A,B,l,u)=>{"insertRule"in A?A.insertRule(B+"{"+l+"}",u):"addRule"in A&&A.addRule(B,l,u)},removeCSSRules:A=>{let B=A.cssRules.length;for(;B;)B--,"deleteRule"in A?A.deleteRule(B):"removeRule"in A&&A.removeRule(B)},createInputPlaceholderCSSRule:(A,B,l,u=1)=>{var y=A.getODE();y=y.id||(y.id="id"+I.generateGuid());let D=
A.__sheet;D?I.removeCSSRules(D):D=A.__sheet=I.createStylesheet();A=[];B&&A.push("color:"+B);l&&A.push("font-family:"+l);u&&A.push("opacity:"+u);I.addCSSRule(D,"#"+y+"::placeholder",A.join("; "),0)},chainSortFunc:(A,B)=>(l,u)=>{const y=A(l,u);return 0===y?B(l,u):y},getAlphaObjSortFunc:x((A,B,l,u)=>{const y=B?1:-1;return(D,H)=>{D=D[A];H=H[A];u?("string"!==typeof D&&(D=""+D),"string"!==typeof H&&(H=""+H)):(D=D||"",H=H||"");l&&(D=D.toLowerCase(),H=H.toLowerCase());return D.localeCompare(H)*y}}),getNumericObjSortFunc:x((A,
B)=>{const l=B?1:-1;return(u,y)=>{u=u[A]||0;y=y[A]||0;return(u-y)*l}}),formatAsPercentage:(A,B=2)=>{if("number"===typeof A)return B=c(16,b(0,B)),A=h.round(b(0,c(1,A))*d(10,2+B))/d(10,B),(0===A%1?A:A.toFixed(B))+"%";"string"!==typeof A&&console.warn("formatAsPercentage: expects a number");return A},memoize:x,debounce:function(A,B,l){const u="__DBTO_"+this.generateGuid();return function(){const y=this,D=y[u],H=arguments,J=l&&!D;clearTimeout(D);y[u]=setTimeout(function(){y[u]=null;l||A.apply(y,H)},B);
J&&A.apply(y,H)}},createFixedThresholdCounter:(A,B,l,u)=>{var y=I.AccessorSupport.generateName;const D="function"===typeof A||A instanceof JS.Module,H={};u=u||y("counter",l);const J=y(u,"increment");y=y(u,"decrement");if(void 0!==(D?A.instanceMethod(J):A[J]))return console.warn("Increment: Abort clobber",J,A),!1;if(void 0!==(D?A.instanceMethod(y):A[y]))return console.warn("Decrement: Abort clobber",y,A),!1;H[J]=function(){const K=this[u]+1;this[u]=K;this.fireEvent(u,K);K===B&&this.set(l,!0)};H[y]=
function(){const K=this[u];if(0!==K){var M=K-1;this[u]=M;this.fireEvent(u,M);K===B&&this.set(l,!1)}};A[D?"include":"extend"](H);return!0},makeURLSearchParams:(A={})=>{const B=new URLSearchParams;for(const l in A){const u=A[l];void 0!==u&&B.set(l,u)}return B},doFetch:(A,B,l,u,y,D)=>fetch(A,B).then(H=>{if(!H.ok)throw new v(H.status,A,H.statusText);return H}).then(H=>l?H.text():H.json()).then(H=>{if(u)try{if(l)u(H);else{if(!1===H.success)throw new v(200,A,H.message);u(H.data)}}catch(J){throw H=new v(200,
A,J.message),H.stack=J.stack,H;}}).catch(H=>{if(y){if("FetchError"!==H.name){const J=new v(0,A,H.message);J.stack=H.stack;H=J}y(H)}}).finally(()=>{D&&D()}),I18N:{setLocale:A=>{r=A},getLocale:()=>r,addDictionary:(A,B)=>{p[B]=Object.assign(p[B]||{},A)},get:(A,...B)=>{var l=r||=(navigator.language||"en").split("-")[0].toLowerCase();l=(p[l]||p.en||{})[A];return null!=l?0<B.length?l.replaceAll(z,(u,y,D,H)=>D&&H?1==B[parseInt(y)]?D:H:"").replaceAll(E,(u,y)=>B[y]):l:A}}};m.onloadingdone=A=>{A.fontfaces.forEach(B=>
{t(B)})}})(global);
(n=>{const v=Object.assign,w=(h,a)=>{0===h.indexOf('"')&&(h=h.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a?JSON.parse(h):h}catch(c){}},r=n.Cookie={defaults:{raw:!1,json:!1},read:(h,a)=>{a=v({},r.defaults,a);const c=a.raw?f=>f:f=>decodeURIComponent(f.split("+").join(" "));a=a.json;const b=document.cookie.split("; "),d=b.length,g=h?void 0:{};for(let f=0;f<d;){var e=b[f++].split("=");const q=c(e.shift());e=c(e.join("="));if(h){if(h===q)return w(e,a)}else g[q]=w(e,a)}return g},
write:(h,a,c)=>{c=v({},r.defaults,c);if("number"===typeof c.expires){const b=c.expires,d=c.expires=new Date;d.setDate(d.getDate()+b)}a=c.json?JSON.stringify(a):String(a);return document.cookie=[c.raw?h:encodeURIComponent(h),"=",c.raw?a:encodeURIComponent(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.samesite?"; samesite="+c.samesite:"",c.secure?"; secure":""].join("")},remove:(h,a)=>void 0!==r.read(h,a)?(r.write(h,"",v({},a,{expires:-1})),
!0):!1}})(myt);
(n=>{const v=global.localStorage,w=(h,a,c)=>{if(0<a){const b="__timerId_"+c;(c=r[b])&&clearTimeout(c);r[b]=setTimeout(()=>{h();delete r[b]},a)}else h()},r=n.LocalStorage={hasDatum:(h,a)=>{if(h&&(a=r.getItem(a||"myt")))try{return null!=JSON.parse(a)[h]}catch(c){console.error(c)}return!1},getDatum:(h,a)=>{if(h&&(a=r.getItem(a||"myt")))try{const c=JSON.parse(a);if("object"===typeof c)return c[h]}catch(c){console.error(c)}},setDatum:(h,a,c,b)=>{c=c||"myt";w(()=>{const d=r.getData(c);d[h]=a;r.setItem(c,
JSON.stringify(d))},b,c+"___"+h)},removeDatum:(h,a,c)=>{a=a||"myt";w(()=>{const b=r.getData(a);delete b[h];r.setItem(a,JSON.stringify(b))},c,a+"___"+h)},hasData:h=>null!=r.getItem(h||"myt"),getData:h=>{if(h=r.getItem(h||"myt"))try{return JSON.parse(h)}catch(a){console.error(a)}return{}},setData:(h,a,c)=>{a=a||"myt";null==h&&(h={});return"object"===typeof h?(w(()=>{r.setItem(a,JSON.stringify(h))},c,a),!0):!1},removeData:(h,a)=>{h=h||"myt";w(()=>{r.removeItem(h)},a,h)},getLength:()=>v.length,getKey:h=>
v.key(h),getItem:h=>v.getItem(h),setItem:(h,a)=>{v.setItem(h,a)},removeItem:h=>{v.removeItem(h)},clear:()=>{v.clear()},get:h=>r.getItem(h),set:(h,a)=>{r.setItem(h,a)},remove:h=>{r.removeItem(h)},clearAll:()=>{r.clear()}}})(myt);
(n=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,w=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;n.URI=new JS.Class("URI",{initialize:function(h,a){h&&this.parse(h,a)},setSource:function(h){this.source=h},setProtocol:function(h){this.protocol=
h},setAuthority:function(h){this.authority=h},setUserInfo:function(h){this.userInfo=h},setUser:function(h){this.user=h},setPassword:function(h){this.password=h},setHost:function(h){this.host=h},setPort:function(h){this.port=h},setRelative:function(h){this.relative=h},setPath:function(h){this.path=h},setDirectory:function(h){this.directory=h},setFile:function(h){this.file=h},setQuery:function(h){this.query=h},setAnchor:function(h){this.anchor=h},parse:function(h,a){const c=this;h=(a?r:w).exec(h);c.setSource(h[0]||
"");c.setProtocol(h[1]||"");c.setAuthority(h[2]||"");c.setUserInfo(h[3]||"");c.setUser(h[4]||"");c.setPassword(h[5]||"");c.setHost(h[6]||"");c.setPort(h[7]||"");c.setRelative(h[8]||"");c.setPath(h[9]||"");c.setDirectory(h[10]||"");c.setFile(h[11]||"");c.setQuery(h[12]||"");c.setAnchor(h[13]||"");c.queryPairs={};c.query.replace(v,(b,d,g)=>{d&&(c.queryPairs[d]=g)})},decodeQueryParam:h=>decodeURIComponent(h).split("+").join(" "),getQuery:function(){var h=this.queryPairs;const a=[];for(const c in h)a.push(c+
"="+encodeURIComponent(this.getQueryParam(c)));h=a.join("&");return 0<h.length?"?"+h:h},getQueryParam:function(h){h=this.queryPairs[h];return null==h?void 0:this.decodeQueryParam(h)},setQueryParam:function(h,a){this.queryPairs[encodeURIComponent(h)]=encodeURIComponent(a)},removeQueryParam:function(h){delete this.queryPairs[h]},getPathParts:function(h){const a=this.path.split("/");if(!h)for(h=a.length;h;)0===a[--h].length&&a.splice(h,1);return a},toString:function(h){const a=this.path;h=h?this.query?
"?"+this.query:"":this.getQuery();const c=this.anchor;let b=this.toStringThroughPort();a?b+=a:this.host&&(h||c)&&(b+="/");h&&(b+=h);c&&(b+="#"+c);return b},toStringThroughPort:function(){const h=this.protocol,a=this.host,c=this.userInfo,b=this.port;let d="";h&&(d+=h+"://");c&&a&&(d+=c+"@");a&&(d+=a,b&&(d+=":"+b));return d}})})(myt);
(n=>{const v=Math,w=v.PI,r=v.cos,h=v.sin,a=v.sqrt,c=n.Geometry={getClosestPointOnALineToAPoint:(b,d,g,e,f,q,k)=>{g-=b;e-=d;f=(g*(f-b)+e*(q-d))/(g*g+e*e);k&&(f=v.min(1,v.max(0,f)));return{x:b+g*f,y:d+e*f}},isPointInPath:(b,d,g,e)=>{"object"===typeof b&&(e=g,g=d,d=b.y,b=b.x);if(c.rectContainsPoint(b,d,g)&&(g=e.length,6<=g)){let f=!1,q=e[0],k=e[1],m,t;for(;g;)t=e[--g],m=e[--g],t>d!==k>d&&b<(q-m)*(d-t)/(k-t)+m&&(f=!f),q=m,k=t;return f}return!1},rectContainsPoint:(b,d,g,e,f,q)=>{"object"===typeof b&&(q=
f,f=e,e=g,g=d,d=b.y,b=b.x);"object"===typeof g&&(q=g.height,f=g.width,e=g.y,g=g.x);return b>=g&&d>=e&&b<=g+f&&d<=e+q},circleContainsPoint:(b,d,g,e,f)=>c.measureDistance(b,d,g,e,!0)<=f*f,measureDistance:(b,d,g,e,f)=>{b=g-b;d=e-d;d=b*b+d*d;return f?d:a(d)},degreesToRadians:b=>b*w/180,radiansToDegrees:b=>180*b/w,circleContainsLatLng:(b,d,g,e,f,q)=>c.measureLatLngDistance(b,d,g,e,q)<=f,measureLatLngDistance:(b,d,g,e,f)=>{void 0===f&&(f=6371);b=c.degreesToRadians(b);d=c.degreesToRadians(d);g=c.degreesToRadians(g);
e=c.degreesToRadians(e);return f*v.acos(h(b)*h(g)+r(b)*r(g)*r(e-d))},polarToCartesian:(b,d,g,e)=>{null==g&&(g=0);null==e&&(e=0);d%=360;if(0===d)d=b,b=0;else if(90===d)d=0;else if(180===d)d=-b,b=0;else if(270===d)d=0,b=-b;else{const f=c.degreesToRadians(d);d=b*r(f);b*=h(f)}return[g+d,e+b]},cartesianToPolar:(b,d,g,e,f)=>{null==g&&(g=0);null==e&&(e=0);b-=g;e=d-e;d=a(b*b+e*e);e=v.atan2(e,b);0>e&&(e+=2*w);return[d,f?e:c.radiansToDegrees(e)]}}})(myt);
(n=>{const v=JS.Module;n.Observable=new v("Observable",{attachObserver:function(w,r,h){return w&&r&&h?(this.getObservers(h).push(r,w),!0):!1},detachObserver:function(w,r,h){if(w&&r&&h){var a=this.__obsbt;if(a&&(h=a[h])){a=!1;let c=h.length;for(;c;)--c,w===h[c--]&&r===h[c]&&(h.splice(c,2),a=!0);return a}}return!1},detachAllObservers:function(){const w=this.__obsbt;if(w)for(const r in w){const h=w[r];let a=h.length;for(;a;){const c=h[--a],b=h[--a];c&&b&&("function"===typeof c.detachFrom&&c.detachFrom(this,
b,r)||h.splice(a,2))}}},getObservers:function(w){const r=this.__obsbt||(this.__obsbt={});return r[w]||(r[w]=[])},hasObservers:function(w){const r=this.__obsbt;return r?(w=r[w])&&0<w.length:!1},createEvent:function(w,r){return{source:this,type:w,value:r}},isFiringEvent:function(w){return(this.__aet||(this.__aet={}))[w]},fireEvent:function(w,r,h){if(h=h||(this.hasObservers(w)?this.__obsbt[w]:null)){const a={source:this,type:w,value:r},c=this.__aet||(this.__aet={});if(!0===c[w])n.global.error.notify("warn",
"eventLoop","Abort refiring event:"+w,null,{observable:this,type:w,value:r});else{c[w]=!0;for(r=h.length;r;){const b=h[--r],d=h[--r];if(b&&d)try{if("function"===typeof d){if(d.call(b,a))break}else if(b[d](a))break}catch(g){n.dumpStack(g),console.log("Additional context",d,b)}}c[w]=!1}}}});n.Observer=new v("Observer",{valueFromEvent:w=>w&&"object"===typeof w&&w.type?w.value:w,syncTo:function(w,r,h,a,c){void 0===a&&(a=h);try{this[r](w.createEvent(h,w.get(a)))}catch(b){n.dumpStack(b)}c||this.attachTo(w,
r,h,c)},isAttachedTo:function(w,r,h){if(w&&r&&h){var a=this.__obt;if(a&&(h=a[h]))for(a=h.length;a;)if(--a,w===h[a--]&&r===h[a])return!0}return!1},getObservables:function(w){const r=this.__obt||(this.__obt={});return r[w]||(r[w]=[])},hasObservables:function(w){const r=this.__obt;return r?(w=r[w])&&0<w.length:!1},attachTo:function(w,r,h,a){if(w&&r&&h){const c=this.getObservables(h);if(a){const b=this,d=r;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);r="__DO_ONCE_"+this.__methodNameCounter++;
this[r]=g=>{b.detachFrom(w,r,h);delete b[r];return b[d](g)}}if(w.attachObserver(this,r,h))return c.push(r,w),!0}return!1},detachFrom:function(w,r,h){if(w&&r&&h){var a=this.__obt;if(a&&(a=a[h])){let c=!1,b=a.length;for(;b;)--b,w===a[b--]&&r===a[b]&&w.detachObserver(this,r,h)&&(a.splice(b,2),c=!0);return c}}return!1},detachFromAllObservables:function(){const w=this.__obt;if(w)for(const r in w){const h=w[r];let a=h.length;for(;a;)h[--a].detachObserver(this,h[--a],r);h.length=0}},constrain:function(w,
r){if(w&&r){const a=r.length;if(0!==a%2)console.log("Observables uneven",this);else{var h=this.__cbmn||(this.__cbmn={});h=h[w]||(h[w]=[]);if(0<h.length)console.log("Constraint exists for "+w+" on "+this);else{for(let c=0;a!==c;){const b=r[c++],d=r[c++];b&&d&&(this.attachTo(b,w,d),h.push(b,d))}try{this[w]()}catch(c){n.dumpStack(c)}}}}},releaseConstraint:function(w){if(w){var r=this.__cbmn;if(r&&(r=r[w])){let h=r.length;for(;h;){const a=r[--h],c=r[--h];this.detachFrom(c,w,a)}r.length=0}}},releaseAllConstraints:function(){const w=
this.__cbmn;if(w)for(const r in w)this.releaseConstraint(r)}})})(myt);myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(n,v){this.hasOwnProperty(n)&&(console.warn("Global key in use",n),this.unregister(n));this[n]=v;this.fireEvent("register"+n,v)},unregister:function(n){if(this.hasOwnProperty(n)){const v=this[n];delete this[n];this.fireEvent("unregister"+n,v)}else console.warn("Global key not in use",n)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(n){this.consoleLogging=n},setStackTraceLimit:function(n){Error.stackTraceLimit=this.stackTraceLimit=n},notify:function(n,v,w,r,h){r||=Error(w||v);r=r.stack||r.stacktrace;w={msg:w,stacktrace:r};h&&Object.assign(w,h);this.fireEvent(v||"error",w);if(this.consoleLogging&&n)console[n](r)}});
(n=>{const v=global,w=v.getComputedStyle,r=document,h=Math.max,a=n.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(c,b,d)=>{c=r.createElement(c);if(d)for(const g in d)c[g]=d[g];if(b)for(const g in b)c.style[g]=b[g];return c},isDomElementVisible:c=>{if("INPUT"===c.nodeName&&"hidden"===c.type)return!1;for(;c;){if(c===r)return!0;const b=w(c);if("none"===b.display||"hidden"===b.visibility)break;c=c.parentNode}return!1},getZIndexRelativeToAncestor:(c,b)=>{if(c&&b)for(c=a.getAncestorArray(c,
b),b=c.length-1;b;){const d=w(c[--b]),g=d.zIndex,e="auto"===g;if(0===b||!e||1!==parseInt(d.opacity,10))return e?0:parseInt(g,10)}return 0},getAncestorArray:(c,b)=>{const d=[];for(;c;){d.push(c);if(c===b)break;c=c.parentNode}return d},getHighestZIndex:c=>{var b=w(c);let d=b.zIndex;var g="auto"===d;if(g&&1===parseInt(b.opacity,10))for(d=0,c=c.childNodes,b=c.length;b;)g=c[--b],1===g.nodeType&&(d=h(d,a.getHighestZIndex(g)));else d=g?0:parseInt(d,10);return d},getRelativePosition:(c,b)=>{if(c){let d=0,
g=0;for(;c&&"BODY"!==c.nodeName&&c!==b;)if(d+=c.offsetLeft,g+=c.offsetTop,(c=c.offsetParent)&&"BODY"!==c.nodeName){const e=w(c);d+=parseInt(e.borderLeftWidth,10)-c.scrollLeft;g+=parseInt(e.borderTopWidth,10)-c.scrollTop}return{x:d,y:g}}},getTruePosition:c=>{if(c)return c=c.getBoundingClientRect(),{x:c.left+v.scrollX,y:c.top+v.scrollY}},simulateDomEvent:(c,b,d)=>{if(c){const g={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},e={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(d)for(const q in d)g[q]=d[q];let f;for(const q in e)if(e[q].test(b)){f=q;break}if(!f)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(r.createEvent)d=r.createEvent(f),"HTMLEvents"===f?d.initEvent(b,g.bubbles,g.cancelable):d.initMouseEvent(b,g.bubbles,g.cancelable,r.defaultView,g.button,g.pointerX,g.pointerY,g.pointerX,g.pointerY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,null),c.dispatchEvent(d);
else{g.clientX=g.pointerX;g.clientY=g.pointerY;d=r.createEventObject();for(const q in g)d[q]=g[q];c.fireEvent("on"+b,d)}}},getScrollbarSize:n.memoize(()=>{const c=r.body,b=a.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});c.appendChild(b);const d=b.offsetWidth-b.clientWidth;c.removeChild(b);return d})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(c){const b=
Array.isArray(c),d=this.__oE=b?c[0]:c;c=this.__iE=b?c[1]:c;this.__iS=c.style;this.__oS=d.style;c.model=d.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(c){this.__iE.className=this.domClass=c},addDomClass:function(c){const b=this.__iE.className;this.setDomClass((b?b+" ":"")+c)},removeDomClass:function(c){var b=
this.__iE.className;if(b){b=b.split(" ");let d=b.length;for(;d;)b[--d]===c&&b.splice(d,1);this.setDomClass(b.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(c){this.__iE.id=this.domId=c},setZIndex:function(c){this.__oS.zIndex=c},setStyleProperty:function(c,b){this.__iS[c]=b},getPagePosition:function(c){return a["get"+(c?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){a.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return a.getHighestZIndex(this.__iE)},
getHighestChildZIndex:function(c){const b=this.__iE.childNodes;let d=b.length,g=0;for(;d;){const e=b[--d];1===e.nodeType&&e!==c&&(g=h(g,a.getHighestZIndex(e)))}return g},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(c,b){(b?this.__iE:this.__oE).scrollTop=c||0}})})(myt);
(n=>{let v;const w=h=>{for(;h.lastChild;)h=h.lastChild;return h},r=(h,a)=>{v.lastTraversalWasForward=h;let c=document.body,b=c;var d=document.activeElement;let g=b,e;const f=h?"getNextFocus":"getPrevFocus";d&&(g=b=d,(d=b.model)||(d=v.findModelForDomElement(b)),d&&(a=d.getFocusTrap(a))&&(c=a.getIDE()));for(;g;){if(g.model&&g.model[f]&&(e=g.model[f]()))g=e.getIDE();else if(h)if(g.firstChild)g=g.firstChild;else{if(g===c)return b.model;if(g.nextSibling)g=g.nextSibling;else for(;g&&(g=g.parentNode,g!==
c);)if(g.nextSibling){g=g.nextSibling;break}}else g=g===c?w(c):g.previousSibling?w(g.previousSibling):g.parentNode;if(g===b)return b.model;if(1===g.nodeType)if((d=g.model)&&d instanceof n.View){if(d.isFocusable())return d}else if(a=g.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||g.disabled||isNaN(g.tabIndex)||!n.DomElementProxy.isDomElementVisible(g)||(d=v.findModelForDomElement(g),d&&d.searchAncestorsOrSelf(q=>!0===q.maskFocus)))){g.focus();v.focusedDom=
g;break}}};new JS.Singleton("GlobalFocus",{include:[n.Observable],initialize:function(){this.lastTraversalWasForward=!0;n.global.register("focus",v=this)},setFocusedView:h=>{if(v.focusedView!==h){v.prevFocusedView=v.focusedView;if(v.focusedView=h)v.focusedDom=null;v.fireEvent("focused",h)}},notifyFocus:h=>{v.focusedView!==h&&v.setFocusedView(h)},notifyBlur:h=>{v.focusedView===h&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:h=>{(h=r(!0,h))&&h.focus()},prev:h=>{(h=r(!1,h))&&h.focus()},findModelForDomElement:h=>{for(;h;){let a=h.model;if(a&&a instanceof n.View)return a;h=h.parentNode}}})})(myt);
(n=>{const v=JS.Module,w=n.global,r=w.focus,h=()=>({source:null,type:null,value:null}),a=n.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:h(),getKeyFromEvent:q=>q.value.key,getCodeFromEvent:q=>q.value.code,isEnterKeyEvent:q=>q.value.code===w.keys.CODE_ENTER,isEscKeyEvent:q=>q.value.code===w.keys.CODE_ESC,isShiftKeyEvent:q=>w.keys.isShiftCode(q.value.code)},createDomHandler:function(q,k,m){return this.createStandardDomHandler(q,k,m,a)||this.callSuper(q,
k,m)}}),c=n.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:h(),getMouseFromEvent:q=>({x:q.value.pageX,y:q.value.pageY}),getMouseFromEventRelativeToView:(q,k)=>{k=k.getPagePosition();q=c.getMouseFromEvent(q);q.x-=k.x;q.y-=k.y;return q}},createDomHandler:function(q,k,m){return this.createStandardDomHandler(q,k,m,c,!0)||this.callSuper(q,k,m)}}),b=n.ScrollObservable=new v("ScrollObservable",
{extend:{EVENT_TYPES:{scroll:!0},EVENT:h(),getScrollFromEvent:q=>{q=q.value;q=q.target||q.srcElement;return{x:q.scrollLeft,y:q.scrollTop}}},createDomHandler:function(q,k,m){return this.createStandardDomHandler(q,k,m,b)||this.callSuper(q,k,m)}}),d=n.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:h()},createDomHandler:function(q,k,m){return this.createStandardDomHandler(q,k,m,d,!1)||this.callSuper(q,k,m)}}),g=n.FocusObservable=
new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:h()},initNode:function(q,k){this.focusable=!1;this.focusIndicator=!0;this.callSuper(q,k)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(q){this.focused!==q&&(this.focused=q,this.inited&&(this.fireEvent("focused",q),q?r.notifyFocus(this):r.notifyBlur(this)))},setFocusable:function(q){if(this.focusable!==q){const k=this.focusable;(this.focusable=q)?(this.getIDE().tabIndex=0,this.attachToDom(this,"__doFocus",
"focus"),this.attachToDom(this,"__doBlur","blur")):k&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",q)}},setFocusIndicator:function(q){this.focusIndicator!==q&&(this.focusIndicator=q,this.focused&&(q?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(r.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(q=>!0===q.maskFocus)},focus:function(q){this.isFocusable()&&this.getIDE().focus({preventScroll:q})},blur:function(){this.getIDE().blur()},__doFocus:function(q){this.focused||this.setFocused(!0);this.doFocus()},__doBlur:function(q){this.doBlur();this.focused&&this.setFocused(!1)},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const q=this.getIDS();q.outlineWidth="thin";q.outlineColor="#8bf";q.outlineStyle="solid";q.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(q,k,m){if(g.EVENT_TYPES[m]){const t=this;return p=>{p||(p=window.event);if(t._ignoreFocus)p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation(),
p.preventDefault();else{var x=g.EVENT;x.source=t;x.type=p.type;x.value=p;q[k](x)||(p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation());x.source=void 0}}}return this.callSuper(q,k,m)}}),e=n.InputObservable=new v("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:h()},createDomHandler:function(q,k,m){return this.createStandardDomHandler(q,k,m,e)||this.callSuper(q,k,m)}}),f=n.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,
dragover:!0,drop:!0},EVENT:h()},createDomHandler:function(q,k,m){return this.createStandardDomHandler(q,k,m,f,!0)||this.callSuper(q,k,m)}});n.DomObservable=new v("DomObservable",{attachDomObserver:function(q,k,m,t,p){if(q&&k&&m){t=!!t;const x=this.createDomHandler(q,k,m);if(x){const z=this.__dobsbt||(this.__dobsbt={}),E=z[m];E?E.push(q,k,x,t):z[m]=[q,k,x,t];n.addEventListener(this.getDomElementForDomObservable(m),m,x,t,p);return!0}}return!1},getDomElementForDomObservable:function(q){return this.getIDE()},
createDomHandler:(q,k,m)=>null,createStandardDomHandler:function(q,k,m,t,p){if(t.EVENT_TYPES[m]){const x=this,z=t.EVENT;return E=>{E||(E=window.event);z.source=x;z.type=E.type;z.value=E;q[k](z)||(E.cancelBubble=!0,E.stopPropagation&&E.stopPropagation(),p&&E.preventDefault());z.source=void 0}}},detachDomObserver:function(q,k,m,t){if(q&&k&&m){t=!!t;var p=this.__dobsbt;if(p&&(p=p[m])){const x=this.getDomElementForDomObservable(m);let z=!1,E=p.length;for(;E;)E-=4,q===p[E]&&k===p[E+1]&&t===p[E+3]&&(x&&
n.removeEventListener(x,m,p[E+2],t),p.splice(E,4),z=!0);return z}}return!1},detachAllDomObservers:function(){const q=this.__dobsbt;if(q)for(const k in q){const m=q[k];let t=m.length;for(;t;){const p=m[--t],x=m[--t];t-=2;n.removeEventListener(this.getDomElementForDomObservable(k),k,x,p)}m.length=0}}});n.DomObserver=new v("DomObserver",{attachToDom:function(q,k,m,t,p){if(q&&k&&m){t=!!t;var x=this.__dobt||(this.__dobt={});x=x[m]||(x[m]=[]);q.attachDomObserver(this,k,m,t,p)&&x.push(t,k,q)}},detachFromDom:function(q,
k,m,t){if(q&&k&&m){t=!!t;var p=this.__dobt;if(p&&(p=p[m])){let x=!1,z=p.length;for(;z;)z-=3,q===p[z+2]&&k===p[z+1]&&t===p[z]&&q.detachDomObserver(this,k,m,t)&&(p.splice(z,3),x=!0);return x}}return!1},detachFromAllDomSources:function(){const q=this.__dobt;if(q)for(const k in q){const m=q[k];let t=m.length;for(;t;)m[--t].detachDomObserver(this,m[--t],k,m[--t]);m.length=0}}})})(myt);
(n=>{let v,w={};const r=n.global,h=r.focus,a="Firefox"===BrowserDetect.browser,c=a?"OSLeft":"MetaLeft",b=a?"OSRight":"MetaRight",d=n.KeyObservable.getCodeFromEvent,g=()=>!!w.ShiftLeft||!!w.ShiftRight,e=()=>!!w.ControlLeft||!!w.ControlRight,f=()=>!!w.AltLeft||!!w.AltRight,q=()=>!!w[c]||!!w[b],k=(t,p)=>{switch(t){case "Backspace":return t=p.nodeName,!("TEXTAREA"===t||"INPUT"===t&&("text"===p.type||"number"===p.type||"password"===p.type)||"DIV"===t&&"true"===p.contentEditable&&p.firstChild);case "Tab":return!0}return!1},
m=(t,p)=>{["keydown","keypress","keyup"].forEach(x=>{v[p](t,"__hndl_"+x,x)})};new JS.Singleton("GlobalKeys",{include:[n.DomElementProxy,n.DomObservable,n.DomObserver,n.KeyObservable,n.Observable,n.Observer],initialize:function(){r.register("keys",v=this);v.CODE_ENTER="Enter";v.CODE_ESC="Escape";v.CODE_SPACE="Space";v.CODE_ARROW_LEFT="ArrowLeft";v.CODE_ARROW_UP="ArrowUp";v.CODE_ARROW_RIGHT="ArrowRight";v.CODE_ARROW_DOWN="ArrowDown";v.CODE_DELETE="Delete";v.CODE_BACKSPACE="Backspace";"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(t=>
{v["CODE_"+t]="Key"+t});"1234567890".split("").forEach(t=>{v["CODE_"+t]="Digit"+t});v.ARROW_KEYS=[v.CODE_ARROW_LEFT,v.CODE_ARROW_UP,v.CODE_ARROW_RIGHT,v.CODE_ARROW_DOWN];v.LIST_KEYS=[v.CODE_ENTER,v.CODE_SPACE,v.CODE_ESC].concat(v.ARROW_KEYS);v.setDomElement(document);v.attachTo(h,"__hndl_focused","focused");m(v,"attachToDom");global.onblur=()=>{w={}}},isShiftKeyDown:g,isControlKeyDown:e,isAltKeyDown:f,isMetaKeyDown:q,isShiftCode:t=>"ShiftLeft"===t||"ShiftRight"===t,isControlCode:t=>"ControlLeft"===
t||"ControlRight"===t,isAltCode:t=>"AltLeft"===t||"AltRight"===t,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?q():e(),ignoreFocusTrap:()=>f(),__hndl_focused:t=>{(t=t.value)?(m(v,"detachFromDom"),m(t,"attachToDom")):((t=h.prevFocusedView)&&m(t,"detachFromDom"),m(v,"attachToDom"))},__hndl_keydown:t=>{const p=d(t);t=t.value;k(p,t.target)&&t.preventDefault();q()&&"ShiftLeft"!==p&&"ShiftRight"!==p&&"ControlLeft"!==p&&"ControlRight"!==p&&"AltLeft"!==p&&"AltRight"!==p?(v.fireEvent("keydown",p),v.fireEvent("keyup",
p)):(w[p]=!0,"Tab"===p&&(t=f(),g()?h.prev(t):h.next(t)),v.fireEvent("keydown",p))},__hndl_keypress:t=>{v.fireEvent("keypress",d(t))},__hndl_keyup:t=>{const p=d(t);t=t.value;k(p,t.target)&&t.preventDefault();w[p]=!1;v.fireEvent("keyup",p)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(n=>{const v=JS.Module,w=Math.max,r=(e,f,q,k,m=0)=>{const t=e.length;let p=q;for(;m<t;m++)d(e[m],f,p),k&&(p+=q)},h=(e,f,q,k=0)=>{const m=e.length;let t=f;for(;k<m;)e[k++].crossPos+=t,q&&(t+=f)},a=(e,f)=>f?e.getFlexBasisWidth():e.getFlexBasisHeight(),c=(e,f,q,k)=>{e[f?"setWidthViaFlex":"setHeightViaFlex"]((k?a(e,f):0)+q)},b=(e,f,q)=>{e[f?"setXViaFlex":"setYViaFlex"](q,!1)},d=(e,f,q)=>{e[f?"setXViaFlex":"setYViaFlex"](q,!0)},g=(e,f,q)=>{e[f]!==q&&(e[f]=q,e.inited&&e.fireEvent(f,q),e.updateFlexboxLayout())};
n.FlexboxSupport=new v("FlexboxSupport",{initNode:function(e,f){this.__IS_FLEXBOX_SUPPORT=!0;this.rowGap=this.columnGap=0;null==this.direction&&(this.direction="row");this.wrap="nowrap";this.justifyContent=this.alignContent="start";this.alignItems="stretch";this.callSuper(e,f);this.updateFlexboxLayout()},setWidth:function(e,f){const q=this.width;this.callSuper(e,f);q!==this.width&&this.updateFlexboxLayout()},setHeight:function(e,f){const q=this.height;this.callSuper(e,f);q!==this.height&&this.updateFlexboxLayout()},
setDirection:function(e){g(this,"direction",e)},setWrap:function(e){g(this,"wrap",e)},setJustifyContent:function(e){g(this,"justifyContent",e)},setAlignItems:function(e){g(this,"alignItems",e)},setAlignContent:function(e){g(this,"alignContent",e)},setRowGap:function(e){g(this,"rowGap",w(0,e))},setColumnGap:function(e){g(this,"columnGap",w(0,e))},getWidthForFlexboxLayout:function(){return this.width},getHeightForFlexboxLayout:function(){return this.height},setTotalBasisWidth:function(e){this.set("totalBasisWidth",
e,!0)},setTotalBasisHeight:function(e){this.set("totalBasisHeight",e,!0)},ignoreSubviewForFlex:function(e){return e&&"function"===typeof e.ignoreFlex?e.ignoreFlex():!0},setFlexboxPaused:function(e,f){this.__flexboxPaused!==e&&((this.__flexboxPaused=e)||f||this.updateFlexboxLayout())},isFlexboxPaused:function(){return!!this.__flexboxPaused},subviewAdded:function(e){this.callSuper(e);e&&!this.ignoreSubviewForFlex(e)&&this.updateFlexboxLayout()},subviewRemoved:function(e){this.callSuper(e);!e||this.ignoreSubviewForFlex(e)||
this.isBeingDestroyed||this.updateFlexboxLayout()},doSubviewsReorderedInDom:function(e){this.callSuper(e);e&&this.ignoreSubviewForFlex(e)||this.updateFlexboxLayout()},isOKToUpdateLayout:function(){return this.inited&&!this.__isUpdatingFlexboxLayout&&!this.isFlexboxPaused()},isCompactWidth:()=>!1,isCompactHeight:()=>!1,isCompactOnMainAxis:function(e){return e?this.isCompactWidth():this.isCompactHeight()},isCompactOnCrossAxis:function(e){return e?this.isCompactHeight():this.isCompactWidth()},isWrapNotAllowed:function(){return"nowrap"===
this.wrap},setUpdateAgain:function(e){this._updateAgain=e},isUpdateAgain:function(){return this._updateAgain},updateFlexboxLayout:function(){const e=this;if(e.isOKToUpdateLayout()){var f=e.getSubviewsInLexicalOrder().filter(p=>!0!==e.ignoreSubviewForFlex(p)&&!0===p.visible),q=f.length;if(0<q){e.__isUpdatingFlexboxLayout=!0;var k=e.direction;const p=k.startsWith("row"),x=!p;var m=e.getWidthForFlexboxLayout(),t=e.getHeightForFlexboxLayout();const z=p?e.columnGap:e.rowGap,E=p?m:t,I=p?e.rowGap:e.columnGap;
t=p?t:m;const A=e.isWrapNotAllowed(),B=e.justifyContent,l=e.alignItems;m=A?"stretch":e.alignContent;k.endsWith("Reverse")&&f.reverse();let u=0,y=0,D=0,H=0,J={items:[],shrinkCount:0,shrinkBasis:0,growCount:0,extraSize:0,crossPos:D,crossSize:0};k=[J];for(let K=0;K<q;){const M=f[K++],O=a(M,p),da=M.getShrink(),aa=M.getGrow();!A&&0<J.items.length&&u+(0===H?0:z)+O>E&&(J.extraSize=E-u,D+=J.crossSize+I,y=w(y,u),H=u=0,J={items:[],shrinkCount:0,shrinkBasis:0,growCount:0,extraSize:0,crossPos:D,crossSize:0},
k.push(J));0!==H&&(u+=z);0<da&&0<O&&(J.shrinkCount+=da,J.shrinkBasis+=O*da);0<aa&&(J.growCount+=aa);J.crossSize=w(J.crossSize,a(M,x));b(M,p,u);c(M,p,O);u+=O;J.items.push(M);H++}J.extraSize=E-u;D+=J.crossSize;y=w(y,u);if(e.isCompactOnMainAxis(p)){let K=k.reduce((M,O)=>null==M?O.extraSize:Math.min(M,O.extraSize),null);0!==K&&k.forEach(M=>{M.extraSize-=K})}e[p?"setTotalBasisWidth":"setTotalBasisHeight"](y);e[p?"setTotalBasisHeight":"setTotalBasisWidth"](D);f=k.length;1<f&&"wrapReverse"===e.wrap&&(k.forEach(K=>
{K.crossPos=D-(K.crossPos+K.crossSize)}),k.reverse());if(!e.isCompactOnCrossAxis(p))switch(q=t-D,m){default:case "start":break;case "end":h(k,q,!1);break;case "center":h(k,q/2,!1);break;case "spaceBetween":1<f&&h(k,q/(f-1),!0,1);break;case "spaceAround":q<=I?h(k,q/2,!1):(h(k,I/2,!1),q-=I,h(k,q/(2*f),!0),h(k,q/(2*f),!0,1));break;case "spaceEvenly":q<=2*I?h(k,q/2,!1):(h(k,I,!1),h(k,(q-2*I)/(f+1),!0));break;case "stretch":const K=q/f;let M=0;k.forEach(O=>{O.crossSize+=K;O.crossPos+=M;M+=K})}k.forEach(K=>
{const M=K.items;let O=K.extraSize;if(0<O)if(0<K.growCount){const Q=O/K.growCount;let S=0;M.forEach(ba=>{0<S&&d(ba,p,S);const V=ba.getGrow()*Q;0<V&&(c(ba,p,V,!0),S+=V)})}else{const Q=M.length;switch(B){default:case "start":break;case "end":r(M,p,O,!1);break;case "center":r(M,p,O/2,!1);break;case "spaceBetween":1<Q&&r(M,p,O/(Q-1),!0,1);break;case "spaceAround":O<=z?r(M,p,O/2,!1):(r(M,p,z/2,!1),O-=z,r(M,p,O/(2*Q),!0),r(M,p,O/(2*Q),!0,1));break;case "spaceEvenly":O<=2*z?r(M,p,O/2,!1):(r(M,p,z,!1),O-=
2*z,r(M,p,O/(Q+1),!0))}}else if(0>O&&0<K.shrinkCount){const Q=K.shrinkBasis;let S=0;M.forEach(ba=>{0>S&&d(ba,p,S);const V=ba.getShrink()*a(ba,p)/Q*w(O,-Q);0>V&&(c(ba,p,V,!0),S+=V)})}let da=!1;const aa=K.crossSize,W=K.crossPos;M.forEach(Q=>{switch(Q.getAlignSelf()||l){case "start":b(Q,x,W);c(Q,x,a(Q,x),!1);break;case "end":b(Q,x,W+aa-a(Q,x));c(Q,x,a(Q,x),!1);break;case "center":b(Q,x,W+(aa-a(Q,x))/2);c(Q,x,a(Q,x),!1);break;case "baseline":da=!0;b(Q,x,W+(aa-a(Q,x))/2+Q.getFlexBaselineOffset(p));c(Q,
x,a(Q,x),!1);break;default:b(Q,x,W),c(Q,x,aa,!1)}});da&&e.updateFlexboxLayoutBaselineAdjustment(M,p,W)});e.__isUpdatingFlexboxLayout=!1;e.isUpdateAgain()&&!e.__UPDATE_AGAIN_LOOP_PROTECTION&&(e.setUpdateAgain(!1),e.__UPDATE_AGAIN_LOOP_PROTECTION=!0,e.updateFlexboxLayout(),e.__UPDATE_AGAIN_LOOP_PROTECTION=!1)}else e.setTotalBasisWidth(0),e.setTotalBasisHeight(0)}},updateFlexboxLayoutBaselineAdjustment:(e,f,q)=>{}});n.FlexboxChildSupport=new v("FlexboxChildSupport",{setVisible:function(e){this.visible!==
e&&(this.callSuper(e),this.updateFlexboxLayoutFromChild())},setXViaFlex(e,f){f&&(e+=this.x);this.x!==e&&(this.__isFlexUpdate=!0,this.setX(e),this.__isFlexUpdate=!1)},setYViaFlex(e,f){f&&(e+=this.y);this.y!==e&&(this.__isFlexUpdate=!0,this.setY(e),this.__isFlexUpdate=!1)},setWidth:function(e,f){const q=this.width!==e;q&&!this.__isFlexUpdate&&(this.__basisWidth=null);this.callSuper(e,f);q&&this.updateFlexboxLayoutFromChild()},setWidthViaFlex(e,f){this.width!==e&&(null==this.__basisWidth&&(this.__basisWidth=
this.width),this.__isFlexUpdate=!0,this.setWidth(e,f),this.__isFlexUpdate=!1)},getFlexBasisWidth:function(){return null==this.__basisWidth?this.width:this.__basisWidth},setHeight:function(e,f){const q=this.height!==e;q&&!this.__isFlexUpdate&&(this.__basisHeight=null);this.callSuper(e,f);q&&this.updateFlexboxLayoutFromChild()},setHeightViaFlex(e,f){this.height!==e&&(null==this.__basisHeight&&(this.__basisHeight=this.height),this.__isFlexUpdate=!0,this.setHeight(e,f),this.__isFlexUpdate=!1)},getFlexBasisHeight:function(){return null==
this.__basisHeight?this.height:this.__basisHeight},getFlexBaselineOffset:e=>0,setIgnoreFlex:function(e){this.__ignoreFlex!==e&&(this.__ignoreFlex=e,this.inited&&(this.fireEvent("ignoreFlex",e),this.isChildOfFlexbox()&&this.parent.updateFlexboxLayout()))},ignoreFlex:function(){return this.__ignoreFlex},setGrow:function(e){e=w(0,e);this.grow!==e&&(this.grow=e,this.inited&&(this.fireEvent("grow",e),this.updateFlexboxLayoutFromChild()))},getGrow:function(){return this.grow},setShrink:function(e){e=w(0,
e);this.shrink!==e&&(this.shrink=e,this.inited&&(this.fireEvent("shrink",e),this.updateFlexboxLayoutFromChild()))},getShrink:function(){return this.shrink},setAlignSelf:function(e){this.alignSelf!==e&&(this.alignSelf=e,this.inited&&(this.fireEvent("alignSelf",e),this.updateFlexboxLayoutFromChild()))},getAlignSelf:function(){const e=this.alignSelf;return"auto"===e||""===e?null:e},isChildOfFlexbox:function(){return!(!this.parent||!this.parent.__IS_FLEXBOX_SUPPORT)},isFlexUpdateInProgress:function(){return this.__isFlexUpdate},
updateFlexboxLayoutFromChild:function(){this.inited&&!this.ignoreFlex()&&this.isChildOfFlexbox()&&(this.isFlexUpdateInProgress()?this.parent.setUpdateAgain(!0):this.parent.updateFlexboxLayout())}})})(myt);
(n=>{const v=Array.prototype,w={},r={},h=(d,g)=>g+d.substring(0,1).toUpperCase()+d.substring(1),a=d=>r[d]||(r[d]=h(d,"set")),c=d=>w[d]||(w[d]=h(d,"get")),b=(d,g,e)=>{null==d[g]&&(d[g]=e)};n.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:a,generateGetterName:c,generateName:h,createSetterFunction:(d,g)=>{const e=a(g);d[e]&&console.log("Overwriting setter",e);d[e]=function(f){this[g]!==f&&(this[g]=f,this.inited&&this.fireEvent(g,f))}},createGetterFunction:(d,g)=>{const e=
c(g);d[e]&&console.log("Overwriting getter",e);d[e]=function(){return this[g]}},defAttr:b},appendToEarlyAttrs:function(){v.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){v.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){v.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){v.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:b,quickSet:function(d,g){(d||
[]).forEach(e=>{this[e]=g[e];delete g[e]})},callSetters:function(d){var g=this.earlyAttrs;const e=this.lateAttrs;let f;var q;if(g||e){var k={};for(q in d)k[q]=d[q];d=k;if(g)for(k=0,q=g.length;q>k;){const m=g[k++];m in d&&(this.set(m,d[m]),delete d[m])}if(e)for(f=[],k=0,q=e.length;q>k;)g=e[k++],g in d&&(f.push(g,d[g]),delete d[g])}for(const m in d)this.set(m,d[m]);if(f)for(k=0,q=f.length;q>k;)this.set(f[k++],f[k++])},get:function(d){const g=c(d);return this[g]?this[g]():this[d]},set:function(d,g,e){if(!e&&
(e=a(d),this[e]))return this[e](g);this[d]!==g&&(this[d]=g,!1!==this.inited&&this.fireEvent&&this.fireEvent(d,g))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let n,v;const w=this.__meta__;if(w)for(n=Object.keys(w),v=n.length;v;)delete w[n[--v]];n=Object.keys(this);for(v=n.length;v;)delete this[n[--v]];this.destroyed=!0}}});
(n=>{const v=JS.Class,w=JS.Module,r=new v("AbstractPool",{include:[n.Destructible],initialize:()=>{},destroy:function(){const b=this.__op;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.__op||(this.__op=[]);return b.length?b.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(b){(this.__op||(this.__op=[])).push(this.cleanInstance(b))},cleanInstance:b=>{"function"===typeof b.clean&&b.clean();return b},destroyPooledInstances:function(){var b=
this.__op;if(b){let d=b.length;for(;d;){const g=b[--d];"function"===typeof g.destroy&&g.destroy()}}}}),h=n.SimplePool=new v("SimplePool",r,{initialize:function(b,d){this.callSuper();this.instanceClass=b||Object;this.instanceParent=d},createInstance:function(b){var d=this.instanceParent,g=this.instanceClass;return d?new g(d,b):new g}}),a=new w("TrackActives",{destroy:function(){const b=this.__actives;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.callSuper();(this.__actives||
(this.__actives=[])).push(b);return b},putInstance:function(b){var d=this.__actives;if(d){const g=d.indexOf(b);if(-1<g){d.splice(g,1);this.callSuper(b);return}d="inactive"}else d="missing";console.warn("Tried to put a "+d+" instance",b,this)},getActives:function(b){const d=this.__actives;if(d){if(b){const g=[],e=d.length;for(let f=0;e>f;){const q=d[f++];b.call(this,q)&&g.push(q)}return g}return d.slice()}return[]},putActives:function(){const b=this.__actives;if(b){let d=b.length;for(;d;)this.putInstance(b[--d])}}}),
c=n.TrackActivesPool=new v("TrackActivesPool",h,{include:[a]});n.TrackActivesMultiPool=new v("TrackActivesMultiPool",r,{initialize:function(b,d){this.callSuper();this.instanceClassesByKey=b;const g=this._poolsByClassName={},e=this.__pbk={};for(const f in b){const q=b[f];e[f]=g[q.__displayName]=new c(q,d)}},destroy:function(){const b=this.__pbk;for(const d in b)b[d].destroy();this.callSuper()},getInstance:function(){const b=arguments[0],d=this.__pbk[b];if(d)return d.getInstance(arguments);console.warn("No pool for key",
b)},putInstance:function(b){const d=this._poolsByClassName[b.klass.__displayName];d?d.putInstance(b):console.warn("No pool for obj",b)},destroyPooledInstances:function(){const b=this.__pbk;for(const d in b)b[d].destroyPooledInstances()},getActives:function(b){let d=[];const g=this.__pbk;for(const e in g)d=d.concat(g[e].getActives(b));return d},putActives:function(){const b=this.__pbk;for(const d in b)b[d].putActives()}});n.Reusable=new w("Reusable",{clean:()=>{}})})(myt);
(n=>{const v=(a,c)=>{if(c)for(;a;){if(c(a))return a;a=a.parent}},w=(a,c)=>{const b=c.name;void 0===a[b]?a[b]=c:console.warn("Name in use",b)},r=(a,c)=>{const b=c.name;a[b]===c?delete a[b]:console.warn("Name not in use",b)},h=a=>a.__animPool||(a.__animPool=new n.TrackActivesPool(n.Animator,a));n.Node=new JS.Class("Node",{include:[n.AccessorSupport,n.Destructible,n.Observable,n.Observer],extend:{getMatchingAncestorOrSelf:v,getMatchingAncestor:(a,c)=>v(a?a.parent:null,c)},initialize:function(a,c,b){if(b){const d=
b.length;for(let g=0,e;d>g;)(e=b[g++])?this.extend(e):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.initNode(a,c||{})},initNode:function(a,c){this.callSetters(c);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let c=a.length;for(;c;)a[--c].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();
this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var c=this.placement||a.defaultPlacement;c&&(a=a.determinePlacement(c,this))}if(!(this.parent===a||a&&a.destroyed)){if(c=this.parent){let b=c.getSubnodeIndex(this);-1<b&&(this.name&&r(c,this),c.subnodes.splice(b,
1),c.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&w(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const c=this.parent;c&&this.name&&r(c,this);this.name=a;c&&a&&w(c,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,c){let b=a.indexOf("."),d;0<=b&&(d=a.substring(b+1),a=a.substring(0,b));"*"===a&&(a=this.defaultPlacement)&&(b=a.indexOf("."),0<=b&&(d=a.substring(b+
1)+(d?"."+d:""),a=a.substring(0,b)));return(a=this[a])?d?a.determinePlacement(d,c):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;
a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(c=>c instanceof a)},searchAncestorsForModule:function(a){if(a)return this.searchAncestors(c=>c.isA(a))},searchAncestors:function(a){return v(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return v(this,a)},getAncestors:function(){const a=[];let c=this;for(;c;)a.push(c),c=c.parent;return a},hasSubnode:function(a){return 0<=this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},
addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent===this)return a.setParent(),a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,c,b,d,g){return"object"===typeof a?this.animate(a):this.animate({attribute:a,to:c,from:b,duration:d,easingFunction:g})},animate:function(a){if(a){const c=h(this),b=c.getInstance({ignorePlacement:!0}),d=a.callback;delete a.callback;b.callSetters(a);b.next(g=>{c.putInstance(b)});d&&b.next(d);b.setRunning(!0);return b}},getActiveAnimators:function(a){if("string"===
typeof a){const c=a;a=b=>b.attribute===c}return h(this).getActives(a)},stopActiveAnimators:function(a,c=!1){a=this.getActiveAnimators(a);let b=a.length;if(0<b){const d=h(this);for(;b;){const g=a[--b];g.reset(c);c||d.putInstance(g)}}},doOnceOnIdle:function(a){this.attachTo(n.global.idle,a,"idle",!0)}})})(myt);
(n=>{let v=0,w=!1;const r=JS.Class,h=[],a=f=>{if(w!==f&&(w=f,!f)){for(f=h.length;f;){const q=h[--f];q.__deferredLayout=!1;q.update()}h.length=0}},c=(f,q,k,m)=>{const t=f.getSubviewIndex(q),p=f.subviews;-1<t&&(f=f.getSubviewIndex(k),p.splice(t,1),-1<f?(t<f&&--f,p.splice(f+(m?1:0),0,q)):m?p.push(q):p.unshift(q))},b=(f,q,k)=>{f[q]!==k&&(f[q]=k,f.inited&&(f.fireEvent(q,k),f.update()))},d=n.Layout=new r("Layout",n.Node,{extend:{incrementGlobalLock:()=>{1===++v&&a(!0)},decrementGlobalLock:()=>{0<v&&0===
--v&&a(!1)}},initNode:function(f,q){this.subviews=[];this.locked=!0;this.lockedCounter=1;const k=!0===q.locked;delete q.locked;this.callSuper(f,q);k||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(f){var q=this.parent;if(q!==f){const k=!this.locked;k&&(this.locked=!0);let m,t;if(q){m=this.subviews;for(t=m.length;t;)this.removeSubview(m[--t]);this.detachFrom(q,"__hndlPSA","subviewAdded");this.detachFrom(q,"__hndlPSR","subviewRemoved")}this.callSuper(f);
if(f=this.parent){m=f.getSubviews();t=0;for(q=m.length;q>t;)this.addSubview(m[t++]);this.attachTo(f,"__hndlPSA","subviewAdded");this.attachTo(f,"__hndlPSR","subviewRemoved")}k&&(this.locked=!1,this.inited&&f&&this.update())}},canUpdate:function(){return w?(this.__deferredLayout||(h.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(f){return 0<=this.getSubviewIndex(f)},getSubviewIndex:function(f){return this.subviews.indexOf(f)},addSubview:function(f){this.ignore(f)||
(this.subviews.push(f),this.startMonitoringSubview(f),this.locked||this.update())},startMonitoringSubview:f=>{},startMonitoringAllSubviews:function(){const f=this.subviews;let q=f.length;for(;q;)this.startMonitoringSubview(f[--q])},removeSubview:function(f){if(this.ignore(f))return-1;const q=this.getSubviewIndex(f);-1<q&&(this.stopMonitoringSubview(f),this.subviews.splice(q,1),this.locked||this.update());return q},stopMonitoringSubview:f=>{},stopMonitoringAllSubviews:function(){const f=this.subviews;
let q=f.length;for(;q;)this.stopMonitoringSubview(f[--q])},ignore:f=>f.ignoreLayout,__hndlPSA:function(f){f=f.value;f.parent===this.parent&&this.addSubview(f)},__hndlPSR:function(f){f=f.value;f.parent===this.parent&&this.removeSubview(f)},sortSubviews:function(f){this.subviews.sort(f)},moveSubviewBefore:function(f,q){c(this,f,q,!1)},moveSubviewAfter:function(f,q){c(this,f,q,!0)}});var g=n.ConstantLayout=new r("ConstantLayout",d,{setTargetAttrName:function(f){this.setterName=n.AccessorSupport.generateSetterName(f);
b(this,"targetAttrName",f)},setTargetValue:function(f){b(this,"targetValue",f)},update:function(){if(this.canUpdate()){const f=this.setterName,q=this.targetValue,k=this.subviews,m=k.length;if(f)for(let t=0;m>t;)k[t++][f](q)}}});g=n.VariableLayout=new r("VariableLayout",g,{initNode:function(f,q){this.collapseParent=this.reverse=!1;this.callSuper(f,q)},setCollapseParent:function(f){b(this,"collapseParent",f)},setReverse:function(f){b(this,"reverse",f)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const q=this.setterName,k=this.subviews;var f=k.length;let m=this.targetValue,t,p=0;if(this.reverse)for(t=f;t;)f=k[--t],this.skipSubview(f)||(m=this.updateSubview(++p,f,q,m));else for(t=0;f>t;){const x=k[t++];this.skipSubview(x)||(m=this.updateSubview(++p,x,q,m))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(q,m);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(f){this.attachTo(f,
"update","visible")},stopMonitoringSubview:function(f){this.detachFrom(f,"update","visible")},updateSubview:(f,q,k,m)=>{q[k](m);return m},skipSubview:f=>!f.visible,updateParent:(f,q)=>{}});const e=n.SpacedLayout=new r("SpacedLayout",g,{initNode:function(f,q){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(f,q)},setTargetAttrName:function(f){if(this.targetAttrName!==
f){const q="y"===f,k=this.inited;k&&this.stopMonitoringAllSubviews();this.measureAttrName=q?"boundsHeight":"boundsWidth";this.measureAttrBaseName=q?"height":"width";this.parentSetterName=q?"setHeight":"setWidth";k&&this.startMonitoringAllSubviews();this.callSuper(f)}},setNoAddSubviewOptimization:function(f){this.noAddSubviewOptimization=f},setAxis:function(f){this.setTargetAttrName(this.axis=f)},setInset:function(f){this.setTargetValue(this.inset=f)},setSpacing:function(f){b(this,"spacing",f)},setOutset:function(f){b(this,
"outset",f)},addSubview:function(f){const q=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(f);this.locked=q},startMonitoringSubview:function(f){this.attachTo(f,"update",this.measureAttrName);this.callSuper(f)},stopMonitoringSubview:function(f){this.detachFrom(f,"update",this.measureAttrName);this.callSuper(f)},updateSubview:function(f,q,k,m){f=q[this.measureAttrName];q[k](m+(f-q[this.measureAttrBaseName])/2);return m+f+this.spacing},updateParent:function(f,q){this.parent[this.parentSetterName](q+
this.outset-this.spacing)}});n.ResizeLayout=new r("ResizeLayout",e,{setCollapseParent:f=>{},setTargetAttrName:function(f){if(this.targetAttrName!==f){if(this.inited){const q="x"===f;this.stopMonitoringParent(q?"height":"width");this.startMonitoringParent(q?"width":"height")}this.callSuper(f)}},setParent:function(f){if(this.parent!==f){const q="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(q);this.callSuper(f);this.parent&&this.startMonitoringParent(q)}},startMonitoringParent:function(f){this.attachTo(this.parent,
"update",f)},stopMonitoringParent:function(f){this.detachFrom(this.parent,"update",f)},doBeforeUpdate:function(){const f=this.measureAttrName,q=this.subviews;let k=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,m=q.length,t=0,p=0;for(;m;){const x=q[--m];this.skipSubview(x)||(++t,0<x.layoutHint?p+=x.layoutHint:k-=x[f])}0!==t&&(this.remainder=k-=(t-1)*this.spacing,this.resizeSum=p,this.scalingFactor=k/p,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===f?
"setWidth":"setHeight")},updateSubview:function(f,q,k,m){var t=q.layoutHint;0<t&&(this.resizeSumUsed+=t,t=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(t*this.scalingFactor),this.remainderUsed+=t,q[this.measureSetter](t));return this.callSuper(f,q,k,m)},startMonitoringSubview:function(f){0<f.layoutHint||this.attachTo(f,"update",this.measureAttrName);this.attachTo(f,"update","visible")},stopMonitoringSubview:function(f){0<f.layoutHint||this.detachFrom(f,"update",
this.measureAttrName);this.detachFrom(f,"update","visible")},updateParent:(f,q)=>{}});n.AlignedLayout=new r("AlignedLayout",g,{initNode:function(f,q){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(f,q)},setTargetAttrName:function(f){if(this.targetAttrName!==f){const q="y"===f,k=this.inited;k&&this.stopMonitoringAllSubviews();this.measureAttrName=
q?"boundsHeight":"boundsWidth";this.measureAttrBaseName=q?"height":"width";this.parentSetterName=q?"setHeight":"setWidth";k&&this.startMonitoringAllSubviews();this.callSuper(f)}},setAlign:function(f){if(this.align!==f){this.align=f;const q=this.locked;this.locked=!0;this.setTargetAttrName("middle"===f||"bottom"===f||"top"===f?"y":"x");this.locked=q;this.inited&&(this.fireEvent("align",f),this.update())}},startMonitoringSubview:function(f){this.attachTo(f,"update",this.measureAttrName);this.callSuper(f)},
stopMonitoringSubview:function(f){this.detachFrom(f,"update",this.measureAttrName);this.callSuper(f)},doBeforeUpdate:function(){const f=this.measureAttrName,q=this.subviews;let k=0,m,t=q.length;for(;t;)m=q[--t],this.skipSubview(m)||(k=k>m[f]?k:m[f]);this.setTargetValue(k)},updateSubview:function(f,q,k,m){switch(this.align){case "center":case "middle":q[k]((m-q[this.measureAttrName])/2);break;case "right":case "bottom":q[k](m-q[this.measureAttrName]);break;default:q[k](0)}return m},updateParent:function(f,
q){this.parent[this.parentSetterName](q)}});n.WrappingLayout=new r("WrappingLayout",g,{initNode:function(f,q){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(f,q)},
setTargetAttrName:function(f){if(this.targetAttrName!==f){const q="y"===f,k=this.inited;k&&this.stopMonitoringAllSubviews();this.measureAttrName=q?"boundsHeight":"boundsWidth";const m=this.measureAttrBaseName=q?"height":"width";this.otherMeasureAttrName=q?"boundsWidth":"boundsHeight";const t=this.otherMeasureAttrBaseName=q?"width":"height";this.parentSetterName=q?"setWidth":"setHeight";this.otherSetterName=q?"setX":"setY";k&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(t),this.startMonitoringParent(m));
this.callSuper(f)}},setParent:function(f){if(this.parent!==f){const q="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(q?"height":"width");this.callSuper(f);this.parent&&this.startMonitoringParent(q?"height":"width")}},setAxis:function(f){this.setTargetAttrName(this.axis=f)},setInset:function(f){this.setTargetValue(this.inset=f)},setSpacing:function(f){b(this,"spacing",f)},setOutset:function(f){b(this,"outset",f)},setLineSpacing:function(f){b(this,"lineSpacing",f)},setLineInset:function(f){b(this,
"lineInset",f)},setLineOutset:function(f){b(this,"lineOutset",f)},startMonitoringParent:function(f){this.attachTo(this.parent,"update",f)},stopMonitoringParent:function(f){this.detachFrom(this.parent,"update",f)},startMonitoringSubview:function(f){this.attachTo(f,"update",this.measureAttrName);this.attachTo(f,"update",this.otherMeasureAttrName);this.callSuper(f)},stopMonitoringSubview:function(f){this.detachFrom(f,"update",this.measureAttrName);this.detachFrom(f,"update",this.otherMeasureAttrName);
this.callSuper(f)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(f,q,k,m){f=q[this.measureAttrName];const t=q[this.otherMeasureAttrName];m+f>this.parentSizeLessOutset||"break"===q.layoutHint?(m=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=t,++this.lineCount):t>this.lineSize&&(this.lineSize=t);q[this.otherSetterName](this.linePos+
(t-q[this.otherMeasureAttrBaseName])/2);q[k](m+(f-q[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,m+f+this.outset);return m+f+this.spacing},updateParent:function(f,q){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});n.createFixedThresholdCounter(d,1,"locked")})(myt);
(n=>{const v=Math.round,w=n.DomElementProxy,r=n.Geometry.rectContainsPoint,h=(k,m)=>{const t=n.global.focus.focusedView,p=k.getIDE();if(t===k||t&&t.isDescendantOf(k))t._ignoreFocus=!0;k=p.scrollTop;const x=p.scrollLeft;m.call();t&&(t._ignoreFocus=!1,t.focus(!0));p.scrollTop=k;p.scrollLeft=x},a=(k,m,t,p)=>{if(m&&"object"===typeof m){if(p&&(p=k.getLeastCommonAncestor(m))){var x=p.getIDE();p=w.getZIndexRelativeToAncestor(k.getODE(),x);x=w.getZIndexRelativeToAncestor(m.getODE(),x);t&&(p*=-1,x*=-1);if(p<
x)return!0;if(x<p)return!1}k=k.getODE().compareDocumentPosition(m.getODE());return t?2===k||10===k:4===k||20===k}return!1},c=k=>{k=k.getAncestors();let m=k.length,t=1,p=1;for(;m;){const x=k[--m];t*=x.scaleX||1;p*=x.scaleY||1;x.__effectiveScaleX=t;x.__effectiveScaleY=p}return{scaleX:t,scaleY:p}},b=(k,m,t)=>{const p=k.getODE();if(r(m,t,0,0,p.offsetWidth*k.__effectiveScaleX,p.offsetHeight*k.__effectiveScaleY)){if(k=k.parent){const x=k.getIDE();return b(k,m+(p.offsetLeft-x.scrollLeft)*k.__effectiveScaleX,
t+(p.offsetTop-x.scrollTop)*k.__effectiveScaleY)}return!0}return!1},d=k=>{switch(k.align){case "center":k.releaseConstraint("__doAlignCenter");break;case "right":k.releaseConstraint("__doAlignRight")}},g=k=>{const m=k.parent;if(m)switch(k.align){case "center":k.constrain("__doAlignCenter",[k,"width",k,"alignOffset",m,"width"]);break;case "right":k.constrain("__doAlignRight",[k,"width",k,"alignOffset",m,"width"]);break;case "left":k.setX(k.alignOffset||0)}},e=k=>{switch(k.valign){case "middle":k.releaseConstraint("__doValignMiddle");
break;case "bottom":k.releaseConstraint("__doValignBottom")}},f=k=>{const m=k.parent;if(m)switch(k.valign){case "middle":k.constrain("__doValignMiddle",[k,"height",k,"valignOffset",m,"height"]);break;case "bottom":k.constrain("__doValignBottom",[k,"height",k,"valignOffset",m,"height"]);break;case "top":k.setY(k.valignOffset||0)}},q=(k,m,t)=>{k.getODS()["border"+t+"Radius"]=m+"px"};n.View=new JS.Class("View",n.Node,{include:[w,n.DomObservable,n.DomObserver,n.ScrollObservable,n.FocusObservable,n.KeyObservable,
n.MouseObservable],extend:{retainFocusDuringDomUpdate:h},initNode:function(k,m){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=m.tagName;delete m.tagName;this.setDomElement(this.createOurDomElement(k));const t=this.getODS();t.left=t.top="0px";this.callSuper(k,m);this.__updateBounds(this.width,this.height);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(k){k=document.createElement(this.tagName||"div");k.style.position="absolute";
const m=this.klass;k.className=m.__cssClassName||(m.__cssClassName="myt-"+m.__displayName.split(".").join("-"));return k},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(k){this.parent!==k&&(this.inited&&(d(this),e(this)),this.callSuper(k),this.align&&g(this),this.valign&&f(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSubviewsInLexicalOrder:function(){const k=
[],m=this.getIDE().children,t=m.length;for(let p=0;p<t;){const x=m[p++].model;x&&x.parent===this&&k.push(x)}return k},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(k=>k!==this)},setFocusTrap:function(k){this.focusTrap=k},setFocusCage:function(k){this.focusCage=k},setMaskFocus:function(k){this.maskFocus=k},setLayoutHint:function(k){this.layoutHint=k},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(k){if(this.ignoreLayout!==
k){var m=this.inited&&this.parent;let t;if(k){if(m)for(m=this.parent.getLayouts(),t=m.length;t;)m[--t].removeSubview(this);this.ignoreLayout=k}else if(this.ignoreLayout=k,m)for(m=this.parent.getLayouts(),t=m.length;t;)m[--t].addSubview(this)}},setDomClass:function(k){this.domClass!==k&&(this.callSuper(k),this.inited&&this.fireEvent("domClass",k))},setDomId:function(k){this.domId!==k&&(this.callSuper(k),this.inited&&this.fireEvent("domId",k))},setAlignOffset:function(k){this.alignOffset!==k&&(this.alignOffset=
k,this.inited&&this.fireEvent("alignOffset",k),this.parent&&"left"===this.align&&this.setX(k))},setAlign:function(k){this.align!==k&&(this.inited&&d(this),this.align=k,this.inited&&(this.fireEvent("align",k),g(this)))},__doAlignCenter:function(k){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(k){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(k){this.valignOffset!==k&&(this.valignOffset=k,this.inited&&this.fireEvent("valignOffset",
k),this.parent&&"top"===this.valign&&this.setY(k))},setValign:function(k){this.valign!==k&&(this.inited&&e(this),this.valign=k,this.inited&&(this.fireEvent("valign",k),f(this)))},__doValignMiddle:function(k){this.setY(v((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(k){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(k){this.x!==k&&(this.x=k,this.visible&&(this.getODS().left=k+"px"),this.inited&&this.fireEvent("x",k))},setY:function(k){this.y!==
k&&(this.y=k,this.visible&&(this.getODS().top=k+"px"),this.inited&&this.fireEvent("y",k))},setWidth:function(k,m){0>k&&(k=0);this.width!==k&&(this.width=k,this.getODS().width=k+"px",this.inited&&(this.__updateBounds(k,this.height),m||this.fireEvent("width",k)))},setHeight:function(k,m){0>k&&(k=0);this.height!==k&&(this.height=k,this.getODS().height=k+"px",this.inited&&(this.__updateBounds(this.width,k),m||this.fireEvent("height",k)))},setDomMinWidth:function(k,m){(m?this.getIDS():this.getODS()).minWidth=
null!=k?k+"px":null},getDomMinWidth:function(k){k=(k?this.getIDS():this.getODS()).minWidth;return null!=k?Number.parseInt(k):null},setDomMinHeight:function(k,m){(m?this.getIDS():this.getODS()).minHeight=null!=k?k+"px":null},getDomMinHeight:function(k){k=(k?this.getIDS():this.getODS()).minHeight;return null!=k?Number.parseInt(k):null},setTextColor:function(k){this.textColor!==k&&(this.textColor=k,this.getODS().color=k||"inherit",this.inited&&this.fireEvent("textColor",k))},setBgColor:function(k){this.bgColor!==
k&&(this.getODS().backgroundColor=this.bgColor=k,this.inited&&this.fireEvent("bgColor",k))},isColorAttr:k=>"bgColor"===k||"textColor"===k,setOpacity:function(k){this.opacity!==k&&(this.getODS().opacity=this.opacity=k,this.inited&&this.fireEvent("opacity",k))},setOverflow:function(k){const m=this.overflow;if(m!==k){this.overflow=k;const t=this.getIDS();if("autox"===k)t.overflowX="auto",t.overflowY="hidden";else if("autoy"===k)t.overflowY="auto",t.overflowX="hidden";else{if("autox"===m||"autoy"===m)t.overflowX=
t.overflowY=null;t.overflow=k||"visible"}this.inited&&this.fireEvent("overflow",k)}},setVisible:function(k){if(this.visible!==k){this.visible=k;const m=this.getODS();m.visibility=k?"inherit":"hidden";m.left=k?this.x+"px":"-100000px";m.top=k?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",k)}},setPointerEvents:function(k){this.pointerEvents!==k&&(this.pointerEvents=k,this.getODS().pointerEvents=k||"auto",this.inited&&this.fireEvent("pointerEvents",k))},setCursor:function(k){this.cursor!==
k&&(this.cursor=k,this.getODS().cursor=k||"auto",this.inited&&this.fireEvent("cursor",k))},__updateBounds:function(k,m){this.boundsWidth!==k&&this.fireEvent("boundsWidth",this.boundsWidth=k);this.boundsHeight!==m&&this.fireEvent("boundsHeight",this.boundsHeight=m)},setOutline:function(k){k=k||[];this.setOutlineWidth(k[0]);this.setOutlineStyle(k[1]);this.setOutlineColor(k[2])},setOutlineWidth:function(k){this.outlineWidth=k||0;this.getODS().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(k){this.getODS().outlineStyle=
this.outlineStyle=k||"none"},setOutlineColor:function(k){this.getODS().outlineColor=this.outlineColor=k||"#000"},setBorder:function(k){k=k||[];this.setBorderWidth(k[0]);this.setBorderStyle(k[1]);this.setBorderColor(k[2])},setBorderWidth:function(k){this.borderWidth=k||0;this.getODS().borderWidth=this.borderWidth+"px"},setBorderStyle:function(k){this.getODS().borderStyle=this.borderStyle=k||"none"},setBorderColor:function(k){this.getODS().borderColor=this.borderColor=k||"#000"},setRoundedCorners:function(k){this.getODS().borderRadius=
k+"px"},setRoundedTopLeftCorner:function(k){q(this,k,"TopLeft")},setRoundedTopRightCorner:function(k){q(this,k,"TopRight")},setRoundedBottomLeftCorner:function(k){q(this,k,"BottomLeft")},setRoundedBottomRightCorner:function(k){q(this,k,"BottomRight")},setBoxShadow:function(k){this.getODS().boxShadow=k?(k[0]||0)+"px "+(k[1]||0)+"px "+(k[2]||7)+"px "+(k[3]||"#000"):"none"},setGradient:function(k){const m=this.getODS();if(k){let p=k[0];"linear"===p||"radial"===p?k.shift():p="linear";let x=k[0];if("radial"===
p){void 0===x?x="closest-side":k.shift();var t=k[0];if(void 0===t)t="circle";else{switch(t){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",t),t="circle"}k.shift()}let z=k[0];void 0===z?z="center":(z=z.replaceAll("middle","center"),k.shift());x=t+" "+x+" at "+z}else"number"===typeof x?(x+="deg",k.shift()):x?(x="to "+x,k.shift()):x="0deg";t=z=>{k.push(z&&"inherit"!==z?z:"transparent")};2>k.length&&t(this.textColor);2>k.length&&t(this.bgColor);m.background=
p+"-gradient("+x+","+k.join(",")+")"}else m.background="none";this.bgColor=void 0},setTooltip:function(k){this.tooltip!==k&&(this.tooltip=this.getODE().title=k,this.inited&&this.fireEvent("tooltip",k))},isVisible:function(){return null==this.searchAncestorsOrSelf(k=>!k.visible)},getFocusTrap:function(k){return this.searchAncestorsOrSelf(m=>m.focusCage||m.focusTrap&&!k)},subnodeAdded:function(k){k instanceof n.View?(this.getIDE().appendChild(k.getODE()),this.getSubviews().push(k),this.fireEvent("subviewAdded",
k),this.subviewAdded(k)):k instanceof n.Layout&&(this.getLayouts().push(k),this.fireEvent("layoutAdded",k),this.layoutAdded(k))},subnodeRemoved:function(k){let m;k instanceof n.View?(m=this.getSubviewIndex(k),-1<m&&(this.fireEvent("subviewRemoved",k),k.removeDomElement(),this.subviews.splice(m,1),this.subviewRemoved(k))):k instanceof n.Layout&&(m=this.getLayoutIndex(k),-1<m&&(this.fireEvent("layoutRemoved",k),this.layouts.splice(m,1),this.layoutRemoved(k)))},hasSubview:function(k){return 0<=this.getSubviewIndex(k)},
getSubviewIndex:function(k){return this.getSubviews().indexOf(k)},subviewAdded:k=>{},subviewRemoved:k=>{},getNextSibling:function(){if(this.parent){const k=this.getODE().nextElementSibling;if(k)return k.model}},getPrevSibling:function(){if(this.parent){const k=this.getODE().previousElementSibling;if(k)return k.model}},hasLayout:function(k){return 0<=this.getLayoutIndex(k)},getLayoutIndex:function(k){return this.getLayouts().indexOf(k)},layoutAdded:k=>{},layoutRemoved:k=>{},isBehind:function(k,m){return a(this,
k,!1,m)},isInFrontOf:function(k,m){return a(this,k,!0,m)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(k){this.parent.sendSubviewBehind(this,k)},sendInFrontOf:function(k){this.parent.sendSubviewInFrontOf(this,k)},doSubviewsReorderedInDom:k=>{},bringSubviewToFront:function(k){const m=this;if(k&&k.parent===m){const t=m.getIDE();k.getODE()!==t.lastChild&&h(k,()=>{t.appendChild(k.getODE());m.doSubviewsReorderedInDom(k)})}},
sendSubviewToBack:function(k){const m=this;if(k&&k.parent===m){const t=m.getIDE();k.getODE()!==t.firstChild&&h(k,()=>{t.insertBefore(k.getODE(),t.firstChild);m.doSubviewsReorderedInDom(k)})}},sendSubviewBehind:function(k,m){const t=this;if(k&&m&&k.parent===t&&m.parent===t){const p=t.getIDE();h(k,()=>{p.insertBefore(k.getODE(),m.getODE());t.doSubviewsReorderedInDom(k)})}},sendSubviewInFrontOf:function(k,m){const t=this;if(k&&m&&k.parent===t&&m.parent===t){const p=t.getIDE();h(k,()=>{p.insertBefore(k.getODE(),
m.getODE().nextSibling);t.doSubviewsReorderedInDom(k)})}},sortSubviews:function(k){const m=this,t=m.getSubviews().sort(k);h(m,()=>{const p=m.getODE(),x=p.parentNode;let z;x&&(z=p.nextSibling,x.removeChild(p));const E=document.createDocumentFragment(),I=t.length;for(let A=0;I>A;)E.appendChild(t[A++].getODE());m.getIDE().appendChild(E);x&&x.insertBefore(p,z);m.doSubviewsReorderedInDom(null)})},containsPoint:function(k,m,t){const p=this.getODE();if(!p)return!1;t=w.getRelativePosition(p,t);return r(k,
m,t.x,t.y,this.width,this.height)},isPointVisible:function(k,m){const t=this.getPagePosition(!0);c(this);return b(this,k-t.x,m-t.y)},getEffectiveScale:function(){return c(this)},getEffectiveScaleX:function(){return c(this).scaleX},getEffectiveScaleY:function(){return c(this).scaleY}})})(myt);
(n=>{const v=(r,h,a)=>{const c=w(r,h);r.getODS().transform=c+(0===c.length?"":" ")+h+"("+a+")"},w=(r,h)=>{r=r.getODS();var a=r.transform;if(!a||0===a.length)return"";a=a.split(" ");let c=a.length;for(;c;)if(0===a[--c].indexOf(h)){a.splice(c,1);break}return r.transform=a.join(" ")};n.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(r){this.transformOrigin!==r&&(this.transformOrigin=r,this.getODS().transformOrigin=r||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",r)))},setRotation:function(r){this.rotation!==r&&(this.rotation=r,v(this,"rotate",(r||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",r)))},setScale:function(r){const h=this.scaleX!==r,a=this.scaleY!==r;if(h){var c=this.scaleX=r;null==c?w(this,"scaleX"):v(this,"scaleX",c||1)}a&&(c=this.scaleY=r,null==c?w(this,"scaleY"):v(this,"scaleY",c||1));this.inited&&((h||a)&&this.__updateBounds(this.width,this.height),
h&&this.fireEvent("scaleX",r),a&&this.fireEvent("scaleY",r))},setScaleX:function(r){if(this.scaleX!==r){var h=this.scaleX=r;null==h?w(this,"scaleX"):v(this,"scaleX",h||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",r))}},setScaleY:function(r){if(this.scaleY!==r){var h=this.scaleY=r;null==h?w(this,"scaleY"):v(this,"scaleY",h||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",r))}},setSkewX:function(r){this.skewX!==r&&(this.skewX=
r,v(this,"skewX",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",r)))},setSkewY:function(r){this.skewY!==r&&(this.skewY=r,v(this,"skewY",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",r)))},__updateBounds:function(r,h){const a=this.rotation;var c=this.scaleX;const b=this.scaleY;c=(null==c||1===c)&&(null==b||1===b);if(!c||null!=a&&0!==a&&180!==a)!c||90!==a&&270!==a?(h=this.getODE().getBoundingClientRect(),r=h.width,h=h.height):
(r=this.height,h=this.width);this.callSuper(r,h)}})})(myt);
(n=>{const v=JS.Module,w=(c,b)=>{if("auto"===b)c.__hasSetWidth=!1,c.getODS().width="auto",c.sizeViewToDom();else return c.__hasSetWidth=!0},r=(c,b)=>{if("auto"===b)c.__hasSetHeight=!1,c.getODS().height="auto",c.sizeViewToDom();else return c.__hasSetHeight=!0},h=c=>{if(!c.__hasSetWidth){const b=c.getODE().offsetWidth/c.getEffectiveScaleX();c.width!==b&&(c.width=b,c.inited&&c.__updateBounds(b,c.height),c.fireEvent("width",b))}},a=c=>{if(!c.__hasSetHeight){const b=c.getODE().offsetHeight/c.getEffectiveScaleY();
c.height!==b&&(c.height=b,c.inited&&c.__updateBounds(c.width,b),c.fireEvent("height",b))}};n.SizeToDom=new v("SizeToDom",{extend:{sizeWidth:h,sizeHeight:a},initNode:function(c,b){this.callSuper(c,b);this.sizeViewToDom()},setWidth:function(c,b){w(this,c)&&this.callSuper(c,b)},setHeight:function(c,b){r(this,c)&&this.callSuper(c,b)},sizeViewToDom:function(){h(this);a(this)}});n.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(c,b){this.callSuper(c,b);this.sizeViewToDom()},setWidth:function(c,
b){w(this,c)&&this.callSuper(c,b)},sizeViewToDom:function(){h(this)}});n.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(c,b){this.callSuper(c,b);this.sizeViewToDom()},setHeight:function(c,b){r(this,c)&&this.callSuper(c,b)},sizeViewToDom:function(){a(this)}})})(myt);
(n=>{const v=(a,c,b,d)=>{a[b]!==c&&(a[b]=c,a.getIDS()[b]=c||d||"inherit",a.inited&&(a.fireEvent(b,c),a.sizeViewToDom()))};n.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,c){this.callSuper(a,c);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a&&"break-spaces"!==a||this.sizeViewToDom())},setText:function(a){a||="";a=this.valueFromEvent(a);this.text!==a&&(this.getIDE().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==
a&&(this.textOverflow=a,this.getIDS().textOverflow=a||"inherit",this.inited&&this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getIDS().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){v(this,a,"whiteSpace")},setWordWrap:function(a){v(this,a,"wordWrap","normal")},setTextIndent:function(a){v(this,a,"textIndent")},setTextTransform:function(a){v(this,a,"textTransform")},setTextDecoration:function(a){v(this,
a,"textDecoration")},setLineHeight:function(a){v(this,a,"lineHeight")},setLetterSpacing:function(a){v(this,a,"letterSpacing")},setWordSpacing:function(a){v(this,a,"wordSpacing")},setFontFamily:function(a){v(this,a,"fontFamily")},setFontStyle:function(a){v(this,a,"fontStyle")},setFontVariant:function(a){v(this,a,"fontVariant")},setFontWeight:function(a){v(this,a,"fontWeight")},setFontSize:function(a){v(this,a,"fontSize")},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=
a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,c,b,d){this.getIDS().textShadow=(a||0)+"px "+(c||0)+"px "+(null!=b?b:2)+"px "+(d||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}});const w=(a,c,b)=>{const d="padding"+b;c=Math.max(c,0);a[d]!==c&&(a[d]=c,a.getIDS()[d]=c+"px",a.fireEvent(d,c),"Left"===b||"Right"===b?r(a):h(a))},r=a=>{a.__hasSetWidth&&(a.getODS().width=a.width-(a.paddingLeft||0)-(a.paddingRight||0)+"px",a.inited&&a.sizeViewToDom())},h=a=>{a.__hasSetHeight&&(a.getODS().height=a.height-(a.paddingTop||0)-(a.paddingBottom||0)+"px",a.inited&&a.sizeViewToDom())};n.PaddedTextSupport=new JS.Module("PaddedTextSupport",{setWidth:function(a,c){this.callSuper(a,c);
r(this)},setHeight:function(a,c){this.callSuper(a,c);h(this)},setPadding:function(a){let c,b,d;a||=0;"object"===typeof a?(c=a.top||0,b=a.right||0,d=a.bottom||0,a=a.left||0):c=b=d=a;this.setPaddingTop(c);this.setPaddingRight(b);this.setPaddingBottom(d);this.setPaddingLeft(a)},setPaddingTop:function(a){w(this,a,"Top")},setPaddingRight:function(a){w(this,a,"Right")},setPaddingBottom:function(a){w(this,a,"Bottom")},setPaddingLeft:function(a){w(this,a,"Left")}})})(myt);
(n=>{const v={},w={},r=h=>{const a=h.imageUrl;if(h.calculateNaturalSize&&a){var c=v[a];if(c)h.setNaturalWidth(c.width),h.setNaturalHeight(c.height);else{c=w[a];if(!c){w[a]=c=[];const b=new Image;b.onerror=d=>{if(d=w[a]){let g=d.length;for(;g;)d[--g].setImageLoadingError(!0);d.length=0;delete w[a]}};b.onload=()=>{const d=b.width,g=b.height,e=w[a];if(e){let f=e.length;for(;f;){const q=e[--f];q.imageUrl===a&&(q.setNaturalWidth(d),q.setNaturalHeight(g))}e.length=0;delete w[a]}v[a]={width:d,height:g}};
b.src=a}c.push(h)}}};n.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:h=>v[h]},initNode:function(h,a){this.defAttr(a,"imageRepeat","no-repeat");this.defAttr(a,"imageAttachment","scroll");this.callSuper(h,a)},setImageUrl:function(h){this.imageUrl!==h&&(this.imageUrl=h,this.getIDS().backgroundImage=h?'url("'+h+'")':"none",this.inited&&(this.fireEvent("imageUrl",h),this.setNaturalWidth(),this.setNaturalHeight(),!h&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),r(this))},
setImageLoadingError:function(h){this.set("imageLoadingError",h,!0)},setImageSize:function(h){this.imageSize!==h&&(this.imageSize=h,this.getIDS().backgroundSize=h||"auto",this.inited&&this.fireEvent("imageSize",h))},setImageRepeat:function(h){this.imageRepeat!==h&&(this.getIDS().backgroundRepeat=this.imageRepeat=h,this.inited&&this.fireEvent("imageRepeat",h))},setImagePosition:function(h){this.imagePosition!==h&&(this.getIDS().backgroundPosition=this.imagePosition=h,this.inited&&this.fireEvent("imagePosition",
h))},setImageAttachment:function(h){this.imageAttachment!==h&&(this.getIDS().backgroundAttachment=this.imageAttachment=h,this.inited&&this.fireEvent("imageAttachment",h))},setCalculateNaturalSize:function(h){this.calculateNaturalSize!==h&&(this.calculateNaturalSize=h,this.inited&&this.fireEvent("calculateNaturalSize",h),r(this))},setNaturalWidth:function(h){this.naturalWidth!==h&&(this.naturalWidth=h,this.inited&&this.fireEvent("naturalWidth",h),this.useNaturalSize&&h&&this.setWidth(h))},setNaturalHeight:function(h){this.naturalHeight!==
h&&(this.naturalHeight=h,this.inited&&this.fireEvent("naturalHeight",h),this.useNaturalSize&&h&&this.setHeight(h))},setUseNaturalSize:function(h){this.useNaturalSize!==h&&(this.useNaturalSize=h,this.inited&&this.fireEvent("useNaturalSize",h),h&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),h&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(n=>{const v=JS.Class,w=n.View,r=n.SizeToDom,h=n.AccessorSupport.defAttr;n.Flexbox=new v("Flexbox",w,{include:[n.FlexboxSupport]});n.Frame=new v("Frame",w,{initNode:function(a,c){h(c,"tagName","iframe");this.callSuper(a,c);a=n.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getIDE().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});n.Markup=new v("Markup",w,{include:[r],setHtml:function(a){this.html!==a&&(this.getIDE().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});n.Text=new v("Text",w,{include:[r,n.TextSupport],initNode:function(a,c){h(c,"whiteSpace",
"nowrap");h(c,"userUnselectable",!0);this.callSuper(a,c)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getIDS(),c=a.whiteSpace;a.whiteSpace="nowrap";const b=this.getODE().getBoundingClientRect().width;a.whiteSpace=c;return b}});n.PaddedText=new v("PaddedText",n.Text,{include:[n.PaddedTextSupport]});n.Image=new v("Image",w,{include:[n.ImageSupport],initNode:function(a,c){h(c,"useNaturalSize",!0);this.callSuper(a,c)}});n.BackView=new v("BackView",w,{sendSubviewToBack:function(a){if(a.parent===
this){const c=this.getIDE(),b=c.childNodes[1];a=a.getODE();a!==b&&(a=c.removeChild(a))&&c.insertBefore(a,b)}}})})(myt);
(n=>{const v=Math.round,w=c=>{const b=c.parent;b&&0<=c.percentOfParentWidth&&c.syncTo(b,"__doPOPW","width")},r=c=>{0<=c.percentOfParentWidth&&c.detachFrom(c.parent,"__doPOPW","width")},h=c=>{const b=c.parent;b&&0<=c.percentOfParentHeight&&c.syncTo(b,"__doPOPH","height")},a=c=>{0<=c.percentOfParentHeight&&c.detachFrom(c.parent,"__doPOPH","height")};n.SizeToParent=new JS.Module("SizeToParent",{setParent:function(c){this.parent!==c&&(this.inited&&(r(this),a(this)),this.callSuper(c),w(this),h(this))},
setPercentOfParentWidthOffset:function(c){this.percentOfParentWidthOffset!==c&&(this.percentOfParentWidthOffset=c,this.inited&&(this.fireEvent("percentOfParentWidthOffset",c),this.__doPOPW()))},setPercentOfParentWidth:function(c){this.percentOfParentWidth!==c&&(this.inited&&r(this),this.percentOfParentWidth=c,this.inited&&this.fireEvent("percentOfParentWidth",c),w(this))},setPercentOfParentHeightOffset:function(c){this.percentOfParentHeightOffset!==c&&(this.percentOfParentHeightOffset=c,this.inited&&
(this.fireEvent("percentOfParentHeightOffset",c),this.__doPOPH()))},setPercentOfParentHeight:function(c){this.percentOfParentHeight!==c&&(this.inited&&a(this),this.percentOfParentHeight=c,this.inited&&this.fireEvent("percentOfParentHeight",c),h(this))},__doPOPW:function(c){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(c){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/
100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);(n=>{let v;const w=[];new JS.Singleton("GlobalRootViewRegistry",{include:[n.Observable],initialize:function(){n.global.register("roots",v=this)},getRoots:()=>w,addRoot:r=>{w.push(r);v.fireEvent("rootAdded",r)},removeRoot:r=>{const h=w.indexOf(r);-1<h&&(w.splice(h,1),v.fireEvent("rootRemoved",r))}})})(myt);
(n=>{const v=n.global.roots,w=n.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:r=>{const h=r.__captureDrop=a=>{a.preventDefault()};r=r.getIDE();n.addEventListener(r,"drop",h);n.addEventListener(r,"dragover",h)},teardownCaptureDrop:r=>{const h=r.getIDE();r=r.__captureDrop;n.removeEventListener(h,"drop",r);n.removeEventListener(h,"dragover",r)}},initNode:function(r,h){this.callSuper(r,h);this.setZIndex(0);this.addDomClass("myt");v.addRoot(this);w.setupCaptureDrop(this)},createOurDomElement:function(r){r||
(r=this.callSuper(r),n.getElement().appendChild(r));return r},destroy:function(){w.teardownCaptureDrop(this);v.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(r){this.keepDomElementWhenDestroyed=r},setParent:r=>{},bringToFront:function(){var r=this.getIDE();const h=r.parentNode;r!==h.lastChild&&(r=h.removeChild(r))&&h.appendChild(r)},sendToBack:function(){var r=this.getIDE();const h=r.parentNode;r!==h.firstChild&&
(r=h.removeChild(r))&&h.insertBefore(r,h.firstChild)},sendBehind:function(r){var h=this.getIDE();r=r.getIDE();const a=h.parentNode;r.parentNode===a&&(h=a.removeChild(h))&&a.insertBefore(h,r)},sendInFrontOf:function(r){r.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(r),r.sendBehind(this))}})})(myt);
(n=>{let v,w,r,h=!1;const a=window,c={};new JS.Singleton("GlobalIdle",{include:[n.Observable],initialize:function(){const b=this,d=["webkit","moz","ms","o"];for(let g=0;g<d.length&&!a.requestAnimationFrame;){const e=d[g++];a.requestAnimationFrame=a[e+"RequestAnimationFrame"];a.cancelAnimationFrame=a[e+"CancelAnimationFrame"]||a[e+"CancelRequestAnimationFrame"]}w=g=>{v=a.requestAnimationFrame(w);-1!==r&&(g=Math.round(g),c.delta=g-r,c.time=g,b.fireEvent("idle",c));r=g};n.global.register("idle",b)},
attachObserver:function(b,d,g){b=this.callSuper(b,d,g);!h&&this.hasObservers("idle")&&(h=!0,r=-1,v=a.requestAnimationFrame(w));return b},detachObserver:function(b,d,g){b=this.callSuper(b,d,g);h&&!this.hasObservers("idle")&&(a.cancelAnimationFrame(v),h=!1);return b}})})(myt);
(n=>{let v,w;const r=n.global,h=r.idle,a=window.document;new JS.Singleton("GlobalWindowResize",{include:[n.Observable,n.Observer],initialize:function(){this.attachTo(h,"__setup","idle");r.register("windowResize",this)},__setup:function(c){const b=this,d=a.body;d&&(b.detachFrom(h,"__setup","idle"),(new ResizeObserver(()=>{b.fireEvent("resize",{w:v=d.clientWidth,h:w=d.clientHeight})})).observe(d))},getWidth:()=>v||=a.body.clientWidth,getHeight:()=>w||=a.body.clientHeight})})(myt);
(n=>{const v=JS.Module,w=n.global.windowResize,r=n.AccessorSupport.defAttr,h=c=>{const b=c.resizeDimension;"both"!==b&&"width"!==b||c.setWidth(Math.max(c.minWidth,w.getWidth()));"both"!==b&&"height"!==b||c.setHeight(Math.max(c.minHeight,w.getHeight()))},a=n.SizeToWindow=new v("SizeToWindow",{include:[n.RootView],initNode:function(c,b){this.minWidth=this.minHeight=0;r(b,"resizeDimension","both");this.attachTo(w,"__hndlResize","resize");this.callSuper(c,b)},setResizeDimension:function(c){this.resizeDimension!==
c&&(this.resizeDimension=c,h(this))},setMinWidth:function(c){this.minWidth!==c&&(this.minWidth=c,h(this))},setMinHeight:function(c){this.minHeight!==c&&(this.minHeight=c,h(this))},__hndlResize:function(c){h(this)}});n.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[a],initNode:function(c,b){r(b,"resizeDimension","width");this.callSuper(c,b)}});n.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[a],initNode:function(c,b){r(b,"resizeDimension","height");this.callSuper(c,b)}})})(myt);
(n=>{const v=Math,w=v.max,r=v.min,h=k=>r(255,w(0,v.round(k))),a=k=>{k=h(k).toString(16);return 1===k.length?"0"+k:k},c=(k,m,t,p)=>[p?"#":"",a(k),a(m),a(t)].join(""),b=k=>new q((16711680&k)>>16,(65280&k)>>8,255&k),d=(k,m,t)=>(h(k)<<16)+(h(m)<<8)+h(t),g=(k,m)=>{if("string"===typeof k)if(k.endsWith("%"))k=parseFloat(k.slice(0,-1))*m/100;else return 0;k=r(m,w(0,k))/m;return 1E-6>v.abs(1-k)?1:k},e=(k,m,t)=>{k=g(k,255);m=g(m,255);t=g(t,255);const p=w(k,m,t),x=p-r(k,m,t);if(0===x)return{h:0,s:0,v:p};let z;
switch(p){case k:z=(m-t)/x+(m<t?6:0);break;case m:z=(t-k)/x+2;break;case t:z=(k-m)/x+4}return{h:60*z,s:0===p?0:x/p,v:p}},f=(k,m,t)=>{k=6*g(k,360);m=g(m,100);t=g(t,100);var p=v.floor(k);const x=k-p;k=t*(1-m);const z=t*(1-x*m);m=t*(1-(1-x)*m);p%=6;return{red:255*[t,z,k,k,m,t][p],green:255*[m,t,t,z,k,k][p],blue:255*[k,k,m,t,t,z][p]}},q=n.Color=new JS.Class("Color",{extend:{toUnitRange:g,rgbToHsv:e,hsvToRgb:f,toHex:a,rgbToHex:c,cleanChannelValue:h,getRedChannel:k=>(16711680&k)>>16,getGreenChannel:k=>
(65280&k)>>8,getBlueChannel:k=>255&k,makeColorFromNumber:b,makeColorFromHexString:k=>{if(k){k.startsWith("#")||(k="#"+k);if(4===k.length){const m=k.substring(1,2),t=k.substring(2,3);k=k.substring(3,4);k="#"+m+m+t+t+k+k}return b(parseInt(k.substring(1),16))}},makeColorFromHSV:(k,m,t)=>{k=f(k,m,t);return b(d(k.red,k.green,k.blue))},getLighterColor:(k,m)=>b(k).isLighterThan(b(m))?k:m,makeColorNumberFromChannels:d,makeBlendedColor:(k,m,t)=>new q(k.red+t*(m.red-k.red),k.green+t*(m.green-k.green),k.blue+
t*(m.blue-k.blue))},initialize:function(k,m,t){this.setRed(k);this.setGreen(m);this.setBlue(t)},setRed:function(k){this.red=h(k)},setGreen:function(k){this.green=h(k)},setBlue:function(k){this.blue=h(k)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return c(this.red,this.green,this.blue,!0)},getHSV:function(){return e(this.red,this.green,this.blue)},isLighterThan:function(k){k=this.getDiffFrom(k);return 0>k.red+k.green+k.blue},getDiffFrom:function(k){return{red:k.red-
this.red,green:k.green-this.green,blue:k.blue-this.blue}},applyDiff:function(k){return this.add(k)},add:function(k){this.setRed(this.red+k.red);this.setGreen(this.green+k.green);this.setBlue(this.blue+k.blue);return this},subtract:function(k){this.setRed(this.red-k.red);this.setGreen(this.green-k.green);this.setBlue(this.blue-k.blue);return this},multiply:function(k){this.setRed(this.red*k);this.setGreen(this.green*k);this.setBlue(this.blue*k);return this},divide:function(k){this.setRed(this.red/
k);this.setGreen(this.green/k);this.setBlue(this.blue/k);return this},clone:function(){return new q(this.red,this.green,this.blue)},equals:function(k){return k===this||k&&k.isA&&k.isA(q)&&k.red===this.red&&k.green===this.green&&k.blue===this.blue}})})(myt);
(n=>{const v=Math,w=v.max,r=v.sin,h=v.cos,a=v.pow,c=v.sqrt,b=v.PI,d=2*b,g=b/2,e={linear:p=>p,inQuad:p=>p*p,outQuad:p=>-p*(p-2),inOutQuad:p=>1>(p*=2)?p*p/2:-(--p*(p-2)-1)/2,inCubic:p=>p*p*p,outCubic:p=>--p*p*p+1,inOutCubic:p=>1>(p*=2)?p*p*p/2:((p-=2)*p*p+2)/2,inQuart:p=>p*p*p*p,outQuart:p=>-(--p*p*p*p-1),inOutQuart:p=>1>(p*=2)?p*p*p*p/2:-((p-=2)*p*p*p-2)/2,inQuint:p=>p*p*p*p*p,outQuint:p=>--p*p*p*p*p+1,inOutQuint:p=>1>(p*=2)?p*p*p*p*p/2:((p-=2)*p*p*p*p+2)/2,inSine:p=>-h(p*g)+1,outSine:p=>r(p*g),inOutSine:p=>
-(h(p*b)-1)/2,inCirc:p=>-(c(1-p*p)-1),outCirc:p=>c(1- --p*p),inOutCirc:p=>1>(p*=2)?-(c(1-p*p)-1)/2:(c(1-(p-=2)*p)+1)/2,inExpo:p=>0===p?0:a(2,10*(p-1)),outExpo:p=>1===p?1:-a(2,-10*p)+1,inOutExpo:p=>0===p||1===p?p:1>(p*=2)?a(2,10*(p-1))/2:(-a(2,-10*--p)+2)/2,inElastic:p=>0===p||1===p?p:-(a(2,10*--p)*r((1*p-.075)*d/.3)),outElastic:p=>0===p||1===p?p:a(2,-10*p)*r((1*p-.075)*d/.3)+1,inOutElastic:p=>0===p||1===p?p:1>(p*=2)?-(a(2,10*--p)*r((1*p-.1125)*d/.45))/2:a(2,-10*--p)*r((1*p-.1125)*d/.45)/2+1,inBack:(p,
x=1.70158)=>(p/=1)*p*((x+1)*p-x),outBack:(p,x=1.70158)=>(p=p/1-1)*p*((x+1)*p+x)+1,inOutBack:(p,x=1.70158)=>1>(p*=2)?p*p*(((x*=1.525)+1)*p-x)/2:((p-=2)*p*(((x*=1.525)+1)*p+x)+2)/2,inBounce:p=>1-e.outBounce(1-p),outBounce:p=>p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,inOutBounce:p=>1>(p*=2)?e.inBounce(p)/2:(e.outBounce(p-1)+1)/2},f=n.global.idle,q=n.Color.makeColorFromHexString,k=p=>{p.__tmpFrom=!1;p.__loopCnt=p.reverse?
p.repeat-1:0;p.__prog=p.reverse?p.duration:0},m=(p,x)=>{if(p.running&&!p.paused){const D=p.reverse,H=p.duration,J=p.repeat;D&&(x*=-1);var z=p.__prog;p.__prog+=x;x=0;p.__prog>H?(x=p.__prog-H,p.__prog=H,++p.__loopCnt===J&&(x=0)):0>p.__prog&&(x=-p.__prog,p.__prog=0,0>--p.__loopCnt&&0<J&&(x=0));var E=p.target||p.parent;if(E){var I=z,A=p.relative,B=p.duration;z=p.attribute;var l=w(0,p.__prog/B);I=w(0,I/B);null==p.from&&(p.__tmpFrom=!0,p.from=A?p.__isColorAnim?"#000":0:E.get(z));I=p.easingFunction(l)-(A?
p.easingFunction(I):0);var u=A?E.get(z):p.from;B=p.to;l=E.set;if(p.__isColorAnim){var y=u;u=q(p.from);B=q(B);A=A?q(y):u;A.setRed(A.red+(B.red-u.red)*I);A.setGreen(A.green+(B.green-u.green)*I);A.setBlue(A.blue+(B.blue-u.blue)*I);A=A.getHtmlHexString()}else A=u+(B-p.from)*I;l.call(E,z,A);!D&&p.__loopCnt===J||D&&0>p.__loopCnt&&0<J?(p.setRunning(!1),p.callback&&p.callback.call(p,!0)):0<x&&(p.fireEvent("repeat",p.__loopCnt),p.__prog=D?H:0,m(p,x))}else console.log("No target for animator",p),p.setRunning(!1),
p.callback&&p.callback.call(p,!1)}},t=n.Animator=new JS.Class("Animator",n.Node,{include:[n.Reusable],extend:{easings:e,EASING:e.inOutQuad},initNode:function(p,x){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=t.EASING;this.callSuper(p,x);k(this)},setRunning:function(p){if(this.running!==p&&(this.running=p,this.inited&&this.fireEvent("running",p),!this.paused)){if(p){const x=this.target||this.parent;this.__isColorAnim=x&&"function"===typeof x.isColorAttr?
x.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),k(this);this[p?"attachTo":"detachFrom"](f,"__updateAnim","idle")}},setPaused:function(p){if(this.paused!==p&&(this.paused=p,this.inited&&this.fireEvent("paused",p),this.running))this[p?"detachFrom":"attachTo"](f,"__updateAnim","idle")},setReverse:function(p){this.reverse!==p&&(this.reverse=p,this.inited&&this.fireEvent("reverse",p),this.running||k(this))},setEasingFunction:function(p){"string"===typeof p&&(p=e[p]);p||(p=
t.EASING);this.set("easingFunction",p,!0)},setFrom:function(p){this.set("from",p,!0)},setTo:function(p){this.set("to",p,!0)},setCallback:function(p){this.callback=p},next:function(p,x){const z=this,E=z.callback;E&&!x?z.setCallback(I=>{E.call(z,I);p.call(z,I)}):z.setCallback(p)},reset:function(p){k(this);this.setRunning(!1);this.setPaused(!1);p&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=
!1;this.repeat=1;this.easingFunction=t.EASING;this.reset(!1)},__updateAnim:function(p){m(this,p.value.delta)}})})(myt);
(n=>{const v=Array.isArray,w=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},r=(a,c)=>{if(a.__transInProgress){var b=a.__deferredTransitions;b||(b=a.__deferredTransitions=[]);b.unshift(c)}else{a.__transInProgress=!0;b=c.shift();const d=c.shift();if(a.__pendingTransition)return 3;if(a.isFinished())return a.__transInProgress=!1,5;let g=a.map[a.current][d];g||=a.map["*"][d];if(g)return a.__pendingTransition=d,a.__transDestinationState=g,a.__additionalArgs=
c,a.resumeTransition(b);a.__transInProgress=!1;return 5}},h=a=>{a.__transInProgress=!1;const c=a.__deferredTransitions;if(c)for(;0<c.length;)r(a,c.pop())};n.StateMachine=new JS.Class("StateMachine",n.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,c){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";w(this);this.callSuper(a,c)},setInitialState:function(a){if(""===this.current){if(v(a)){var c=a;a=c.shift()}else c=[];this.current=
this.initial=a;this.doEnterState("","",a,c);c={name:"",from:"",to:a,args:c};this.fireEvent("enter"+a,c);this.fireEvent("enter",c);this.isFinished()&&this.fireEvent("finished",c)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(c=>this.addTransition(...c))},addTransition:function(a,c,b){c=c?v(c)?c:[c]:["*"];const d=this.map;let g=c.length;for(;g;)(d[c[--g]]||(d[c[g]]={}))[a]=b},doTransition:function(...a){a.unshift("sync");return r(this,a)},doAsyncTransition:function(...a){a.unshift("async");
return r(this,a)},resumeTransition:function(a){const c=this.__pendingTransition;if(!c)return 4;const b=this.current,d=this.__transDestinationState,g=this.__additionalArgs,e={name:c,from:b,to:d,args:g},f=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const q=this.doLeaveState(c,b,d,g);if(!1===q)return w(this),h(this),2;if("async"===q||"async"===a)return this.__transStage="enterState",f("start"+c,e),f("start",e),f("leave"+b,e),f("leave",e),h(this),3;f("start"+c,e);f("start",e);
f("leave"+b,e);f("leave",e);case "enterState":this.current=d,w(this),this.doEnterState(c,b,d,g),f("enter"+d,e),f("enter",e),f("end"+c,e),f("end",e),this.isFinished()&&f("finished",e)}h(this);return 1},doLeaveState:(a,c,b,d)=>{},doEnterState:(a,c,b,d)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return v(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==
this.map["*"][a]}})})(myt);
(n=>{const v=(a,c)=>a.replicationIndex-c.replicationIndex,w=(a,c)=>{let b=a.length,d;for(;b;)d=a[--b],d.decrementLockedCounter(),c&&d.update()},r=a=>{h(a);const c=a.template;c&&(a.__pool=new n.TrackActivesPool(c,a.parent))},h=a=>{const c=a.__pool;if(c){const b=a.parent.getLayouts();a=b;let d=a.length;for(;d;)a[--d].incrementLockedCounter();c.putActives();c.destroyPooledInstances();w(b,!1);c.destroy()}};n.Replicable=new JS.Module("Replicable",{include:[n.Reusable],replicate:function(a,c){this.replicationData=
a;this.replicationIndex=c},notify:(a,c)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,c){return c===this.replicationIndex&&a===this.replicationData}});n.Replicator=new JS.Class("Replicator",n.Node,{initNode:function(a,c){this.callSuper(a,c);r(this);this.doReplication()},destroy:function(){h(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(n.Replicable)?a:null)||n.dumpStack("Template not replicable");this.inited&&
(r(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let c;if(a){c=this.parent.getLayouts();for(var b=c.length;b;)c[--b].incrementLockedCounter();const d=(b=this.data)?b.length:0,g=a.getActives(),e=g.length,f=[];let q=e,k,m;for(g.sort(v);q;)if(k=g[--q],m=k.replicationIndex,m>=d||!k.alreadyHasReplicationData(b[m],m))f[m]=k;for(q=f.length;q;)(k=f[--q])&&
a.putInstance(k);for(q=0;d>q;++q)(q>=e||null!=f[q])&&a.getInstance().replicate(b[q],q);for(q=c.length;q;)c[--q].sortSubviews(v);w(c,!0)}},notify:function(a,c){var b=this.__pool;if(b){b=b.getActives();let d=b.length;for(;d;)b[--d].notify(a,c)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(n=>{let v,w,r;const h=[],a=[],c=g=>{const e=r;e!==g&&(e&&(e.notifyDragLeave(w),w.destroyed||w.notifyDragLeaving(e),v("dragLeave",e)),r=g)&&(g.notifyDragEnter(w),w.destroyed||w.notifyDragEntering(g),v("dragEnter",e))},b=g=>{let e=w;e!==g&&((w=g)?(e=g,d(e,a).forEach(f=>{f.notifyDragStart(e)}),d(e,h).forEach(f=>{f.notifyAutoScrollerDragStart(e)}),v("startDrag",g)):(d(e,a).forEach(f=>{f.notifyDragStop(e)}),d(e,h).forEach(f=>{f.notifyAutoScrollerDragStop(e)}),v("stopDrag",g)))},d=(g,e)=>{if(g.destroyed)return[];
if(g.isAnyDragGroup())return e;const f=[];g=g.getDragGroups();let q=e.length;for(;q;){const k=e[--q];if(k.isAnyDropGroup())f.push(k);else{const m=k.getDropGroups();for(const t in g)if(m[t]){f.push(k);break}}}return f};new JS.Singleton("GlobalDragManager",{include:[n.Observable],initialize:function(){n.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>w,registerAutoScroller:g=>{h.push(g)},unregisterAutoScroller:g=>{g=h.indexOf(g);-1<g&&h.splice(g,1)},registerDropTarget:g=>
{a.push(g)},unregisterDropTarget:g=>{g=a.indexOf(g);-1<g&&a.splice(g,1)},startDrag:g=>{b(g)},stopDrag:(g,e,f)=>{e.notifyDropped(r,f);r&&!f&&r.notifyDrop(e);c();b();r&&!f&&v("drop",[e,r])},updateDrag:(g,e)=>{const f=d(e,a);let q=f.length,k;if(0<q){var m=g.value;g=m.pageX;for(m=m.pageY;q;){let t=f[--q];t.willAcceptDrop(e)&&e.willPermitDrop(t)&&t.isPointVisible(g,m)&&(!k||t.isInFrontOf(k))&&(k=t)}}c(k)}})})(myt);
(n=>{const v=JS.Module,w=n.global,r=w.mouse,h=w.keys,a=w.idle,c=n.AccessorSupport.defAttr;n.Activateable=new v("Activateable",{doActivated:()=>{}});n.UpdateableUI=new v("UpdateableUI",{initNode:function(b,d){this.callSuper(b,d);this.updateUI()},updateUI:()=>{}});n.Disableable=new v("Disableable",{initNode:function(b,d){c(d,"disabled",!1);this.callSuper(b,d)},setDisabled:function(b){b=this.valueFromEvent(b);this.disabled!==b&&(this.disabled=b,this.inited&&this.fireEvent("disabled",b),this.doDisabled())},
doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});n.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[h.CODE_ENTER,h.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(b,d){this.activateKeyDown="";c(d,"activationKeys",n.KeyActivation.ACTIVATION_KEYS);this.callSuper(b,d);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,
"__doDomBlur","blur")},setActivationKeys:function(b){this.activationKeys=b},setRepeatKeyDown:function(b){this.repeatKeyDown=b},__hndlKeyDown:function(b){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const d=n.KeyObservable.getCodeFromEvent(b),g=this.activationKeys;let e=g.length;for(;e;)if(d===g[--e]){this.activateKeyDown===d?this.doActivationKeyDown(d,!0):(this.activateKeyDown=d,this.doActivationKeyDown(d,!1));b.value.preventDefault();break}}},__hndlKeyPress:function(b){if(!this.disabled){const d=
n.KeyObservable.getCodeFromEvent(b);if(this.activateKeyDown===d){const g=this.activationKeys;let e=g.length;for(;e;)if(d===g[--e]){b.value.preventDefault();break}}}},__hndlKeyUp:function(b){if(!this.disabled){const d=n.KeyObservable.getCodeFromEvent(b);if(this.activateKeyDown===d){const g=this.activationKeys;let e=g.length;for(;e;)if(d===g[--e]){this.activateKeyDown="";this.doActivationKeyUp(d);b.value.preventDefault();break}}}},__doDomBlur:function(b){this.disabled||(b=this.activateKeyDown,""!==
b&&(this.activateKeyDown="",this.doActivationKeyAborted(b)))},doActivationKeyDown:(b,d)=>{},doActivationKeyUp:function(b){this.doActivated()},doActivationKeyAborted:b=>{}});n.MouseOver=new v("MouseOver",{initNode:function(b,d){c(d,"mouseOver",!1);this.callSuper(b,d);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(b){this.mouseOver!==b&&(this.mouseOver=b,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(a,
"__doMouseOverOnIdle","idle")))},setDisabled:function(b){this.callSuper(b);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const b=this.mouseOver;this.__lastOverIdleValue!==b&&(this.__lastOverIdleValue=b,this.doSmoothMouseOver(b))},doSmoothMouseOver:function(b){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(b){this.__disabledOver=
!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(b){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});n.MouseDown=new v("MouseDown",{initNode:function(b,d){c(d,"mouseDown",!1);this.callSuper(b,d);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(b){this.mouseDown!==b&&(this.mouseDown=b,this.inited&&(b&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(b){b&&this.mouseDown&&
this.setMouseDown(!1);this.callSuper(b)},doMouseOver:function(b){this.callSuper(b);this.mouseDown&&this.detachFromDom(r,"doMouseUp","mouseup",!0)},doMouseOut:function(b){this.callSuper(b);!this.disabled&&this.mouseDown&&this.attachToDom(r,"doMouseUp","mouseup",!0)},doMouseDown:function(b){this.disabled||this.setMouseDown(!0)},doMouseUp:function(b){this.mouseOver||this.detachFromDom(r,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(b))},
doMouseUpInside:function(b){this.doActivated&&this.doActivated()}});n.MouseOverAndDown=new v("MouseOverAndDown",{include:[n.MouseOver,n.MouseDown]});n.Draggable=new v("Draggable",{initNode:function(b,d){let g=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=d.isDraggable&&(g=d.isDraggable,delete d.isDraggable);this.callSuper(b,d);this.setIsDraggable(g)},setIsDraggable:function(b){if(this.isDraggable!==b){this.isDraggable=
b;let d;b?d=this.attachToDom:this.inited&&(d=this.detachFromDom);if(d){b=this.getDragViews();let g=b.length;for(;g;){const e=b[--g];d.call(this,e,"__doMouseDown","mousedown");d.call(this,e,"__doContextMenu","contextmenu")}}}},setIsDragging:function(b){this.set("isDragging",b,!0)},setDragOffsetX:function(b,d){this.dragOffsetX!==b&&(this.dragOffsetX=b,this.inited&&this.isDragging&&!d&&this.reRequestDragPosition())},setDragOffsetY:function(b,d){this.dragOffsetY!==b&&(this.dragOffsetY=b,this.inited&&
this.isDragging&&!d&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(b){this.distanceBeforeDrag=b},setDraggableAllowBubble:function(b){this.draggableAllowBubble=b},setCenterOnMouse:function(b){this.centerOnMouse=b},setAllowAbort:function(b){this.allowAbort=b},getDragViews:function(){return[this]},__doContextMenu:b=>{},__doMouseDown:function(b){const d=n.MouseObservable.getMouseFromEvent(b),g=this.getODE();this.dragInitX=d.x-g.offsetLeft;this.dragInitY=d.y-g.offsetTop;this.attachToDom(r,
"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(r,"__doDragCheck","mousemove",!0):this.startDrag(b);b.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(b){this.isDragging?this.stopDrag(b,!1):(this.detachFromDom(r,"__doMouseUp","mouseup",!0),this.detachFromDom(r,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(b){b.value===h.CODE_ESC&&this.stopDrag(b,!0)},__doDragCheck:function(b){const d=n.MouseObservable.getMouseFromEvent(b);
n.Geometry.measureDistance(d.x,d.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(n.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(b))},startDrag:function(b){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(h,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(r,"updateDrag","mousemove",!0);this.updateDrag(b)},updateDrag:function(b){this.__lastMousePosition=
n.MouseObservable.getMouseFromEvent(b);this.reRequestDragPosition()},__updateDragInitX:function(b){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(b){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(b,d){this.detachFromDom(r,"__doMouseUp","mouseup",!0);this.detachFromDom(r,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(h,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(b,d){this.disabled||(this.setX(b),this.setY(d))},reRequestDragPosition:function(){const b=this.__lastMousePosition;this.requestDragPosition(b.x-this.dragInitX+this.dragOffsetX,b.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(n=>{const v=JS.Class;var w=JS.Module,r=n.View;const h=n.KeyActivation,a=n.AccessorSupport.defAttr,c=n.Button=new w("Button",{include:[n.Activateable,n.UpdateableUI,n.Disableable,n.MouseOverAndDown,h],extend:{FOCUS_SHADOW:[0,0,7,"#666"],DISABLED_OPACITY:.5},initNode:function(b,d){a(d,"focusable",!0);a(d,"cursor","pointer");this.callSuper(b,d)},setFocused:function(b){const d=this.focused;this.callSuper(b);this.inited&&this.focused!==d&&this.updateUI()},doActivationKeyDown:function(b,d){d||this.updateUI()},
doActivationKeyUp:function(b){this.callSuper(b);this.updateUI()},doActivationKeyAborted:function(b){this.callSuper(b);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const b=this.__restoreCursor;b&&(this.setCursor(b),this.__restoreCursor=null);this.activateKeyDown!==h.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});w=n.SimpleButtonStyle=new w("SimpleButtonStyle",{include:[c],setActiveColor:function(b){this.activeColor!==b&&(this.activeColor=b,this.inited&&this.updateUI())},setHoverColor:function(b){this.hoverColor!==
b&&(this.hoverColor=b,this.inited&&this.updateUI())},setReadyColor:function(b){this.readyColor!==b&&(this.readyColor=b,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(b,d=1){this.setOpacity(d);this.setBgColor(b)}});r=n.SimpleButton=new v("SimpleButton",r,{include:[w],initNode:function(b,
d){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(b,d)}});n.SimpleTextButton=new v("SimpleTextButton",r,{initNode:function(b,d){this.inset=this.outset=0;a(d,"shrinkToFit",!1);a(d,"height",24);a(d,"textY","middle");this.callSuper(b,d);b=this.textY;d={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?d.valign=b:d.y=b;b=new n.Text(this,d);this.constrain("__updateContent",[this,"inset",this,
"outset",this,"width",this,"shrinkToFit",b,"visible",b,"width",b,"height",b,"y"])},setInset:function(b){this.set("inset",this.valueFromEvent(b),!0)},setOutset:function(b){this.set("outset",this.valueFromEvent(b),!0)},setText:function(b){this.text!==b&&(this.text=b,this.inited&&(this.textView.setText(b),this.fireEvent("text",b)))},setShrinkToFit:function(b){const d=this.textView;this.shrinkToFit!==b&&(this.shrinkToFit=b,this.inited&&(d&&d.setWhiteSpace(b?"nowrap":"normal"),this.fireEvent("shrinkToFit",
b)))},setTextY:function(b){const d=this.textView;this.textY!==b&&(this.textY=b,this.inited&&(this.fireEvent("textY",b),"string"===typeof b?d.setValign(b):(d.setValign(""),d.setY(b))))},__updateContent:function(b){if(!this.__updateContentLoopBlock&&!this.destroyed){b=this.inset;const d=this.outset,g=this.textView;this.__updateContentLoopBlock=!0;g.setX(b);this.shrinkToFit?this.setWidth(b+(g.visible&&this.text?g.width:0)+d):g.setWidth(this.width-b-d);this.__updateContentLoopBlock=!1}}});n.TextButton=
new v("TextButton",n.PaddedText,{include:[w],initNode:function(b,d){a(d,"focusIndicator",!1);a(d,"roundedCorners",3);a(d,"textAlign","center");a(d,"paddingTop",1);a(d,"height",23-(d.paddingTop||0));a(d,"activeColor","#ddd");a(d,"hoverColor","#eee");a(d,"readyColor","#fff");this.callSuper(b,d)}})})(myt);
(n=>{const v=n.global,w=v.focus,r=v.mouse,h={};n.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>h[a]},initNode:function(a,c){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,c)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,c,b){a=a||this.floatingPanelId;b=b||{};b.panelId=a;return h[a]=new c(null,b)},getFloatingPanel:function(a){return h[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const c=this.getFloatingPanel(a=a||this.floatingPanelId);c&&c.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;if(a&&a.isShown())return a;if(this.callSuper)return this.callSuper()},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});n.FloatingPanel=new JS.Class("FloatingPanel",n.View,{include:[n.RootView],initNode:function(a,c){a=document.createElement("div");a.style.position="absolute";n.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;c.visible=c.focusIndicator=!1;c.focusable=c.focusCage=!0;this.callSuper(a,c)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var c=a.value;a=c.pageX;c=c.pageY;this.containsPoint(a,c)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,c)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(w.focusedView))this.owner[(w.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(a);else{const c=this.getFirstFocusableDescendant();c===this?this.callSuper(a):c.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&w.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(r,"__doMouseDown","mousedown",!0),this.attachTo(w,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(r,"__doMouseDown","mousedown",!0),this.detachFrom(w,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const c=this.panelId,b=a.getFloatingAlignForPanelId(c),d=a.getFloatingValignForPanelId(c),g=a.getPagePosition();let e=0,f=0,q=typeof b;if("string"===q)switch(e=g.x+a.getFloatingAlignOffsetForPanelId(c),b){case "outsideRight":e+=a.width;break;case "insideRight":e+=a.width-this.width;
break;case "outsideLeft":e-=this.width;break;case "insideLeft":break;default:console.warn("Invalid align value",q,b)}else"number"===q?e=b:console.warn("Invalid align type",q,b);this.setX(e);q=typeof d;if("string"===q)switch(f=g.y+a.getFloatingValignOffsetForPanelId(c),d){case "outsideBottom":f+=a.height;break;case "insideBottom":f+=a.height-this.height;break;case "outsideTop":f-=this.height;break;case "insideTop":break;default:console.warn("Invalid valign value",q,d)}else"number"===q?f=d:console.warn("Invalid valign type",
q,d);this.setY(f)}})})(myt);
(n=>{const v=JS.Class,w=JS.Module;var r=n.global;const h=r.focus,a=r.keys,c=n.AccessorSupport.defAttr,b=a.LIST_KEYS,d=g=>{var e=g.itemConfig||[];const f=e.length,q=g.items,k=q.length;var m=g.defaultItemClass;const t=g.getContentView(),p=t.getLayouts(),x=g.fixedWidth,z=0<x;p.forEach(y=>{y.incrementLockedCounter()});const E=t.getODE(),I=E.nextSibling,A=E.parentNode;A.removeChild(E);let B=0;const l={listView:g};z&&(l.width=x,l.enableEllipsis=!0);for(;f>B;++B){var u=e[B];const y=u.klass||m;u=u.attrs||
{};let D=q[B];D&&!D.isA(y)&&(D.destroy(),D=null);D||=q[B]=new y(t,Object.assign({},l));D&&(D.callSetters(u),D.__LAYOUT_IDX=B)}A.insertBefore(E,I);if(z)e=x;else for(e=g.minWidth,B=0;f>B;)m=q[B++],m.syncToDom(),e=Math.max(e,m.getMinimumWidth());for(;k>B;)q[B++].destroy();q.length=f;if(!z)for(B=0;f>B;)g.updateItemWidth(q[B++],e);g.updateContentWidth(t,e);p.forEach(y=>{y.sortSubviews((D,H)=>D.__LAYOUT_IDX-H.__LAYOUT_IDX);y.decrementLockedCounter();y.update()})};r=n.ListViewItemMixin=new w("ListViewItemMixin",
{setListView:function(g){this.listView=g},getMinimumWidth:()=>0,syncToDom:()=>{}});n.ListView=new v("ListView",n.FloatingPanel,{initNode:function(g,e){this.items=[];this.maxHeight=-1;this.minWidth=0;c(e,"defaultItemClass",n.ListViewItem);c(e,"overflow","autoy");c(e,"bgColor","#ccc");c(e,"boxShadow",n.Button.FOCUS_SHADOW);this.callSuper(g,e);d(this);this.buildLayout(this.getContentView())},buildLayout:g=>{new n.SpacedLayout(g,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(g){this.minWidth=
g},setDefaultItemClass:function(g){this.defaultItemClass=g},setItemConfig:function(g){this.itemConfig=g;this.inited&&d(this)},getContentView:function(){return this},setMaxHeight:function(g){this.maxHeight!==g&&(this.maxHeight=g,this.inited&&(this.fireEvent("maxHeight",g),this.setHeight(this.height)))},setHeight:function(g,e){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,g):g,e)},doItemActivated:function(g){this.owner&&this.owner.doItemActivated(g)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||
this.callSuper()},getFirstFocusableItem:function(){const g=this.items,e=g.length;for(let f=0;e>f;){const q=g[f++];if(q.isFocusable())return q}},getLastFocusableItem:function(){const g=this.items;let e=g.length;for(;e;){const f=g[--e];if(f.isFocusable())return f}},focusToLastItem:function(){const g=this.getLastFocusableItem();g&&g.focus()},focusToFirstItem:function(){const g=this.getFirstFocusableItem();g&&g.focus()},updateItemWidth:(g,e)=>{g.setWidth(e)},updateContentWidth:(g,e)=>{g.setWidth(e)}});
n.ListViewAnchor=new w("ListViewAnchor",{include:[n.FloatingPanelAnchor],initNode:function(g,e){c(e,"listViewClass",n.ListView);c(e,"listViewAttrs",{});c(e,"itemConfig",[]);c(e,"activationKeys",b);this.callSuper(g,e)},setListViewClass:function(g){this.listViewClass=g},setListViewAttrs:function(g){this.listViewAttrs=g},setItemConfig:function(g){this.itemConfig=g},doItemActivated:function(g){this.hideFloatingPanel()},getFloatingPanel:function(g){return this.callSuper(g)||this.createFloatingPanel(g,
this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(g){const e=this.getFloatingPanel(g);e&&(e.setItemConfig(this.itemConfig),this.callSuper(g))},doActivationKeyDown:function(g,e){if(g===a.CODE_ESC)this.hideFloatingPanel();else{switch(g){case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:this.focusToLastItem();break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:this.focusToFirstItem()}this.callSuper(g,e)}},doActivationKeyUp:function(g){if(g!==a.CODE_ESC)switch(this.callSuper(g),g){case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:this.focusToLastItem();
break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:this.focusToFirstItem()}},focusToLastItem:function(){const g=this.getFloatingPanel();g&&g.isShown()&&g.focusToLastItem()},focusToFirstItem:function(){const g=this.getFloatingPanel();g&&g.isShown()&&g.focusToFirstItem()}});n.ListViewItem=new v("ListViewItem",n.TextButton,{include:[r],initNode:function(g,e){c(e,"activeColor","#bbb");c(e,"hoverColor","#fff");c(e,"readyColor","#eee");c(e,"paddingLeft",8);c(e,"paddingRight",8);c(e,"textAlign","left");
c(e,"roundedCorners",0);c(e,"activationKeys",b);c(e,"focusIndicator",!0);const f=this.__enableEllipsis=e.enableEllipsis;delete e.enableEllipsis;this.callSuper(g,e);this.addDomClass("mytButtonText");f&&this.enableEllipsis()},setText:function(g){this.callSuper(g);this.__enableEllipsis&&this.setTooltip(this.text)},syncToDom:function(){this.getIDS().width="auto";this.sizeViewToDom()},getMinimumWidth:function(){return Math.ceil(this.measureNoWrapWidth())},doActivated:function(){this.listView.doItemActivated(this)},
doActivationKeyDown:function(g,e){switch(g){case a.CODE_ESC:this.listView.owner.hideFloatingPanel();return;case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:h.prev();break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:h.next()}this.callSuper(g,e)}});n.ListViewSeparator=new v("ListViewSeparator",n.View,{include:[r],initNode:function(g,e){c(e,"height",1);c(e,"bgColor","#666");this.callSuper(g,e)}})})(myt);
(n=>{const v=n.AccessorSupport,w={},r=n.BAG=new JS.Class("BAG",{include:[v,n.Destructible,n.Observable],extend:{getGroup:(h,a)=>{if(h&&a){const c=w[h]||(w[h]={});return c[a]||(c[a]=new r(h,a))}},removeGroup:(h,a)=>{if(h&&a&&(h=w[h])){const c=h[a];c&&delete h[a];return c}}},initialize:function(h,a){this.__nodes=[];this.trueNode=null;this.attrName=h;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&r.removeGroup(this.attrName,this.groupId);this.__nodes.length=
0;this.detachAllObservers();this.callSuper()},setGroupId:function(h){this.set("groupId",h,!0)},setAttrName:function(h){this.set("attrName",h,!0)},setTrueNode:function(h){this.set("trueNode",h,!0)},getNodes:function(){return this.__nodes},register:function(h){h&&!this.isRegistered(h)&&(this.__nodes.push(h),h[this.attrName]&&this.setTrue(h))},unregister:function(h){if(h){const a=this.__nodes,c=a.indexOf(h);-1<c&&a.splice(c,1);this.trueNode===h&&this.setTrueNode(null);0===a.length&&this.destroy()}},
setTrue:function(h){if(h&&this.trueNode!==h&&this.isRegistered(h)){const a=this.attrName,c=v.generateSetterName(a),b=this.__nodes;let d=b.length;for(this.setTrueNode(h);d;){const g=b[--d];if(h===g){if(!g[a])g[c](!0)}else if(g[a])g[c](!1)}}},setFalse:function(h){h&&this.trueNode===h&&(h[v.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(h){const a=this.__nodes;let c=a.length;for(;c;)if(h===a[--c])return!0;return!1}});n.BAGMembership=new JS.Module("BAGMembership",
{initNode:function(h,a){this.__bags=[];this.callSuper(h,a)},destroy:function(){const h=this.__bags;let a=h.length;for(;a;){const c=h[--a];this.removeFromBAG(c.attrName,c.groupId)}this.callSuper()},isRegisteredWithBAG:function(h){const a=this.__bags;let c=a.length;for(;c;)if(a[--c]===h)return!0;return!1},getBAG:(h,a)=>r.getGroup(h,a),addToBAG:function(h,a){a=this.getBAG(h,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,"__updateForBAG",h)||this.attachTo(this,
"__updateForBAG",h))},removeFromBAG:function(h,a){a=this.getBAG(h,a);if(this.isRegisteredWithBAG(a)){const c=this.__bags;let b=c.length,d=!0;for(;b;){const g=c[--b];g===a?(c.splice(b,1),a.unregister(this)):g.attrName===h&&(d=!1)}d&&this.detachFrom(this,"__updateForBAG",h)}},__updateForBAG:function(h){this.__bags.forEach(a=>{if(a.attrName===h.type)a[h.value?"setTrue":"setFalse"](this)})}})})(myt);
(n=>{const v=n.AccessorSupport.defAttr,w=r=>{const h=r.label||"";r.setText('<i class="far fa-'+(!0===r.selected?"dot-":"")+'circle"></i>'+(0<h.length?" ":"")+h)};n.Radio=new JS.Class("Radio",n.Text,{include:[n.SimpleButtonStyle,n.BAGMembership],initNode:function(r,h){v(h,"selected",!1);null==h.groupId&&(h.groupId=n.generateGuid());v(h,"focusIndicator",!1);v(h,"activeColor","inherit");v(h,"hoverColor","inherit");v(h,"readyColor","inherit");const a=h.value;delete h.value;this.callSuper(r,h);this.setValue(a);
this.selected&&(r=this.getBAG("selected",this.groupId))&&r.setTrue(this);n.FontAwesome.registerForNotification(this);w(this)},setOptionValue:function(r){this.set("optionValue",r,!0)},setValue:function(r){if(this.inited){const h=this.getBAG("selected",this.groupId);if(h){const a=h.getNodes();let c=a.length;for(;c;){const b=a[--c];if(b.optionValue===r){h.setTrue(b);break}}}}},getValue:function(){var r=this.getBAG("selected",this.groupId);return(r=r?r.trueNode:null)?r.optionValue:null},setSelected:function(r){this.selected!==
r&&(this.selected=r,this.inited&&(this.fireEvent("selected",r),w(this)))},setGroupId:function(r){if(this.groupId!==r){const h=this.groupId;this.groupId=r;h&&this.removeFromBAG("selected",h);r&&this.addToBAG("selected",r);this.inited&&this.fireEvent("groupId",r)}},setLabel:function(r){this.label!==r&&(this.set("label",r,!0),this.inited&&w(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(r,h=1){this.setOpacity(h);this.setTextColor(r)}})})(myt);
(n=>{const v=JS.Module,w=n.global.keys,r=n.Selectable=new v("Selectable",{setSelected:function(a){a=this.valueFromEvent(a);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return!!this.selected},canSelect:a=>!0,canDeselect:a=>!0}),h=n.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>w.isShiftKeyDown(),isToggleMode:()=>w.isAcceleratorKeyDown()},initNode:function(a,c){this.__selected={};this.__lastSelectedItem=null;
c.selectedCount=0;this.defAttr(c,"itemSelectionId","id");this.defAttr(c,"maxSelected",-1);this.callSuper(a,c)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>h.isAddMode(),isToggleMode:()=>h.isToggleMode(),getSelected:function(){const a=[],c=this.__selected;for(const b in c)a.push(c[b]);return a},select:function(a){a&&
!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const c=this.maxSelected,b=this.selectedCount;if(0===c)return!1;if(1===c){if(0<b&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<c&&b>=c)return!1;return a.canSelect(this)},
selectAll:function(){const a=this.getSelectableItems();let c=a.length;for(;c;)this.select(a[--c])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},
deselectAll:function(){const a=this.__selected;for(const c in a)this.deselect(a[c])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],c=this.getSubviews();let b=c.length;for(;b;){const d=c[--b];d.isA(r)&&a.push(d)}return a},getSelectableItems:function(){const a=this.getManagedItems();let c=a.length;for(;c;)a[--c].canSelect(this)||a.splice(c,1);return a},getSelectableItem:function(a){const c=
this.getSelectableItems(),b=this.itemSelectionId;let d=c.length;for(;d;){const g=c[--d];if(g[b]===a)return g}}})})(myt);
(n=>{const v=JS.Class,w=n.View,r=n.SizeToParent,h=n.AccessorSupport.defAttr,a=n.TabSlider=new v("TabSlider",w,{include:[n.Selectable,n.Disableable,r],initNode:function(b,d){const g=this;let e;d.defaultPlacement="wrapper.container";d.percentOfParentWidth=100;d.expansionState="collapsed";null==d.tabId&&(d.tabId=n.generateGuid());h(d,"tabContainer",b);h(d,"selected",!1);h(d,"buttonClass",n.SimpleButton);h(d,"zIndex",0);h(d,"buttonHeight",30);h(d,"fillColorSelected","#666");h(d,"fillColorHover","#eee");
h(d,"fillColorActive","#ccc");h(d,"fillColorReady","#fff");h(d,"minContainerHeight",100);d.selected&&(e=!0,delete d.selected);g.callSuper(b,d);new g.buttonClass(g,{name:"button",ignorePlacement:!0,zIndex:1,height:g.buttonHeight,focusIndicator:!0,groupId:g.parent.parent.groupId,percentOfParentWidth:100,hoverColor:g.fillColorHover,activeColor:g.fillColorActive,readyColor:g.fillColorReady},[r,{doActivated:()=>{const f=g.tabContainer;g.isSelected()&&1!==f.maxSelected?f.deselect(g):f.select(g)},updateUI:function(){this.callSuper();
g.selected&&-1!==g.tabContainer.maxSelected&&this.setBgColor(g.fillColorSelected);g.notifyButtonRedraw()}}]);b=new w(g,{name:"wrapper",ignorePlacement:!0,y:g.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[r,{setHeight:function(f,q){this.callSuper(Math.round(f),q)},setWidth:function(f,q){this.callSuper(f,q);this.inited&&this.container.setWidth(f)}}]);new n.SizeToChildren(new w(b,{name:"container"}),{axis:"y"});g.constrain("__updateHeight",[b,"y",b,"height"]);
e&&g.tabContainer.select(g);!0===d.disabled&&g.setDisabled(!0);g.setHeight(g.getCollapsedHeight())},setSelected:function(b){this.callSuper(b);this.button&&this.button.updateUI()},setTabId:function(b){this.tabId=b},setTabContainer:function(b){this.tabContainer=b},setMinContainerHeight:function(b){this.minContainerHeight=b},setButtonClass:function(b){this.buttonClass=b},setFillColorSelected:function(b){this.fillColorSelected=b},setFillColorHover:function(b){this.fillColorHover=b},setFillColorActive:function(b){this.fillColorActive=
b},setFillColorReady:function(b){this.fillColorReady=b},setButtonHeight:function(b){this.buttonHeight!==b&&(this.buttonHeight=b,this.button&&(this.button.setHeight(b),this.wrapper.setY(b)))},setExpansionState:function(b){if(this.expansionState!==b){this.expansionState=b;this.inited&&this.fireEvent("expansionState",b);const d=this.wrapper;d&&("expanded"===b?(d.setMaskFocus(!1),d.setOverflow("auto")):"expanding"===b?d.setVisible(!0):"collapsed"===b?d.setVisible(!1):"collapsing"===b&&(d.setMaskFocus(!0),
d.setOverflow("hidden")))}},doDisabled:function(){const b=this.button;b&&b.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(b){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(b){const d=this,g=d.wrapper;b-=d.getCollapsedHeight();d.setExpansionState("expanding");g.stopActiveAnimators();if(g.height!==b){const e=d.tabContainer.duration;1===e?(g.setHeight(b),d.setExpansionState("expanded")):g.animate({attribute:"height",to:b,duration:e}).next(f=>{d.setExpansionState("expanded")})}else d.setExpansionState("expanded")},
collapse:function(){const b=this,d=b.wrapper;b.setExpansionState("collapsing");d.stopActiveAnimators();if(0!==d.height){const g=b.tabContainer.duration;1===g?(d.setHeight(0),b.setExpansionState("collapsed")):d.animate({attribute:"height",to:0,duration:g}).next(e=>{b.setExpansionState("collapsed")})}else b.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},
getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}});n.TextTabSlider=new v("TextTabSlider",a,{initNode:function(b,d){h(d,"labelTextColorChecked","#fff");h(d,"labelTextColor","#333");this.callSuper(b,d);new n.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(b){this.labelTextColorChecked=b},setLabelTextColor:function(b){this.labelTextColor=
b},setText:function(b){if(this.text!==b){this.text=b;const d=this.button;d&&d.label&&d.label.setText(b)}},notifyButtonRedraw:function(){const b=this.button.label;b&&b.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});const c=n.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[n.SelectionManager],extend:{SPACING:1},initNode:function(b,d){const g=this;g._tabSliders=[];
d.defaultPlacement="container";h(d,"spacing",c.SPACING);h(d,"overflow","autoy");h(d,"itemSelectionId","tabId");h(d,"maxSelected",1);h(d,"duration",500);g.updateLayout=n.debounce(g.updateLayout);g.callSuper(b,d);b=new w(g,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[r,{subnodeAdded:function(e){this.callSuper(e);e instanceof a&&(g._tabSliders.push(e),g.attachTo(e,"updateLayout","selected"))},subnodeRemoved:function(e){if(e instanceof a){const f=g._tabSliders,q=f.indexOf(e);-1<q&&
(g.detachFrom(e,"updateLayout","selected"),f.splice(q,1))}this.callSuper(e)}}]);new n.SpacedLayout(b,{name:"layout",axis:"y",spacing:g.spacing,collapseParent:!0});g.attachTo(g,"updateLayout","height")},setSpacing:function(b){this.spacing!==b&&(this.spacing=b,this.layout&&this.layout.setSpacing(b))},setDuration:function(b){this.duration=b},updateLayout:function(b,d){b=this._tabSliders;for(var g=b.length,e=g,f=0,q=0,k=0;e;){var m=b[--e];m.visible&&(++k,m.selected?(f+=m.getMinimumExpandedHeight(),q+=
m.getPreferredExpandedHeight()):(m=m.getCollapsedHeight(),f+=m,q+=m))}e=this.container.layout;k=e.inset+e.outset+e.spacing*(k-1);q+=k;e=this.height;f=f+k>e;k=q>e;m=this.duration;q-=e;0<d&&this.setDuration(d);for(e=g;e;)if(g=b[--e],g.visible)if(g.selected){let t;if(f)t=g.getMinimumExpandedHeight();else if(k){const p=g.getPreferredExpandedHeight(),x=g.getMinimumExpandedHeight();t=p-q;x>t?(q-=p-x,t=x):q=0}else t=g.getPreferredExpandedHeight();g.expand(t)}else g.collapse();0<d&&this.setDuration(m)}})})(myt);
(n=>{const v=n.AccessorSupport.defAttr,w=a=>{const c=[];switch(a.tabContainer.location){case "top":c.push("TopLeft","TopRight");break;case "bottom":c.push("BottomLeft","BottomRight");break;case "left":c.push("TopLeft","BottomLeft");break;case "right":c.push("TopRight","BottomRight")}c.forEach(b=>{a["setRounded"+b+"Corner"](a.cornerRadius||0)})},r=n.Tab=new JS.Class("Tab",n.SimpleTextButton,{include:[n.Selectable],extend:{INSET:8,OUTSET:8},initNode:function(a,c){null==c.tabId&&(c.tabId=n.generateGuid());
v(c,"tabContainer",a);let b;c.selected&&(b=!0,delete c.selected);v(c,"inset",r.INSET);v(c,"outset",r.OUTSET);v(c,"selectedColor","#fff");v(c,"hoverColor","#eee");v(c,"activeColor","#aaa");v(c,"readyColor","#ccc");v(c,"labelTextSelectedColor","#333");v(c,"height",24);v(c,"focusIndicator",!1);v(c,"cornerRadius",6);this.callSuper(a,c);b&&this.tabContainer.select(this);w(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(a){this.tabId=a},
setTabContainer:function(a){this.tabContainer=a},setSelectedColor:function(a){this.selectedColor=a},setLabelTextColor:function(a){this.labelTextColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&w(this)},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}}),h=n.TabContainer=new JS.Module("TabContainer",{include:[n.SelectionManager],extend:{SPACING:1,INSET:0},initNode:function(a,c){this.__tabs=[];v(c,"spacing",h.SPACING);v(c,"inset",h.INSET);v(c,"location","top");v(c,"itemSelectionId","tabId");v(c,"maxSelected",1);this.callSuper(a,c);new n.SpacedLayout(this,{name:"layout",axis:"left"===this.location||
"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(r))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(r)){const c=this.__tabs,b=c.indexOf(a);-1<b&&c.splice(b,1)}this.callSuper(a)}})})(myt);
(n=>{const v=JS.Class,w=Math.min,r=Array.isArray,h=n.global.keys,a=n.SizeToDom;var c=n.View,b=n.Disableable;const d=n.AccessorSupport.defAttr,g=n.Button.FOCUS_SHADOW,e=(m,t,p)=>{m[p]!==t&&(m[p]=t,m.getIDS()[p]=t+"px",m.inited&&(m.fireEvent(p,t),m.sizeViewToDom()))},f=(m,t,p)=>{m[t]!==p&&(m.getIDE()[t]=m[t]=p,m.inited&&m.fireEvent(t,p))},q=n.NativeInputWrapper=new v("NativeInputWrapper",c,{include:[b,n.InputObservable],initNode:function(m,t){d(t,"tagName","input");d(t,"focusable",!0);this.callSuper(m,
t);this.addDomClass("mytNativeInput")},createOurDomElement:function(m){m=this.callSuper(m);this.inputType&&((r(m)?m[1]:m).type=this.inputType);return m},setDisabled:function(m){this.disabled!==m&&(this.getIDE().disabled=m,this.callSuper(m))},setValue:function(m){this.value!==m&&(this.value=m,this.setDomValue(m),this.inited&&this.fireEvent("value",m))},getDomValue:function(){return this.getIDE().value},setDomValue:function(m){const t=this.getIDE();t.value!==m&&(t.value=m)}}),k=n.InputSelectOption=
new v("InputSelectOption",c,{include:[b,n.Selectable],createOurDomElement:m=>document.createElement("option"),setSelected:function(m){m=this.valueFromEvent(m);const t=this.getIDE();t.selected!==m&&(t.selected=m)},setDisabled:function(m){this.disabled!==m&&(this.getIDE().disabled=m,this.callSuper(m))},setValue:function(m){f(this,"value",m)},setLabel:function(m){this.label!==m&&(this.getIDE().textContent=this.label=m,this.inited&&this.fireEvent("label",m))},isSelected:function(){return this.getIDE().selected},
canSelect:function(m){return!this.disabled&&!this.getIDE().selected&&this.parent===m},canDeselect:function(m){return!this.disabled&&this.getIDE().selected&&this.parent===m}});c=n.BaseInputText=new v("BaseInputText",q,{include:[n.TextSupport],initNode:function(m,t){d(t,"bgColor","transparent");d(t,"spellcheck",!1);this.callSuper(m,t);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(m){this.callSuper(m);
this.setValue(m)},setSpellcheck:function(m){f(this,"spellcheck",m)},setMaxLength:function(m){f(this,"maxLength",null==m||0>m?void 0:m)},setAllowedChars:function(m){this.allowedChars=m},setPlaceholder:function(m){f(this,"placeholder",m)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(g)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(m){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(m){const t=
m.value,p=this.allowedChars;p&&-1===p.indexOf(n.KeyObservable.getKeyFromEvent(m))&&t.preventDefault();this.filterInputPress(t)},filterInput:m=>m,filterInputPress:m=>{},__syncToDom:function(m){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const m=document.selection.createRange();m.moveStart("character",-this.getDomValue().length);return m.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(m,t){if(null==t||m===t){if(this.getCaretPosition()===
m)return;t=m}var p=this.getIDE();p.setSelectionRange?p.setSelectionRange(m,t):p.createTextRange&&(p=p.createTextRange(),p.collapse(!0),p.moveEnd("character",t),p.moveStart("character",m),p.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const m=this.getIDE();return{start:m.selectionStart,startElem:m,end:m.selectionEnd,endElem:m}},setSelection:function(m){m&&
this.setCaretPosition(m.start,m.end)},saveSelection:function(m){this._selRange=m||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});b=n.InputText=new v("InputText",c,{include:[n.SizeHeightToDom],initNode:function(m,t){this.inputType=!0===t.password?"password":"text";this.callSuper(m,t);this.setCaretToEnd()},setPassword:function(m){this.set("password",m,!0);this.inited&&(this.getIDE().type=m?"password":"text")}});n.EditableText=new v("EditableText",
c,{include:[a],initNode:function(m,t){d(t,"tagName","div");t.inputType=null;d(t,"whiteSpace","pre");d(t,"contentEditable",!0);this.callSuper(m,t);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(m){e(this,m,"minWidth")},setMinHeight:function(m){e(this,m,"minHeight")},setPadding:function(m){this.setPaddingTop(m);this.setPaddingRight(m);this.setPaddingBottom(m);
this.setPaddingLeft(m)},setPaddingTop:function(m){e(this,m,"paddingTop")},setPaddingRight:function(m){e(this,m,"paddingRight")},setPaddingBottom:function(m){e(this,m,"paddingBottom")},setPaddingLeft:function(m){e(this,m,"paddingLeft")},setContentEditable:function(m){f(this,"contentEditable",m)},filterInputPress:function(m){const t=this.maxLength;0<=t&&this.getCharacterCount()===t&&m.preventDefault();this.callSuper(m)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(m){const t=
this.getIDE();t.innerHTML!==m&&(t.innerHTML=m,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(m){n.KeyObservable.isEnterKeyEvent(m)&&(m.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(m){this.callSuper(m);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const m=this.getIDE().firstChild;return m?m.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===
this.getCharacterCount()},getCaretPosition:function(){const m=this.getSelection();return m?m.end:0},setCaretPosition:function(m,t){if(null==t||m===t){if(this.getCaretPosition()===m)return;t=m}this.saveSelection({start:m,startElem:this.getIDE().firstChild,end:t,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(m){this.saveSelection();return!0},getSelection:function(){let m;if(window.getSelection){const t=window.getSelection();
if(0<t.rangeCount){if(t.extentNode===this.getIDE())return;m=t.getRangeAt(0)}}else document.selection&&(m=document.selection.createRange());return{start:m?m.startOffset:0,startElem:m?m.startContainer:this.getIDE().firstChild,end:m?m.endOffset:0,endElem:m?m.endContainer:this.getIDE().firstChild}},setSelection:function(m){if(m){const t=m.startElem,p=m.endElem;if(t&&t.parentNode&&p&&p.parentNode){const x=document.createRange();x.setStart(t,w(m.start,t.length));x.setEnd(p,w(m.end,p.length));window.getSelection?
(m=window.getSelection(),0<m.rangeCount&&m.removeAllRanges(),m.addRange(x)):document.selection&&x.select()}}}});n.InputTextArea=new v("InputTextArea",c,{initNode:function(m,t){d(t,"tagName","textarea");t.inputType=null;d(t,"resize","none");d(t,"wrap","soft");this.callSuper(m,t)},destroy:function(){this.__resizeObserver&&this.__resizeObserver.unobserve(this.getIDE());this.callSuper()},setResize:function(m){const t=this;t.resize!==m&&(m=t.resize=t.getIDS().resize=m||"none",t.inited&&t.fireEvent("resize",
m),"none"!==m&&(t.__resizeObserver||(t.__resizeObserver=new ResizeObserver(()=>{t.doResize()}))).observe(t.getIDE()))},setWrap:function(m){f(this,"wrap",m)},doResize:function(){const m=this.resize;"both"!==m&&"horizontal"!==m||a.sizeWidth(this);"both"!==m&&"vertical"!==m||a.sizeHeight(this)}});n.ComboBox=new v("ComboBox",b,{include:[n.Activateable,n.KeyActivation,n.ListViewAnchor],initNode:function(m,t){this.filterItems=!0;d(t,"activationKeys",[h.CODE_ENTER,h.CODE_ESC,h.CODE_ARROW_UP,h.CODE_ARROW_DOWN]);
d(t,"bgColor","#fff");d(t,"borderWidth",1);d(t,"borderStyle","solid");d(t,"floatingAlignOffset",t.borderWidth);d(t,"listViewAttrs",{maxHeight:99});d(t,"fullItemConfig",[]);this.callSuper(m,t)},setFullItemConfig:function(m){this.fullItemConfig=m},setFilterItems:function(m){this.filterItems=m},__syncToDom:function(m){const t=this.value;this.callSuper(m);t!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(m){const t=this.getFloatingPanel(m);if(t){let x;if(this.filterItems){x=[];var p=
this.value;p=null==p?"":(""+p).toLowerCase();const z=this.fullItemConfig,E=z.length;for(let I=0;E>I;){const A=z[I++],B=A.attrs.text.toLowerCase(),l=B.indexOf(p);0===l?B!==p&&x.push(A):0<l&&x.push(A)}}else x=this.fullItemConfig;0<x.length?(t.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(x),this.callSuper(m)):this.hideFloatingPanel(m)}},doItemActivated:function(m){this.setValue(m.text);this.callSuper(m)},doActivated:function(){this.toggleFloatingPanel()}});n.InputSelect=new v("InputSelect",
q,{include:[a],initNode:function(m,t){d(t,"tagName","select");t.inputType=null;d(t,"multiple",!1);d(t,"size",t.multiple?4:1);this.callSuper(m,t);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(m){f(this,"multiple",m)},setSize:function(m){f(this,"size",m)},setOptions:function(m){this.destroyAllOptions();r(m)&&m.forEach(t=>{this.addOption(t)})},getOptions:function(){return this.getSubviews().slice()},setValue:function(m){r(m)&&n.areArraysEqual(m,this.value)||this.value===
m||(this.value=m,this.inited&&this.fireEvent("value",m))},subviewAdded:function(m){m instanceof k||(n.dumpStack("Subview unsupported. Destroying it"),m.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(g)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(m=>m.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(m=>m.value)},getOptionForValue:function(m){return this.getOptions().find(t=>
t.value===m)},addOption:function(m){return new k(this,m)},destroyAllOptions:function(){this.getOptions().forEach(m=>{m.destroy()})},destroyOptionWithValue:function(m){if(m=this.getOptionForValue(m))if(m.destroy(),m.destroyed)return!0;return!1},deselectAll:function(){let m=!1;this.getOptions().forEach(t=>{t.isSelected()&&(t.setSelected(!1),m=!0)});m&&this.__doChanged()},selectValues:function(m){(r(m)?m:[m]).forEach(t=>{this.selectValue(t)})},selectValue:function(m){this.select(this.getOptionForValue(m))},
select:function(m){m&&m.canSelect(this)&&(m.setSelected(!0),this.__syncToDom())},deselectValue:function(m){this.deselect(this.getOptionForValue(m))},deselect:function(m){m&&m.canDeselect(this)&&(m.setSelected(!1),this.__syncToDom())},__doChanged:function(m){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(n=>{const v=JS.Module,w=Math.round;var r=n.ValueComponent=new v("ValueComponent",{initNode:function(a,c){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,c)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,c){const b=this.valueFilter;
this.setValueFilter(b?"last"===c?d=>a(b(d)):d=>b(a(d)):a)}});const h=n.RangeComponent=new v("RangeComponent",{include:[r],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var c=
this.value;const b=c?c.lower:void 0;c=c?c.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==b||a.upper!==c){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const d=a.lower;a.lower=a.upper;a.upper=d}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==b&&this.fireEvent("lowerValue",a.lower),a.upper!==c&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});r=n.BoundedValueComponent=new v("BoundedValueComponent",{include:[r],initNode:function(a,c){const b=this;b.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==c.snapToInt&&(c.snapToInt=!0);c.valueFilter||(c.valueFilter=d=>{var g=b.maxValue;if(null!=g&&d>g)return g;g=b.minValue;return null!=g&&d<g?g:d});b.callSuper(a,c)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=w(a));if(this.minValue!==a){const c=this.maxValue;null!=c&&a>c&&(a=c);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=w(a));if(this.maxValue!==a){const c=this.minValue;null!=c&&a<c&&(a=c);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",a),this.setValue(this.value)))}},
setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?w(a):a)}});n.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[r,h],initNode:function(a,c){const b=this;c.valueFilter||(c.valueFilter=d=>{if(d){const g=b.maxValue,e=b.minValue;null!=g&&d.upper>g&&(d.upper=g);null!=e&&d.lower<e&&(d.lower=e)}return d});b.callSuper(a,c)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=w(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=w(a.upper)));
this.callSuper(a)}})})(myt);
(n=>{const v=n.AccessorSupport.defAttr,w=r=>{const h=r.label||"";r.setText('<i class="'+("solid"===(r.checkboxStyle||"outline")?"fas":"far")+" fa-"+(r.isChecked()?"check-":"")+'square"></i>'+(0<h.length?" ":"")+h)};n.Checkbox=new JS.Class("Checkbox",n.Text,{include:[n.SimpleButtonStyle,n.ValueComponent],initNode:function(r,h){this.appendToEarlyAttrs("userUnselectable");v(h,"value",!1);v(h,"focusIndicator",!1);v(h,"checkboxStyle","outline");v(h,"activeColor","inherit");v(h,"hoverColor","inherit");
v(h,"readyColor","inherit");this.callSuper(r,h);n.FontAwesome.registerForNotification(this);w(this)},setValue:function(r){this.value!==r&&(this.callSuper(r),this.inited&&w(this))},setLabel:function(r){this.label!==r&&(this.set("label",r,!0),this.inited&&w(this))},setCheckboxStyle:function(r){this.checkboxStyle!==r&&(this.set("checkboxStyle",r,!0),this.inited&&w(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(r,h=1){this.setOpacity(h);
this.setTextColor(r)}})})(myt);
(n=>{let v;const w=JS.Class,r=JS.Module,h=n.global,a=h.focus,c=h.keys,b=n.AccessorSupport.defAttr,d=n.KeyObservable,g={},e=(l,u)=>{if(l){const y=l.id;l.id?u(y):n.dumpStack("No ID")}else n.dumpStack("No processor")},f=l=>{e(l,u=>{g[u]=l})},q=l=>{const u=n.BAG.getGroup("selected",l.groupId);if(u){const y=u.getNodes();l=l.value;let D=y.length;for(;D;){const H=y[--D];if(H.optionValue===l){u.setTrue(H);break}}}},k=l=>{if(l.groupId){const u=n.BAG.getGroup("selected",l.groupId);u&&l.syncTo(u,"__syncValue",
"trueNode")}},m=(l,u)=>{const y=[];(l.__v||[]).forEach(D=>{u=D.isFormValid(l,null,y)&&u});l.setErrorMessages(y);l.setIsValid(u);return u},t=(l,u,y)=>{(l.__vp||[]).forEach(D=>{D[y]&&(u=D.process(u))});return u},p=n.ValueProcessor=new w("ValueProcessor",{initialize:function(l,u,y,D){this.id=l;this.runForDefault=!!u;this.runForRollback=!!y;this.runForCurrent=!!D},process:l=>l}),x=n.ToNumberValueProcessor=new w("ToNumberValueProcessor",p,{process:l=>{if(null==l||""===l||"-"===l)return l;const u=Number(l);
return isNaN(u)?l:u}}),z=n.TrimValueProcessor=new w("TrimValueProcessor",p,{initialize:function(l,u,y,D,H){this.callSuper(l,u,y,D);this.trim=H},process:function(l){l+="";switch(this.trim){case "start":case "left":return l.trimStart();case "end":case "right":return l.trimEnd();default:return l.trim()}}}),E=n.UndefinedValueProcessor=new w("UndefinedValueProcessor",p,{initialize:function(l,u,y,D,H){this.callSuper(l,u,y,D);this.defaultValue=H},process:function(l){return void 0===l?this.defaultValue:l}}),
I=n.Form=new r("Form",{initNode:function(l,u){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(l,u);this.form&&this.form.isA(I)&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.isA(I)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(l){this.set("errorMessages",l,!0)},getFullId:function(){const l=[this.id];let u=this.form;for(;u&&u.id;)l.unshift(u.id),u=u.form;return l.join(".")},setId:function(l){if(this.id!==
l){const u=this.id;this.id=l;(l=this.form)&&this.inited&&(l.removeSubForm(u),l.addSubForm(this))}},setForm:function(l){if(this.form!==l){const u=this.form;this.form=l;u&&u.removeSubForm(this.id);l&&this.inited&&l.addSubForm(this)}},setIsValid:function(l){this.isValid=l;this.inited&&this.fireEvent("isValid",l);const u=this.form;u&&!this._lockCascade&&(l?u.verifyValidState(this):u.notifySubFormInvalid())},setIsChanged:function(l){if(this.isChanged!==l){this.isChanged=l;this.inited&&this.fireEvent("isChanged",
l);const u=this.form;u&&!this._lockCascade&&(l?u.notifySubFormChanged():u.verifyChangedState(this))}},setValidators:function(l){let u=l.length;for(;u;){const y=l[--u];"string"===typeof y&&(l[u]=h.validators.getValidator(y),l[u]||l.splice(u,1))}this.__v=l},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(A))return this.value;const l={},u=this.__sf;for(const y in u)l[y]=u[y].getValue();return l},setValue:function(l){this.callSuper&&this.callSuper(l);if("object"===typeof l&&
!this.isA(A))for(const u in l){const y=this.getSubForm(u);y?l[u]=y.setValue(l[u]):console.warn("ID in setValue for missing subform",u)}this.form&&this.form.notifyValueChanged(this);return l},getDefaultValue:function(){const l={};let u=this.__sf;for(const y in u)l[y]=u[y].getDefaultValue();return l},setDefaultValue:function(l){if("object"===typeof l)for(const u in l){const y=this.getSubForm(u);y?l[u]=y.setDefaultValue(l[u]):console.warn("ID in setDefaultValue for missing subform",u)}return l},getRollbackValue:function(){const l=
{},u=this.__sf;for(const y in u)l[y]=u[y].getRollbackValue();return l},setRollbackValue:function(l){if("object"===typeof l)for(const u in l){const y=this.getSubForm(u);y?l[u]=y.setRollbackValue(l[u]):console.warn("ID in setRollbackValue for missing subform",u)}return l},addAccelerator:function(l,u){this.__acc[l]=u},removeAccelerator:function(l){delete this.__acc[l]},invokeAccelerator:function(l,u){(l=this.__acc[l])&&l.call(this,null==u?null:u)},addValidator:function(l){l&&this.__v.push(l)},removeValidator:function(l){if(l){const u=
this.__v;let y=u.length;for(;y;){const D=u[--y];if(D.id===l)return u.splice(y,1),D}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(l){const u=l.id;null!=this.getSubForm(u)?console.warn("ID in use for subform, add aborted",u,l):(l.setForm(this),this.__sf[u]=l,l.isChanged&&this.notifySubFormChanged(),l.isValid||this.notifySubFormInvalid())},removeSubForm:function(l){const u=this.getSubForm(l);u&&(u.setForm(null),delete this.__sf[l],this.verifyChangedState(),
this.verifyValidState());return u},getSubForm:function(l){return this.__sf[l]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(l){l&&this.doValidation();const u=[];(function H(D){if(D.isA(A))D.isValid||u.push(D.getFullId());else{D=D.getSubForms();for(const J in D)H(D[J])}})(this);return u},getAllErrorMessages:function(){const l=this.__sf;let u=(this.errorMessages||[]).slice();for(const y in l)u=u.concat(l[y].getAllErrorMessages());return u},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(l){const u=this.__sf;let y=!0;for(const D in u){const H=u[D];H!==l&&(y=H.isValid&&y)}return m(this,y)},doValidation:function(){const l=this.__sf;let u=!0;for(const y in l)u=l[y].doValidation()&&u;this._lockCascade=!0;u=m(this,u);this._lockCascade=!1;return u},notifyValueChanged:function(l){this.form&&this.form.notifyValueChanged(l)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(l){const u=this.__sf;let y=!1;for(const D in u){const H=u[D];
H!==l&&(y=H.isChanged||y)}this.setIsChanged(y);return y},setup:function(l,u,y){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==l&&(l={});null==u&&(u={});null==y&&(y={});const D=this.__sf;for(const H in D)D[H].setup(l[H],u[H],y[H])},resetForm:function(){this._lockCascade=!0;const l=this.__sf;for(const u in l)l[u].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=
!0;const l=this.__sf;for(const u in l)l[u].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const l={},u=this.__sf;for(const y in u){const D=u[y];D.isChanged&&(l[y]=D.getChangedValue())}return l}}),A=n.FormElement=new r("FormElement",{include:[I],initNode:function(l,u){this.__vp=[];this.callSuper(l,u)},getValue:function(){return t(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(l){void 0===
l&&(l=this.getRollbackValue());this.value!==l&&(this.callSuper(l),this.verifyChangedState());return l},getDefaultValue:function(){return t(this,this.defaultValue,"runForDefault")},setDefaultValue:function(l){this.defaultValue!==l&&(this.defaultValue=l,this.inited&&this.fireEvent("defaultValue",l),this.verifyChangedState());return l},getRollbackValue:function(){return t(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(l){void 0===l&&(l=this.getDefaultValue());this.rollbackValue!==
l&&(this.rollbackValue=l,this.inited&&this.fireEvent("rollbackValue",l),this.verifyChangedState());return l},setValueProcessors:function(l){let u=l.length;for(;u;){const y=l[--u];"string"===typeof y&&(l[u]=g[y],l[u]||l.splice(u,1))}this.__vp=l},addValueProcessor:function(l){this.__vp.push(l)},removeValueProcessor:function(l){if(l){const u=this.__vp;let y=u.length;for(;y;){const D=u[--y];if(D.id===l)return u.splice(y,1),D}}},addSubForm:l=>{n.dumpStack("addSubForm unsupported on FormElement")},getSubForm:l=>
{n.dumpStack("getSubForm unsupported on FormElement")},removeSubForm:l=>{n.dumpStack("removeSubForm unsupported on FormElement")},verifyChangedState:function(l){l=this.getValue()!==this.getRollbackValue();this.setIsChanged(l);return l},setup:function(l,u,y){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(l);this.setRollbackValue(u);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(y)},resetForm:function(){this._lockCascade=
!0;const l=this.getDefaultValue();this.setRollbackValue(l);this.setValue(l);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),B=n.FormInputTextMixin=new r("FormInputTextMixin",{include:[A,n.UpdateableUI],initNode:function(l,
u){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";b(u,"bgColor","#fff");b(u,"borderWidth",1);b(u,"borderStyle","solid");b(u,"borderStyle",!0);this.callSuper(l,u);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(l){this.validateWhen=
l},setAcceleratorScope:function(l){this.acceleratorScope=l},setErrorColor:function(l){this.errorColor=l},setActionRequiredColor:function(l){this.actionRequiredColor=l},setNormalColor:function(l){this.normalColor=l},setIsChanged:function(l){this.callSuper(l);this.inited&&this.updateUI()},setIsValid:function(l){this.callSuper(l);this.inited&&this.updateUI()},setValue:function(l){l=this.callSuper(l);const u=this.validateWhen;"key"!==u&&"blurWithKeyFix"!==u||this.verifyValidState();return l},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__hndlKeyDown:function(l){d.isEnterKeyEvent(l)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(l){d.isEscKeyEvent(l)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const l=this.validateWhen;
"blur"!==l&&"blurWithKeyFix"!==l||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});n.RootForm=new r("RootForm",{include:[I],initNode:function(l,u){this.callSuper(l,u);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:l=>{},doInvalidSubmit:()=>
{},doCancel:function(){this.rollbackForm();this.doValidation()}});n.FormCheckbox=new w("FormCheckbox",n.Checkbox,{include:[A],initNode:function(l,u){this.rollbackValue=this.defaultValue=!1;this.callSuper(l,u)}});n.FormComboBox=new w("FormComboBox",n.ComboBox,{include:[A,n.UpdateableUI],initNode:function(l,u){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(l,u);this.addValueProcessor(v);this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(l){this.validateWhen=l},setAcceleratorScope:function(l){this.acceleratorScope=l},setErrorColor:function(l){this.errorColor=l},setActionRequiredColor:function(l){this.actionRequiredColor=l},setNormalColor:function(l){this.normalColor=l},setIsChanged:function(l){this.callSuper(l);this.inited&&this.updateUI()},setIsValid:function(l){this.callSuper(l);this.inited&&this.updateUI()},setValue:function(l){l=this.callSuper(l);
const u=this.validateWhen;"key"!==u&&"blurWithKeyFix"!==u||this.verifyValidState();return l},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},
notifyPanelShown:function(l){this._isShown=!0},notifyPanelHidden:function(l){this._isShown=!1},doActivationKeyDown:function(l,u){l!==c.CODE_ESC||this._isShown?this.callSuper(l,u):this.invokeAccelerator("reject")},doActivationKeyUp:function(l){l!==c.CODE_ENTER||this._isShown?this.callSuper(l):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const l=this.validateWhen;"blur"!==l&&"blurWithKeyFix"!==l||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:
this.isChanged?this.errorColor:this.actionRequiredColor)}});n.FormEditableText=new w("FormEditableText",n.EditableText,{include:[B],__hndlKeyDown:function(l){"nowrap"===this.whitespace&&this.callSuper(l)}});n.FormInputText=new w("FormInputText",n.InputText,{include:[B]});n.FormInputTextArea=new w("FormInputTextArea",n.InputTextArea,{include:[B],__hndlKeyDown:l=>{}});n.FormInputSelect=new w("FormInputSelect",n.InputSelect,{include:[A],setValue:function(l){if(!this.__abortSetValue)return l=this.callSuper(l),
this.__abortSetValue=!0,this.deselectAll(),this.selectValues(l),this.__abortSetValue=!1,this.verifyValidState(),l}});n.FormRadioGroup=new w("FormRadioGroup",n.Node,{include:[n.ValueComponent,A],initNode:function(l,u){null==u.groupId&&(u.groupId=n.generateGuid());this.callSuper(l,u);void 0!==this.value&&q(this);k(this)},setValue:function(l){l=this.callSuper(l);this.inited&&q(this);return l},setGroupId:function(l){if(this.groupId!==l){if(this.groupId){const u=n.BAG.getGroup("selected",this.groupId);
u&&this.detachFrom(u,"__syncValue","trueNode")}this.groupId=l;this.inited&&k(this)}},__syncValue:function(l){l=l.value;this.setValue(l?l.optionValue:null)}});n.UseOtherFieldIfEmptyValueProcessor=new w("UseOtherFieldIfEmptyValueProcessor",p,{initialize:function(l,u,y,D,H){this.callSuper(l,u,y,D);this.otherField=H},process:function(l){return null==l||""===l?this.otherField.getValue():l}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){f(v=new E("undefToEmpty",!0,!0,!0,""));f(new x("toNumber",
!0,!0,!0));f(new z("trimLeft",!0,!0,!0,"left"));f(new z("trimRight",!0,!0,!0,"right"));f(new z("trimBoth",!0,!0,!0,"both"));h.register("valueProcessors",this)},getValueProcessor:l=>g[l],register:f,unregister:l=>{e(l,u=>{g[u]&&delete g[u]})}})})(myt);
(n=>{const v=JS.Class,w=Math.round,r={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp"},h=(d,g)=>{d[g](d,"doDragOver","dragover",!1);d[g](d,"doDragEnter","dragenter",!1);d[g](d,"doDragLeave","dragleave",!1);d[g](d,"doDrop","drop",!1)},a=n.DragDropSupport=new JS.Module("DragDropSupport",{include:[n.DragDropObservable],initNode:function(d,g){this.callSuper(d,g);this.disabled||this.setupDragListeners()},setDisabled:function(d){this.disabled!==d&&
(this.getIDE().disabled=d,this.callSuper(d),this.inited&&(d?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){h(this,"attachToDom")},teardownDragListeners:function(){h(this,"detachFromDom")},doDragOver:d=>{},doDragEnter:d=>{},doDragLeave:d=>{},doDrop:function(d){this.handleFiles(d.value.dataTransfer.files,d)},handleFiles:function(d,g){if(void 0!==d){let e=d.length;for(;e;){const f=this.filterFiles(d[--e]);f&&this.handleDroppedFile(f,g)}}else n.dumpStack("No File API")},
filterFiles:d=>d,handleDroppedFile:(d,g)=>{}}),c=n.Uploader=new v("Uploader",n.View,{include:[a,n.Disableable,n.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(d,g)=>{if(void 0!==FileReader){const e=new FileReader;e.onload=g;e.readAsDataURL(d)}},isSameFile:(d,g)=>null!=d&&null!=g&&d.name===g.name&&d.type===g.type&&d.size===g.size,createFile:d=>{const g=(new n.URI(d)).file;return{name:g,serverPath:d,size:-1,type:r[n.getExtension(g)]}}},initNode:function(d,g){const e=this;e.files=
[];e.defAttr(g,"requestFileParam","file");e.defAttr(g,"maxFiles",-1);e.callSuper(d,g);new n.NativeInputWrapper(e,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:e.disabled,overflow:"hidden"},[n.SizeToParent,{initNode:function(f,q){this.inputType="file";this.callSuper(f,q);this.attachToDom(this,"_hndlInput","change");this.getIDE().multiple=1<e.maxFiles},_hndlInput:function(f){e.handleFiles(this.getIDE().files,f)}}])},setValue:function(d){this.clearFiles();
d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{this.addFile(c.createFile(g))}));return this.callSuper?this.callSuper(d):d},getValue:function(){return this.value},setDisabled:function(d){this.callSuper(d);this.fileInput&&this.fileInput.setDisabled(d)},setMaxFiles:function(d){this.maxFiles!==d&&(this.maxFiles=d,this.inited&&this.fireEvent("maxFiles",d),this.fileInput&&(this.fileInput.getIDE().multiple=1<d))},setUploadUrl:function(d){this.set("uploadUrl",d,!0)},setRequestFileParam:function(d){this.set("requestFileParam",
d,!0)},bringSubviewToFront:function(d){d===this.fileInput?this.callSuper(d):this.sendSubviewBehind(d,this.fileInput)},subviewAdded:function(d){this.callSuper(d);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(d,g){this.addFile(d)},filterFiles:function(d){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:d},uploadFiles:function(d,g){d=d||this.uploadUrl;const e=this.files;let f=e.length;for(;f;)this.uploadFile(e[--f],d,g)},makeFetchOptionsForUpload:d=>
({method:"POST",body:d}),uploadFile:function(d,g,e){const f=this,q=new FormData;q.append(e||f.requestFileParam,d,d.name);n.doFetch(g||f.uploadUrl,f.makeFetchOptionsForUpload(q),!1,k=>{f.handleUploadSuccess(d,k)},k=>{f.handleUploadFailure(d,k)})},handleUploadSuccess:function(d,g){d[c.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(d,g);this.updateValueFromFiles()},handleUploadFailure:(d,g)=>{n.dumpStack("Upload failure:"+g.status+":"+g.message)},parseServerPathFromResponse:(d,g)=>null,addFile:function(d){this.files.push(d);
this.updateValueFromFiles();this.fireEvent("addFile",d)},removeFile:function(d){const g=this.files;let e=g.length;for(;e;)if(c.isSameFile(g[--e],d)){g.splice(e,1);this.updateValueFromFiles();this.fireEvent("removeFile",d);break}},updateValueFromFiles:function(){const d=[];var g=this.files;let e=g.length;for(;e;){const f=g[--e][c.FILE_ATTR_SERVER_PATH];f&&d.push(f)}g=d.length;this.value=1===g?d[0]:0===g?void 0:d;this.value||(this.fileInput.getIDE().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);
this.fireEvent("value",this.value)},clearFiles:function(){const d=this.files;let g=d.length;for(;g;)this.removeFile(d[--g])}}),b=n.ImageUploader=new v("ImageUploader",c,{extend:{isImageFile:d=>/image/i.test(d.type)},initNode:function(d,g){g.maxFiles=1;this.callSuper(d,g)},setWidth:function(d,g){this.callSuper(d,g);this.inited&&this.updateImageSize()},setHeight:function(d,g){this.callSuper(d,g);this.inited&&this.updateImageSize()},filterFiles:function(d){if(b.isImageFile(d)||this.allowNonImages){for(;0<
this.files.length;)this.removeFile(this.files[0]);return this.callSuper(d)}},addFile:function(d){const g=this,e=b.isImageFile(d);g.callSuper(d);const f=g.image=new n.Image(g,{useNaturalSize:!1,align:"center",valign:"middle"});f.file=d;const q=k=>{const m=new Image;m.onload=()=>{d.width=m.width;d.height=m.height;f&&!f.destroyed&&g.updateImage(d,f,m.src)};m.src=k};e?-1===d.size?q(d.serverPath):void 0!==FileReader&&b.isImageFile(d)&&c.readFile(d,k=>{q(k.target.result)}):-1===d.size?g.updateImage(d,f,
d.serverPath):void 0!==FileReader&&c.readFile(d,k=>{g.updateImage(d,f,k.target.result)})},scaleToFit:(d,g,e,f)=>e/f>d/g?[d,f*d/e]:[e*g/f,g],removeFile:function(d){this.callSuper(d);const g=this.getSubviews();let e=g.length;for(;e;){const f=g[--e];if(c.isSameFile(f.file,d)){f.destroy();break}}},handleDroppedFile:function(d,g){this.callSuper(d,g);this.uploadFile(d,this.uploadUrl)},updateImage:function(d,g,e){this.nativeWidth=d.width;this.nativeHeight=d.height;this.updateImageSize();g.setImageUrl(e)},
updateImageSize:function(){const d=this.image;if(d&&!d.destroyed){var g=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const e=w(g[0]);g=w(g[1]);d.setImageSize(e+"px "+g+"px");d.setWidth(e);d.setHeight(g)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(n=>{const v=(w,r,h)=>{const a=w.axis;h=h.bind(w);"y"!==a&&(h(r,"update","x"),h(r,"update","boundsWidth"));"x"!==a&&(h(r,"update","y"),h(r,"update","boundsHeight"));h(r,"update","visible")};n.SizeToChildren=new JS.Class("SizeToChildren",n.Layout,{initNode:function(w,r){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(w,r)},setAxis:function(w){this.axis!==w&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=w,this.startMonitoringAllSubviews(),this.fireEvent("axis",w),this.update()):
this.axis=w)},setPaddingX:function(w){this.paddingX!==w&&(this.paddingX=w,this.inited&&(this.fireEvent("paddingX",w),this.update()))},setPaddingY:function(w){this.paddingY!==w&&(this.paddingY=w,this.inited&&(this.fireEvent("paddingY",w),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();if(!this.parent.isBeingDestroyed){const r=this.subviews;var w=r.length;const h=this.axis;let a,c;if("y"!==h){a=w;for(c=0;a;){const b=r[--a];b.visible&&(c=Math.max(c,b.x+(0<b.boundsWidth?
b.boundsWidth:0)))}this.updateSize(c+this.paddingX,!0)}if("x"!==h){a=w;for(c=0;a;)w=r[--a],w.visible&&(c=Math.max(c,w.y+(0<w.boundsHeight?w.boundsHeight:0)));this.updateSize(c+this.paddingY,!1)}}this.decrementLockedCounter()}},updateSize:function(w,r){this.parent[r?"setWidth":"setHeight"](w)},startMonitoringSubview:function(w){v(this,w,this.attachTo)},stopMonitoringSubview:function(w){v(this,w,this.detachFrom)}})})(myt);
(n=>{let v=0;const w=JS.Class,r=n.SizeToParent,h=n.View,a=n.RootView,c=n.AccessorSupport.defAttr,b=n.Dimmer=new w("Dimmer",h,{include:[r],extend:{OPACITY:.35,COLOR:"#000"},initNode:function(g,e){const f=this;f.restoreFocus=!0;e.focusable=e.focusCage=!0;c(e,"percentOfParentWidth",100);c(e,"percentOfParentHeight",100);c(e,"visible",!1);c(e,"ignoreLayout",!0);f.callSuper(g,e);new h(f,{name:"overlay",ignorePlacement:!0,opacity:b.OPACITY,bgColor:b.COLOR,percentOfParentWidth:100,percentOfParentHeight:100},
[r]);"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(q=>{f.attachDomObserver(f,"eatMouseEvent",q)});a.setupCaptureDrop(f)},destroy:function(){a.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(g){this.restoreFocus=g},eatMouseEvent:g=>!0,show:function(){const g=n.global.focus;this.prevFocus=g.focusedView||g.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(g){this.visible&&(this.setVisible(!1),
!g&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus())}}),d=n.ModalPanel=new w("ModalPanel",b,{extend:{PADDING_X:20,PADDING_Y:15,MARGIN_TOP:40,MARGIN_LEFT:40,MARGIN_BOTTOM:40,MARGIN_RIGHT:40,getOpenModalPanelCount:()=>v,hasOpenModalPanels:()=>0<v},initNode:function(g,e){const f={name:"content",ignorePlacement:!0},q=Object.assign({},f,{align:"center",valign:"middle"});this.defaultPlacement="content";c(e,"sizingStrategy","children");c(e,"marginTop",d.MARGIN_TOP);c(e,"marginLeft",d.MARGIN_LEFT);
c(e,"marginBottom",d.MARGIN_BOTTOM);c(e,"marginRight",d.MARGIN_RIGHT);c(e,"paddingX",d.PADDING_X);c(e,"paddingY",d.PADDING_Y);this.callSuper(g,e);switch(this.sizingStrategy){case "children":new n.SizeToChildren(new h(this,q),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new h(this,Object.assign(f,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,
percentOfParentWidth:100,percentOfParentHeight:100}),[r]);break;case "basic":new h(this,q);break;default:new h(this,f)}},setSizingStrategy:function(g){this.sizingStrategy=g},setMarginTop:function(g){this.marginTop=g},setMarginLeft:function(g){this.marginLeft=g},setMarginBottom:function(g){this.marginBottom=g},setMarginRight:function(g){this.marginRight=g},setPaddingX:function(g){this.paddingX=g},setPaddingY:function(g){this.paddingY=g},show:function(){this.callSuper();v++},hide:function(g){this.callSuper(g);
v=Math.max(0,v-1)}})})(myt);
(n=>{const v=r=>{r[r.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},w=r=>{const h=r.size,a=r.getIDS();r.setWidth(h);r.setHeight(h);a.width=a.height=h-2*r.borderWidth+"px"};n.Spinner=new JS.Class("Spinner",n.View,{initNode:function(r,h){this.lateAttrs=["spinColor"];const a=this.defAttr;a(h,"visible",!1);a(h,"borderWidth",5);a(h,"borderColor","#fff");a(h,"borderStyle","solid");a(h,"spinColor","#000");this.callSuper(r,h);this.getIDS().borderRadius="50%";w(this);v(this)},setSize:function(r){this.size!==
r&&(this.size=r,this.inited&&w(this))},setSpinColor:function(r){this.spinColor!==r&&(this.getIDS().borderTopColor=this.spinColor=r,this.inited&&this.fireEvent("spinColor",r))},setBorderWidth:function(r){this.borderWidth!==r&&(this.callSuper(r),this.inited&&w(this))},setVisible:function(r){this.visible!==r&&(this.callSuper(r),this.inited&&v(this))}})})(myt);
(n=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),w=a=>{if(Array.isArray(a)){let c=a.length;if(0<c){a.unshift("fa");c++;a[1].startsWith("fa-")||(a[1]="fa-"+a[1]);3<=c&&(a[2]=v[a[2]]||"");if(3<c)for(let b=3;c>b;b++)a[b].startsWith("fa-")||(a[b]="fa-"+a[b]);return'<i class="'+a.join(" ")+'"></i>'}}n.dumpStack("Error making tag");console.error(a);return""},r=a=>{let c=a.properties;c=c?"string"===typeof c?c.split(" "):c.slice():[];c.unshift(a.icon,a.size);a.setHtml(w(c))},h=a=>{["Free 400","Free 900",
"Brands 400"].forEach(c=>{n.registerForFontNotification(a,"Font Awesome 5 "+c)})};n.FontAwesome=new JS.Class("FontAwesome",n.Markup,{extend:{makeTag:w,registerForNotification:h},initNode:function(a,c){this.size=0;this.icon="";this.callSuper(a,c);r(this);h(this)},setIcon:function(a){const c=this.icon;this.set("icon",a,!0);this.inited&&c!==a&&r(this)},setSize:function(a){const c=this.size;this.set("size",a,!0);this.inited&&c!==a&&r(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&r(this)}});n.loadCSSFonts(["https://use.fontawesome.com/releases/v5.15.4/css/all.css"])})(myt);
(n=>{let v,w,r,h,a=0,c=0,b=0,d=255,g=[],e,f,q,k,m,t,p,x,z,E,I,A,B,l,u,y,D,H,J,K,M,O,da,aa,W;const Q=JS.Class,S=n.View,ba=n.Text,V=n.ModalPanel,ta=n.SizeToChildren,za=n.SpacedLayout,Aa=n.SelectionManager,na=n.Color,Ba=n.LocalStorage,ua=n.Button,ka=n.TextButton,Ca=n.Draggable,la=n.FontAwesome.makeTag,ca=n.AccessorSupport.defAttr,ha=Object.assign,ea=Math.min,fa=Math.max,ia=[1,"solid","#333"],Da=[1,"solid","#999"],va=[1,"solid","#fff"],Ka=new Q("DialogButton",ka,{initNode:function(C,F){ca(F,"height",
17);ca(F,"paddingTop",3);ca(F,"paddingLeft",10);ca(F,"paddingRight",10);ca(F,"activeColor","#bbb");ca(F,"hoverColor","#ddd");ca(F,"readyColor","#ccc");F.domClass="mytButtonText";this.callSuper(C,F)}}),La=la(["check"]),Fa=C=>{C.forEach(F=>{F&&7===F.length&&(F+="ff");Ea[F]=!0})},Ea={},Ma=new Q("Swatch",S,{include:[ua],initNode:function(C,F){const G=F.width=F.height=16;F.border=Da;F.domClass="mytCheckerboardPattern";const L=F.bgColor;this.callSuper(C,F);this.colorView=new S(this,{width:G,height:G,bgColor:L});
L===h&&(C=na.makeColorFromHexString(h),new n.Text(this,{x:2,y:2,text:La,fontSize:"12px",textColor:382.5>C.red+C.green+C.blue?"#fff":"#000"}))},setBgColor:function(C){this.colorView&&this.colorView.setBgColor(C);this.setTooltip(C)},doActivated:function(){v.setColor(this.colorView.bgColor)},drawHoverState:function(){this.setBorder(ia)},drawReadyState:function(){this.setBorder(Da)}}),Na=n.ColorPicker=new Q("ColorPicker",S,{initNode:function(C,F){v=this;v._isReady=!1;let G=F.color||"transparent";delete F.color;
r=F.alphaChannel||!1;delete F.alphaChannel;e=F.palette||[];Fa(e);delete F.palette;w="transparent"===G;v.callSuper(C,F);f=new S(v,{width:160,height:170});new n.WrappingLayout(f,{spacing:4,lineSpacing:4});q=new S(v,{x:170,width:139,height:139,border:ia},[Ca,{requestDragPosition:function(L,N){q.callSuper(q.x,q.y);const P=this.getPagePosition();c=parseFloat(fa(0,ea(1,(L+this.dragInitX-P.x)/this.width)));b=parseFloat(1-fa(0,ea(1,(N+this.dragInitY-P.y)/this.height)));w=!1;v.updateUI()}}]);C=new S(q,{width:139,
height:139});F=new S(C,{width:139,height:139});C.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";F.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";k=new S(F,{width:6,height:6,bgColor:"#000",border:va,roundedCorners:4});m=new S(v,{x:315,y:30,width:24,height:109,border:ia},[Ca,{requestDragPosition:function(L,N){this.callSuper(m.x,m.y);a=parseFloat(fa(0,ea(1,(N+this.dragInitY-this.getPagePosition().y)/this.height)));w=!1;v.updateUI()}}]);
m.getIDS().background="linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";t=new S(m,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new S(v,{x:315,width:24,height:24,border:ia,tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[ua,{doActivated:()=>{v.setColor("transparent")}}]);C=146;r&&(z=new n.LabelSlider(v,{x:170,y:C,width:171,minValue:0,maxValue:255,flipThreshold:55,labelColor:"#fff"},[{setText:function(L,N){N=L.value;
if(null==N||isNaN(N))N=0;L.value=n.formatAsPercentage(N/255,0);this.callSuper(L,!0);d=N;v._isReady&&(w=!1,v.updateUI())}}]),C+=23);p=new n.InputText(v,{x:236,y:C,width:105,height:25,roundedCorners:3,textColor:"#333",border:ia,maxLength:11,fontFamily:"monospace"});v.attachToDom(p,"_submitInput","blur");v.attachToDom(p,"_handleKeyDown","keydown");p.getIDS().paddingLeft="6px";C=new S(v,{x:170,y:C,width:60,height:23,border:ia,domClass:"mytCheckerboardPattern"});new S(C,{width:30,height:23,focusIndicator:!1,
bgColor:G},[ua,{doActivated:()=>{v.setColor(G)}}]);x=new S(C,{x:30,width:30,height:23});if(C=Ba.getItem("myt.default"))g=C.split(";"),Fa(g);v.setColor(G);v._isReady=!0},_handleKeyDown:C=>{n.KeyObservable.isEnterKeyEvent(C)&&v._submitInput()},_submitInput:()=>{v.setColor(p.value)},addToPalette:C=>{C&&"transparent"!==C&&!Ea[C]&&(g.unshift(C),g.length=ea(g.length,56),Ba.setItem("myt.default",g.join(";")))},setColor:C=>{const F=C&&"transparent"!==C;if(r){let G="ff";F&&7<C.length&&(G=C.substring(7,9),
C=C.substring(0,7));z.setValue(parseInt(G,16))}else F&&7<C.length&&(C=C.substring(0,7));F?(C=na.makeColorFromHexString(C).getHSV(),a=C.h/360,c=C.s,b=C.v,w=!1):w=!0;v.updateUI()},getColor:()=>{if(w)return"transparent";let C="";r&&(C=d.toString(16),2>C.length&&(C="0"+C));return na.makeColorFromHSV(360*a,100*c,100*b).getHtmlHexString()+C},updateUI:()=>{const C=!w;t.setVisible(C);k.setVisible(C);C&&(k.setX(fa(0,ea(1,c)*(q.width+2))-5),k.setY(fa(0,ea(1,1-b)*(q.height+2))-5),t.setY(a*(m.height-2)-1));q.setBgColor(na.makeColorFromHSV(360*
a,100,100).getHtmlHexString());h=v.getColor();p.setValue(h);x.setBgColor(h);v.redrawPalette()},redrawPalette:n.debounce(()=>{const C=f.getSubviews();let F=C.length;for(;F;)C[--F].destroy();const G={};e.concat(g).forEach(L=>{if(r||7===L.length)7===L.length&&(L+="ff"),G[L]||(new Ma(f,{bgColor:L}),G[L]=!0)})},50)}),wa=C=>{C=C.split(":");return[fa(0,ea(23,parseInt(C[0]))),fa(0,ea(60,parseInt(C[1])))]},Ga=C=>{C.deselectAll();C=C.getSubviews();let F=C.length;for(;F;)C[--F].destroy()},Ha=new Q("SelectableBtn",
ka,{include:[n.Selectable],setSelected:function(C){this.callSuper(C);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),this.setTextColor("#fff")):this.setTextColor()}}),Oa=new Q("TimeBtn",Ha,{initNode:function(C,F){F.width=A?175:49;this.callSuper(C,F)},doActivated:function(){this.callSuper();const C=this.text,F=wa(C);W.selectById(C);K.setHours(F[0]);K.setMinutes(F[1])}}),Pa=new Q("DayBtn",Ha,{initNode:function(C,F){F.width=23;F.border=va;this.callSuper(C,
F)},setData:function(C){this.data=C},setIsAnotherMonth:function(C){this.isAnotherMonth=C},setIsToday:function(C){this.isToday=C},setIsSunday:function(C){this.isSunday=C},setIsSaturday:function(C){this.isSaturday=C},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const C=new Date(this.data);
C.setHours(K.getHours());C.setMinutes(K.getMinutes());ma(C)}}),ma=C=>{C.setSeconds(0);C.setMilliseconds(0);var F=6>=l.length,G;if(F)for(G=7;G--&&!l.includes(C.getDay());)C.setDate(C.getDate()+1);K=C;const L=W.getODE().scrollTop;var N=new Date,P=N.getFullYear();G=N.getMonth();var T=N.getDate();N.getHours();N.getMinutes();var R=C.getFullYear(),U=C.getMonth();const oa=C.getDate();var ja=C.getTime();N=C.getHours();C=C.getMinutes();const pa=(new Date(R,U,1)).getDay()-B,qa=(new Date(R,U+1,0)).getDate(),
xa=(new Date(R,U,0)).getDate(),ra=new Date(R,U,0),sa=new Date(R,U+2,0),Qa=P==R&&G==U;if(!A){Ga(aa);G=new Date(ja);const Ia=7+B;P=E.days;O.setText(R+" "+E.sep+" "+E.months[U]);G.setMinutes(59);G.setHours(23);G.setSeconds(59);G.setDate(0);M.setVisible(null==u||u<G.getTime());G.setMinutes(0);G.setHours(0);G.setSeconds(0);G.setDate(1);G.setMonth(U+1);da.setVisible(null==y||y>G.getTime());for(G=0;7>G;G++)new ba(aa,{width:23,height:20,textAlign:"center",text:P[(G+Ia)%7],textColor:"#999"});G=0;let Ja=42;
0>pa&&(G=-7,Ja=35);P=new Date(ja);P.setHours(0);P.setMinutes(0);for(P.setSeconds(0);G<Ja;G++){var Y=G+1-pa;const ya=(G+Ia)%7,Z=new Pa(aa);pa>G?(Z.setText(xa+Y),Z.setData(ra.getFullYear()+"/"+(ra.getMonth()+1)+"/"+(xa+Y)),Z.setIsAnotherMonth(!0),P.setDate(xa+Y),P.setMonth(ra.getMonth()),P.setYear(ra.getFullYear())):G<pa+qa?(Z.setText(Y),Z.setData(R+"/"+(U+1)+"/"+Y),P.setDate(Y),P.setMonth(U),P.setYear(R)):(Z.setText(Y-qa),Z.setData(sa.getFullYear()+"/"+(sa.getMonth()+1)+"/"+(Y-qa)),Z.setIsAnotherMonth(!0),
P.setDate(Y-qa),P.setMonth(sa.getMonth()),P.setYear(sa.getFullYear()));F&&!l.includes(ya)?Z.setDisabled(!0):(0===ya?Z.setIsSunday(!0):6===ya&&Z.setIsSaturday(!0),Y===oa&&(aa.select(Z),Z.focus()),Qa&&Y===T&&Z.setIsToday(!0),Y=new Date(P.getTime()),Y.setHours(23),Y.setMinutes(59),Y.setSeconds(59),(null!=u&&u>Y.getTime()||null!=y&&y<P.getTime())&&Z.setDisabled(!0));Z.updateUI()}}if(!I){F=60*H[0]+H[1];Ga(W);T=D[0];R=D[1];for(P=new Date(ja);60*T+R<F;)ja=new Oa(W,{text:("0"+T).slice(-2)+":"+("0"+R).slice(-2)}),
T===N&&R===C&&W.select(ja),P.setHours(T),P.setMinutes(R),U=P.getTime(),(null!=u&&u>U||null!=y&&y<U)&&ja.setDisabled(!0),R+=J,60<=R&&(R-=60,T++);W.scrollYTo(L)}},Ra=n.DatePicker=new Q("DatePicker",S,{initNode:function(C,F){const G=ha({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},F.opt);delete F.opt;this.callSuper(C,F);E=G.locales[G.locale||"en"];I=G.dateOnly;
A=G.timeOnly;B=G.firstDayOfWeek;J=fa(5,ea(30,G.minuteInterval));l=G.allowedDays;Array.isArray(l)&&0!==l.length||(l=[0,1,2,3,4,5,6]);u=Date.parse(G.minDate);u=isNaN(u)?null:u;y=Date.parse(G.maxDate);y=isNaN(y)?null:y;D=wa(G.minTime);H=wa(G.maxTime);C=new S(this,{visible:!A});G.showTodayButton&&new ka(C,{width:24,text:la(["home"]),tooltip:E.today},[{doActivated:()=>{ma(new Date)}}]);M=new ka(C,{width:24,x:28,text:la(["chevron-left"]),tooltip:E.prevMonth},[{doActivated:()=>{const L=(new Date(K.getFullYear(),
K.getMonth(),0)).getDate();L<K.getDate()&&K.setDate(L);K.setMonth(K.getMonth()-1);ma(K);M.focus()}}]);O=new ba(C,{width:100,x:52,textAlign:"center"});da=new ka(C,{width:24,x:152,text:la(["chevron-right"]),tooltip:E.nextMonth},[{doActivated:()=>{var L=(new Date(K.getFullYear(),K.getMonth()+1,0)).getDate();L<K.getDate()&&K.setDate(L);L=(new Date(K.getFullYear(),K.getMonth()+2,0)).getDate();L<K.getDate()&&K.setDate(L);K.setMonth(K.getMonth()+1);ma(K);da.focus()}}]);aa=new S(this,{y:25,width:175,height:175,
visible:!A,maxSelected:1,itemSelectionId:"data"},[Aa]);new n.WrappingLayout(aa,{spacing:2,lineInset:2,lineSpacing:3});W=new S(this,{x:A?0:195,y:A?0:25,width:(A?175:49)+n.DomElementProxy.getScrollbarSize(),height:A?200:175,overflow:"autoy",visible:!I,maxSelected:1,itemSelectionId:"text"},[Aa]);new za(W,{axis:"y",inset:1,spacing:3});this.setWidth(W.visible?W.x+W.width:aa.width);ma(G.current||new Date)},getPickedDate:()=>K}),X=n.Dialog=new Q("Dialog",V,{extend:{RADIUS:12,BUTTON_CLASS:Ka,SHADOW:[0,4,
20,"#666"],BORDER:va,BGCOLOR:"#fff",WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000",alphaChannel:!1},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",
titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}},locale:"en"}},initNode:function(C,F){ca(F,"buttonClass",X.BUTTON_CLASS);this.callSuper(C,F);C=this.content;C.setRoundedCorners(X.RADIUS);C.setBgColor(X.BGCOLOR);C.setBoxShadow(X.SHADOW);C.setBorder(X.BORDER);C.setFocusCage(!0);this.makeCloseButton(C)},
setButtonClass:function(C){this.buttonClass=C},setCallbackFunction:function(C){this.callbackFunction=C},makeButton:function(C,F){const G=this;return new G.buttonClass(C,F,[{doActivated:function(){G.doCallback(this)}}])},makeCloseButton:function(C){return this.makeButton(C,{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:la(["times"]),tooltip:"Close Dialog."})},
hide:function(C){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(C)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const C=this.content,F=C.sizeToChildren,G=C.getSubviews();let L=G.length;for(;L;){const N=G[--L];"closeBtn"!==N.name&&N.destroy()}C.setVisible(!0);this.overlay.setBgColor(n.Dimmer.COLOR);this.setCallbackFunction();F.setPaddingY(V.PADDING_Y);F.setPaddingX(V.PADDING_X);C.setRoundedCorners(X.RADIUS);C.setBgColor(X.BGCOLOR);
C.setBoxShadow(X.SHADOW);C.setBorder(X.BORDER)},doCallback:function(C){const F=this.callbackFunction;F&&F.call(this,C.name)||this.hide()},showBlank:function(C){this.destroyContent();this.content.setVisible(!1);C&&C.bgColor&&this.overlay.setBgColor(C.bgColor);this.show()},showMessage:function(C,F,G){const L=this.content,N=L.closeBtn;G=ha({},X.WRAP_TEXT_DEFAULTS,G);this.destroyContent();this.setCallbackFunction(F);C=new ba(L,{name:"msg",text:C,whiteSpace:G.whiteSpace,wordWrap:G.wordWrap,fontWeight:G.fontWeight,
x:null==G.msgX?V.PADDING_X:G.msgX,y:null==G.msgY?V.PADDING_Y:G.msgY,width:G.width});G.titleText&&(this.setupTitle(L,G.titleText),C.setY(C.y+24));this.show();!1===G.showClose?N.setVisible(!1):(N.setVisible(!0),N.focus())},showSimple:function(C,F,G,L){G=G||{};const N=this.content,P=N.closeBtn,T=G.maxContainerHeight;this.destroyContent();G.bgColor&&N.setBgColor(G.bgColor);G.roundedCorners&&N.setRoundedCorners(G.roundedCorners);G.boxShadow&&N.setBoxShadow(G.boxShadow);G.border&&N.setBorder(G.border);
N.sizeToChildren.setPaddingX(1);this.setCallbackFunction(F);F=new S(N,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(R){R>T&&(R=T);this.callSuper(R)}}]);C.call(this,F);new ta(F,{axis:"both"});this.show();P.setVisible(!0);P.focus();G.titleText&&(this.setupTitle(N,G.titleText),F.setY(this.header.height+1));F.initialFocus&&F.initialFocus.focus();L&&L(this)},showConfirm:function(C,F,G){G=ha({},X.CONFIRM_DEFAULTS,G);this.showMessage(C,F,G);this.setupFooterButtons(this.content.msg,
G)},showContentConfirm:function(C,F,G,L){G=ha({},X.CONFIRM_DEFAULTS,G);const N=this.content,P=N.closeBtn,T=G.maxContainerHeight;this.destroyContent();N.sizeToChildren.setPaddingX(1);this.setCallbackFunction(F);F=new S(N,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(R){this.callSuper(R>T?T:R)}}]);C.call(this,F);new ta(F,{axis:"both"});this.show();P.setVisible(!0);P.focus();this.setupTitle(N,G.titleText);F.setY(this.header.height+1);this.setupFooterButtons(F,G);F.initialFocus&&
F.initialFocus.focus();L&&L(this)},showSpinner:function(C,F){const G=this.content;F=ha({},X.NO_WRAP_TEXT_DEFAULTS,F);this.destroyContent();const L=this.spinner=new n.Spinner(G,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==F.msgY?V.PADDING_Y:F.msgY});C&&new ba(G,{text:C,whiteSpace:F.whiteSpace,wordWrap:F.wordWrap,fontWeight:F.fontWeight,x:null==F.msgX?V.PADDING_X:F.msgX,y:L.y+L.size+V.PADDING_Y,width:F.width});this.show();G.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(C,
F){const G=this,L=G.content,N=L.closeBtn;F=ha({},X.COLOR_PICKER_DEFAULTS,F);G.destroyContent();G.setCallbackFunction(T=>{switch(T){case "closeBtn":case "cancelBtn":C.call(G,T);break;case "confirmBtn":const R=P.getColor();P.addToPalette(R);C.call(G,T,R)}P.destroy()});const P=new Na(L,{x:V.PADDING_X,y:V.PADDING_Y+24,width:337,height:177+(F.alphaChannel?23:0),color:F.color,alphaChannel:F.alphaChannel,palette:"#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777 #888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")});
G.show();N.setVisible(!0);N.focus();G.setupFooterButtons(P,F);G.setupTitle(L,F.titleText)},showDatePicker:function(C,F){const G=this,L=G.content,N=L.closeBtn;F=ha({},X.DATE_PICKER_DEFAULTS,F);G.destroyContent();G.setCallbackFunction(T=>{switch(T){case "closeBtn":case "cancelBtn":C.call(G,T);break;case "confirmBtn":C.call(G,T,P.getPickedDate())}P.destroy()});const P=new Ra(L,{x:V.PADDING_X,y:V.PADDING_Y+24,height:195,opt:{current:new Date(F.initialDate||Date.now()),dateOnly:F.dateOnly||!1,timeOnly:F.timeOnly||
!1,locales:F.locales,locale:F.locale}});G.show();N.setVisible(!0);N.focus();G.setupFooterButtons(P,F);G.setupTitle(L,F.timeOnly?F.timeOnlyTitleText:F.titleText)},setupTitle:function(C,F){const G=X.RADIUS;(this.header=new S(C,{ignoreLayout:!0,width:C.width,height:24,bgColor:"#eee",roundedTopLeftCorner:G,roundedTopRightCorner:G})).sendToBack();new ba(C,{name:"title",x:G,y:4,text:F,fontWeight:"bold"})},setupFooterButtons:function(C,F){const G=this,L=G.content;var N=V.PADDING_Y,P=N/2;const T=new S(L,
{name:"btnContainer",y:C.y+C.height+N,align:"center"});N=["active","hover","ready","text"];let R=F.cancelAttrs||{};ca(R,"name","cancelBtn");ca(R,"text",F.cancelTxt);N.forEach(U=>{U+="Color";null!=F[U]&&(R[U]=F[U])});C=G.makeButton(T,R);R=F.confirmAttrs||{};ca(R,"name","confirmBtn");ca(R,"text",F.confirmTxt);N.forEach(U=>{U+="Color";const oa=U+"Confirm";null!=F[oa]&&(R[U]=F[oa])});G.makeButton(T,R);(F.buttons||[]).forEach(U=>{G.makeButton(T,U)});new ta(T,{axis:"y"});new za(T,{spacing:4,collapseParent:!0});
L.sizeToChildren.setPaddingY(P);N=X.RADIUS;P=T.y-P;(new S(L,{ignoreLayout:!0,y:P,width:L.width,height:L.height-P,bgColor:"#eee",roundedBottomLeftCorner:N,roundedBottomRightCorner:N})).sendToBack();!1===F.showClose&&C.focus()}})})(myt);
(n=>{const v=JS.Class,w={},r=(e,f)=>{if(e){const q=e.id;e.id?f(q):n.dumpStack("No ID")}else n.dumpStack("No validator")},h=e=>{r(e,f=>{w[f]=e})},a=n.Validator=new v("Validator",{initialize:function(e){this.id=e},isValid:(e,f,q)=>!0,isFormValid:function(e,f,q){f||={};f.form=e;return this.isValid(e.getValue(),f,q)}}),c=n.RequiredFieldValidator=new v("RequiredFieldValidator",a,{isValid:function(e,f,q){return null==e||""===e||"string"===typeof e&&""===e.trim()?(q&&q.push("This value is required."),!1):
!0}}),b=n.EqualsIgnoreCaseValidator=new v("EqualsIgnoreCaseValidator",a,{isValid:function(e,f,q){f=f.form.getRollbackValue();return e&&f&&e.toLowerCase()===f.toLowerCase()?(q&&q.push("Value must differ by more than just case."),!1):!0}}),d=n.URLValidator=new v("URLValidator",a,{initialize:function(e,f){this.callSuper(e);this.originalRawQuery=f},isValid:function(e,f,q){return(new n.URI(e)).toString(this.originalRawQuery)!==e?(q&&q.push("Invalid URL."),!1):!0}}),g=n.JSONValidator=new v("JSONValidator",
a,{isValid:function(e,f,q){try{return JSON.parse(e),!0}catch(k){return q&&q.push(k),!1}}});n.EqualFieldsValidator=new v("EqualFieldsValidator",a,{initialize:function(e,f,q){this.callSuper(e);this.fieldA=f;this.fieldB=q},isValid:function(e,f,q){if(e&&this.fieldA.getValue()===this.fieldB.getValue())return!0;q&&q.push('The field "'+this.fieldA.key+'" must be equal to the field "'+this.fieldB.key+'".');return!1}});n.LengthValidator=new v("LengthValidator",a,{initialize:function(e,f,q){this.callSuper(e);
this.min=f;this.max=q},isValid:function(e,f,q){e=e?e.length:0;f=this.min;const k=this.max;return void 0!==f&&f>e?(q&&q.push("The value must not be less than "+f+" characters long."),!1):void 0!==k&&k<e?(q&&q.push("The value must not be greater than "+k+" characters long."),!1):!0}});n.NumericRangeValidator=new v("NumericRangeValidator",a,{initialize:function(e,f,q){this.callSuper(e);this.min=f;this.max=q},isValid:function(e,f,q){if(""===e)return!0;e=Number(e);f=this.min;const k=this.max;return isNaN(e)?
(q&&q.push("Value is not a number."),!1):void 0!==f&&f>e?(q&&q.push("Value must not be less than "+f+"."),!1):void 0!==k&&k<e?(q&&q.push("Value must not be greater than "+k+"."),!1):!0}});n.CompoundValidator=new v("CompoundValidator",a,{initialize:function(e,...f){this.callSuper(e);e=f.length;let q;for(;e;)q=f[--e],"string"===typeof q&&((f[e]=q=w[q])||f.splice(e,1));this.__v=f},addValidator:function(e){"string"===typeof e&&(e=w[e]);e&&this.__v.push(e)},isValid:function(e,f,q){const k=this.__v,m=k.length;
let t=!0,p=0;for(;m>p;)t=k[p++].isValid(e,f,q)&&t;return t}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){h(new c("required"));h(new b("equalsIgnoreCase"));h(new d("url"));h(new g("json"));n.global.register("validators",this)},getValidator:e=>w[e],register:h,unregister:e=>{r(e,f=>{w[f]&&delete w[f]})}})})(myt);
(n=>{const v=JS.Class,w=Math,r=w.min,h=w.max,a=n.global.keys,c=n.View,b=n.AccessorSupport.defAttr,d=new v("SliderThumb",n.SimpleButton,{include:[n.Draggable],initNode:function(e,f){const q=f.width=e.thumbWidth,k=f.height=e.thumbHeight;f.roundedCorners=r(k,q)/2;f.repeatKeyDown=!0;f.activationKeys=a.ARROW_KEYS;f.activeColor="#bbb";f.readyColor="#ccc";f.hoverColor="#ddd";f.boxShadow=[0,0,4,"#666"];this.callSuper(e,f);this["x"===e.axis?"setY":"setX"](e.thumbOffset);this.syncTo(e,"setDisabled","disabled");
e._syncThumbToValue(this,e.getValue())},setDisabled:function(e){this.callSuper(this.valueFromEvent(e))},setFocused:function(e){this.callSuper(e);e&&this.makeHighestZIndex()},setX:function(e){this.x!==e&&(this.callSuper(e),e=this.parent,"x"===e.axis&&e.syncValueToThumb(this))},setY:function(e){this.y!==e&&(this.callSuper(e),e=this.parent,"y"===e.axis&&e.syncValueToThumb(this))},requestDragPosition:function(e,f){if(!this.disabled){var q=this.parent;const k=q.getMinPixelValueForThumb(this),m=q.getMaxPixelValueForThumb(this);
"x"===q.axis?(q=this.width/2,f="setX"):(q=this.height/2,e=f,f="setY");this[f](r(h(e,k-q),m-q))}},doActivationKeyDown:function(e,f){const q=this.parent;switch(e){case a.CODE_ARROW_LEFT:q.nudgeValueLeft(this);break;case a.CODE_ARROW_UP:q.nudgeValueUp(this);break;case a.CODE_ARROW_RIGHT:q.nudgeValueRight(this);break;case a.CODE_ARROW_DOWN:q.nudgeValueDown(this)}this.callSuper(e,f)}}),g=n.BaseSlider=new v("BaseSlider",c,{include:[n.Disableable],initNode:function(e,f){b(f,"axis","x");"x"===f.axis?(b(f,
"width",100),b(f,"height",18)):(b(f,"width",18),b(f,"height",100));b(f,"bgColor","#999");b(f,"roundedCorners",9);b(f,"trackInset",9);b(f,"trackOutset",9);b(f,"thumbWidth",16);b(f,"thumbHeight",16);b(f,"thumbOffset",1);b(f,"nudgeAmount",1);this.callSuper(e,f)},setAxis:function(e){this.axis=e},setTrackInset:function(e){this.trackInset=e},setTrackOutset:function(e){this.trackOutset=e},setThumbWidth:function(e){this.thumbWidth=e},setThumbHeight:function(e){this.thumbHeight=e},setThumbOffset:function(e){this.thumbOffset=
e},setNudgeAmount:function(e){this.nudgeAmount=e},convertValueToPixels:function(e){const f=this.minValue,q=this.trackInset;return q+(("x"===this.axis?this.width:this.height)-q-this.trackOutset)/(this.maxValue-f)*(e-f)},convertPixelsToValue:function(e){const f=this.minValue,q=this.trackInset;return(this.maxValue-f)/(("x"===this.axis?this.width:this.height)-q-this.trackOutset)*(e-q)+f},nudgeValueLeft:function(e){this._nudge(e,!1)},nudgeValueUp:function(e){this._nudge(e,!1)},nudgeValueRight:function(e){this._nudge(e,
!0)},nudgeValueDown:function(e){this._nudge(e,!0)},_nudge:(e,f)=>{},_syncThumbToValue:function(e,f){f=this.convertValueToPixels(f);"x"===this.axis?e.setX(f-e.width/2):e.setY(f-e.height/2)},syncValueToThumb:function(e){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(e,this.convertPixelsToValue("x"===this.axis?e.x+e.width/2:e.y+e.height/2)),this.__lockSync=!1)},_syncValueToThumb:(e,f)=>{},getMinPixelValueForThumb:function(e){return this.convertValueToPixels(this.minValue)},
getMaxPixelValueForThumb:function(e){return this.convertValueToPixels(this.maxValue)}});n.RangeSlider=new v("RangeSlider",g,{include:[n.BoundedRangeComponent],initNode:function(e,f){this.callSuper(e,f);e=new c(this,{name:"rangeFill",bgColor:"#666"});"x"===this.axis?(e.setY(this.thumbOffset),e.setHeight(this.thumbHeight),e.setRoundedCorners(this.thumbHeight/2)):(e.setX(this.thumbOffset),e.setWidth(this.thumbWidth),e.setRoundedCorners(this.thumbWidth/2));new d(this,{name:"thumbLower"});new d(this,{name:"thumbUpper"});
this._syncRangeFillToValue()},setValue:function(e){this.callSuper(e);this.inited&&(this.__lockSync||(e=this.getValue(),this._syncThumbToValue(this.thumbLower,e),this._syncThumbToValue(this.thumbUpper,e)),this._syncRangeFillToValue())},setWidth:function(e,f){const q=this.width;this.callSuper(e,f);this.inited&&"x"===this.axis&&this.width!==q&&(e=this.getValue(),this._syncThumbToValue(this.thumbLower,e),this._syncThumbToValue(this.thumbUpper,e))},setHeight:function(e,f){const q=this.height;this.callSuper(e,
f);this.inited&&"y"===this.axis&&this.height!==q&&(e=this.getValue(),this._syncThumbToValue(this.thumbLower,e),this._syncThumbToValue(this.thumbUpper,e))},_syncRangeFillToValue:function(){const e=this.rangeFill;var f=this.getValue();const q=this.convertValueToPixels(f.lower);f=this.convertValueToPixels(f.upper)-q;"x"===this.axis?(e.setX(q),e.setWidth(f)):(e.setY(q),e.setHeight(f))},_syncThumbToValue:function(e,f){this.callSuper(e,"thumbLower"===e.name?f.lower:f.upper)},_syncValueToThumb:function(e,
f){let q=this.getValueCopy();q["thumbLower"===e.name?"lower":"upper"]=f;this.setValue(q);q=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,q);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,q)},_nudge:function(e,f){const q=this.getValueCopy();f=this.nudgeAmount*(f?1:-1);"thumbLower"===e.name?q.lower=r(q.lower+f,q.upper):q.upper=h(q.upper+f,q.lower);this.setValue(q)},getMinPixelValueForThumb:function(e){return this.convertValueToPixels("thumbLower"===e.name?this.minValue:
this.getValue().lower)},getMaxPixelValueForThumb:function(e){return this.convertValueToPixels("thumbLower"===e.name?this.getValue().upper:this.maxValue)}});n.Slider=new v("Slider",g,{include:[n.BoundedValueComponent],initNode:function(e,f){this.callSuper(e,f);new d(this,{name:"thumb"})},setValue:function(e){this.callSuper(e);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(e,f){const q=this.width;this.callSuper(e,f);this.inited&&"x"===this.axis&&
this.width!==q&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(e,f){const q=this.height;this.callSuper(e,f);this.inited&&"y"===this.axis&&this.height!==q&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(e,f){this.setValue(f);this._syncThumbToValue(e,this.getValue())},_nudge:function(e,f){this.setValue(this.getValue()+this.nudgeAmount*(f?1:-1))}});n.LabelSlider=new v("LabelSlider",n.Slider,{initNode:function(e,f){const q=this;b(f,"labelX",8);b(f,
"labelY",2);b(f,"labelFontSize","12px");b(f,"labelColor","#000");b(f,"flipThreshold",w.round((f.maxValue-f.minValue)/2)||0);q.quickSet(["labelX","labelY","labelFontSize","labelColor","flipThreshold"],f);q.callSuper(e,f);const k=q.labelX;q.labelTxt=new n.Text(q,{x:k,y:q.labelY,textColor:q.labelColor,fontSize:q.labelFontSize},[{initNode:function(m,t){this.targetX=k;this.callSuper(m,t)},updateX:function(m){const t=q.getValue()>=q.flipThreshold?k:q.width-this.width-k;this.targetX!==t&&(this.targetX=t,
this.stopActiveAnimators("x"),m?this.setX(t):this.animate({attribute:"x",to:t,duration:250}))}}]);q.syncTo(q,"setText","value")},setWidth:function(e,f){this.callSuper(e,f);this.labelTxt&&this.labelTxt.updateX(!0)},setText:function(e,f){const q=this.labelTxt;q&&(q.setText(e.value),q.updateX(f))}})})(myt);
(n=>{const v=JS.Class,w=n.global.keys,r=n.AccessorSupport.defAttr,h=c=>{const b="y"===c.axis?"height":"width";c.constrain("__limitToParent",[c,"limitToParent",c,b,c.parent,b])},a=new v("BaseDivider",n.SimpleButton,{include:[n.BoundedValueComponent,n.Draggable],initNode:function(c,b){r(b,"activeColor","#bbb");r(b,"hoverColor","#ddd");r(b,"readyColor","#ccc");r(b,"axis","x");r(b,"minValue",0);r(b,"value",b.minValue);r(b,"expansionState",2);r(b,"focusIndicator",!1);r(b,"repeatKeyDown",!0);r(b,"activationKeys",
[w.CODE_ARROW_LEFT,w.CODE_ARROW_UP,w.CODE_ARROW_RIGHT,w.CODE_ARROW_DOWN,w.CODE_ENTER,w.CODE_SPACE]);"y"===b.axis?(r(b,"height",6),r(b,"cursor","row-resize")):(r(b,"width",6),r(b,"cursor","col-resize"));this.quickSet(["axis"],b);this.__nudgeAcc=1;this.callSuper(c,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&h(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(c){this.expansionState=c},setRestoreValue:function(c){this.restoreValue=
c},setLimitToParent:function(c){this.limitToParent!==c&&(this.limitToParent=c,this.inited&&(this.fireEvent("limitToParent",c),null==c?this.releaseConstraint("__limitToParent"):h(this)))},setAxis:function(c){this.inited?console.warn("Axis not updatable after instantiation"):this.axis=c},setValue:function(c,b){this.callSuper(c);c=this.value;"y"===this.axis?this.setY(c):this.setX(c);b&&this.setRestoreValue(c)},__limitToParent:function(c){c="y"===this.axis?"height":"width";this.setMaxValue(this.parent[c]-
this.limitToParent-this[c])},doActivationKeyDown:function(c,b){this.callSuper(c,b);switch(c){case w.CODE_ARROW_UP:case w.CODE_ARROW_LEFT:c=-1;break;case w.CODE_ARROW_DOWN:case w.CODE_ARROW_RIGHT:c=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=b?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+c*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const c=this.restoreValue,b=this.maxValue,d=this.minValue;let g;switch(this.expansionState){case 0:null!=c&&
(this.setExpansionState(1),c===d?c!==b&&this.doPrimaryAction():g=c);break;case 1:null!=b&&(this.setExpansionState(3),this.value===b?this.doPrimaryAction():g=b);break;case 2:null!=d&&(this.setExpansionState(0),this.value===d?this.doPrimaryAction():g=d);break;case 3:null!=c&&(this.setExpansionState(2),c===b?this.doPrimaryAction():g=c)}this.animateToValue(g)},animateToValue:function(c,b=250){null!=c&&(this.stopActiveAnimators("value"),this.animateOnce("value",c,null,b))},requestDragPosition:function(c,
b){this.disabled||(c="y"===this.axis?b:c,b=this.value,c!==b&&(this.setValue(c,!0),this.setExpansionState(b>c?2:1)))}});n.HorizontalDivider=new v("HorizontalDivider",a,{initNode:function(c,b){b.axis="x";this.callSuper(c,b)}});n.VerticalDivider=new v("VerticalDivider",a,{initNode:function(c,b){b.axis="y";this.callSuper(c,b)}})})(myt);
(n=>{let v=0;const w=JS.Class,r=JS.Module,h=Math.min,a=Math.max,c=n.View,b=n.AccessorSupport.defAttr,d=l=>{const u=l.columnHeaders;var y=l.sort;const D=y?y[0]:"";y=y?y[1]:"";let H=u.length;for(;H;){const J=u[--H];J.columnId===D?J.sortable&&J.setSortState(y):J.setSortState("none")}l.locked||l.doSort()},g=(l,u,y,D)=>{if(0!==u){const K=0<u,M=[];for(var H=l.length,J;H;)J=l[--H],J.resizable&&(y?0<J.flex:0===J.flex)&&M.push({hdr:J,limit:(K?J.maxValue:J.minValue)-J.value,amt:0});l=M.length;if(0<l){for(H=
0;0!==u;){v>=l&&(H=v=0);const O=M[v];J=O.hdr;O.full?++H:(K?(J=h(y?J.flex:1,u),O.amt+J>O.limit&&(J=O.limit-O.amt,O.full=!0)):(J=a(y?-J.flex:-1,u),O.amt+J<O.limit&&(J=O.limit-O.amt,O.full=!0)),O.amt+=J,u-=J);if(H===l)break;++v}M.forEach(O=>{O.hdr.setValue(O.hdr.value+O.amt)});D&&D(u)}}},e=l=>(l=l.gridController?l.gridController.getPrevHdr(l):null)?l.maxValue-l.value+e(l):0,f=l=>(l=l.gridController?l.gridController.getNextHdr(l):null)?l.maxValue-l.value+f(l):0,q=l=>(l=l.gridController?l.gridController.getPrevHdr(l):
null)?l.minValue-l.value+q(l):0,k=l=>(l=l.gridController?l.gridController.getNextHdr(l):null)?l.minValue-l.value+k(l):0,m=(l,u)=>{l=l.gridController?l.gridController.getPrevHdr(l):null;var y=0;if(l){y=l.value+u;l.resizable&&l.setValue(y);const D=y-l.value;y=u-D;0>D&&(y+=m(l,D))}return y},t=(l,u)=>{l=l.gridController?l.gridController.getPrevHdr(l):null;var y=0;if(l){y=l.value+u;l.resizable&&l.setValue(y);const D=y-l.value;y=u-D;0<D&&(y+=t(l,D))}return y},p=(l,u)=>{if(l=l.gridController?l.gridController.getNextHdr(l):
null)u=l.value+u,l.resizable&&l.setValue(u),u-=l.value,0>u&&p(l,u)},x=(l,u)=>{if(l=l.gridController?l.gridController.getNextHdr(l):null)u=l.value+u,l.resizable&&l.setValue(u),u-=l.value,0<u&&x(l,u)},z=l=>{let u="";if(l.sortable)switch(l.sortState){case "ascending":u="chevron-up";break;case "descending":u="chevron-down"}l.sortIcon.setIcon(u)},E=l=>{const u=l.textView;u&&u.setWidth(l.width-l.outset-u.x)},I=n.GridController=new r("GridController",{initNode:function(l,u){this.columnHeaders=[];this.rows=
[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(l,u);this.fitHeadersToWidth();d(this)},setMaxWidth:function(l){this.set("maxWidth",l,!0)},setMinWidth:function(l){this.set("minWidth",l,!0)},setFitToWidth:function(l){this.fitToWidth=l},setSort:function(l){n.areArraysEqual(l,this.sort)||(this.sort=l,this.inited&&(this.fireEvent("sort",l),d(this)))},setLastColumn:function(l){const u=this.lastColumn;u!==l&&(u&&u.setLast(!1),(this.lastColumn=l)&&l.setLast(!0))},
setLocked:function(l){this.locked=l;this.inited&&!l&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.__skipInvisibleHeaders=!0,this.columnHeaders.forEach(u=>{this.notifyHdrXChange(u);this.notifyHdrWidthChange(u);this.notifyHdrVisibilityChange(u)}),this.__skipInvisibleHeaders=!1,this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(l){l=this.valueFromEvent(l);this.gridWidth!==l&&(this.gridWidth=l,
this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevHdr:function(l){const u=this.columnHeaders;l=this.getHdrIndex(l);if(0<l)for(;l;){const y=u[--l];if(y.visible)return y}},getNextHdr:function(l){const u=this.columnHeaders,y=u.length;l=this.getHdrIndex(l)+1;if(0<l&&l<y)for(;y>l;){const D=u[l++];if(D.visible)return D}},hasHdr:function(l){return 0<=this.getHdrIndex(l)},getHdrIndex:function(l){return this.columnHeaders.indexOf(l)},getHdrById:function(l){const u=this.columnHeaders;let y=u.length;
for(;y;){const D=u[--y];if(D.columnId===l)return D}},getVisibleHdrs:function(){return this.columnHeaders.filter(l=>l.visible)},notifyAddHdr:function(l){this.hasHdr(l)||(this.columnHeaders.push(l),l.visible&&this.setLastColumn(l),this.fixupResizerCursors())},notifyRemoveHdr:function(l){const u=this.getHdrIndex(l);-1<u&&(this.columnHeaders.splice(u,1),l.visible&&l.last&&this.setLastColumn(this.getPrevHdr(l)),this.fixupResizerCursors())},notifyHdrXChange:function(l){this.isLocked()||this.rows.forEach(u=>
{u.notifyHdrXChange(l)})},notifyHdrWidthChange:function(l){this.isLocked()||this.rows.forEach(u=>{u.notifyHdrWidthChange(l)})},notifyHdrVisibilityChange:function(l){if((!this.__skipInvisibleHeaders||l.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(l);var u=this.setLastColumn;a:{var y=this.columnHeaders;let D=y.length;for(;D;){const H=y[--D];if(H.visible){y=H;break a}}y=void 0}u.call(this,y);u=l.visible?1:-1;this.setMaxWidth(this.maxWidth+l.maxValue*u);this.setMinWidth(this.minWidth+
l.minValue*u);this.fitHeadersToWidth();this.fixupResizerCursors()}},updateRowsForVisibilityChange:function(l){this.rows.forEach(u=>{u.notifyHdrVisibilityChange(l)})},hasRow:function(l){return 0<=this.getRowIndex(l)},getRowIndex:function(l){return this.rows.indexOf(l)},getRowById:function(l,u=y=>y.model.id===l){return this.rows.find(u)},getPrevRow:function(l){l=this.getRowIndex(l)-1;return this.rows[0>l?this.rows.length-1:l]},getNextRow:function(l){l=this.getRowIndex(l)+1;return this.rows[l<this.rows.length?
l:0]},notifyAddRow:function(l,u){if(!this.hasRow(l)&&(this.rows.push(l),!this.locked)){const y=this.width;this.columnHeaders.forEach(D=>{l.setWidth(y);l.notifyHdrXChange(D);l.notifyHdrWidthChange(D);l.notifyHdrVisibilityChange(D)});u||this.doSort()}},notifyRemoveRow:function(l){l=this.getRowIndex(l);-1<l&&this.rows.splice(l,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const l=this.getVisibleHdrs();let u=0;l.forEach(y=>{u=a(u,y.x+y.width)});g(l,this.gridWidth-u,!0,y=>{g(l,y,!1,
null)})}},fixupResizerCursors:function(){const l=this.getVisibleHdrs();let u=!0,y=0;l.forEach((K,M)=>{u&&K.isFixed()?K.setResizerCursor("",!0):(u&&(y=M),u=!1,K.restoreResizerCursor())});let D=!0,H=l.length,J=H-1;for(;H>y;){const K=l[--H];D?K.setResizerCursor("",!0):K.restoreResizerCursor();K.isFixed()||(D&&(J=H),D=!1)}y===J&&l[y].setResizerCursor("",!0)}}),A=n.GridColHdr=new r("GridColHdr",{include:[n.BoundedValueComponent],initNode:function(l,u){const y=this;b(u,"resizerCursor","col-resize");let D=
u.resizerCursor;delete u.resizerCursor;b(u,"minValue",16);b(u,"maxValue",9999);b(u,"value",u.minValue);b(u,"resizable",!0);b(u,"flex",0);b(u,"cellXAdj",0);b(u,"cellWidthAdj",0);b(u,"sortable",!0);b(u,"sortState","none");b(u,"placement","*");y.callSuper(l,u);const H=y.gridController;y.resizer=new c(y,{cursor:D,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[n.SizeToParent,n.Draggable,{requestDragPosition:function(J,K){K=J-this.x;if(H.fitToWidth&&(0<
K?K=h(K,h(-k(y),y.maxValue-y.value+e(y))):0>K&&(K=a(K,a(-f(y),y.minValue-y.value+q(y)))),0===K))return;J=y.value+K;y.resizable&&y.setValue(J);J-=y.value;K=J-K;let M=0;0>J?M=m(y,J):0<J&&(M=t(y,J));this.dragInitX+=M;K-=M;H.fitToWidth&&(0>K?p(y,K):0<K&&x(y,K))}}]);H&&(H.notifyAddHdr(y),H.notifyHdrXChange(y),H.notifyHdrVisibilityChange(y));y.setWidth(y.value);y.resizer.setVisible(!(y.last&&y.gridController.fitToWidth))},destroy:function(l){this.setGridController();this.callSuper(l)},setSortable:function(l){this.set("sortable",
l,!0)},setSortState:function(l){this.set("sortState",l,!0)},setResizable:function(l){this.set("resizable",l,!0)},setCellWidthAdj:function(l){this.cellWidthAdj=l},setCellXAdj:function(l){this.cellXAdj=l},setFlex:function(l){this.flex=l},setColumnId:function(l){this.columnId=l},setResizerCursor:function(l,u){const y=this.resizer,D=y.cursor;l!==D&&(u&&(this.__rrc=D),y.setCursor(l))},restoreResizerCursor:function(){const l=this.__rrc;l&&(this.setResizerCursor(l),this.__rrc=null)},isFixed:function(){return this.minValue===
this.maxValue},setLast:function(l){this.last=l;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(l){const u=this.gridController;u!==l&&(u&&u.notifyRemoveHdr(this),this.gridController=l,this.inited&&l&&(l.notifyAddHdr(this),l.notifyHdrXChange(this),l.notifyHdrWidthChange(this),l.notifyHdrVisibilityChange(this)))},setValue:function(l){this.callSuper(l);this.inited&&this.setWidth(this.value)},setMinValue:function(l){const u=this.minValue||
0,y=this.gridController;this.callSuper(l);y&&this.inited&&u!==this.minValue&&y.setMinWidth(y.minWidth+this.minValue-u)},setMaxValue:function(l){const u=this.maxValue||0,y=this.gridController;null==l&&(l=9999);this.callSuper(l);y&&this.inited&&u!==this.maxValue&&y.setMaxWidth(y.maxWidth+this.maxValue-u)},setWidth:function(l,u){const y=this.width,D=this.gridController;this.callSuper(l,u);D&&this.inited&&y!==this.width&&D.notifyHdrWidthChange(this)},setX:function(l){const u=this.x,y=this.gridController;
this.callSuper(l);y&&this.inited&&u!==this.x&&y.notifyHdrXChange(this)},setVisible:function(l){const u=this.visible,y=this.gridController;this.callSuper(l);this.inited&&y&&u!==this.visible&&y.notifyHdrVisibilityChange(this)}}),B=n.GridRow=new r("GridRow",{initNode:function(l,u){b(u,"placement","*");this.callSuper(l,u);(l=this.gridController)&&l.notifyAddRow(this)},destroy:function(l){this.setGridController();this.callSuper(l)},setGridController:function(l){const u=this.gridController;u!==l&&(u&&u.notifyRemoveRow(this),
this.gridController=l,this.inited&&l&&l.notifyAddRow(this))},notifyHdrXChange:function(l){const u=this[l.columnId+"View"];u&&u.setX(l.x+l.cellXAdj)},notifyHdrWidthChange:function(l){const u=this[l.columnId+"View"];u&&u.setWidth(l.width+l.cellWidthAdj)},notifyHdrVisibilityChange:function(l){const u=this[l.columnId+"View"];u&&u.setVisible(l.visible)}});n.Grid=new w("Grid",c,{include:[I],initNode:function(l,u){const y=n.SpacedLayout;b(u,"overflow","autox");b(u,"bgColor","#ccc");b(u,"rowSpacing",1);b(u,
"columnSpacing",1);var D=u.isAutoScrolling;delete u.isAutoScrolling;this.callSuper(l,u);l=new c(this,{name:"header",overflow:"hidden"});new y(l,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new n.SizeToChildren(l,{name:"yLayout",locked:!0,axis:"y"});u=this.sizeHeightToRows;D=new c(this,{name:"content",overflow:u?"hidden":"autoy"},D?[n.AutoScroller]:[]);new y(D,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:u});this.syncTo(this,"setGridWidth","width");
this.syncTo(l,"_updateContentWidth","width");this.constrain("_updateContentHeight",[u?D:this,"height",l,"height",l,"y"])},setSizeHeightToRows:function(l){this.sizeHeightToRows=l},setRowSpacing:function(l){this.rowSpacing!==l&&(this.rowSpacing=l,this.inited&&this.content.yLayout.setSpacing(l))},setColumnSpacing:function(l){this.columnSpacing!==l&&(this.columnSpacing=l,this.inited&&this.header.xLayout.setSpacing(l))},setLocked:function(l){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(u=>
{l?u.incrementLockedCounter():(u.decrementLockedCounter(),u.update())});this.callSuper(l)},_updateContentWidth:function(l){const u=this.content,y=l.value;u.setWidth(y);u.getSubviews().forEach(D=>{D.setWidth(y)})},_updateContentHeight:function(l){var u=this.header;l=this.content;u=u.y+u.height;l.setY(u);this.sizeHeightToRows?this.setHeight(u+l.height):l.setHeight(this.height-u)},determinePlacement:function(l,u){if("*"===l){let y;u.isA(B)?y=this.content:u.isA(A)&&(y=this.header);if(y)return u.gridController!==
this&&u.setGridController(this),y}return this.callSuper(l,u)},doSort:function(){var l=this.sort||["",""];if(l=this.getSortFunction(l[0],l[1])){const u=this.content,y=u.yLayout;this.rows.sort(l);u.sortSubviews(l);y.sortSubviews(l);y.update()}},getSortFunction:(l,u)=>{if(l){const y="ascending"===u?1:-1,D=l+"View";return(H,J)=>{H=H[D].text;J=J[D].text;return H>J?y:J>H?-y:0}}}});n.SimpleGridColHdr=new w("SimpleGridColHdr",n.SimpleTextButton,{include:[A],initNode:function(l,u){const y=this;b(u,"activeColor",
"#999");b(u,"hoverColor","#bbb");b(u,"readyColor","#aaa");b(u,"inset",2);b(u,"sortIconColor","#666");b(u,"outset",2);const D=u.outset;delete u.outset;y.callSuper(l,u);new n.FontAwesome(y,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:y.sortIconColor},[{initNode:function(H,J){this.callSuper(H,J);this.getIDS().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();y.setOutset(this.width+D);E(y)}}]);y.textView.enableEllipsis();y.setDisabled(!y.sortable);E(y);z(y)},setSortIconColor:function(l){this.sortIconColor=
l;this.sortIcon&&this.sortIcon.setTextColor(l)},setSortable:function(l){this.callSuper(l);this.inited&&(l&&this.setOutset(14),this.setDisabled(!l),z(this))},setSortState:function(l){this.callSuper(l);this.inited&&z(this)},setWidth:function(l,u){this.callSuper(l,u);this.inited&&E(this)},doActivated:function(){this.disabled||(this.setSortState("ascending"===this.sortState?"descending":"ascending"),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,
1)}})})(myt);
(n=>{const v=JS.Class,w=JS.Module,r=Math,h=r.max,a=n.View;var c=n.global;const b=c.focus,d=c.keys,g=n.AccessorSupport.defAttr,e=x=>{const z=x.selectedRow;z&&(z.setSelected(!1),x.set("selectedRow",null,!0))};c=n.InfiniteListRow=new w("InfiniteListRow",{include:[n.Reusable],setInfiniteOwner:function(x){this.infiniteOwner=x},setModel:function(x){this.model=x},setClassKey:function(x){this.classKey=x},notifyRefreshed:()=>{}});const f=n.SelectableInfiniteListRow=new w("SelectableInfiniteListRow",{include:[c,
n.Selectable]}),q=n.InfiniteList=new v("InfiniteList",a,{initNode:function(x,z){let E=z.rowClasses;delete z.rowClasses;if("function"===typeof E){const I={};I["default"]=E;E=I}g(z,"modelIDName","id");g(z,"numericSort",!0);g(z,"ascendingSort",!0);g(z,"overflow","autoy");g(z,"bgColor","#ccc");g(z,"rowSpacing",1);g(z,"rowInset",0);g(z,"rowOutset",0);g(z,"rowHeight",30);g(z,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx=
{};this.callSuper(x,z);x=this._listView=new a(this);this._scrollAnchorView=new a(x,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(E,x);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(x,z)=>new n.TrackActivesMultiPool(x,z),setOverscrollBehavior:function(x){this.overscrollBehavior=x;this.getIDS().overscrollBehavior=x},setCollectionModel:function(x){this.collectionModel=x},setModelIDName:function(x){this.modelIDName=x},setRowSpacing:function(x){this.rowSpacing=
x;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(x){this.rowHeight=x;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(x,z){if(0<x&&(this.callSuper(x,z),this.inited)){x=this._listView;const E=this.width;x.setWidth(E);x.getSubviews().forEach(I=>{I.setWidth(E)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},getVisibleRowForModel:function(x){const z=this.getVisibleRows();let E=z.length;
for(;E;){const I=z[--E];if(I.model===x)return I}},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},getSortFunction:function(){const x=this.modelIDName,z=this.ascendingSort;return this.numericSort?n.getNumericObjSortFunc(x,z):n.getAlphaObjSortFunc(x,z,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(x,z){var E=this.getIndexOfModelInData(x);let I=!1;if(0<=E){var A=this._rowExtent;const B=this.getIDE().scrollTop,l=B+this.height;E=this.rowInset+
E*A;A=E+A;E<=B?(this.scrollYTo(E,!0),I=!0):A>=l&&(this.scrollYTo(A-this.height,!0),I=!0);z&&((z=this.getVisibleRowForModel(x))?z.focus():this._focusToModel=x)}return I},isModelInData:function(x){return 0<=this.getIndexOfModelInData(x)},getNextModel:function(x,z=!0,E=!0){const I=this.getListData(),A=I.length;x=this.getIndexOfModelInData(x);if(0<=x)return x+=1,x>=A?z?I[0]:I[A-1]:I[x];if(E&&0<A)return I[A-1]},getPrevModel:function(x,z=!0,E=!0){const I=this.getListData(),A=I.length;x=this.getIndexOfModelInData(x);
if(0<=x)return--x,0>x?z?I[A-1]:I[0]:I[x];if(E&&0<A)return I[0]},getIndexOfModelInData:function(x){if(x){const z=this.getListData();let E=z.length;for(;E;)if(this.areModelsEqual(z[--E],x))return E}return-1},areModelsEqual:function(x,z){const E=this.modelIDName;return x[E]===z[E]},getActiveRowForModel:function(x){if(x){const z=this._itemPool.getActives();let E=z.length;for(;E;){const I=z[--E];if(this.areModelsEqual(I.model,x))return I}}},refreshListData:function(x,z){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),
this.getFilterFunction());this.resetListUI(x,z)},resetListUI:function(x,z){const E=this.getListData().length,I=this._listView,A=this._scrollAnchorView;I.setHeight(E*this._rowExtent-(0<E?this.rowSpacing:0)+this.rowInset+this.rowOutset);A.setY(I.height-A.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=z;x||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(x){var z=b.focusedView;z&&z.isDescendantOf(x)&&((z=this.getFocusTrap())?z.focus():
b.clear());x.setVisible(!1);this._itemPool.putInstance(x)},refreshListUI:function(x){x=this._rowExtent;const z=this.rowInset,E=this.forceFullResetOnNextRefresh;var I=this.getIDE().scrollTop;const A=this.getListData()||[];var B=h(0,r.floor((I-z)/x));I=r.min(A.length,r.ceil((I-z+this.height)/x));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==B||this._endIdx!==I||E){const u=this.width,y=this.rowHeight,D=this._visibleRowsByIdx,H=this._focusToModel;this._startIdx=
B;this._endIdx=I;for(var l in D)if(l<B||l>=I)this.putRowBackInPool(D[l]),delete D[l];for(l=B;l<I;l++){B=D[l];const J=A[l],K=this.getClassKey(J);let M=!1;B&&B.classKey===K||(B&&this.putRowBackInPool(B),D[l]=B=this._itemPool.getInstance(K),B.setInfiniteOwner(this),B.setClassKey(K),B.setWidth(u),B.setHeight(y),B.setY(z+l*x),B.setVisible(!0),M=!0);!E&&B.model&&this.areModelsEqual(B.model,J)?M&&this.updateRow(B):(B.setModel(J),this.updateRow(B));B.notifyRefreshed();B.bringToFront();H&&this.areModelsEqual(H,
J)&&(B.focus(),this._focusToModel=null)}}},getClassKey:x=>"default",updateRow:x=>{}}),k=n.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",n.SimpleButton,{include:[f],initNode:function(x,z){g(z,"selectedColor","#ccf");g(z,"activeColor","#f8f8f8");g(z,"hoverColor","#eee");g(z,"readyColor","#fff");g(z,"focusIndicator",!1);g(z,"activationKeys",d.LIST_KEYS);this.callSuper(x,z)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(x){this.callSuper(x);
this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(x,z){z=this.infiniteOwner;const E=this.model;switch(x){case d.CODE_ESC:this.selected&&z.setSelectedRow();break;case d.CODE_ARROW_LEFT:case d.CODE_ARROW_UP:z.selectPrevRowForModel(E);
break;case d.CODE_ARROW_RIGHT:case d.CODE_ARROW_DOWN:z.selectNextRowForModel(E)}},doActivationKeyUp:function(x){switch(x){case d.CODE_ENTER:case d.CODE_SPACE:this.doActivated()}}}),m=n.SelectableInfiniteList=new v("SelectableInfiniteList",q,{setSelectedRow:function(x){const z=this.selectedRow;x!==z&&(z&&z.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",x,!0),x&&(this.setSelectedRowModel(x.model),x.setSelected(!0)))},setSelectedRowModel:function(x){this.set("selectedRowModel",x,!0);
this.scrollModelIntoView(this.selectedRowModel,!1)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(x,z,E){x&&(e(this),this.setSelectedRowModel(x),this.refreshListUI(),z&&(x=this.getActiveSelectedRow())&&x.focus())},selectNextRowForModel:function(x,z=!0){this.selectRowForModel(this.getNextModel(x),z,!0)},selectPrevRowForModel:function(x,z=!0){this.selectRowForModel(this.getPrevModel(x),z,!1)},resetListUI:function(x,z){this.isModelInData(this.selectedRowModel)?
e(this):this.setSelectedRow();this.callSuper(x,z)},putRowBackInPool:function(x){x.selected&&e(this);this.callSuper(x)},refreshListUI:function(x){x=b.focusedView;this.callSuper();const z=this.getActiveSelectedRow();z&&(this.set("selectedRow",z,!0),z.setSelected(!0),x&&x!==z||z.focus(!0))}}),t=new w("InfiniteGridRowMixin",{notifyXChange:function(x){const z=this[x.columnId+"View"];z&&z.setX(x.x+x.cellXAdj)},notifyWidthChange:function(x){const z=this[x.columnId+"View"];z&&z.setWidth(x.width+x.cellWidthAdj)},
notifyVisibilityChange:function(x){const z=this[x.columnId+"View"];z&&z.setVisible(x.visible)}}),p=new w("InfiniteGridMixin",{setGridHeader:function(x){(this.gridHeader=x)&&x.setGrid(this)},makeReady:function(x,z){const E=this.gridHeader;E?(this.forceFullResetOnNextRefresh=z,E.setSort(x),E.setLocked(!1)):this.refreshListData(!1,z)},getSortFunction:function(){var x=this.gridHeader.sort||["",""];const z=x[0];x=x[1];return z?n.getAlphaObjSortFunc(z,"ascending"===x,!1):this.callSuper()},updateRow:function(x){this.gridHeader&&
this.gridHeader.columnHeaders.forEach(z=>{x.notifyXChange(z);x.notifyWidthChange(z);x.notifyVisibilityChange(z)})},notifyXChange:function(x){this.getVisibleRows().forEach(z=>{z.notifyXChange(x)})},notifyWidthChange:function(x){this.getVisibleRows().forEach(z=>{z.notifyWidthChange(x)})},notifyVisibilityChange:function(x){this.getVisibleRows().forEach(z=>{z.notifyVisibilityChange(x)})}});n.InfiniteGridRow=new w("InfiniteGridRow",{include:[c,t]});n.SelectableInfiniteGridRow=new w("SelectableInfiniteGridRow",
{include:[f,t]});n.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",k,{include:[t]});n.InfiniteGrid=new v("InfiniteGrid",q,{include:[p]});n.SelectableInfiniteGrid=new v("InfiniteGrid",m,{include:[p]});n.InfiniteGridHeader=new v("InfiniteGridHeader",a,{include:[n.GridController],initNode:function(x,z){g(z,"columnSpacing",1);z.overflow="hidden";this.callSuper(x,z);new n.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(x){this.grid=x},setColumnSpacing:function(x){this.columnSpacing=
x},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:h(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setHeight:function(x,z){this.callSuper(x,z);this.inited&&(x=this.height,this.columnHeaders.forEach(E=>{E.setHeight(x)}))},setWidth:function(x,z){this.callSuper(h(this.minWidth,x),z);this.inited&&(x=this.width,this.setGridWidth(x),this.grid.setWidth(x))},subviewAdded:function(x){this.callSuper(x);x.isA(n.GridColHdr)&&(x.setGridController(this),x.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,
this.grid.forceFullResetOnNextRefresh)},notifyHdrXChange:function(x){this.isLocked()||this.grid.notifyXChange(x)},notifyHdrWidthChange:function(x){this.isLocked()||this.grid.notifyWidthChange(x)},updateRowsForVisibilityChange:function(x){this.grid.notifyVisibilityChange(x)}})})(myt);
(n=>{const v=JS.Class,w=n.AccessorSupport.defAttr,r=n.PanelStackTransition=new v("PanelStackTransition",n.Node,{to:h=>Promise.resolve(h),from:h=>Promise.resolve(h)});n.PanelStack=new v("PanelStack",n.View,{include:[n.SelectionManager],initNode:function(h,a){a.overflow="hidden";w(a,"itemSelectionId","panelId");w(a,"maxSelected",1);this.callSuper(h,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(h){this.set("transition",h,!0)},__updateWidth:function(h){const a=
this.getActivePanel();a&&a.setWidth(h.value)},__updateHeight:function(h){const a=this.getActivePanel();a&&a.setHeight(h.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(h){return this.getSelectableItem(h)},selectPanel:function(h){this.selectById(h)},doSelected:function(h){h.setWidth(this.width);h.setHeight(this.height)},doStackTransition:function(h){this["doStackTransition"+(h.selected?"To":"From")](h)},doStackTransitionTo:function(h){const a=this;a.doBeforeTransitionTo(h);
const c=a.transition;c?c.to(h).then(b=>{a.doAfterTransitionTo(b)}):(h.makeHighestZIndex(),h.setVisible(!0),a.doAfterTransitionTo(h))},doBeforeTransitionTo:h=>{},doAfterTransitionTo:h=>{},doStackTransitionFrom:function(h){const a=this;a.doBeforeTransitionFrom(h);const c=a.transition;c?c.from(h).then(b=>{a.doAfterTransitionFrom(b)}):(h.setVisible(!1),a.doAfterTransitionFrom(h))},doBeforeTransitionFrom:h=>{},doAfterTransitionFrom:h=>{}});n.StackablePanel=new JS.Module("StackablePanel",{include:[n.Selectable],
initNode:function(h,a){a.visible=a.selected=!1;w(a,"bgColor","#fff");w(a,"panelId",a.name);this.callSuper(h,a);this.selected&&this.doStackTransition()},setPanelStack:function(h){this.panelStack=h},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(h){this.panelId=h},setSelected:function(h){this.selected!==h&&(this.callSuper(h),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});n.PanelStackFadeTransition=
new v("PanelStackFadeTransition",r,{initNode:function(h,a){w(a,"duration",1E3);this.callSuper(h,a)},setDuration:function(h){this.duration=h},to:function(h){return new Promise((a,c)=>{h.stopActiveAnimators("opacity");h.setVisible(!0);h.animate({attribute:"opacity",to:1,duration:this.duration}).next(b=>{h.makeHighestZIndex();a(h)})})},from:function(h){return new Promise((a,c)=>{h.stopActiveAnimators("opacity");h.animate({attribute:"opacity",to:0,duration:this.duration}).next(b=>{h.setVisible(!1);a(h)})})}});
n.PanelStackSlideTransition=new v("PanelStackSlideTransition",r,{initNode:function(h,a){w(a,"duration",1E3);w(a,"direction","right");this.callSuper(h,a)},setDuration:function(h){this.duration=h},setDirection:function(h){this.direction=h},to:function(h){const a=h.getPanelStack(),c=this.duration;let b,d;switch(this.direction){case "left":d="x";b=a.width;break;case "right":d="x";b=-a.width;break;case "up":d="y";b=a.height;break;case "down":d="y",b=-a.height}h.stopActiveAnimators(d);h.set(d,b);h.setVisible(!0);
return new Promise((g,e)=>{e=f=>{h.makeHighestZIndex();g(h)};0<c?h.animate({attribute:d,to:0,duration:c}).next(e):(h.set(d,0),h.makeHighestZIndex(),g(h))})},from:function(h){const a=h.getPanelStack(),c=this.duration;let b,d;switch(this.direction){case "left":d="x";b=-a.width;break;case "right":d="x";b=a.width;break;case "up":d="y";b=-a.height;break;case "down":d="y",b=a.height}h.stopActiveAnimators(d);return new Promise((g,e)=>{e=f=>{h.setVisible(!1);g(h)};0<c?h.animate({attribute:d,to:b,duration:c}).next(e):
(h.set(d,b),h.setVisible(!1),g(h))})}})})(myt);
(n=>{const v=JS.Module;var w=n.global;const r=w.dragManager,h=w.mouse;w=n.Draggable;const a=(b,d,g)=>{[d,g].forEach(e=>{b["__is"+e]=!1;b["__tmrId"+e]=null})},c=n.DragGroupSupport=new v("DragGroupSupport",{initNode:function(b,d){this.__dgs={"*":!0};this.__drpgs={"*":!0};this.__anyDG=this.__anyDRPG=!0;this.callSuper(b,d)},setDragGroups:function(b){const d=this.__dgs={};for(const g in b)d[g]=!0;this.__anyDG=d.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},setDropGroups:function(b){const d=
this.__drpgs={};for(const g in b)d[g]=!0;this.__anyDRPG=d.hasOwnProperty("*")},getDropGroups:function(){return this.__drpgs},addDragGroup:function(b){b&&(this.__dgs[b]=!0,"*"===b&&(this.__anyDG=!0))},removeDragGroup:function(b){b&&(delete this.__dgs[b],"*"===b&&(this.__anyDG=!1))},isAnyDragGroup:function(){return this.__anyDG},addDropGroup:function(b){b&&(this.__drpgs[b]=!0,"*"===b&&(this.__anyDRPG=!0))},removeDropGroup:function(b){b&&(delete this.__drpgs[b],"*"===b&&(this.__anyDRPG=!1))},isAnyDropGroup:function(){return this.__anyDRPG}});
n.DropSource=new v("DropSource",{include:[w],initNode:function(b,d){this.defAttr(d,"distanceBeforeDrag",2);null==d.dropParent&&(d.dropParent=b.getRoot());this.callSuper(b,d)},setDropClass:function(b){this.dropClass=n.resolveClassname(b)},setDropClassAttrs:function(b){this.dropClassAttrs=b},setDropParent:function(b){this.dropParent=b},startDrag:function(b){const d=this.dropable=this.makeDropable();if(d){const g=d.distanceBeforeDrag;d.distanceBeforeDrag=0;d.doMouseDown(b);d.__doMouseDown(b);d.distanceBeforeDrag=
g}},doMouseUp:function(b){this.callSuper(b);const d=this.dropable;d&&(d.__doMouseUp(b),d.doMouseUp(b),this.dropable=null)},makeDropable:function(){const b=this.dropClass,d=this.dropParent;if(b&&d){const g=n.DomElementProxy.getRelativePosition(this.getIDE(),d.getIDE());return new b(d,Object.assign({},this.dropClassAttrs,{x:g.x||0,y:g.y||0}))}}});n.DropTarget=new v("DropTarget",{include:[c],initNode:function(b,d){this.callSuper(b,d);r.registerDropTarget(this)},destroy:function(){r.unregisterDropTarget(this);
this.callSuper()},willAcceptDrop:function(b){return!this.disabled&&this.isVisible()},notifyDragStart:b=>{},notifyDragStop:b=>{},notifyDragEnter:b=>{},notifyDragLeave:b=>{},notifyDrop:b=>{}});n.Dropable=new v("Dropable",{include:[w,c],setDropTarget:function(b){this.dropTarget=b},setDropped:function(b){this.dropped=b},setDropFailed:function(b){this.dropFailed=b},willPermitDrop:b=>!0,startDrag:function(b){this.setDropped(!1);this.setDropFailed(!1);r.startDrag(this);this.callSuper(b)},updateDrag:function(b){r.updateDrag(b,
this);this.callSuper(b)},stopDrag:function(b,d){r.stopDrag(b,this,d);this.callSuper(b,d);d?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEntering:function(b){this.setDropTarget(b)},notifyDragLeaving:function(b){this.setDropTarget()},notifyDropped:function(b,d){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});n.AutoScroller=new v("AutoScroller",{include:[c],initNode:function(b,d){this.scrollBorder=40;this.scrollFrequency=
50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(d,"overflow","auto");this.callSuper(b,d);r.registerAutoScroller(this)},destroy:function(){r.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(b){this.scrollBorder=Math.max(1,b)},setScrollFrequency:function(b){this.scrollFrequency=b},setScrollAmount:function(b){this.scrollAmount=b},setScrollAcceleration:function(b){this.scrollAcceleration=b},notifyAutoScrollerDragStart:function(b){b=this.getIDE();(b.scrollHeight>b.clientHeight||
b.scrollWidth>b.clientWidth)&&this.attachToDom(h,"__hndlMove","mousemove",!0)},notifyAutoScrollerDragStop:function(b){this.detachFromDom(h,"__hndlMove","mousemove",!0);a(this,"Up","Down");a(this,"Left","Right")},__hndlMove:function(b){const d=this;var g=b.value;b=g.pageX;g=g.pageY;if(d.containsPoint(b,g)){const e=d.getPagePosition(),f=d.scrollBorder,q=(k,m)=>{d["__is"+k]&&(d.getIDE()["scroll"+("Up"===k||"Down"===k?"Top":"Left")]+=m*d["__amt"+k],d["__tmrId"+k]=setTimeout(()=>{q(k,m)},d.scrollFrequency))};
b-=e.x;g-=e.y;g<f?(d.__isUp=!0,d.__amtUp=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-g/f))),d.__tmrIdUp||q("Up",-1)):d.height-g<f?(d.__isDown=!0,d.__amtDown=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-(d.height-g)/f))),d.__tmrIdDown||q("Down",1)):a(d,"Up","Down");b<f?(d.__isLeft=!0,d.__amtLeft=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-b/f))),d.__tmrIdLeft||q("Left",-1)):d.width-b<f?(d.__isRight=!0,d.__amtRight=Math.round(d.scrollAmount*(1+d.scrollAcceleration*(1-(d.width-
b)/f))),d.__tmrIdRight||q("Right",1)):a(d,"Left","Right")}else a(d,"Up","Down"),a(d,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(n,v){if(v){const w=v.length;for(let r=0,h;w>r;)(h=v[r++])?this.extend(h):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.init(n||{})},init:function(n){this.callSetters(n);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(n=>{const v=Math,w=n.Geometry.degreesToRadians,r=d=>{var g=w(d.startAngle),e=w(d.endAngle);if(g>e){var f=g;g=e;e=f}f=d.__path;const q=d.width/2;var k=d.thickness;const m=d.radius,t=m+k;var p=v.PI;const x=e-g,z=x+1E-4>=2*p;z&&(g=0,e=p);const E=v.cos,I=v.sin;g=[[q+t*E(g),q+t*I(g)],[q+t*E(e),q+t*I(e)],[q+m*E(e),q+m*I(e)],[q+m*E(g),q+m*I(g)]];e=["M"+g[0].join()];z?e.push("A"+[t,t,0,1,1,g[1]].join(),"A"+[t,t,0,1,1,g[0]].join(),"L"+g[2].join(),"A"+[m,m,0,1,0,g[3]].join(),"A"+[m,m,0,1,0,g[2]].join()):(p=
x%(2*p)>p?1:0,k/=2,e.push("A"+[t,t,0,p,1,g[1]].join(),d.endCapRounding?"A"+[k,k,0,0,1,g[2]].join():"L"+g[2].join(),"A"+[m,m,0,p,0,g[3]].join(),d.startCapRounding?"A"+[k,k,0,0,1,g[0]].join():""));e.push("z");f.setAttribute("d",e.join(" "));f.setAttribute("fill",d.color)},h=d=>{const g=2*(d.radius+d.thickness),e=d.__svg;d.setWidth(g);d.setHeight(g);e.setAttribute("viewBox","0 0 "+g+" "+g);e.setAttribute("width",g);e.setAttribute("height",g);r(d)},a=(d,g,e)=>{d[g]!==e&&(d[g]=e,d.inited&&(r(d),d.fireEvent(g,
e)))},c=(d,g,e)=>{d[g]!==e&&(d[g]=e=v.max(0,e),d.inited&&(h(d),d.fireEvent(g,e)))},b=(d,g)=>{d=document.createElementNS("http://www.w3.org/2000/svg",d);g&&g.appendChild(d);return d};n.Annulus=new JS.Class("Annulus",n.BackView,{initNode:function(d,g){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(d,g);h(this)},createOurDomElement:function(d){d=this.callSuper(d);var g=Array.isArray(d)?d[1]:d;g=this.__svg=b("svg",g);this.__path=
b("path",g);g.style.pointerEvents="none";return d},setRadius:function(d){c(this,"radius",d)},setThickness:function(d){c(this,"thickness",d)},setStartAngle:function(d){a(this,"startAngle",d)},setEndAngle:function(d){a(this,"endAngle",d)},setStartCapRounding:function(d){a(this,"startCapRounding",d)},setEndCapRounding:function(d){a(this,"endCapRounding",d)},setColor:function(d){a(this,"color",d)},isColorAttr:function(d){return"color"===d||this.callSuper(d)}})})(myt);
(n=>{let v;const w=JS.Class,r=n.global,h=r.mouse,a=r.windowResize,c=Math,b=c.min,d=c.max,g=c.round,e=n.AccessorSupport.defAttr,f=p=>{p.__checkTID&&(clearTimeout(p.__checkTID),delete p.__checkTID)},q=p=>{if(p.tooltip){const x=p._lastPos;if(p.tooltip.parent.containsPoint(x.x,x.y))return!0}p.hideTip();return!1},k=n.BaseTooltip=new w("BaseTooltip",n.View,{include:[n.RootView],extend:{TIP_DELAY:500,TIP_HIDE_DELAY:100},initNode:function(p,x){this.tipDelay=this.nextTipDelay=k.TIP_DELAY;this.tipHideDelay=
k.TIP_HIDE_DELAY;e(x,"visible",!1);this.callSuper(p,x)},setTooltip:function(p){this.inited&&(this.tooltip=p)&&(this.attachToDom(h,"__hndl_mousemove","mousemove",!0),this.attachToDom(p.parent,"hideTip","mousedown",!0),this.attachToDom(p.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(p){const x=this;x._lastPos=n.MouseObservable.getMouseFromEvent(p);q(x)&&(f(x),x.__checkTID=setTimeout(()=>{delete x.__checkTID;q(x)&&x.showTip()},x.nextTipDelay))},hideTip:function(p){f(this);p=this.tooltip.parent;
this.detachFromDom(p,"hideTip","mousedown",!0);this.detachFromDom(p,"hideTip","mouseup",!0);this.detachFromDom(h,"__hndl_mousemove","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){r.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),m=n.Tooltip=new w("Tooltip",k,{extend:{EDGE_SIZE:0,EDGE_COLOR:"#444",SHADOW_SIZE:2,SHADOW_COLOR:"#00000033",HORIZONTAL_INSET:6,VERTICAL_INSET:3,TIP_BG_COLOR:"#444",
TIP_TEXT_COLOR:"#eee"},initNode:function(p,x){e(x,"edgeSize",m.EDGE_SIZE);e(x,"edgeColor",m.EDGE_COLOR);e(x,"shadowSize",m.SHADOW_SIZE);e(x,"shadowColor",m.SHADOW_COLOR);e(x,"insetH",m.HORIZONTAL_INSET);e(x,"insetV",m.VERTICAL_INSET);e(x,"tipBgColor",m.TIP_BG_COLOR);e(x,"tipTextColor",m.TIP_TEXT_COLOR);this.callSuper(p,x);new n.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(p){this.edgeSize=p},setEdgeColor:function(p){this.edgeColor=
p},setShadowSize:function(p){this.shadowSize=p},setShadowColor:function(p){this.shadowColor=p},setInsetH:function(p){this.insetH=p},setInsetV:function(p){this.insetV=p},setTipBgColor:function(p){this.tipBgColor=p},setTipTextColor:function(p){this.tipTextColor=p},showTip:function(){const p=this.tooltip;var x=p.text;const z=p.parent;var E=this._tipText;const I=this.edgeSize,A=this.shadowSize;E.text!==x&&E.setText(x);E.setWidth("auto");var B=b(E.measureNoWrapWidth(),p.maxTextWidth);x=B+2*E.x;const l=
x+2*I;E.setWidth(B);E.sizeViewToDom();B=z.getPagePosition();E=E.height+2*E.y;const u=E+2*I,y=B.y-u+("below"===p.tipvalign?z.height+u:0);B=B.x;switch(p.tipalign){case "right":B-=l;case "farright":B+=z.width;break;case "farleft":B-=l}this.setX(g(b(d(B,0),a.getWidth()-l)));this.setY(g(b(d(y,0),a.getHeight()-u)));this.setWidth(x);this.setHeight(E);this.setBgColor(this.tipBgColor);this.setBorder([I,"solid",this.edgeColor]);this.setBoxShadow([A,A,A,this.shadowColor]);this.callSuper()}}),t=n.TooltipMixin=
new JS.Module("TooltipMixin",{extend:{TIP_CLASS:m,MAX_TEXT_WIDTH:280},setTooltip:function(p){this.callSuper("");this.set("tooltip",p,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(p){this.set("tipAlign",p,!0)},setTipValign:function(p){this.set("tipValign",p,!0)},setMaxTextWidth:function(p){this.set("maxTextWidth",p,!0)},setTipClass:function(p){this.set("tipClass",p,!0)},doSmoothMouseOver:function(p){const x=this.getTooltip();this.callSuper(p);if(p&&x){p=this.tipClass||t.TIP_CLASS;
!v||v instanceof p||(v.destroy(),v=null);if(!v){let z=document.getElementById("tooltipDiv");z||(z=n.DomElementProxy.createElement("div",{position:"absolute"}),n.getElement().appendChild(z));v=new p(z,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:x,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||t.MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(n){this.setVectors(n||[])},setVectors:function(n){this._boundingBox=null;this.vectors=n},copyFrom:function(n){this.vectors=n.vectors.slice();this._boundingBox=null},drawInto:function(n){n.beginPath();const v=this.vectors;let w=v.length,r=0;for(n.moveTo(v[r++],v[r++]);w>r;)n.lineTo(v[r++],v[r++]);n.closePath()},translate:function(n,v){const w=this.vectors;let r=w.length;for(;r;)w[--r]+=v,w[--r]+=n;this._boundingBox=null},rotate:function(n){const v=
Math.cos(n);n=Math.sin(n);const w=this.vectors,r=w.length;for(let h=0;r>h;){const a=w[h]*v-w[h+1]*n,c=w[h]*n+w[h+1]*v;w[h++]=a;w[h++]=c}this._boundingBox=null},rotateAroundOrigin:function(n,v,w){this.translate(-v,-w);this.rotate(n);this.translate(v,w)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const n=this.vectors;let v=n.length,w,r,h,a;if(2<=v){h=a=n[--v];for(w=r=n[--v];v;){const c=n[--v],b=n[--v];h=Math.min(c,h);a=Math.max(c,a);w=Math.min(b,w);r=Math.max(b,r)}return this._boundingBox=
{x:w,y:h,width:r-w,height:a-h}}return this._boundingBox=null},getCenter:function(){const n=this.getBoundingBox();return n?{x:n.x+n.width/2,y:n.y+n.height/2}:null},isPointInPath:function(n,v){"object"===typeof n&&(v=n.y,n=n.x);return myt.Geometry.isPointInPath(n,v,this.getBoundingBox(),this.vectors)}});
(n=>{const v=Math.PI,w=v/2,r=3*v/2,h=n.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(c=>{a[c]=function(){this.__ctx[c].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(c=>
{a[c]=function(){return this.__ctx[c].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(c=>{a[h.generateSetterName(c)]=function(b){this.__ctx[c]=b};a[h.generateGetterName(c)]=function(){return this.__ctx[c]}});n.Canvas=new JS.Class("Canvas",n.BackView,{include:[a],createOurDomElement:function(c){c=this.callSuper(c);const b=
Array.isArray(c)?c[1]:c,d=this.__cvs=document.createElement("canvas");d.className="mytUnselectable";b.appendChild(d);d.style.position="absolute";this.__ctx=d.getContext("2d");return c},setWidth:function(c,b){0>c&&(c=0);this.__cvs.setAttribute("width",c);this.callSuper(c,b)},setHeight:function(c,b){0>c&&(c=0);this.__cvs.setAttribute("height",c);this.callSuper(c,b)},clear:function(){const c=this.__ctx;c.save();c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,this.width,this.height);c.restore()},dataURItoBlob:function(c,
b){c=atob(c.split(",")[1]);const d=c.length,g=[];for(let e=0;e<d;)g.push(c.charCodeAt(e++));return new Blob([new Uint8Array(g)],{type:b})},getDataURL:function(c,b){return this.__cvs.toDataURL(c,b)},getImageFile:function(c,b,d){switch(c){case "png":case "PNG":c="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":c="jpeg";null==d&&(d=.5);break;default:console.warn("Unexpected image type",c),c=c.toLowerCase()}const g="image/"+c;d=this.dataURItoBlob(this.getDataURL(g,d),g);b&&(d.name=b+"."+c);return d},
circle:function(c,b,d){this.__ctx.arc(c,b,d,0,2*v)},drawRoundedRect:function(c,b,d,g,e,f){const q=this.lineTo.bind(this),k=this.arc.bind(this);f=g+f;e=d+e;this.beginPath();this.moveTo(d,g+c);q(d,f-c);k(d+c,f-c,c,v,w,!0);q(e-c,f);k(e-c,f-c,c,w,0,!0);q(e,g+c);k(e-c,g+c,c,0,r,!0);q(d+c,g);k(d+c,g+c,c,r,v,!0);this.closePath();0<b&&(c-=b,d+=b,e-=b,g+=b,f-=b,this.moveTo(d,g+c),k(d+c,g+c,c,v,r),q(e-c,g),k(e-c,g+c,c,r,0),q(e,f-c),k(e-c,f-c,c,0,w),q(d+c,f),k(d+c,f-c,c,w,v),this.closePath());return this},drawRectOutline:function(c,
b,d,g,e){e=d+e;g=b+g;const f=b+c,q=g-c,k=d+c;c=e-c;const m=this.lineTo.bind(this);this.beginPath();this.moveTo(b,d);m(b,e);m(g,e);m(g,d);m(b,d);m(f,k);m(q,k);m(q,c);m(f,c);m(f,k);this.closePath();return this},drawPartiallyRoundedRect:function(c,b,d,g,e,f,q,k){k=f+k;q=e+q;const m=this.lineTo.bind(this),t=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(e,f+c);m(e,k-d);0<d&&t(e,k,e+d,k);m(q-g,k);0<g&&t(q,k,q,k-g);m(q,f+b);0<b&&t(q,f,q-b,f);m(e+c,f);0<c&&t(e,f,e,f+c);this.closePath();return this},
drawAnnulus:function(c,b,d,g,e,f,q,k=60){const m=n.Color;q.forEach(D=>{"string"===typeof D.color&&(D.color=m.makeColorFromHexString(D.color))});k=v/k;let t=0;for(;q.length-1>t;){var p=q[t++],x=q[t],z=Math.round((x.angle-p.angle)/k);x=p.color.getDiffFrom(x.color);p.colorDelta={red:x.red/z,green:x.green/z,blue:x.blue/z}}d=new n.Path([c+d,b,c+g,b]);d.rotateAroundOrigin(e,c,b);g=d.vectors;let E,I;p=g[0];z=g[1];x=g[2];let A=g[3],B=0,l=v/360;for(t=0;f>e;){E=p;I=z;var u=x;var y=A;e+=k;e>f&&(k+=f-e,l=0,e=
f);d.rotateAroundOrigin(k+l,c,b);p=g[0];z=g[1];x=g[2];A=g[3];this.beginPath();this.moveTo(E,I);this.lineTo(u,y);this.lineTo(x,A);this.lineTo(p,z);this.closePath();u=q[t].color;y=q[t].colorDelta;this.setFillStyle(m.rgbToHex(u.red+B*y.red,u.green+B*y.green,u.blue+B*y.blue,!0));this.fill();0<l&&(d.rotateAroundOrigin(-l,c,b),p=g[0],z=g[1],x=g[2],A=g[3]);B++;e>=q[t+1].angle&&(B=0,t++)}return this}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

(m=>{let v;var q=e=>{let c,b=e.length;for(;b;)if(c=e[--b],v=c.ver||c.id,c.str&&0<=c.str.indexOf(c.sub)||c.prop)return c.id};var n=e=>{const c=e.indexOf(v);if(0<=c)return parseFloat(e.substring(c+v.length+1))};const f=navigator.userAgent,a=navigator.platform;n=m.BrowserDetect={browser:q([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:f,sub:"Firefox",id:"Firefox"},{str:f,sub:"Chrome",id:"Chrome"},{str:f,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:n(f)||n(navigator.appVersion)||"UNKNOWN",os:q([{str:f,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(n.browser){case "Chrome":case "Safari":m="WebKit";break;case "Explorer":m="MS";break;case "Firefox":m="Moz";break;case "Opera":m="O";break;default:m="UNKNOWN"}q=m.toLowerCase();n.prefix={dom:m,lowercase:q,css:"-"+q+"-",js:q[0].toUpperCase()+q.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const m=Math,v=m.abs,q=m.floor,n=m.ceil,f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),e="Sun Mon Tue Wed Thu Fri Sat".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b=g=>(10>g?"0":"")+g,h=(g,r)=>{g=g.getTimezoneOffset();return(0<g?"-":"+")+b(q(v(g/60)))+(r?":":"")+(0==v(g%60)?"00":b(v(g%60)))},p=
{d:g=>b(g.getDate()),D:g=>e[g.getDay()],j:g=>g.getDate(),l:g=>c[g.getDay()],N:g=>0==g.getDay()?7:g.getDay(),S:g=>{g=g.getDate();return 1==g%10&&11!=g?"st":2==g%10&&12!=g?"nd":3==g%10&&13!=g?"rd":"th"},w:g=>g.getDay(),z:g=>{const r=new Date(g.getFullYear(),0,1);return n((g-r)/864E5)},W:g=>{const r=new Date(g.valueOf());g=(g.getDay()+6)%7;r.setDate(r.getDate()-g+3);g=r.valueOf();r.setMonth(0,1);4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7);return b(1+n((g-r)/6048E5))},F:g=>a[g.getMonth()],m:g=>
b(g.getMonth()+1),M:g=>f[g.getMonth()],n:g=>g.getMonth()+1,t:g=>{let r=g.getFullYear();g=g.getMonth()+1;12===g&&(r=r++,g=0);return(new Date(r,g,0)).getDate()},L:g=>{g=g.getFullYear();return 0==g%400||0!=g%100&&0==g%4},o:g=>{const r=new Date(g.valueOf());r.setDate(r.getDate()-(g.getDay()+6)%7+3);return r.getFullYear()},Y:g=>g.getFullYear(),y:g=>(""+g.getFullYear()).substr(2),a:g=>12>g.getHours()?"am":"pm",A:g=>12>g.getHours()?"AM":"PM",B:g=>q(1E3*((g.getUTCHours()+1)%24+g.getUTCMinutes()/60+g.getUTCSeconds()/
3600)/24),g:g=>g.getHours()%12||12,G:g=>g.getHours(),h:g=>b(g.getHours()%12||12),H:g=>b(g.getHours()),i:g=>b(g.getMinutes()),s:g=>b(g.getSeconds()),e:g=>/\((.*)\)/.exec((new Date).toString())[1],I:g=>{let r=null,d=0;for(;12>d;){const u=(new Date(g.getFullYear(),d++,1)).getTimezoneOffset();if(null===r)r=u;else if(u<r){r=u;break}else if(u>r)break}return g.getTimezoneOffset()==r|0},O:g=>h(g,!1),P:g=>h(g,!0),T:g=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:g=>60*-g.getTimezoneOffset(),c:g=>g.format("Y-m-d\\TH:i:sP"),
r:g=>g.toString(),U:g=>g.getTime()/1E3};return function(g){return g.replace(/(\\?)(.)/g,(r,d,u)=>""===d&&p[u]?p[u](this):u)}})();
(m=>{const v=(w,l)=>{if(w&&l)for(const x in l)w[x]===l[x]||w.hasOwnProperty(x)||(w[x]=l[x]);return w},q=w=>{const l=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},x=function(){};x.prototype=(w||Object).prototype;l.prototype=new x;return l},n=(w,l)=>{const x=!l;if(x&&w.__anc__)return w.__anc__.slice();l=l||[];const B=w.__inc__,y=B.length;for(let A=0;A<y;)n(B[A++],l);l.includes(w)||l.push(w);x&&(w.__anc__=l.slice());return l},f=(w,l)=>{var x=w.__mct__[l];if(x)return x.slice();
x=n(w);const B=x.length,y=[];for(let A=0;A<B;){const C=x[A++].__fns__;C.hasOwnProperty(l)&&y.push(C[l])}w.__mct__[l]=y.slice();return y},a=(w,l)=>{const x=w.callable;return w.__hs?function(){const B=this.callSuper,y=this.hasOwnProperty("callSuper"),A=f(l,w.name);let C=A.length-1;if(0===C)delete this.callSuper;else{const t=Array.from(arguments),z=this.callSuper=(...E)=>{let I=E.length;for(;I;)t[--I]=E[I];0===--C&&delete this.callSuper;E=A[C].apply(this,t);this.callSuper=z;C++;return E}}const k=x.apply(this,
arguments);y?this.callSuper=B:delete this.callSuper;return k}:x},e=(w,l)=>{l=l||w;if(l===w){w.__anc__=null;w.__mct__={};for(var x=w.__dep__.length;x;)e(w.__dep__[--x])}if(x=l.__tgt__){var B=w.__inc__;w=w.__fns__;const y=B.length;for(let A=0;A<y;)e(B[A++],l);for(const A in w)B=w[A],B=B instanceof h?a(B,l):B,x[A]!==B&&(x[A]=B)}},c=w=>w.__meta__?w.__meta__:(w.__meta__=new g("",null,{_target:w})).include(w.klass,{_rslv:!1}),b=w=>"function"!==typeof w||w.__fns__&&w.__inc__,h=m.Method=q(),p=(w,l,x)=>x&&
x.__inc__&&x.__fns__||"function"!==typeof x?x:new h(w,l,x),g=m.Module=q();v(h.prototype,{initialize:function(w,l,x){this.module=w;this.name=l;this.callable=x;this.__hs="function"===typeof x&&-1!==x.toString().indexOf("callSuper")},call:function(...w){return this.callable(...w)},apply:function(w,l){return this.callable.apply(w,l)}});v(g.prototype,{initialize:function(w,l,x){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(x||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
w;this.include(l,{_rslv:!1})},define:function(w,l,x){this.__fns__[w]=p(this,w,l);!1!==(x||{})._rslv&&e(this)},include:function(w,l){if(w){if(w.__fns__&&w.__inc__)this.__inc__.push(w),w.__dep__.push(this);else{var x=w.extend,B=w.include;const y={_rslv:!1};if(b(x)){x=[].concat(x);for(let A=0,C=x.length;A<C;)this.extend(x[A++])}if(b(B)){B=[].concat(B);for(let A=0,C=B.length;A<C;)this.include(B[A++],y)}for(const A in w)w.hasOwnProperty(A)&&(B=w[A],("extend"!==A&&"include"!==A||!b(B))&&this.define(A,B,
y))}!1!==(l||{})._rslv&&e(this)}return this},includes:function(w){if(w===this)return!0;const l=this.__inc__,x=l.length;for(let B=0;B<x;)if(l[B++].includes(w))return!0;return!1},instanceMethod:function(w){return f(this,w).pop()}});const r=new g("Kernel",{equals:function(w){return this===w},extend:function(w,l){w&&c(this).include(w,{_rslv:(l||{})._rslv});return this},isA:function(w){return"function"===typeof w&&this instanceof w||c(this).includes(w)}}),d=m.Class=q(g);v(d.prototype,{initialize:function(w,
l,x,B){"function"!==typeof l&&(B=x,x=l,l=Object);g.prototype.initialize.call(this,w);w=(B||{})._rslv;B={_rslv:!1};const y=q(l);v(y,this);y.prototype.constructor=y.prototype.klass=y;c(y).include(l.__meta__,{_rslv:w});y.__tgt__=y.prototype;l=l===Object?{}:l.__fns__?l:new g(l.prototype,B);y.include(r,B).include(l,B).include(x,B);!1!==w&&e(y);return y}});const u=(w,l)=>{w.__inc__=[];w.__dep__=[];const x=w.__tgt__=w.prototype,B=w.__fns__={};for(const y in x)x.hasOwnProperty(y)&&(B[y]=p(w,y,x[y]));x.constructor=
x.klass=w;v(w,d.prototype);w.include(l);w.constructor=w.klass=d};u(h,r);u(g,r);u(d,g);e(c(h));e(c(g));c(d).include(g.__meta__);m.Singleton=new d("Singleton",{initialize:(w,l,x)=>new (new d(w,l,x))})})(global.JS||(global.JS={}));
(m=>{class v extends Error{constructor(y,A,...C){super(...C);this.name="FetchError";this.status=y;this.url=A}}let q=0,n;const f=Math,a=f.abs,e=f.min,c=f.max,b=f.pow,h=document,p=h.head,g=h.createElement.bind(h),r={},d={"":!0},u=h.fonts,w=y=>{y=y.family.split('"').join("")+" "+y.weight;if(!d[y]){d[y]=!0;const A=r[y]||[];for(;A.length;)(y=A.pop())&&!y.destroyed&&y.sizeViewToDom()}},l={},x=y=>function(){const A=JSON.stringify(arguments),C=y.__cache||(y.__cache={});return A in C?C[A]:C[A]=y.apply(this,
arguments)},B=m.myt={version:2.02201181318E7,generateGuid:()=>++q,addEventListener:(y,A,C,k,t)=>{y.addEventListener(A,C,{capture:k||!1,passive:t||!1})},removeEventListener:(y,A,C,k)=>{y.removeEventListener(A,C,k||!1)},resolveName:(y,A)=>{if(y&&0!==y.length){A=A||global;var C=Array.isArray(y)?y:y.split("."),k=C.length;for(let t=0;t<k;t++)if(A=A[C[t]],void 0===A){console.warn("resolveName failed for",y,"at part",t,C[t]);return}return A}},resolveClassname:y=>{"string"===typeof y&&(y=B.resolveName(y));
return y&&"function"===typeof y.isA&&y.isA(JS.Class)?y:null},getExtension:y=>y?y.split(".")[1]:null,loadScript:function(y,A,C){const k=this._loadedScripts||(this._loadedScripts={});if(k[y])return console.warn("script already loaded for src",y),null;k[y]=!0;const t=g("script");t.type="text/javascript";t.async=!1;if(A){let z=!1;t.onload=t.onreadystatechange=()=>{z||t.readyState&&"complete"!==t.readyState||(z=!0,t.onload=t.onreadystatechange=null,A())}}t.src=y+(C?"":(0<=y.indexOf("?")?"&":"?")+"cacheBust="+
Date.now());p.appendChild(t);return t},dumpStack:(y,A)=>{let C;"string"===typeof y&&(C=y,y=null);B.global.error.notify(A||"error",null,C,y)},getRandom:y=>{const A=f.random();return y?c(0,e(y(A),.9999999999)):A},getRandomArbitrary:(y,A,C)=>{const k=e(y,A);return B.getRandom(C)*(c(y,A)-k)+k},getRandomInt:(y,A,C)=>{const k=e(y,A);return f.floor(B.getRandom(C)*(c(y,A)-k+1)+k)},areFloatsEqual:(y,A,C)=>{const k=a(y),t=a(A);return a(y-A)<=(k>t?t:k)*(null==C?1E-6:a(C))},areArraysEqual:(y,A)=>{if(y!==A){if(null==
y||null==A)return!1;let C=y.length;if(C!==A.length)return!1;for(;C;)if(y[--C]!==A[C])return!1}return!0},areObjectsEqual:(y,A)=>{if(y!==A){if(null==y||null==A)return!1;for(const C in y)if(y[C]!==A[C])return!1;for(const C in A)if(y[C]!==A[C])return!1}return!0},getElement:(y,A)=>h.getElementsByTagName(y||"body")[0<A?A:0],loadFontFaces:(y,A)=>{const C=[];y.forEach(k=>{k=new FontFace(k.family,"url("+k.url+")",k.options);C.push(k.load())});Promise.all(C).then(k=>{k.forEach(t=>{u.add(t);w(t)});A&&A(k)})},
loadFontFace:(y,A,C={},k)=>{y=new FontFace(y,"url("+A+")",C);y.loaded.then(t=>{u.add(t);w(t);k&&k(t)});y.load()},registerForFontNotification:(y,A)=>{d[A]?y&&!y.destroyed&&y.sizeViewToDom():(r[A]||(r[A]=[])).push(y)},createBaseFontCSSRule:y=>{B.addCSSRule(B.createStylesheet(),"body, input","font-family:"+y,0)},loadCSSFonts:y=>{(y||[]).forEach(A=>{const C=g("link");C.rel="stylesheet";C.href=A;p.appendChild(C)})},createStylesheet:()=>{const y=g("style");p.appendChild(y);return y.sheet},addCSSRule:(y,
A,C,k)=>{"insertRule"in y?y.insertRule(A+"{"+C+"}",k):"addRule"in y&&y.addRule(A,C,k)},removeCSSRules:y=>{let A=y.cssRules.length;for(;A;)A--,"deleteRule"in y?y.deleteRule(A):"removeRule"in y&&y.removeRule(A)},createInputPlaceholderCSSRule:(y,A,C,k=1)=>{var t=y.getODE();t=t.id||(t.id="id"+B.generateGuid());let z=y.__sheet;z?B.removeCSSRules(z):z=y.__sheet=B.createStylesheet();y=[];A&&y.push("color:"+A);C&&y.push("font-family:"+C);k&&y.push("opacity:"+k);B.addCSSRule(z,"#"+t+"::placeholder",y.join("; "),
0)},chainSortFunc:(y,A)=>(C,k)=>{const t=y(C,k);return 0===t?A(C,k):t},getAlphaObjSortFunc:x((y,A,C)=>{const k=A?1:-1;return(t,z)=>{t=t[y]||"";z=z[y]||"";C&&(t=t.toLowerCase(),z=z.toLowerCase());return t.localeCompare(z)*k}}),getNumericObjSortFunc:x((y,A)=>{const C=A?1:-1;return(k,t)=>{k=k[y]||0;t=t[y]||0;return(k-t)*C}}),formatAsPercentage:(y,A=2)=>{if("number"===typeof y)return A=c(16,e(0,A)),y=f.round(c(0,e(1,y))*b(10,2+A))/b(10,A),(0===y%1?y:y.toFixed(A))+"%";"string"!==typeof y&&console.warn("formatAsPercentage: expects a number");
return y},memoize:x,debounce:function(y,A,C){return function(){const k=this,t=k.__DBTO,z=arguments,E=C&&!t;clearTimeout(t);k.__DBTO=setTimeout(function(){k.__DBTO=null;C||y.apply(k,z)},A);E&&y.apply(k,z)}},createFixedThresholdCounter:(y,A,C,k)=>{var t=B.AccessorSupport.generateName;const z="function"===typeof y||y instanceof JS.Module,E={};k=k||t("counter",C);const I=t(k,"increment");t=t(k,"decrement");if(void 0!==(z?y.instanceMethod(I):y[I]))return console.warn("Increment: Abort clobber",I,y),!1;
if(void 0!==(z?y.instanceMethod(t):y[t]))return console.warn("Decrement: Abort clobber",t,y),!1;E[I]=function(){const H=this[k]+1;this[k]=H;this.fireEvent(k,H);H===A&&this.set(C,!0)};E[t]=function(){const H=this[k];if(0!==H){var M=H-1;this[k]=M;this.fireEvent(k,M);H===A&&this.set(C,!1)}};y[z?"include":"extend"](E);return!0},makeURLSearchParams:(y={})=>{const A=new URLSearchParams;for(const C in y){const k=y[C];void 0!==k&&A.set(C,k)}return A},doFetch:(y,A,C,k,t,z)=>fetch(y,A).then(E=>{if(!E.ok)throw new v(E.status,
y,E.statusText);return E}).then(E=>C?E.text():E.json()).then(E=>{if(k)try{if(C)k(E);else{if(!1===E.success)throw new v(200,y,E.message);k(E.data)}}catch(I){throw E=new v(200,y,I.message),E.stack=I.stack,E;}}).catch(E=>{if(t){if("FetchError"!==E.name){const I=new v(0,y,E.message);I.stack=E.stack;E=I}t(E)}}).finally(()=>{z&&z()}),I18N:{setLocale:y=>{n=y},getLocale:()=>n,addDictionary:(y,A)=>{l[A]=Object.assign(l[A]||{},y)},get:function(y){const A=arguments;var C=n||=(navigator.language||"en").split("-")[0].toLowerCase();
C=(l[C]||l.en||{})[y];if(null!=C){if(1<A.length){for(var k of C.matchAll(/\{\{plural:\$(.*?)\|(.*?)\|(.*?)\}\}/g))C=C.replace(k[0],k[1==A[parseInt(k[1])]?2:3]);for(k=1;k<A.length;k++)C=C.replaceAll("$"+k,A[k])}return C}return y}}};u.onloadingdone=y=>{y.fontfaces.forEach(A=>{w(A)})}})(global);
(m=>{const v=Object.assign,q=(f,a)=>{0===f.indexOf('"')&&(f=f.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a?JSON.parse(f):f}catch(e){}},n=m.Cookie={defaults:{raw:!1,json:!1},read:(f,a)=>{a=v({},n.defaults,a);const e=a.raw?g=>g:g=>decodeURIComponent(g.split("+").join(" "));a=a.json;const c=document.cookie.split("; "),b=c.length,h=f?void 0:{};for(let g=0;g<b;){var p=c[g++].split("=");const r=e(p.shift());p=e(p.join("="));if(f){if(f===r)return q(p,a)}else h[r]=q(p,a)}return h},
write:(f,a,e)=>{e=v({},n.defaults,e);if("number"===typeof e.expires){const c=e.expires,b=e.expires=new Date;b.setDate(b.getDate()+c)}a=e.json?JSON.stringify(a):String(a);return document.cookie=[e.raw?f:encodeURIComponent(f),"=",e.raw?a:encodeURIComponent(a),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")},remove:(f,a)=>void 0!==n.read(f,a)?(n.write(f,"",v({},a,{expires:-1})),!0):!1}})(myt);
(m=>{const v=global.localStorage,q=(f,a,e)=>{if(0<a){const c="__timerId_"+e;(e=n[c])&&clearTimeout(e);n[c]=setTimeout(()=>{f();delete n[c]},a)}else f()},n=m.LocalStorage={hasDatum:(f,a)=>{if(f&&(a=n.getItem(a||"myt")))try{return null!=JSON.parse(a)[f]}catch(e){console.error(e)}return!1},getDatum:(f,a)=>{if(f&&(a=n.getItem(a||"myt")))try{const e=JSON.parse(a);if("object"===typeof e)return e[f]}catch(e){console.error(e)}},setDatum:(f,a,e,c)=>{e=e||"myt";q(()=>{const b=n.getData(e);b[f]=a;n.setItem(e,
JSON.stringify(b))},c,e+"___"+f)},removeDatum:(f,a,e)=>{a=a||"myt";q(()=>{const c=n.getData(a);delete c[f];n.setItem(a,JSON.stringify(c))},e,a+"___"+f)},hasData:f=>null!=n.getItem(f||"myt"),getData:f=>{if(f=n.getItem(f||"myt"))try{return JSON.parse(f)}catch(a){console.error(a)}return{}},setData:(f,a,e)=>{a=a||"myt";null==f&&(f={});return"object"===typeof f?(q(()=>{n.setItem(a,JSON.stringify(f))},e,a),!0):!1},removeData:(f,a)=>{f=f||"myt";q(()=>{n.removeItem(f)},a,f)},getLength:()=>v.length,getKey:f=>
v.key(f),getItem:f=>v.getItem(f),setItem:(f,a)=>{v.setItem(f,a)},removeItem:f=>{v.removeItem(f)},clear:()=>{v.clear()},get:f=>n.getItem(f),set:(f,a)=>{n.setItem(f,a)},remove:f=>{n.removeItem(f)},clearAll:()=>{n.clear()}}})(myt);
(m=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,q=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;m.URI=new JS.Class("URI",{initialize:function(f,a){f&&this.parse(f,a)},setSource:function(f){this.source=f},setProtocol:function(f){this.protocol=
f},setAuthority:function(f){this.authority=f},setUserInfo:function(f){this.userInfo=f},setUser:function(f){this.user=f},setPassword:function(f){this.password=f},setHost:function(f){this.host=f},setPort:function(f){this.port=f},setRelative:function(f){this.relative=f},setPath:function(f){this.path=f},setDirectory:function(f){this.directory=f},setFile:function(f){this.file=f},setQuery:function(f){this.query=f},setAnchor:function(f){this.anchor=f},parse:function(f,a){const e=this;f=(a?n:q).exec(f);e.setSource(f[0]||
"");e.setProtocol(f[1]||"");e.setAuthority(f[2]||"");e.setUserInfo(f[3]||"");e.setUser(f[4]||"");e.setPassword(f[5]||"");e.setHost(f[6]||"");e.setPort(f[7]||"");e.setRelative(f[8]||"");e.setPath(f[9]||"");e.setDirectory(f[10]||"");e.setFile(f[11]||"");e.setQuery(f[12]||"");e.setAnchor(f[13]||"");e.queryPairs={};e.query.replace(v,(c,b,h)=>{b&&(e.queryPairs[b]=h)})},decodeQueryParam:f=>decodeURIComponent(f).split("+").join(" "),getQuery:function(){var f=this.queryPairs;const a=[];for(const e in f)a.push(e+
"="+encodeURIComponent(this.getQueryParam(e)));f=a.join("&");return 0<f.length?"?"+f:f},getQueryParam:function(f){f=this.queryPairs[f];return null==f?void 0:this.decodeQueryParam(f)},getPathParts:function(f){const a=this.path.split("/");if(!f)for(f=a.length;f;)0===a[--f].length&&a.splice(f,1);return a},toString:function(f){const a=this.protocol,e=this.host,c=this.userInfo,b=this.port,h=this.path;f=f?this.query?"?"+this.query:"":this.getQuery();const p=this.anchor;let g="";a&&(g+=a+"://");c&&e&&(g+=
c+"@");e&&(g+=e,b&&(g+=":"+b));h?g+=h:e&&(f||p)&&(g+="/");f&&(g+=f);p&&(g+="#"+p);return g}})})(myt);
(m=>{const v=Math,q=v.PI,n=v.cos,f=v.sin,a=v.sqrt,e=m.Geometry={getClosestPointOnALineToAPoint:(c,b,h,p,g,r,d)=>{h-=c;p-=b;g=(h*(g-c)+p*(r-b))/(h*h+p*p);d&&(g=v.min(1,v.max(0,g)));return{x:c+h*g,y:b+p*g}},isPointInPath:(c,b,h,p)=>{"object"===typeof c&&(p=h,h=b,b=c.y,c=c.x);if(e.rectContainsPoint(c,b,h)&&(h=p.length,6<=h)){let g=!1,r=p[0],d=p[1],u,w;for(;h;)w=p[--h],u=p[--h],w>b!==d>b&&c<(r-u)*(b-w)/(d-w)+u&&(g=!g),r=u,d=w;return g}return!1},rectContainsPoint:(c,b,h,p,g,r)=>{"object"===typeof c&&(r=
g,g=p,p=h,h=b,b=c.y,c=c.x);"object"===typeof h&&(r=h.height,g=h.width,p=h.y,h=h.x);return c>=h&&b>=p&&c<=h+g&&b<=p+r},circleContainsPoint:(c,b,h,p,g)=>e.measureDistance(c,b,h,p,!0)<=g*g,measureDistance:(c,b,h,p,g)=>{c=h-c;b=p-b;b=c*c+b*b;return g?b:a(b)},degreesToRadians:c=>c*q/180,radiansToDegrees:c=>180*c/q,circleContainsLatLng:(c,b,h,p,g,r)=>e.measureLatLngDistance(c,b,h,p,r)<=g,measureLatLngDistance:(c,b,h,p,g)=>{void 0===g&&(g=6371);c=e.degreesToRadians(c);b=e.degreesToRadians(b);h=e.degreesToRadians(h);
p=e.degreesToRadians(p);return g*v.acos(f(c)*f(h)+n(c)*n(h)*n(p-b))},polarToCartesian:(c,b,h,p)=>{null==h&&(h=0);null==p&&(p=0);b%=360;if(0===b)b=c,c=0;else if(90===b)b=0;else if(180===b)b=-c,c=0;else if(270===b)b=0,c=-c;else{const g=e.degreesToRadians(b);b=c*n(g);c*=f(g)}return[h+b,p+c]},cartesianToPolar:(c,b,h,p,g)=>{null==h&&(h=0);null==p&&(p=0);c-=h;p=b-p;b=a(c*c+p*p);p=v.atan2(p,c);0>p&&(p+=2*q);return[b,g?p:e.radiansToDegrees(p)]}}})(myt);
(m=>{const v=JS.Module;m.Observable=new v("Observable",{attachObserver:function(q,n,f){return q&&n&&f?(this.getObservers(f).push(n,q),!0):!1},detachObserver:function(q,n,f){if(q&&n&&f){var a=this.__obsbt;if(a&&(f=a[f])){a=!1;let e=f.length;for(;e;)--e,q===f[e--]&&n===f[e]&&(f.splice(e,2),a=!0);return a}}return!1},detachAllObservers:function(){const q=this.__obsbt;if(q)for(const n in q){const f=q[n];let a=f.length;for(;a;){const e=f[--a],c=f[--a];e&&c&&("function"===typeof e.detachFrom&&e.detachFrom(this,
c,n)||f.splice(a,2))}}},getObservers:function(q){const n=this.__obsbt||(this.__obsbt={});return n[q]||(n[q]=[])},hasObservers:function(q){const n=this.__obsbt;return n?(q=n[q])&&0<q.length:!1},createEvent:function(q,n){return{source:this,type:q,value:n}},isFiringEvent:function(q){return(this.__aet||(this.__aet={}))[q]},fireEvent:function(q,n,f){if(f=f||(this.hasObservers(q)?this.__obsbt[q]:null)){n={source:this,type:q,value:n};const a=this.__aet||(this.__aet={});if(!0===a[q])m.global.error.notifyWarn("eventLoop",
"Abort refiring event:"+q);else{a[q]=!0;let e=f.length;for(;e;){const c=f[--e],b=f[--e];if(c&&b)try{if("function"===typeof b){if(b.call(c,n))break}else if(c[b](n))break}catch(h){m.dumpStack(h)}}a[q]=!1}}}});m.Observer=new v("Observer",{valueFromEvent:q=>q&&"object"===typeof q&&q.type?q.value:q,syncTo:function(q,n,f,a,e){void 0===a&&(a=f);try{this[n](q.createEvent(f,q.get(a)))}catch(c){m.dumpStack(c)}e||this.attachTo(q,n,f,e)},isAttachedTo:function(q,n,f){if(q&&n&&f){var a=this.__obt;if(a&&(f=a[f]))for(a=
f.length;a;)if(--a,q===f[a--]&&n===f[a])return!0}return!1},getObservables:function(q){const n=this.__obt||(this.__obt={});return n[q]||(n[q]=[])},hasObservables:function(q){const n=this.__obt;return n?(q=n[q])&&0<q.length:!1},attachTo:function(q,n,f,a){if(q&&n&&f){const e=this.getObservables(f);if(a){const c=this,b=n;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);n="__DO_ONCE_"+this.__methodNameCounter++;this[n]=h=>{c.detachFrom(q,n,f);delete c[n];return c[b](h)}}if(q.attachObserver(this,
n,f))return e.push(n,q),!0}return!1},detachFrom:function(q,n,f){if(q&&n&&f){var a=this.__obt;if(a&&(a=a[f])){let e=!1,c=a.length;for(;c;)--c,q===a[c--]&&n===a[c]&&q.detachObserver(this,n,f)&&(a.splice(c,2),e=!0);return e}}return!1},detachFromAllObservables:function(){const q=this.__obt;if(q)for(const n in q){const f=q[n];let a=f.length;for(;a;)f[--a].detachObserver(this,f[--a],n);f.length=0}},constrain:function(q,n){if(q&&n){const a=n.length;if(0!==a%2)console.log("Observables uneven",this);else{var f=
this.__cbmn||(this.__cbmn={});f=f[q]||(f[q]=[]);if(0<f.length)console.log("Constraint exists for "+q+" on "+this);else{for(let e=0;a!==e;){const c=n[e++],b=n[e++];c&&b&&(this.attachTo(c,q,b),f.push(c,b))}try{this[q]()}catch(e){m.dumpStack(e)}}}}},releaseConstraint:function(q){if(q){var n=this.__cbmn;if(n&&(n=n[q])){let f=n.length;for(;f;){const a=n[--f],e=n[--f];this.detachFrom(e,q,a)}n.length=0}}},releaseAllConstraints:function(){const q=this.__cbmn;if(q)for(const n in q)this.releaseConstraint(n)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(m,v){this.hasOwnProperty(m)&&(console.warn("Global key in use",m),this.unregister(m));this[m]=v;this.fireEvent("register"+m,v)},unregister:function(m){if(this.hasOwnProperty(m)){const v=this[m];delete this[m];this.fireEvent("unregister"+m,v)}else console.warn("Global key not in use",m)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(m){this.consoleLogging=m},setStackTraceLimit:function(m){Error.stackTraceLimit=this.stackTraceLimit=m},notifyError:function(m,v,q){this.notify("error",m,v,q)},notifyWarn:function(m,v,q){this.notify("warn",m,v,q)},notifyMsg:function(m,v,q){this.notify("log",m,v,q)},notifyDebug:function(m,v,q){this.notify("debug",
m,v,q)},notify:function(m,v,q,n){n||=Error(q||v);n=n.stack||n.stacktrace;this.fireEvent(v||"error",{msg:q,stacktrace:n});if(this.consoleLogging&&m)console[m](n)}});
(m=>{const v=global,q=v.getComputedStyle,n=document,f=Math.max,a=m.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(e,c,b)=>{e=n.createElement(e);if(b)for(const h in b)e[h]=b[h];if(c)for(const h in c)e.style[h]=c[h];return e},isDomElementVisible:e=>{if("INPUT"===e.nodeName&&"hidden"===e.type)return!1;for(;e;){if(e===n)return!0;const c=q(e);if("none"===c.display||"hidden"===c.visibility)break;e=e.parentNode}return!1},getZIndexRelativeToAncestor:(e,c)=>{if(e&&c)for(e=a.getAncestorArray(e,
c),c=e.length-1;c;){const b=q(e[--c]),h=b.zIndex,p="auto"===h;if(0===c||!p||1!==parseInt(b.opacity,10))return p?0:parseInt(h,10)}return 0},getAncestorArray:(e,c)=>{const b=[];for(;e;){b.push(e);if(e===c)break;e=e.parentNode}return b},getHighestZIndex:e=>{var c=q(e);let b=c.zIndex;var h="auto"===b;if(h&&1===parseInt(c.opacity,10))for(b=0,e=e.childNodes,c=e.length;c;)h=e[--c],1===h.nodeType&&(b=f(b,a.getHighestZIndex(h)));else b=h?0:parseInt(b,10);return b},getRelativePosition:(e,c)=>{if(e){let b=0,
h=0;for(;e&&"BODY"!==e.nodeName&&e!==c;)if(b+=e.offsetLeft,h+=e.offsetTop,(e=e.offsetParent)&&"BODY"!==e.nodeName){const p=q(e);b+=parseInt(p.borderLeftWidth,10)-e.scrollLeft;h+=parseInt(p.borderTopWidth,10)-e.scrollTop}return{x:b,y:h}}},getTruePosition:e=>{if(e)return e=e.getBoundingClientRect(),{x:e.left+v.scrollX,y:e.top+v.scrollY}},simulateDomEvent:(e,c,b)=>{if(e){const h={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},p={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(b)for(const r in b)h[r]=b[r];let g;for(const r in p)if(p[r].test(c)){g=r;break}if(!g)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(n.createEvent)b=n.createEvent(g),"HTMLEvents"===g?b.initEvent(c,h.bubbles,h.cancelable):b.initMouseEvent(c,h.bubbles,h.cancelable,n.defaultView,h.button,h.pointerX,h.pointerY,h.pointerX,h.pointerY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,null),e.dispatchEvent(b);
else{h.clientX=h.pointerX;h.clientY=h.pointerY;b=n.createEventObject();for(const r in h)b[r]=h[r];e.fireEvent("on"+c,b)}}},getScrollbarSize:m.memoize(()=>{const e=n.body,c=a.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});e.appendChild(c);const b=c.offsetWidth-c.clientWidth;e.removeChild(c);return b})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(e){const c=
Array.isArray(e),b=this.__oE=c?e[0]:e;e=this.__iE=c?e[1]:e;this.__iS=e.style;this.__oS=b.style;e.model=b.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(e){this.__iE.className=this.domClass=e},addDomClass:function(e){const c=this.__iE.className;this.setDomClass((c?c+" ":"")+e)},removeDomClass:function(e){var c=
this.__iE.className;if(c){c=c.split(" ");let b=c.length;for(;b;)c[--b]===e&&c.splice(b,1);this.setDomClass(c.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(e){this.__iE.id=this.domId=e},setZIndex:function(e){this.__oS.zIndex=e},setStyleProperty:function(e,c){this.__iS[e]=c},getPagePosition:function(e){return a["get"+(e?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){a.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return a.getHighestZIndex(this.__iE)},
getHighestChildZIndex:function(e){const c=this.__iE.childNodes;let b=c.length,h=0;for(;b;){const p=c[--b];1===p.nodeType&&p!==e&&(h=f(h,a.getHighestZIndex(p)))}return h},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(e,c){(c?this.__iE:this.__oE).scrollTop=e||0}})})(myt);
(m=>{let v;const q=f=>{for(;f.lastChild;)f=f.lastChild;return f},n=(f,a)=>{v.lastTraversalWasForward=f;let e=document.body,c=e;var b=document.activeElement;let h=c,p;const g=f?"getNextFocus":"getPrevFocus";b&&(h=c=b,(b=c.model)||(b=v.findModelForDomElement(c)),b&&(a=b.getFocusTrap(a))&&(e=a.getIDE()));for(;h;){if(h.model&&h.model[g]&&(p=h.model[g]()))h=p.getIDE();else if(f)if(h.firstChild)h=h.firstChild;else{if(h===e)return c.model;if(h.nextSibling)h=h.nextSibling;else for(;h&&(h=h.parentNode,h!==
e);)if(h.nextSibling){h=h.nextSibling;break}}else h=h===e?q(e):h.previousSibling?q(h.previousSibling):h.parentNode;if(h===c)return c.model;if(1===h.nodeType)if((b=h.model)&&b instanceof m.View){if(b.isFocusable())return b}else if(a=h.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||h.disabled||isNaN(h.tabIndex)||!m.DomElementProxy.isDomElementVisible(h)||(b=v.findModelForDomElement(h),b&&b.searchAncestorsOrSelf(r=>!0===r.maskFocus)))){h.focus();v.focusedDom=
h;break}}};new JS.Singleton("GlobalFocus",{include:[m.Observable],initialize:function(){this.lastTraversalWasForward=!0;m.global.register("focus",v=this)},setFocusedView:f=>{if(v.focusedView!==f){v.prevFocusedView=v.focusedView;if(v.focusedView=f)v.focusedDom=null;v.fireEvent("focused",f)}},notifyFocus:f=>{v.focusedView!==f&&v.setFocusedView(f)},notifyBlur:f=>{v.focusedView===f&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:f=>{(f=n(!0,f))&&f.focus()},prev:f=>{(f=n(!1,f))&&f.focus()},findModelForDomElement:f=>{for(;f;){let a=f.model;if(a&&a instanceof m.View)return a;f=f.parentNode}}})})(myt);
(m=>{const v=JS.Module,q=m.global.focus,n=()=>({source:null,type:null,value:null}),f=m.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:n(),getKeyCodeFromEvent:g=>g.value.keyCode||g.value.charCode},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,f)||this.callSuper(g,r,d)}}),a=m.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,
wheel:!0},EVENT:n(),getMouseFromEvent:g=>({x:g.value.pageX,y:g.value.pageY}),getMouseFromEventRelativeToView:(g,r)=>{r=r.getPagePosition();g=a.getMouseFromEvent(g);g.x-=r.x;g.y-=r.y;return g}},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,a,!0)||this.callSuper(g,r,d)}}),e=m.ScrollObservable=new v("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:n(),getScrollFromEvent:g=>{g=g.value;g=g.target||g.srcElement;return{x:g.scrollLeft,y:g.scrollTop}}},createDomHandler:function(g,
r,d){return this.createStandardDomHandler(g,r,d,e)||this.callSuper(g,r,d)}}),c=m.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:n()},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,c,!1)||this.callSuper(g,r,d)}}),b=m.FocusObservable=new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:n()},initNode:function(g,r){this.focusable=!1;this.focusIndicator=!0;this.callSuper(g,r)},destroy:function(){this.giveAwayFocus();
this.callSuper()},setFocused:function(g){this.focused!==g&&(this.focused=g,this.inited&&(this.fireEvent("focused",g),g?q.notifyFocus(this):q.notifyBlur(this)))},setFocusable:function(g){if(this.focusable!==g){const r=this.focusable;(this.focusable=g)?(this.getIDE().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):r&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&
this.fireEvent("focusable",g)}},setFocusIndicator:function(g){this.focusIndicator!==g&&(this.focusIndicator=g,this.focused&&(g?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(q.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(g=>!0===g.maskFocus)},focus:function(g){this.isFocusable()&&this.getIDE().focus({preventScroll:g})},blur:function(){this.getIDE().blur()},
__doFocus:function(g){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(g){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},showFocusIndicator:function(){this.getIDE().hideFocus=!1;const g=this.getIDS();g.outlineWidth="thin";g.outlineColor="#8bf";g.outlineStyle="solid";g.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},
hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(g,r,d){if(b.EVENT_TYPES[d]){const u=this;return w=>{w||(w=window.event);if(u._ignoreFocus)w.cancelBubble=!0,w.stopPropagation&&w.stopPropagation(),w.preventDefault();else{var l=b.EVENT;l.source=u;l.type=w.type;l.value=w;g[r](l)||(w.cancelBubble=!0,w.stopPropagation&&w.stopPropagation());l.source=void 0}}}return this.callSuper(g,r,d)}}),h=m.InputObservable=new v("InputObservable",
{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:n()},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,h)||this.callSuper(g,r,d)}}),p=m.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:n()},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,p,!0)||this.callSuper(g,r,d)}});m.DomObservable=new v("DomObservable",{attachDomObserver:function(g,r,d,u,w){if(g&&r&&d){u=!!u;
const l=this.createDomHandler(g,r,d);if(l){const x=this.__dobsbt||(this.__dobsbt={}),B=x[d];B?B.push(g,r,l,u):x[d]=[g,r,l,u];m.addEventListener(this.getDomElementForDomObservable(d),d,l,u,w);return!0}}return!1},getDomElementForDomObservable:function(g){return this.getIDE()},createDomHandler:(g,r,d)=>null,createStandardDomHandler:function(g,r,d,u,w){if(u.EVENT_TYPES[d]){const l=this,x=u.EVENT;return B=>{B||(B=window.event);x.source=l;x.type=B.type;x.value=B;g[r](x)||(B.cancelBubble=!0,B.stopPropagation&&
B.stopPropagation(),w&&B.preventDefault());x.source=void 0}}},detachDomObserver:function(g,r,d,u){if(g&&r&&d){u=!!u;var w=this.__dobsbt;if(w&&(w=w[d])){const l=this.getDomElementForDomObservable(d);let x=!1,B=w.length;for(;B;)B-=4,g===w[B]&&r===w[B+1]&&u===w[B+3]&&(l&&m.removeEventListener(l,d,w[B+2],u),w.splice(B,4),x=!0);return x}}return!1},detachAllDomObservers:function(){const g=this.__dobsbt;if(g)for(const r in g){const d=g[r];let u=d.length;for(;u;){const w=d[--u],l=d[--u];u-=2;m.removeEventListener(this.getDomElementForDomObservable(r),
r,l,w)}d.length=0}}});m.DomObserver=new v("DomObserver",{attachToDom:function(g,r,d,u,w){if(g&&r&&d){u=!!u;var l=this.__dobt||(this.__dobt={});l=l[d]||(l[d]=[]);g.attachDomObserver(this,r,d,u,w)&&l.push(u,r,g)}},detachFromDom:function(g,r,d,u){if(g&&r&&d){u=!!u;var w=this.__dobt;if(w&&(w=w[d])){let l=!1,x=w.length;for(;x;)x-=3,g===w[x+2]&&r===w[x+1]&&u===w[x]&&g.detachDomObserver(this,r,d,u)&&(w.splice(x,3),l=!0);return l}}return!1},detachFromAllDomSources:function(){const g=this.__dobt;if(g)for(const r in g){const d=
g[r];let u=d.length;for(;u;)d[--u].detachDomObserver(this,d[--u],r,d[--u]);d.length=0}}})})(myt);
(m=>{let v,q={};const n=m.global,f=n.focus,a="Firefox"===BrowserDetect.browser,e=a?224:91,c=a?224:93,b=()=>!!q[e]||!!q[c],h=(g,r)=>{switch(g){case 8:return g=r.nodeName,!("TEXTAREA"===g||"INPUT"===g&&("text"===r.type||"password"===r.type)||"DIV"===g&&"true"===r.contentEditable&&r.firstChild);case 9:return!0}return!1},p=(g,r)=>{["keydown","keypress","keyup"].forEach(d=>{v[r](g,"__hndl_"+d,d)})};new JS.Singleton("GlobalKeys",{include:[m.DomElementProxy,m.DomObservable,m.DomObserver,m.KeyObservable,
m.Observable,m.Observer],initialize:function(){n.register("keys",v=this);v.KEYCODE_TAB=9;v.KEYCODE_SHIFT=16;v.KEYCODE_CONTROL=17;v.KEYCODE_ALT=18;v.KEYCODE_Z=90;v.KEYCODE_COMMAND=e;v.KEYCODE_RIGHT_COMMAND=c;v.setDomElement(document);v.attachTo(f,"__hndl_focused","focused");p(v,"attachToDom");global.onblur=()=>{q={}}},isKeyDown:g=>!!q[g],isShiftKeyDown:()=>!!q[16],isControlKeyDown:()=>!!q[17],isAltKeyDown:()=>!!q[18],isCommandKeyDown:b,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?b():!!q[17],
ignoreFocusTrap:()=>!!q[18],__hndl_focused:g=>{(g=g.value)?(p(v,"detachFromDom"),p(g,"attachToDom")):((g=f.prevFocusedView)&&p(g,"detachFromDom"),p(v,"attachToDom"))},__hndl_keydown:g=>{const r=m.KeyObservable.getKeyCodeFromEvent(g);g=g.value;h(r,g.target)&&g.preventDefault();b()&&16!==r&&17!==r&&18!==r?(v.fireEvent("keydown",r),v.fireEvent("keyup",r)):(q[r]=!0,9===r&&(g=!!q[18],q[16]?f.prev(g):f.next(g)),v.fireEvent("keydown",r))},__hndl_keypress:g=>{v.fireEvent("keypress",m.KeyObservable.getKeyCodeFromEvent(g))},
__hndl_keyup:g=>{const r=m.KeyObservable.getKeyCodeFromEvent(g);g=g.value;h(r,g.target)&&g.preventDefault();q[r]=!1;v.fireEvent("keyup",r)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(m=>{const v=JS.Module,q=f=>{f.getSubviews().forEach(a=>{a&&a.syncInnerToOuter&&!a.ignoreFlex&&(a.syncInnerToOuter(),a.syncModelToOuterBounds())})},n=m.FlexBoxSupport=new v("FlexBoxSupport",{initNode:function(f,a){this.callSuper(f,a);q(this)},setWidth:function(f,a){this.callSuper(f,a);this.inited&&q(this)},setHeight:function(f,a){this.callSuper(f,a);this.inited&&q(this)},setFlexDirection:function(f){if(this.flexDirection!==f){let a=this.flexDirection=f;switch(a){case "rowReverse":a="row-reverse";
break;case "columnReverse":a="column-reverse"}this.getIDS().flexDirection=a;this.inited&&(this.fireEvent("flexDirection",f),q(this))}},setFlexWrap:function(f){if(this.flexWrap!==f){let a=this.flexWrap=f;switch(a){case "wrapReverse":case "reverse":a="wrap-reverse"}this.getIDS().flexWrap=a;this.inited&&(this.fireEvent("flexWrap",f),q(this))}},setJustifyContent:function(f){if(this.justifyContent!==f){let a=this.justifyContent=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end";break;
case "spaceBetween":case "between":a="space-between";break;case "spaceAround":case "around":a="space-around";break;case "spaceEvenly":case "evenly":a="space-evenly"}this.getIDS().justifyContent=a;this.inited&&(this.fireEvent("justifyContent",f),q(this))}},setAlignItems:function(f){if(this.alignItems!==f){let a=this.alignItems=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end"}this.getIDS().alignItems=a;this.inited&&(this.fireEvent("alignItems",f),q(this))}},setAlignContent:function(f){if(this.alignContent!==
f){let a=this.alignContent=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end";break;case "spaceBetween":case "between":a="space-between";break;case "spaceAround":case "around":a="space-around"}this.getIDS().alignContent=a;this.inited&&(this.fireEvent("alignContent",f),q(this))}},createOurDomElement:function(f){f=this.callSuper(f);(Array.isArray(f)?f[1]:f).style.display="flex";return f},subviewAdded:function(f){f&&!f.ignoreFlex&&(f.getODS().position="",this.inited&&q(this))},syncSubviews:function(){q(this)},
subviewRemoved:f=>{!f||f.destroyed||f.ignoreFlex||(f.getODS().position="absolute")}});m.FlexBoxChildSupport=new v("FlexBoxChildSupport",{setParent:function(f){var a=this.isChildOfFlexBox();this.callSuper(f);this.__parentIsFlexBox=this.parent&&this.parent.isA(n);this.inited&&a&&!this.isChildOfFlexBox()&&(f=this.getIDS(),a=this.getODS(),"auto"!==f.width&&(a.width=this.width+"px"),"auto"!==f.height&&(a.height=this.height+"px"),this.syncInnerToOuter())},setWidth:function(f,a){null==f||""===f?(this.getODS().width=
"",this.syncModelToOuterBounds(!1,!0)):this.callSuper(f,a);this.syncInnerToOuter(!1,!0)},setHeight:function(f,a){null==f||""===f?(this.getODS().height="",this.syncModelToOuterBounds(!0,!1)):this.callSuper(f,a);this.syncInnerToOuter(!0,!1)},setFlexGrow:function(f){this.flexGrow!==f&&(this.getODS().flexGrow=this.flexGrow=f,this.inited&&(this.fireEvent("flexGrow",f),(f=this.parent)&&f.syncSubviews&&f.syncSubviews()))},setFlexShrink:function(f){this.flexShrink!==f&&(this.getODS().flexShrink=this.flexShrink=
f,this.inited&&(this.fireEvent("flexShrink",f),(f=this.parent)&&f.syncSubviews&&f.syncSubviews()))},setAlignSelf:function(f){if(this.alignSelf!==f){let a=this.alignSelf=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end"}this.getODS().alignSelf=a;this.inited&&this.fireEvent("alignSelf",f)}},isChildOfFlexBox:function(){return this.__parentIsFlexBox},syncModelToOuterBounds:function(f,a){const e=this.getODE(),c=this.getIDS();f||("auto"===c.width?this.getODS().width="auto":this.setInnerWidth(e.clientWidth),
this.fireEvent("width",this.width=e.clientWidth));a||("auto"===c.height?this.getODS().height="auto":this.setInnerHeight(e.clientHeight),this.fireEvent("height",this.height=e.clientHeight))},syncInnerToOuter:function(f,a){const e=this.getIDS(),c=this.getODE();f||"auto"===e.width||this.setInnerWidth(c.clientWidth);a||"auto"===e.height||this.setInnerHeight(c.clientHeight)},setInnerWidth:function(f){this.getIDS().width=f+"px"},setInnerHeight:function(f){this.getIDS().height=f+"px"},createOurDomElement:function(f){f=
this.callSuper(f);const a=document.createElement("div");a.style.position="relative";f.appendChild(a);return[f,a]}})})(myt);
(m=>{const v=Array.prototype,q={},n={},f=(b,h)=>h+b.substring(0,1).toUpperCase()+b.substring(1),a=b=>n[b]||(n[b]=f(b,"set")),e=b=>q[b]||(q[b]=f(b,"get")),c=(b,h,p)=>{null==b[h]&&(b[h]=p)};m.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:a,generateGetterName:e,generateName:f,createSetterFunction:(b,h)=>{const p=a(h);b[p]&&console.log("Overwriting setter",p);b[p]=g=>{b[h]!==g&&(b[h]=g,b.inited&&b.fireEvent(h,g))}},createGetterFunction:(b,h)=>{const p=e(h);b[p]&&console.log("Overwriting getter",
p);b[p]=()=>b[h]},defAttr:c},appendToEarlyAttrs:function(){v.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){v.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){v.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){v.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:c,quickSet:function(b,h){(b||[]).forEach(p=>{this[p]=h[p];delete h[p]})},callSetters:function(b){var h=
this.earlyAttrs;const p=this.lateAttrs;let g;var r;if(h||p){var d={};for(r in b)d[r]=b[r];b=d;if(h)for(d=0,r=h.length;r>d;){const u=h[d++];u in b&&(this.set(u,b[u]),delete b[u])}if(p)for(g=[],d=0,r=p.length;r>d;)h=p[d++],h in b&&(g.push(h,b[h]),delete b[h])}for(const u in b)this.set(u,b[u]);if(g)for(d=0,r=g.length;r>d;)this.set(g[d++],g[d++])},get:function(b){const h=e(b);return this[h]?this[h]():this[b]},set:function(b,h,p){if(!p&&(p=a(b),this[p]))return this[p](h);this[b]!==h&&(this[b]=h,!1!==this.inited&&
this.fireEvent&&this.fireEvent(b,h))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let m,v;const q=this.__meta__;if(q)for(m=Object.keys(q),v=m.length;v;)delete q[m[--v]];m=Object.keys(this);for(v=m.length;v;)delete this[m[--v]];this.destroyed=!0}}});
(m=>{const v=JS.Class,q=JS.Module,n=new v("AbstractPool",{include:[m.Destructible],initialize:()=>{},destroy:function(){const c=this.__op;c&&(c.length=0);this.callSuper()},getInstance:function(){const c=this.__op||(this.__op=[]);return c.length?c.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(c){(this.__op||(this.__op=[])).push(this.cleanInstance(c))},cleanInstance:c=>{"function"===typeof c.clean&&c.clean();return c},destroyPooledInstances:function(){var c=
this.__op;if(c){let b=c.length;for(;b;){const h=c[--b];"function"===typeof h.destroy&&h.destroy()}}}}),f=m.SimplePool=new v("SimplePool",n,{initialize:function(c,b){this.callSuper();this.instanceClass=c||Object;this.instanceParent=b},createInstance:function(c){var b=this.instanceParent,h=this.instanceClass;return b?new h(b,c):new h}}),a=new q("TrackActives",{destroy:function(){const c=this.__actives;c&&(c.length=0);this.callSuper()},getInstance:function(){const c=this.callSuper();(this.__actives||
(this.__actives=[])).push(c);return c},putInstance:function(c){var b=this.__actives;if(b){let h=b.length;for(;h;)if(b[--h]===c){b.splice(h,1);this.callSuper(c);return}b="inactive"}else b="missing";console.warn("Tried to put a "+b+" instance",c,this)},getActives:function(c){const b=this.__actives;if(b){if(c){const h=[],p=b.length;for(let g=0;p>g;){const r=b[g++];c.call(this,r)&&h.push(r)}return h}return b.concat()}return[]},putActives:function(){const c=this.__actives;if(c){let b=c.length;for(;b;)this.putInstance(c[--b])}}}),
e=m.TrackActivesPool=new v("TrackActivesPool",f,{include:[a]});m.TrackActivesMultiPool=new v("TrackActivesMultiPool",n,{initialize:function(c,b){this.callSuper();this.instanceClassesByKey=c;const h=this._poolsByClassName={},p=this.__pbk={};for(const g in c){const r=c[g];p[g]=h[r.__displayName]=new e(r,b)}},destroy:function(){const c=this.__pbk;for(const b in c)c[b].destroy();this.callSuper()},getInstance:function(){const c=arguments[0],b=this.__pbk[c];if(b)return b.getInstance(arguments);console.warn("No pool for key",
c)},putInstance:function(c){const b=this._poolsByClassName[c.klass.__displayName];b?b.putInstance(c):console.warn("No pool for obj",c)},destroyPooledInstances:function(){const c=this.__pbk;for(const b in c)c[b].destroyPooledInstances()},getActives:function(c){let b=[];const h=this.__pbk;for(const p in h)b=b.concat(h[p].getActives(c));return b},putActives:function(){const c=this.__pbk;for(const b in c)c[b].putActives()}});m.Reusable=new q("Reusable",{clean:()=>{}})})(myt);
(m=>{const v=(a,e)=>{if(e)for(;a;){if(e(a))return a;a=a.parent}},q=(a,e)=>{const c=e.name;void 0===a[c]?a[c]=e:console.warn("Name in use",c)},n=(a,e)=>{const c=e.name;a[c]===e?delete a[c]:console.warn("Name not in use",c)},f=a=>a.__animPool||(a.__animPool=new m.TrackActivesPool(m.Animator,a));m.Node=new JS.Class("Node",{include:[m.AccessorSupport,m.Destructible,m.Observable,m.Observer],extend:{getMatchingAncestorOrSelf:v,getMatchingAncestor:(a,e)=>v(a?a.parent:null,e)},initialize:function(a,e,c){if(c){const b=
c.length;for(let h=0,p;b>h;)(p=c[h++])?this.extend(p):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.initNode(a,e||{})},initNode:function(a,e){this.callSetters(e);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let e=a.length;for(;e;)a[--e].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();
this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var e=this.placement||a.defaultPlacement;e&&(a=a.determinePlacement(e,this))}if(!(this.parent===a||a&&a.destroyed)){if(e=this.parent){let c=e.getSubnodeIndex(this);0<=c&&(this.name&&n(e,this),e.subnodes.splice(c,
1),e.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&q(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const e=this.parent;e&&this.name&&n(e,this);this.name=a;e&&a&&q(e,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,e){let c=a.indexOf("."),b;0<=c&&(b=a.substring(c+1),a=a.substring(0,c));"*"===a&&(a=this.defaultPlacement)&&(c=a.indexOf("."),0<=c&&(b=a.substring(c+
1)+(b?"."+b:""),a=a.substring(0,c)));return(a=this[a])?b?a.determinePlacement(b,e):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;
a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(e=>e instanceof a)},searchAncestors:function(a){return v(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return v(this,a)},getAncestors:function(){const a=[];let e=this;for(;e;)a.push(e),e=e.parent;return a},hasSubnode:function(a){return 0<=this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent===
this)return a.setParent(),a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,e,c,b,h){return this.animate(a,e,c,!1,null,b,!1,1,h)},animate:function(a){if(a){const e=f(this),c=e.getInstance({ignorePlacement:!0}),b=a.callback;delete a.callback;c.callSetters(a);c.next(h=>{e.putInstance(c)});b&&c.next(b);c.setRunning(!0);return c}},getActiveAnimators:function(a){if("string"===typeof a){const e=a;a=c=>c.attribute===e}return f(this).getActives(a)},stopActiveAnimators:function(a,e=!1){a=this.getActiveAnimators(a);
let c=a.length;if(0<c){const b=f(this);for(;c;){const h=a[--c];h.reset(e);e||b.putInstance(h)}}},doOnceOnIdle:function(a){this.attachTo(m.global.idle,a,"idle",!0)}})})(myt);
(m=>{let v=0,q=!1;const n=JS.Class,f=[],a=g=>{if(q!==g&&(q=g,!g)){for(g=f.length;g;){const r=f[--g];r.__deferredLayout=!1;r.update()}f.length=0}},e=(g,r,d,u)=>{const w=g.getSubviewIndex(r),l=g.subviews;0<=w&&(g=g.getSubviewIndex(d),l.splice(w,1),0<=g?(w<g&&--g,l.splice(g+(u?1:0),0,r)):u?l.push(r):l.unshift(r))},c=(g,r,d)=>{g[r]!==d&&(g[r]=d,g.inited&&(g.fireEvent(r,d),g.update()))},b=m.Layout=new n("Layout",m.Node,{extend:{incrementGlobalLock:()=>{1===++v&&a(!0)},decrementGlobalLock:()=>{0<v&&0===
--v&&a(!1)}},initNode:function(g,r){this.subviews=[];this.locked=!0;this.lockedCounter=1;const d=!0===r.locked;delete r.locked;this.callSuper(g,r);d||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(g){var r=this.parent;if(r!==g){const d=!this.locked;d&&(this.locked=!0);let u,w;if(r){u=this.subviews;for(w=u.length;w;)this.removeSubview(u[--w]);this.detachFrom(r,"__hndlPSA","subviewAdded");this.detachFrom(r,"__hndlPSR","subviewRemoved")}this.callSuper(g);
if(g=this.parent){u=g.getSubviews();w=0;for(r=u.length;r>w;)this.addSubview(u[w++]);this.attachTo(g,"__hndlPSA","subviewAdded");this.attachTo(g,"__hndlPSR","subviewRemoved")}d&&(this.locked=!1,this.inited&&g&&this.update())}},canUpdate:function(){return q?(this.__deferredLayout||(f.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(g){return 0<=this.getSubviewIndex(g)},getSubviewIndex:function(g){return this.subviews.indexOf(g)},addSubview:function(g){this.ignore(g)||
(this.subviews.push(g),this.startMonitoringSubview(g),this.locked||this.update())},startMonitoringSubview:g=>{},startMonitoringAllSubviews:function(){const g=this.subviews;let r=g.length;for(;r;)this.startMonitoringSubview(g[--r])},removeSubview:function(g){if(this.ignore(g))return-1;const r=this.getSubviewIndex(g);0<=r&&(this.stopMonitoringSubview(g),this.subviews.splice(r,1),this.locked||this.update());return r},stopMonitoringSubview:g=>{},stopMonitoringAllSubviews:function(){const g=this.subviews;
let r=g.length;for(;r;)this.stopMonitoringSubview(g[--r])},ignore:g=>g.ignoreLayout,__hndlPSA:function(g){g=g.value;g.parent===this.parent&&this.addSubview(g)},__hndlPSR:function(g){g=g.value;g.parent===this.parent&&this.removeSubview(g)},sortSubviews:function(g){this.subviews.sort(g)},moveSubviewBefore:function(g,r){e(this,g,r,!1)},moveSubviewAfter:function(g,r){e(this,g,r,!0)}});var h=m.ConstantLayout=new n("ConstantLayout",b,{setTargetAttrName:function(g){this.setterName=m.AccessorSupport.generateSetterName(g);
c(this,"targetAttrName",g)},setTargetValue:function(g){c(this,"targetValue",g)},update:function(){if(this.canUpdate()){const g=this.setterName,r=this.targetValue,d=this.subviews,u=d.length;if(g)for(let w=0;u>w;)d[w++][g](r)}}});h=m.VariableLayout=new n("VariableLayout",h,{initNode:function(g,r){this.collapseParent=this.reverse=!1;this.callSuper(g,r)},setCollapseParent:function(g){c(this,"collapseParent",g)},setReverse:function(g){c(this,"reverse",g)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const r=this.setterName,d=this.subviews;var g=d.length;let u=this.targetValue,w,l=0;if(this.reverse)for(w=g;w;)g=d[--w],this.skipSubview(g)||(u=this.updateSubview(++l,g,r,u));else for(w=0;g>w;){const x=d[w++];this.skipSubview(x)||(u=this.updateSubview(++l,x,r,u))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(r,u);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(g){this.attachTo(g,
"update","visible")},stopMonitoringSubview:function(g){this.detachFrom(g,"update","visible")},updateSubview:(g,r,d,u)=>{r[d](u);return u},skipSubview:g=>!g.visible,updateParent:(g,r)=>{}});const p=m.SpacedLayout=new n("SpacedLayout",h,{initNode:function(g,r){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(g,r)},setTargetAttrName:function(g){if(this.targetAttrName!==
g){const r="y"===g,d=this.inited;d&&this.stopMonitoringAllSubviews();this.measureAttrName=r?"boundsHeight":"boundsWidth";this.measureAttrBaseName=r?"height":"width";this.parentSetterName=r?"setHeight":"setWidth";d&&this.startMonitoringAllSubviews();this.callSuper(g)}},setNoAddSubviewOptimization:function(g){this.noAddSubviewOptimization=g},setAxis:function(g){this.setTargetAttrName(this.axis=g)},setInset:function(g){this.setTargetValue(this.inset=g)},setSpacing:function(g){c(this,"spacing",g)},setOutset:function(g){c(this,
"outset",g)},addSubview:function(g){const r=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(g);this.locked=r},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.callSuper(g)},stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.callSuper(g)},updateSubview:function(g,r,d,u){g=r[this.measureAttrName];r[d](u+(g-r[this.measureAttrBaseName])/2);return u+g+this.spacing},updateParent:function(g,r){this.parent[this.parentSetterName](r+
this.outset-this.spacing)}});m.ResizeLayout=new n("ResizeLayout",p,{setCollapseParent:g=>{},setTargetAttrName:function(g){if(this.targetAttrName!==g){if(this.inited){const r="x"===g;this.stopMonitoringParent(r?"height":"width");this.startMonitoringParent(r?"width":"height")}this.callSuper(g)}},setParent:function(g){if(this.parent!==g){const r="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(r);this.callSuper(g);this.parent&&this.startMonitoringParent(r)}},startMonitoringParent:function(g){this.attachTo(this.parent,
"update",g)},stopMonitoringParent:function(g){this.detachFrom(this.parent,"update",g)},doBeforeUpdate:function(){const g=this.measureAttrName,r=this.subviews;let d=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,u=r.length,w=0,l=0;for(;u;){const x=r[--u];this.skipSubview(x)||(++w,0<x.layoutHint?l+=x.layoutHint:d-=x[g])}0!==w&&(this.remainder=d-=(w-1)*this.spacing,this.resizeSum=l,this.scalingFactor=d/l,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===g?
"setWidth":"setHeight")},updateSubview:function(g,r,d,u){var w=r.layoutHint;0<w&&(this.resizeSumUsed+=w,w=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(w*this.scalingFactor),this.remainderUsed+=w,r[this.measureSetter](w));return this.callSuper(g,r,d,u)},startMonitoringSubview:function(g){0<g.layoutHint||this.attachTo(g,"update",this.measureAttrName);this.attachTo(g,"update","visible")},stopMonitoringSubview:function(g){0<g.layoutHint||this.detachFrom(g,"update",
this.measureAttrName);this.detachFrom(g,"update","visible")},updateParent:(g,r)=>{}});m.AlignedLayout=new n("AlignedLayout",h,{initNode:function(g,r){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(g,r)},setTargetAttrName:function(g){if(this.targetAttrName!==g){const r="y"===g,d=this.inited;d&&this.stopMonitoringAllSubviews();this.measureAttrName=
r?"boundsHeight":"boundsWidth";this.measureAttrBaseName=r?"height":"width";this.parentSetterName=r?"setHeight":"setWidth";d&&this.startMonitoringAllSubviews();this.callSuper(g)}},setAlign:function(g){if(this.align!==g){this.align=g;const r=this.locked;this.locked=!0;this.setTargetAttrName("middle"===g||"bottom"===g||"top"===g?"y":"x");this.locked=r;this.inited&&(this.fireEvent("align",g),this.update())}},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.callSuper(g)},
stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.callSuper(g)},doBeforeUpdate:function(){const g=this.measureAttrName,r=this.subviews;let d=0,u,w=r.length;for(;w;)u=r[--w],this.skipSubview(u)||(d=d>u[g]?d:u[g]);this.setTargetValue(d)},updateSubview:function(g,r,d,u){switch(this.align){case "center":case "middle":r[d]((u-r[this.measureAttrName])/2);break;case "right":case "bottom":r[d](u-r[this.measureAttrName]);break;default:r[d](0)}return u},updateParent:function(g,
r){this.parent[this.parentSetterName](r)}});m.WrappingLayout=new n("WrappingLayout",h,{initNode:function(g,r){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(g,r)},
setTargetAttrName:function(g){if(this.targetAttrName!==g){const r="y"===g,d=this.inited;d&&this.stopMonitoringAllSubviews();this.measureAttrName=r?"boundsHeight":"boundsWidth";const u=this.measureAttrBaseName=r?"height":"width";this.otherMeasureAttrName=r?"boundsWidth":"boundsHeight";const w=this.otherMeasureAttrBaseName=r?"width":"height";this.parentSetterName=r?"setWidth":"setHeight";this.otherSetterName=r?"setX":"setY";d&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(w),this.startMonitoringParent(u));
this.callSuper(g)}},setParent:function(g){if(this.parent!==g){const r="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(r?"height":"width");this.callSuper(g);this.parent&&this.startMonitoringParent(r?"height":"width")}},setAxis:function(g){this.setTargetAttrName(this.axis=g)},setInset:function(g){this.setTargetValue(this.inset=g)},setSpacing:function(g){c(this,"spacing",g)},setOutset:function(g){c(this,"outset",g)},setLineSpacing:function(g){c(this,"lineSpacing",g)},setLineInset:function(g){c(this,
"lineInset",g)},setLineOutset:function(g){c(this,"lineOutset",g)},startMonitoringParent:function(g){this.attachTo(this.parent,"update",g)},stopMonitoringParent:function(g){this.detachFrom(this.parent,"update",g)},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.attachTo(g,"update",this.otherMeasureAttrName);this.callSuper(g)},stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.detachFrom(g,"update",this.otherMeasureAttrName);
this.callSuper(g)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(g,r,d,u){g=r[this.measureAttrName];const w=r[this.otherMeasureAttrName];u+g>this.parentSizeLessOutset||"break"===r.layoutHint?(u=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=w,++this.lineCount):w>this.lineSize&&(this.lineSize=w);r[this.otherSetterName](this.linePos+
(w-r[this.otherMeasureAttrBaseName])/2);r[d](u+(g-r[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,u+g+this.outset);return u+g+this.spacing},updateParent:function(g,r){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});m.createFixedThresholdCounter(b,1,"locked")})(myt);
(m=>{const v=Math.round,q=m.DomElementProxy,n=m.Geometry.rectContainsPoint,f=(d,u)=>{const w=m.global.focus.focusedView,l=d.getIDE();if(w===d||w&&w.isDescendantOf(d))w._ignoreFocus=!0;d=l.scrollTop;const x=l.scrollLeft;u.call();w&&(w._ignoreFocus=!1,w.focus(!0));l.scrollTop=d;l.scrollLeft=x},a=(d,u,w,l)=>{if(u&&"object"===typeof u){if(l&&(l=d.getLeastCommonAncestor(u))){var x=l.getIDE();l=q.getZIndexRelativeToAncestor(d.getODE(),x);x=q.getZIndexRelativeToAncestor(u.getODE(),x);w&&(l*=-1,x*=-1);if(l<
x)return!0;if(x<l)return!1}d=d.getODE().compareDocumentPosition(u.getODE());return w?2===d||10===d:4===d||20===d}return!1},e=d=>{d=d.getAncestors();let u=d.length,w=1,l=1;for(;u;){const x=d[--u];w*=x.scaleX||1;l*=x.scaleY||1;x.__effectiveScaleX=w;x.__effectiveScaleY=l}return{scaleX:w,scaleY:l}},c=(d,u,w)=>{const l=d.getODE();if(n(u,w,0,0,l.offsetWidth*d.__effectiveScaleX,l.offsetHeight*d.__effectiveScaleY)){if(d=d.parent){const x=d.getIDE();return c(d,u+(l.offsetLeft-x.scrollLeft)*d.__effectiveScaleX,
w+(l.offsetTop-x.scrollTop)*d.__effectiveScaleY)}return!0}return!1},b=d=>{switch(d.align){case "center":d.releaseConstraint("__doAlignCenter");break;case "right":d.releaseConstraint("__doAlignRight")}},h=d=>{const u=d.parent;if(u)switch(d.align){case "center":d.constrain("__doAlignCenter",[d,"width",d,"alignOffset",u,"width"]);break;case "right":d.constrain("__doAlignRight",[d,"width",d,"alignOffset",u,"width"]);break;case "left":d.setX(d.alignOffset||0)}},p=d=>{switch(d.valign){case "middle":d.releaseConstraint("__doValignMiddle");
break;case "bottom":d.releaseConstraint("__doValignBottom")}},g=d=>{const u=d.parent;if(u)switch(d.valign){case "middle":d.constrain("__doValignMiddle",[d,"height",d,"valignOffset",u,"height"]);break;case "bottom":d.constrain("__doValignBottom",[d,"height",d,"valignOffset",u,"height"]);break;case "top":d.setY(d.valignOffset||0)}},r=(d,u,w)=>{d.getODS()["border"+w+"Radius"]=u+"px"};m.View=new JS.Class("View",m.Node,{include:[q,m.DomObservable,m.DomObserver,m.ScrollObservable,m.FocusObservable,m.KeyObservable,
m.MouseObservable],extend:{retainFocusDuringDomUpdate:f},initNode:function(d,u){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=u.tagName;delete u.tagName;this.setDomElement(this.createOurDomElement(d));const w=this.getODS();w.left=w.top="0px";this.callSuper(d,u);this.__updateBounds(this.width,this.height);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(d){d=document.createElement(this.tagName||"div");d.style.position="absolute";
const u=this.klass;d.className=u.__cssClassName||(u.__cssClassName="myt-"+u.__displayName.split(".").join("-"));return d},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(d){this.parent!==d&&(this.inited&&(b(this),p(this)),this.callSuper(d),this.align&&h(this),this.valign&&g(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(d=>
d!==this)},setFocusTrap:function(d){this.focusTrap=d},setFocusCage:function(d){this.focusCage=d},setMaskFocus:function(d){this.maskFocus=d},setLayoutHint:function(d){this.layoutHint=d},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(d){if(this.ignoreLayout!==d){var u=this.inited&&this.parent;let w;if(d){if(u)for(u=this.parent.getLayouts(),w=u.length;w;)u[--w].removeSubview(this);this.ignoreLayout=d}else if(this.ignoreLayout=d,u)for(u=this.parent.getLayouts(),
w=u.length;w;)u[--w].addSubview(this)}},setDomClass:function(d){this.domClass!==d&&(this.callSuper(d),this.inited&&this.fireEvent("domClass",d))},setDomId:function(d){this.domId!==d&&(this.callSuper(d),this.inited&&this.fireEvent("domId",d))},setAlignOffset:function(d){this.alignOffset!==d&&(this.alignOffset=d,this.inited&&this.fireEvent("alignOffset",d),this.parent&&"left"===this.align&&this.setX(d))},setAlign:function(d){this.align!==d&&(this.inited&&b(this),this.align=d,this.inited&&(this.fireEvent("align",
d),h(this)))},__doAlignCenter:function(d){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(d){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(d){this.valignOffset!==d&&(this.valignOffset=d,this.inited&&this.fireEvent("valignOffset",d),this.parent&&"top"===this.valign&&this.setY(d))},setValign:function(d){this.valign!==d&&(this.inited&&p(this),this.valign=d,this.inited&&(this.fireEvent("valign",d),g(this)))},__doValignMiddle:function(d){this.setY(v((this.parent.height-
this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(d){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(d){this.x!==d&&(this.x=d,this.visible&&(this.getODS().left=d+"px"),this.inited&&this.fireEvent("x",d))},setY:function(d){this.y!==d&&(this.y=d,this.visible&&(this.getODS().top=d+"px"),this.inited&&this.fireEvent("y",d))},setWidth:function(d,u){0>d&&(d=0);this.width!==d&&(this.width=d,this.getODS().width=d+"px",this.inited&&(this.__updateBounds(d,this.height),
u||this.fireEvent("width",d)))},setHeight:function(d,u){0>d&&(d=0);this.height!==d&&(this.height=d,this.getODS().height=d+"px",this.inited&&(this.__updateBounds(this.width,d),u||this.fireEvent("height",d)))},setDomMinWidth:function(d,u){(u?this.getIDS():this.getODS()).minWidth=d?d+"px":null},getDomMinWidth:function(d){d=(d?this.getIDS():this.getODS()).minWidth;return null!=d?Number.parseInt(d):null},setDomMinHeight:function(d,u){(u?this.getIDS():this.getODS()).minHeight=d?d+"px":null},getDomMinHeight:function(d){d=
(d?this.getIDS():this.getODS()).minHeight;return null!=d?Number.parseInt(d):null},setTextColor:function(d){this.textColor!==d&&(this.textColor=d,this.getODS().color=d||"inherit",this.inited&&this.fireEvent("textColor",d))},setBgColor:function(d){this.bgColor!==d&&(this.getODS().backgroundColor=this.bgColor=d,this.inited&&this.fireEvent("bgColor",d))},isColorAttr:d=>"bgColor"===d||"textColor"===d,setOpacity:function(d){this.opacity!==d&&(this.getODS().opacity=this.opacity=d,this.inited&&this.fireEvent("opacity",
d))},setOverflow:function(d){const u=this.overflow;if(u!==d){this.overflow=d;const w=this.getIDS();if("autox"===d)w.overflowX="auto",w.overflowY="hidden";else if("autoy"===d)w.overflowY="auto",w.overflowX="hidden";else{if("autox"===u||"autoy"===u)w.overflowX=w.overflowY=null;w.overflow=d||"visible"}this.inited&&this.fireEvent("overflow",d)}},setVisible:function(d){if(this.visible!==d){this.visible=d;const u=this.getODS();u.visibility=d?"inherit":"hidden";u.left=d?this.x+"px":"-100000px";u.top=d?this.y+
"px":"-100000px";this.inited&&this.fireEvent("visible",d)}},setPointerEvents:function(d){this.pointerEvents!==d&&(this.pointerEvents=d,this.getODS().pointerEvents=d||"auto",this.inited&&this.fireEvent("pointerEvents",d))},setCursor:function(d){this.cursor!==d&&(this.cursor=d,this.getODS().cursor=d||"auto",this.inited&&this.fireEvent("cursor",d))},__updateBounds:function(d,u){this.boundsWidth!==d&&this.fireEvent("boundsWidth",this.boundsWidth=d);this.boundsHeight!==u&&this.fireEvent("boundsHeight",
this.boundsHeight=u)},setOutline:function(d){d=d||[];this.setOutlineWidth(d[0]);this.setOutlineStyle(d[1]);this.setOutlineColor(d[2])},setOutlineWidth:function(d){this.outlineWidth=d||0;this.getODS().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(d){this.getODS().outlineStyle=this.outlineStyle=d||"none"},setOutlineColor:function(d){this.getODS().outlineColor=this.outlineColor=d||"#000"},setBorder:function(d){d=d||[];this.setBorderWidth(d[0]);this.setBorderStyle(d[1]);this.setBorderColor(d[2])},
setBorderWidth:function(d){this.borderWidth=d||0;this.getODS().borderWidth=this.borderWidth+"px"},setBorderStyle:function(d){this.getODS().borderStyle=this.borderStyle=d||"none"},setBorderColor:function(d){this.getODS().borderColor=this.borderColor=d||"#000"},setRoundedCorners:function(d){this.getODS().borderRadius=d+"px"},setRoundedTopLeftCorner:function(d){r(this,d,"TopLeft")},setRoundedTopRightCorner:function(d){r(this,d,"TopRight")},setRoundedBottomLeftCorner:function(d){r(this,d,"BottomLeft")},
setRoundedBottomRightCorner:function(d){r(this,d,"BottomRight")},setBoxShadow:function(d){this.getODS().boxShadow=d?(d[0]||0)+"px "+(d[1]||0)+"px "+(d[2]||7)+"px "+(d[3]||"#000"):"none"},setGradient:function(d){const u=this.getODS();if(d){let l=d[0];"linear"===l||"radial"===l?d.shift():l="linear";let x=d[0];if("radial"===l){void 0===x?x="closest-side":d.shift();var w=d[0];if(void 0===w)w="circle";else{switch(w){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",
w),w="circle"}d.shift()}let B=d[0];void 0===B?B="center":(B=B.replaceAll("middle","center"),d.shift());x=w+" "+x+" at "+B}else"number"===typeof x?(x+="deg",d.shift()):x?(x="to "+x,d.shift()):x="0deg";w=B=>{d.push(B&&"inherit"!==B?B:"transparent")};2>d.length&&w(this.textColor);2>d.length&&w(this.bgColor);u.background=l+"-gradient("+x+","+d.join(",")+")"}else u.background="none";this.bgColor=void 0},setTooltip:function(d){this.tooltip!==d&&(this.tooltip=this.getODE().title=d,this.inited&&this.fireEvent("tooltip",
d))},isVisible:function(){return null==this.searchAncestorsOrSelf(d=>!d.visible)},getFocusTrap:function(d){return this.searchAncestorsOrSelf(u=>u.focusCage||u.focusTrap&&!d)},subnodeAdded:function(d){d instanceof m.View?(this.getIDE().appendChild(d.getODE()),this.getSubviews().push(d),this.fireEvent("subviewAdded",d),this.subviewAdded(d)):d instanceof m.Layout&&(this.getLayouts().push(d),this.fireEvent("layoutAdded",d),this.layoutAdded(d))},subnodeRemoved:function(d){let u;d instanceof m.View?(u=
this.getSubviewIndex(d),0<=u&&(this.fireEvent("subviewRemoved",d),d.removeDomElement(),this.subviews.splice(u,1),this.subviewRemoved(d))):d instanceof m.Layout&&(u=this.getLayoutIndex(d),0<=u&&(this.fireEvent("layoutRemoved",d),this.layouts.splice(u,1),this.layoutRemoved(d)))},hasSubview:function(d){return 0<=this.getSubviewIndex(d)},getSubviewIndex:function(d){return this.getSubviews().indexOf(d)},subviewAdded:d=>{},subviewRemoved:d=>{},getNextSibling:function(){if(this.parent){const d=this.getODE().nextElementSibling;
if(d)return d.model}},getPrevSibling:function(){if(this.parent){const d=this.getODE().previousElementSibling;if(d)return d.model}},hasLayout:function(d){return 0<=this.getLayoutIndex(d)},getLayoutIndex:function(d){return this.getLayouts().indexOf(d)},layoutAdded:d=>{},layoutRemoved:d=>{},isBehind:function(d,u){return a(this,d,!1,u)},isInFrontOf:function(d,u){return a(this,d,!0,u)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},
sendBehind:function(d){this.parent.sendSubviewBehind(this,d)},sendInFrontOf:function(d){this.parent.sendSubviewInFrontOf(this,d)},bringSubviewToFront:function(d){if(d&&d.parent===this){const u=this.getIDE();d.getODE()!==u.lastChild&&f(d,()=>{u.appendChild(d.getODE())})}},sendSubviewToBack:function(d){if(d&&d.parent===this){const u=this.getIDE();d.getODE()!==u.firstChild&&f(d,()=>{u.insertBefore(d.getODE(),u.firstChild)})}},sendSubviewBehind:function(d,u){if(d&&u&&d.parent===this&&u.parent===this){const w=
this.getIDE();f(d,()=>{w.insertBefore(d.getODE(),u.getODE())})}},sendSubviewInFrontOf:function(d,u){d&&u&&d.parent===this&&u.parent===this&&(this.sendSubviewBehind(d,u),this.sendSubviewBehind(u,d))},sortSubviews:function(d){const u=this,w=u.getSubviews().sort(d);f(u,()=>{const l=u.getODE(),x=l.parentNode;let B;x&&(B=l.nextSibling,x.removeChild(l));const y=document.createDocumentFragment(),A=w.length;for(let C=0;A>C;)y.appendChild(w[C++].getODE());u.getIDE().appendChild(y);x&&x.insertBefore(l,B)})},
containsPoint:function(d,u,w){const l=this.getODE();if(!l)return!1;w=q.getRelativePosition(l,w);return n(d,u,w.x,w.y,this.width,this.height)},isPointVisible:function(d,u){const w=this.getPagePosition(!0);e(this);return c(this,d-w.x,u-w.y)},getEffectiveScale:function(){return e(this)},getEffectiveScaleX:function(){return e(this).scaleX},getEffectiveScaleY:function(){return e(this).scaleY}})})(myt);
(m=>{const v=(n,f,a)=>{const e=q(n,f);n.getODS().transform=e+(0===e.length?"":" ")+f+"("+a+")"},q=(n,f)=>{n=n.getODS();var a=n.transform;if(!a||0===a.length)return"";a=a.split(" ");let e=a.length;for(;e;)if(0===a[--e].indexOf(f)){a.splice(e,1);break}return n.transform=a.join(" ")};m.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(n){this.transformOrigin!==n&&(this.transformOrigin=n,this.getODS().transformOrigin=n||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",n)))},setRotation:function(n){this.rotation!==n&&(this.rotation=n,v(this,"rotate",(n||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",n)))},setScale:function(n){const f=this.scaleX!==n,a=this.scaleY!==n;if(f){var e=this.scaleX=n;null==e?q(this,"scaleX"):v(this,"scaleX",e||1)}a&&(e=this.scaleY=n,null==e?q(this,"scaleY"):v(this,"scaleY",e||1));this.inited&&((f||a)&&this.__updateBounds(this.width,this.height),
f&&this.fireEvent("scaleX",n),a&&this.fireEvent("scaleY",n))},setScaleX:function(n){if(this.scaleX!==n){var f=this.scaleX=n;null==f?q(this,"scaleX"):v(this,"scaleX",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",n))}},setScaleY:function(n){if(this.scaleY!==n){var f=this.scaleY=n;null==f?q(this,"scaleY"):v(this,"scaleY",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",n))}},setSkewX:function(n){this.skewX!==n&&(this.skewX=
n,v(this,"skewX",n||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",n)))},setSkewY:function(n){this.skewY!==n&&(this.skewY=n,v(this,"skewY",n||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",n)))},__updateBounds:function(n,f){const a=this.rotation;var e=this.scaleX;const c=this.scaleY;e=(null==e||1===e)&&(null==c||1===c);if(!e||null!=a&&0!==a&&180!==a)!e||90!==a&&270!==a?(f=this.getODE().getBoundingClientRect(),n=f.width,f=f.height):
(n=this.height,f=this.width);this.callSuper(n,f)}})})(myt);
(m=>{const v=JS.Module,q=(e,c)=>{if("auto"===c)e.__hasSetWidth=!1,e.getODS().width="auto",e.sizeViewToDom();else return e.__hasSetWidth=!0},n=(e,c)=>{if("auto"===c)e.__hasSetHeight=!1,e.getODS().height="auto",e.sizeViewToDom();else return e.__hasSetHeight=!0},f=e=>{if(!e.__hasSetWidth){const c=e.getODE().offsetWidth/e.getEffectiveScaleX();e.width!==c&&(e.width=c,e.inited&&e.__updateBounds(c,e.height),e.fireEvent("width",c))}},a=e=>{if(!e.__hasSetHeight){const c=e.getODE().offsetHeight/e.getEffectiveScaleY();
e.height!==c&&(e.height=c,e.inited&&e.__updateBounds(e.width,c),e.fireEvent("height",c))}};m.SizeToDom=new v("SizeToDom",{initNode:function(e,c){this.callSuper(e,c);this.sizeViewToDom()},setWidth:function(e,c){q(this,e)&&this.callSuper(e,c)},setHeight:function(e,c){n(this,e)&&this.callSuper(e,c)},sizeViewToDom:function(){f(this);a(this)}});m.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(e,c){this.callSuper(e,c);this.sizeViewToDom()},setWidth:function(e,c){q(this,e)&&this.callSuper(e,c)},
sizeViewToDom:function(){f(this)}});m.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(e,c){this.callSuper(e,c);this.sizeViewToDom()},setHeight:function(e,c){n(this,e)&&this.callSuper(e,c)},sizeViewToDom:function(){a(this)}})})(myt);
(m=>{const v=(q,n,f,a)=>{q[f]!==n&&(q[f]=n,q.getIDS()[f]=n||a||"inherit",q.inited&&(q.fireEvent(f,n),q.sizeViewToDom()))};m.TextSupport=new JS.Module("TextSupport",{setWidth:function(q,n){this.callSuper(q,n);"auto"!==q&&(q=this.whiteSpace,"normal"!==q&&"pre-line"!==q&&"pre-wrap"!==q||this.sizeViewToDom())},setText:function(q){q||="";q=this.valueFromEvent(q);this.text!==q&&(this.getIDE().innerHTML=this.text=q,this.inited&&(this.fireEvent("text",q),this.sizeViewToDom()))},setTextOverflow:function(q){this.textOverflow!==
q&&(this.textOverflow=q,this.getIDS().textOverflow=q||"inherit",this.inited&&this.fireEvent("textOverflow",q))},setTextAlign:function(q){this.textAlign!==q&&(this.textAlign=q,this.getIDS().textAlign=q||"inherit",this.inited&&this.fireEvent("textAlign",q))},setWhiteSpace:function(q){v(this,q,"whiteSpace")},setWordWrap:function(q){v(this,q,"wordWrap","normal")},setTextIndent:function(q){v(this,q,"textIndent")},setTextTransform:function(q){v(this,q,"textTransform")},setTextDecoration:function(q){v(this,
q,"textDecoration")},setLineHeight:function(q){v(this,q,"lineHeight")},setLetterSpacing:function(q){v(this,q,"letterSpacing")},setWordSpacing:function(q){v(this,q,"wordSpacing")},setFontFamily:function(q){v(this,q,"fontFamily")},setFontStyle:function(q){v(this,q,"fontStyle")},setFontVariant:function(q){v(this,q,"fontVariant")},setFontWeight:function(q){v(this,q,"fontWeight")},setFontSize:function(q){v(this,q,"fontSize")},setUserUnselectable:function(q){this.userUnselectable!==q&&(this.userUnselectable=
q,this[q?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(q?"default":"text"),this.inited&&this.fireEvent("userUnselectable",q))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(q,n,f,a){this.getIDS().textShadow=(q||0)+"px "+(n||0)+"px "+(null!=f?f:2)+"px "+(a||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}})})(myt);
(m=>{const v={},q={},n=f=>{const a=f.imageUrl;if(f.calculateNaturalSize&&a){var e=v[a];if(e)f.setNaturalWidth(e.width),f.setNaturalHeight(e.height);else{e=q[a];if(!e){q[a]=e=[];const c=new Image;c.onerror=b=>{if(b=q[a]){let h=b.length;for(;h;)b[--h].setImageLoadingError(!0);b.length=0;delete q[a]}};c.onload=()=>{const b=c.width,h=c.height,p=q[a];if(p){let g=p.length;for(;g;){const r=p[--g];r.imageUrl===a&&(r.setNaturalWidth(b),r.setNaturalHeight(h))}p.length=0;delete q[a]}v[a]={width:b,height:h}};
c.src=a}e.push(f)}}};m.ImageSupport=new JS.Module("ImageSupport",{initNode:function(f,a){this.defAttr(a,"imageRepeat","no-repeat");this.defAttr(a,"imageAttachment","scroll");this.callSuper(f,a)},setImageUrl:function(f){this.imageUrl!==f&&(this.imageUrl=f,this.getIDS().backgroundImage=f?'url("'+f+'")':"none",this.inited&&(this.fireEvent("imageUrl",f),this.setNaturalWidth(),this.setNaturalHeight(),!f&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),n(this))},setImageLoadingError:function(f){this.set("imageLoadingError",
f,!0)},setImageSize:function(f){this.imageSize!==f&&(this.imageSize=f,this.getIDS().backgroundSize=f||"auto",this.inited&&this.fireEvent("imageSize",f))},setImageRepeat:function(f){this.imageRepeat!==f&&(this.getIDS().backgroundRepeat=this.imageRepeat=f,this.inited&&this.fireEvent("imageRepeat",f))},setImagePosition:function(f){this.imagePosition!==f&&(this.getIDS().backgroundPosition=this.imagePosition=f,this.inited&&this.fireEvent("imagePosition",f))},setImageAttachment:function(f){this.imageAttachment!==
f&&(this.getIDS().backgroundAttachment=this.imageAttachment=f,this.inited&&this.fireEvent("imageAttachment",f))},setCalculateNaturalSize:function(f){this.calculateNaturalSize!==f&&(this.calculateNaturalSize=f,this.inited&&this.fireEvent("calculateNaturalSize",f),n(this))},setNaturalWidth:function(f){this.naturalWidth!==f&&(this.naturalWidth=f,this.inited&&this.fireEvent("naturalWidth",f),this.useNaturalSize&&f&&this.setWidth(f))},setNaturalHeight:function(f){this.naturalHeight!==f&&(this.naturalHeight=
f,this.inited&&this.fireEvent("naturalHeight",f),this.useNaturalSize&&f&&this.setHeight(f))},setUseNaturalSize:function(f){this.useNaturalSize!==f&&(this.useNaturalSize=f,this.inited&&this.fireEvent("useNaturalSize",f),f&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),f&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(m=>{const v=JS.Class,q=m.View,n=m.SizeToDom,f=m.AccessorSupport.defAttr;m.FlexBox=new v("FlexBox",q,{include:[m.FlexBoxSupport]});m.Frame=new v("Frame",q,{initNode:function(a,e){f(e,"tagName","iframe");this.callSuper(a,e);a=m.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getIDE().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});m.Markup=new v("Markup",q,{include:[n],setHtml:function(a){this.html!==a&&(this.getIDE().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});m.Text=new v("Text",q,{include:[n,m.TextSupport],initNode:function(a,e){f(e,"whiteSpace",
"nowrap");f(e,"userUnselectable",!0);this.callSuper(a,e)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getIDS(),e=a.whiteSpace;a.whiteSpace="nowrap";const c=this.getODE().getBoundingClientRect().width;a.whiteSpace=e;return c}});m.Image=new v("Image",q,{include:[m.ImageSupport],initNode:function(a,e){f(e,"useNaturalSize",!0);this.callSuper(a,e)}});m.BackView=new v("BackView",q,{sendSubviewToBack:function(a){if(a.parent===this){const e=this.getIDE(),c=e.childNodes[1];
a=a.getODE();a!==c&&(a=e.removeChild(a))&&e.insertBefore(a,c)}}})})(myt);
(m=>{const v=Math.round,q=e=>{const c=e.parent;c&&0<=e.percentOfParentWidth&&e.syncTo(c,"__doPOPW","width")},n=e=>{0<=e.percentOfParentWidth&&e.detachFrom(e.parent,"__doPOPW","width")},f=e=>{const c=e.parent;c&&0<=e.percentOfParentHeight&&e.syncTo(c,"__doPOPH","height")},a=e=>{0<=e.percentOfParentHeight&&e.detachFrom(e.parent,"__doPOPH","height")};m.SizeToParent=new JS.Module("SizeToParent",{setParent:function(e){this.parent!==e&&(this.inited&&(n(this),a(this)),this.callSuper(e),q(this),f(this))},
setPercentOfParentWidthOffset:function(e){this.percentOfParentWidthOffset!==e&&(this.percentOfParentWidthOffset=e,this.inited&&(this.fireEvent("percentOfParentWidthOffset",e),this.__doPOPW()))},setPercentOfParentWidth:function(e){this.percentOfParentWidth!==e&&(this.inited&&n(this),this.percentOfParentWidth=e,this.inited&&this.fireEvent("percentOfParentWidth",e),q(this))},setPercentOfParentHeightOffset:function(e){this.percentOfParentHeightOffset!==e&&(this.percentOfParentHeightOffset=e,this.inited&&
(this.fireEvent("percentOfParentHeightOffset",e),this.__doPOPH()))},setPercentOfParentHeight:function(e){this.percentOfParentHeight!==e&&(this.inited&&a(this),this.percentOfParentHeight=e,this.inited&&this.fireEvent("percentOfParentHeight",e),f(this))},__doPOPW:function(e){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(e){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/
100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);(m=>{let v;const q=[];new JS.Singleton("GlobalRootViewRegistry",{include:[m.Observable],initialize:function(){m.global.register("roots",v=this)},getRoots:()=>q,addRoot:n=>{q.push(n);v.fireEvent("rootAdded",n)},removeRoot:n=>{let f=q.length;for(;f;){const a=q[--f];if(a===n){q.splice(f,1);v.fireEvent("rootRemoved",a);break}}}})})(myt);
(m=>{const v=m.global.roots,q=m.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:n=>{const f=n.__captureDrop=a=>{a.preventDefault()};n=n.getIDE();m.addEventListener(n,"drop",f);m.addEventListener(n,"dragover",f)},teardownCaptureDrop:n=>{const f=n.getIDE();n=n.__captureDrop;m.removeEventListener(f,"drop",n);m.removeEventListener(f,"dragover",n)}},initNode:function(n,f){this.callSuper(n,f);this.setZIndex(0);this.addDomClass("myt");v.addRoot(this);q.setupCaptureDrop(this)},createOurDomElement:function(n){n||
(n=this.callSuper(n),m.getElement().appendChild(n));return n},destroy:function(){q.teardownCaptureDrop(this);v.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(n){this.keepDomElementWhenDestroyed=n},setParent:n=>{},bringToFront:function(){var n=this.getIDE();const f=n.parentNode;n!==f.lastChild&&(n=f.removeChild(n))&&f.appendChild(n)},sendToBack:function(){var n=this.getIDE();const f=n.parentNode;n!==f.firstChild&&
(n=f.removeChild(n))&&f.insertBefore(n,f.firstChild)},sendBehind:function(n){var f=this.getIDE();n=n.getIDE();const a=f.parentNode;n.parentNode===a&&(f=a.removeChild(f))&&a.insertBefore(f,n)},sendInFrontOf:function(n){n.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(n),n.sendBehind(this))}})})(myt);
(m=>{let v,q;const n=window;new JS.Singleton("GlobalWindowResize",{include:[m.Observable],initialize:function(){m.addEventListener(n,"resize",f=>{this.fireEvent("resize",{w:v=n.innerWidth,h:q=n.innerHeight})});m.global.register("windowResize",this)},getWidth:()=>v||=n.innerWidth,getHeight:()=>q||=n.innerHeight})})(myt);
(m=>{const v=JS.Module,q=m.global.windowResize,n=m.AccessorSupport.defAttr,f=e=>{const c=e.resizeDimension;"both"!==c&&"width"!==c||e.setWidth(Math.max(e.minWidth,q.getWidth()));"both"!==c&&"height"!==c||e.setHeight(Math.max(e.minHeight,q.getHeight()))},a=m.SizeToWindow=new v("SizeToWindow",{include:[m.RootView],initNode:function(e,c){this.minWidth=this.minHeight=0;n(c,"resizeDimension","both");this.attachTo(q,"__hndlResize","resize");this.callSuper(e,c)},setResizeDimension:function(e){this.resizeDimension!==
e&&(this.resizeDimension=e,f(this))},setMinWidth:function(e){this.minWidth!==e&&(this.minWidth=e,f(this))},setMinHeight:function(e){this.minHeight!==e&&(this.minHeight=e,f(this))},__hndlResize:function(e){f(this)}});m.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[a],initNode:function(e,c){n(c,"resizeDimension","width");this.callSuper(e,c)}});m.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[a],initNode:function(e,c){n(c,"resizeDimension","height");this.callSuper(e,c)}})})(myt);
(m=>{let v,q,n,f=!1;const a=window,e={};new JS.Singleton("GlobalIdle",{include:[m.Observable],initialize:function(){const c=this,b=["webkit","moz","ms","o"];for(let h=0;h<b.length&&!a.requestAnimationFrame;){const p=b[h++];a.requestAnimationFrame=a[p+"RequestAnimationFrame"];a.cancelAnimationFrame=a[p+"CancelAnimationFrame"]||a[p+"CancelRequestAnimationFrame"]}q=h=>{v=a.requestAnimationFrame(q);-1!==n&&(h=Math.round(h),e.delta=h-n,e.time=h,c.fireEvent("idle",e));n=h};m.global.register("idle",c)},
attachObserver:function(c,b,h){c=this.callSuper(c,b,h);!f&&this.hasObservers("idle")&&(f=!0,n=-1,v=a.requestAnimationFrame(q));return c},detachObserver:function(c,b,h){c=this.callSuper(c,b,h);f&&!this.hasObservers("idle")&&(a.cancelAnimationFrame(v),f=!1);return c}})})(myt);
(m=>{const v=Math,q=v.max,n=v.min,f=d=>n(255,q(0,v.round(d))),a=d=>{d=f(d).toString(16);return 1===d.length?"0"+d:d},e=(d,u,w,l)=>[l?"#":"",a(d),a(u),a(w)].join(""),c=d=>new r((16711680&d)>>16,(65280&d)>>8,255&d),b=(d,u,w)=>(f(d)<<16)+(f(u)<<8)+f(w),h=(d,u)=>{if("string"===typeof d)if(d.endsWith("%"))d=parseFloat(d.substring(0,d.length-1))*u/100;else return 0;d=n(u,q(0,d))/u;return 1E-6>v.abs(1-d)?1:d},p=(d,u,w)=>{d=h(d,255);u=h(u,255);w=h(w,255);const l=q(d,u,w),x=l-n(d,u,w);if(0===x)return{h:0,
s:0,v:l};let B;switch(l){case d:B=(u-w)/x+(u<w?6:0);break;case u:B=(w-d)/x+2;break;case w:B=(d-u)/x+4}return{h:60*B,s:0===l?0:x/l,v:l}},g=(d,u,w)=>{d=6*h(d,360);u=h(u,100);w=h(w,100);var l=v.floor(d);const x=d-l;d=w*(1-u);const B=w*(1-x*u);u=w*(1-(1-x)*u);l%=6;return{red:255*[w,B,d,d,u,w][l],green:255*[u,w,w,B,d,d][l],blue:255*[d,d,u,w,w,B][l]}},r=m.Color=new JS.Class("Color",{extend:{toUnitRange:h,rgbToHsv:p,hsvToRgb:g,toHex:a,rgbToHex:e,cleanChannelValue:f,getRedChannel:d=>(16711680&d)>>16,getGreenChannel:d=>
(65280&d)>>8,getBlueChannel:d=>255&d,makeColorFromNumber:c,makeColorFromHexString:d=>{if(d){d.startsWith("#")||(d="#"+d);if(4===d.length){const u=d.substring(1,2),w=d.substring(2,3);d=d.substring(3,4);d="#"+u+u+w+w+d+d}return c(parseInt(d.substring(1),16))}},makeColorFromHSV:(d,u,w)=>{d=g(d,u,w);return c(b(d.red,d.green,d.blue))},getLighterColor:(d,u)=>c(d).isLighterThan(c(u))?d:u,makeColorNumberFromChannels:b,makeBlendedColor:(d,u,w)=>new r(d.red+w*(u.red-d.red),d.green+w*(u.green-d.green),d.blue+
w*(u.blue-d.blue))},initialize:function(d,u,w){this.setRed(d);this.setGreen(u);this.setBlue(w)},setRed:function(d){this.red=f(d)},setGreen:function(d){this.green=f(d)},setBlue:function(d){this.blue=f(d)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return e(this.red,this.green,this.blue,!0)},getHSV:function(){return p(this.red,this.green,this.blue)},isLighterThan:function(d){d=this.getDiffFrom(d);return 0>d.red+d.green+d.blue},getDiffFrom:function(d){return{red:d.red-
this.red,green:d.green-this.green,blue:d.blue-this.blue}},applyDiff:function(d){return this.add(d)},add:function(d){this.setRed(this.red+d.red);this.setGreen(this.green+d.green);this.setBlue(this.blue+d.blue);return this},subtract:function(d){this.setRed(this.red-d.red);this.setGreen(this.green-d.green);this.setBlue(this.blue-d.blue);return this},multiply:function(d){this.setRed(this.red*d);this.setGreen(this.green*d);this.setBlue(this.blue*d);return this},divide:function(d){this.setRed(this.red/
d);this.setGreen(this.green/d);this.setBlue(this.blue/d);return this},clone:function(){return new r(this.red,this.green,this.blue)},equals:function(d){return d===this||d&&d.isA&&d.isA(r)&&d.red===this.red&&d.green===this.green&&d.blue===this.blue}})})(myt);
(m=>{const v=Math,q=v.max,n=v.sin,f=v.cos,a=v.pow,e=v.sqrt,c=v.PI,b=2*c,h=c/2,p={linear:l=>l,inQuad:l=>l*l,outQuad:l=>-l*(l-2),inOutQuad:l=>1>(l*=2)?l*l/2:-(--l*(l-2)-1)/2,inCubic:l=>l*l*l,outCubic:l=>--l*l*l+1,inOutCubic:l=>1>(l*=2)?l*l*l/2:((l-=2)*l*l+2)/2,inQuart:l=>l*l*l*l,outQuart:l=>-(--l*l*l*l-1),inOutQuart:l=>1>(l*=2)?l*l*l*l/2:-((l-=2)*l*l*l-2)/2,inQuint:l=>l*l*l*l*l,outQuint:l=>--l*l*l*l*l+1,inOutQuint:l=>1>(l*=2)?l*l*l*l*l/2:((l-=2)*l*l*l*l+2)/2,inSine:l=>-f(l*h)+1,outSine:l=>n(l*h),inOutSine:l=>
-(f(l*c)-1)/2,inCirc:l=>-(e(1-l*l)-1),outCirc:l=>e(1- --l*l),inOutCirc:l=>1>(l*=2)?-(e(1-l*l)-1)/2:(e(1-(l-=2)*l)+1)/2,inExpo:l=>0===l?0:a(2,10*(l-1)),outExpo:l=>1===l?1:-a(2,-10*l)+1,inOutExpo:l=>0===l||1===l?l:1>(l*=2)?a(2,10*(l-1))/2:(-a(2,-10*--l)+2)/2,inElastic:l=>0===l||1===l?l:-(a(2,10*--l)*n((1*l-.075)*b/.3)),outElastic:l=>0===l||1===l?l:a(2,-10*l)*n((1*l-.075)*b/.3)+1,inOutElastic:l=>0===l||1===l?l:1>(l*=2)?-(a(2,10*--l)*n((1*l-.1125)*b/.45))/2:a(2,-10*--l)*n((1*l-.1125)*b/.45)/2+1,inBack:(l,
x=1.70158)=>(l/=1)*l*((x+1)*l-x),outBack:(l,x=1.70158)=>(l=l/1-1)*l*((x+1)*l+x)+1,inOutBack:(l,x=1.70158)=>1>(l*=2)?l*l*(((x*=1.525)+1)*l-x)/2:((l-=2)*l*(((x*=1.525)+1)*l+x)+2)/2,inBounce:l=>1-p.outBounce(1-l),outBounce:l=>l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375,inOutBounce:l=>1>(l*=2)?p.inBounce(l)/2:(p.outBounce(l-1)+1)/2},g=m.global.idle,r=m.Color.makeColorFromHexString,d=l=>{l.__tmpFrom=!1;l.__loopCnt=l.reverse?
l.repeat-1:0;l.__prog=l.reverse?l.duration:0},u=(l,x)=>{if(l.running&&!l.paused){const I=l.reverse,H=l.duration,M=l.repeat;I&&(x*=-1);var B=l.__prog;l.__prog+=x;x=0;l.__prog>H?(x=l.__prog-H,l.__prog=H,++l.__loopCnt===M&&(x=0)):0>l.__prog&&(x=-l.__prog,l.__prog=0,0>--l.__loopCnt&&0<M&&(x=0));var y=l.target||l.parent;if(y){var A=B,C=l.relative,k=l.duration;B=l.attribute;var t=q(0,l.__prog/k);A=q(0,A/k);null==l.from&&(l.__tmpFrom=!0,l.from=C?l.__isColorAnim?"#000":0:y.get(B));A=l.easingFunction(t)-(C?
l.easingFunction(A):0);var z=C?y.get(B):l.from;k=l.to;t=y.set;if(l.__isColorAnim){var E=z;z=r(l.from);k=r(k);C=C?r(E):z;C.setRed(C.red+(k.red-z.red)*A);C.setGreen(C.green+(k.green-z.green)*A);C.setBlue(C.blue+(k.blue-z.blue)*A);C=C.getHtmlHexString()}else C=z+(k-l.from)*A;t.call(y,B,C);!I&&l.__loopCnt===M||I&&0>l.__loopCnt&&0<M?(l.setRunning(!1),l.callback&&l.callback.call(l,!0)):0<x&&(l.fireEvent("repeat",l.__loopCnt),l.__prog=I?H:0,u(l,x))}else console.log("No target for animator",l),l.setRunning(!1),
l.callback&&l.callback.call(l,!1)}},w=m.Animator=new JS.Class("Animator",m.Node,{include:[m.Reusable],extend:{easings:p,EASING:p.inOutQuad},initNode:function(l,x){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=w.EASING;this.callSuper(l,x);d(this)},setRunning:function(l){if(this.running!==l&&(this.running=l,this.inited&&this.fireEvent("running",l),!this.paused)){if(l){const x=this.target||this.parent;this.__isColorAnim=x&&"function"===typeof x.isColorAttr?
x.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),d(this);this[l?"attachTo":"detachFrom"](g,"__updateAnim","idle")}},setPaused:function(l){if(this.paused!==l&&(this.paused=l,this.inited&&this.fireEvent("paused",l),this.running))this[l?"detachFrom":"attachTo"](g,"__updateAnim","idle")},setReverse:function(l){this.reverse!==l&&(this.reverse=l,this.inited&&this.fireEvent("reverse",l),this.running||d(this))},setEasingFunction:function(l){"string"===typeof l&&(l=p[l]);l||(l=
w.EASING);this.set("easingFunction",l,!0)},setFrom:function(l){this.set("from",l,!0)},setTo:function(l){this.set("to",l,!0)},setCallback:function(l){this.callback=l},next:function(l,x){const B=this,y=B.callback;y&&!x?B.setCallback(A=>{y.call(B,A);l.call(B,A)}):B.setCallback(l)},reset:function(l){d(this);this.setRunning(!1);this.setPaused(!1);l&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=
!1;this.repeat=1;this.easingFunction=w.EASING;this.reset(!1)},__updateAnim:function(l){u(this,l.value.delta)}})})(myt);
(m=>{const v=Array.isArray,q=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},n=(a,e)=>{if(a.__transInProgress){var c=a.__deferredTransitions;c||(c=a.__deferredTransitions=[]);c.unshift(e)}else{a.__transInProgress=!0;c=e.shift();const b=e.shift();if(a.__pendingTransition)return 3;if(a.isFinished())return a.__transInProgress=!1,5;let h=a.map[a.current][b];h||=a.map["*"][b];if(h)return a.__pendingTransition=b,a.__transDestinationState=h,a.__additionalArgs=
e,a.resumeTransition(c);a.__transInProgress=!1;return 5}},f=a=>{a.__transInProgress=!1;const e=a.__deferredTransitions;if(e)for(;0<e.length;)n(a,e.pop())};m.StateMachine=new JS.Class("StateMachine",m.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,e){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";q(this);this.callSuper(a,e)},setInitialState:function(a){if(""===this.current){if(v(a)){var e=a;a=e.shift()}else e=[];this.current=
this.initial=a;this.doEnterState("","",a,e);e={name:"",from:"",to:a,args:e};this.fireEvent("enter"+a,e);this.fireEvent("enter",e);this.isFinished()&&this.fireEvent("finished",e)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(e=>this.addTransition(...e))},addTransition:function(a,e,c){e=e?v(e)?e:[e]:["*"];const b=this.map;let h=e.length;for(;h;)(b[e[--h]]||(b[e[h]]={}))[a]=c},doTransition:function(...a){a.unshift("sync");return n(this,a)},doAsyncTransition:function(...a){a.unshift("async");
return n(this,a)},resumeTransition:function(a){const e=this.__pendingTransition;if(!e)return 4;const c=this.current,b=this.__transDestinationState,h=this.__additionalArgs,p={name:e,from:c,to:b,args:h},g=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const r=this.doLeaveState(e,c,b,h);if(!1===r)return q(this),f(this),2;if("async"===r||"async"===a)return this.__transStage="enterState",g("start"+e,p),g("start",p),g("leave"+c,p),g("leave",p),f(this),3;g("start"+e,p);g("start",p);
g("leave"+c,p);g("leave",p);case "enterState":this.current=b,q(this),this.doEnterState(e,c,b,h),g("enter"+b,p),g("enter",p),g("end"+e,p),g("end",p),this.isFinished()&&g("finished",p)}f(this);return 1},doLeaveState:(a,e,c,b)=>{},doEnterState:(a,e,c,b)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return v(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==
this.map["*"][a]}})})(myt);
(m=>{const v=(a,e)=>a.replicationIndex-e.replicationIndex,q=(a,e)=>{let c=a.length,b;for(;c;)b=a[--c],b.decrementLockedCounter(),e&&b.update()},n=a=>{f(a);const e=a.template;e&&(a.__pool=new m.TrackActivesPool(e,a.parent))},f=a=>{const e=a.__pool;if(e){const c=a.parent.getLayouts();a=c;let b=a.length;for(;b;)a[--b].incrementLockedCounter();e.putActives();e.destroyPooledInstances();q(c,!1);e.destroy()}};m.Replicable=new JS.Module("Replicable",{include:[m.Reusable],replicate:function(a,e){this.replicationData=
a;this.replicationIndex=e},notify:(a,e)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,e){return e===this.replicationIndex&&a===this.replicationData}});m.Replicator=new JS.Class("Replicator",m.Node,{initNode:function(a,e){this.callSuper(a,e);n(this);this.doReplication()},destroy:function(){f(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(m.Replicable)?a:null)||m.dumpStack("Template not replicable");this.inited&&
(n(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let e;if(a){e=this.parent.getLayouts();for(var c=e.length;c;)e[--c].incrementLockedCounter();const b=(c=this.data)?c.length:0,h=a.getActives(),p=h.length,g=[];let r=p,d,u;for(h.sort(v);r;)if(d=h[--r],u=d.replicationIndex,u>=b||!d.alreadyHasReplicationData(c[u],u))g[u]=d;for(r=g.length;r;)(d=g[--r])&&
a.putInstance(d);for(r=0;b>r;++r)(r>=p||null!=g[r])&&a.getInstance().replicate(c[r],r);for(r=e.length;r;)e[--r].sortSubviews(v);q(e,!0)}},notify:function(a,e){var c=this.__pool;if(c){c=c.getActives();let b=c.length;for(;b;)c[--b].notify(a,e)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(m=>{let v,q,n;const f=[],a=[],e=h=>{const p=n;p!==h&&(p&&(p.notifyDragLeave(q),q.destroyed||q.notifyDragLeave(p),v("dragLeave",p)),n=h)&&(h.notifyDragEnter(q),q.destroyed||q.notifyDragEnter(h),v("dragEnter",p))},c=h=>{let p=q;if(p!==h){q=h;let g,r,d=u=>{u[g](p)};h?(p=h,g="notifyDragStart",r="startDrag"):(g="notifyDragStop",r="stopDrag");b(p,a).forEach(d);b(p,f).forEach(d);v(r,h)}},b=(h,p)=>{if(h.destroyed)return[];if(h.acceptAnyDragGroup())return p;const g=[];h=h.getDragGroups();let r=p.length;for(;r;){const d=
p[--r];if(d.acceptAnyDragGroup())g.push(d);else{const u=d.getDragGroups();for(const w in h)if(u[w]){g.push(d);break}}}return g};new JS.Singleton("GlobalDragManager",{include:[m.Observable],initialize:function(){m.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>q,registerAutoScroller:h=>{f.push(h)},unregisterAutoScroller:h=>{let p=f.length;for(;p;)if(f[--p]===h){f.splice(p,1);break}},registerDropTarget:h=>{a.push(h)},unregisterDropTarget:h=>{let p=a.length;for(;p;)if(a[--p]===
h){a.splice(p,1);break}},startDrag:h=>{c(h)},stopDrag:(h,p,g)=>{p.notifyDropped(n,g);n&&!g&&n.notifyDrop(p);e();c();n&&!g&&v("drop",[p,n])},updateDrag:(h,p)=>{const g=b(p,a);let r=g.length,d;if(0<r){var u=h.value;h=u.pageX;for(u=u.pageY;r;){let w=g[--r];w.willAcceptDrop(p)&&p.willPermitDrop(w)&&w.isPointVisible(h,u)&&(!d||w.isInFrontOf(d))&&(d=w)}}e(d)}})})(myt);
(m=>{const v=JS.Module,q=m.global,n=q.mouse,f=q.keys,a=q.idle,e=m.AccessorSupport.defAttr;m.Activateable=new v("Activateable",{doActivated:()=>{}});m.UpdateableUI=new v("UpdateableUI",{initNode:function(c,b){this.callSuper(c,b);this.updateUI()},updateUI:()=>{}});m.Disableable=new v("Disableable",{initNode:function(c,b){e(b,"disabled",!1);this.callSuper(c,b)},setDisabled:function(c){c=this.valueFromEvent(c);this.disabled!==c&&(this.disabled=c,this.inited&&this.fireEvent("disabled",c),this.doDisabled())},
doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});m.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[13,32]},initNode:function(c,b){this.activateKeyDown=-1;e(b,"activationKeys",m.KeyActivation.ACTIVATION_KEYS);this.callSuper(c,b);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur",
"blur")},setActivationKeys:function(c){this.activationKeys=c},setRepeatKeyDown:function(c){this.repeatKeyDown=c},__hndlKeyDown:function(c){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const b=m.KeyObservable.getKeyCodeFromEvent(c),h=this.activationKeys;let p=h.length;for(;p;)if(b===h[--p]){this.activateKeyDown===b?this.doActivationKeyDown(b,!0):(this.activateKeyDown=b,this.doActivationKeyDown(b,!1));c.value.preventDefault();break}}},__hndlKeyPress:function(c){if(!this.disabled){const b=
m.KeyObservable.getKeyCodeFromEvent(c);if(this.activateKeyDown===b){const h=this.activationKeys;let p=h.length;for(;p;)if(b===h[--p]){c.value.preventDefault();break}}}},__hndlKeyUp:function(c){if(!this.disabled){const b=m.KeyObservable.getKeyCodeFromEvent(c);if(this.activateKeyDown===b){const h=this.activationKeys;let p=h.length;for(;p;)if(b===h[--p]){this.activateKeyDown=-1;this.doActivationKeyUp(b);c.value.preventDefault();break}}}},__doDomBlur:function(c){this.disabled||(c=this.activateKeyDown,
-1!==c&&(this.activateKeyDown=-1,this.doActivationKeyAborted(c)))},doActivationKeyDown:(c,b)=>{},doActivationKeyUp:function(c){this.doActivated()},doActivationKeyAborted:c=>{}});m.MouseOver=new v("MouseOver",{initNode:function(c,b){e(b,"mouseOver",!1);this.callSuper(c,b);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(c){this.mouseOver!==c&&(this.mouseOver=c,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,
this.attachTo(a,"__doMouseOverOnIdle","idle")))},setDisabled:function(c){this.callSuper(c);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const c=this.mouseOver;this.__lastOverIdleValue!==c&&(this.__lastOverIdleValue=c,this.doSmoothMouseOver(c))},doSmoothMouseOver:function(c){this.inited&&this.updateUI&&this.updateUI()},
doMouseOver:function(c){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(c){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});m.MouseDown=new v("MouseDown",{initNode:function(c,b){e(b,"mouseDown",!1);this.callSuper(c,b);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(c){this.mouseDown!==c&&(this.mouseDown=c,this.inited&&(c&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},
setDisabled:function(c){c&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(c)},doMouseOver:function(c){this.callSuper(c);this.mouseDown&&this.detachFromDom(n,"doMouseUp","mouseup",!0)},doMouseOut:function(c){this.callSuper(c);!this.disabled&&this.mouseDown&&this.attachToDom(n,"doMouseUp","mouseup",!0)},doMouseDown:function(c){this.disabled||this.setMouseDown(!0)},doMouseUp:function(c){this.mouseOver||this.detachFromDom(n,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),
this.mouseOver&&this.doMouseUpInside(c))},doMouseUpInside:function(c){this.doActivated&&this.doActivated()}});m.MouseOverAndDown=new v("MouseOverAndDown",{include:[m.MouseOver,m.MouseDown]});m.Draggable=new v("Draggable",{initNode:function(c,b){let h=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(h=b.isDraggable,delete b.isDraggable);this.callSuper(c,b);this.setIsDraggable(h)},setIsDraggable:function(c){if(this.isDraggable!==
c){this.isDraggable=c;let b;c?b=this.attachToDom:this.inited&&(b=this.detachFromDom);if(b){c=this.getDragViews();let h=c.length;for(;h;){const p=c[--h];b.call(this,p,"__doMouseDown","mousedown");b.call(this,p,"__doContextMenu","contextmenu")}}}},setIsDragging:function(c){this.set("isDragging",c,!0)},setDragOffsetX:function(c,b){this.dragOffsetX!==c&&(this.dragOffsetX=c,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDragOffsetY:function(c,b){this.dragOffsetY!==c&&(this.dragOffsetY=
c,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(c){this.distanceBeforeDrag=c},setDraggableAllowBubble:function(c){this.draggableAllowBubble=c},setCenterOnMouse:function(c){this.centerOnMouse=c},setAllowAbort:function(c){this.allowAbort=c},getDragViews:function(){return[this]},__doContextMenu:c=>{},__doMouseDown:function(c){const b=m.MouseObservable.getMouseFromEvent(c),h=this.getODE();this.dragInitX=b.x-h.offsetLeft;this.dragInitY=b.y-h.offsetTop;
this.attachToDom(n,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(n,"__doDragCheck","mousemove",!0):this.startDrag(c);c.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(c){this.isDragging?this.stopDrag(c,!1):(this.detachFromDom(n,"__doMouseUp","mouseup",!0),this.detachFromDom(n,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(c){27===c.value&&this.stopDrag(c,!0)},__doDragCheck:function(c){const b=m.MouseObservable.getMouseFromEvent(c);
m.Geometry.measureDistance(b.x,b.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(m.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(c))},startDrag:function(c){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(f,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(n,"updateDrag","mousemove",!0);this.updateDrag(c)},updateDrag:function(c){this.__lastMousePosition=
m.MouseObservable.getMouseFromEvent(c);this.reRequestDragPosition()},__updateDragInitX:function(c){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(c){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(c,b){this.detachFromDom(n,"__doMouseUp","mouseup",!0);this.detachFromDom(n,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(f,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(c,b){this.disabled||(this.setX(c),this.setY(b))},reRequestDragPosition:function(){const c=this.__lastMousePosition;this.requestDragPosition(c.x-this.dragInitX+this.dragOffsetX,c.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(m=>{const v=JS.Class;var q=JS.Module;const n=m.View,f=m.AccessorSupport.defAttr,a=(c,b,h)=>{b="padding"+b;c.getIDS()[b]=(c[b]=h)+"px"};var e=m.Button=new q("Button",{include:[m.Activateable,m.UpdateableUI,m.Disableable,m.MouseOverAndDown,m.KeyActivation],extend:{FOCUS_SHADOW:[0,0,7,"#666"],DISABLED_OPACITY:.5},initNode:function(c,b){f(b,"focusable",!0);f(b,"cursor","pointer");this.callSuper(c,b)},setFocused:function(c){const b=this.focused;this.callSuper(c);this.inited&&this.focused!==b&&this.updateUI()},
doActivationKeyDown:function(c,b){b||this.updateUI()},doActivationKeyUp:function(c){this.callSuper(c);this.updateUI()},doActivationKeyAborted:function(c){this.callSuper(c);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const c=this.__restoreCursor;c&&(this.setCursor(c),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?
this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});q=m.SimpleButtonStyle=new q("SimpleButtonStyle",{include:[e],setActiveColor:function(c){this.activeColor!==c&&(this.activeColor=c,this.inited&&
this.updateUI())},setHoverColor:function(c){this.hoverColor!==c&&(this.hoverColor=c,this.inited&&this.updateUI())},setReadyColor:function(c){this.readyColor!==c&&(this.readyColor=c,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(c,b=1){this.setOpacity(b);this.setBgColor(c)}});e=m.SimpleButton=
new v("SimpleButton",n,{include:[q],initNode:function(c,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(c,b)}});m.SimpleTextButton=new v("SimpleTextButton",e,{initNode:function(c,b){this.inset=this.outset=0;f(b,"shrinkToFit",!1);f(b,"height",24);f(b,"textY","middle");this.callSuper(c,b);c=this.textY;b={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof c?b.valign=c:b.y=c;c=new m.Text(this,
b);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",c,"visible",c,"width",c,"height",c,"y"])},setInset:function(c){this.set("inset",this.valueFromEvent(c),!0)},setOutset:function(c){this.set("outset",this.valueFromEvent(c),!0)},setText:function(c){this.text!==c&&(this.text=c,this.inited&&(this.textView.setText(c),this.fireEvent("text",c)))},setShrinkToFit:function(c){const b=this.textView;this.shrinkToFit!==c&&(this.shrinkToFit=c,this.inited&&(b&&b.setWhiteSpace(c?
"nowrap":"normal"),this.fireEvent("shrinkToFit",c)))},setTextY:function(c){const b=this.textView;this.textY!==c&&(this.textY=c,this.inited&&(this.fireEvent("textY",c),"string"===typeof c?b.setValign(c):(b.setValign(""),b.setY(c))))},__updateContent:function(c){if(!this.__updateContentLoopBlock&&!this.destroyed){c=this.inset;const b=this.outset,h=this.textView;this.__updateContentLoopBlock=!0;h.setX(c);this.shrinkToFit?this.setWidth(c+(h.visible&&this.text?h.width:0)+b):h.setWidth(this.width-c-b);
this.__updateContentLoopBlock=!1}}});m.TextButton=new v("TextButton",n,{include:[q,m.SizeToDom,m.TextSupport],initNode:function(c,b){f(b,"focusIndicator",!1);f(b,"roundedCorners",3);f(b,"textAlign","center");f(b,"paddingTop",1);f(b,"height",23-(b.paddingTop||0));f(b,"activeColor","#ddd");f(b,"hoverColor","#eee");f(b,"readyColor","#fff");this.callSuper(c,b)},setPaddingLeft:function(c){a(this,"Left",c)},setPaddingRight:function(c){a(this,"Right",c)},setPaddingTop:function(c){a(this,"Top",c)},setPaddingBottom:function(c){a(this,
"Bottom",c)}})})(myt);
(m=>{const v=m.global,q=v.focus,n=v.mouse,f={};m.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>f[a]},initNode:function(a,e){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,e)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,e,c){a=a||this.floatingPanelId;c=c||{};c.panelId=a;return f[a]=new e(null,c)},getFloatingPanel:function(a){return f[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const e=this.getFloatingPanel(a=a||this.floatingPanelId);e&&e.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;if(a&&a.isShown())return a;if(this.callSuper)return this.callSuper()},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});m.FloatingPanel=new JS.Class("FloatingPanel",m.View,{include:[m.RootView],initNode:function(a,e){a=document.createElement("div");a.style.position="absolute";m.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;e.visible=e.focusIndicator=!1;e.focusable=e.focusCage=!0;this.callSuper(a,e)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var e=a.value;a=e.pageX;e=e.pageY;this.containsPoint(a,e)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,e)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(q.focusedView))this.owner[(q.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(a);else{const e=this.getFirstFocusableDescendant();e===this?this.callSuper(a):e.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&q.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(n,"__doMouseDown","mousedown",!0),this.attachTo(q,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(n,"__doMouseDown","mousedown",!0),this.detachFrom(q,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const e=this.panelId,c=a.getFloatingAlignForPanelId(e),b=a.getFloatingValignForPanelId(e),h=a.getPagePosition();let p=0,g=0,r=typeof c;if("string"===r)switch(p=h.x+a.getFloatingAlignOffsetForPanelId(e),c){case "outsideRight":p+=a.width;break;case "insideRight":p+=a.width-this.width;
break;case "outsideLeft":p-=this.width;break;case "insideLeft":break;default:console.warn("Invalid align value",r,c)}else"number"===r?p=c:console.warn("Invalid align type",r,c);this.setX(p);r=typeof b;if("string"===r)switch(g=h.y+a.getFloatingValignOffsetForPanelId(e),b){case "outsideBottom":g+=a.height;break;case "insideBottom":g+=a.height-this.height;break;case "outsideTop":g-=this.height;break;case "insideTop":break;default:console.warn("Invalid valign value",r,b)}else"number"===r?g=b:console.warn("Invalid valign type",
r,b);this.setY(g)}})})(myt);
(m=>{const v=JS.Class,q=JS.Module,n=m.global.focus,f=m.AccessorSupport.defAttr,a=[13,27,32,37,38,39,40],e=b=>{var h=b.itemConfig||[];const p=h.length,g=b.items,r=g.length;var d=b.defaultItemClass;const u=b.getContentView(),w=u.getLayouts();w.forEach(C=>{C.incrementLockedCounter()});const l=u.getODE(),x=l.nextSibling,B=l.parentNode;B.removeChild(l);let y=0;for(;p>y;++y){var A=h[y];const C=A.klass||d;A=A.attrs||{};let k=g[y];k&&!k.isA(C)&&(k.destroy(),k=null);k||=g[y]=new C(u,{listView:b});k&&(k.callSetters(A),
k.__LAYOUT_IDX=y)}B.insertBefore(l,x);h=b.minWidth;for(y=0;p>y;)d=g[y++],d.syncToDom(),h=Math.max(h,d.getMinimumWidth());for(;r>y;)g[y++].destroy();g.length=p;for(y=0;p>y;)b.updateItemWidth(g[y++],h);b.updateContentWidth(u,h);w.forEach(C=>{C.sortSubviews((k,t)=>k.__LAYOUT_IDX-t.__LAYOUT_IDX);C.decrementLockedCounter();C.update()})},c=m.ListViewItemMixin=new q("ListViewItemMixin",{setListView:function(b){this.listView=b},getMinimumWidth:()=>0,syncToDom:()=>{}});m.ListView=new v("ListView",m.FloatingPanel,
{initNode:function(b,h){this.items=[];this.maxHeight=-1;this.minWidth=0;f(h,"defaultItemClass",m.ListViewItem);f(h,"overflow","autoy");f(h,"bgColor","#ccc");f(h,"boxShadow",m.Button.FOCUS_SHADOW);this.callSuper(b,h);e(this);this.buildLayout(this.getContentView())},buildLayout:b=>{new m.SpacedLayout(b,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(b){this.minWidth=b},setDefaultItemClass:function(b){this.defaultItemClass=b},setItemConfig:function(b){this.itemConfig=b;this.inited&&e(this)},
getContentView:function(){return this},setMaxHeight:function(b){this.maxHeight!==b&&(this.maxHeight=b,this.inited&&(this.fireEvent("maxHeight",b),this.setHeight(this.height)))},setHeight:function(b,h){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,b):b,h)},doItemActivated:function(b){this.owner&&this.owner.doItemActivated(b)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const b=this.items,h=b.length;for(let p=
0;h>p;){const g=b[p++];if(g.isFocusable())return g}},getLastFocusableItem:function(){const b=this.items;let h=b.length;for(;h;){const p=b[--h];if(p.isFocusable())return p}},updateItemWidth:(b,h)=>{b.setWidth(h)},updateContentWidth:(b,h)=>{b.setWidth(h)}});m.ListViewAnchor=new q("ListViewAnchor",{include:[m.FloatingPanelAnchor],initNode:function(b,h){f(h,"listViewClass",m.ListView);f(h,"listViewAttrs",{});f(h,"itemConfig",[]);f(h,"activationKeys",a);this.callSuper(b,h)},setListViewClass:function(b){this.listViewClass=
b},setListViewAttrs:function(b){this.listViewAttrs=b},setItemConfig:function(b){this.itemConfig=b},doItemActivated:function(b){this.hideFloatingPanel()},getFloatingPanel:function(b){return this.callSuper(b)||this.createFloatingPanel(b,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(b){const h=this.getFloatingPanel(b);h&&(h.setItemConfig(this.itemConfig),this.callSuper(b))},doActivationKeyDown:function(b,h){if(27===b)this.hideFloatingPanel();else{switch(b){case 37:case 38:this.selectLastItem();
break;case 39:case 40:this.selectFirstItem()}this.callSuper(b,h)}},doActivationKeyUp:function(b){if(27!==b)switch(this.callSuper(b),b){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getLastFocusableItem())&&b.focus()},selectFirstItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getFirstFocusableItem())&&b.focus()}});m.ListViewItem=new v("ListViewItem",m.SimpleTextButton,
{include:[c],initNode:function(b,h){f(h,"activeColor","#bbb");f(h,"hoverColor","#fff");f(h,"readyColor","#eee");f(h,"inset",8);f(h,"outset",8);f(h,"activationKeys",a);this.callSuper(b,h)},syncToDom:function(){this.textView.getIDS().width="auto";this.textView.sizeViewToDom()},getMinimumWidth:function(){return this.inset+(this.textView.visible&&this.text?Math.ceil(this.textView.measureNoWrapWidth()):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(b,
h){switch(b){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:n.prev();break;case 39:case 40:n.next()}this.callSuper(b,h)}});m.ListViewSeparator=new v("ListViewSeparator",m.View,{include:[c],initNode:function(b,h){f(h,"height",1);f(h,"bgColor","#666");this.callSuper(b,h)}})})(myt);
(m=>{const v=m.AccessorSupport,q={},n=m.BAG=new JS.Class("BAG",{include:[v,m.Destructible,m.Observable],extend:{getGroup:(f,a)=>{if(f&&a){const e=q[f]||(q[f]={});return e[a]||(e[a]=new n(f,a))}},removeGroup:(f,a)=>{if(f&&a&&(f=q[f])){const e=f[a];e&&delete f[a];return e}}},initialize:function(f,a){this.__nodes=[];this.trueNode=null;this.attrName=f;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&n.removeGroup(this.attrName,this.groupId);this.__nodes.length=
0;this.detachAllObservers();this.callSuper()},setGroupId:function(f){this.set("groupId",f,!0)},setAttrName:function(f){this.set("attrName",f,!0)},setTrueNode:function(f){this.set("trueNode",f,!0)},getNodes:function(){return this.__nodes},register:function(f){f&&!this.isRegistered(f)&&(this.__nodes.push(f),f[this.attrName]&&this.setTrue(f))},unregister:function(f){if(f){const a=this.__nodes;let e=a.length;for(;e;)if(f===a[--e]){a.splice(e,1);break}this.trueNode===f&&this.setTrueNode(null);0===a.length&&
this.destroy()}},setTrue:function(f){if(f&&this.trueNode!==f&&this.isRegistered(f)){const a=this.attrName,e=v.generateSetterName(a),c=this.__nodes;let b=c.length;for(this.setTrueNode(f);b;){const h=c[--b];if(f===h){if(!h[a])h[e](!0)}else if(h[a])h[e](!1)}}},setFalse:function(f){f&&this.trueNode===f&&(f[v.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(f){const a=this.__nodes;let e=a.length;for(;e;)if(f===a[--e])return!0;return!1}});m.BAGMembership=new JS.Module("BAGMembership",
{initNode:function(f,a){this.__bags=[];this.callSuper(f,a)},destroy:function(){const f=this.__bags;let a=f.length;for(;a;){const e=f[--a];this.removeFromBAG(e.attrName,e.groupId)}this.callSuper()},isRegisteredWithBAG:function(f){const a=this.__bags;let e=a.length;for(;e;)if(a[--e]===f)return!0;return!1},getBAG:(f,a)=>n.getGroup(f,a),addToBAG:function(f,a){a=this.getBAG(f,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,"__updateForBAG",f)||this.attachTo(this,
"__updateForBAG",f))},removeFromBAG:function(f,a){a=this.getBAG(f,a);if(this.isRegisteredWithBAG(a)){const e=this.__bags;let c=e.length,b=!0;for(;c;){const h=e[--c];h===a?(e.splice(c,1),a.unregister(this)):h.attrName===f&&(b=!1)}b&&this.detachFrom(this,"__updateForBAG",f)}},__updateForBAG:function(f){this.__bags.forEach(a=>{if(a.attrName===f.type)a[f.value?"setTrue":"setFalse"](this)})}})})(myt);
(m=>{const v=m.AccessorSupport.defAttr,q=n=>{const f=n.label||"";n.setText('<i class="far fa-'+(!0===n.selected?"dot-":"")+'circle"></i>'+(0<f.length?" ":"")+f)};m.Radio=new JS.Class("Radio",m.Text,{include:[m.SimpleButtonStyle,m.BAGMembership],initNode:function(n,f){v(f,"selected",!1);null==f.groupId&&(f.groupId=m.generateGuid());v(f,"focusIndicator",!1);v(f,"activeColor","inherit");v(f,"hoverColor","inherit");v(f,"readyColor","inherit");const a=f.value;delete f.value;this.callSuper(n,f);this.setValue(a);
this.selected&&(n=this.getBAG("selected",this.groupId))&&n.setTrue(this);m.FontAwesome.registerForNotification(this);q(this)},setOptionValue:function(n){this.set("optionValue",n,!0)},setValue:function(n){if(this.inited){const f=this.getBAG("selected",this.groupId);if(f){const a=f.getNodes();let e=a.length;for(;e;){const c=a[--e];if(c.optionValue===n){f.setTrue(c);break}}}}},getValue:function(){var n=this.getBAG("selected",this.groupId);return(n=n?n.trueNode:null)?n.optionValue:null},setSelected:function(n){this.selected!==
n&&(this.selected=n,this.inited&&(this.fireEvent("selected",n),q(this)))},setGroupId:function(n){if(this.groupId!==n){const f=this.groupId;this.groupId=n;f&&this.removeFromBAG("selected",f);n&&this.addToBAG("selected",n);this.inited&&this.fireEvent("groupId",n)}},setLabel:function(n){this.label!==n&&(this.set("label",n,!0),this.inited&&q(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(n,f=1){this.setOpacity(f);this.setTextColor(n)}})})(myt);
(m=>{const v=JS.Module,q=m.global.keys,n=m.Selectable=new v("Selectable",{setSelected:function(a){a=this.valueFromEvent(a);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return!!this.selected},canSelect:a=>!0,canDeselect:a=>!0}),f=m.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>q.isShiftKeyDown(),isToggleMode:()=>q.isAcceleratorKeyDown()},initNode:function(a,e){this.__selected={};this.__lastSelectedItem=null;
e.selectedCount=0;this.defAttr(e,"itemSelectionId","id");this.defAttr(e,"maxSelected",-1);this.callSuper(a,e)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>f.isAddMode(),isToggleMode:()=>f.isToggleMode(),getSelected:function(){const a=[],e=this.__selected;for(const c in e)a.push(e[c]);return a},select:function(a){a&&
!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const e=this.maxSelected,c=this.selectedCount;if(0===e)return!1;if(1===e){if(0<c&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<e&&c>=e)return!1;return a.canSelect(this)},
selectAll:function(){const a=this.getSelectableItems();let e=a.length;for(;e;)this.select(a[--e])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},
deselectAll:function(){const a=this.__selected;for(const e in a)this.deselect(a[e])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],e=this.getSubviews();let c=e.length;for(;c;){const b=e[--c];b.isA(n)&&a.push(b)}return a},getSelectableItems:function(){const a=this.getManagedItems();let e=a.length;for(;e;)a[--e].canSelect(this)||a.splice(e,1);return a},getSelectableItem:function(a){const e=
this.getSelectableItems(),c=this.itemSelectionId;let b=e.length;for(;b;){const h=e[--b];if(h[c]===a)return h}}})})(myt);
(m=>{const v=JS.Class,q=m.View,n=m.SizeToParent,f=m.AccessorSupport.defAttr,a=m.TabSlider=new v("TabSlider",q,{include:[m.Selectable,m.Disableable,n],extend:{ANIMATION_MILLIS:500},initNode:function(c,b){const h=this;let p;b.defaultPlacement="wrapper.container";b.percentOfParentWidth=100;b.expansionState="collapsed";null==b.tabId&&(b.tabId=m.generateGuid());f(b,"tabContainer",c);f(b,"selected",!1);f(b,"buttonClass",m.SimpleButton);f(b,"zIndex",0);f(b,"buttonHeight",30);f(b,"fillColorSelected","#666");
f(b,"fillColorHover","#eee");f(b,"fillColorActive","#ccc");f(b,"fillColorReady","#fff");f(b,"minContainerHeight",100);b.selected&&(p=!0,delete b.selected);h.callSuper(c,b);new h.buttonClass(h,{name:"button",ignorePlacement:!0,zIndex:1,height:h.buttonHeight,focusIndicator:!0,groupId:h.parent.parent.groupId,percentOfParentWidth:100,hoverColor:h.fillColorHover,activeColor:h.fillColorActive,readyColor:h.fillColorReady},[n,{doActivated:()=>{const g=h.tabContainer;h.isSelected()&&1!==g.maxSelected?g.deselect(h):
g.select(h)},updateUI:function(){this.callSuper();h.selected&&-1!==h.tabContainer.maxSelected&&this.setBgColor(h.fillColorSelected);h.notifyButtonRedraw()}}]);c=new q(h,{name:"wrapper",ignorePlacement:!0,y:h.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[n,{setHeight:function(g,r){this.callSuper(Math.round(g),r)},setWidth:function(g,r){this.callSuper(g,r);this.inited&&this.container.setWidth(g)}}]);new m.SizeToChildren(new q(c,{name:"container"}),{axis:"y"});
h.constrain("__updateHeight",[c,"y",c,"height"]);p&&h.tabContainer.select(h);!0===b.disabled&&h.setDisabled(!0);h.setHeight(h.getCollapsedHeight())},setSelected:function(c){this.callSuper(c);this.button&&this.button.updateUI()},setTabId:function(c){this.tabId=c},setTabContainer:function(c){this.tabContainer=c},setMinContainerHeight:function(c){this.minContainerHeight=c},setButtonClass:function(c){this.buttonClass=c},setFillColorSelected:function(c){this.fillColorSelected=c},setFillColorHover:function(c){this.fillColorHover=
c},setFillColorActive:function(c){this.fillColorActive=c},setFillColorReady:function(c){this.fillColorReady=c},setButtonHeight:function(c){this.buttonHeight!==c&&(this.buttonHeight=c,this.button&&(this.button.setHeight(c),this.wrapper.setY(c)))},setExpansionState:function(c){if(this.expansionState!==c){this.expansionState=c;this.inited&&this.fireEvent("expansionState",c);const b=this.wrapper;b&&("expanded"===c?(b.setMaskFocus(!1),b.setOverflow("auto")):"expanding"===c?b.setVisible(!0):"collapsed"===
c?b.setVisible(!1):"collapsing"===c&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){const c=this.button;c&&c.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(c){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(c){const b=this,h=b.wrapper;c-=b.getCollapsedHeight();b.setExpansionState("expanding");h.stopActiveAnimators();h.height!==c?h.animate({attribute:"height",to:c,duration:a.ANIMATION_MILLIS}).next(p=>{b.setExpansionState("expanded")}):
b.setExpansionState("expanded")},collapse:function(){const c=this,b=c.wrapper;c.setExpansionState("collapsing");b.stopActiveAnimators();0!==b.height?b.animate({attribute:"height",to:0,duration:a.ANIMATION_MILLIS}).next(h=>{c.setExpansionState("collapsed")}):c.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+
this.wrapper.container.height}});m.TextTabSlider=new v("TextTabSlider",a,{initNode:function(c,b){f(b,"labelTextColorChecked","#fff");f(b,"labelTextColor","#333");this.callSuper(c,b);new m.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(c){this.labelTextColorChecked=c},setLabelTextColor:function(c){this.labelTextColor=c},setText:function(c){if(this.text!==
c){this.text=c;const b=this.button;b&&b.label&&b.label.setText(c)}},notifyButtonRedraw:function(){const c=this.button.label;c&&c.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});const e=m.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[m.SelectionManager],extend:{SPACING:1},initNode:function(c,b){const h=this;h._tabSliders=[];b.defaultPlacement="container";f(b,"spacing",
e.SPACING);f(b,"overflow","autoy");f(b,"itemSelectionId","tabId");f(b,"maxSelected",1);h.updateLayout=m.debounce(h.updateLayout);h.callSuper(c,b);c=new q(h,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[n,{subnodeAdded:function(p){this.callSuper(p);p instanceof a&&(h._tabSliders.push(p),h.attachTo(p,"updateLayout","selected"))},subnodeRemoved:function(p){if(p instanceof a){const g=h._tabSliders;let r=g.length;for(;r;)if(g[--r]===p){h.detachFrom(p,"updateLayout","selected");g.splice(r,
1);break}}this.callSuper(p)}}]);new m.SpacedLayout(c,{name:"layout",axis:"y",spacing:h.spacing,collapseParent:!0});h.attachTo(h,"updateLayout","height")},setSpacing:function(c){this.spacing!==c&&(this.spacing=c,this.layout&&this.layout.setSpacing(c))},updateLayout:function(c){c=this._tabSliders;for(var b=c.length,h=b,p=0,g=0,r=0;h;){var d=c[--h];d.visible&&(++r,d.selected?(p+=d.getMinimumExpandedHeight(),g+=d.getPreferredExpandedHeight()):(d=d.getCollapsedHeight(),p+=d,g+=d))}h=this.container.layout;
r=h.inset+h.outset+h.spacing*(r-1);g+=r;h=this.height;p=p+r>h;r=g>h;g-=h;for(h=b;h;)if(b=c[--h],b.visible)if(b.selected){if(p)d=b.getMinimumExpandedHeight();else if(r){const u=b.getPreferredExpandedHeight(),w=b.getMinimumExpandedHeight();d=u-g;w>d?(g-=u-w,d=w):g=0}else d=b.getPreferredExpandedHeight();b.expand(d)}else b.collapse()}})})(myt);
(m=>{const v=m.AccessorSupport.defAttr,q=a=>{const e=[];switch(a.tabContainer.location){case "top":e.push("TopLeft","TopRight");break;case "bottom":e.push("BottomLeft","BottomRight");break;case "left":e.push("TopLeft","BottomLeft");break;case "right":e.push("TopRight","BottomRight")}e.forEach(c=>{a["setRounded"+c+"Corner"](a.cornerRadius||0)})},n=m.Tab=new JS.Class("Tab",m.SimpleTextButton,{include:[m.Selectable],extend:{INSET:8,OUTSET:8},initNode:function(a,e){null==e.tabId&&(e.tabId=m.generateGuid());
v(e,"tabContainer",a);let c;e.selected&&(c=!0,delete e.selected);v(e,"inset",n.INSET);v(e,"outset",n.OUTSET);v(e,"selectedColor","#fff");v(e,"hoverColor","#eee");v(e,"activeColor","#aaa");v(e,"readyColor","#ccc");v(e,"labelTextSelectedColor","#333");v(e,"height",24);v(e,"focusIndicator",!1);v(e,"cornerRadius",6);this.callSuper(a,e);c&&this.tabContainer.select(this);q(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(a){this.tabId=a},
setTabContainer:function(a){this.tabContainer=a},setSelectedColor:function(a){this.selectedColor=a},setLabelTextColor:function(a){this.labelTextColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&q(this)},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}}),f=m.TabContainer=new JS.Module("TabContainer",{include:[m.SelectionManager],extend:{SPACING:1,INSET:0},initNode:function(a,e){this.__tabs=[];v(e,"spacing",f.SPACING);v(e,"inset",f.INSET);v(e,"location","top");v(e,"itemSelectionId","tabId");v(e,"maxSelected",1);this.callSuper(a,e);new m.SpacedLayout(this,{name:"layout",axis:"left"===this.location||
"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(n))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(n)){const e=this.__tabs;let c=e.length;for(;c;)if(e[--c]===a){e.splice(c,1);break}}this.callSuper(a)}})})(myt);
(m=>{const v=JS.Class,q=Math.min,n=Array.isArray,f=m.SizeToDom;var a=m.View,e=m.Disableable;const c=m.AccessorSupport.defAttr,b=m.Button.FOCUS_SHADOW,h=(d,u,w)=>{d[w]!==u&&(d[w]=u,d.getIDS()[w]=u+"px",d.inited&&(d.fireEvent(w,u),d.sizeViewToDom()))},p=(d,u,w)=>{d[u]!==w&&(d.getIDE()[u]=d[u]=w,d.inited&&d.fireEvent(u,w))},g=m.NativeInputWrapper=new v("NativeInputWrapper",a,{include:[e,m.InputObservable],initNode:function(d,u){c(u,"tagName","input");c(u,"focusable",!0);this.callSuper(d,u);this.addDomClass("mytNativeInput")},
createOurDomElement:function(d){d=this.callSuper(d);this.inputType&&((n(d)?d[1]:d).type=this.inputType);return d},setDisabled:function(d){this.disabled!==d&&(this.getIDE().disabled=d,this.callSuper(d))},setValue:function(d){this.value!==d&&(this.value=d,this.setDomValue(d),this.inited&&this.fireEvent("value",d))},getDomValue:function(){return this.getIDE().value},setDomValue:function(d){const u=this.getIDE();u.value!==d&&(u.value=d)}}),r=m.InputSelectOption=new v("InputSelectOption",a,{include:[e,
m.Selectable],createOurDomElement:d=>document.createElement("option"),setSelected:function(d){d=this.valueFromEvent(d);const u=this.getIDE();u.selected!==d&&(u.selected=d)},setDisabled:function(d){this.disabled!==d&&(this.getIDE().disabled=d,this.callSuper(d))},setValue:function(d){p(this,"value",d)},setLabel:function(d){this.label!==d&&(this.getIDE().textContent=this.label=d,this.inited&&this.fireEvent("label",d))},isSelected:function(){return this.getIDE().selected},canSelect:function(d){return!this.disabled&&
!this.getIDE().selected&&this.parent===d},canDeselect:function(d){return!this.disabled&&this.getIDE().selected&&this.parent===d}});a=m.BaseInputText=new v("BaseInputText",g,{include:[m.TextSupport],initNode:function(d,u){c(u,"bgColor","transparent");c(u,"spellcheck",!1);this.callSuper(d,u);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(d){this.callSuper(d);this.setValue(d)},setSpellcheck:function(d){p(this,
"spellcheck",d)},setMaxLength:function(d){p(this,"maxLength",null==d||0>d?void 0:d)},setAllowedChars:function(d){this.allowedChars=d},setPlaceholder:function(d){p(this,"placeholder",d)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(b)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(d){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(d){d=d.value;const u=this.allowedChars;
u&&-1===u.indexOf(String.fromCharCode(d.which))&&d.preventDefault();this.filterInputPress(d)},filterInput:d=>d,filterInputPress:d=>{},__syncToDom:function(d){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const d=document.selection.createRange();d.moveStart("character",-this.getDomValue().length);return d.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(d,u){if(null==u||d===u){if(this.getCaretPosition()===d)return;u=d}var w=this.getIDE();
w.setSelectionRange?w.setSelectionRange(d,u):w.createTextRange&&(w=w.createTextRange(),w.collapse(!0),w.moveEnd("character",u),w.moveStart("character",d),w.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const d=this.getIDE();return{start:d.selectionStart,startElem:d,end:d.selectionEnd,endElem:d}},setSelection:function(d){d&&this.setCaretPosition(d.start,
d.end)},saveSelection:function(d){this._selRange=d||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});e=m.InputText=new v("InputText",a,{include:[m.SizeHeightToDom],initNode:function(d,u){this.inputType=!0===u.password?"password":"text";this.callSuper(d,u);this.setCaretToEnd()},setPassword:function(d){this.password=d}});m.EditableText=new v("EditableText",a,{include:[f],initNode:function(d,u){c(u,"tagName","div");u.inputType=null;c(u,"whiteSpace",
"pre");c(u,"contentEditable",!0);this.callSuper(d,u);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(d){h(this,d,"minWidth")},setMinHeight:function(d){h(this,d,"minHeight")},setPadding:function(d){this.setPaddingTop(d);this.setPaddingRight(d);this.setPaddingBottom(d);this.setPaddingLeft(d)},setPaddingTop:function(d){h(this,d,"paddingTop")},setPaddingRight:function(d){h(this,
d,"paddingRight")},setPaddingBottom:function(d){h(this,d,"paddingBottom")},setPaddingLeft:function(d){h(this,d,"paddingLeft")},setContentEditable:function(d){p(this,"contentEditable",d)},filterInputPress:function(d){const u=this.maxLength;0<=u&&this.getCharacterCount()===u&&d.preventDefault();this.callSuper(d)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(d){const u=this.getIDE();u.innerHTML!==d&&(u.innerHTML=d,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(d){13===
m.KeyObservable.getKeyCodeFromEvent(d)&&(d.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(d){this.callSuper(d);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const d=this.getIDE().firstChild;return d?d.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const d=this.getSelection();return d?
d.end:0},setCaretPosition:function(d,u){if(null==u||d===u){if(this.getCaretPosition()===d)return;u=d}this.saveSelection({start:d,startElem:this.getIDE().firstChild,end:u,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(d){this.saveSelection();return!0},getSelection:function(){let d;if(window.getSelection){const u=window.getSelection();if(0<u.rangeCount){if(u.extentNode===this.getIDE())return;d=u.getRangeAt(0)}}else document.selection&&
(d=document.selection.createRange());return{start:d?d.startOffset:0,startElem:d?d.startContainer:this.getIDE().firstChild,end:d?d.endOffset:0,endElem:d?d.endContainer:this.getIDE().firstChild}},setSelection:function(d){if(d){const u=d.startElem,w=d.endElem;if(u&&u.parentNode&&w&&w.parentNode){const l=document.createRange();l.setStart(u,q(d.start,u.length));l.setEnd(w,q(d.end,w.length));window.getSelection?(d=window.getSelection(),0<d.rangeCount&&d.removeAllRanges(),d.addRange(l)):document.selection&&
l.select()}}}});m.InputTextArea=new v("InputTextArea",a,{initNode:function(d,u){c(u,"tagName","textarea");u.inputType=null;c(u,"resize","none");c(u,"wrap","soft");this.callSuper(d,u)},setResize:function(d){this.resize!==d&&(this.resize=this.getIDS().resize=d||"none",this.inited&&this.fireEvent("resize",d))},setWrap:function(d){p(this,"wrap",d)}});m.ComboBox=new v("ComboBox",e,{include:[m.Activateable,m.KeyActivation,m.ListViewAnchor],initNode:function(d,u){this.filterItems=!0;c(u,"activationKeys",
[13,27,38,40]);c(u,"bgColor","#fff");c(u,"borderWidth",1);c(u,"borderStyle","solid");c(u,"floatingAlignOffset",u.borderWidth);c(u,"listViewAttrs",{maxHeight:99});c(u,"fullItemConfig",[]);this.callSuper(d,u)},setFullItemConfig:function(d){this.fullItemConfig=d},setFilterItems:function(d){this.filterItems=d},__syncToDom:function(d){const u=this.value;this.callSuper(d);u!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(d){const u=this.getFloatingPanel(d);if(u){let l;if(this.filterItems){l=
[];var w=this.value;w=null==w?"":(""+w).toLowerCase();const x=this.fullItemConfig,B=x.length;for(let y=0;B>y;){const A=x[y++],C=A.attrs.text.toLowerCase(),k=C.indexOf(w);0===k?C!==w&&l.push(A):0<k&&l.push(A)}}else l=this.fullItemConfig;0<l.length?(u.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(l),this.callSuper(d)):this.hideFloatingPanel(d)}},doItemActivated:function(d){this.setValue(d.text);this.callSuper(d)},doActivated:function(){this.toggleFloatingPanel()}});m.InputSelect=new v("InputSelect",
g,{include:[f],initNode:function(d,u){c(u,"tagName","select");u.inputType=null;c(u,"multiple",!1);c(u,"size",u.multiple?4:1);this.callSuper(d,u);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(d){p(this,"multiple",d)},setSize:function(d){p(this,"size",d)},setOptions:function(d){this.destroyAllOptions();n(d)&&d.forEach(u=>{this.addOption(u)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(d){n(d)&&m.areArraysEqual(d,this.value)||
this.value===d||(this.value=d,this.inited&&this.fireEvent("value",d))},subviewAdded:function(d){d instanceof r||(m.dumpStack("Subview unsupported. Destroying it"),d.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(b)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(d=>d.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(d=>
d.value)},getOptionForValue:function(d){return this.getOptions().find(u=>u.value===d)},addOption:function(d){return new r(this,d)},destroyAllOptions:function(){this.getOptions().forEach(d=>{d.destroy()})},destroyOptionWithValue:function(d){if(d=this.getOptionForValue(d))if(d.destroy(),d.destroyed)return!0;return!1},deselectAll:function(){let d=!1;this.getOptions().forEach(u=>{u.isSelected()&&(u.setSelected(!1),d=!0)});d&&this.__doChanged()},selectValues:function(d){(n(d)?d:[d]).forEach(u=>{this.selectValue(u)})},
selectValue:function(d){this.select(this.getOptionForValue(d))},select:function(d){d&&d.canSelect(this)&&(d.setSelected(!0),this.__syncToDom())},deselectValue:function(d){this.deselect(this.getOptionForValue(d))},deselect:function(d){d&&d.canDeselect(this)&&(d.setSelected(!1),this.__syncToDom())},__doChanged:function(d){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(m=>{const v=JS.Module,q=Math.round;var n=m.ValueComponent=new v("ValueComponent",{initNode:function(a,e){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,e)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,e){const c=this.valueFilter;
this.setValueFilter(c?"last"===e?b=>a(c(b)):b=>c(a(b)):a)}});const f=m.RangeComponent=new v("RangeComponent",{include:[n],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var e=
this.value;const c=e?e.lower:void 0;e=e?e.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==c||a.upper!==e){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const b=a.lower;a.lower=a.upper;a.upper=b}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==c&&this.fireEvent("lowerValue",a.lower),a.upper!==e&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});n=m.BoundedValueComponent=new v("BoundedValueComponent",{include:[n],initNode:function(a,e){const c=this;c.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==e.snapToInt&&(e.snapToInt=!0);e.valueFilter||(e.valueFilter=b=>{var h=c.maxValue;if(null!=h&&b>h)return h;h=c.minValue;return null!=h&&b<h?h:b});c.callSuper(a,e)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=q(a));if(this.minValue!==a){const e=this.maxValue;null!=e&&a>e&&(a=e);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=q(a));if(this.maxValue!==a){const e=this.minValue;null!=e&&a<e&&(a=e);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",a),this.setValue(this.value)))}},
setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?q(a):a)}});m.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[n,f],initNode:function(a,e){const c=this;e.valueFilter||(e.valueFilter=b=>{if(b){const h=c.maxValue,p=c.minValue;null!=h&&b.upper>h&&(b.upper=h);null!=p&&b.lower<p&&(b.lower=p)}return b});c.callSuper(a,e)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=q(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=q(a.upper)));
this.callSuper(a)}})})(myt);
(m=>{const v=m.AccessorSupport.defAttr,q=n=>{const f=n.label||"";n.setText('<i class="'+("solid"===(n.checkboxStyle||"outline")?"fas":"far")+" fa-"+(n.isChecked()?"check-":"")+'square"></i>'+(0<f.length?" ":"")+f)};m.Checkbox=new JS.Class("Checkbox",m.Text,{include:[m.SimpleButtonStyle,m.ValueComponent],initNode:function(n,f){this.appendToEarlyAttrs("userUnselectable");v(f,"value",!1);v(f,"focusIndicator",!1);v(f,"checkboxStyle","outline");v(f,"activeColor","inherit");v(f,"hoverColor","inherit");
v(f,"readyColor","inherit");this.callSuper(n,f);m.FontAwesome.registerForNotification(this);q(this)},setValue:function(n){this.value!==n&&(this.callSuper(n),this.inited&&q(this))},setLabel:function(n){this.label!==n&&(this.set("label",n,!0),this.inited&&q(this))},setCheckboxStyle:function(n){this.checkboxStyle!==n&&(this.set("checkboxStyle",n,!0),this.inited&&q(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(n,f=1){this.setOpacity(f);
this.setTextColor(n)}})})(myt);
(m=>{let v;const q=JS.Class,n=JS.Module,f=m.global,a=f.focus,e=m.AccessorSupport.defAttr,c=m.KeyObservable.getKeyCodeFromEvent,b={},h=(k,t)=>{if(k){const z=k.id;k.id?t(z):m.dumpStack("No ID")}else m.dumpStack("No processor")},p=k=>{h(k,t=>{b[t]=k})},g=k=>{const t=m.BAG.getGroup("selected",k.groupId);if(t){const z=t.getNodes();k=k.value;let E=z.length;for(;E;){const I=z[--E];if(I.optionValue===k){t.setTrue(I);break}}}},r=k=>{if(k.groupId){const t=m.BAG.getGroup("selected",k.groupId);t&&k.syncTo(t,
"__syncValue","trueNode")}},d=(k,t)=>{const z=[];k.__v.forEach(E=>{t=E.isFormValid(k,null,z)&&t});k.setErrorMessages(z);k.setIsValid(t);return t},u=(k,t,z)=>{k.__vp.forEach(E=>{E[z]&&(t=E.process(t))});return t},w=m.ValueProcessor=new q("ValueProcessor",{initialize:function(k,t,z,E){this.id=k;this.runForDefault=!!t;this.runForRollback=!!z;this.runForCurrent=!!E},process:k=>k}),l=m.ToNumberValueProcessor=new q("ToNumberValueProcessor",w,{process:k=>{if(null==k||""===k||"-"===k)return k;const t=Number(k);
return isNaN(t)?k:t}}),x=m.TrimValueProcessor=new q("TrimValueProcessor",w,{initialize:function(k,t,z,E,I){this.callSuper(k,t,z,E);this.trim=I},process:function(k){k+="";switch(this.trim){case "start":case "left":return k.trimStart();case "end":case "right":return k.trimEnd();default:return k.trim()}}}),B=m.UndefinedValueProcessor=new q("UndefinedValueProcessor",w,{initialize:function(k,t,z,E,I){this.callSuper(k,t,z,E);this.defaultValue=I},process:function(k){return void 0===k?this.defaultValue:k}}),
y=m.Form=new n("Form",{initNode:function(k,t){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(k,t);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(k){this.errorMessages=k},getFullId:function(){const k=[this.id];let t=this.form;for(;t&&t.id;)k.unshift(t.id),t=t.form;return k.join(".")},setId:function(k){if(this.id!==k){const t=this.id;this.id=k;
(k=this.form)&&this.inited&&(k.removeSubForm(t),k.addSubForm(this))}},setForm:function(k){if(this.form!==k){const t=this.form;this.form=k;t&&t.removeSubForm(this.id);k&&this.inited&&k.addSubForm(this)}},setIsValid:function(k){this.isValid=k;this.inited&&this.fireEvent("isValid",k);const t=this.form;t&&!this._lockCascade&&(k?t.verifyValidState(this):t.notifySubFormInvalid())},setIsChanged:function(k){if(this.isChanged!==k){this.isChanged=k;this.inited&&this.fireEvent("isChanged",k);const t=this.form;
t&&!this._lockCascade&&(k?t.notifySubFormChanged():t.verifyChangedState(this))}},setValidators:function(k){let t=k.length;for(;t;){const z=k[--t];"string"===typeof z&&(k[t]=f.validators.getValidator(z),k[t]||k.splice(t,1))}this.__v=k},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(A))return this.value;const k={},t=this.__sf;for(const z in t)k[z]=t[z].getValue();return k},setValue:function(k){this.callSuper&&this.callSuper(k);if("object"===typeof k&&!this.isA(A))for(const t in k){const z=
this.getSubForm(t);z?k[t]=z.setValue(k[t]):console.warn("ID in setValue for missing subform",t)}this.form&&this.form.notifyValueChanged(this);return k},getDefaultValue:function(){const k={};let t=this.__sf;for(const z in t)k[z]=t[z].getDefaultValue();return k},setDefaultValue:function(k){if("object"===typeof k)for(const t in k){const z=this.getSubForm(t);z?k[t]=z.setDefaultValue(k[t]):console.warn("ID in setDefaultValue for missing subform",t)}return k},getRollbackValue:function(){const k={},t=this.__sf;
for(const z in t)k[z]=t[z].getRollbackValue();return k},setRollbackValue:function(k){if("object"===typeof k)for(const t in k){const z=this.getSubForm(t);z?k[t]=z.setRollbackValue(k[t]):console.warn("ID in setRollbackValue for missing subform",t)}return k},addAccelerator:function(k,t){this.__acc[k]=t},removeAccelerator:function(k){delete this.__acc[k]},invokeAccelerator:function(k,t){(k=this.__acc[k])&&k.call(this,null==t?null:t)},addValidator:function(k){k&&this.__v.push(k)},removeValidator:function(k){if(k){const t=
this.__v;let z=t.length;for(;z;){const E=t[--z];if(E.id===k)return t.splice(z,1),E}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(k){const t=k.id;null!=this.getSubForm(t)?console.warn("ID in use for subform, add aborted",t,k):(k.setForm(this),this.__sf[t]=k,k.isChanged&&this.notifySubFormChanged(),k.isValid||this.notifySubFormInvalid())},removeSubForm:function(k){const t=this.getSubForm(k);t&&(t.setForm(null),delete this.__sf[k],this.verifyChangedState(),
this.verifyValidState());return t},getSubForm:function(k){return this.__sf[k]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(k){k&&this.doValidation();const t=[];(function I(E){if(E.isA(A))E.isValid||t.push(E.getFullId());else{E=E.getSubForms();for(const H in E)I(E[H])}})(this);return t},getAllErrorMessages:function(){const k=this.__sf;let t=(this.errorMessages||[]).concat();for(const z in k)t=t.concat(k[z].getAllErrorMessages());return t},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(k){const t=this.__sf;let z=!0;for(const E in t){const I=t[E];I!==k&&(z=I.isValid&&z)}return d(this,z)},doValidation:function(){const k=this.__sf;let t=!0;for(const z in k)t=k[z].doValidation()&&t;this._lockCascade=!0;t=d(this,t);this._lockCascade=!1;return t},notifyValueChanged:function(k){this.form&&this.form.notifyValueChanged(k)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(k){const t=this.__sf;let z=!1;for(const E in t){const I=t[E];
I!==k&&(z=I.isChanged||z)}this.setIsChanged(z);return z},setup:function(k,t,z){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==k&&(k={});null==t&&(t={});null==z&&(z={});const E=this.__sf;for(const I in E)E[I].setup(k[I],t[I],z[I])},resetForm:function(){this._lockCascade=!0;const k=this.__sf;for(const t in k)k[t].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=
!0;const k=this.__sf;for(const t in k)k[t].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const k={},t=this.__sf;for(const z in t){const E=t[z];E.isChanged&&(k[z]=E.getChangedValue())}return k}}),A=m.FormElement=new n("FormElement",{include:[y],initNode:function(k,t){this.__vp=[];this.callSuper(k,t)},getValue:function(){return u(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(k){void 0===
k&&(k=this.getRollbackValue());this.value!==k&&(this.callSuper(k),this.verifyChangedState());return k},getDefaultValue:function(){return u(this,this.defaultValue,"runForDefault")},setDefaultValue:function(k){this.defaultValue!==k&&(this.defaultValue=k,this.inited&&this.fireEvent("defaultValue",k),this.verifyChangedState());return k},getRollbackValue:function(){return u(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(k){void 0===k&&(k=this.getDefaultValue());this.rollbackValue!==
k&&(this.rollbackValue=k,this.inited&&this.fireEvent("rollbackValue",k),this.verifyChangedState());return k},setValueProcessors:function(k){let t=k.length;for(;t;){const z=k[--t];"string"===typeof z&&(k[t]=b[z],k[t]||k.splice(t,1))}this.__vp=k},addValueProcessor:function(k){this.__vp.push(k)},removeValueProcessor:function(k){if(k){const t=this.__vp;let z=t.length;for(;z;){const E=t[--z];if(E.id===k)return t.splice(z,1),E}}},addSubForm:k=>{m.dumpStack("addSubForm unsupported on FormElement")},getSubForm:k=>
{m.dumpStack("getSubForm unsupported on FormElement")},removeSubForm:k=>{m.dumpStack("removeSubForm unsupported on FormElement")},verifyChangedState:function(k){k=this.getValue()!==this.getRollbackValue();this.setIsChanged(k);return k},setup:function(k,t,z){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(k);this.setRollbackValue(t);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(z)},resetForm:function(){this._lockCascade=
!0;const k=this.getDefaultValue();this.setRollbackValue(k);this.setValue(k);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),C=m.FormInputTextMixin=new n("FormInputTextMixin",{include:[A,m.UpdateableUI],initNode:function(k,
t){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";e(t,"bgColor","#fff");e(t,"borderWidth",1);e(t,"borderStyle","solid");e(t,"borderStyle",!0);this.callSuper(k,t);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(k){this.validateWhen=
k},setAcceleratorScope:function(k){this.acceleratorScope=k},setErrorColor:function(k){this.errorColor=k},setActionRequiredColor:function(k){this.actionRequiredColor=k},setNormalColor:function(k){this.normalColor=k},setIsChanged:function(k){this.callSuper(k);this.inited&&this.updateUI()},setIsValid:function(k){this.callSuper(k);this.inited&&this.updateUI()},setValue:function(k){k=this.callSuper(k);const t=this.validateWhen;"key"!==t&&"blurWithKeyFix"!==t||this.verifyValidState();return k},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__hndlKeyDown:function(k){13===c(k)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(k){27===c(k)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const k=this.validateWhen;"blur"!==k&&"blurWithKeyFix"!==
k||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});m.RootForm=new n("RootForm",{include:[y],initNode:function(k,t){this.callSuper(k,t);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:k=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();
this.doValidation()}});m.FormCheckbox=new q("FormCheckbox",m.Checkbox,{include:[A],initNode:function(k,t){this.rollbackValue=this.defaultValue=!1;this.callSuper(k,t)}});m.FormComboBox=new q("FormComboBox",m.ComboBox,{include:[A,m.UpdateableUI],initNode:function(k,t){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(k,t);this.addValueProcessor(v);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",
this.doReject)},setValidateWhen:function(k){this.validateWhen=k},setAcceleratorScope:function(k){this.acceleratorScope=k},setErrorColor:function(k){this.errorColor=k},setActionRequiredColor:function(k){this.actionRequiredColor=k},setNormalColor:function(k){this.normalColor=k},setIsChanged:function(k){this.callSuper(k);this.inited&&this.updateUI()},setIsValid:function(k){this.callSuper(k);this.inited&&this.updateUI()},setValue:function(k){k=this.callSuper(k);const t=this.validateWhen;"key"!==t&&"blurWithKeyFix"!==
t||this.verifyValidState();return k},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(k){this._isShown=!0},notifyPanelHidden:function(k){this._isShown=
!1},doActivationKeyDown:function(k,t){27!==k||this._isShown?this.callSuper(k,t):this.invokeAccelerator("reject")},doActivationKeyUp:function(k){13!==k||this._isShown?this.callSuper(k):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const k=this.validateWhen;"blur"!==k&&"blurWithKeyFix"!==k||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});m.FormEditableText=new q("FormEditableText",
m.EditableText,{include:[C],__hndlKeyDown:function(k){"nowrap"===this.whitespace&&this.callSuper(k)}});m.FormInputText=new q("FormInputText",m.InputText,{include:[C]});m.FormInputTextArea=new q("FormInputTextArea",m.InputTextArea,{include:[C],__hndlKeyDown:k=>{}});m.FormInputSelect=new q("FormInputSelect",m.InputSelect,{include:[A],setValue:function(k){if(!this.__abortSetValue)return k=this.callSuper(k),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(k),this.__abortSetValue=!1,k}});m.FormRadioGroup=
new q("FormRadioGroup",m.Node,{include:[m.ValueComponent,A],initNode:function(k,t){null==t.groupId&&(t.groupId=m.generateGuid());this.callSuper(k,t);void 0!==this.value&&g(this);r(this)},setValue:function(k){k=this.callSuper(k);this.inited&&g(this);return k},setGroupId:function(k){if(this.groupId!==k){if(this.groupId){const t=m.BAG.getGroup("selected",this.groupId);t&&this.detachFrom(t,"__syncValue","trueNode")}this.groupId=k;this.inited&&r(this)}},__syncValue:function(k){k=k.value;this.setValue(k?
k.optionValue:null)}});m.UseOtherFieldIfEmptyValueProcessor=new q("UseOtherFieldIfEmptyValueProcessor",w,{initialize:function(k,t,z,E,I){this.callSuper(k,t,z,E);this.otherField=I},process:function(k){return null==k||""===k?this.otherField.getValue():k}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){p(v=new B("undefToEmpty",!0,!0,!0,""));p(new l("toNumber",!0,!0,!0));p(new x("trimLeft",!0,!0,!0,"left"));p(new x("trimRight",!0,!0,!0,"right"));p(new x("trimBoth",!0,!0,!0,"both"));
f.register("valueProcessors",this)},getValueProcessor:k=>b[k],register:p,unregister:k=>{h(k,t=>{b[t]&&delete b[t]})}})})(myt);
(m=>{const v=JS.Class,q=Math.round,n={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},f=(b,h)=>{b[h](b,"doDragOver","dragover",!1);b[h](b,"doDragEnter","dragenter",!1);b[h](b,"doDragLeave","dragleave",!1);b[h](b,"doDrop","drop",!1)},a=m.DragDropSupport=new JS.Module("DragDropSupport",{include:[m.DragDropObservable],initNode:function(b,h){this.callSuper(b,h);this.disabled||this.setupDragListeners()},setDisabled:function(b){this.disabled!==b&&(this.getIDE().disabled=b,this.callSuper(b),
this.inited&&(b?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){f(this,"attachToDom")},teardownDragListeners:function(){f(this,"detachFromDom")},doDragOver:b=>{},doDragEnter:b=>{},doDragLeave:b=>{},doDrop:function(b){this.handleFiles(b.value.dataTransfer.files,b)},handleFiles:function(b,h){if(void 0!==b){let p=b.length;for(;p;){const g=this.filterFiles(b[--p]);g&&this.handleDroppedFile(g,h)}}else m.dumpStack("No File API")},filterFiles:b=>b,handleDroppedFile:(b,
h)=>{}}),e=m.Uploader=new v("Uploader",m.View,{include:[a,m.Disableable,m.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(b,h)=>{if(void 0!==FileReader){const p=new FileReader;p.onload=h;p.readAsDataURL(b)}},isSameFile:(b,h)=>null!=b&&null!=h&&b.name===h.name&&b.type===h.type&&b.size===h.size,createFile:b=>{const h=(new m.URI(b)).file;return{name:h,serverPath:b,size:-1,type:n[m.getExtension(h)]}}},initNode:function(b,h){const p=this;p.files=[];p.defAttr(h,"requestFileParam","file");
p.defAttr(h,"maxFiles",-1);p.callSuper(b,h);new m.NativeInputWrapper(p,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:p.disabled,overflow:"hidden"},[m.SizeToParent,{initNode:function(g,r){this.inputType="file";this.callSuper(g,r);this.attachToDom(this,"_hndlInput","change");this.getIDE().multiple=1<p.maxFiles},_hndlInput:function(g){p.handleFiles(this.getIDE().files,g)}}])},setValue:function(b){this.clearFiles();b&&(Array.isArray(b)||(b=[b]),b.forEach(h=>
{this.addFile(e.createFile(h))}));return this.callSuper?this.callSuper(b):b},getValue:function(){return this.value},setDisabled:function(b){this.callSuper(b);this.fileInput&&this.fileInput.setDisabled(b)},setMaxFiles:function(b){this.maxFiles!==b&&(this.maxFiles=b,this.inited&&this.fireEvent("maxFiles",b),this.fileInput&&(this.fileInput.getIDE().multiple=1<b))},setUploadUrl:function(b){this.set("uploadUrl",b,!0)},setRequestFileParam:function(b){this.set("requestFileParam",b,!0)},bringSubviewToFront:function(b){b===
this.fileInput?this.callSuper(b):this.sendSubviewBehind(b,this.fileInput)},subviewAdded:function(b){this.callSuper(b);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(b,h){this.addFile(b)},filterFiles:function(b){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:b},uploadFiles:function(b,h){b=b||this.uploadUrl;const p=this.files;let g=p.length;for(;g;)this.uploadFile(p[--g],b,h)},uploadFile:function(b,h,p){const g=this,r=new FormData;r.append(p||g.requestFileParam,
b,b.name);m.doFetch(h||g.uploadUrl,{method:"POST",body:r},!1,d=>{g.handleUploadSuccess(b,d)},d=>{g.handleUploadFailure(b,d)})},handleUploadSuccess:function(b,h){b[e.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(b,h);this.updateValueFromFiles()},handleUploadFailure:(b,h)=>{m.dumpStack("Upload failure:"+h.status+":"+h.message)},parseServerPathFromResponse:(b,h)=>null,addFile:function(b){this.files.push(b);this.updateValueFromFiles();this.fireEvent("addFile",b)},removeFile:function(b){const h=
this.files;let p=h.length;for(;p;)if(e.isSameFile(h[--p],b)){h.splice(p,1);this.updateValueFromFiles();this.fireEvent("removeFile",b);break}},updateValueFromFiles:function(){const b=[];var h=this.files;let p=h.length;for(;p;){const g=h[--p][e.FILE_ATTR_SERVER_PATH];g&&b.push(g)}h=b.length;this.value=1===h?b[0]:0===h?void 0:b;this.value||(this.fileInput.getIDE().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const b=
this.files;let h=b.length;for(;h;)this.removeFile(b[--h])}}),c=m.ImageUploader=new v("ImageUploader",e,{extend:{isImageFile:b=>/image/i.test(b.type)},initNode:function(b,h){h.maxFiles=1;this.callSuper(b,h)},setWidth:function(b,h){this.callSuper(b,h);this.inited&&this.updateImageSize()},setHeight:function(b,h){this.callSuper(b,h);this.inited&&this.updateImageSize()},filterFiles:function(b){if(c.isImageFile(b)){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(b)}},addFile:function(b){const h=
this;h.callSuper(b);const p=h.image=new m.Image(h,{useNaturalSize:!1,align:"center",valign:"middle"});p.file=b;const g=r=>{const d=new Image;d.onload=()=>{b.width=d.width;b.height=d.height;p&&!p.destroyed&&h.updateImage(b,p,d.src)};d.src=r};-1===b.size?g(b.serverPath):void 0!==FileReader&&c.isImageFile(b)&&e.readFile(b,r=>{g(r.target.result)})},scaleToFit:(b,h,p,g)=>p/g>b/h?[b,g*b/p]:[p*h/g,h],removeFile:function(b){this.callSuper(b);const h=this.getSubviews();let p=h.length;for(;p;){const g=h[--p];
if(e.isSameFile(g.file,b)){g.destroy();break}}},handleDroppedFile:function(b,h){this.callSuper(b,h);this.uploadFile(b,this.uploadUrl)},updateImage:function(b,h,p){this.nativeWidth=b.width;this.nativeHeight=b.height;this.updateImageSize();h.setImageUrl(p)},updateImageSize:function(){const b=this.image;if(b&&!b.destroyed){var h=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const p=q(h[0]);h=q(h[1]);b.setImageSize(p+"px "+h+"px");b.setWidth(p);b.setHeight(h)}},getImageSize:function(){return this.files.length?
{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(m=>{const v=(q,n,f)=>{const a=q.axis;f=f.bind(q);"y"!==a&&(f(n,"update","x"),f(n,"update","boundsWidth"));"x"!==a&&(f(n,"update","y"),f(n,"update","boundsHeight"));f(n,"update","visible")};m.SizeToChildren=new JS.Class("SizeToChildren",m.Layout,{initNode:function(q,n){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(q,n)},setAxis:function(q){this.axis!==q&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=q,this.startMonitoringAllSubviews(),this.fireEvent("axis",q),this.update()):
this.axis=q)},setPaddingX:function(q){this.paddingX!==q&&(this.paddingX=q,this.inited&&(this.fireEvent("paddingX",q),this.update()))},setPaddingY:function(q){this.paddingY!==q&&(this.paddingY=q,this.inited&&(this.fireEvent("paddingY",q),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const n=this.parent;if(!n.isBeingDestroyed){const f=this.subviews;var q=f.length;const a=this.axis;let e,c;if("y"!==a){e=q;for(c=0;e;){const b=f[--e];b.visible&&(c=Math.max(c,b.x+
(0<b.boundsWidth?b.boundsWidth:0)))}n.setWidth(c+this.paddingX)}if("x"!==a){e=q;for(c=0;e;)q=f[--e],q.visible&&(c=Math.max(c,q.y+(0<q.boundsHeight?q.boundsHeight:0)));n.setHeight(c+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(q){v(this,q,this.attachTo)},stopMonitoringSubview:function(q){v(this,q,this.detachFrom)}})})(myt);
(m=>{const v=JS.Class,q=m.SizeToParent,n=m.View,f=m.RootView,a=m.AccessorSupport.defAttr,e=m.Dimmer=new v("Dimmer",n,{include:[q],extend:{OPACITY:.35,COLOR:"#000"},initNode:function(b,h){const p=this;p.restoreFocus=!0;h.focusable=h.focusCage=!0;a(h,"percentOfParentWidth",100);a(h,"percentOfParentHeight",100);a(h,"visible",!1);a(h,"ignoreLayout",!0);p.callSuper(b,h);new n(p,{name:"overlay",ignorePlacement:!0,opacity:e.OPACITY,bgColor:e.COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[q]);
"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(g=>{p.attachDomObserver(p,"eatMouseEvent",g)});f.setupCaptureDrop(p)},destroy:function(){f.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(b){this.restoreFocus=b},eatMouseEvent:b=>!0,show:function(){const b=m.global.focus;this.prevFocus=b.focusedView||b.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(b){this.visible&&(this.setVisible(!1),!b&&this.restoreFocus&&
this.prevFocus&&this.prevFocus.focus())}}),c=m.ModalPanel=new v("ModalPanel",e,{extend:{PADDING_X:20,PADDING_Y:15,MARGIN_TOP:40,MARGIN_LEFT:40,MARGIN_BOTTOM:40,MARGIN_RIGHT:40},initNode:function(b,h){const p={name:"content",ignorePlacement:!0},g=Object.assign({},p,{align:"center",valign:"middle"});this.defaultPlacement="content";a(h,"sizingStrategy","children");a(h,"marginTop",c.MARGIN_TOP);a(h,"marginLeft",c.MARGIN_LEFT);a(h,"marginBottom",c.MARGIN_BOTTOM);a(h,"marginRight",c.MARGIN_RIGHT);a(h,"paddingX",
c.PADDING_X);a(h,"paddingY",c.PADDING_Y);this.callSuper(b,h);switch(this.sizingStrategy){case "children":new m.SizeToChildren(new n(this,g),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new n(this,Object.assign(p,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[q]);break;case "basic":new n(this,
g);break;default:new n(this,p)}},setSizingStrategy:function(b){this.sizingStrategy=b},setMarginTop:function(b){this.marginTop=b},setMarginLeft:function(b){this.marginLeft=b},setMarginBottom:function(b){this.marginBottom=b},setMarginRight:function(b){this.marginRight=b},setPaddingX:function(b){this.paddingX=b},setPaddingY:function(b){this.paddingY=b}})})(myt);
(m=>{const v=n=>{n[n.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},q=n=>{const f=n.size,a=n.getIDS();n.setWidth(f);n.setHeight(f);a.width=a.height=f-2*n.borderWidth+"px"};m.Spinner=new JS.Class("Spinner",m.View,{initNode:function(n,f){this.lateAttrs=["spinColor"];const a=this.defAttr;a(f,"visible",!1);a(f,"borderWidth",5);a(f,"borderColor","#fff");a(f,"borderStyle","solid");a(f,"spinColor","#000");this.callSuper(n,f);this.getIDS().borderRadius="50%";q(this);v(this)},setSize:function(n){this.size!==
n&&(this.size=n,this.inited&&q(this))},setSpinColor:function(n){this.spinColor!==n&&(this.getIDS().borderTopColor=this.spinColor=n,this.inited&&this.fireEvent("spinColor",n))},setBorderWidth:function(n){this.borderWidth!==n&&(this.callSuper(n),this.inited&&q(this))},setVisible:function(n){this.visible!==n&&(this.callSuper(n),this.inited&&v(this))}})})(myt);
(m=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),q=a=>{if(Array.isArray(a)){let e=a.length;if(0<e){a.unshift("fa");e++;a[1].startsWith("fa-")||(a[1]="fa-"+a[1]);3<=e&&(a[2]=v[a[2]]||"");if(3<e)for(let c=3;e>c;c++)a[c].startsWith("fa-")||(a[c]="fa-"+a[c]);return'<i class="'+a.join(" ")+'"></i>'}}m.dumpStack("Error making tag");console.error(a);return""},n=a=>{let e=a.properties;e=e?"string"===typeof e?e.split(" "):e.concat():[];e.unshift(a.icon,a.size);a.setHtml(q(e))},f=a=>{["Free 400","Free 900",
"Brands 400"].forEach(e=>{m.registerForFontNotification(a,"Font Awesome 5 "+e)})};m.FontAwesome=new JS.Class("FontAwesome",m.Markup,{extend:{makeTag:q,registerForNotification:f},initNode:function(a,e){this.size=0;this.icon="";this.callSuper(a,e);n(this);f(this)},setIcon:function(a){const e=this.icon;this.set("icon",a,!0);this.inited&&e!==a&&n(this)},setSize:function(a){const e=this.size;this.set("size",a,!0);this.inited&&e!==a&&n(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&n(this)}});m.loadCSSFonts(["https://use.fontawesome.com/releases/v5.0.8/css/all.css"])})(myt);
(m=>{let v,q,n,f,a=0,e=0,c=0,b=[],h,p,g,r,d,u,w,l,x,B,y,A,C,k,t,z,E,I,H,M,V,ca,P,Y;const aa=JS.Class,R=m.View,ha=m.Text,W=m.ModalPanel,ra=m.SizeToChildren,ya=m.SpacedLayout,za=m.SelectionManager,la=m.Color,Aa=m.LocalStorage,sa=m.Button,ia=m.TextButton,Ba=m.Draggable,ja=m.FontAwesome.makeTag,X=m.AccessorSupport.defAttr,da=Object.assign,Z=Math.min,ba=Math.max,ea=[1,"solid","#333"],Ca=[1,"solid","#999"],ta=[1,"solid","#fff"],Ia=new aa("DialogButton",ia,{initNode:function(D,G){X(G,"height",17);X(G,"paddingTop",
3);X(G,"paddingLeft",10);X(G,"paddingRight",10);X(G,"activeColor","#bbb");X(G,"hoverColor","#ddd");X(G,"readyColor","#ccc");G.domClass="mytButtonText";this.callSuper(D,G)}}),Ja=ja(["check"]),ua={},Da=new aa("Swatch",R,{include:[sa],initNode:function(D,G){G.width=G.height=16;G.border=Ca;this.callSuper(D,G);this.bgColor===f&&(D=la.makeColorFromHexString(f),new m.Text(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>D.red+D.green+D.blue?"#fff":"#000"}))},setBgColor:function(D){this.callSuper(D);
this.setTooltip(D)},doActivated:function(){v.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(ea)},drawReadyState:function(){this.setBorder(Ca)}}),Ka=m.ColorPicker=new aa("ColorPicker",R,{initNode:function(D,G){v=this;n=G.color||"transparent";delete G.color;h=G.palette||[];h.forEach(F=>{ua[F]=!0});delete G.palette;q="transparent"===n;v.callSuper(D,G);p=new R(v,{width:160,height:170});new m.WrappingLayout(p,{spacing:4,lineSpacing:4});g=new R(v,{x:170,width:139,height:139,border:ea},
[Ba,{requestDragPosition:function(F,K){g.callSuper(g.x,g.y);const J=this.getPagePosition();e=parseFloat(ba(0,Z(1,(F+this.dragInitX-J.x)/this.width)));c=parseFloat(1-ba(0,Z(1,(K+this.dragInitY-J.y)/this.height)));q=!1;v.updateUI()}}]);D=new R(g,{width:139,height:139});G=new R(D,{width:139,height:139});D.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";G.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";r=new R(G,{width:6,height:6,bgColor:"#000",
border:ta,roundedCorners:4});d=new R(v,{x:315,y:30,width:24,height:109,border:ea},[Ba,{requestDragPosition:function(F,K){this.callSuper(d.x,d.y);a=parseFloat(ba(0,Z(1,(K+this.dragInitY-this.getPagePosition().y)/this.height)));q=!1;v.updateUI()}}]);d.getIDS().background="linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";u=new R(d,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new R(v,{x:315,width:24,height:24,border:ea,tooltip:"Set to transparent.",
domClass:"mytCheckerboardPattern"},[sa,{doActivated:()=>{v.setColor("transparent")}}]);w=new m.InputText(v,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:ea,maxLength:11});v.attachToDom(w,"_submitInput","blur");v.attachToDom(w,"_handleKeyDown","keydown");w.getIDS().paddingLeft="6px";D=new R(v,{x:170,y:146,width:60,height:23,border:ea});new R(D,{width:30,height:23,focusIndicator:!1,bgColor:n,domClass:q?"mytCheckerboardPattern":""},[sa,{doActivated:()=>{v.setColor(n)}}]);
l=new R(D,{x:30,width:30,height:23},[{setBgColor:function(F){this.callSuper(F);this[("transparent"===F?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(D=Aa.getItem("myt.default"))b=D.split(";"),b.forEach(F=>{ua[F]=!0});v.setColor(n)},_handleKeyDown:D=>{13===m.KeyObservable.getKeyCodeFromEvent(D)&&v._submitInput()},_submitInput:()=>{v.setColor(w.value)},addToPalette:D=>{D&&"transparent"!==D&&!ua[D]&&(b.unshift(D),b.length=Z(b.length,56),Aa.setItem("myt.default",b.join(";")))},setColor:D=>
{D&&"transparent"!==D?(D=la.makeColorFromHexString(D).getHSV(),a=D.h/360,e=D.s,c=D.v,q=!1):q=!0;v.updateUI()},getColor:()=>q?"transparent":la.makeColorFromHSV(360*a,100*e,100*c).getHtmlHexString(),updateUI:()=>{const D=!q;u.setVisible(D);r.setVisible(D);D&&(r.setX(ba(0,Z(1,e)*(g.width+2))-5),r.setY(ba(0,Z(1,1-c)*(g.height+2))-5),u.setY(a*(d.height-2)-1));g.setBgColor(la.makeColorFromHSV(360*a,100,100).getHtmlHexString());f=v.getColor();w.setValue(f);l.setBgColor(f);v.redrawPalette()},redrawPalette:m.debounce(()=>
{const D=p.getSubviews();let G=D.length;for(;G;)D[--G].destroy();h.forEach(F=>{new Da(p,{bgColor:F})});b.forEach(F=>{new Da(p,{bgColor:F})})},50)}),va=D=>{D=D.split(":");return[ba(0,Z(23,parseInt(D[0]))),ba(0,Z(60,parseInt(D[1])))]},Ea=D=>{D.deselectAll();D=D.getSubviews();let G=D.length;for(;G;)D[--G].destroy()},Fa=new aa("SelectableBtn",ia,{include:[m.Selectable],setSelected:function(D){this.callSuper(D);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),
this.setTextColor("#fff")):this.setTextColor()}}),La=new aa("TimeBtn",Fa,{initNode:function(D,G){G.width=y?175:49;this.callSuper(D,G)},doActivated:function(){this.callSuper();const D=this.text,G=va(D);Y.selectById(D);H.setHours(G[0]);H.setMinutes(G[1])}}),Ma=new aa("DayBtn",Fa,{initNode:function(D,G){G.width=23;G.border=ta;this.callSuper(D,G)},setData:function(D){this.data=D},setIsAnotherMonth:function(D){this.isAnotherMonth=D},setIsToday:function(D){this.isToday=D},setIsSunday:function(D){this.isSunday=
D},setIsSaturday:function(D){this.isSaturday=D},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const D=new Date(this.data);D.setHours(H.getHours());D.setMinutes(H.getMinutes());ka(D)}}),ka=D=>{D.setSeconds(0);D.setMilliseconds(0);var G=6>=C.length,F;if(G)for(F=7;F--&&!C.includes(D.getDay());)D.setDate(D.getDate()+
1);H=D;const K=Y.getODE().scrollTop;var J=new Date,L=J.getFullYear();F=J.getMonth();var O=J.getDate();J.getHours();J.getMinutes();var N=D.getFullYear(),Q=D.getMonth();const ma=D.getDate();var fa=D.getTime();J=D.getHours();D=D.getMinutes();const na=(new Date(N,Q,1)).getDay()-A,oa=(new Date(N,Q+1,0)).getDate(),wa=(new Date(N,Q,0)).getDate(),pa=new Date(N,Q,0),qa=new Date(N,Q+2,0),Na=L==N&&F==Q;if(!y){Ea(P);F=new Date(fa);const Ga=7+A;L=x.days;V.setText(N+" "+x.sep+" "+x.months[Q]);F.setMinutes(59);
F.setHours(23);F.setSeconds(59);F.setDate(0);M.setVisible(null==k||k<F.getTime());F.setMinutes(0);F.setHours(0);F.setSeconds(0);F.setDate(1);F.setMonth(Q+1);ca.setVisible(null==t||t>F.getTime());for(F=0;7>F;F++)new ha(P,{width:23,height:20,textAlign:"center",text:L[(F+Ga)%7],textColor:"#999"});F=0;let Ha=42;0>na&&(F=-7,Ha=35);L=new Date(fa);L.setHours(0);L.setMinutes(0);for(L.setSeconds(0);F<Ha;F++){var T=F+1-na;const xa=(F+Ga)%7,U=new Ma(P);na>F?(U.setText(wa+T),U.setData(pa.getFullYear()+"/"+(pa.getMonth()+
1)+"/"+(wa+T)),U.setIsAnotherMonth(!0),L.setDate(wa+T),L.setMonth(pa.getMonth()),L.setYear(pa.getFullYear())):F<na+oa?(U.setText(T),U.setData(N+"/"+(Q+1)+"/"+T),L.setDate(T),L.setMonth(Q),L.setYear(N)):(U.setText(T-oa),U.setData(qa.getFullYear()+"/"+(qa.getMonth()+1)+"/"+(T-oa)),U.setIsAnotherMonth(!0),L.setDate(T-oa),L.setMonth(qa.getMonth()),L.setYear(qa.getFullYear()));G&&!C.includes(xa)?U.setDisabled(!0):(0===xa?U.setIsSunday(!0):6===xa&&U.setIsSaturday(!0),T===ma&&(P.select(U),U.focus()),Na&&
T===O&&U.setIsToday(!0),T=new Date(L.getTime()),T.setHours(23),T.setMinutes(59),T.setSeconds(59),(null!=k&&k>T.getTime()||null!=t&&t<L.getTime())&&U.setDisabled(!0));U.updateUI()}}if(!B){G=60*E[0]+E[1];Ea(Y);O=z[0];N=z[1];for(L=new Date(fa);60*O+N<G;)fa=new La(Y,{text:("0"+O).slice(-2)+":"+("0"+N).slice(-2)}),O===J&&N===D&&Y.select(fa),L.setHours(O),L.setMinutes(N),Q=L.getTime(),(null!=k&&k>Q||null!=t&&t<Q)&&fa.setDisabled(!0),N+=I,60<=N&&(N-=60,O++);Y.scrollYTo(K)}},Oa=m.DatePicker=new aa("DatePicker",
R,{initNode:function(D,G){const F=da({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},G.opt);delete G.opt;this.callSuper(D,G);x=F.locales[F.locale||"en"];B=F.dateOnly;y=F.timeOnly;A=F.firstDayOfWeek;I=ba(5,Z(30,F.minuteInterval));C=F.allowedDays;Array.isArray(C)&&0!==C.length||(C=[0,1,2,3,4,5,6]);k=Date.parse(F.minDate);k=isNaN(k)?null:k;t=Date.parse(F.maxDate);
t=isNaN(t)?null:t;z=va(F.minTime);E=va(F.maxTime);D=new R(this,{visible:!y});F.showTodayButton&&new ia(D,{width:24,text:ja(["home"]),tooltip:x.today},[{doActivated:()=>{ka(new Date)}}]);M=new ia(D,{width:24,x:28,text:ja(["chevron-left"]),tooltip:x.prevMonth},[{doActivated:()=>{const K=(new Date(H.getFullYear(),H.getMonth(),0)).getDate();K<H.getDate()&&H.setDate(K);H.setMonth(H.getMonth()-1);ka(H);M.focus()}}]);V=new ha(D,{width:100,x:52,textAlign:"center"});ca=new ia(D,{width:24,x:152,text:ja(["chevron-right"]),
tooltip:x.nextMonth},[{doActivated:()=>{var K=(new Date(H.getFullYear(),H.getMonth()+1,0)).getDate();K<H.getDate()&&H.setDate(K);K=(new Date(H.getFullYear(),H.getMonth()+2,0)).getDate();K<H.getDate()&&H.setDate(K);H.setMonth(H.getMonth()+1);ka(H);ca.focus()}}]);P=new R(this,{y:25,width:175,height:175,visible:!y,maxSelected:1,itemSelectionId:"data"},[za]);new m.WrappingLayout(P,{spacing:2,lineInset:2,lineSpacing:3});Y=new R(this,{x:y?0:195,y:y?0:25,width:(y?175:49)+m.DomElementProxy.getScrollbarSize(),
height:y?200:175,overflow:"autoy",visible:!B,maxSelected:1,itemSelectionId:"text"},[za]);new ya(Y,{axis:"y",inset:1,spacing:3});this.setWidth(Y.visible?Y.x+Y.width:P.width);ka(F.current||new Date)},getPickedDate:()=>H}),S=m.Dialog=new aa("Dialog",W,{extend:{RADIUS:12,BUTTON_CLASS:Ia,SHADOW:[0,4,20,"#666"],BORDER:ta,BGCOLOR:"#fff",WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},
CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",
today:"Today"}},locale:"en"}},initNode:function(D,G){X(G,"buttonClass",S.BUTTON_CLASS);this.callSuper(D,G);D=this.content;D.setRoundedCorners(S.RADIUS);D.setBgColor(S.BGCOLOR);D.setBoxShadow(S.SHADOW);D.setBorder(S.BORDER);D.setFocusCage(!0);this.makeCloseButton(D)},setButtonClass:function(D){this.buttonClass=D},setCallbackFunction:function(D){this.callbackFunction=D},makeButton:function(D,G){const F=this;return new F.buttonClass(D,G,[{doActivated:function(){F.doCallback(this)}}])},makeCloseButton:function(D){return this.makeButton(D,
{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ja(["times"]),tooltip:"Close Dialog."})},hide:function(D){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(D)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const D=this.content,G=D.sizeToChildren,F=D.getSubviews();let K=
F.length;for(;K;){const J=F[--K];"closeBtn"!==J.name&&J.destroy()}D.setVisible(!0);this.overlay.setBgColor(m.Dimmer.COLOR);this.setCallbackFunction();G.setPaddingY(W.PADDING_Y);G.setPaddingX(W.PADDING_X);D.setRoundedCorners(S.RADIUS);D.setBgColor(S.BGCOLOR);D.setBoxShadow(S.SHADOW);D.setBorder(S.BORDER)},doCallback:function(D){const G=this.callbackFunction;G&&G.call(this,D.name)||this.hide()},showBlank:function(D){this.destroyContent();this.content.setVisible(!1);D&&D.bgColor&&this.overlay.setBgColor(D.bgColor);
this.show()},showMessage:function(D,G,F){const K=this.content,J=K.closeBtn;F=da({},S.WRAP_TEXT_DEFAULTS,F);this.destroyContent();this.setCallbackFunction(G);D=new ha(K,{name:"msg",text:D,whiteSpace:F.whiteSpace,wordWrap:F.wordWrap,fontWeight:F.fontWeight,x:null==F.msgX?W.PADDING_X:F.msgX,y:null==F.msgY?W.PADDING_Y:F.msgY,width:F.width});F.titleText&&(this.setupTitle(K,F.titleText),D.setY(D.y+24));this.show();!1===F.showClose?J.setVisible(!1):(J.setVisible(!0),J.focus())},showSimple:function(D,G,F,
K){F=F||{};const J=this.content,L=J.closeBtn,O=F.maxContainerHeight;this.destroyContent();F.bgColor&&J.setBgColor(F.bgColor);F.roundedCorners&&J.setRoundedCorners(F.roundedCorners);F.boxShadow&&J.setBoxShadow(F.boxShadow);F.border&&J.setBorder(F.border);J.sizeToChildren.setPaddingX(1);this.setCallbackFunction(G);G=new R(J,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(N){N>O&&(N=O);this.callSuper(N)}}]);D.call(this,G);new ra(G,{axis:"both"});this.show();L.setVisible(!0);L.focus();
F.titleText&&(this.setupTitle(J,F.titleText),G.setY(this.header.height+1));G.initialFocus&&G.initialFocus.focus();K&&K(this)},showConfirm:function(D,G,F){F=da({},S.CONFIRM_DEFAULTS,F);this.showMessage(D,G,F);this.setupFooterButtons(this.content.msg,F)},showContentConfirm:function(D,G,F,K){F=da({},S.CONFIRM_DEFAULTS,F);const J=this.content,L=J.closeBtn,O=F.maxContainerHeight;this.destroyContent();J.sizeToChildren.setPaddingX(1);this.setCallbackFunction(G);G=new R(J,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(N){this.callSuper(N>O?O:N)}}]);D.call(this,G);new ra(G,{axis:"both"});this.show();L.setVisible(!0);L.focus();this.setupTitle(J,F.titleText);G.setY(this.header.height+1);this.setupFooterButtons(G,F);G.initialFocus&&G.initialFocus.focus();K&&K(this)},showSpinner:function(D,G){const F=this.content;G=da({},S.NO_WRAP_TEXT_DEFAULTS,G);this.destroyContent();const K=this.spinner=new m.Spinner(F,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==G.msgY?W.PADDING_Y:
G.msgY});D&&new ha(F,{text:D,whiteSpace:G.whiteSpace,wordWrap:G.wordWrap,fontWeight:G.fontWeight,x:null==G.msgX?W.PADDING_X:G.msgX,y:K.y+K.size+W.PADDING_Y,width:G.width});this.show();F.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(D,G){const F=this,K=F.content,J=K.closeBtn;G=da({},S.COLOR_PICKER_DEFAULTS,G);F.destroyContent();F.setCallbackFunction(O=>{switch(O){case "closeBtn":case "cancelBtn":D.call(F,O);break;case "confirmBtn":const N=L.getColor();L.addToPalette(N);D.call(F,O,
N)}L.destroy()});const L=new Ka(K,{x:W.PADDING_X,y:W.PADDING_Y+24,width:337,height:177,color:G.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});F.show();J.setVisible(!0);J.focus();F.setupFooterButtons(L,G);F.setupTitle(K,G.titleText)},showDatePicker:function(D,G){const F=this,K=F.content,J=K.closeBtn;G=da({},S.DATE_PICKER_DEFAULTS,G);F.destroyContent();F.setCallbackFunction(O=>{switch(O){case "closeBtn":case "cancelBtn":D.call(F,O);break;
case "confirmBtn":D.call(F,O,L.getPickedDate())}L.destroy()});const L=new Oa(K,{x:W.PADDING_X,y:W.PADDING_Y+24,height:195,opt:{current:new Date(G.initialDate||Date.now()),dateOnly:G.dateOnly||!1,timeOnly:G.timeOnly||!1,locales:G.locales,locale:G.locale}});F.show();J.setVisible(!0);J.focus();F.setupFooterButtons(L,G);F.setupTitle(K,G.timeOnly?G.timeOnlyTitleText:G.titleText)},setupTitle:function(D,G){const F=S.RADIUS;(this.header=new R(D,{ignoreLayout:!0,width:D.width,height:24,bgColor:"#eee",roundedTopLeftCorner:F,
roundedTopRightCorner:F})).sendToBack();new ha(D,{name:"title",x:F,y:4,text:G,fontWeight:"bold"})},setupFooterButtons:function(D,G){const F=this,K=F.content;var J=W.PADDING_Y,L=J/2;const O=new R(K,{name:"btnContainer",y:D.y+D.height+J,align:"center"});J=["active","hover","ready","text"];let N=G.cancelAttrs||{};X(N,"name","cancelBtn");X(N,"text",G.cancelTxt);J.forEach(Q=>{Q+="Color";null!=G[Q]&&(N[Q]=G[Q])});D=F.makeButton(O,N);N=G.confirmAttrs||{};X(N,"name","confirmBtn");X(N,"text",G.confirmTxt);
J.forEach(Q=>{Q+="Color";const ma=Q+"Confirm";null!=G[ma]&&(N[Q]=G[ma])});F.makeButton(O,N);(G.buttons||[]).forEach(Q=>{F.makeButton(O,Q)});new ra(O,{axis:"y"});new ya(O,{spacing:4,collapseParent:!0});K.sizeToChildren.setPaddingY(L);J=S.RADIUS;L=O.y-L;(new R(K,{ignoreLayout:!0,y:L,width:K.width,height:K.height-L,bgColor:"#eee",roundedBottomLeftCorner:J,roundedBottomRightCorner:J})).sendToBack();!1===G.showClose&&D.focus()}})})(myt);
(m=>{const v=JS.Class,q={},n=(p,g)=>{if(p){const r=p.id;p.id?g(r):m.dumpStack("No ID")}else m.dumpStack("No validator")},f=p=>{n(p,g=>{q[g]=p})},a=m.Validator=new v("Validator",{initialize:function(p){this.id=p},isValid:(p,g,r)=>!0,isFormValid:function(p,g,r){g||={};g.form=p;return this.isValid(p.getValue(),g,r)}}),e=m.RequiredFieldValidator=new v("RequiredFieldValidator",a,{isValid:function(p,g,r){return null==p||""===p||"string"===typeof p&&""===p.trim()?(r&&r.push("This value is required."),!1):
!0}}),c=m.EqualsIgnoreCaseValidator=new v("EqualsIgnoreCaseValidator",a,{isValid:function(p,g,r){g=g.form.getRollbackValue();return p&&g&&p.toLowerCase()===g.toLowerCase()?(r&&r.push("Value must differ by more than just case."),!1):!0}}),b=m.URLValidator=new v("URLValidator",a,{initialize:function(p,g){this.callSuper(p);this.originalRawQuery=g},isValid:function(p,g,r){return(new m.URI(p)).toString(this.originalRawQuery)!==p?(r&&r.push("Invalid URL."),!1):!0}}),h=m.JSONValidator=new v("JSONValidator",
a,{isValid:function(p,g,r){try{return JSON.parse(p),!0}catch(d){return r&&r.push(d),!1}}});m.EqualFieldsValidator=new v("EqualFieldsValidator",a,{initialize:function(p,g,r){this.callSuper(p);this.fieldA=g;this.fieldB=r},isValid:function(p,g,r){if(p&&this.fieldA.getValue()===this.fieldB.getValue())return!0;r&&r.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});m.LengthValidator=new v("LengthValidator",a,{initialize:function(p,g,r){this.callSuper(p);this.min=
g;this.max=r},isValid:function(p,g,r){p=p?p.length:0;g=this.min;const d=this.max;return void 0!==g&&g>p?(r&&r.push("Value must not be less than "+g+"."),!1):void 0!==d&&d<p?(r&&r.push("Value must not be greater than "+d+"."),!1):!0}});m.NumericRangeValidator=new v("NumericRangeValidator",a,{initialize:function(p,g,r){this.callSuper(p);this.min=g;this.max=r},isValid:function(p,g,r){if(""===p)return!0;p=Number(p);g=this.min;const d=this.max;return isNaN(p)?(r&&r.push("Value is not a number."),!1):void 0!==
g&&g>p?(r&&r.push("Value must not be less than "+g+"."),!1):void 0!==d&&d<p?(r&&r.push("Value must not be greater than "+d+"."),!1):!0}});m.CompoundValidator=new v("CompoundValidator",a,{initialize:function(p,...g){this.callSuper(p);p=g.length;let r;for(;p;)r=g[--p],"string"===typeof r&&((g[p]=r=q[r])||g.splice(p,1));this.__v=g},addValidator:function(p){"string"===typeof p&&(p=q[p]);p&&this.__v.push(p)},isValid:function(p,g,r){const d=this.__v,u=d.length;let w=!0,l=0;for(;u>l;)w=d[l++].isValid(p,
g,r)&&w;return w}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){f(new e("required"));f(new c("equalsIgnoreCase"));f(new b("url"));f(new h("json"));m.global.register("validators",this)},getValidator:p=>q[p],register:f,unregister:p=>{n(p,g=>{q[g]&&delete q[g]})}})})(myt);
(m=>{const v=JS.Class,q=Math.min,n=Math.max,f=m.View,a=m.AccessorSupport.defAttr,e=new v("SliderThumb",m.SimpleButton,{include:[m.Draggable],initNode:function(b,h){const p=h.width=b.thumbWidth,g=h.height=b.thumbHeight;h.roundedCorners=q(g,p)/2;h.repeatKeyDown=!0;h.activationKeys=[37,38,39,40];h.activeColor="#bbb";h.readyColor="#ccc";h.hoverColor="#ddd";h.boxShadow=[0,0,4,"#666"];this.callSuper(b,h);this["x"===b.axis?"setY":"setX"](b.thumbOffset);this.syncTo(b,"setDisabled","disabled");b._syncThumbToValue(this,
b.getValue())},setDisabled:function(b){this.callSuper(this.valueFromEvent(b))},setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b.syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b.syncValueToThumb(this))},requestDragPosition:function(b,h){if(!this.disabled){var p=this.parent;const g=p.getMinPixelValueForThumb(this),r=p.getMaxPixelValueForThumb(this);
"x"===p.axis?(p=this.width/2,h="setX"):(p=this.height/2,b=h,h="setY");this[h](q(n(b,g-p),r-p))}},doActivationKeyDown:function(b,h){const p=this.parent;switch(b){case 37:p.nudgeValueLeft(this);break;case 38:p.nudgeValueUp(this);break;case 39:p.nudgeValueRight(this);break;case 40:p.nudgeValueDown(this)}this.callSuper(b,h)}}),c=m.BaseSlider=new v("BaseSlider",f,{include:[m.Disableable],initNode:function(b,h){a(h,"axis","x");"x"===h.axis?(a(h,"width",100),a(h,"height",18)):(a(h,"width",18),a(h,"height",
100));a(h,"bgColor","#999");a(h,"roundedCorners",9);a(h,"trackInset",9);a(h,"trackOutset",9);a(h,"thumbWidth",16);a(h,"thumbHeight",16);a(h,"thumbOffset",1);a(h,"nudgeAmount",1);this.callSuper(b,h)},setAxis:function(b){this.axis=b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setNudgeAmount:function(b){this.nudgeAmount=
b},convertValueToPixels:function(b){const h=this.minValue,p=this.trackInset;return p+(("x"===this.axis?this.width:this.height)-p-this.trackOutset)/(this.maxValue-h)*(b-h)},convertPixelsToValue:function(b){const h=this.minValue,p=this.trackInset;return(this.maxValue-h)/(("x"===this.axis?this.width:this.height)-p-this.trackOutset)*(b-p)+h},nudgeValueLeft:function(b){this._nudge(b,!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,
!0)},_nudge:(b,h)=>{},_syncThumbToValue:function(b,h){h=this.convertValueToPixels(h);"x"===this.axis?b.setX(h-b.width/2):b.setY(h-b.height/2)},syncValueToThumb:function(b){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(b,this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2)),this.__lockSync=!1)},_syncValueToThumb:(b,h)=>{},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}});
m.RangeSlider=new v("RangeSlider",c,{include:[m.BoundedRangeComponent],initNode:function(b,h){this.callSuper(b,h);b=new f(this,{name:"rangeFill",bgColor:"#666"});"x"===this.axis?(b.setY(this.thumbOffset),b.setHeight(this.thumbHeight),b.setRoundedCorners(this.thumbHeight/2)):(b.setX(this.thumbOffset),b.setWidth(this.thumbWidth),b.setRoundedCorners(this.thumbWidth/2));new e(this,{name:"thumbLower"});new e(this,{name:"thumbUpper"});this._syncRangeFillToValue()},setValue:function(b){this.callSuper(b);
this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b,h){const p=this.width;this.callSuper(b,h);this.inited&&"x"===this.axis&&this.width!==p&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},setHeight:function(b,h){const p=this.height;this.callSuper(b,h);this.inited&&"y"===this.axis&&this.height!==p&&(b=this.getValue(),
this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var h=this.getValue();const p=this.convertValueToPixels(h.lower);h=this.convertValueToPixels(h.upper)-p;"x"===this.axis?(b.setX(p),b.setWidth(h)):(b.setY(p),b.setHeight(h))},_syncThumbToValue:function(b,h){this.callSuper(b,"thumbLower"===b.name?h.lower:h.upper)},_syncValueToThumb:function(b,h){let p=this.getValueCopy();p["thumbLower"===b.name?"lower":"upper"]=
h;this.setValue(p);p=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,p);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,p)},_nudge:function(b,h){const p=this.getValueCopy();h=this.nudgeAmount*(h?1:-1);"thumbLower"===b.name?p.lower=q(p.lower+h,p.upper):p.upper=n(p.upper+h,p.lower);this.setValue(p)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===b.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===
b.name?this.getValue().upper:this.maxValue)}});m.Slider=new v("Slider",c,{include:[m.BoundedValueComponent],initNode:function(b,h){this.callSuper(b,h);new e(this,{name:"thumb"})},setValue:function(b){this.callSuper(b);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b,h){const p=this.width;this.callSuper(b,h);this.inited&&"x"===this.axis&&this.width!==p&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b,h){const p=this.height;
this.callSuper(b,h);this.inited&&"y"===this.axis&&this.height!==p&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b,h){this.setValue(h);this._syncThumbToValue(b,this.getValue())},_nudge:function(b,h){this.setValue(this.getValue()+this.nudgeAmount*(h?1:-1))}})})(myt);
(m=>{const v=JS.Class,q=m.AccessorSupport.defAttr,n=a=>{const e="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,e,a.parent,e])},f=new v("BaseDivider",m.SimpleButton,{include:[m.BoundedValueComponent,m.Draggable],initNode:function(a,e){q(e,"activeColor","#bbb");q(e,"hoverColor","#ddd");q(e,"readyColor","#ccc");q(e,"axis","x");q(e,"minValue",0);q(e,"value",e.minValue);q(e,"expansionState",2);q(e,"focusIndicator",!1);q(e,"repeatKeyDown",!0);q(e,"activationKeys",[37,38,
39,40,13,32]);"y"===e.axis?(q(e,"height",6),q(e,"cursor","row-resize")):(q(e,"width",6),q(e,"cursor","col-resize"));this.quickSet(["axis"],e);this.__nudgeAcc=1;this.callSuper(a,e);null==e.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&n(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=
a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):n(this)))},setAxis:function(a){this.inited?console.warn("Axis not updatable after instantiation"):this.axis=a},setValue:function(a,e){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);e&&this.setRestoreValue(a)},__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,e){this.callSuper(a,
e);switch(a){case 37:case 38:a=-1;break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=e?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const a=this.restoreValue,e=this.maxValue,c=this.minValue;let b;switch(this.expansionState){case 0:null!=a&&(this.setExpansionState(1),a===c?a!==e&&this.doPrimaryAction():b=a);break;case 1:null!=e&&(this.setExpansionState(3),this.value===e?this.doPrimaryAction():
b=e);break;case 2:null!=c&&(this.setExpansionState(0),this.value===c?this.doPrimaryAction():b=c);break;case 3:null!=a&&(this.setExpansionState(2),a===e?this.doPrimaryAction():b=a)}null!=b&&(this.stopActiveAnimators("value"),this.animateOnce("value",b,null,250))},requestDragPosition:function(a,e){this.disabled||(this.setValue("y"===this.axis?e:a,!0),this.setExpansionState(2))}});m.HorizontalDivider=new v("HorizontalDivider",f,{initNode:function(a,e){e.axis="x";this.callSuper(a,e)}});m.VerticalDivider=
new v("VerticalDivider",f,{initNode:function(a,e){e.axis="y";this.callSuper(a,e)}})})(myt);
(m=>{const v=JS.Class,q=JS.Module,n=Math.min,f=Math.max,a=m.View,e=m.AccessorSupport.defAttr,c=k=>{const t=k.columnHeaders;var z=k.sort;const E=z?z[0]:"";z=z?z[1]:"";let I=t.length;for(;I;){const H=t[--I];H.columnId===E?H.sortable&&H.setSortState(z):H.setSortState("none")}k.locked||k.doSort()},b=(k,t,z,E)=>{if(0!==t){const M=0<t,V=[];for(var I=k.length,H;I;)H=k[--I],H.resizable&&(z?0<H.flex:0===H.flex)&&V.push({hdr:H,limit:(M?H.maxValue:H.minValue)-H.value,amt:0});k=V.length;if(0<k){let ca=I=0;for(;0!==
t;){const P=V[I];H=P.hdr;P.full?++ca:(M?(H=n(z?H.flex:1,t),P.amt+H>P.limit&&(H=P.limit-P.amt,P.full=!0)):(H=f(z?-H.flex:-1,t),P.amt+H<P.limit&&(H=P.limit-P.amt,P.full=!0)),P.amt+=H,t-=H);if(ca===k)break;++I;I===k&&(ca=I=0)}V.forEach(P=>{P.hdr.setValue(P.hdr.value+P.amt)});E&&E(t)}}},h=k=>(k=k.gridController?k.gridController.getPrevHdr(k):null)?k.maxValue-k.value+h(k):0,p=k=>(k=k.gridController?k.gridController.getNextHdr(k):null)?k.maxValue-k.value+p(k):0,g=k=>(k=k.gridController?k.gridController.getPrevHdr(k):
null)?k.minValue-k.value+g(k):0,r=k=>(k=k.gridController?k.gridController.getNextHdr(k):null)?k.minValue-k.value+r(k):0,d=(k,t)=>{k=k.gridController?k.gridController.getPrevHdr(k):null;var z=0;if(k){z=k.value+t;k.resizable&&k.setValue(z);const E=z-k.value;z=t-E;0>E&&(z+=d(k,E))}return z},u=(k,t)=>{k=k.gridController?k.gridController.getPrevHdr(k):null;var z=0;if(k){z=k.value+t;k.resizable&&k.setValue(z);const E=z-k.value;z=t-E;0<E&&(z+=u(k,E))}return z},w=(k,t)=>{if(k=k.gridController?k.gridController.getNextHdr(k):
null)t=k.value+t,k.resizable&&k.setValue(t),t-=k.value,0>t&&w(k,t)},l=(k,t)=>{if(k=k.gridController?k.gridController.getNextHdr(k):null)t=k.value+t,k.resizable&&k.setValue(t),t-=k.value,0<t&&l(k,t)},x=k=>{let t="";if(k.sortable)switch(k.sortState){case "ascending":t="chevron-up";break;case "descending":t="chevron-down"}k.sortIcon.setIcon(t)},B=k=>{const t=k.textView;t&&t.setWidth(k.width-k.outset-t.x)},y=m.GridController=new q("GridController",{initNode:function(k,t){this.columnHeaders=[];this.rows=
[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(k,t);this.fitHeadersToWidth();c(this)},setMaxWidth:function(k){this.set("maxWidth",k,!0)},setMinWidth:function(k){this.set("minWidth",k,!0)},setFitToWidth:function(k){this.fitToWidth=k},setSort:function(k){m.areArraysEqual(k,this.sort)||(this.sort=k,this.inited&&(this.fireEvent("sort",k),c(this)))},setLastColumn:function(k){const t=this.lastColumn;t!==k&&(t&&t.setLast(!1),(this.lastColumn=k)&&k.setLast(!0))},
setLocked:function(k){this.locked=k;this.inited&&!k&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(t=>{this.notifyHdrXChange(t);this.notifyHdrWidthChange(t);this.notifyHdrVisibilityChange(t)}),this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(k){k=this.valueFromEvent(k);this.gridWidth!==k&&(this.gridWidth=k,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevHdr:function(k){const t=
this.columnHeaders;k=this.getHdrIndex(k);if(0<k)for(;k;){const z=t[--k];if(z.visible)return z}},getNextHdr:function(k){const t=this.columnHeaders,z=t.length;k=this.getHdrIndex(k)+1;if(0<k&&k<z)for(;z>k;){const E=t[k++];if(E.visible)return E}},hasHdr:function(k){return 0<=this.getHdrIndex(k)},getHdrIndex:function(k){return this.columnHeaders.indexOf(k)},getHdrById:function(k){const t=this.columnHeaders;let z=t.length;for(;z;){const E=t[--z];if(E.columnId===k)return E}},getVisibleHdrs:function(){return this.columnHeaders.filter(k=>
k.visible)},notifyAddHdr:function(k){this.hasHdr(k)||(this.columnHeaders.push(k),k.visible&&this.setLastColumn(k),this.fixupResizerCursors())},notifyRemoveHdr:function(k){const t=this.getHdrIndex(k);0<=t&&(this.columnHeaders.splice(t,1),k.visible&&k.last&&this.setLastColumn(this.getPrevHdr(k)),this.fixupResizerCursors())},notifyHdrXChange:function(k){this.isLocked()||this.rows.forEach(t=>{t.notifyHdrXChange(k)})},notifyHdrWidthChange:function(k){this.isLocked()||this.rows.forEach(t=>{t.notifyHdrWidthChange(k)})},
notifyHdrVisibilityChange:function(k){if(!this.isLocked()){this.updateRowsForVisibilityChange(k);var t=this.setLastColumn;a:{var z=this.columnHeaders;let E=z.length;for(;E;){const I=z[--E];if(I.visible){z=I;break a}}z=void 0}t.call(this,z);t=k.visible?1:-1;this.setMaxWidth(this.maxWidth+k.maxValue*t);this.setMinWidth(this.minWidth+k.minValue*t);this.fitHeadersToWidth();this.fixupResizerCursors()}},updateRowsForVisibilityChange:function(k){this.rows.forEach(t=>{t.notifyHdrVisibilityChange(k)})},hasRow:function(k){return 0<=
this.getRowIndex(k)},getRowIndex:function(k){return this.rows.indexOf(k)},getRowById:function(k,t=z=>z.model.id===k){return this.rows.find(t)},getPrevRow:function(k){k=this.getRowIndex(k)-1;return this.rows[0>k?this.rows.length-1:k]},getNextRow:function(k){k=this.getRowIndex(k)+1;return this.rows[k<this.rows.length?k:0]},notifyAddRow:function(k,t){if(!this.hasRow(k)&&(this.rows.push(k),!this.locked)){const z=this.width;this.columnHeaders.forEach(E=>{k.setWidth(z);k.notifyHdrXChange(E);k.notifyHdrWidthChange(E);
k.notifyHdrVisibilityChange(E)});t||this.doSort()}},notifyRemoveRow:function(k){k=this.getRowIndex(k);0<=k&&this.rows.splice(k,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const k=this.getVisibleHdrs();let t=0;k.forEach(z=>{t=f(t,z.x+z.width)});b(k,this.gridWidth-t,!0,z=>{b(k,z,!1,null)})}},fixupResizerCursors:function(){const k=this.getVisibleHdrs();let t=!0,z=0;k.forEach((M,V)=>{t&&M.isFixed()?M.setResizerCursor("",!0):(t&&(z=V),t=!1,M.restoreResizerCursor())});let E=!0,I=
k.length,H=I-1;for(;I>z;){const M=k[--I];E?M.setResizerCursor("",!0):M.restoreResizerCursor();M.isFixed()||(E&&(H=I),E=!1)}z===H&&k[z].setResizerCursor("",!0)}}),A=m.GridColHdr=new q("GridColHdr",{include:[m.BoundedValueComponent],initNode:function(k,t){const z=this;e(t,"resizerCursor","col-resize");let E=t.resizerCursor;delete t.resizerCursor;e(t,"minValue",16);e(t,"maxValue",9999);e(t,"value",t.minValue);e(t,"resizable",!0);e(t,"flex",0);e(t,"cellXAdj",0);e(t,"cellWidthAdj",0);e(t,"sortable",!0);
e(t,"sortState","none");e(t,"placement","*");z.callSuper(k,t);const I=z.gridController;z.resizer=new a(z,{cursor:E,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[m.SizeToParent,m.Draggable,{requestDragPosition:function(H,M){M=H-this.x;if(I.fitToWidth&&(0<M?M=n(M,n(-r(z),z.maxValue-z.value+h(z))):0>M&&(M=f(M,f(-p(z),z.minValue-z.value+g(z)))),0===M))return;H=z.value+M;z.resizable&&z.setValue(H);H-=z.value;M=H-M;let V=0;0>H?V=d(z,H):0<H&&(V=u(z,H));
this.dragInitX+=V;M-=V;I.fitToWidth&&(0>M?w(z,M):0<M&&l(z,M))}}]);I&&(I.notifyAddHdr(z),I.notifyHdrXChange(z),I.notifyHdrVisibilityChange(z));z.setWidth(z.value);z.resizer.setVisible(!(z.last&&z.gridController.fitToWidth))},destroy:function(k){this.setGridController();this.callSuper(k)},setSortable:function(k){this.set("sortable",k,!0)},setSortState:function(k){this.set("sortState",k,!0)},setResizable:function(k){this.set("resizable",k,!0)},setCellWidthAdj:function(k){this.cellWidthAdj=k},setCellXAdj:function(k){this.cellXAdj=
k},setFlex:function(k){this.flex=k},setColumnId:function(k){this.columnId=k},setResizerCursor:function(k,t){const z=this.resizer,E=z.cursor;k!==E&&(t&&(this.__rrc=E),z.setCursor(k))},restoreResizerCursor:function(){const k=this.__rrc;k&&(this.setResizerCursor(k),this.__rrc=null)},isFixed:function(){return this.minValue===this.maxValue},setLast:function(k){this.last=k;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(k){const t=this.gridController;
t!==k&&(t&&t.notifyRemoveHdr(this),this.gridController=k,this.inited&&k&&(k.notifyAddHdr(this),k.notifyHdrXChange(this),k.notifyHdrWidthChange(this),k.notifyHdrVisibilityChange(this)))},setValue:function(k){this.callSuper(k);this.inited&&this.setWidth(this.value)},setMinValue:function(k){const t=this.minValue||0,z=this.gridController;this.callSuper(k);z&&this.inited&&t!==this.minValue&&z.setMinWidth(z.minWidth+this.minValue-t)},setMaxValue:function(k){const t=this.maxValue||0,z=this.gridController;
null==k&&(k=9999);this.callSuper(k);z&&this.inited&&t!==this.maxValue&&z.setMaxWidth(z.maxWidth+this.maxValue-t)},setWidth:function(k,t){const z=this.width,E=this.gridController;this.callSuper(k,t);E&&this.inited&&z!==this.width&&E.notifyHdrWidthChange(this)},setX:function(k){const t=this.x,z=this.gridController;this.callSuper(k);z&&this.inited&&t!==this.x&&z.notifyHdrXChange(this)},setVisible:function(k){const t=this.visible,z=this.gridController;this.callSuper(k);this.inited&&z&&t!==this.visible&&
z.notifyHdrVisibilityChange(this)}}),C=m.GridRow=new q("GridRow",{initNode:function(k,t){e(t,"placement","*");this.callSuper(k,t);(k=this.gridController)&&k.notifyAddRow(this)},destroy:function(k){this.setGridController();this.callSuper(k)},setGridController:function(k){const t=this.gridController;t!==k&&(t&&t.notifyRemoveRow(this),this.gridController=k,this.inited&&k&&k.notifyAddRow(this))},notifyHdrXChange:function(k){const t=this[k.columnId+"View"];t&&t.setX(k.x+k.cellXAdj)},notifyHdrWidthChange:function(k){const t=
this[k.columnId+"View"];t&&t.setWidth(k.width+k.cellWidthAdj)},notifyHdrVisibilityChange:function(k){const t=this[k.columnId+"View"];t&&t.setVisible(k.visible)}});m.Grid=new v("Grid",a,{include:[y],initNode:function(k,t){const z=m.SpacedLayout;e(t,"overflow","autox");e(t,"bgColor","#ccc");e(t,"rowSpacing",1);e(t,"columnSpacing",1);var E=t.isAutoScrolling;delete t.isAutoScrolling;this.callSuper(k,t);k=new a(this,{name:"header",overflow:"hidden"});new z(k,{name:"xLayout",locked:!0,collapseParent:!0,
spacing:this.columnSpacing});new m.SizeToChildren(k,{name:"yLayout",locked:!0,axis:"y"});t=this.sizeHeightToRows;E=new a(this,{name:"content",overflow:t?"hidden":"autoy"},E?[m.AutoScroller]:[]);new z(E,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:t});this.syncTo(this,"setGridWidth","width");this.syncTo(k,"_updateContentWidth","width");this.constrain("_updateContentHeight",[t?E:this,"height",k,"height",k,"y"])},setSizeHeightToRows:function(k){this.sizeHeightToRows=k},setRowSpacing:function(k){this.rowSpacing!==
k&&(this.rowSpacing=k,this.inited&&this.content.yLayout.setSpacing(k))},setColumnSpacing:function(k){this.columnSpacing!==k&&(this.columnSpacing=k,this.inited&&this.header.xLayout.setSpacing(k))},setLocked:function(k){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(t=>{k?t.incrementLockedCounter():(t.decrementLockedCounter(),t.update())});this.callSuper(k)},_updateContentWidth:function(k){const t=this.content,z=k.value;t.setWidth(z);t.getSubviews().forEach(E=>{E.setWidth(z)})},
_updateContentHeight:function(k){var t=this.header;k=this.content;t=t.y+t.height;k.setY(t);this.sizeHeightToRows?this.setHeight(t+k.height):k.setHeight(this.height-t)},determinePlacement:function(k,t){if("*"===k){let z;t.isA(C)?z=this.content:t.isA(A)&&(z=this.header);if(z)return t.gridController!==this&&t.setGridController(this),z}return this.callSuper(k,t)},doSort:function(){var k=this.sort||["",""];if(k=this.getSortFunction(k[0],k[1])){const t=this.content,z=t.yLayout;this.rows.sort(k);t.sortSubviews(k);
z.sortSubviews(k);z.update()}},getSortFunction:(k,t)=>{if(k){const z="ascending"===t?1:-1,E=k+"View";return(I,H)=>{I=I[E].text;H=H[E].text;return I>H?z:H>I?-z:0}}}});m.SimpleGridColHdr=new v("SimpleGridColHdr",m.SimpleTextButton,{include:[A],initNode:function(k,t){const z=this;e(t,"activeColor","#999");e(t,"hoverColor","#bbb");e(t,"readyColor","#aaa");e(t,"inset",2);e(t,"outset",2);e(t,"sortIconColor","#666");z.callSuper(k,t);new m.FontAwesome(z,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",
textColor:z.sortIconColor},[{initNode:function(E,I){this.callSuper(E,I);this.getIDS().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();z.setOutset(this.width+2);B(z)}}]);z.textView.enableEllipsis();z.setDisabled(!z.sortable);B(z);x(z)},setSortIconColor:function(k){this.sortIconColor=k;this.sortIcon&&this.sortIcon.setTextColor(k)},setSortable:function(k){this.callSuper(k);this.inited&&(k&&this.setOutset(14),this.setDisabled(!k),x(this))},setSortState:function(k){this.callSuper(k);this.inited&&
x(this)},setWidth:function(k,t){this.callSuper(k,t);this.inited&&B(this)},doActivated:function(){this.disabled||(this.setSortState("ascending"===this.sortState?"descending":"ascending"),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(m=>{const v=JS.Class,q=JS.Module,n=Math,f=n.max,a=m.View,e=m.global.focus,c=m.AccessorSupport.defAttr,b=l=>{const x=l.selectedRow;x&&(x.setSelected(!1),l.set("selectedRow",null,!0))},h=m.InfiniteListRow=new q("InfiniteListRow",{include:[m.Reusable],setInfiniteOwner:function(l){this.infiniteOwner=l},setModel:function(l){this.model=l},setClassKey:function(l){this.classKey=l},notifyRefreshed:()=>{}}),p=m.SelectableInfiniteListRow=new q("SelectableInfiniteListRow",{include:[h,m.Selectable]}),g=m.InfiniteList=
new v("InfiniteList",a,{initNode:function(l,x){let B=x.rowClasses;delete x.rowClasses;if("function"===typeof B){const y={};y["default"]=B;B=y}c(x,"modelIDName","id");c(x,"numericSort",!0);c(x,"ascendingSort",!0);c(x,"overflow","autoy");c(x,"bgColor","#ccc");c(x,"rowSpacing",1);c(x,"rowInset",0);c(x,"rowOutset",0);c(x,"rowHeight",30);c(x,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(l,x);
l=this._listView=new a(this);this._scrollAnchorView=new a(l,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(B,l);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(l,x)=>new m.TrackActivesMultiPool(l,x),setOverscrollBehavior:function(l){this.overscrollBehavior=l;this.getIDS().overscrollBehavior=l},setCollectionModel:function(l){this.collectionModel=l},setModelIDName:function(l){this.modelIDName=l},setRowSpacing:function(l){this.rowSpacing=
l;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(l){this.rowHeight=l;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(l,x){if(0<l&&(this.callSuper(l,x),this.inited)){l=this._listView;const B=this.width;l.setWidth(B);l.getSubviews().forEach(y=>{y.setWidth(B)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},
getSortFunction:function(){const l=this.modelIDName,x=this.ascendingSort;return this.numericSort?m.getNumericObjSortFunc(l,x):m.getAlphaObjSortFunc(l,x,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(l){var x=this.getIndexOfModelInData(l);if(0<=x){var B=this._rowExtent;l=this.getIDE().scrollTop;const y=l+this.height;x=this.rowInset+x*B;B=x+B;if(x<=l)return this.scrollYTo(x,!0),!0;if(B>=y)return this.scrollYTo(B-this.height,!0),!0}return!1},isModelInData:function(l){return 0<=this.getIndexOfModelInData(l)},
getNextModel:function(l,x=!0,B=!0){const y=this.getListData(),A=y.length;l=this.getIndexOfModelInData(l);if(0<=l)return l+=1,l>=A?x?y[0]:y[A-1]:y[l];if(B&&0<A)return y[A-1]},getPrevModel:function(l,x=!0,B=!0){const y=this.getListData(),A=y.length;l=this.getIndexOfModelInData(l);if(0<=l)return--l,0>l?x?y[A-1]:y[0]:y[l];if(B&&0<A)return y[0]},getIndexOfModelInData:function(l){if(l){const x=this.getListData();let B=x.length;for(;B;)if(this.areModelsEqual(x[--B],l))return B}return-1},areModelsEqual:function(l,
x){const B=this.modelIDName;return l[B]===x[B]},getActiveRowForModel:function(l){if(l){const x=this._itemPool.getActives();let B=x.length;for(;B;){const y=x[--B];if(this.areModelsEqual(y.model,l))return y}}},refreshListData:function(l,x){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(l,x)},resetListUI:function(l,x){const B=this.getListData().length,y=this._listView,A=this._scrollAnchorView;y.setHeight(B*this._rowExtent-(0<B?this.rowSpacing:
0)+this.rowInset+this.rowOutset);A.setY(y.height-A.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=x;l||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(l){var x=e.focusedView;x&&x.isDescendantOf(l)&&((x=this.getFocusTrap())?x.focus():e.clear());l.setVisible(!1);this._itemPool.putInstance(l)},refreshListUI:function(l){l=this._rowExtent;const x=this.rowInset,B=this.forceFullResetOnNextRefresh;var y=this.getIDE().scrollTop;const A=
this.getListData()||[];var C=f(0,n.floor((y-x)/l));y=n.min(A.length,n.ceil((y-x+this.height)/l));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==C||this._endIdx!==y||B){const t=this.width,z=this.rowHeight,E=this._visibleRowsByIdx;this._startIdx=C;this._endIdx=y;for(var k in E)if(k<C||k>=y)this.putRowBackInPool(E[k]),delete E[k];for(k=C;k<y;k++){C=E[k];const I=A[k],H=this.getClassKey(I);let M=!1;C&&C.classKey===H||(C&&this.putRowBackInPool(C),E[k]=C=this._itemPool.getInstance(H),
C.setInfiniteOwner(this),C.setClassKey(H),C.setWidth(t),C.setHeight(z),C.setY(x+k*l),C.setVisible(!0),M=!0);!B&&C.model&&this.areModelsEqual(C.model,I)?M&&this.updateRow(C):(C.setModel(I),this.updateRow(C));C.notifyRefreshed();C.bringToFront()}}},getClassKey:l=>"default",updateRow:l=>{}}),r=m.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",m.SimpleButton,{include:[p],initNode:function(l,x){c(x,"selectedColor","#ccf");c(x,"activeColor","#f8f8f8");c(x,"hoverColor","#eee");c(x,
"readyColor","#fff");c(x,"focusIndicator",!1);c(x,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(l,x)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(l){this.callSuper(l);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();
this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(l,x){x=this.infiniteOwner;const B=this.model;switch(l){case 27:this.selected&&x.setSelectedRow();break;case 37:case 38:x.selectPrevRowForModel(B);break;case 39:case 40:x.selectNextRowForModel(B)}},doActivationKeyUp:function(l){switch(l){case 13:case 32:this.doActivated()}}}),d=m.SelectableInfiniteList=new v("SelectableInfiniteList",g,{setSelectedRow:function(l){const x=this.selectedRow;l!==x&&(x&&x.setSelected(!1),this.setSelectedRowModel(),
this.set("selectedRow",l,!0),l&&(this.setSelectedRowModel(l.model),l.setSelected(!0)))},setSelectedRowModel:function(l){this.set("selectedRowModel",l,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(l,x,B){l&&(b(this),this.setSelectedRowModel(l),this.refreshListUI(),x&&(l=this.getActiveSelectedRow())&&l.focus())},selectNextRowForModel:function(l,x=!0){this.selectRowForModel(this.getNextModel(l),
x,!0)},selectPrevRowForModel:function(l,x=!0){this.selectRowForModel(this.getPrevModel(l),x,!1)},resetListUI:function(l,x){this.isModelInData(this.selectedRowModel)?b(this):this.setSelectedRow();this.callSuper(l,x)},putRowBackInPool:function(l){l.selected&&b(this);this.callSuper(l)},refreshListUI:function(l){l=e.focusedView;this.callSuper();const x=this.getActiveSelectedRow();x&&(this.set("selectedRow",x,!0),x.setSelected(!0),l&&l!==x||x.focus(!0))}}),u=new q("InfiniteGridRowMixin",{notifyXChange:function(l){const x=
this[l.columnId+"View"];x&&x.setX(l.x+l.cellXAdj)},notifyWidthChange:function(l){const x=this[l.columnId+"View"];x&&x.setWidth(l.width+l.cellWidthAdj)},notifyVisibilityChange:function(l){const x=this[l.columnId+"View"];x&&x.setVisible(l.visible)}}),w=new q("InfiniteGridMixin",{setGridHeader:function(l){(this.gridHeader=l)&&l.setGrid(this)},makeReady:function(l,x){const B=this.gridHeader;B?(this.forceFullResetOnNextRefresh=x,B.setSort(l),B.setLocked(!1)):this.refreshListData(!1,x)},getSortFunction:function(){var l=
this.gridHeader.sort||["",""];const x=l[0];l=l[1];return x?m.getAlphaObjSortFunc(x,"ascending"===l,!1):this.callSuper()},updateRow:function(l){this.gridHeader&&this.gridHeader.columnHeaders.forEach(x=>{l.notifyXChange(x);l.notifyWidthChange(x);l.notifyVisibilityChange(x)})},notifyXChange:function(l){this.getVisibleRows().forEach(x=>{x.notifyXChange(l)})},notifyWidthChange:function(l){this.getVisibleRows().forEach(x=>{x.notifyWidthChange(l)})},notifyVisibilityChange:function(l){this.getVisibleRows().forEach(x=>
{x.notifyVisibilityChange(l)})}});m.InfiniteGridRow=new q("InfiniteGridRow",{include:[h,u]});m.SelectableInfiniteGridRow=new q("SelectableInfiniteGridRow",{include:[p,u]});m.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",r,{include:[u]});m.InfiniteGrid=new v("InfiniteGrid",g,{include:[w]});m.SelectableInfiniteGrid=new v("InfiniteGrid",d,{include:[w]});m.InfiniteGridHeader=new v("InfiniteGridHeader",a,{include:[m.GridController],initNode:function(l,x){c(x,"columnSpacing",1);
x.overflow="hidden";this.callSuper(l,x);new m.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(l){this.grid=l},setColumnSpacing:function(l){this.columnSpacing=l},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:f(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setHeight:function(l,x){this.callSuper(l,x);this.inited&&(l=this.height,this.columnHeaders.forEach(B=>{B.setHeight(l)}))},setWidth:function(l,x){this.callSuper(f(this.minWidth,l),x);this.inited&&(l=this.width,
this.setGridWidth(l),this.grid.setWidth(l))},subviewAdded:function(l){this.callSuper(l);l.isA(m.GridColHdr)&&(l.setGridController(this),l.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},notifyHdrXChange:function(l){this.isLocked()||this.grid.notifyXChange(l)},notifyHdrWidthChange:function(l){this.isLocked()||this.grid.notifyWidthChange(l)},updateRowsForVisibilityChange:function(l){this.grid.notifyVisibilityChange(l)}})})(myt);
(m=>{const v=JS.Class,q=m.AccessorSupport.defAttr,n=m.PanelStackTransition=new v("PanelStackTransition",m.Node,{to:f=>Promise.resolve(f),from:f=>Promise.resolve(f)});m.PanelStack=new v("PanelStack",m.View,{include:[m.SelectionManager],initNode:function(f,a){a.overflow="hidden";q(a,"itemSelectionId","panelId");q(a,"maxSelected",1);this.callSuper(f,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(f){this.set("transition",f,!0)},__updateWidth:function(f){const a=
this.getActivePanel();a&&a.setWidth(f.value)},__updateHeight:function(f){const a=this.getActivePanel();a&&a.setHeight(f.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(f){return this.getSelectableItem(f)},selectPanel:function(f){this.selectById(f)},doSelected:function(f){f.setWidth(this.width);f.setHeight(this.height)},doStackTransition:function(f){this["doStackTransition"+(f.selected?"To":"From")](f)},doStackTransitionTo:function(f){const a=this;a.doBeforeTransitionTo(f);
const e=a.transition;e?e.to(f).then(c=>{a.doAfterTransitionTo(c)}):(f.makeHighestZIndex(),f.setVisible(!0),a.doAfterTransitionTo(f))},doBeforeTransitionTo:f=>{},doAfterTransitionTo:f=>{},doStackTransitionFrom:function(f){const a=this;a.doBeforeTransitionFrom(f);const e=a.transition;e?e.from(f).then(c=>{a.doAfterTransitionFrom(c)}):(f.setVisible(!1),a.doAfterTransitionFrom(f))},doBeforeTransitionFrom:f=>{},doAfterTransitionFrom:f=>{}});m.StackablePanel=new JS.Module("StackablePanel",{include:[m.Selectable],
initNode:function(f,a){a.visible=a.selected=!1;q(a,"bgColor","#fff");q(a,"panelId",a.name);this.callSuper(f,a);this.selected&&this.doStackTransition()},setPanelStack:function(f){this.panelStack=f},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(f){this.panelId=f},setSelected:function(f){this.selected!==f&&(this.callSuper(f),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});m.PanelStackFadeTransition=
new v("PanelStackFadeTransition",n,{initNode:function(f,a){q(a,"duration",1E3);this.callSuper(f,a)},setDuration:function(f){this.duration=f},to:function(f){return new Promise((a,e)=>{f.stopActiveAnimators("opacity");f.setVisible(!0);f.animate({attribute:"opacity",to:1,duration:this.duration}).next(c=>{f.makeHighestZIndex();a(f)})})},from:function(f){return new Promise((a,e)=>{f.stopActiveAnimators("opacity");f.animate({attribute:"opacity",to:0,duration:this.duration}).next(c=>{f.setVisible(!1);a(f)})})}});
m.PanelStackSlideTransition=new v("PanelStackSlideTransition",n,{initNode:function(f,a){q(a,"duration",1E3);q(a,"direction","right");this.callSuper(f,a)},setDuration:function(f){this.duration=f},setDirection:function(f){this.direction=f},to:function(f){const a=f.getPanelStack(),e=this.duration;let c,b;switch(this.direction){case "left":b="x";c=a.width;break;case "right":b="x";c=-a.width;break;case "up":b="y";c=a.height;break;case "down":b="y",c=-a.height}f.stopActiveAnimators(b);f.set(b,c);f.setVisible(!0);
return new Promise((h,p)=>{p=g=>{f.makeHighestZIndex();h(f)};0<e?f.animate({attribute:b,to:0,duration:e}).next(p):(f.set(b,0),f.makeHighestZIndex(),h(f))})},from:function(f){const a=f.getPanelStack(),e=this.duration;let c,b;switch(this.direction){case "left":b="x";c=-a.width;break;case "right":b="x";c=a.width;break;case "up":b="y";c=-a.height;break;case "down":b="y",c=a.height}f.stopActiveAnimators(b);return new Promise((h,p)=>{p=g=>{f.setVisible(!1);h(f)};0<e?f.animate({attribute:b,to:c,duration:e}).next(p):
(f.set(b,c),f.setVisible(!1),h(f))})}})})(myt);
(m=>{const v=JS.Module;var q=m.global;const n=q.dragManager,f=q.mouse;q=m.Draggable;const a=(c,b,h)=>{[b,h].forEach(p=>{c["__is"+p]=!1;c["__tmrId"+p]=null})},e=m.DragGroupSupport=new v("DragGroupSupport",{initNode:function(c,b){this.__dgs={"*":!0};this.__any=!0;this.callSuper(c,b)},setDragGroups:function(c){const b=this.__dgs={};for(const h in c)b[h]=!0;this.__any=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},addDragGroup:function(c){c&&(this.__dgs[c]=!0,"*"===c&&(this.__any=
!0))},removeDragGroup:function(c){c&&(delete this.__dgs[c],"*"===c&&(this.__any=!1))},acceptAnyDragGroup:function(){return this.__any}});m.DropSource=new v("DropSource",{include:[q],initNode:function(c,b){this.defAttr(b,"distanceBeforeDrag",2);null==b.dropParent&&(b.dropParent=c.getRoot());this.callSuper(c,b)},setDropClass:function(c){this.dropClass=m.resolveClassname(c)},setDropClassAttrs:function(c){this.dropClassAttrs=c},setDropParent:function(c){this.dropParent=c},startDrag:function(c){const b=
this.dropable=this.makeDropable();if(b){const h=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(c);b.__doMouseDown(c);b.distanceBeforeDrag=h}},doMouseUp:function(c){this.callSuper(c);const b=this.dropable;b&&(b.__doMouseUp(c),b.doMouseUp(c),this.dropable=null)},makeDropable:function(){const c=this.dropClass,b=this.dropParent;if(c&&b){const h=m.DomElementProxy.getRelativePosition(this.getIDE(),b.getIDE());return new c(b,Object.assign({},this.dropClassAttrs,{x:h.x||0,y:h.y||0}))}}});m.DropTarget=
new v("DropTarget",{include:[e],initNode:function(c,b){this.callSuper(c,b);n.registerDropTarget(this)},destroy:function(){n.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(c){return!this.disabled&&this.isVisible()},notifyDragStart:c=>{},notifyDragStop:c=>{},notifyDragEnter:c=>{},notifyDragLeave:c=>{},notifyDrop:c=>{}});m.Dropable=new v("Dropable",{include:[q,e],setDropTarget:function(c){this.dropTarget=c},setDropped:function(c){this.dropped=c},setDropFailed:function(c){this.dropFailed=
c},willPermitDrop:c=>!0,startDrag:function(c){this.setDropped(!1);this.setDropFailed(!1);n.startDrag(this);this.callSuper(c)},updateDrag:function(c){n.updateDrag(c,this);this.callSuper(c)},stopDrag:function(c,b){n.stopDrag(c,this,b);this.callSuper(c,b);b?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(c){this.setDropTarget(c)},notifyDragLeave:function(c){this.setDropTarget()},notifyDropped:function(c,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},
notifyDropFailed:()=>{},notifyDropAborted:()=>{}});m.AutoScroller=new v("AutoScroller",{include:[e],initNode:function(c,b){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(b,"overflow","auto");this.callSuper(c,b);n.registerAutoScroller(this)},destroy:function(){n.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(c){this.scrollBorder=Math.max(1,c)},setScrollFrequency:function(c){this.scrollFrequency=c},setScrollAmount:function(c){this.scrollAmount=
c},setScrollAcceleration:function(c){this.scrollAcceleration=c},notifyDragStart:function(c){c=this.getIDE();(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&this.attachToDom(f,"__hndlMove","mousemove",!0)},notifyDragStop:function(c){this.detachFromDom(f,"__hndlMove","mousemove",!0);a(this,"Up","Down");a(this,"Left","Right")},__hndlMove:function(c){const b=this;var h=c.value;c=h.pageX;h=h.pageY;if(b.containsPoint(c,h)){const p=b.getPagePosition(),g=b.scrollBorder,r=(d,u)=>{b["__is"+d]&&
(b.getIDE()["scroll"+("Up"===d||"Down"===d?"Top":"Left")]+=u*b["__amt"+d],b["__tmrId"+d]=setTimeout(()=>{r(d,u)},b.scrollFrequency))};c-=p.x;h-=p.y;h<g?(b.__isUp=!0,b.__amtUp=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-h/g))),b.__tmrIdUp||r("Up",-1)):b.height-h<g?(b.__isDown=!0,b.__amtDown=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-(b.height-h)/g))),b.__tmrIdDown||r("Down",1)):a(b,"Up","Down");c<g?(b.__isLeft=!0,b.__amtLeft=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-c/
g))),b.__tmrIdLeft||r("Left",-1)):b.width-c<g?(b.__isRight=!0,b.__amtRight=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-(b.width-c)/g))),b.__tmrIdRight||r("Right",1)):a(b,"Left","Right")}else a(b,"Up","Down"),a(b,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(m,v){if(v){const q=v.length;for(let n=0,f;q>n;)(f=v[n++])?this.extend(f):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.init(m||{})},init:function(m){this.callSetters(m);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(m=>{const v=Math,q=m.Geometry.degreesToRadians,n=b=>{var h=q(b.startAngle),p=q(b.endAngle);if(h>p){var g=h;h=p;p=g}g=b.__path;const r=b.width/2;var d=b.thickness;const u=b.radius,w=u+d;var l=v.PI;const x=p-h,B=x+1E-4>=2*l;B&&(h=0,p=l);const y=v.cos,A=v.sin;h=[[r+w*y(h),r+w*A(h)],[r+w*y(p),r+w*A(p)],[r+u*y(p),r+u*A(p)],[r+u*y(h),r+u*A(h)]];p=["M"+h[0].join()];B?p.push("A"+[w,w,0,1,1,h[1]].join(),"A"+[w,w,0,1,1,h[0]].join(),"L"+h[2].join(),"A"+[u,u,0,1,0,h[3]].join(),"A"+[u,u,0,1,0,h[2]].join()):(l=
x%(2*l)>l?1:0,d/=2,p.push("A"+[w,w,0,l,1,h[1]].join(),b.endCapRounding?"A"+[d,d,0,0,1,h[2]].join():"L"+h[2].join(),"A"+[u,u,0,l,0,h[3]].join(),b.startCapRounding?"A"+[d,d,0,0,1,h[0]].join():""));p.push("z");g.setAttribute("d",p.join(" "));g.setAttribute("fill",b.color)},f=b=>{const h=2*(b.radius+b.thickness),p=b.__svg;b.setWidth(h);b.setHeight(h);p.setAttribute("viewBox","0 0 "+h+" "+h);p.setAttribute("width",h);p.setAttribute("height",h);n(b)},a=(b,h,p)=>{b[h]!==p&&(b[h]=p,b.inited&&(n(b),b.fireEvent(h,
p)))},e=(b,h,p)=>{b[h]!==p&&(b[h]=p=v.max(0,p),b.inited&&(f(b),b.fireEvent(h,p)))},c=(b,h)=>{b=document.createElementNS("http://www.w3.org/2000/svg",b);h&&h.appendChild(b);return b};m.Annulus=new JS.Class("Annulus",m.BackView,{initNode:function(b,h){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(b,h);f(this)},createOurDomElement:function(b){b=this.callSuper(b);var h=Array.isArray(b)?b[1]:b;h=this.__svg=c("svg",h);this.__path=
c("path",h);h.style.pointerEvents="none";return b},setRadius:function(b){e(this,"radius",b)},setThickness:function(b){e(this,"thickness",b)},setStartAngle:function(b){a(this,"startAngle",b)},setEndAngle:function(b){a(this,"endAngle",b)},setStartCapRounding:function(b){a(this,"startCapRounding",b)},setEndCapRounding:function(b){a(this,"endCapRounding",b)},setColor:function(b){a(this,"color",b)},isColorAttr:function(b){return"color"===b||this.callSuper(b)}})})(myt);
(m=>{let v;const q=JS.Class,n=m.global,f=n.mouse,a=n.windowResize,e=Math,c=e.min,b=e.max,h=e.round,p=m.AccessorSupport.defAttr,g=l=>{l.__checkTID&&(clearTimeout(l.__checkTID),delete l.__checkTID)},r=l=>{if(l.tooltip){const x=l._lastPos;if(l.tooltip.parent.containsPoint(x.x,x.y))return!0}l.hideTip();return!1},d=m.BaseTooltip=new q("BaseTooltip",m.View,{include:[m.RootView],extend:{TIP_DELAY:500,TIP_HIDE_DELAY:100},initNode:function(l,x){this.tipDelay=this.nextTipDelay=d.TIP_DELAY;this.tipHideDelay=
d.TIP_HIDE_DELAY;p(x,"visible",!1);this.callSuper(l,x)},setTooltip:function(l){this.inited&&(this.tooltip=l)&&(this.attachToDom(f,"__hndl_mousemove","mousemove",!0),this.attachToDom(l.parent,"hideTip","mousedown",!0),this.attachToDom(l.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(l){const x=this;x._lastPos=m.MouseObservable.getMouseFromEvent(l);r(x)&&(g(x),x.__checkTID=setTimeout(()=>{delete x.__checkTID;r(x)&&x.showTip()},x.nextTipDelay))},hideTip:function(l){g(this);l=this.tooltip.parent;
this.detachFromDom(l,"hideTip","mousedown",!0);this.detachFromDom(l,"hideTip","mouseup",!0);this.detachFromDom(f,"__hndl_mousemove","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){n.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),u=m.Tooltip=new q("Tooltip",d,{extend:{EDGE_SIZE:0,EDGE_COLOR:"#444",SHADOW_SIZE:2,SHADOW_COLOR:"#00000033",HORIZONTAL_INSET:6,VERTICAL_INSET:3,TIP_BG_COLOR:"#444",
TIP_TEXT_COLOR:"#eee"},initNode:function(l,x){p(x,"edgeSize",u.EDGE_SIZE);p(x,"edgeColor",u.EDGE_COLOR);p(x,"shadowSize",u.SHADOW_SIZE);p(x,"shadowColor",u.SHADOW_COLOR);p(x,"insetH",u.HORIZONTAL_INSET);p(x,"insetV",u.VERTICAL_INSET);p(x,"tipBgColor",u.TIP_BG_COLOR);p(x,"tipTextColor",u.TIP_TEXT_COLOR);this.callSuper(l,x);new m.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(l){this.edgeSize=l},setEdgeColor:function(l){this.edgeColor=
l},setShadowSize:function(l){this.shadowSize=l},setShadowColor:function(l){this.shadowColor=l},setInsetH:function(l){this.insetH=l},setInsetV:function(l){this.insetV=l},setTipBgColor:function(l){this.tipBgColor=l},setTipTextColor:function(l){this.tipTextColor=l},showTip:function(){const l=this.tooltip;var x=l.text;const B=l.parent;var y=this._tipText;const A=this.edgeSize,C=this.shadowSize;y.text!==x&&y.setText(x);y.setWidth("auto");var k=c(y.measureNoWrapWidth(),l.maxTextWidth);x=k+2*y.x;const t=
x+2*A;y.setWidth(k);y.sizeViewToDom();k=B.getPagePosition();y=y.height+2*y.y;const z=y+2*A,E=k.y-z+("below"===l.tipvalign?B.height+z:0);k=k.x;switch(l.tipalign){case "right":k-=t;case "farright":k+=B.width;break;case "farleft":k-=t}this.setX(h(c(b(k,0),a.getWidth()-t)));this.setY(h(c(b(E,0),a.getHeight()-z)));this.setWidth(x);this.setHeight(y);this.setBgColor(this.tipBgColor);this.setBorder([A,"solid",this.edgeColor]);this.setBoxShadow([C,C,C,this.shadowColor]);this.callSuper()}}),w=m.TooltipMixin=
new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},setTooltip:function(l){this.callSuper("");this.set("tooltip",l,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(l){this.set("tipAlign",l,!0)},setTipValign:function(l){this.set("tipValign",l,!0)},setMaxTextWidth:function(l){this.set("maxTextWidth",l,!0)},setTipClass:function(l){this.set("tipClass",l,!0)},doSmoothMouseOver:function(l){const x=this.getTooltip();this.callSuper(l);if(l&&x){l=this.tipClass||w.TIP_CLASS;
!v||v instanceof l||(v.destroy(),v=null);if(!v){let B=document.getElementById("tooltipDiv");B||(B=m.DomElementProxy.createElement("div",{position:"absolute"}),m.getElement().appendChild(B));v=new l(B,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:x,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||w.MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(m){this.setVectors(m||[])},setVectors:function(m){this._boundingBox=null;this.vectors=m},copyFrom:function(m){this.vectors=m.vectors.slice();this._boundingBox=null},drawInto:function(m){m.beginPath();const v=this.vectors;let q=v.length,n=0;for(m.moveTo(v[n++],v[n++]);q>n;)m.lineTo(v[n++],v[n++]);m.closePath()},translate:function(m,v){const q=this.vectors;let n=q.length;for(;n;)q[--n]+=v,q[--n]+=m;this._boundingBox=null},rotate:function(m){const v=
Math.cos(m);m=Math.sin(m);const q=this.vectors,n=q.length;for(let f=0;n>f;){const a=q[f]*v-q[f+1]*m,e=q[f]*m+q[f+1]*v;q[f++]=a;q[f++]=e}this._boundingBox=null},rotateAroundOrigin:function(m,v,q){this.translate(-v,-q);this.rotate(m);this.translate(v,q)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const m=this.vectors;let v=m.length,q,n,f,a;if(2<=v){f=a=m[--v];for(q=n=m[--v];v;){const e=m[--v],c=m[--v];f=Math.min(e,f);a=Math.max(e,a);q=Math.min(c,q);n=Math.max(c,n)}return this._boundingBox=
{x:q,y:f,width:n-q,height:a-f}}return this._boundingBox=null},getCenter:function(){const m=this.getBoundingBox();return m?{x:m.x+m.width/2,y:m.y+m.height/2}:null},isPointInPath:function(m,v){"object"===typeof m&&(v=m.y,m=m.x);return myt.Geometry.isPointInPath(m,v,this.getBoundingBox(),this.vectors)}});
(m=>{const v=Math.PI,q=v/2,n=3*v/2,f=m.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(e=>{a[e]=function(){this.__ctx[e].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(e=>
{a[e]=function(){return this.__ctx[e].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(e=>{a[f.generateSetterName(e)]=function(c){this.__ctx[e]=c};a[f.generateGetterName(e)]=function(){return this.__ctx[e]}});m.Canvas=new JS.Class("Canvas",m.BackView,{include:[a],createOurDomElement:function(e){e=this.callSuper(e);const c=
Array.isArray(e)?e[1]:e,b=this.__cvs=document.createElement("canvas");b.className="mytUnselectable";c.appendChild(b);b.style.position="absolute";this.__ctx=b.getContext("2d");return e},setWidth:function(e,c){0>e&&(e=0);this.__cvs.setAttribute("width",e);this.callSuper(e,c)},setHeight:function(e,c){0>e&&(e=0);this.__cvs.setAttribute("height",e);this.callSuper(e,c)},clear:function(){const e=this.__ctx;e.save();e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,this.width,this.height);e.restore()},dataURItoBlob:function(e,
c){e=atob(e.split(",")[1]);const b=e.length,h=[];for(let p=0;p<b;)h.push(e.charCodeAt(p++));return new Blob([new Uint8Array(h)],{type:c})},getDataURL:function(e,c){return this.__cvs.toDataURL(e,c)},getImageFile:function(e,c,b){switch(e){case "png":case "PNG":e="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":e="jpeg";null==b&&(b=.5);break;default:console.warn("Unexpected image type",e),e=e.toLowerCase()}const h="image/"+e;b=this.dataURItoBlob(this.getDataURL(h,b),h);c&&(b.name=c+"."+e);return b},
circle:function(e,c,b){this.__ctx.arc(e,c,b,0,2*v)},drawRoundedRect:function(e,c,b,h,p,g){const r=this.lineTo.bind(this),d=this.arc.bind(this);g=h+g;p=b+p;this.beginPath();this.moveTo(b,h+e);r(b,g-e);d(b+e,g-e,e,v,q,!0);r(p-e,g);d(p-e,g-e,e,q,0,!0);r(p,h+e);d(p-e,h+e,e,0,n,!0);r(b+e,h);d(b+e,h+e,e,n,v,!0);this.closePath();0<c&&(e-=c,b+=c,p-=c,h+=c,g-=c,this.moveTo(b,h+e),d(b+e,h+e,e,v,n),r(p-e,h),d(p-e,h+e,e,n,0),r(p,g-e),d(p-e,g-e,e,0,q),r(b+e,g),d(b+e,g-e,e,q,v),this.closePath());return this},drawRectOutline:function(e,
c,b,h,p){p=b+p;h=c+h;const g=c+e,r=h-e,d=b+e;e=p-e;const u=this.lineTo.bind(this);this.beginPath();this.moveTo(c,b);u(c,p);u(h,p);u(h,b);u(c,b);u(g,d);u(r,d);u(r,e);u(g,e);u(g,d);this.closePath();return this},drawPartiallyRoundedRect:function(e,c,b,h,p,g,r,d){d=g+d;r=p+r;const u=this.lineTo.bind(this),w=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(p,g+e);u(p,d-b);0<b&&w(p,d,p+b,d);u(r-h,d);0<h&&w(r,d,r,d-h);u(r,g+c);0<c&&w(r,g,r-c,g);u(p+e,g);0<e&&w(p,g,p,g+e);this.closePath();return this},
drawAnnulus:function(e,c,b,h,p,g,r,d=60){const u=m.Color;r.forEach(I=>{"string"===typeof I.color&&(I.color=u.makeColorFromHexString(I.color))});d=v/d;let w=0;for(;r.length-1>w;){var l=r[w++],x=r[w],B=Math.round((x.angle-l.angle)/d);x=l.color.getDiffFrom(x.color);l.colorDelta={red:x.red/B,green:x.green/B,blue:x.blue/B}}b=new m.Path([e+b,c,e+h,c]);b.rotateAroundOrigin(p,e,c);h=b.vectors;let y,A;l=h[0];B=h[1];x=h[2];let C=h[3],k=0,t=v/360;for(w=0;g>p;){y=l;A=B;var z=x;var E=C;p+=d;p>g&&(d+=g-p,t=0,p=
g);b.rotateAroundOrigin(d+t,e,c);l=h[0];B=h[1];x=h[2];C=h[3];this.beginPath();this.moveTo(y,A);this.lineTo(z,E);this.lineTo(x,C);this.lineTo(l,B);this.closePath();z=r[w].color;E=r[w].colorDelta;this.setFillStyle(u.rgbToHex(z.red+k*E.red,z.green+k*E.green,z.blue+k*E.blue,!0));this.fill();0<t&&(b.rotateAroundOrigin(-t,e,c),l=h[0],B=h[1],x=h[2],C=h[3]);k++;p>=r[w+1].angle&&(k=0,w++)}return this}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

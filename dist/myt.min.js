'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,h,k){e!=Array.prototype&&e!=Object.prototype&&(e[h]=k.value)};
$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var h=0;h<e.length;++h){var k=e[h];if(k&&k.Math==Math)return k}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,h,k,g){if(h){k=$jscomp.global;e=e.split(".");for(g=0;g<e.length-1;g++){var d=e[g];d in k||(k[d]={});k=k[d]}e=e[e.length-1];g=k[e];h=h(g);h!=g&&null!=h&&$jscomp.defineProperty(k,e,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.includes",function(e){return e?e:function(e,k){var g=this;g instanceof String&&(g=String(g));var d=g.length;k=k||0;for(0>k&&(k=Math.max(k+d,0));k<d;k++){var c=g[k];if(c===e||Object.is(c,e))return!0}return!1}},"es7","es3");
$jscomp.arrayIteratorImpl=function(e){var h=0;return function(){return h<e.length?{done:!1,value:e[h++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.makeIterator=function(e){var h="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return h?h.call(e):$jscomp.arrayIterator(e)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise.prototype.finally",function(e){return e?e:function(e){return this.then(function(k){return Promise.resolve(e()).then(function(){return k})},function(k){return Promise.resolve(e()).then(function(){throw k;})})}},"es9","es3");$jscomp.polyfill("String.prototype.trimLeft",function(e){function h(){return this.replace(/^[\s\xa0]+/,"")}return e||h},"es_2019","es3");$jscomp.polyfill("String.prototype.trimStart",function(e){return e||String.prototype.trimLeft},"es_2019","es3");
$jscomp.polyfill("String.prototype.trimRight",function(e){function h(){return this.replace(/[\s\xa0]+$/,"")}return e||h},"es_2019","es3");$jscomp.polyfill("String.prototype.trimEnd",function(e){return e||String.prototype.trimRight},"es_2019","es3");$jscomp.owns=function(e,h){return Object.prototype.hasOwnProperty.call(e,h)};$jscomp.polyfill("Object.values",function(e){return e?e:function(e){var k=[],g;for(g in e)$jscomp.owns(e,g)&&k.push(e[g]);return k}},"es8","es3");
(e=>{let h;var k=c=>{let b,a=c.length;for(;a;)if(b=c[--a],h=b.ver||b.id,b.str&&0<=b.str.indexOf(b.sub)||b.prop)return b.id};var g=c=>{const b=c.indexOf(h);if(0<=b)return parseFloat(c.substring(b+h.length+1))};const d=navigator.userAgent,c=navigator.platform;g=e.BrowserDetect={browser:k([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:d,sub:"Firefox",id:"Firefox"},{str:d,sub:"Chrome",id:"Chrome"},{str:d,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:g(d)||g(navigator.appVersion)||"UNKNOWN",os:k([{str:d,sub:"iPhone",id:"iPhone/iPod"},{str:c,sub:"Linux",id:"Linux"},{str:c,sub:"Mac",id:"Mac"},{str:c,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(g.browser){case "Chrome":case "Safari":e="WebKit";break;case "Explorer":e="MS";break;case "Firefox":e="Moz";break;case "Opera":e="O";break;default:e="UNKNOWN"}k=e.toLowerCase();g.prefix={dom:e,lowercase:k,css:"-"+k+"-",js:k[0].toUpperCase()+k.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const e=Math,h=e.abs,k=e.floor,g=e.ceil,d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),f="Sun Mon Tue Wed Thu Fri Sat".split(" "),b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),a={d:a=>(10>a.getDate()?"0":"")+a.getDate(),D:a=>f[a.getDay()],j:a=>a.getDate(),l:a=>b[a.getDay()],N:a=>0==a.getDay()?7:a.getDay(),
S:a=>1==a.getDate()%10&&11!=a.getDate()?"st":2==a.getDate()%10&&12!=a.getDate()?"nd":3==a.getDate()%10&&13!=a.getDate()?"rd":"th",w:a=>a.getDay(),z:a=>{const b=new Date(a.getFullYear(),0,1);return g((a-b)/864E5)},W:a=>{var b=new Date(a.valueOf());a=(a.getDay()+6)%7;b.setDate(b.getDate()-a+3);a=b.valueOf();b.setMonth(0,1);4!==b.getDay()&&b.setMonth(0,1+(4-b.getDay()+7)%7);b=1+g((a-b)/6048E5);return 10>b?"0"+b:b},F:a=>c[a.getMonth()],m:a=>(9>a.getMonth()?"0":"")+(a.getMonth()+1),M:a=>d[a.getMonth()],
n:a=>a.getMonth()+1,t:a=>{let b=a.getFullYear();a=a.getMonth()+1;12===a&&(b=b++,a=0);return(new Date(b,a,0)).getDate()},L:a=>{a=a.getFullYear();return 0==a%400||0!=a%100&&0==a%4},o:a=>{const b=new Date(a.valueOf());b.setDate(b.getDate()-(a.getDay()+6)%7+3);return b.getFullYear()},Y:a=>a.getFullYear(),y:a=>(""+a.getFullYear()).substr(2),a:a=>12>a.getHours()?"am":"pm",A:a=>12>a.getHours()?"AM":"PM",B:a=>k(1E3*((a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/3600)/24),g:a=>a.getHours()%
12||12,G:a=>a.getHours(),h:a=>(10>(a.getHours()%12||12)?"0":"")+(a.getHours()%12||12),H:a=>(10>a.getHours()?"0":"")+a.getHours(),i:a=>(10>a.getMinutes()?"0":"")+a.getMinutes(),s:a=>(10>a.getSeconds()?"0":"")+a.getSeconds(),u:a=>{a=a.getMilliseconds();return(10>a?"00":100>a?"0":"")+a},e:a=>/\((.*)\)/.exec((new Date).toString())[1],I:a=>{let b=null,c=0;for(;12>c;){const d=(new Date(a.getFullYear(),c++,1)).getTimezoneOffset();if(null===b)b=d;else if(d<b){b=d;break}else if(d>b)break}return a.getTimezoneOffset()==
b|0},O:a=>(0>-a.getTimezoneOffset()?"-":"+")+(10>h(a.getTimezoneOffset()/60)?"0":"")+k(h(a.getTimezoneOffset()/60))+(0==h(a.getTimezoneOffset()%60)?"00":(10>h(a.getTimezoneOffset()%60)?"0":"")+h(a.getTimezoneOffset()%60)),P:a=>(0>-a.getTimezoneOffset()?"-":"+")+(10>h(a.getTimezoneOffset()/60)?"0":"")+k(h(a.getTimezoneOffset()/60))+":"+(0==h(a.getTimezoneOffset()%60)?"00":(10>h(a.getTimezoneOffset()%60)?"0":"")+h(a.getTimezoneOffset()%60)),T:a=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:a=>
60*-a.getTimezoneOffset(),c:a=>a.format("Y-m-d\\TH:i:sP"),r:a=>a.toString(),U:a=>a.getTime()/1E3};return function(b){const c=this;return b.replace(/(\\?)(.)/g,(b,d,f)=>""===d&&a[f]?a[f](c):f)}})();
(e=>{const h=(a,b)=>{if(a&&b)for(const c in b)a[c]===b[c]||a.hasOwnProperty(c)||(a[c]=b[c]);return a},k=a=>{const b=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},c=function(){};c.prototype=(a||Object).prototype;b.prototype=new c;return b},g=(a,b)=>{const c=!b;if(c&&a.__anc__)return a.__anc__.slice();b=b||[];const d=a.__inc__,f=d.length;for(let a=0;a<f;)g(d[a++],b);b.includes(a)||b.push(a);c&&(a.__anc__=b.slice());return b},d=(a,b)=>{var c=a.__mct__[b];if(c)return c.slice();
c=g(a);const d=c.length,f=[];for(let a=0;a<d;){const d=c[a++].__fns__;d.hasOwnProperty(b)&&f.push(d[b])}a.__mct__[b]=f.slice();return f},c=(a,b)=>{const c=a.callable;return a.__hs?function(){const f=this.callSuper,l=this.hasOwnProperty("callSuper"),n=d(b,a.name);let m=n.length-1;if(0===m)delete this.callSuper;else{const a=Array.from(arguments),b=this.callSuper=(...c)=>{let d=c.length;for(;d;)a[--d]=c[d];0===--m&&delete this.callSuper;c=n[m].apply(this,a);this.callSuper=b;m++;return c}}const e=c.apply(this,
arguments);l?this.callSuper=f:delete this.callSuper;return e}:c},f=(a,b)=>{b=b||a;if(b===a){a.__anc__=null;a.__mct__={};for(var d=a.__dep__.length;d;)f(a.__dep__[--d])}if(d=b.__tgt__){var l=a.__inc__;a=a.__fns__;const n=l.length;for(let a=0;a<n;)f(l[a++],b);for(const f in a)l=a[f],l=l instanceof m?c(l,b):l,d[f]!==l&&(d[f]=l)}},b=a=>a.__meta__?a.__meta__:(a.__meta__=new l("",null,{_target:a})).include(a.klass,{_rslv:!1}),a=a=>"function"!==typeof a||a.__fns__&&a.__inc__,m=e.Method=k(),p=(a,b,c)=>c&&
c.__inc__&&c.__fns__||"function"!==typeof c?c:new m(a,b,c),l=e.Module=k();h(m.prototype,{initialize:function(a,b,c){this.module=a;this.name=b;this.callable=c;this.__hs="function"===typeof c&&-1!==c.toString().indexOf("callSuper")},call:function(...a){return this.callable(...a)},apply:function(a,b){return this.callable.apply(a,b)}});h(l.prototype,{initialize:function(a,b,c){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(c||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
a;this.include(b,{_rslv:!1})},define:function(a,b,c){this.__fns__[a]=p(this,a,b);!1!==(c||{})._rslv&&f(this)},include:function(b,c){if(b){if(b.__fns__&&b.__inc__)this.__inc__.push(b),b.__dep__.push(this);else{var d=b.extend,l=b.include;const c={_rslv:!1};if(a(d)){d=[].concat(d);for(let a=0,b=d.length;a<b;)this.extend(d[a++])}if(a(l)){l=[].concat(l);for(let a=0,b=l.length;a<b;)this.include(l[a++],c)}for(const d in b)b.hasOwnProperty(d)&&(l=b[d],("extend"!==d&&"include"!==d||!a(l))&&this.define(d,l,
c))}!1!==(c||{})._rslv&&f(this)}return this},includes:function(a){if(a===this)return!0;const b=this.__inc__,c=b.length;for(let d=0;d<c;)if(b[d++].includes(a))return!0;return!1},instanceMethod:function(a){return d(this,a).pop()}});const n=new l("Kernel",{equals:function(a){return this===a},extend:function(a,c){a&&b(this).include(a,{_rslv:(c||{})._rslv});return this},isA:function(a){return"function"===typeof a&&this instanceof a||b(this).includes(a)}}),q=e.Class=k(l);h(q.prototype,{initialize:function(a,
c,d,m){"function"!==typeof c&&(m=d,d=c,c=Object);l.prototype.initialize.call(this,a);a=(m||{})._rslv;m={_rslv:!1};const e=k(c);h(e,this);e.prototype.constructor=e.prototype.klass=e;b(e).include(c.__meta__,{_rslv:a});e.__tgt__=e.prototype;c=c===Object?{}:c.__fns__?c:new l(c.prototype,m);e.include(n,m).include(c,m).include(d,m);!1!==a&&f(e);return e}});const t=(a,b)=>{a.__inc__=[];a.__dep__=[];const c=a.__tgt__=a.prototype,d=a.__fns__={};for(const b in c)c.hasOwnProperty(b)&&(d[b]=p(a,b,c[b]));c.constructor=
c.klass=a;h(a,q.prototype);a.include(b);a.constructor=a.klass=q};t(m,n);t(l,n);t(q,l);f(b(m));f(b(l));b(q).include(l.__meta__);e.Singleton=new q("Singleton",{initialize:(a,b,c)=>new (new q(a,b,c))})})(global.JS||(global.JS={}));
(e=>{class h extends Error{constructor(a,b,...c){super(...c);this.name="FetchError";this.status=a;this.url=b}}let k=0;const g={},d={"":!0},c=document.fonts,f=a=>{a=a.family+" "+a.weight;0<=a.indexOf("\\35 ")&&(a=a.replace(/\\35 /g,"5"));if(!d[a])for(d[a]=!0,a=g[a]||[];a.length;){var b=a.pop();b&&!b.destroyed&&b.sizeViewToDom()}},b=e.myt={version:2.02107231606E7,IMAGE_ROOT:global.MYT_IMAGE_ROOT||"",generateGuid:()=>++k,addEventListener:(a,b,c,d,f)=>{a.addEventListener(b,c,{capture:d||!1,passive:f||
!1})},removeEventListener:(a,b,c,d)=>{a.removeEventListener(b,c,d||!1)},resolveName:(a,b)=>{if(a&&0!==a.length){b=b||global;var c=Array.isArray(a)?a:a.split("."),d=c.length;for(let f=0;f<d;f++)if(b=b[c[f]],void 0===b){console.warn("resolveName failed for:",a,"at part:",f,c[f]);return}return b}},resolveClassname:a=>{"string"===typeof a&&(a=b.resolveName(a));return a&&"function"===typeof a.isA&&a.isA(JS.Class)?a:null},getExtension:a=>a?a.split(".")[1]:null,loadScript:function(a,b,c){const d=this._loadedScripts||
(this._loadedScripts={});if(d[a])return console.warn("script already loaded for src",a),null;{d[a]=!0;const f=document.createElement("script");f.type="text/javascript";f.async=!1;if(b){let a=!1;f.onload=f.onreadystatechange=function(){a||this.readyState&&"complete"!==this.readyState||(a=!0,f.onload=f.onreadystatechange=null,b())}}f.src=a+(c?"":(-1!==a.indexOf("?")?"&":"?")+"cacheBust="+Date.now());this.getElement("head").appendChild(f);return f}},dumpStack:(a,c)=>{let d;"string"===typeof a&&(d=a,
a=null);b.global.error.notify(c||"error",null,d,a)},getRandom:a=>{let b=Math.random();a&&(b=a(b),1<=b?b=.9999999999:0>b&&(b=0));return b},getRandomArbitrary:(a,c,d)=>{if(a>c){const b=a;a=c;c=b}return b.getRandom(d)*(c-a)+a},getRandomInt:(a,c,d)=>{if(a>c){const b=a;a=c;c=b}return Math.floor(b.getRandom(d)*(c-a+1)+a)},areFloatsEqual:(a,b,c)=>{const d=Math.abs(a),f=Math.abs(b);c=c?Math.abs(c):1E-6;return Math.abs(a-b)<=(d>f?f:d)*c},areArraysEqual:(a,b)=>{if(a!==b){if(null==a||null==b)return!1;let c=
a.length;if(c!==b.length)return!1;for(;c;)if(a[--c]!==b[c])return!1}return!0},areObjectsEqual:(a,b)=>{if(a!==b){if(null==a||null==b)return!1;for(const c in a)if(a[c]!==b[c])return!1;for(const c in b)if(a[c]!==b[c])return!1}return!0},getElement:(a,b)=>document.getElementsByTagName(a||"body")[0<b?b:0],loadFontFaces:(a,b)=>{const d=[];a.forEach(a=>{a=new FontFace(a.family,"url("+a.url+")",a.options);d.push(a.load())});Promise.all(d).then(a=>{a.forEach(a=>{c.add(a);f(a)});b&&b(a)})},loadFontFace:(a,b,
d={},l)=>{a=new FontFace(a,"url("+b+")",d);a.loaded.then(a=>{c.add(a);f(a);l&&l(a)});a.load()},registerForFontNotification:(a,b)=>{d[b]?a&&!a.destroyed&&a.sizeViewToDom():(g[b]||(g[b]=[])).push(a)},createBaseFontCSSRule:a=>{b.addCSSRule(b.createStylesheet(),"body, input","font-family:"+a,0)},loadCSSFonts:a=>{(a||[]).forEach(a=>{const b=document.createElement("link");b.rel="stylesheet";b.href=a;document.head.appendChild(b)})},createStylesheet:()=>{const a=document.createElement("style");document.head.appendChild(a);
return a.sheet},addCSSRule:(a,b,c,d)=>{"insertRule"in a?a.insertRule(b+"{"+c+"}",d):"addRule"in a&&a.addRule(b,c,d)},removeCSSRules:a=>{let b=a.cssRules.length;for(;b;)b--,"deleteRule"in a?a.deleteRule(b):"removeRule"in a&&a.removeRule(b)},createInputPlaceholderCSSRule:(a,c,d)=>{const f=a.getOuterDomElement().id||(a.getOuterDomElement().id="id"+b.generateGuid());let n=a.__sheet,e=[];n?b.removeCSSRules(n):n=a.__sheet=b.createStylesheet();c&&e.push("color:"+c);d&&e.push("font-family:"+d);e=e.join("; ");
switch(BrowserDetect.browser){case "Chrome":case "Safari":b.addCSSRule(n,"#"+f+"::-webkit-input-placeholder",e,0);break;case "Firefox":b.addCSSRule(n,"#"+f+":-moz-placeholder","opacity:1; "+e,0);b.addCSSRule(n,"#"+f+"::-moz-placeholder","opacity:1; "+e,0);break;case "Explorer":b.addCSSRule(n,"#"+f+":-ms-input-placeholder",e,0)}},formatAsPercentage:(a,b=2)=>{if("number"===typeof a)return b=Math.max(16,Math.min(0,b)),a=Math.round(Math.max(0,Math.min(1,a))*Math.pow(10,2+b))/Math.pow(10,b),(0===a%1?a:
a.toFixed(b))+"%";"string"!==typeof a&&console.warn("formatAsPercentage: expects a number");return a},memoize:a=>function(){const b=JSON.stringify(arguments),c=a.__cache||(a.__cache={});return b in c?c[b]:c[b]=a.apply(this,arguments)},debounce:function(a,b,c){return function(){const d=this,f=d.__DBTO,e=arguments,m=c&&!f;clearTimeout(f);d.__DBTO=setTimeout(function(){d.__DBTO=null;c||a.apply(d,e)},b);m&&a.apply(d,e)}},createFixedThresholdCounter:(a,c,d,f)=>{var l=b.AccessorSupport.generateName;const e=
"function"===typeof a||a instanceof JS.Module,m={};f=f||l("counter",d);let g=l(f,"increment");l=l(f,"decrement");if(void 0!==(e?a.instanceMethod(g):a[g]))return console.warn("Can't clobber existing property during setup of increment function.",g,a),!1;if(void 0!==(e?a.instanceMethod(l):a[l]))return console.warn("Can't clobber existing property during setup of decrement function.",l,a),!1;m[g]=function(){const a=this[f]+1;this[f]=a;this.fireEvent(f,a);a===c&&this.set(d,!0)};m[l]=function(){const a=
this[f];if(0!==a){var b=a-1;this[f]=b;this.fireEvent(f,b);a===c&&this.set(d,!1)}};a[e?"include":"extend"](m);return!0},makeURLSearchParams:(a={})=>{const b=new URLSearchParams;for(const c in a){const d=a[c];void 0!==d&&b.set(c,d)}return b},doFetch:(a,b,c,d,f,e)=>fetch(a,b).then(b=>{if(!b.ok)throw new h(b.status,a,b.statusText);return b}).then(a=>c?a.text():a.json()).then(b=>{if(d)try{if(c)d(b);else{if(!1===b.success)throw new h(200,a,b.message);d(b.data)}}catch(y){throw b=new h(200,a,y.message),b.stack=
y.stack,b;}}).catch(b=>{if(f){if("FetchError"!==b.name){const c=new h(0,a,b.message);c.stack=b.stack;b=c}f(b)}}).finally(a=>{e&&e()})};c.onloadingdone=a=>{a.fontfaces.forEach(a=>{f(a)})}})(global);
(e=>{const h=Object.assign,k=(d,c)=>{0===d.indexOf('"')&&(d=d.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return c?JSON.parse(d):d}catch(f){}},g=e.Cookie={defaults:{raw:!1,json:!1},read:(d,c)=>{c=h({},g.defaults,c);const f=c.raw?a=>a:a=>decodeURIComponent(a.replace(/\+/g," "));c=c.json;const b=document.cookie.split("; "),a=b.length,e=d?void 0:{};for(let l=0;l<a;){var p=b[l++].split("=");const a=f(p.shift());p=f(p.join("="));if(d){if(d===a)return k(p,c)}else e[a]=k(p,c)}return e},write:(d,
c,f)=>{f=h({},g.defaults,f);if("number"===typeof f.expires){const b=f.expires,a=f.expires=new Date;a.setDate(a.getDate()+b)}c=f.json?JSON.stringify(c):String(c);return document.cookie=[f.raw?d:encodeURIComponent(d),"=",f.raw?c:encodeURIComponent(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")},remove:(d,c)=>void 0!==g.read(d,c)?(g.write(d,"",h({},c,{expires:-1})),!0):!1}})(myt);
(e=>{const h=global.localStorage,k=(d,c,f)=>{if(0<c){const b="__timerId_"+f;(f=g[b])&&clearTimeout(f);g[b]=setTimeout(()=>{d();delete g[b]},c)}else d()},g=e.LocalStorage={hasDatum:(d,c)=>{if(d&&(c=g.getItem(c||"myt")))try{return null!=JSON.parse(c)[d]}catch(f){console.error(f)}return!1},getDatum:(d,c)=>{if(d&&(c=g.getItem(c||"myt")))try{const f=JSON.parse(c);if("object"===typeof f)return f[d]}catch(f){console.error(f)}},setDatum:(d,c,f,b)=>{f=f||"myt";k(()=>{const a=g.getData(f);a[d]=c;g.setItem(f,
JSON.stringify(a))},b,f+"___"+d)},removeDatum:(d,c,f)=>{c=c||"myt";k(()=>{const b=g.getData(c);delete b[d];g.setItem(c,JSON.stringify(b))},f,c+"___"+d)},hasData:d=>null!=g.getItem(d||"myt"),getData:d=>{if(d=g.getItem(d||"myt"))try{return JSON.parse(d)}catch(c){console.error(c)}return{}},setData:(d,c,f)=>{c=c||"myt";null==d&&(d={});return"object"===typeof d?(k(()=>{g.setItem(c,JSON.stringify(d))},f,c),!0):!1},removeData:(d,c)=>{d=d||"myt";k(()=>{g.removeItem(d)},c,d)},getLength:()=>h.length,getKey:d=>
h.key(d),getItem:d=>h.getItem(d),setItem:(d,c)=>{h.setItem(d,c)},removeItem:d=>{h.removeItem(d)},clear:()=>{h.clear()},get:d=>g.getItem(d),set:(d,c)=>{g.setItem(d,c)},remove:d=>{g.removeItem(d)},clearAll:()=>{g.clear()}}})(myt);
(e=>{const h=/(?:^|&)([^&=]*)=?([^&]*)/g,k=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;e.URI=new JS.Class("URI",{initialize:function(d,c){d&&this.parse(d,c)},setSource:function(d){this.source=d},setProtocol:function(d){this.protocol=
d},setAuthority:function(d){this.authority=d},setUserInfo:function(d){this.userInfo=d},setUser:function(d){this.user=d},setPassword:function(d){this.password=d},setHost:function(d){this.host=d},setPort:function(d){this.port=d},setRelative:function(d){this.relative=d},setPath:function(d){this.path=d},setDirectory:function(d){this.directory=d},setFile:function(d){this.file=d},setQuery:function(d){this.query=d},setAnchor:function(d){this.anchor=d},parse:function(d,c){const f=this;d=(c?g:k).exec(d);f.setSource(d[0]||
"");f.setProtocol(d[1]||"");f.setAuthority(d[2]||"");f.setUserInfo(d[3]||"");f.setUser(d[4]||"");f.setPassword(d[5]||"");f.setHost(d[6]||"");f.setPort(d[7]||"");f.setRelative(d[8]||"");f.setPath(d[9]||"");f.setDirectory(d[10]||"");f.setFile(d[11]||"");f.setQuery(d[12]||"");f.setAnchor(d[13]||"");f.queryPairs={};f.query.replace(h,(b,a,c)=>{a&&(f.queryPairs[a]=c)})},decodeQueryParam:d=>decodeURIComponent(d).replace("+"," "),getQuery:function(){var d=this.queryPairs;const c=[];for(const f in d)c.push(f+
"="+encodeURIComponent(this.getQueryParam(f)));d=c.join("&");return 0<d.length?"?"+d:d},getQueryParam:function(d){d=this.queryPairs[d];return null==d?void 0:this.decodeQueryParam(d)},getPathParts:function(d){const c=this.path.split("/");if(!d)for(d=c.length;d;)0===c[--d].length&&c.splice(d,1);return c},toString:function(d){const c=this.protocol,f=this.host,b=this.userInfo,a=this.port,e=this.path;d=d?this.query?"?"+this.query:"":this.getQuery();const g=this.anchor;let l="";c&&(l+=c+"://");b&&f&&(l+=
b+"@");f&&(l+=f,a&&(l+=":"+a));e?l+=e:f&&(d||g)&&(l+="/");d&&(l+=d);g&&(l+="#"+g);return l}})})(myt);
(e=>{const h=Math,k=h.PI,g=h.cos,d=h.sin,c=h.sqrt,f=e.Geometry={getClosestPointOnALineToAPoint:(b,a,c,d,f,n)=>{c-=b;d-=a;f=(c*(f-b)+d*(n-a))/(c*c+d*d);return{x:b+c*f,y:a+d*f}},getClosestPointOnASegmentToAPoint:(b,a,c,d,f,n)=>{const l=c-b,e=d-a;f=(l*(f-b)+e*(n-a))/(l*l+e*e);return 0>f?{x:b,y:a}:1<f?{x:c,y:d}:{x:b+l*f,y:a+e*f}},isPointInPath:(b,a,c,d)=>{"object"===typeof b&&(d=c,c=a,a=b.y,b=b.x);if(f.rectContainsPoint(b,a,c)&&(c=d.length,6<=c)){let f=!1,n=d[0],e=d[1],m,g;for(;c;)g=d[--c],m=d[--c],g>
a!==e>a&&b<(n-m)*(a-g)/(e-g)+m&&(f=!f),n=m,e=g;return f}return!1},rectContainsPoint:(b,a,c,d,f,n)=>{"object"===typeof b&&(n=f,f=d,d=c,c=a,a=b.y,b=b.x);"object"===typeof c&&(n=c.height,f=c.width,d=c.y,c=c.x);return b>=c&&a>=d&&b<=c+f&&a<=d+n},circleContainsPoint:(b,a,c,d,l)=>f.measureDistance(b,a,c,d,!0)<=l*l,measureDistance:(b,a,d,f,l)=>{b=d-b;a=f-a;a=b*b+a*a;return l?a:c(a)},degreesToRadians:b=>b*k/180,radiansToDegrees:b=>180*b/k,circleContainsLatLng:(b,a,c,d,l,n)=>f.measureLatLngDistance(b,a,c,
d,n)<=l,measureLatLngDistance:(b,a,c,e,l)=>{void 0===l&&(l=6371);b=f.degreesToRadians(b);a=f.degreesToRadians(a);c=f.degreesToRadians(c);e=f.degreesToRadians(e);return l*h.acos(d(b)*d(c)+g(b)*g(c)*g(e-a))},polarToCartesian:(b,a,c,e)=>{null==c&&(c=0);null==e&&(e=0);a%=360;let l;0===a?(a=b,b=0):90===a?a=0:180===a?(a=-b,b=0):270===a?(a=0,b=-b):(l=f.degreesToRadians(a),a=b*g(l),b*=d(l));return[c+a,e+b]},cartesianToPolar:(b,a,d,e,l)=>{null==d&&(d=0);null==e&&(e=0);b-=d;e=a-e;a=c(b*b+e*e);e=h.atan2(e,b);
0>e&&(e+=2*k);return[a,l?e:f.radiansToDegrees(e)]}}})(myt);
(e=>{const h=JS.Module;e.Observable=new h("Observable",{attachObserver:function(e,g,d){return e&&g&&d?(this.getObservers(d).push(g,e),!0):!1},detachObserver:function(e,g,d){if(e&&g&&d){var c=this.__obsbt;if(c&&(d=c[d])){c=!1;let f=d.length;for(;f;)--f,e===d[f--]&&g===d[f]&&(d.splice(f,2),c=!0);return c}}return!1},detachAllObservers:function(){const e=this.__obsbt;if(e)for(const g in e){const d=e[g];let c=d.length;for(;c;){const f=d[--c],b=d[--c];f&&b&&("function"===typeof f.detachFrom&&f.detachFrom(this,
b,g)||d.splice(c,2))}}},getObservers:function(e){const g=this.__obsbt||(this.__obsbt={});return g[e]||(g[e]=[])},hasObservers:function(e){const g=this.__obsbt;return g?(e=g[e])&&0<e.length:!1},createEvent:function(e,g){return{source:this,type:e,value:g}},isFiringEvent:function(e){return(this.__aet||(this.__aet={}))[e]},fireEvent:function(k,g,d){if(d=d||(this.hasObservers(k)?this.__obsbt[k]:null)){g={source:this,type:k,value:g};const c=this.__aet||(this.__aet={});if(!0===c[k])e.global.error.notifyWarn("eventLoop",
"Attempt to refire active event: "+k);else{c[k]=!0;let f=d.length;for(;f;){const b=d[--f],a=d[--f];if(b&&a)try{if("function"===typeof a){if(a.call(b,g))break}else if(b[a](g))break}catch(m){e.dumpStack(m)}}c[k]=!1}}}});e.Observer=new h("Observer",{valueFromEvent:e=>e&&"object"===typeof e&&e.type?e.value:e,syncTo:function(k,g,d,c,f){void 0===c&&(c=d);try{this[g](k.createEvent(d,k.get(c)))}catch(b){e.dumpStack(b)}f||this.attachTo(k,g,d,f)},isAttachedTo:function(e,g,d){if(e&&g&&d){var c=this.__obt;if(c&&
(d=c[d]))for(c=d.length;c;)if(--c,e===d[c--]&&g===d[c])return!0}return!1},getObservables:function(e){const g=this.__obt||(this.__obt={});return g[e]||(g[e]=[])},hasObservables:function(e){const g=this.__obt;return g?(e=g[e])&&0<e.length:!1},attachTo:function(e,g,d,c){if(e&&g&&d){const f=this.getObservables(d);if(c){const b=this,a=g;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);g="__DO_ONCE_"+this.__methodNameCounter++;this[g]=c=>{b.detachFrom(e,g,d);delete b[g];return b[a](c)}}if(e.attachObserver(this,
g,d))return f.push(g,e),!0}return!1},detachFrom:function(e,g,d){if(e&&g&&d){var c=this.__obt;if(c&&(c=c[d])){let f=!1,b=c.length;for(;b;)--b,e===c[b--]&&g===c[b]&&e.detachObserver(this,g,d)&&(c.splice(b,2),f=!0);return f}}return!1},detachFromAllObservables:function(){const e=this.__obt;if(e)for(const g in e){const d=e[g];let c=d.length;for(;c;)d[--c].detachObserver(this,d[--c],g);d.length=0}},constrain:function(k,g){if(k&&g){const c=g.length;if(0!==c%2)console.log("Observables not even.",this);else{var d=
this.__cbmn||(this.__cbmn={});d=d[k]||(d[k]=[]);if(0<d.length)console.log("Constraint already exists for "+k+" on "+this);else{for(let f=0;c!==f;){const b=g[f++],a=g[f++];b&&a&&(this.attachTo(b,k,a),d.push(b,a))}try{this[k]()}catch(f){e.dumpStack(f)}}}}},releaseConstraint:function(e){if(e){var g=this.__cbmn;if(g&&(g=g[e])){let d=g.length;for(;d;){const c=g[--d],f=g[--d];this.detachFrom(f,e,c)}g.length=0}}},releaseAllConstraints:function(){const e=this.__cbmn;if(e)for(const g in e)this.releaseConstraint(g)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(e,h){this.hasOwnProperty(e)&&(console.log("Warning: myt.global key in use: ",e),this.unregister(e));this[e]=h;this.fireEvent("register"+e,h)},unregister:function(e){if(this.hasOwnProperty(e)){const h=this[e];delete this[e];this.fireEvent("unregister"+e,h)}else console.log("Warning: myt.global key not in use: ",e)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(e){this.consoleLogging=e},setStackTraceLimit:function(e){Error.stackTraceLimit=this.stackTraceLimit=e},notifyError:function(e,h,k){this.notify("error",e,h,k)},notifyWarn:function(e,h,k){this.notify("warn",e,h,k)},notifyMsg:function(e,h,k){this.notify("log",e,h,k)},notifyDebug:function(e,h,k){this.notify("debug",
e,h,k)},notify:function(e,h,k,g){g||(g=Error(k||h));g=g.stack||g.stacktrace;this.fireEvent(h||"error",{msg:k,stacktrace:g});if(this.consoleLogging&&e)console[e](g)}});
(e=>{const h=global,k=document,g=e.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createDomElement:(d,c,f)=>{d=k.createElement(d);if(f)for(const b in f)d[b]=f[b];if(c)for(const b in c)d.style[b]=c[b];return d},isDomElementVisible:d=>{if("INPUT"===d.nodeName&&"hidden"===d.type)return!1;for(;d;){if(d===k)return!0;const c=h.getComputedStyle(d);if("none"===c.display||"hidden"===c.visibility)break;d=d.parentNode}return!1},getZIndexRelativeToAncestor:(d,c)=>{if(d&&c)for(d=g.getAncestorArray(d,
c),c=d.length-1;c;){const f=h.getComputedStyle(d[--c]),b=f.zIndex,a="auto"===b;if(0===c||!a||1!==parseInt(f.opacity,10))return a?0:parseInt(b,10)}return 0},getAncestorArray:(d,c)=>{const f=[];for(;d;){f.push(d);if(d===c)break;d=d.parentNode}return f},getHighestZIndex:d=>{var c=h.getComputedStyle(d);let f=c.zIndex;var b="auto"===f;if(b&&1===parseInt(c.opacity,10))for(f=0,d=d.childNodes,c=d.length;c;)b=d[--c],1===b.nodeType&&(f=Math.max(f,g.getHighestZIndex(b)));else f=b?0:parseInt(f,10);return f},
getRelativePosition:(d,c)=>{if(!d)return null;const f="Firefox"===BrowserDetect.browser?2:1;let b=0,a=0;for(;d&&"BODY"!==d.nodeName&&d!==c;)if(b+=d.offsetLeft,a+=d.offsetTop,(d=d.offsetParent)&&"BODY"!==d.nodeName){const c=h.getComputedStyle(d);b+=f*parseInt(c.borderLeftWidth,10)-d.scrollLeft;a+=f*parseInt(c.borderTopWidth,10)-d.scrollTop}return{x:b,y:a}},getTruePosition:d=>{if(!d)return null;d=d.getBoundingClientRect();return{x:d.left+h.scrollX,y:d.top+h.scrollY}},simulateDomEvent:(d,c,f)=>{if(d){const b=
{pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},a={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(f)for(const a in f)b[a]=f[a];let e;for(const b in a)if(a[b].test(c)){e=b;break}if(!e)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(k.createEvent)f=k.createEvent(e),"HTMLEvents"===e?f.initEvent(c,b.bubbles,
b.cancelable):f.initMouseEvent(c,b.bubbles,b.cancelable,k.defaultView,b.button,b.pointerX,b.pointerY,b.pointerX,b.pointerY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,null),d.dispatchEvent(f);else{b.clientX=b.pointerX;b.clientY=b.pointerY;f=k.createEventObject();for(const a in b)f[a]=b[a];d.fireEvent("on"+c,f)}}},getScrollbarSize:e.memoize(()=>{const d=k.body,c=g.createDomElement("div",{width:"100px",height:"100px",overflow:"scroll"});d.appendChild(c);const f=c.offsetWidth-c.clientWidth;d.removeChild(c);
return f})},getInnerDomElement:function(){return this.__iE},getOuterDomElement:function(){return this.__oE},getInnerDomStyle:function(){return this.__iS},getOuterDomStyle:function(){return this.__oS},setDomElement:function(d){let c;Array.isArray(d)?(c=d[0],d=d[1]):c=d;this.__iE=d;this.__oE=c;this.__iS=d.style;this.__oS=c.style;d.model=c.model=this},removeDomElement:function(){const d=this.getOuterDomElement();d.parentNode.removeChild(d)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;
delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(d){this.__iE.className=this.domClass=d},addDomClass:function(d){const c=this.__iE.className;this.setDomClass((c?c+" ":"")+d)},removeDomClass:function(d){var c=this.__iE.className;if(c){c=c.split(" ");let f=c.length;for(;f;)c[--f]===d&&c.splice(f,1);this.setDomClass(c.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(d){this.__iE.id=this.domId=d},setZIndex:function(d){this.__oS.zIndex=
d},setStyleProperty:function(d,c){this.__iS[d]=c},getPagePosition:function(d){return g["get"+(d?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){g.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return g.getHighestZIndex(this.__iE)},getHighestChildZIndex:function(d){const c=this.__iE.childNodes;let f=c.length,b=0;for(;f;){const a=c[--f];1===a.nodeType&&a!==d&&(b=Math.max(b,g.getHighestZIndex(a)))}return b},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+
1)},scrollYTo:function(d,c){(c?this.getInnerDomElement():this.getOuterDomElement()).scrollTop=d||0}})})(myt);
(e=>{let h;const k=d=>{for(;d.lastChild;)d=d.lastChild;return d},g=(d,c)=>{h.lastTraversalWasForward=d;let f=document.body,b=f;var a=document.activeElement;let m=b,g;const l=d?"getNextFocus":"getPrevFocus";a&&(m=b=a,(a=b.model)||(a=h.findModelForDomElement(b)),a&&(c=a.getFocusTrap(c))&&(f=c.getInnerDomElement()));for(;m;){if(m.model&&m.model[l]&&(g=m.model[l]()))m=g.getInnerDomElement();else if(d)if(m.firstChild)m=m.firstChild;else{if(m===f)return b.model;if(m.nextSibling)m=m.nextSibling;else for(;m&&
(m=m.parentNode,m!==f);)if(m.nextSibling){m=m.nextSibling;break}}else m=m===f?k(f):m.previousSibling?k(m.previousSibling):m.parentNode;if(m===b)return b.model;if(1===m.nodeType)if((a=m.model)&&a instanceof e.View){if(a.isFocusable())return a}else if(c=m.nodeName,!("A"!==c&&"AREA"!==c&&"INPUT"!==c&&"TEXTAREA"!==c&&"SELECT"!==c&&"BUTTON"!==c||m.disabled||isNaN(m.tabIndex)||!e.DomElementProxy.isDomElementVisible(m)||(a=h.findModelForDomElement(m),a&&a.searchAncestorsOrSelf(a=>!0===a.maskFocus)))){m.focus();
h.focusedDom=m;break}}return null};new JS.Singleton("GlobalFocus",{include:[e.Observable],initialize:function(){this.lastTraversalWasForward=!0;e.global.register("focus",h=this)},setFocusedView:d=>{if(h.focusedView!==d){h.prevFocusedView=h.focusedView;if(h.focusedView=d)h.focusedDom=null;h.fireEvent("focused",d)}},notifyFocus:d=>{h.focusedView!==d&&h.setFocusedView(d)},notifyBlur:d=>{h.focusedView===d&&h.setFocusedView(null)},clear:()=>{h.focusedView?h.focusedView.blur():h.focusedDom&&(h.focusedDom.blur(),
h.focusedDom=null)},next:d=>{(d=g(!0,d))&&d.focus()},prev:d=>{(d=g(!1,d))&&d.focus()},findModelForDomElement:d=>{for(;d;){let c=d.model;if(c&&c instanceof e.View)return c;d=d.parentNode}return null}})})(myt);
(e=>{const h=JS.Module,k=e.global.focus,g=()=>({source:null,type:null,value:null});e.DomObservable=new h("DomObservable",{attachDomObserver:function(d,c,f,b,a){if(d&&c&&f){b=!!b;const m=this.createDomHandler(d,c,f);if(m){const g=this.__dobsbt||(this.__dobsbt={}),l=g[f];l?l.push(d,c,m,b):g[f]=[d,c,m,b];e.addEventListener(this.getInnerDomElement(),f,m,b,a);return!0}}return!1},createDomHandler:(d,c,f)=>null,createStandardDomHandler:function(d,c,f,b,a){if(b.EVENT_TYPES[f]){const f=this,e=b.EVENT;return b=>
{b||(b=window.event);e.source=f;e.type=b.type;e.value=b;d[c](e)||(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),a&&b.preventDefault());e.source=void 0}}},detachDomObserver:function(d,c,f,b){if(d&&c&&f){b=!!b;var a=this.__dobsbt;if(a&&(a=a[f])){const m=this.getInnerDomElement();let g=!1,l=a.length;for(;l;)l-=4,d===a[l]&&c===a[l+1]&&b===a[l+3]&&(m&&e.removeEventListener(m,f,a[l+2],b),a.splice(l,4),g=!0);return g}}return!1},detachAllDomObservers:function(){const d=this.getInnerDomElement();
if(d){const c=this.__dobsbt;if(c)for(const f in c){const b=c[f];let a=b.length;for(;a;){const c=b[--a],g=b[--a];a-=2;e.removeEventListener(d,f,g,c)}b.length=0}}}});e.DomObserver=new h("DomObserver",{attachToDom:function(d,c,f,b,a){if(d&&c&&f){b=!!b;var e=this.__dobt||(this.__dobt={});e=e[f]||(e[f]=[]);d.attachDomObserver(this,c,f,b,a)&&e.push(b,c,d)}},detachFromDom:function(d,c,f,b){if(d&&c&&f){b=!!b;var a=this.__dobt;if(a&&(a=a[f])){let e=!1,g=a.length;for(;g;)g-=3,d===a[g+2]&&c===a[g+1]&&b===a[g]&&
d.detachDomObserver(this,c,f,b)&&(a.splice(g,3),e=!0);return e}}return!1},detachFromAllDomSources:function(){const d=this.__dobt;if(d)for(const c in d){const f=d[c];let b=f.length;for(;b;)f[--b].detachDomObserver(this,f[--b],c,f[--b]);f.length=0}}});e.KeyObservable=new h("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:g(),getKeyCodeFromEvent:d=>d.value.keyCode||d.value.charCode},createDomHandler:function(d,c,f){return this.createStandardDomHandler(d,c,f,e.KeyObservable)||
this.callSuper(d,c,f)}});e.MouseObservable=new h("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:g(),getMouseFromEvent:d=>({x:d.value.pageX,y:d.value.pageY}),getMouseFromEventRelativeToView:function(d,c){c=c.getPagePosition();d=this.getMouseFromEvent(d);d.x-=c.x;d.y-=c.y;return d}},createDomHandler:function(d,c,f){return this.createStandardDomHandler(d,c,f,e.MouseObservable,!0)||this.callSuper(d,
c,f)}});e.ScrollObservable=new h("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:g(),getScrollFromEvent:d=>{d=d.value.target||d.value.srcElement;return{x:d.scrollLeft,y:d.scrollTop}}},createDomHandler:function(d,c,f){return this.createStandardDomHandler(d,c,f,e.ScrollObservable)||this.callSuper(d,c,f)}});e.TouchObservable=new h("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:g()},createDomHandler:function(d,c,f){return this.createStandardDomHandler(d,
c,f,e.TouchObservable,!1)||this.callSuper(d,c,f)}});e.FocusObservable=new h("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:g()},initNode:function(d,c){this.focusable=!1;this.focusIndicator=!0;this.callSuper(d,c)},destroyBeforeOrphaning:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(d){this.focused!==d&&(this.focused=d,this.inited&&(this.fireEvent("focused",d),d?k.notifyFocus(this):k.notifyBlur(this)))},setFocusable:function(d){if(this.focusable!==d){const c=
this.focusable;(this.focusable=d)?(this.getInnerDomElement().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):c&&(this.getInnerDomElement().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",d)}},setFocusIndicator:function(d){this.focusIndicator!==d&&(this.focusIndicator=d,this.focused&&(d?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&
(k.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null===this.searchAncestorsOrSelf(d=>!0===d.maskFocus)},focus:function(d){this.isFocusable()&&this.getInnerDomElement().focus({preventScroll:d})},blur:function(){this.getInnerDomElement().blur()},__doFocus:function(d){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(d){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusIndicator?this.showFocusIndicator():
this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},showFocusIndicator:function(){this.getInnerDomElement().hideFocus=!1;const d=this.getInnerDomStyle();d.outlineWidth="thin";d.outlineColor="#8bf";d.outlineStyle="solid";d.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getInnerDomElement().hideFocus=!0;this.getInnerDomStyle().outlineStyle="none"},createDomHandler:function(d,c,f){if(e.FocusObservable.EVENT_TYPES[f]){const b=
this;return a=>{a||(a=window.event);if(b._ignoreFocus)a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),a.preventDefault();else{var f=e.FocusObservable.EVENT;f.source=b;f.type=a.type;f.value=a;d[c](f)||(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation());f.source=void 0}}}return this.callSuper(d,c,f)}});e.InputObservable=new h("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:g()},createDomHandler:function(d,c,f){return this.createStandardDomHandler(d,c,f,e.InputObservable)||
this.callSuper(d,c,f)}});e.DragDropObservable=new h("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:g()},createDomHandler:function(d,c,f){return this.createStandardDomHandler(d,c,f,e.DragDropObservable,!0)||this.callSuper(d,c,f)}})})(myt);
(e=>{let h,k={};const g=e.global,d=g.focus,c="Firefox"===BrowserDetect.browser,f=c?224:91,b=c?224:93,a=()=>!!k[f]||!!k[b],m=(a,b)=>{switch(a){case 8:a=b.nodeName;if("TEXTAREA"===a||"INPUT"===a&&("text"===b.type||"password"===b.type)||"DIV"===a&&"true"===b.contentEditable&&b.firstChild)break;return!0;case 9:return!0}return!1};new JS.Singleton("GlobalKeys",{include:[e.DomElementProxy,e.DomObservable,e.DomObserver,e.KeyObservable,e.Observable,e.Observer],initialize:function(){g.register("keys",h=this);
h.KEYCODE_TAB=9;h.KEYCODE_SHIFT=16;h.KEYCODE_CONTROL=17;h.KEYCODE_ALT=18;h.KEYCODE_Z=90;h.KEYCODE_COMMAND=f;h.KEYCODE_RIGHT_COMMAND=b;h.setDomElement(document);h.attachTo(d,"__handleFocused","focused");h.__listenToDocument();global.onblur=()=>{k={}}},isKeyDown:a=>!!k[a],isShiftKeyDown:()=>!!k[16],isControlKeyDown:()=>!!k[17],isAltKeyDown:()=>!!k[18],isCommandKeyDown:a,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?a():!!k[17],ignoreFocusTrap:()=>!!k[18],__handleFocused:a=>{if(a=a.value)h.detachFromDom(h,
"__handleKeyDown","keydown"),h.detachFromDom(h,"__handleKeyPress","keypress"),h.detachFromDom(h,"__handleKeyUp","keyup"),h.attachToDom(a,"__handleKeyDown","keydown"),h.attachToDom(a,"__handleKeyPress","keypress"),h.attachToDom(a,"__handleKeyUp","keyup");else{if(a=d.prevFocusedView)h.detachFromDom(a,"__handleKeyDown","keydown"),h.detachFromDom(a,"__handleKeyPress","keypress"),h.detachFromDom(a,"__handleKeyUp","keyup");h.__listenToDocument()}},__listenToDocument:()=>{h.attachToDom(h,"__handleKeyDown",
"keydown");h.attachToDom(h,"__handleKeyPress","keypress");h.attachToDom(h,"__handleKeyUp","keyup")},__handleKeyDown:b=>{const c=e.KeyObservable.getKeyCodeFromEvent(b);b=b.value;m(c,b.target)&&b.preventDefault();a()&&16!==c&&17!==c&&18!==c?(h.fireEvent("keydown",c),h.fireEvent("keyup",c)):(k[c]=!0,9===c&&(b=!!k[18],k[16]?d.prev(b):d.next(b)),h.fireEvent("keydown",c))},__handleKeyPress:a=>{h.fireEvent("keypress",e.KeyObservable.getKeyCodeFromEvent(a))},__handleKeyUp:a=>{const b=e.KeyObservable.getKeyCodeFromEvent(a);
a=a.value;m(b,a.target)&&a.preventDefault();k[b]=!1;h.fireEvent("keyup",b)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(e=>{const h=JS.Module,k=d=>{d.getSubviews().forEach(c=>{c&&c.syncInnerToOuter&&!c.ignoreFlex&&(c.syncInnerToOuter(),c.syncModelToOuterBounds())})},g=e.FlexBoxSupport=new h("FlexBoxSupport",{initNode:function(d,c){this.callSuper(d,c);k(this)},setWidth:function(d,c){this.callSuper(d,c);this.inited&&k(this)},setHeight:function(d,c){this.callSuper(d,c);this.inited&&k(this)},setFlexDirection:function(d){if(this.flexDirection!==d){let c=this.flexDirection=d;switch(c){case "rowReverse":c="row-reverse";
break;case "columnReverse":c="column-reverse"}this.getInnerDomStyle().flexDirection=c;this.inited&&(this.fireEvent("flexDirection",d),k(this))}},setFlexWrap:function(d){if(this.flexWrap!==d){let c=this.flexWrap=d;switch(c){case "wrapReverse":case "reverse":c="wrap-reverse"}this.getInnerDomStyle().flexWrap=c;this.inited&&(this.fireEvent("flexWrap",d),k(this))}},setJustifyContent:function(d){if(this.justifyContent!==d){let c=this.justifyContent=d;switch(c){case "start":c="flex-start";break;case "end":c=
"flex-end";break;case "spaceBetween":case "between":c="space-between";break;case "spaceAround":case "around":c="space-around";break;case "spaceEvenly":case "evenly":c="space-evenly"}this.getInnerDomStyle().justifyContent=c;this.inited&&(this.fireEvent("justifyContent",d),k(this))}},setAlignItems:function(d){if(this.alignItems!==d){let c=this.alignItems=d;switch(c){case "start":c="flex-start";break;case "end":c="flex-end"}this.getInnerDomStyle().alignItems=c;this.inited&&(this.fireEvent("alignItems",
d),k(this))}},setAlignContent:function(d){if(this.alignContent!==d){let c=this.alignContent=d;switch(c){case "start":c="flex-start";break;case "end":c="flex-end";break;case "spaceBetween":case "between":c="space-between";break;case "spaceAround":case "around":c="space-around"}this.getInnerDomStyle().alignContent=c;this.inited&&(this.fireEvent("alignContent",d),k(this))}},createOurDomElement:function(d){d=this.callSuper(d);(Array.isArray(d)?d[1]:d).style.display="flex";return d},subviewAdded:function(d){d&&
!d.ignoreFlex&&(d.getOuterDomStyle().position="",this.inited&&k(this))},syncSubviews:function(){k(this)},subviewRemoved:d=>{!d||d.destroyed||d.ignoreFlex||(d.getOuterDomStyle().position="absolute")}});e.FlexBoxChildSupport=new h("FlexBoxChildSupport",{setParent:function(d){const c=this.isChildOfFlexBox();this.callSuper(d);this.__parentIsFlexBox=this.parent&&this.parent.isA(g);this.inited&&c&&!this.isChildOfFlexBox()&&(d=this.getOuterDomStyle(),"auto"!==d.width&&(d.width=this.width+"px"),"auto"!==
d.height&&(d.height=this.height+"px"),this.syncInnerToOuter())},setWidth:function(d,c){null==d||""===d?(this.getOuterDomStyle().width="",this.syncModelToOuterBounds(!1,!0)):this.callSuper(d,c);this.syncInnerToOuter(!1,!0)},setHeight:function(d,c){null==d||""===d?(this.getOuterDomStyle().height="",this.syncModelToOuterBounds(!0,!1)):this.callSuper(d,c);this.syncInnerToOuter(!0,!1)},setFlexGrow:function(d){this.flexGrow!==d&&(this.getOuterDomStyle().flexGrow=this.flexGrow=d,this.inited&&(this.fireEvent("flexGrow",
d),(d=this.parent)&&d.syncSubviews&&d.syncSubviews()))},setFlexShrink:function(d){this.flexShrink!==d&&(this.getOuterDomStyle().flexShrink=this.flexShrink=d,this.inited&&(this.fireEvent("flexShrink",d),(d=this.parent)&&d.syncSubviews&&d.syncSubviews()))},setAlignSelf:function(d){if(this.alignSelf!==d){let c=this.alignSelf=d;switch(c){case "start":c="flex-start";break;case "end":c="flex-end"}this.getOuterDomStyle().alignSelf=c;this.inited&&this.fireEvent("alignSelf",d)}},isChildOfFlexBox:function(){return this.__parentIsFlexBox},
syncModelToOuterBounds:function(d,c){const f=this.getOuterDomElement(),b=this.getInnerDomStyle();d||("auto"===b.width?this.getOuterDomStyle().width="auto":this.setInnerWidth(f.clientWidth),this.fireEvent("width",this.width=f.clientWidth));c||("auto"===b.height?this.getOuterDomStyle().height="auto":this.setInnerHeight(f.clientHeight),this.fireEvent("height",this.height=f.clientHeight))},syncInnerToOuter:function(d,c){const f=this.getInnerDomStyle(),b=this.getOuterDomElement();d||"auto"===f.width||
this.setInnerWidth(b.clientWidth);c||"auto"===f.height||this.setInnerHeight(b.clientHeight)},setInnerWidth:function(d){this.getInnerDomStyle().width=d+"px"},setInnerHeight:function(d){this.getInnerDomStyle().height=d+"px"},createOurDomElement:function(d){d=this.callSuper(d);const c=document.createElement("div");c.style.position="relative";d.appendChild(c);return[d,c]}})})(myt);
(e=>{const h={},k={},g=(b,a)=>a+b.substring(0,1).toUpperCase()+b.substring(1),d=b=>k[b]||(k[b]=g(b,"set")),c=b=>h[b]||(h[b]=g(b,"get")),f=(b,a,c)=>{null==b[a]&&(b[a]=c)};e.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:d,generateGetterName:c,generateName:g,createSetterFunction:(b,a)=>{const c=d(a);b[c]&&console.log("Overwriting setter",c);b[c]=c=>{b[a]!==c&&(b[a]=c,b.inited&&b.fireEvent(a,c))}},createGetterFunction:(b,a)=>{const d=c(a);b[d]&&console.log("Overwriting getter",
d);b[d]=()=>b[a]},defAttr:f},appendToEarlyAttrs:function(){Array.prototype.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){Array.prototype.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){Array.prototype.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){Array.prototype.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:f,quickSet:function(b,a){(b||[]).forEach(b=>
{this[b]=a[b];delete a[b]})},callSetters:function(b){var a=this.earlyAttrs;const c=this.lateAttrs;let d;var f;if(a||c){var e={};for(f in b)e[f]=b[f];b=e;if(a)for(e=0,f=a.length;f>e;){const c=a[e++];c in b&&(this.set(c,b[c]),delete b[c])}if(c)for(d=[],e=0,f=c.length;f>e;)a=c[e++],a in b&&(d.push(a,b[a]),delete b[a])}for(const a in b)this.set(a,b[a]);if(d)for(e=0,f=d.length;f>e;)this.set(d[e++],d[e++])},get:function(b){const a=c(b);return this[a]?this[a]():this[b]},set:function(b,a,c){if(!c&&(c=d(b),
this[c]))return this[c](a);this[b]!==a&&(this[b]=a,!1!==this.inited&&this.fireEvent&&this.fireEvent(b,a))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let e,h;const k=this.__meta__;if(k)for(e=Object.keys(k),h=e.length;h;)delete k[e[--h]];e=Object.keys(this);for(h=e.length;h;)delete this[e[--h]];this.destroyed=!0}}});
(e=>{const h=JS.Class,k=JS.Module,g=new h("AbstractPool",{include:[e.Destructible],initialize:()=>{},destroy:function(){const b=this.__op;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.__op||(this.__op=[]);return b.length?b.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(b){(this.__op||(this.__op=[])).push(this.cleanInstance(b))},cleanInstance:b=>{"function"===typeof b.clean&&b.clean();return b},destroyPooledInstances:function(){var b=
this.__op;if(b){let a=b.length;for(;a;){const c=b[--a];"function"===typeof c.destroy&&c.destroy()}}}}),d=e.SimplePool=new h("SimplePool",g,{initialize:function(b,a){this.callSuper();this.instanceClass=b||Object;this.instanceParent=a},createInstance:function(b){var a=this.instanceParent,c=this.instanceClass;return a?new c(a,b):new c}}),c=new k("TrackActives",{destroy:function(){const b=this.__actives;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.callSuper();(this.__actives||
(this.__actives=[])).push(b);return b},putInstance:function(b){var a=this.__actives;if(a){let c=a.length;for(;c;)if(a[--c]===b){a.splice(c,1);this.callSuper(b);return}a="non-active"}else a="non-existant";console.warn("Tried to put a "+a+" instance.",b,this)},getActives:function(b){const a=this.__actives;if(a){if(b){const c=[],d=a.length;for(let f=0;d>f;){const d=a[f++];b.call(this,d)&&c.push(d)}return c}return a.concat()}return[]},putActives:function(){const b=this.__actives;if(b){let a=b.length;
for(;a;)this.putInstance(b[--a])}}}),f=e.TrackActivesPool=new h("TrackActivesPool",d,{include:[c]});e.TrackActivesMultiPool=new h("TrackActivesMultiPool",g,{initialize:function(b,a){this.callSuper();this.instanceClassesByKey=b;const c=this._poolsByClassName={},d=this.__pbk={};for(const e in b){const l=b[e];d[e]=c[l.__displayName]=new f(l,a)}},destroy:function(){const b=this.__pbk;for(const a in b)b[a].destroy();this.callSuper()},getInstance:function(){const b=arguments[0],a=this.__pbk[b];if(a)return a.getInstance(arguments);
console.warn("No pool for key:",b)},putInstance:function(b){const a=this._poolsByClassName[b.klass.__displayName];a?a.putInstance(b):console.warn("No pool for obj:",b)},destroyPooledInstances:function(){const b=this.__pbk;for(const a in b)b[a].destroyPooledInstances()},getActives:function(b){let a=[];const c=this.__pbk;for(const d in c)a=a.concat(c[d].getActives(b));return a},putActives:function(){const b=this.__pbk;for(const a in b)b[a].putActives()}});e.Reusable=new k("Reusable",{clean:()=>{}})})(myt);
(e=>{const h=(c,d)=>{if(d)for(;c;){if(d(c))return c;c=c.parent}return null},k=(c,d)=>{const b=d.name;void 0===c[b]?c[b]=d:console.log("Name in use:"+b)},g=(c,d)=>{const b=d.name;c[b]===d?delete c[b]:console.log("Name not in use:"+b)},d=c=>c.__animPool||(c.__animPool=new e.TrackActivesPool(e.Animator,c));e.Node=new JS.Class("Node",{include:[e.AccessorSupport,e.Destructible,e.Observable,e.Observer],extend:{getMatchingAncestorOrSelf:h,getMatchingAncestor:(c,d)=>h(c?c.parent:null,d)},initialize:function(c,
d,b){if(b){const a=b.length;for(let c=0,d;a>c;)(d=b[c++])?this.extend(d):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.initNode(c,d||{})},initNode:function(c,d){this.callSetters(d);this.doBeforeAdoption();this.setParent(c);this.doAfterAdoption();this.inited=!0},doBeforeAdoption:()=>{},doAfterAdoption:()=>{},destroy:function(){const c=this.subnodes;this.isBeingDestroyed=!0;if(c){let d=c.length;for(;d;)c[--d].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());
this.destroyBeforeOrphaning();this.parent&&this.setParent(null);this.destroyAfterOrphaning();this.callSuper()},destroyBeforeOrphaning:()=>{},destroyAfterOrphaning:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers()},setPlacement:function(c){this.placement=c},setDefaultPlacement:function(c){this.defaultPlacement=c},setIgnorePlacement:function(c){this.ignorePlacement=c},setParent:function(c){if(c&&!this.ignorePlacement){var d=this.placement||c.defaultPlacement;
d&&(c=c.determinePlacement(d,this))}if(!(this.parent===c||c&&c.destroyed)){if(d=this.parent){let b=d.getSubnodeIndex(this);-1!==b&&(this.name&&g(d,this),d.subnodes.splice(b,1),d.subnodeRemoved(this))}if(this.parent=c)c.getSubnodes().push(this),this.name&&k(c,this),c.subnodeAdded(this);this.inited&&this.fireEvent("parent",c)}},setName:function(c){if(this.name!==c){const d=this.parent;d&&this.name&&g(d,this);this.name=c;d&&c&&k(d,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},
determinePlacement:function(c,d){let b=c.indexOf("."),a;-1!==b&&(a=c.substring(b+1),c=c.substring(0,b));"*"===c&&(c=this.defaultPlacement)&&(b=c.indexOf("."),-1!==b&&(a=c.substring(b+1)+(a?"."+a:""),c=c.substring(0,b)));return(c=this[c])?a?c.determinePlacement(a,d):c:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(c){if(c){if(c===this)return!0;if(this.parent)return this.getInnerDomElement&&c.getInnerDomElement?
c.getInnerDomElement().contains(this.getInnerDomElement()):this.parent.isDescendantOf(c)}return!1},isAncestorOf:function(c){return c?c.isDescendantOf(this):!1},getLeastCommonAncestor:function(c){for(;c;){if(this.isDescendantOf(c))return c;c=c.parent}return null},searchAncestorsForClass:function(c){return c?this.searchAncestors(d=>d instanceof c):null},searchAncestors:function(c){return h(this?this.parent:null,c)},searchAncestorsOrSelf:function(c){return h(this,c)},getAncestors:function(){const c=
[];let d=this;for(;d;)c.push(d),d=d.parent;return c},hasSubnode:function(c){return-1!==this.getSubnodeIndex(c)},getSubnodeIndex:function(c){return this.getSubnodes().indexOf(c)},addSubnode:function(c){c.setParent(this)},removeSubnode:function(c){if(c.parent!==this)return null;c.setParent(null);return c},subnodeAdded:c=>{},subnodeRemoved:c=>{},animateOnce:function(c,d,b,a,e){return this.animate(c,d,b,!1,null,a,!1,1,e)},animate:function(c,f,b,a,e,g,l,n,k){const m=d(this),h=m.getInstance({ignorePlacement:!0});
"object"===typeof c?(e=c.callback,delete c.callback,h.callSetters(c)):(h.attribute=c,h.setTo(f),h.setFrom(b),null!=g&&(h.duration=g),null!=a&&(h.relative=a),null!=n&&(h.repeat=n),null!=l&&h.setReverse(l),null!=k&&h.setEasingFunction(k));h.next(a=>{m.putInstance(h)});e&&h.next(e);h.setRunning(!0);return h},getActiveAnimators:function(c){if("string"===typeof c){const d=c;c=b=>b.attribute===d}return d(this).getActives(c)},stopActiveAnimators:function(c,f=!1){c=this.getActiveAnimators(c);let b=c.length;
if(0<b){const a=d(this);for(;b;){const d=c[--b];d.reset(f);f||a.putInstance(d)}}},doOnceOnIdle:function(c){this.attachTo(e.global.idle,c,"idle",!0)}})})(myt);
(e=>{let h=0,k=!1;const g=JS.Class,d=[],c=a=>{if(k!==a&&(k=a,!a)){for(a=d.length;a;){const b=d[--a];b.__deferredLayout=!1;b.update()}d.length=0}},f=(a,b,c,d)=>{const f=a.getSubviewIndex(b),e=a.subviews;0<=f&&(a=a.getSubviewIndex(c),e.splice(f,1),0<=a?(f<a&&--a,e.splice(a+(d?1:0),0,b)):d?e.push(b):e.unshift(b))},b=(a,b,c)=>{a[b]!==c&&(a[b]=c,a.inited&&(a.fireEvent(b,c),a.update()))},a=e.Layout=new g("Layout",e.Node,{extend:{incrementGlobalLock:()=>{1===++h&&c(!0)},decrementGlobalLock:()=>{0<h&&0===
--h&&c(!1)}},initNode:function(a,b){this.subviews=[];this.locked=!0;this.lockedCounter=1;const c=!0===b.locked;delete b.locked;this.callSuper(a,b);c||this.decrementLockedCounter();this.update()},destroyAfterOrphaning:function(){this.callSuper();this.subviews.length=0},setParent:function(a){var b=this.parent;if(b!==a){const c=!this.locked;c&&(this.locked=!0);let d,f;if(b){d=this.subviews;for(f=d.length;f;)this.removeSubview(d[--f]);this.detachFrom(b,"__hndlPSAV","subviewAdded");this.detachFrom(b,"__hndlPSRV",
"subviewRemoved")}this.callSuper(a);if(a=this.parent){d=a.getSubviews();f=0;for(b=d.length;b>f;)this.addSubview(d[f++]);this.attachTo(a,"__hndlPSAV","subviewAdded");this.attachTo(a,"__hndlPSRV","subviewRemoved")}c&&(this.locked=!1,this.inited&&a&&this.update())}},canUpdate:function(){return k?(this.__deferredLayout||(d.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},
addSubview:function(a){this.ignore(a)||(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:a=>{},startMonitoringAllSubviews:function(){const a=this.subviews;let b=a.length;for(;b;)this.startMonitoringSubview(a[--b])},removeSubview:function(a){if(this.ignore(a))return-1;const b=this.getSubviewIndex(a);-1!==b&&(this.stopMonitoringSubview(a),this.subviews.splice(b,1),this.locked||this.update());return b},stopMonitoringSubview:a=>{},stopMonitoringAllSubviews:function(){const a=
this.subviews;let b=a.length;for(;b;)this.stopMonitoringSubview(a[--b])},ignore:a=>a.ignoreLayout,__hndlPSAV:function(a){a.value.parent===this.parent&&this.addSubview(a.value)},__hndlPSRV:function(a){a.value.parent===this.parent&&this.removeSubview(a.value)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,b){f(this,a,b,!1)},moveSubviewAfter:function(a,b){f(this,a,b,!0)}});var m=e.ConstantLayout=new g("ConstantLayout",a,{setTargetAttrName:function(a){this.setterName=e.AccessorSupport.generateSetterName(a);
b(this,"targetAttrName",a)},setTargetValue:function(a){b(this,"targetValue",a)},update:function(){if(this.canUpdate()){const a=this.setterName,b=this.targetValue,c=this.subviews,d=c.length;if(a)for(let f=0;d>f;)c[f++][a](b)}}});m=e.VariableLayout=new g("VariableLayout",m,{initNode:function(a,b){this.collapseParent=this.reverse=!1;this.callSuper(a,b)},setCollapseParent:function(a){b(this,"collapseParent",a)},setReverse:function(a){b(this,"reverse",a)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const b=this.setterName,c=this.subviews;var a=c.length;let d=this.targetValue,f,e=0;if(this.reverse)for(f=a;f;)a=c[--f],this.skipSubview(a)||(d=this.updateSubview(++e,a,b,d));else for(f=0;a>f;){const a=c[f++];this.skipSubview(a)||(d=this.updateSubview(++e,a,b,d))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(b,d);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(a){this.attachTo(a,
"update","visible")},stopMonitoringSubview:function(a){this.detachFrom(a,"update","visible")},updateSubview:(a,b,c,d)=>{b[c](d);return d},skipSubview:a=>!a.visible,updateParent:(a,b)=>{}});const p=e.SpacedLayout=new g("SpacedLayout",m,{initNode:function(a,b){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";this.measureAttrBaseName=b?"height":"width";this.parentSetterName=b?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){b(this,"spacing",a)},setOutset:function(a){b(this,
"outset",a)},addSubview:function(a){const b=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=b},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,b,c,d){a=b[this.measureAttrName];b[c](d+(a-b[this.measureAttrBaseName])/2);return d+a+this.spacing},updateParent:function(a,b){this.parent[this.parentSetterName](b+
this.outset-this.spacing)}});e.ResizeLayout=new g("ResizeLayout",p,{setCollapseParent:function(a){},setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){const b="x"===a;this.stopMonitoringParent(b?"height":"width");this.startMonitoringParent(b?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const b="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(b);this.callSuper(a);this.parent&&this.startMonitoringParent(b)}},
startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){const a=this.measureAttrName,b=this.subviews;let c=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,d=b.length,f=0,e=0;for(;d;){const n=b[--d];this.skipSubview(n)||(++f,0<n.layoutHint?e+=n.layoutHint:c-=n[a])}0!==f&&(this.remainder=c-=(f-1)*this.spacing,this.resizeSum=e,this.scalingFactor=c/e,this.resizeSumUsed=
this.remainderUsed=0,this.measureSetter="boundsWidth"===a?"setWidth":"setHeight")},updateSubview:function(a,b,c,d){var f=b.layoutHint;0<f&&(this.resizeSumUsed+=f,f=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(f*this.scalingFactor),this.remainderUsed+=f,b[this.measureSetter](f));return this.callSuper(a,b,c,d)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<
a.layoutHint||this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update","visible")},updateParent:function(a,b){}});e.AlignedLayout=new g("AlignedLayout",m,{initNode:function(a,b){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();
this.measureAttrName=b?"boundsHeight":"boundsWidth";this.measureAttrBaseName=b?"height":"width";this.parentSetterName=b?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;const b=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=b;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);
this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){const a=this.measureAttrName,b=this.subviews;let c=0,d,f=b.length;for(;f;)d=b[--f],this.skipSubview(d)||(c=c>d[a]?c:d[a]);this.setTargetValue(c)},updateSubview:function(a,b,c,d){switch(this.align){case "center":case "middle":b[c]((d-b[this.measureAttrName])/2);break;case "right":case "bottom":b[c](d-b[this.measureAttrName]);break;default:b[c](0)}return d},
updateParent:function(a,b){this.parent[this.parentSetterName](b)}});e.WrappingLayout=new g("WrappingLayout",m,{initNode:function(a,b){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=
0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";const d=this.measureAttrBaseName=b?"height":"width";this.otherMeasureAttrName=b?"boundsWidth":"boundsHeight";const f=this.otherMeasureAttrBaseName=b?"width":"height";this.parentSetterName=b?"setWidth":"setHeight";this.otherSetterName=b?"setX":"setY";c&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(f),
this.startMonitoringParent(d));this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const b="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(b?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(b?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){b(this,"spacing",a)},setOutset:function(a){b(this,"outset",a)},setLineSpacing:function(a){b(this,"lineSpacing",
a)},setLineInset:function(a){b(this,"lineInset",a)},setLineOutset:function(a){b(this,"lineOutset",a)},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,
"update",this.otherMeasureAttrName);this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,b,c,d){a=b[this.measureAttrName];const f=b[this.otherMeasureAttrName];d+a>this.parentSizeLessOutset||"break"===b.layoutHint?(d=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=f,++this.lineCount):f>this.lineSize&&(this.lineSize=
f);b[this.otherSetterName](this.linePos+(f-b[this.otherMeasureAttrBaseName])/2);b[c](d+(a-b[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,d+a+this.outset);return d+a+this.spacing},updateParent:function(a,b){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});e.createFixedThresholdCounter(a,1,"locked")})(myt);
(e=>{const h=e.DomElementProxy,k=e.Geometry.rectContainsPoint,g=(a,b)=>{const c=e.global.focus.focusedView,d=a.getInnerDomElement();if(c===a||c&&c.isDescendantOf(a))c._ignoreFocus=!0;a=d.scrollTop;const f=d.scrollLeft;b.call();c&&(c._ignoreFocus=!1,c.focus(!0));d.scrollTop=a;d.scrollLeft=f},d=(a,b,c,d)=>{if(b&&"object"===typeof b){if(d&&(d=a.getLeastCommonAncestor(b))){var f=d.getInnerDomElement();d=h.getZIndexRelativeToAncestor(a.getOuterDomElement(),f);f=h.getZIndexRelativeToAncestor(b.getOuterDomElement(),
f);c&&(d*=-1,f*=-1);if(d<f)return!0;if(f<d)return!1}a=a.getOuterDomElement().compareDocumentPosition(b.getOuterDomElement());return c?2===a||10===a:4===a||20===a}return!1},c=a=>{a=a.getAncestors();let b=a.length,c=1,d=1;for(;b;){const f=a[--b];c*=f.scaleX||1;d*=f.scaleY||1;f.__effectiveScaleX=c;f.__effectiveScaleY=d}return{scaleX:c,scaleY:d}},f=(a,b,c)=>{const d=a.getOuterDomElement();if(k(b,c,0,0,d.offsetWidth*a.__effectiveScaleX,d.offsetHeight*a.__effectiveScaleY)){if(a=a.parent){const e=a.getInnerDomElement();
return f(a,b+(d.offsetLeft-e.scrollLeft)*a.__effectiveScaleX,c+(d.offsetTop-e.scrollTop)*a.__effectiveScaleY)}return!0}return!1},b=a=>{switch(a.align){case "center":a.releaseConstraint("__doAlignCenter");break;case "right":a.releaseConstraint("__doAlignRight")}},a=a=>{const b=a.parent;if(b)switch(a.align){case "center":a.constrain("__doAlignCenter",[a,"width",a,"alignOffset",b,"width"]);break;case "right":a.constrain("__doAlignRight",[a,"width",a,"alignOffset",b,"width"]);break;case "left":a.setX(a.alignOffset||
0)}},m=a=>{switch(a.valign){case "middle":a.releaseConstraint("__doValignMiddle");break;case "bottom":a.releaseConstraint("__doValignBottom")}},p=a=>{const b=a.parent;if(b)switch(a.valign){case "middle":a.constrain("__doValignMiddle",[a,"height",a,"valignOffset",b,"height"]);break;case "bottom":a.constrain("__doValignBottom",[a,"height",a,"valignOffset",b,"height"]);break;case "top":a.setY(a.valignOffset||0)}},l=(a,b,c)=>{a.getOuterDomStyle()["border"+c+"Radius"]=b+"px"};e.View=new JS.Class("View",
e.Node,{include:[h,e.DomObservable,e.DomObserver,e.ScrollObservable,e.FocusObservable,e.KeyObservable,e.MouseObservable],extend:{retainFocusDuringDomUpdate:g},initNode:function(a,b){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=b.tagName;delete b.tagName;this.setDomElement(this.createOurDomElement(a));const c=this.getOuterDomStyle();c.left=c.top="0px";this.callSuper(a,b);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(a){a=document.createElement(this.tagName||
"div");a.style.position="absolute";const b=this.klass;a.className=b.__cssClassName||(b.__cssClassName="myt-"+b.__displayName.split(".").join("-"));return a},doAfterAdoption:function(){this.__updateBounds(this.width,this.height)},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(c){this.parent!==c&&(this.inited&&(b(this),m(this)),this.callSuper(c),this.align&&a(this),this.valign&&p(this))},getSubviews:function(){return this.subviews||
(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(a=>a!==this)},setFocusTrap:function(a){this.focusTrap=a},setFocusCage:function(a){this.focusCage=a},setMaskFocus:function(a){this.maskFocus=a},setLayoutHint:function(a){this.layoutHint=a},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(a){if(this.ignoreLayout!==a){var b=this.inited&&this.parent;let c;if(a){if(b)for(b=this.parent.getLayouts(),c=b.length;c;)b[--c].removeSubview(this);
this.ignoreLayout=a}else if(this.ignoreLayout=a,b)for(b=this.parent.getLayouts(),c=b.length;c;)b[--c].addSubview(this)}},setDomClass:function(a){this.domClass!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domClass",a))},setDomId:function(a){this.domId!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domId",a))},setAlignOffset:function(a){this.alignOffset!==a&&(this.alignOffset=a,this.inited&&this.fireEvent("alignOffset",a),this.parent&&"left"===this.align&&this.setX(a))},setAlign:function(c){this.align!==
c&&(this.inited&&b(this),this.align=c,this.inited&&(this.fireEvent("align",c),a(this)))},__doAlignCenter:function(a){this.setX(Math.round((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(a){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(a){this.valignOffset!==a&&(this.valignOffset=a,this.inited&&this.fireEvent("valignOffset",a),this.parent&&"top"===this.valign&&this.setY(a))},setValign:function(a){this.valign!==a&&(this.inited&&
m(this),this.valign=a,this.inited&&(this.fireEvent("valign",a),p(this)))},__doValignMiddle:function(a){this.setY(Math.round((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(a){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(a){this.x!==a&&(this.x=a,this.visible&&(this.getOuterDomStyle().left=a+"px"),this.inited&&this.fireEvent("x",a))},setY:function(a){this.y!==a&&(this.y=a,this.visible&&(this.getOuterDomStyle().top=a+"px"),this.inited&&
this.fireEvent("y",a))},setWidth:function(a,b){0>a&&(a=0);this.width!==a&&(this.width=a,this.getOuterDomStyle().width=a+"px",this.inited&&(this.__updateBounds(a,this.height),b||this.fireEvent("width",a)))},setHeight:function(a,b){0>a&&(a=0);this.height!==a&&(this.height=a,this.getOuterDomStyle().height=a+"px",this.inited&&(this.__updateBounds(this.width,a),b||this.fireEvent("height",a)))},setTextColor:function(a){this.textColor!==a&&(this.textColor=a,this.getOuterDomStyle().color=a||"inherit",this.inited&&
this.fireEvent("textColor",a))},setBgColor:function(a){this.bgColor!==a&&(this.getOuterDomStyle().backgroundColor=this.bgColor=a,this.inited&&this.fireEvent("bgColor",a))},isColorAttr:a=>"bgColor"===a||"textColor"===a,setOpacity:function(a){this.opacity!==a&&(this.getOuterDomStyle().opacity=this.opacity=a,this.inited&&this.fireEvent("opacity",a))},setOverflow:function(a){const b=this.overflow;if(b!==a){this.overflow=a;const c=this.getInnerDomStyle();if("autox"===a)c.overflowX="auto",c.overflowY="hidden";
else if("autoy"===a)c.overflowY="auto",c.overflowX="hidden";else{if("autox"===b||"autoy"===b)c.overflowX=c.overflowY=null;c.overflow=a||"visible"}this.inited&&this.fireEvent("overflow",a)}},setVisible:function(a){if(this.visible!==a){this.visible=a;const b=this.getOuterDomStyle();b.visibility=a?"inherit":"hidden";b.left=a?this.x+"px":"-100000px";b.top=a?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",a)}},setPointerEvents:function(a){this.pointerEvents!==a&&(this.pointerEvents=a,this.getOuterDomStyle().pointerEvents=
a||"auto",this.inited&&this.fireEvent("pointerEvents",a))},setCursor:function(a){this.cursor!==a&&(this.cursor=a,this.getOuterDomStyle().cursor=a||"auto",this.inited&&this.fireEvent("cursor",a))},__updateBounds:function(a,b){this.boundsWidth!==a&&this.fireEvent("boundsWidth",this.boundsWidth=a);this.boundsHeight!==b&&this.fireEvent("boundsHeight",this.boundsHeight=b)},setOutline:function(a){a=a||[];this.setOutlineWidth(a[0]);this.setOutlineStyle(a[1]);this.setOutlineColor(a[2])},setOutlineWidth:function(a){this.outlineWidth=
a||0;this.getOuterDomStyle().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(a){this.getOuterDomStyle().outlineStyle=this.outlineStyle=a||"none"},setOutlineColor:function(a){this.getOuterDomStyle().outlineColor=this.outlineColor=a||"#000"},setBorder:function(a){a=a||[];this.setBorderWidth(a[0]);this.setBorderStyle(a[1]);this.setBorderColor(a[2])},setBorderWidth:function(a){this.borderWidth=a||0;this.getOuterDomStyle().borderWidth=this.borderWidth+"px"},setBorderStyle:function(a){this.getOuterDomStyle().borderStyle=
this.borderStyle=a||"none"},setBorderColor:function(a){this.getOuterDomStyle().borderColor=this.borderColor=a||"#000"},setRoundedCorners:function(a){this.getOuterDomStyle().borderRadius=a+"px"},setRoundedTopLeftCorner:function(a){l(this,a,"TopLeft")},setRoundedTopRightCorner:function(a){l(this,a,"TopRight")},setRoundedBottomLeftCorner:function(a){l(this,a,"BottomLeft")},setRoundedBottomRightCorner:function(a){l(this,a,"BottomRight")},setBoxShadow:function(a){a=a?(a[0]||0)+"px "+(a[1]||0)+"px "+(a[2]||
7)+"px "+(a[3]||"#000000"):"none";this.getOuterDomStyle().boxShadow=a},setGradient:function(a){const b=this.getOuterDomStyle();if(a){let d=a[0];"linear"===d||"radial"===d?a.shift():d="linear";let f=a[0];if("radial"===d){void 0===f?f="closest-side":a.shift();var c=a[0];if(void 0===c)c="circle";else{switch(c){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape: "+c),c="circle"}a.shift()}let b=a[0];void 0===b?b="center":(b=b.replaceAll("middle","center"),a.shift());
f=c+" "+f+" at "+b}else"number"===typeof f?(f+="deg",a.shift()):f?(f="to "+f,a.shift()):f="0deg";c=b=>{a.push(b&&"inherit"!==b?b:"transparent")};2>a.length&&c(this.textColor);2>a.length&&c(this.bgColor);b.background=d+"-gradient("+f+","+a.join(",")+")"}else b.background="none";this.bgColor=void 0},setTooltip:function(a){this.tooltip!==a&&(this.tooltip=this.getOuterDomElement().title=a,this.inited&&this.fireEvent("tooltip",a))},isVisible:function(){return null===this.searchAncestorsOrSelf(a=>!a.visible)},
getFocusTrap:function(a){return this.searchAncestorsOrSelf(b=>b.focusCage||b.focusTrap&&!a)},subnodeAdded:function(a){a instanceof e.View?(this.getInnerDomElement().appendChild(a.getOuterDomElement()),this.getSubviews().push(a),this.fireEvent("subviewAdded",a),this.subviewAdded(a)):a instanceof e.Layout&&(this.getLayouts().push(a),this.fireEvent("layoutAdded",a),this.layoutAdded(a))},subnodeRemoved:function(a){let b;a instanceof e.View?(b=this.getSubviewIndex(a),-1!==b&&(this.fireEvent("subviewRemoved",
a),a.removeDomElement(),this.subviews.splice(b,1),this.subviewRemoved(a))):a instanceof e.Layout&&(b=this.getLayoutIndex(a),-1!==b&&(this.fireEvent("layoutRemoved",a),this.layouts.splice(b,1),this.layoutRemoved(a)))},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.getSubviews().indexOf(a)},subviewAdded:a=>{},subviewRemoved:a=>{},getNextSibling:function(){if(this.parent){const a=this.getOuterDomElement().nextElementSibling;if(a)return a.model}return null},
getPrevSibling:function(){if(this.parent){const a=this.getOuterDomElement().previousElementSibling;if(a)return a.model}return null},hasLayout:function(a){return-1!==this.getLayoutIndex(a)},getLayoutIndex:function(a){return this.getLayouts().indexOf(a)},layoutAdded:a=>{},layoutRemoved:a=>{},isBehind:function(a,b){return d(this,a,!1,b)},isInFrontOf:function(a,b){return d(this,a,!0,b)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},
sendBehind:function(a){this.parent.sendSubviewBehind(this,a)},sendInFrontOf:function(a){this.parent.sendSubviewInFrontOf(this,a)},bringSubviewToFront:function(a){if(a&&a.parent===this){const b=this.getInnerDomElement();a.getOuterDomElement()!==b.lastChild&&g(a,()=>{b.appendChild(a.getOuterDomElement())})}},sendSubviewToBack:function(a){if(a&&a.parent===this){const b=this.getInnerDomElement();a.getOuterDomElement()!==b.firstChild&&g(a,()=>{b.insertBefore(a.getOuterDomElement(),b.firstChild)})}},sendSubviewBehind:function(a,
b){if(a&&b&&a.parent===this&&b.parent===this){const c=this.getInnerDomElement();g(a,()=>{c.insertBefore(a.getOuterDomElement(),b.getOuterDomElement())})}},sendSubviewInFrontOf:function(a,b){a&&b&&a.parent===this&&b.parent===this&&(this.sendSubviewBehind(a,b),this.sendSubviewBehind(b,a))},sortSubviews:function(a){const b=this,c=b.getSubviews().sort(a);g(b,()=>{const a=b.getOuterDomElement(),d=a.parentNode;let f;d&&(f=a.nextSibling,d.removeChild(a));const e=document.createDocumentFragment(),l=c.length;
for(let a=0;l>a;)e.appendChild(c[a++].getOuterDomElement());b.getInnerDomElement().appendChild(e);d&&d.insertBefore(a,f)})},containsPoint:function(a,b,c){const d=this.getOuterDomElement();if(!d)return!1;c=h.getRelativePosition(d,c);return k(a,b,c.x,c.y,this.width,this.height)},isPointVisible:function(a,b){const d=this.getPagePosition(!0);c(this);return f(this,a-d.x,b-d.y)},getEffectiveScale:function(){return c(this)},getEffectiveScaleX:function(){return c(this).scaleX},getEffectiveScaleY:function(){return c(this).scaleY}})})(myt);
(e=>{const h=(e,d,c)=>{const f=k(e,d);e.getOuterDomStyle().transform=f+(0===f.length?"":" ")+d+"("+c+")"},k=(e,d)=>{e=e.getOuterDomStyle();var c=e.transform;if(!c||0===c.length)return"";c=c.split(" ");let f=c.length;for(;f;)if(0===c[--f].indexOf(d)){c.splice(f,1);break}return e.transform=c.join(" ")};e.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(e){this.transformOrigin!==e&&(this.transformOrigin=e,this.getOuterDomStyle().transformOrigin=e||"50% 50% 0",this.inited&&
(this.__updateBounds(this.width,this.height),this.fireEvent("transformOrigin",e)))},setRotation:function(e){this.rotation!==e&&(this.rotation=e,h(this,"rotate",(e||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",e)))},setScale:function(e){const d=this.scaleX!==e,c=this.scaleY!==e;if(d){var f=this.scaleX=e;null==f?k(this,"scaleX"):h(this,"scaleX",f||1)}c&&(f=this.scaleY=e,null==f?k(this,"scaleY"):h(this,"scaleY",f||1));this.inited&&((d||c)&&this.__updateBounds(this.width,
this.height),d&&this.fireEvent("scaleX",e),c&&this.fireEvent("scaleY",e))},setScaleX:function(e){if(this.scaleX!==e){var d=this.scaleX=e;null==d?k(this,"scaleX"):h(this,"scaleX",d||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",e))}},setScaleY:function(e){if(this.scaleY!==e){var d=this.scaleY=e;null==d?k(this,"scaleY"):h(this,"scaleY",d||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",e))}},setSkewX:function(e){this.skewX!==
e&&(this.skewX=e,h(this,"skewX",e||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",e)))},setSkewY:function(e){this.skewY!==e&&(this.skewY=e,h(this,"skewY",e||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",e)))},__updateBounds:function(e,d){const c=this.rotation;var f=this.scaleX;const b=this.scaleY;f=(null==f||1===f)&&(null==b||1===b);if(!f||null!=c&&0!==c&&180!==c)!f||90!==c&&270!==c?(d=this.getOuterDomElement().getBoundingClientRect(),
e=d.width,d=d.height):(e=this.height,d=this.width);this.callSuper(e,d)}})})(myt);
(e=>{const h=JS.Module,k=(c,b)=>{if("auto"===b)c.__hasSetWidth=!1,c.getOuterDomStyle().width="auto",c.sizeViewToDom();else return c.__hasSetWidth=!0},g=(c,b)=>{if("auto"===b)c.__hasSetHeight=!1,c.getOuterDomStyle().height="auto",c.sizeViewToDom();else return c.__hasSetHeight=!0},d=c=>{if(!c.__hasSetWidth){const b=c.getOuterDomElement().offsetWidth/c.getEffectiveScaleX();c.width!==b&&(c.width=b,c.inited&&c.__updateBounds(b,c.height),c.fireEvent("width",b))}},c=c=>{if(!c.__hasSetHeight){const b=c.getOuterDomElement().offsetHeight/
c.getEffectiveScaleY();c.height!==b&&(c.height=b,c.inited&&c.__updateBounds(c.width,b),c.fireEvent("height",b))}};e.SizeToDom=new h("SizeToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(c,b){k(this,c)&&this.callSuper(c,b)},setHeight:function(c,b){g(this,c)&&this.callSuper(c,b)},sizeViewToDom:function(){d(this);c(this)}});e.SizeWidthToDom=new h("SizeWidthToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(c,b){k(this,
c)&&this.callSuper(c,b)},sizeViewToDom:function(){d(this)}});e.SizeHeightToDom=new h("SizeHeightToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setHeight:function(c,b){g(this,c)&&this.callSuper(c,b)},sizeViewToDom:function(){c(this)}})})(myt);
(e=>{const h=(e,g,d,c)=>{e[d]!==g&&(e[d]=g,e.getInnerDomStyle()[d]=g||c||"inherit",e.inited&&(e.fireEvent(d,g),e.sizeViewToDom()))};e.TextSupport=new JS.Module("TextSupport",{setWidth:function(e,g){this.callSuper(e,g);"auto"!==e&&(e=this.whiteSpace,"normal"!==e&&"pre-line"!==e&&"pre-wrap"!==e||this.sizeViewToDom())},setText:function(e){e||(e="");e=this.valueFromEvent(e);this.text!==e&&(this.getInnerDomElement().innerHTML=this.text=e,this.inited&&(this.fireEvent("text",e),this.sizeViewToDom()))},setTextOverflow:function(e){this.textOverflow!==
e&&(this.textOverflow=e,this.getInnerDomStyle().textOverflow=e||"inherit",this.inited&&this.fireEvent("textOverflow",e))},setTextAlign:function(e){this.textAlign!==e&&(this.textAlign=e,this.getInnerDomStyle().textAlign=e||"inherit",this.inited&&this.fireEvent("textAlign",e))},setWhiteSpace:function(e){h(this,e,"whiteSpace")},setWordWrap:function(e){h(this,e,"wordWrap","normal")},setTextIndent:function(e){h(this,e,"textIndent")},setTextTransform:function(e){h(this,e,"textTransform")},setTextDecoration:function(e){h(this,
e,"textDecoration")},setLineHeight:function(e){h(this,e,"lineHeight")},setLetterSpacing:function(e){h(this,e,"letterSpacing")},setWordSpacing:function(e){h(this,e,"wordSpacing")},setFontFamily:function(e){h(this,e,"fontFamily")},setFontStyle:function(e){h(this,e,"fontStyle")},setFontVariant:function(e){h(this,e,"fontVariant")},setFontWeight:function(e){h(this,e,"fontWeight")},setFontSize:function(e){h(this,e,"fontSize")},setUserUnselectable:function(e){this.userUnselectable!==e&&(this.userUnselectable=
e,this[e?"addDomClass":"removeDomClass"]("mytUnselectable"),this.setCursor(e?"default":"text"),this.inited&&this.fireEvent("userUnselectable",e))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(e,g,d,c){this.getInnerDomStyle().textShadow=(e||0)+"px "+(g||0)+"px "+(null!=d?d:2)+"px "+(c||"#000")},hideTextShadow:function(){this.getInnerDomStyle().textShadow=
"none"}})})(myt);
(e=>{const h={},k={},g=d=>{const c=d.imageUrl;if(d.calculateNaturalSize&&c){var f=h[c];if(f)d.setNaturalWidth(f.width),d.setNaturalHeight(f.height);else{f=k[c];if(!f){k[c]=f=[];const b=new Image;b.onerror=a=>{if(a=k[c]){let b=a.length;for(;b;)a[--b].setImageLoadingError(!0);a.length=0;delete k[c]}};b.onload=()=>{const a=b.width,d=b.height,f=k[c];if(f){let b=f.length;for(;b;){const e=f[--b];e.imageUrl===c&&(e.setNaturalWidth(a),e.setNaturalHeight(d))}f.length=0;delete k[c]}h[c]={width:a,height:d}};
b.src=c}f.push(d)}}};e.ImageSupport=new JS.Module("ImageSupport",{initNode:function(d,c){this.defAttr(c,"imageRepeat","no-repeat");this.defAttr(c,"imageAttachment","scroll");this.callSuper(d,c)},setImageUrl:function(d){this.imageUrl!==d&&(this.imageUrl=d,this.getInnerDomStyle().backgroundImage=d?'url("'+d+'")':"none",this.inited&&(this.fireEvent("imageUrl",d),this.setNaturalWidth(void 0),this.setNaturalHeight(void 0),!d&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),g(this))},setImageLoadingError:function(d){this.set("imageLoadingError",
d,!0)},setImageSize:function(d){this.imageSize!==d&&(this.imageSize=d,this.getInnerDomStyle().backgroundSize=d||"auto",this.inited&&this.fireEvent("imageSize",d))},setImageRepeat:function(d){this.imageRepeat!==d&&(this.getInnerDomStyle().backgroundRepeat=this.imageRepeat=d,this.inited&&this.fireEvent("imageRepeat",d))},setImagePosition:function(d){this.imagePosition!==d&&(this.getInnerDomStyle().backgroundPosition=this.imagePosition=d,this.inited&&this.fireEvent("imagePosition",d))},setImageAttachment:function(d){this.imageAttachment!==
d&&(this.getInnerDomStyle().backgroundAttachment=this.imageAttachment=d,this.inited&&this.fireEvent("imageAttachment",d))},setCalculateNaturalSize:function(d){this.calculateNaturalSize!==d&&(this.calculateNaturalSize=d,this.inited&&this.fireEvent("calculateNaturalSize",d),g(this))},setNaturalWidth:function(d){this.naturalWidth!==d&&(this.naturalWidth=d,this.inited&&this.fireEvent("naturalWidth",d),this.useNaturalSize&&d&&this.setWidth(d))},setNaturalHeight:function(d){this.naturalHeight!==d&&(this.naturalHeight=
d,this.inited&&this.fireEvent("naturalHeight",d),this.useNaturalSize&&d&&this.setHeight(d))},setUseNaturalSize:function(d){this.useNaturalSize!==d&&(this.useNaturalSize=d,this.inited&&this.fireEvent("useNaturalSize",d),d&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),d&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(e=>{const h=JS.Class,k=e.View,g=e.SizeToDom,d=e.AccessorSupport.defAttr;e.FlexBox=new h("FlexBox",k,{include:[e.FlexBoxSupport]});e.Frame=new h("Frame",k,{initNode:function(c,f){d(f,"tagName","iframe");this.callSuper(c,f);c=e.global.mouse;this.attachToDom(c,"__doMouseDown","mousedown",!0);this.attachToDom(c,"__doMouseUp","mouseup",!0)},createOurDomElement:function(c){c=this.callSuper(c);(Array.isArray(c)?c[1]:c).style.border="0px";return c},setSrc:function(c){this.src!==c&&(this.src=this.getInnerDomElement().src=
c,this.inited&&this.fireEvent("src",c))},__doMouseDown:function(c){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(c){this.setPointerEvents(this.__restorePointerEvents);return!0}});e.Markup=new h("Markup",k,{include:[g],setHtml:function(c){this.html!==c&&(this.getInnerDomElement().innerHTML=this.html=c,this.inited&&(this.fireEvent("html",c),this.sizeViewToDom()))}});e.Text=new h("Text",k,{include:[g,e.TextSupport],initNode:function(c,f){d(f,
"whiteSpace","nowrap");d(f,"userUnselectable",!0);this.callSuper(c,f)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const c=this.getInnerDomStyle(),d=c.whiteSpace;c.whiteSpace="nowrap";const b=this.getOuterDomElement().getBoundingClientRect().width;c.whiteSpace=d;return b}});e.Image=new h("Image",k,{include:[e.ImageSupport],initNode:function(c,f){d(f,"useNaturalSize",!0);this.callSuper(c,f)}})})(myt);
(e=>{const h=c=>{const d=c.parent;d&&0<=c.percentOfParentWidth&&c.syncTo(d,"__doPOPW","width")},k=c=>{0<=c.percentOfParentWidth&&c.detachFrom(c.parent,"__doPOPW","width")},g=c=>{const d=c.parent;d&&0<=c.percentOfParentHeight&&c.syncTo(d,"__doPOPH","height")},d=c=>{0<=c.percentOfParentHeight&&c.detachFrom(c.parent,"__doPOPH","height")};e.SizeToParent=new JS.Module("SizeToParent",{setParent:function(c){this.parent!==c&&(this.inited&&(k(this),d(this)),this.callSuper(c),h(this),g(this))},setPercentOfParentWidthOffset:function(c){this.percentOfParentWidthOffset!==
c&&(this.percentOfParentWidthOffset=c,this.inited&&(this.fireEvent("percentOfParentWidthOffset",c),this.__doPOPW()))},setPercentOfParentWidth:function(c){this.percentOfParentWidth!==c&&(this.inited&&k(this),this.percentOfParentWidth=c,this.inited&&this.fireEvent("percentOfParentWidth",c),h(this))},setPercentOfParentHeightOffset:function(c){this.percentOfParentHeightOffset!==c&&(this.percentOfParentHeightOffset=c,this.inited&&(this.fireEvent("percentOfParentHeightOffset",c),this.__doPOPH()))},setPercentOfParentHeight:function(c){this.percentOfParentHeight!==
c&&(this.inited&&d(this),this.percentOfParentHeight=c,this.inited&&this.fireEvent("percentOfParentHeight",c),g(this))},__doPOPW:function(c){this.setWidth((this.percentOfParentWidthOffset||0)+Math.round(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(c){this.setHeight((this.percentOfParentHeightOffset||0)+Math.round(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(e=>{let h;const k=[];new JS.Singleton("GlobalRootViewRegistry",{include:[e.Observable],initialize:function(){e.global.register("roots",h=this)},getRoots:()=>k,addRoot:e=>{k.push(e);h.fireEvent("rootAdded",e)},removeRoot:e=>{let d=k.length;for(;d;){const c=k[--d];if(c===e){k.splice(d,1);h.fireEvent("rootRemoved",c);break}}}})})(myt);
(e=>{const h=e.global.roots,k=e.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:function(g){const d=g.__captureDrop=c=>{c.preventDefault()};g=g.getInnerDomElement();e.addEventListener(g,"drop",d);e.addEventListener(g,"dragover",d)},teardownCaptureDrop:function(g){const d=g.getInnerDomElement();g=g.__captureDrop;e.removeEventListener(d,"drop",g);e.removeEventListener(d,"dragover",g)}},initNode:function(e,d){this.callSuper(e,d);this.setZIndex(0);this.addDomClass("myt");h.addRoot(this);k.setupCaptureDrop(this)},
createOurDomElement:function(g){g||(g=this.callSuper(g),e.getElement().appendChild(g));return g},destroyAfterOrphaning:function(){k.teardownCaptureDrop(this);h.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(e){this.keepDomElementWhenDestroyed=e},setParent:function(e){this.callSuper(void 0)},bringToFront:function(){var e=this.getInnerDomElement();const d=e.parentNode;e!==d.lastChild&&(e=d.removeChild(e))&&d.appendChild(e)},
sendToBack:function(){var e=this.getInnerDomElement();const d=e.parentNode;e!==d.firstChild&&(e=d.removeChild(e))&&d.insertBefore(e,d.firstChild)},sendBehind:function(e){var d=this.getInnerDomElement();e=e.getInnerDomElement();const c=d.parentNode;e.parentNode===c&&(d=c.removeChild(d))&&c.insertBefore(d,e)},sendInFrontOf:function(e){e.getInnerDomElement().parentNode===this.getInnerDomElement().parentNode&&(this.sendBehind(e),e.sendBehind(this))}})})(myt);
(e=>{const h=window;let k,g;new JS.Singleton("GlobalWindowResize",{include:[e.Observable],initialize:function(){e.addEventListener(h,"resize",d=>{this.fireEvent("resize",{w:k=h.innerWidth,h:g=h.innerHeight})});e.global.register("windowResize",this)},getWidth:()=>k||(k=h.innerWidth),getHeight:()=>g||(g=h.innerHeight)})})(myt);
(e=>{const h=JS.Module,k=e.global.windowResize,g=c=>{const d=c.resizeDimension;"width"!==d&&"both"!==d||c.setWidth(Math.max(c.minWidth,k.getWidth()));"height"!==d&&"both"!==d||c.setHeight(Math.max(c.minHeight,k.getHeight()))},d=e.SizeToWindow=new h("SizeToWindow",{include:[e.RootView],initNode:function(c,d){this.minWidth=this.minHeight=0;null==d.resizeDimension&&(d.resizeDimension="both");this.attachTo(k,"__handleResize","resize");this.callSuper(c,d)},setResizeDimension:function(c){this.resizeDimension!==
c&&(this.resizeDimension=c,g(this))},setMinWidth:function(c){this.minWidth!==c&&(this.minWidth=c,g(this))},setMinHeight:function(c){this.minHeight!==c&&(this.minHeight=c,g(this))},__handleResize:function(c){g(this)}});e.SizeToWindowWidth=new h("SizeToWindowWidth",{include:[d],initNode:function(c,d){null==d.resizeDimension&&(d.resizeDimension="width");this.callSuper(c,d)}});e.SizeToWindowHeight=new h("SizeToWindowHeight",{include:[d],initNode:function(c,d){null==d.resizeDimension&&(d.resizeDimension=
"height");this.callSuper(c,d)}})})(myt);
(e=>{const h=window,k={};let g,d,c,f=!1;new JS.Singleton("GlobalIdle",{include:[e.Observable],initialize:function(){const b=this,a=["webkit","moz","ms","o"];for(let b=0;b<a.length&&!h.requestAnimationFrame;){const c=a[b++];h.requestAnimationFrame=h[c+"RequestAnimationFrame"];h.cancelAnimationFrame=h[c+"CancelAnimationFrame"]||h[c+"CancelRequestAnimationFrame"]}d=a=>{g=h.requestAnimationFrame(d);-1!==c&&(a=Math.round(a),k.delta=a-c,k.time=a,b.fireEvent("idle",k));c=a};e.global.register("idle",b)},
attachObserver:function(b,a,e){b=this.callSuper(b,a,e);!f&&this.hasObservers("idle")&&(f=!0,c=-1,g=h.requestAnimationFrame(d));return b},detachObserver:function(b,a,c){b=this.callSuper(b,a,c);f&&!this.hasObservers("idle")&&(h.cancelAnimationFrame(g),f=!1);return b}})})(myt);
(e=>{const h=(a,b,c,d,f)=>{const l=e.Color;a=l.makeColorFromHexString(a);b=l.makeColorFromHexString(b);d=d?l.makeColorFromHexString(f):a;d.setRed(d.red+(b.red-a.red)*c);d.setGreen(d.green+(b.green-a.green)*c);d.setBlue(d.blue+(b.blue-a.blue)*c);return d.getHtmlHexString()},k=a=>{a.__temporaryFrom=!1;a.__loopCount=a.reverse?a.repeat-1:0;a.__progress=a.reverse?a.duration:0},g=(a,b)=>{if(a.running&&!a.paused){const l=a.reverse,m=a.duration,k=a.repeat;l&&(b*=-1);var c=a.__progress;a.__progress+=b;b=0;
a.__progress>m?(b=a.__progress-m,a.__progress=m,++a.__loopCount===k&&(b=0)):0>a.__progress&&(b=-a.__progress,a.__progress=0,0>--a.__loopCount&&0<k&&(b=0));var d=a.target||a.parent;if(d){{const b=a.relative;var f=a.duration;const l=a.attribute;var e=Math.max(0,a.__progress/f);c=Math.max(0,c/f);null==a.from&&(a.__temporaryFrom=!0,a.from=b?a.__isColorAnim?"#000":0:d.get(l));c=a.easingFunction(e)-(b?a.easingFunction(c):0);e=b?d.get(l):a.from;f=a.to;d.set(l,a.__isColorAnim?h(a.from,f,c,b,e):e+(f-a.from)*
c)}!l&&a.__loopCount===k||l&&0>a.__loopCount&&0<k?(a.setRunning(!1),a.callback&&a.callback.call(a,!0)):0<b&&(a.fireEvent("repeat",a.__loopCount),a.__progress=l?m:0,g(a,b))}else console.log("No target found for animator.",a),a.setRunning(!1),a.callback&&a.callback.call(a,!1)}},d=Math.PI,c=2*d,f=d/2,b=e.Animator=new JS.Class("Animator",e.Node,{include:[e.Reusable],extend:{easingFunctions:{linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>
a*a*a,easeOutCubic:a=>--a*a*a+1,easeInOutCubic:a=>1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-(--a*a*a*a-1),easeInOutQuart:a=>1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>--a*a*a*a*a+1,easeInOutQuint:a=>1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*f)+1,easeOutSine:a=>Math.sin(a*f),easeInOutSine:a=>-.5*(Math.cos(d*a)-1),easeInCirc:a=>-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1- --a*a),easeInOutCirc:a=>
1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInExpo:a=>0==a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1==a?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2),easeInElastic:a=>0==a?0:1==a?1:-(Math.pow(2,10*--a)*Math.sin((1*a-.075)*c/.3)),easeOutElastic:a=>0==a?0:1==a?1:Math.pow(2,-10*a)*Math.sin((1*a-.075)*c/.3)+1,easeInOutElastic:a=>0==a?0:2==(a/=.5)?1:1>a?-.5*Math.pow(2,10*--a)*Math.sin((1*a-.1125)*c/.45):Math.pow(2,
-10*--a)*Math.sin((1*a-.1125)*c/.45)*.5+1,easeInBack:(a,b=1.70158)=>(a/=1)*a*((b+1)*a-b),easeOutBack:(a,b=1.70158)=>(a=a/1-1)*a*((b+1)*a+b)+1,easeInOutBack:(a,b=1.70158)=>1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2),easeInBounce:a=>1-b.easingFunctions.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>.5>a?.5*b.easingFunctions.easeInBounce(2*
a):.5*b.easingFunctions.easeOutBounce(2*a-1)+.5}},initNode:function(a,c){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=b.DEFAULT_EASING_FUNCTION;this.callSuper(a,c);k(this)},setRunning:function(a){if(this.running!==a&&(this.running=a,this.inited&&this.fireEvent("running",a),!this.paused)){if(a){{const a=this.target||this.parent;this.__isColorAnim=a&&"function"===typeof a.isColorAttr?a.isColorAttr(this.attribute):void 0}}else this.__temporaryFrom&&
(this.from=void 0),k(this);this[a?"attachTo":"detachFrom"](e.global.idle,"__updateAnim","idle")}},setPaused:function(a){if(this.paused!==a&&(this.paused=a,this.inited&&this.fireEvent("paused",a),this.running))this[a?"detachFrom":"attachTo"](e.global.idle,"__updateAnim","idle")},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&this.fireEvent("reverse",a),this.running||k(this))},setEasingFunction:function(a){"string"===typeof a&&(a=b.easingFunctions[a]);a||(a=b.DEFAULT_EASING_FUNCTION);
this.set("easingFunction",a,!0)},setFrom:function(a){this.set("from",a,!0)},setTo:function(a){this.set("to",a,!0)},setCallback:function(a){this.callback=a},next:function(a,b){const c=this,d=c.callback;d&&!b?c.setCallback(b=>{d.call(c,b);a.call(c,b)}):c.setCallback(a)},reset:function(a){k(this);this.setRunning(!1);this.setPaused(!1);a&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=
1;this.easingFunction=b.DEFAULT_EASING_FUNCTION;this.reset(!1)},__updateAnim:function(a){g(this,a.value.delta)}});b.DEFAULT_EASING_FUNCTION=b.easingFunctions.easeInOutQuad})(myt);
(e=>{const h=c=>{c.__additionalArgs=[];c.__pendingTransition="";c.__transDestinationState="";c.__transStage="leaveState"},k=(c,f)=>{if(c.__transInProgress){var b=c.__deferredTransitions;b||(b=c.__deferredTransitions=[]);b.unshift(f)}else{c.__transInProgress=!0;b=f.shift();const a=f.shift();if(c.__pendingTransition)return d.PENDING;if(c.isFinished())return c.__transInProgress=!1,d.NO_TRANSITION;let e=c.map[c.current][a];e||(e=c.map["*"][a]);if(e)return c.__pendingTransition=a,c.__transDestinationState=
e,c.__additionalArgs=f,c.resumeTransition(b);c.__transInProgress=!1;return d.NO_TRANSITION}},g=c=>{c.__transInProgress=!1;const d=c.__deferredTransitions;if(d)for(;0<d.length;)k(c,d.pop())},d=e.StateMachine=new JS.Class("StateMachine",e.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(c,d){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";h(this);this.callSuper(c,d)},setInitialState:function(c){if(""===this.current){if(Array.isArray(c)){var d=
c;c=d.shift()}else d=[];this.current=this.initial=c;this.doEnterState("","",c,d);d={name:"",from:"",to:c,args:d};this.fireEvent("enter"+c,d);this.fireEvent("enter",d);this.isFinished()&&this.fireEvent("finished",d)}},setTerminalState:function(c){this.terminal=c},addTransitions:function(c){c.forEach(c=>this.addTransition(...c))},addTransition:function(c,d,b){const a=this.map;d=d?Array.isArray(d)?d:[d]:["*"];let f=d.length,e;for(;f;)(e=a[d[--f]])||(e=a[d[f]]={}),e[c]=b},doTransition:function(...c){c.unshift("sync");
return k(this,c)},doAsyncTransition:function(...c){c.unshift("async");return k(this,c)},resumeTransition:function(c){const f=this.__pendingTransition;if(!f)return d.INVALID;const b=this.current,a=this.__transDestinationState,e=this.__additionalArgs,k={name:f,from:b,to:a,args:e};switch(this.__transStage){case "leaveState":const l=this.doLeaveState(f,b,a,e);if(!1===l)return h(this),g(this),d.CANCELLED;if("async"===l||"async"===c)return this.__transStage="enterState",this.fireEvent("start"+f,k),this.fireEvent("start",
k),this.fireEvent("leave"+b,k),this.fireEvent("leave",k),g(this),d.PENDING;this.fireEvent("start"+f,k);this.fireEvent("start",k);this.fireEvent("leave"+b,k);this.fireEvent("leave",k);case "enterState":this.current=a,h(this),this.doEnterState(f,b,a,e),this.fireEvent("enter"+a,k),this.fireEvent("enter",k),this.fireEvent("end"+f,k),this.fireEvent("end",k),this.isFinished()&&this.fireEvent("finished",k)}g(this);return d.SUCCEEDED},doLeaveState:(c,d,b,a)=>{},doEnterState:(c,d,b,a)=>{},isFinished:function(){return this.is(this.terminal)},
isStarting:function(){return this.is(this.initial)},is:function(c){return Array.isArray(c)?0<=c.indexOf(this.current):this.current===c},can:function(c){return void 0!==this.map[this.current][c]?!0:void 0!==this.map["*"][c]}})})(myt);
(e=>{const h=(c,d)=>c.replicationIndex-d.replicationIndex,k=(c,d)=>{let b=c.length,a;for(;b;)a=c[--b],a.decrementLockedCounter(),d&&a.update()},g=c=>{d(c);const f=c.template;f&&(c.__pool=new e.TrackActivesPool(f,c.parent))},d=c=>{const d=c.__pool;if(d){const b=c.parent.getLayouts();{c=b;let a=c.length;for(;a;)c[--a].incrementLockedCounter()}d.putActives();d.destroyPooledInstances();k(b,!1);d.destroy()}};e.Replicable=new JS.Module("Replicable",{include:[e.Reusable],replicate:function(c,d){this.replicationData=
c;this.replicationIndex=d},notify:function(c,d){},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(c,d){return d===this.replicationIndex&&c===this.replicationData}});e.Replicator=new JS.Class("Replicator",e.Node,{initNode:function(c,d){this.callSuper(c,d);g(this);this.doReplication()},destroyAfterOrphaning:function(){d(this);this.callSuper()},setTemplate:function(c){(this.template=c.includes(e.Replicable)?c:null)||e.dumpStack("Template not an myt.Replicable");
this.inited&&(g(this),this.doReplication())},setData:function(c){this.data=c;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const c=this.__pool;let d;if(c){d=this.parent.getLayouts();for(var b=d.length;b;)d[--b].incrementLockedCounter();const a=(b=this.data)?b.length:0,f=c.getActives(),e=f.length,l=[];let g=e,q,t;for(f.sort(h);g;)if(q=f[--g],t=q.replicationIndex,t>=a||!q.alreadyHasReplicationData(b[t],t))l[t]=q;for(g=l.length;g;)(q=
l[--g])&&c.putInstance(q);for(g=0;a>g;++g)(g>=e||null!=l[g])&&c.getInstance().replicate(b[g],g);for(g=d.length;g;)d[--g].sortSubviews(h);k(d,!0)}},notify:function(c,d){var b=this.__pool;if(b){b=b.getActives();let a=b.length;for(;a;)b[--a].notify(c,d)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(e=>{let h,k,g;const d=[],c=[],f=a=>{const b=g;b!==a&&(b&&(b.notifyDragLeave(k),k.destroyed||k.notifyDragLeave(b),h("dragLeave",b)),g=a)&&(a.notifyDragEnter(k),k.destroyed||k.notifyDragEnter(a),h("dragEnter",b))},b=b=>{let f=k;if(f!==b){k=b;let e,g,m=a=>{a[e](f)};b?(f=b,e="notifyDragStart",g="startDrag"):(e="notifyDragStop",g="stopDrag");a(f,c).forEach(m);a(f,d).forEach(m);h(g,b)}},a=(a,b)=>{if(a.destroyed)return[];if(a.acceptAnyDragGroup())return b;{const c=[];a=a.getDragGroups();let d=b.length;
for(;d;){const f=b[--d];if(f.acceptAnyDragGroup())c.push(f);else{const b=f.getDragGroups();for(const d in a)if(b[d]){c.push(f);break}}}return c}};new JS.Singleton("GlobalDragManager",{include:[e.Observable],initialize:function(){e.global.register("dragManager",this);h=this.fireEvent.bind(this)},getDragView:()=>k,registerAutoScroller:a=>{d.push(a)},unregisterAutoScroller:a=>{let b=d.length;for(;b;)if(d[--b]===a){d.splice(b,1);break}},registerDropTarget:a=>{c.push(a)},unregisterDropTarget:a=>{let b=
c.length;for(;b;)if(c[--b]===a){c.splice(b,1);break}},startDrag:a=>{b(a)},stopDrag:(a,c,d)=>{c.notifyDropped(g,d);g&&!d&&g.notifyDrop(c);f();b();g&&!d&&h("drop",[c,g])},updateDrag:(b,d)=>{const e=a(d,c);let g=e.length,h;if(0<g){var k=b.value;b=k.pageX;for(k=k.pageY;g;){let a=e[--g];a.willAcceptDrop(d)&&d.willPermitDrop(a)&&a.isPointVisible(b,k)&&(!h||a.isInFrontOf(h))&&(h=a)}}f(h)}})})(myt);
(e=>{const h=JS.Module,k=e.global,g=k.mouse,d=k.keys,c=k.idle,f=e.AccessorSupport.defAttr;e.Activateable=new h("Activateable",{doActivated:()=>{}});e.UpdateableUI=new h("UpdateableUI",{initNode:function(b,a){this.callSuper(b,a);this.updateUI()},updateUI:()=>{}});e.Disableable=new h("Disableable",{initNode:function(b,a){f(a,"disabled",!1);this.callSuper(b,a)},setDisabled:function(b){this.disabled!==b&&(this.disabled=b,this.inited&&this.fireEvent("disabled",b),this.doDisabled())},doDisabled:function(){this.inited&&
(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});e.KeyActivation=new h("KeyActivation",{extend:{DEFAULT_ACTIVATION_KEYS:[13,32]},initNode:function(b,a){this.activateKeyDown=-1;f(a,"activationKeys",e.KeyActivation.DEFAULT_ACTIVATION_KEYS);this.callSuper(b,a);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(b){this.activationKeys=
b},setRepeatKeyDown:function(b){this.repeatKeyDown=b},__handleKeyDown:function(b){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const a=e.KeyObservable.getKeyCodeFromEvent(b),c=this.activationKeys;let d=c.length;for(;d;)if(a===c[--d]){this.activateKeyDown===a?this.doActivationKeyDown(a,!0):(this.activateKeyDown=a,this.doActivationKeyDown(a,!1));b.value.preventDefault();break}}},__handleKeyPress:function(b){if(!this.disabled){const a=e.KeyObservable.getKeyCodeFromEvent(b);if(this.activateKeyDown===
a){const c=this.activationKeys;let d=c.length;for(;d;)if(a===c[--d]){b.value.preventDefault();break}}}},__handleKeyUp:function(b){if(!this.disabled){const a=e.KeyObservable.getKeyCodeFromEvent(b);if(this.activateKeyDown===a){const c=this.activationKeys;let d=c.length;for(;d;)if(a===c[--d]){this.activateKeyDown=-1;this.doActivationKeyUp(a);b.value.preventDefault();break}}}},__doDomBlur:function(b){this.disabled||(b=this.activateKeyDown,-1!==b&&(this.activateKeyDown=-1,this.doActivationKeyAborted(b)))},
doActivationKeyDown:(b,a)=>{},doActivationKeyUp:function(b){this.doActivated()},doActivationKeyAborted:b=>{}});e.MouseOver=new h("MouseOver",{initNode:function(b,a){f(a,"mouseOver",!1);this.callSuper(b,a);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(b){this.mouseOver!==b&&(this.mouseOver=b,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(c,"__doMouseOverOnIdle","idle")))},setDisabled:function(b){this.callSuper(b);
this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(c,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const b=this.mouseOver;this.__lastOverIdleValue!==b&&(this.__lastOverIdleValue=b,this.doSmoothMouseOver(b))},doSmoothMouseOver:function(b){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(b){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(b){this.__disabledOver=
!1;this.disabled||this.setMouseOver(!1)}});e.MouseDown=new h("MouseDown",{initNode:function(b,a){f(a,"mouseDown",!1);this.callSuper(b,a);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(b){this.mouseDown!==b&&(this.mouseDown=b,this.inited&&(b&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(b){b&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(b)},doMouseOver:function(b){this.callSuper(b);
this.mouseDown&&this.detachFromDom(g,"doMouseUp","mouseup",!0)},doMouseOut:function(b){this.callSuper(b);!this.disabled&&this.mouseDown&&this.attachToDom(g,"doMouseUp","mouseup",!0)},doMouseDown:function(b){this.disabled||this.setMouseDown(!0)},doMouseUp:function(b){this.mouseOver||this.detachFromDom(g,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(b))},doMouseUpInside:function(b){this.doActivated&&this.doActivated()}});e.MouseOverAndDown=
new h("MouseOverAndDown",{include:[e.MouseOver,e.MouseDown]});e.Draggable=new h("Draggable",{initNode:function(b,a){let c=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=a.isDraggable&&(c=a.isDraggable,delete a.isDraggable);this.callSuper(b,a);this.setIsDraggable(c)},setIsDraggable:function(b){if(this.isDraggable!==b){this.isDraggable=b;let a;b?a=this.attachToDom:this.inited&&(a=this.detachFromDom);if(a){b=this.getDragViews();
let c=b.length;for(;c;){const d=b[--c];a.call(this,d,"__doMouseDown","mousedown");a.call(this,d,"__doContextMenu","contextmenu")}}}},setIsDragging:function(b){this.set("isDragging",b,!0)},setDragOffsetX:function(b,a){this.dragOffsetX!==b&&(this.dragOffsetX=b,this.inited&&this.isDragging&&!a&&this.reRequestDragPosition())},setDragOffsetY:function(b,a){this.dragOffsetY!==b&&(this.dragOffsetY=b,this.inited&&this.isDragging&&!a&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(b){this.distanceBeforeDrag=
b},setDraggableAllowBubble:function(b){this.draggableAllowBubble=b},setCenterOnMouse:function(b){this.centerOnMouse=b},setAllowAbort:function(b){this.allowAbort=b},getDragViews:function(){return[this]},__doContextMenu:b=>{},__doMouseDown:function(b){const a=e.MouseObservable.getMouseFromEvent(b),c=this.getOuterDomElement();this.dragInitX=a.x-c.offsetLeft;this.dragInitY=a.y-c.offsetTop;this.attachToDom(g,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(g,"__doDragCheck","mousemove",
!0):this.startDrag(b);b.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(b){this.isDragging?this.stopDrag(b,!1):(this.detachFromDom(g,"__doMouseUp","mouseup",!0),this.detachFromDom(g,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(b){27===b.value&&this.stopDrag(b,!0)},__doDragCheck:function(b){const a=e.MouseObservable.getMouseFromEvent(b);e.Geometry.measureDistance(a.x,a.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&
(this.detachFromDom(e.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(b))},startDrag:function(b){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(d,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(g,"updateDrag","mousemove",!0);this.updateDrag(b)},updateDrag:function(b){this.__lastMousePosition=e.MouseObservable.getMouseFromEvent(b);this.reRequestDragPosition()},__updateDragInitX:function(b){this.dragInitX=
this.width/2*(this.scaleX||1)},__updateDragInitY:function(b){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(b,a){this.detachFromDom(g,"__doMouseUp","mouseup",!0);this.detachFromDom(g,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(d,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(b,a){this.disabled||(this.setX(b),
this.setY(a))},reRequestDragPosition:function(){const b=this.__lastMousePosition;this.requestDragPosition(b.x-this.dragInitX+this.dragOffsetX,b.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(e=>{const h=JS.Class;var k=JS.Module;const g=e.View,d=e.AccessorSupport.defAttr,c=(b,a,c)=>{a="padding"+a;b.getInnerDomStyle()[a]=(b[a]=c)+"px"};var f=e.Button=new k("Button",{include:[e.Activateable,e.UpdateableUI,e.Disableable,e.MouseOverAndDown,e.KeyActivation],extend:{DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE:[0,0,7,"#666"],DEFAULT_DISABLED_OPACITY:.5},initNode:function(b,a){d(a,"focusable",!0);d(a,"cursor","pointer");this.callSuper(b,a)},setFocused:function(b){const a=this.focused;this.callSuper(b);
this.inited&&this.focused!==a&&this.updateUI()},doActivationKeyDown:function(b,a){a||this.updateUI()},doActivationKeyUp:function(b){this.callSuper(b);this.updateUI()},doActivationKeyAborted:function(b){this.callSuper(b);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const b=this.__restoreCursor;b&&(this.setCursor(b),this.__restoreCursor=null);-1!==this.activateKeyDown||
this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});k=e.SimpleButtonStyle=new k("SimpleButtonStyle",{include:[f],setActiveColor:function(b){this.activeColor!==
b&&(this.activeColor=b,this.inited&&this.updateUI())},setHoverColor:function(b){this.hoverColor!==b&&(this.hoverColor=b,this.inited&&this.updateUI())},setReadyColor:function(b){this.readyColor!==b&&(this.readyColor=b,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(b,a=1){this.setOpacity(a);
this.setBgColor(b)}});f=e.SimpleButton=new h("SimpleButton",g,{include:[k],initNode:function(b,a){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(b,a)}});e.SimpleTextButton=new h("SimpleTextButton",f,{initNode:function(b,a){this.inset=this.outset=0;d(a,"shrinkToFit",!1);d(a,"height",24);d(a,"textY","middle");this.callSuper(b,a);b=this.textY;a={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?
a.valign=b:a.y=b;b=new e.Text(this,a);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",b,"visible",b,"width",b,"height",b,"y"])},setInset:function(b){this.set("inset",this.valueFromEvent(b),!0)},setOutset:function(b){this.set("outset",this.valueFromEvent(b),!0)},setText:function(b){this.text!==b&&(this.text=b,this.inited&&(this.textView.setText(b),this.fireEvent("text",b)))},setShrinkToFit:function(b){const a=this.textView;this.shrinkToFit!==b&&(this.shrinkToFit=
b,this.inited&&(a&&a.setWhiteSpace(b?"nowrap":"normal"),this.fireEvent("shrinkToFit",b)))},setTextY:function(b){const a=this.textView;this.textY!==b&&(this.textY=b,this.inited&&(this.fireEvent("textY",b),"string"===typeof b?a.setValign(b):(a.setValign(""),a.setY(b))))},__updateContent:function(b){if(!this.__updateContentLoopBlock&&!this.destroyed){b=this.inset;const a=this.outset,c=this.textView;this.__updateContentLoopBlock=!0;c.setX(b);this.shrinkToFit?this.setWidth(b+(c.visible&&this.text?c.width:
0)+a):c.setWidth(this.width-b-a);this.__updateContentLoopBlock=!1}}});e.TextButton=new h("TextButton",g,{include:[k,e.SizeToDom,e.TextSupport],initNode:function(b,a){d(a,"focusIndicator",!1);d(a,"roundedCorners",3);d(a,"textAlign","center");d(a,"paddingTop",1);d(a,"height",23-(a.paddingTop||0));d(a,"activeColor","#ddd");d(a,"hoverColor","#eee");d(a,"readyColor","#fff");this.callSuper(b,a)},setPaddingLeft:function(b){c(this,"Left",b)},setPaddingRight:function(b){c(this,"Right",b)},setPaddingTop:function(b){c(this,
"Top",b)},setPaddingBottom:function(b){c(this,"Bottom",b)}})})(myt);
(e=>{const h=e.global,k=h.focus,g=h.mouse,d={};e.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:c=>d[c]},initNode:function(c,d){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(c,d)},setLastFloatingPanelShown:function(c){this.lastFloatingPanelShown=c},setLastFloatingPanelId:function(c){this.floatingPanelId=c},setFloatingAlign:function(c){this.set("floatingAlign",c,!0)},setFloatingValign:function(c){this.set("floatingValign",
c,!0)},setFloatingAlignOffset:function(c){this.set("floatingAlignOffset",c,!0)},setFloatingValignOffset:function(c){this.set("floatingValignOffset",c,!0)},createFloatingPanel:function(c,f,b){c=c||this.floatingPanelId;b=b||{};b.panelId=c;return d[c]=new f(null,b)},getFloatingPanel:function(c){return d[c||this.floatingPanelId]},toggleFloatingPanel:function(c){const d=this.getFloatingPanel(c=c||this.floatingPanelId);d&&d.isShown()?this.hideFloatingPanel(c):this.showFloatingPanel(c)},showFloatingPanel:function(c){if(c=
this.getFloatingPanel(c||this.floatingPanelId))c.show(this),this.setLastFloatingPanelShown(c)},hideFloatingPanel:function(c){if(c=this.getFloatingPanel(c||this.floatingPanelId))c.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(c){this.callSuper&&this.callSuper()},notifyPanelHidden:function(c){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(c){return this.floatingAlign},getFloatingValignForPanelId:function(c){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(c){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(c){return this.floatingValignOffset},getNextFocus:function(){const c=this.lastFloatingPanelShown;return c&&c.isShown()?c:this.callSuper?this.callSuper():null},getNextFocusAfterPanel:function(c){return this},getPrevFocusAfterPanel:function(c){return this}});e.FloatingPanel=new JS.Class("FloatingPanel",e.View,{include:[e.RootView],initNode:function(c,d){c=document.createElement("div");c.style.position="absolute";e.getElement().appendChild(c);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;d.visible=d.focusIndicator=!1;d.focusable=d.focusCage=!0;this.callSuper(c,d)},setOwner:function(c){this.owner=c},setPanelId:function(c){this.panelId=c},setIgnoreOwnerForHideOnMouseDown:function(c){this.ignoreOwnerForHideOnMouseDown=c},setHideOnBlur:function(c){this.hideOnBlur=c},setHideOnMouseDown:function(c){this.hideOnMouseDown=c},__doMouseDown:function(c){var d=c.value;c=d.pageX;d=d.pageY;this.containsPoint(c,d)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(c,d)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(c){if(this.owner&&this.isAncestorOf(k.focusedView))this.owner[k.lastTraversalWasForward?"getNextFocusAfterPanel":"getPrevFocusAfterPanel"](this.panelId).focus(c);else{const d=this.getFirstFocusableDescendant();d===this?this.callSuper(c):d.focus(c)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(c){(c=c.value)&&!this.isAncestorOf(c)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&k.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(c){this.isShown()||(this.bringToFront(),this.updateLocation(c),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(g,"__doMouseDown","mousedown",!0),this.attachTo(k,"__doFocusChange","focused"))},hide:function(c){this.isShown()&&(this.detachFromDom(g,"__doMouseDown","mousedown",!0),this.detachFrom(k,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),c||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(c){this.setOwner(c);const d=this.panelId,b=c.getFloatingAlignForPanelId(d),a=c.getFloatingValignForPanelId(d),e=c.getPagePosition();let g=0,l=0,h=typeof b;if("string"===h)switch(g=e.x+c.getFloatingAlignOffsetForPanelId(d),b){case "outsideRight":g+=c.width;break;case "insideRight":g+=c.width-this.width;
break;case "outsideLeft":g-=this.width;break;case "insideLeft":break;default:console.warn("Unexpected align value",h,b)}else"number"===h?g=b:console.warn("Unexpected align type",h,b);this.setX(g);h=typeof a;if("string"===h)switch(l=e.y+c.getFloatingValignOffsetForPanelId(d),a){case "outsideBottom":l+=c.height;break;case "insideBottom":l+=c.height-this.height;break;case "outsideTop":l-=this.height;break;case "insideTop":break;default:console.warn("Unexpected valign value",h,a)}else"number"===h?l=a:
console.warn("Unexpected valign type",h,a);this.setY(l)}})})(myt);
(e=>{const h=JS.Class,k=JS.Module,g=e.global.focus,d=e.AccessorSupport.defAttr,c=[13,27,32,37,38,39,40],f=a=>{var b=a.itemConfig||[];const c=b.length,d=a.items,e=d.length;var f=a.defaultItemClass;const g=a.getContentView(),h=g.getLayouts();h.forEach(a=>{a.incrementLockedCounter()});const k=g.getOuterDomElement(),F=k.nextSibling,w=k.parentNode;w.removeChild(k);let r=0;for(;c>r;++r){var z=b[r];const c=z.klass||f;z=z.attrs||{};let e=d[r];e&&!e.isA(c)&&(e.destroy(),e=null);e||(e=d[r]=new c(g,{listView:a}));
e&&(e.callSetters(z),e.__LAYOUT_IDX=r)}w.insertBefore(k,F);b=a.minWidth;for(r=0;c>r;)f=d[r++],f.syncToDom(),b=Math.max(b,f.getMinimumWidth());for(;e>r;)d[r++].destroy();d.length=c;for(r=0;c>r;)a.updateItemWidth(d[r++],b);a.updateContentWidth(g,b);h.forEach(a=>{a.sortSubviews((a,b)=>a.__LAYOUT_IDX-b.__LAYOUT_IDX);a.decrementLockedCounter();a.update()})},b=e.ListViewItemMixin=new k("ListViewItemMixin",{setListView:function(a){this.listView=a},getMinimumWidth:()=>0,syncToDom:()=>{}});e.ListView=new h("ListView",
e.FloatingPanel,{initNode:function(a,b){this.items=[];this.maxHeight=-1;this.minWidth=0;d(b,"defaultItemClass",e.ListViewItem);d(b,"overflow","autoy");d(b,"bgColor","#ccc");d(b,"boxShadow",e.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE);this.callSuper(a,b);f(this);this.buildLayout(this.getContentView())},buildLayout:a=>{new e.SpacedLayout(a,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(a){this.minWidth=a},setDefaultItemClass:function(a){this.defaultItemClass=a},setItemConfig:function(a){this.itemConfig=
a;this.inited&&f(this)},getContentView:function(){return this},setMaxHeight:function(a){this.maxHeight!==a&&(this.maxHeight=a,this.inited&&(this.fireEvent("maxHeight",a),this.setHeight(this.height)))},setHeight:function(a,b){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,a):a,b)},doItemActivated:function(a){this.owner&&this.owner.doItemActivated(a)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const a=this.items,
b=a.length;for(let c=0;b>c;){const b=a[c++];if(b.isFocusable())return b}return null},getLastFocusableItem:function(){const a=this.items;let b=a.length;for(;b;){const c=a[--b];if(c.isFocusable())return c}return null},updateItemWidth:(a,b)=>{a.setWidth(b)},updateContentWidth:(a,b)=>{a.setWidth(b)}});e.ListViewAnchor=new k("ListViewAnchor",{include:[e.FloatingPanelAnchor],initNode:function(a,b){d(b,"listViewClass",e.ListView);d(b,"listViewAttrs",{});d(b,"itemConfig",[]);d(b,"activationKeys",c);this.callSuper(a,
b)},setListViewClass:function(a){this.listViewClass=a},setListViewAttrs:function(a){this.listViewAttrs=a},setItemConfig:function(a){this.itemConfig=a},doItemActivated:function(a){this.hideFloatingPanel()},getFloatingPanel:function(a){return this.callSuper(a)||this.createFloatingPanel(a,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);b&&(b.setItemConfig(this.itemConfig),this.callSuper(a))},doActivationKeyDown:function(a,b){if(27===a)this.hideFloatingPanel();
else{switch(a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}this.callSuper(a,b)}},doActivationKeyUp:function(a){if(27!==a)switch(this.callSuper(a),a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getLastFocusableItem())&&a.focus()},selectFirstItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getFirstFocusableItem())&&a.focus()}});
e.ListViewItem=new h("ListViewItem",e.SimpleTextButton,{include:[b],initNode:function(a,b){d(b,"activeColor","#bbb");d(b,"hoverColor","#fff");d(b,"readyColor","#eee");d(b,"inset",8);d(b,"outset",8);d(b,"activationKeys",c);this.callSuper(a,b)},syncToDom:function(){this.textView.getInnerDomStyle().width="auto";this.textView.sizeViewToDom()},getMinimumWidth:function(){return this.inset+(this.textView.visible&&this.text?Math.ceil(this.textView.measureNoWrapWidth()):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},
doActivationKeyDown:function(a,b){switch(a){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:g.prev();break;case 39:case 40:g.next()}this.callSuper(a,b)}});e.ListViewSeparator=new h("ListViewSeparator",e.View,{include:[b],initNode:function(a,b){d(b,"height",1);d(b,"bgColor","#666");this.callSuper(a,b)}})})(myt);
(e=>{const h=e.AccessorSupport,k={},g=e.BAG=new JS.Class("BAG",{include:[h,e.Destructible,e.Observable],extend:{getGroup:(d,c)=>{if(d&&c){const e=k[d]||(k[d]={});return e[c]||(e[c]=new g(d,c))}return null},removeGroup:(d,c)=>{if(d&&c&&(d=k[d])){const e=d[c];e&&delete d[c];return e}return null}},initialize:function(d,c){this.__nodes=[];this.trueNode=null;this.attrName=d;this.groupId=c},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&g.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(d){this.set("groupId",d,!0)},setAttrName:function(d){this.set("attrName",d,!0)},setTrueNode:function(d){this.set("trueNode",d,!0)},getNodes:function(){return this.__nodes},register:function(d){d&&!this.isRegistered(d)&&(this.__nodes.push(d),d[this.attrName]&&this.setTrue(d))},unregister:function(d){if(d){const c=this.__nodes;let e=c.length;for(;e;)if(d===c[--e]){c.splice(e,1);break}this.trueNode===d&&this.setTrueNode(null);
0===c.length&&this.destroy()}},setTrue:function(d){if(d&&this.trueNode!==d&&this.isRegistered(d)){const c=this.attrName,e=h.generateSetterName(c),b=this.__nodes;let a=b.length;for(this.setTrueNode(d);a;){const f=b[--a];if(d===f){if(!f[c])f[e](!0)}else if(f[c])f[e](!1)}}},setFalse:function(d){d&&this.trueNode===d&&(d[h.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(d){const c=this.__nodes;let e=c.length;for(;e;)if(d===c[--e])return!0;return!1}});e.BAGMembership=
new JS.Module("BAGMembership",{initNode:function(d,c){this.__bags=[];this.callSuper(d,c)},destroyAfterOrphaning:function(){this.callSuper();const d=this.__bags;let c=d.length;for(;c;){const e=d[--c];this.removeFromBAG(e.attrName,e.groupId)}},isRegisteredWithBAG:function(d){const c=this.__bags;let e=c.length;for(;e;)if(c[--e]===d)return!0;return!1},getBAG:(d,c)=>g.getGroup(d,c),addToBAG:function(d,c){c=this.getBAG(d,c);this.isRegisteredWithBAG(c)||(this.__bags.push(c),c.register(this),this.isAttachedTo(this,
"__updateForBAG",d)||this.attachTo(this,"__updateForBAG",d))},removeFromBAG:function(d,c){c=this.getBAG(d,c);if(this.isRegisteredWithBAG(c)){const e=this.__bags;let b=e.length,a=!0;for(;b;){const f=e[--b];f===c?(e.splice(b,1),c.unregister(this)):f.attrName===d&&(a=!1)}a&&this.detachFrom(this,"__updateForBAG",d)}},__updateForBAG:function(d){const c=d.type;d=d.value;const e=this.__bags;let b=e.length;for(;b;){const a=e[--b];a.attrName===c&&(d?a.setTrue(this):a.setFalse(this))}}})})(myt);
(e=>{const h=e.AccessorSupport.defAttr,k=e=>{const d=e.label||"";e.setText('<i class="far fa-'+(!0===e.selected?"dot-":"")+'circle"></i>'+(0<d.length?" ":"")+d)};e.Radio=new JS.Class("Radio",e.Text,{include:[e.SimpleButtonStyle,e.BAGMembership],initNode:function(g,d){h(d,"selected",!1);null==d.groupId&&(d.groupId=e.generateGuid());h(d,"focusIndicator",!1);h(d,"activeColor","inherits");h(d,"hoverColor","inherits");h(d,"readyColor","inherits");const c=d.value;delete d.value;this.callSuper(g,d);this.setValue(c);
this.selected&&(g=this.getBAG("selected",this.groupId))&&g.setTrue(this);e.FontAwesome.registerForNotification(this);k(this)},setOptionValue:function(e){this.set("optionValue",e,!0)},setValue:function(e){if(this.inited){{const d=this.getBAG("selected",this.groupId);if(d){const c=d.getNodes();let f=c.length;for(;f;){const b=c[--f];if(b.optionValue===e){d.setTrue(b);break}}}}}},getValue:function(){var e=this.getBAG("selected",this.groupId);return(e=e?e.trueNode:null)?e.optionValue:null},setSelected:function(e){this.selected!==
e&&(this.selected=e,this.inited&&(this.fireEvent("selected",e),k(this)))},setGroupId:function(e){if(this.groupId!==e){const d=this.groupId;this.groupId=e;d&&this.removeFromBAG("selected",d);e&&this.addToBAG("selected",e);this.inited&&this.fireEvent("groupId",e)}},setLabel:function(e){this.label!==e&&(this.set("label",e,!0),this.inited&&k(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(e,d=1){this.setOpacity(d);this.setTextColor(e)}})})(myt);
(e=>{const h=JS.Module,k=e.global.keys,g=e.Selectable=new h("Selectable",{setSelected:function(c){c=this.valueFromEvent(c);this.selected!==c&&(this.selected=c,this.inited&&this.fireEvent&&this.fireEvent("selected",c))},isSelected:function(){return this.selected?!0:!1},canSelect:c=>!0,canDeselect:c=>!0}),d=e.SelectionManager=new h("SelectionManager",{extend:{isAddMode:()=>k.isShiftKeyDown(),isToggleMode:()=>k.isAcceleratorKeyDown()},initNode:function(c,d){this.__selected={};this.__lastSelectedItem=
null;d.selectedCount=0;null==d.itemSelectionId&&(d.itemSelectionId="id");null==d.maxSelected&&(d.maxSelected=-1);this.callSuper(c,d)},setItemSelectionId:function(c){this.itemSelectionId=c},setMaxSelected:function(c){this.maxSelected=c},setSelectedCount:function(c){this.selectedCount!==c&&(this.selectedCount=c,this.inited&&this.fireEvent("selectedCount",c))},isAddMode:()=>d.isAddMode(),isToggleMode:()=>d.isToggleMode(),getSelected:function(){const c=[],d=this.__selected;for(const b in d)c.push(d[b]);
return c},select:function(c){c&&!this.isSelectedItem(c)&&this.canSelectItem(c)&&(c.setSelected(!0),this.__selected[c[this.itemSelectionId]]=c,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=c,this.doSelected(c),this.fireEvent("itemSelected",c))},doSelected:c=>{},selectById:function(c){this.select(this.getSelectableItem(c))},canSelectItem:function(c){const d=this.maxSelected,b=this.selectedCount;if(0===d)return!1;if(1===d){if(0<b&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<
d&&b>=d)return!1;return c.canSelect(this)},selectAll:function(){const c=this.getSelectableItems();let d=c.length;for(;d;)this.select(c[--d])},deselect:function(c){this.isSelectedItem(c)&&this.canDeselectItem(c)&&(c.setSelected(!1),delete this.__selected[c[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===c&&(this.__lastSelectedItem=null),this.doDeselected(c),this.fireEvent("itemDeselected",c))},doDeselected:c=>{},deselectById:function(c){this.deselect(this.getSelectableItem(c))},
canDeselectItem:function(c){return c.canDeselect(this)},deselectAll:function(){const c=this.__selected;for(const d in c)this.deselect(c[d])},isSelectedItem:c=>c?c.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const c=[],d=this.getSubviews();let b=d.length;for(;b;){const a=d[--b];a.isA(g)&&c.push(a)}return c},getSelectableItems:function(){const c=this.getManagedItems();let d=c.length;for(;d;)c[--d].canSelect(this)||
c.splice(d,1);return c},getSelectableItem:function(c){const d=this.getSelectableItems(),b=this.itemSelectionId;let a=d.length;for(;a;){const e=d[--a];if(e[b]===c)return e}return null}})})(myt);
(e=>{const h=JS.Class,k=e.View,g=e.SizeToParent,d=e.TabSlider=new h("TabSlider",k,{include:[e.Selectable,e.Disableable,g],extend:{DEFAULT_BUTTON_HEIGHT:30,DEFAULT_MINIMUM_CONTAINER_HEIGHT:100,DEFAULT_FILL_COLOR_SELECTED:"#666",DEFAULT_FILL_COLOR_HOVER:"#eee",DEFAULT_FILL_COLOR_ACTIVE:"#ccc",DEFAULT_FILL_COLOR_READY:"#fff",DEFAULT_ANIMATION_MILLIS:500},initNode:function(b,a){const c=this;let f;a.defaultPlacement="wrapper.container";a.percentOfParentWidth=100;a.expansionState="collapsed";null==a.tabId&&
(a.tabId=e.generateGuid());null==a.tabContainer&&(a.tabContainer=b);null==a.selected&&(a.selected=!1);null==a.buttonClass&&(a.buttonClass=e.SimpleButton);null==a.zIndex&&(a.zIndex=0);null==a.buttonHeight&&(a.buttonHeight=d.DEFAULT_BUTTON_HEIGHT);null==a.fillColorSelected&&(a.fillColorSelected=d.DEFAULT_FILL_COLOR_SELECTED);null==a.fillColorHover&&(a.fillColorHover=d.DEFAULT_FILL_COLOR_HOVER);null==a.fillColorActive&&(a.fillColorActive=d.DEFAULT_FILL_COLOR_ACTIVE);null==a.fillColorReady&&(a.fillColorReady=
d.DEFAULT_FILL_COLOR_READY);null==a.minContainerHeight&&(a.minContainerHeight=d.DEFAULT_MINIMUM_CONTAINER_HEIGHT);a.selected&&(f=!0,delete a.selected);c.callSuper(b,a);new c.buttonClass(c,{name:"button",ignorePlacement:!0,zIndex:1,height:c.buttonHeight,focusIndicator:!0,groupId:c.parent.parent.groupId,percentOfParentWidth:100,hoverColor:c.fillColorHover,activeColor:c.fillColorActive,readyColor:c.fillColorReady},[g,{doActivated:function(){const a=c.tabContainer;c.isSelected()&&1!==a.maxSelected?a.deselect(c):
a.select(c)},updateUI:function(){this.callSuper();c.selected&&-1!==c.tabContainer.maxSelected&&this.setBgColor(c.fillColorSelected);c.notifyButtonRedraw()}}]);b=new k(c,{name:"wrapper",ignorePlacement:!0,y:c.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[g,{setHeight:function(a,b){this.callSuper(Math.round(a),b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.container.setWidth(a)}}]);const l=new k(b,{name:"container"});new e.SizeToChildren(l,
{axis:"y"});c.constrain("__updateHeight",[b,"y",b,"height"]);f&&c.tabContainer.select(c);!0===a.disabled&&c.setDisabled(!0);c.setHeight(c.getCollapsedHeight())},setSelected:function(b){this.callSuper(b);this.button&&this.button.updateUI()},setTabId:function(b){this.tabId=b},setTabContainer:function(b){this.tabContainer=b},setMinContainerHeight:function(b){this.minContainerHeight=b},setButtonClass:function(b){this.buttonClass=b},setFillColorSelected:function(b){this.fillColorSelected=b},setFillColorHover:function(b){this.fillColorHover=
b},setFillColorActive:function(b){this.fillColorActive=b},setFillColorReady:function(b){this.fillColorReady=b},setButtonHeight:function(b){this.buttonHeight!==b&&(this.buttonHeight=b,this.button&&(this.button.setHeight(b),this.wrapper.setY(b)))},setExpansionState:function(b){if(this.expansionState!==b){this.expansionState=b;this.inited&&this.fireEvent("expansionState",b);const a=this.wrapper;a&&("expanded"===b?(a.setMaskFocus(!1),a.setOverflow("auto")):"expanding"===b?a.setVisible(!0):"collapsed"===
b?a.setVisible(!1):"collapsing"===b&&(a.setMaskFocus(!0),a.setOverflow("hidden")))}},doDisabled:function(){const b=this.button;b&&b.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(b){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(b){const a=this,c=a.wrapper;b-=a.getCollapsedHeight();a.setExpansionState("expanding");c.stopActiveAnimators();c.height!==b?c.animate({attribute:"height",to:b,duration:d.DEFAULT_ANIMATION_MILLIS}).next(b=>{a.setExpansionState("expanded")}):
a.setExpansionState("expanded")},collapse:function(){const b=this,a=b.wrapper;b.setExpansionState("collapsing");a.stopActiveAnimators();0!==a.height?a.animate({attribute:"height",to:0,duration:d.DEFAULT_ANIMATION_MILLIS}).next(a=>{b.setExpansionState("collapsed")}):b.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+
this.wrapper.container.height}}),c=e.TextTabSlider=new h("TextTabSlider",d,{extend:{DEFAULT_LABEL_TEXT_COLOR_CHECKED:"#fff",DEFAULT_LABEL_TEXT_COLOR:"#333"},initNode:function(b,a){null==a.labelTextColorChecked&&(a.labelTextColorChecked=c.DEFAULT_LABEL_TEXT_COLOR_CHECKED);null==a.labelTextColor&&(a.labelTextColor=c.DEFAULT_LABEL_TEXT_COLOR);this.callSuper(b,a);new e.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",
textColor:this.__getTextColor()})},setLabelTextColorChecked:function(b){this.labelTextColorChecked=b},setLabelTextColor:function(b){this.labelTextColor=b},setText:function(b){if(this.text!==b){this.text=b;const a=this.button;a&&a.label&&a.label.setText(b)}},notifyButtonRedraw:function(){const b=this.button.label;b&&b.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}}),f=e.TabSliderContainer=
new JS.Module("TabSliderContainer",{include:[e.SelectionManager],extend:{DEFAULT_SPACING:1},initNode:function(b,a){const c=this;c._tabSliders=[];a.defaultPlacement="container";null==a.spacing&&(a.spacing=f.DEFAULT_SPACING);null==a.overflow&&(a.overflow="autoy");null==a.itemSelectionId&&(a.itemSelectionId="tabId");null==a.maxSelected&&(a.maxSelected=1);c.updateLayout=e.debounce(c.updateLayout);c.callSuper(b,a);b=new k(c,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[g,{subnodeAdded:function(a){this.callSuper(a);
a instanceof d&&(c._tabSliders.push(a),c.attachTo(a,"updateLayout","selected"))},subnodeRemoved:function(a){if(a instanceof d){const b=c._tabSliders;let d=b.length;for(;d;)if(b[--d]===a){c.detachFrom(a,"updateLayout","selected");b.splice(d,1);break}}this.callSuper(a)}}]);new e.SpacedLayout(b,{name:"layout",axis:"y",spacing:c.spacing,collapseParent:!0});c.attachTo(c,"updateLayout","height")},setSpacing:function(b){this.spacing!==b&&(this.spacing=b,this.layout&&this.layout.setSpacing(b))},updateLayout:function(b){b=
this._tabSliders;for(var a=b.length,c=a,d=0,e=0,f=0;c;){var g=b[--c];g.visible&&(++f,g.selected?(d+=g.getMinimumExpandedHeight(),e+=g.getPreferredExpandedHeight()):(g=g.getCollapsedHeight(),d+=g,e+=g))}c=this.container.layout;f=c.inset+c.outset+c.spacing*(f-1);e+=f;c=this.height;d=d+f>c;f=e>c;e-=c;for(c=a;c;)if(a=b[--c],a.visible)if(a.selected){if(d)g=a.getMinimumExpandedHeight();else if(f){const b=a.getPreferredExpandedHeight(),c=a.getMinimumExpandedHeight();g=b-e;c>g?(e-=b-c,g=c):e=0}else g=a.getPreferredExpandedHeight();
a.expand(g)}else a.collapse()}})})(myt);
(e=>{const h=JS.Module,k=e.AccessorSupport.defAttr,g=b=>{const a=null!=b.cornerRadius?b.cornerRadius:c.DEFAULT_RADIUS;switch(b.tabContainer.location){case "top":b.setRoundedTopLeftCorner(a);b.setRoundedTopRightCorner(a);break;case "bottom":b.setRoundedBottomLeftCorner(a);b.setRoundedBottomRightCorner(a);break;case "left":b.setRoundedTopLeftCorner(a);b.setRoundedBottomLeftCorner(a);break;case "right":b.setRoundedTopRightCorner(a),b.setRoundedBottomRightCorner(a)}},d=e.TabMixin=new h("TabMixin",{include:[e.Selectable],
initNode:function(b,a){null==a.tabId&&(a.tabId=e.generateGuid());null==a.tabContainer&&(a.tabContainer=b);let c;a.selected&&(c=!0,delete a.selected);this.callSuper(b,a);c&&this.tabContainer.select(this)},setTabId:function(b){this.tabId=b},setTabContainer:function(b){this.tabContainer=b},doActivated:function(){this.selected||this.tabContainer.select(this)}}),c=e.Tab=new JS.Class("Tab",e.SimpleTextButton,{include:[d],extend:{DEFAULT_HEIGHT:24,DEFAULT_INSET:8,DEFAULT_OUTSET:8,DEFAULT_FILL_COLOR_SELECTED:"#fff",
DEFAULT_FILL_COLOR_HOVER:"#eee",DEFAULT_FILL_COLOR_ACTIVE:"#aaa",DEFAULT_FILL_COLOR_READY:"#ccc",DEFAULT_LABEL_TEXT_COLOR_SELECTED:"#333",DEFAULT_RADIUS:6},initNode:function(b,a){k(a,"inset",c.DEFAULT_INSET);k(a,"outset",c.DEFAULT_OUTSET);k(a,"selectedColor",c.DEFAULT_FILL_COLOR_SELECTED);k(a,"hoverColor",c.DEFAULT_FILL_COLOR_HOVER);k(a,"activeColor",c.DEFAULT_FILL_COLOR_ACTIVE);k(a,"readyColor",c.DEFAULT_FILL_COLOR_READY);k(a,"labelTextSelectedColor",c.DEFAULT_LABEL_TEXT_COLOR_SELECTED);k(a,"height",
c.DEFAULT_HEIGHT);k(a,"focusIndicator",!1);this.callSuper(b,a);g(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setSelectedColor:function(b){this.selectedColor=b},setCornerRadius:function(b){this.cornerRadius=b;this.inited&&g(this)},setLabelTextColor:function(b){this.labelTextColor=b},setLabelTextSelectedColor:function(b){this.labelTextSelectedColor=b;this.inited&&this.selected&&this.textView.setTextColor(b)},setSelected:function(b){this.callSuper(b);
this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)}}),f=e.TabContainer=new h("TabContainer",{include:[e.SelectionManager],extend:{DEFAULT_SPACING:1,DEFAULT_INSET:0},initNode:function(b,a){this.__tabs=[];k(a,"spacing",f.DEFAULT_SPACING);k(a,"inset",f.DEFAULT_INSET);k(a,"location","top");k(a,"itemSelectionId","tabId");k(a,"maxSelected",1);this.callSuper(b,
a);new e.SpacedLayout(this,{name:"layout",axis:"left"===this.location||"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(b){this.location=b},setSpacing:function(b){this.spacing!==b&&(this.spacing=b,this.layout&&this.layout.setSpacing(b))},setInset:function(b){this.inset!==b&&(this.inset=b,this.layout&&this.layout.setInset(b))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(b){this.callSuper(b);
if(b.isA(d))switch(this.__tabs.push(b),this.location){case "top":b.setValign("bottom");break;case "bottom":b.setValign("top");break;case "left":b.setAlign("right");break;case "right":b.setAlign("left")}},subnodeRemoved:function(b){if(b.isA(d)){const a=this.__tabs;let c=a.length;for(;c;)if(a[--c]===b){a.splice(c,1);break}}this.callSuper(b)}})})(myt);
(e=>{const h=JS.Class,k=e.SizeToDom;var g=e.View,d=e.Disableable;const c=e.AccessorSupport.defAttr,f=e.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE,b=(a,b,c)=>{a[c]!==b&&(a[c]=b,a.getInnerDomStyle()[c]=b+"px",a.inited&&(a.fireEvent(c,b),a.sizeViewToDom()))},a=(a,b,c)=>{a[b]!==c&&(a.getInnerDomElement()[b]=a[b]=c,a.inited&&a.fireEvent(b,c))},m=e.NativeInputWrapper=new h("NativeInputWrapper",g,{include:[d,e.InputObservable],initNode:function(a,b){c(b,"tagName","input");c(b,"focusable",!0);this.callSuper(a,
b);this.addDomClass("mytNativeInput")},createOurDomElement:function(a){a=this.callSuper(a);this.inputType&&((Array.isArray(a)?a[1]:a).type=this.inputType);return a},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==a&&(this.value=a,this.setDomValue(a),this.inited&&this.fireEvent("value",a))},getDomValue:function(){return this.getInnerDomElement().value},setDomValue:function(a){const b=this.getInnerDomElement();b.value!==
a&&(b.value=a)}}),p=e.InputSelectOption=new h("InputSelectOption",g,{include:[d,e.Selectable],createOurDomElement:a=>document.createElement("option"),setSelected:function(a){a=this.valueFromEvent(a);const b=this.getInnerDomElement();b.selected!==a&&(b.selected=a)},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(b){a(this,"value",b)},setLabel:function(a){this.label!==a&&(this.getInnerDomElement().textContent=this.label=a,this.inited&&
this.fireEvent("label",a))},isSelected:function(){return this.getInnerDomElement().selected},canSelect:function(a){return!this.disabled&&!this.getInnerDomElement().selected&&this.parent===a},canDeselect:function(a){return!this.disabled&&this.getInnerDomElement().selected&&this.parent===a}});g=e.BaseInputText=new h("BaseInputText",m,{include:[e.TextSupport],initNode:function(a,b){c(b,"bgColor","transparent");c(b,"spellcheck",!1);this.callSuper(a,b);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,
"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(a){this.callSuper(a);this.setValue(a)},setSpellcheck:function(b){a(this,"spellcheck",b)},setMaxLength:function(b){a(this,"maxLength",null==b||0>b?void 0:b)},setAllowedChars:function(a){this.allowedChars=a},setPlaceholder:function(b){a(this,"placeholder",b)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(f)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();
this.setBoxShadow()},__filterInput:function(a){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(a){a=a.value;const b=a.which;switch(b){case 8:case 0:return}const c=this.allowedChars;c&&-1===c.indexOf(String.fromCharCode(b))&&a.preventDefault();this.filterInputPress(a)},filterInput:a=>a,filterInputPress:a=>{},__syncToDom:function(a){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const a=document.selection.createRange();a.moveStart("character",
-this.getDomValue().length);return a.text.length}return this.getInnerDomElement().selectionStart||0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}var c=this.getInnerDomElement();c.setSelectionRange?c.setSelectionRange(a,b):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},
selectAll:function(){this.getInnerDomElement().select()},getSelection:function(){const a=this.getInnerDomElement();return{start:a.selectionStart,startElem:a,end:a.selectionEnd,endElem:a}},setSelection:function(a){a&&this.setCaretPosition(a.start,a.end)},saveSelection:function(a){this._selRange=a||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});d=e.InputText=new h("InputText",g,{include:[e.SizeHeightToDom],initNode:function(a,b){this.inputType=
!0===b.password?"password":"text";this.callSuper(a,b);this.setCaretToEnd()},setPassword:function(a){this.password=a}});e.EditableText=new h("EditableText",g,{include:[k],initNode:function(a,b){c(b,"tagName","div");b.inputType=null;c(b,"whiteSpace","pre");c(b,"contentEditable",!0);this.callSuper(a,b);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(a){b(this,
a,"minWidth")},setMinHeight:function(a){"Firefox"===BrowserDetect.browser&&(a+=2);b(this,a,"minHeight")},setPadding:function(a){this.setPaddingTop(a);this.setPaddingRight(a);this.setPaddingBottom(a);this.setPaddingLeft(a)},setPaddingTop:function(a){b(this,a,"paddingTop")},setPaddingRight:function(a){b(this,a,"paddingRight")},setPaddingBottom:function(a){b(this,a,"paddingBottom")},setPaddingLeft:function(a){b(this,a,"paddingLeft")},setContentEditable:function(b){a(this,"contentEditable",b)},filterInputPress:function(a){const b=
this.maxLength;0<=b&&this.getCharacterCount()===b&&a.preventDefault();this.callSuper(a)},getDomValue:function(){return this.getInnerDomElement().innerHTML},setDomValue:function(a){const b=this.getInnerDomElement();b.innerHTML!==a&&(b.innerHTML=a,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(a){13===e.KeyObservable.getKeyCodeFromEvent(a)&&(a.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(a){this.callSuper(a);
this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const a=this.getInnerDomElement().firstChild;return a?a.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const a=this.getSelection();return a?a.end:0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}this.saveSelection({start:a,startElem:this.getInnerDomElement().firstChild,end:b,endElem:this.getInnerDomElement().firstChild})},
doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(a){this.saveSelection();return!0},getSelection:function(){let a;if(window.getSelection){const b=window.getSelection();if(0<b.rangeCount){if(b.extentNode===this.getInnerDomElement())return null;a=b.getRangeAt(0)}}else document.selection&&(a=document.selection.createRange());return{start:a?a.startOffset:0,startElem:a?a.startContainer:this.getInnerDomElement().firstChild,end:a?a.endOffset:0,endElem:a?a.endContainer:
this.getInnerDomElement().firstChild}},setSelection:function(a){if(a){const b=a.startElem,c=a.endElem;if(b&&b.parentNode&&c&&c.parentNode){const d=document.createRange();d.setStart(b,Math.min(a.start,b.length));d.setEnd(c,Math.min(a.end,c.length));window.getSelection?(a=window.getSelection(),0<a.rangeCount&&a.removeAllRanges(),a.addRange(d)):document.selection&&d.select()}}}});e.InputTextArea=new h("InputTextArea",g,{initNode:function(a,b){c(b,"tagName","textarea");b.inputType=null;c(b,"resize","none");
c(b,"wrap","soft");this.callSuper(a,b)},setResize:function(a){this.resize!==a&&(this.resize=this.getInnerDomStyle().resize=a||"none",this.inited&&this.fireEvent("resize",a))},setWrap:function(b){a(this,"wrap",b)}});e.ComboBox=new h("ComboBox",d,{include:[e.Activateable,e.KeyActivation,e.ListViewAnchor],initNode:function(a,b){this.filterItems=!0;c(b,"activationKeys",[13,27,38,40]);c(b,"bgColor","#fff");c(b,"borderWidth",1);c(b,"borderStyle","solid");c(b,"floatingAlignOffset",b.borderWidth);c(b,"listViewAttrs",
{maxHeight:99});c(b,"fullItemConfig",[]);this.callSuper(a,b)},setFullItemConfig:function(a){this.fullItemConfig=a},setFilterItems:function(a){this.filterItems=a},__syncToDom:function(a){const b=this.value;this.callSuper(a);b!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);if(b){let d;if(this.filterItems){d=[];var c=this.value;c=null==c?"":(""+c).toLowerCase();const a=this.fullItemConfig,b=a.length;for(let e=0;b>e;){const b=a[e++],f=b.attrs.text.toLowerCase(),
g=f.indexOf(c);0===g?f!==c&&d.push(b):0<g&&d.push(b)}}else d=this.fullItemConfig;0<d.length?(b.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(d),this.callSuper(a)):this.hideFloatingPanel(a)}},doItemActivated:function(a){this.setValue(a.text);this.callSuper(a)},doActivated:function(){this.toggleFloatingPanel()}});e.InputSelect=new h("InputSelect",m,{include:[k],initNode:function(a,b){c(b,"tagName","select");b.inputType=null;c(b,"multiple",!1);c(b,"size",b.multiple?4:1);this.callSuper(a,
b);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(b){a(this,"multiple",b)},setSize:function(b){a(this,"size",b)},setOptions:function(a){this.destroyAllOptions();Array.isArray(a)&&a.forEach(a=>{this.addOption(a)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(a){Array.isArray(a)&&e.areArraysEqual(a,this.value)||this.value===a||(this.value=a,this.inited&&this.fireEvent("value",a))},subviewAdded:function(a){a instanceof p||(e.dumpStack("Subview not supported. Destroying it."),
a.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(f)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(a=>a.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(a=>a.value)},getOptionForValue:function(a){return this.getOptions().find(b=>b.value===a)},addOption:function(a){return new p(this,a)},destroyAllOptions:function(){this.getOptions().forEach(a=>
{a.destroy()})},destroyOptionWithValue:function(a){if(a=this.getOptionForValue(a))if(a.destroy(),a.destroyed)return!0;return!1},deselectAll:function(){let a=!1;this.getOptions().forEach(b=>{b.isSelected()&&(b.setSelected(!1),a=!0)});a&&this.__doChanged()},selectValues:function(a){(Array.isArray(a)?a:[a]).forEach(a=>{this.selectValue(a)})},selectValue:function(a){this.select(this.getOptionForValue(a))},select:function(a){a&&a.canSelect(this)&&(a.setSelected(!0),this.__syncToDom())},deselectValue:function(a){this.deselect(this.getOptionForValue(a))},
deselect:function(a){a&&a.canDeselect(this)&&(a.setSelected(!1),this.__syncToDom())},__doChanged:function(a){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(e=>{const h=JS.Module;var k=e.ValueComponent=new h("ValueComponent",{initNode:function(d,c){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(d,c)},setValueFilter:function(d){this.valueFilter=d;this.inited&&d&&this.setValue(this.value)},setValue:function(d){this.valueFilter&&(d=this.valueFilter(d));this.value!==d&&(this.value=d,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(d,c){const e=this.valueFilter;this.setValueFilter(e?
"last"===c?b=>d(e(b)):b=>e(d(b)):d)}});const g=e.RangeComponent=new h("RangeComponent",{include:[k],setLowerValue:function(d){this.setValue({lower:d,upper:this.value&&void 0!==this.value.upper?this.value.upper:d})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(d){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:d,upper:d})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(d){if(d){var c=this.value;
const e=c?c.lower:void 0;c=c?c.upper:void 0;this.valueFilter&&(d=this.valueFilter(d));if(d.lower!==e||d.upper!==c){null==d.lower&&(d.lower=d.upper);null==d.upper&&(d.upper=d.lower);if(void 0!==d.lower&&void 0!==d.upper&&d.lower>d.upper){const b=d.lower;d.lower=d.upper;d.upper=b}this.value=d;this.inited&&(this.fireEvent("value",this.getValue()),d.lower!==e&&this.fireEvent("lowerValue",d.lower),d.upper!==c&&this.fireEvent("upperValue",d.upper))}}else this.callSuper(d)},getValueCopy:function(){const d=
this.value;return{lower:d.lower,upper:d.upper}}});k=e.BoundedValueComponent=new h("BoundedValueComponent",{include:[k],initNode:function(d,c){const e=this;e.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==c.snapToInt&&(c.snapToInt=!0);c.valueFilter||(c.valueFilter=b=>{var a=e.maxValue;if(null!=a&&b>a)return a;a=e.minValue;return null!=a&&b<a?a:b});e.callSuper(d,c)},setSnapToInt:function(d){this.snapToInt!==d&&(this.snapToInt=d,this.inited&&(this.fireEvent("snapToInt",d),d&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(d){this.snapToInt&&null!=d&&(d=Math.round(d));if(this.minValue!==d){const c=this.maxValue;null!=c&&d>c&&(d=c);this.minValue!==d&&(this.minValue=d,this.inited&&(this.fireEvent("minValue",d),this.setValue(this.value)))}},setMaxValue:function(d){this.snapToInt&&null!=d&&(d=Math.round(d));if(this.maxValue!==d){const c=this.minValue;null!=c&&d<c&&(d=c);this.maxValue!==d&&(this.maxValue=d,this.inited&&(this.fireEvent("maxValue",
d),this.setValue(this.value)))}},setValue:function(d){this.callSuper(this.snapToInt&&null!=d&&!isNaN(d)?Math.round(d):d)}});e.BoundedRangeComponent=new h("BoundedRangeComponent",{include:[k,g],initNode:function(d,c){const e=this;c.valueFilter||(c.valueFilter=b=>{if(b){const a=e.maxValue,c=e.minValue;null!=a&&b.upper>a&&(b.upper=a);null!=c&&b.lower<c&&(b.lower=c)}return b});e.callSuper(d,c)},setValue:function(d){this.snapToInt&&null!=d&&(null==d.lower||isNaN(d.lower)||(d.lower=Math.round(d.lower)),
null==d.upper||isNaN(d.upper)||(d.upper=Math.round(d.upper)));this.callSuper(d)}})})(myt);
(e=>{const h=e.AccessorSupport.defAttr,k=e=>{const d=e.label||"";e.setText('<i class="'+("solid"===(e.checkboxStyle||"outline")?"fas":"far")+" fa-"+(e.isChecked()?"check-":"")+'square"></i>'+(0<d.length?" ":"")+d)};e.Checkbox=new JS.Class("Checkbox",e.Text,{include:[e.SimpleButtonStyle,e.ValueComponent],initNode:function(g,d){h(d,"value",!1);h(d,"focusIndicator",!1);h(d,"checkboxStyle","outline");h(d,"activeColor","inherits");h(d,"hoverColor","inherits");h(d,"readyColor","inherits");this.callSuper(g,
d);e.FontAwesome.registerForNotification(this);k(this)},setValue:function(e){this.value!==e&&(this.callSuper(e),this.inited&&k(this))},setLabel:function(e){this.label!==e&&(this.set("label",e,!0),this.inited&&k(this))},setCheckboxStyle:function(e){this.checkboxStyle!==e&&(this.set("checkboxStyle",e,!0),this.inited&&k(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(e,d=1){this.setOpacity(d);this.setTextColor(e)}})})(myt);
(e=>{let h;const k=JS.Class,g=JS.Module,d=e.global,c=d.focus,f=e.AccessorSupport.defAttr,b={},a=(a,b)=>{if(a){const c=a.id;a.id?b(c):e.dumpStack("No ID")}else e.dumpStack("No processor")},m=c=>{a(c,a=>{b[a]=c})},p=a=>{const b=e.BAG.getGroup("selected",a.groupId);if(b){const c=b.getNodes();a=a.value;let d=c.length;for(;d;){const e=c[--d];if(e.optionValue===a){b.setTrue(e);break}}}},l=a=>{if(a.groupId){const b=e.BAG.getGroup("selected",a.groupId);b&&a.syncTo(b,"__syncValue","trueNode")}},n=(a,b)=>{const c=
a.__v,d=c.length,e=[];for(let f=0;d>f;)b=c[f++].isFormValid(a,null,e)&&b;a.setErrorMessages(e);a.setIsValid(b);return b},q=(a,b,c)=>{a=a.__vp;const d=a.length;for(let e=0;d>e;){const d=a[e++];d[c]&&(b=d.process(b))}return b},t=e.ValueProcessor=new k("ValueProcessor",{initialize:function(a,b,c,d){this.id=a;this.runForDefault=b?!0:!1;this.runForRollback=c?!0:!1;this.runForCurrent=d?!0:!1},process:a=>a}),y=e.ToNumberValueProcessor=new k("ToNumberValueProcessor",t,{process:a=>{if(null==a||""===a||"-"===
a)return a;const b=Number(a);return isNaN(b)?a:b}}),E=e.TrimValueProcessor=new k("TrimValueProcessor",t,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.trim=e},process:function(a){a+="";switch(this.trim){case "start":case "left":return a.trimStart();case "end":case "right":return a.trimEnd();default:return a.trim()}}}),F=e.UndefinedValueProcessor=new k("UndefinedValueProcessor",t,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.defaultValue=e},process:function(a){return void 0===
a?this.defaultValue:a}}),w=e.Form=new g("Form",{initNode:function(a,b){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(a,b);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(a){this.errorMessages=a},getFullId:function(){const a=[this.id];let b=this.form;for(;b&&b.id;)a.unshift(b.id),b=b.form;return a.join(".")},setId:function(a){if(this.id!==a){const b=
this.id;this.id=a;(a=this.form)&&this.inited&&(a.removeSubForm(b),a.addSubForm(this))}},setForm:function(a){if(this.form!==a){const b=this.form;this.form=a;b&&b.removeSubForm(this.id);a&&this.inited&&a.addSubForm(this)}},setIsValid:function(a){this.isValid=a;this.inited&&this.fireEvent("isValid",a);const b=this.form;b&&!this._lockCascade&&(a?b.verifyValidState(this):b.notifySubFormInvalid())},setIsChanged:function(a){if(this.isChanged!==a){this.isChanged=a;this.inited&&this.fireEvent("isChanged",
a);const b=this.form;b&&!this._lockCascade&&(a?b.notifySubFormChanged():b.verifyChangedState(this))}},setValidators:function(a){let b=a.length;for(;b;){const c=a[--b];"string"===typeof c&&(a[b]=d.validators.getValidator(c),a[b]||a.splice(b,1))}this.__v=a},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(r))return this.value;const a={},b=this.__sf;for(const c in b)a[c]=b[c].getValue();return a},setValue:function(a){this.callSuper&&this.callSuper(a);if("object"===typeof a&&
!this.isA(r))for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setValue(a[b]):console.warn("ID in setValue for non-existant subform",b)}this.form&&this.form.notifyValueChanged(this);return a},getDefaultValue:function(){const a={};let b=this.__sf;for(const c in b)a[c]=b[c].getDefaultValue();return a},setDefaultValue:function(a){if("object"===typeof a)for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setDefaultValue(a[b]):console.warn("ID in setDefaultValue for non-existant subform",b)}return a},
getRollbackValue:function(){const a={},b=this.__sf;for(const c in b)a[c]=b[c].getRollbackValue();return a},setRollbackValue:function(a){if("object"===typeof a)for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setRollbackValue(a[b]):console.warn("ID in setRollbackValue for non-existant subform",b)}return a},addAccelerator:function(a,b){this.__acc[a]=b},removeAccelerator:function(a){delete this.__acc[a]},invokeAccelerator:function(a,b){(a=this.__acc[a])&&a.call(this,void 0===b?null:b)},addValidator:function(a){a&&
this.__v.push(a)},removeValidator:function(a){if(a){const b=this.__v;let c=b.length;for(;c;){const d=b[--c];if(d.id===a)return b.splice(c,1),d}}return null},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(a){const b=a.id;null!=this.getSubForm(b)?console.warn("ID in use for subform, add aborted.",b,a):(a.setForm(this),this.__sf[b]=a,a.isChanged&&this.notifySubFormChanged(),a.isValid||this.notifySubFormInvalid())},removeSubForm:function(a){const b=this.getSubForm(a);
b&&(b.setForm(null),delete this.__sf[a],this.verifyChangedState(),this.verifyValidState());return b},getSubForm:function(a){return this.__sf[a]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(a){a&&this.doValidation();const b=[];(function Q(a){if(a.isA(r))a.isValid||b.push(a.getFullId());else{a=a.getSubForms();for(const b in a)Q(a[b])}})(this);return b},getAllErrorMessages:function(){const a=this.__sf;let b=(this.errorMessages||[]).concat();for(const c in a)b=b.concat(a[c].getAllErrorMessages());
return b},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(a){const b=this.__sf;let c=!0;for(const d in b){const e=b[d];e!==a&&(c=e.isValid&&c)}return n(this,c)},doValidation:function(){const a=this.__sf;let b=!0;for(const c in a)b=a[c].doValidation()&&b;this._lockCascade=!0;b=n(this,b);this._lockCascade=!1;return b},notifyValueChanged:function(a){this.form&&this.form.notifyValueChanged(a)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(a){const b=
this.__sf;let c=!1;for(const d in b){const e=b[d];e!==a&&(c=e.isChanged||c)}this.setIsChanged(c);return c},setup:function(a,b,c){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==a&&(a={});null==b&&(b={});null==c&&(c={});const d=this.__sf;for(const e in d)d[e].setup(a[e],b[e],c[e])},resetForm:function(){this._lockCascade=!0;const a=this.__sf;for(const b in a)a[b].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);
this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const a=this.__sf;for(const b in a)a[b].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const a={},b=this.__sf;for(const c in b){const d=b[c];d.isChanged&&(a[c]=d.getChangedValue())}return a}}),r=e.FormElement=new g("FormElement",{include:[w],initNode:function(a,b){this.__vp=[];this.callSuper(a,b)},getValue:function(){return q(this,this.callSuper?this.callSuper():
this.value,"runForCurrent")},setValue:function(a){void 0===a&&(a=this.getRollbackValue());this.value!==a&&(this.callSuper(a),this.verifyChangedState());return a},getDefaultValue:function(){return q(this,this.defaultValue,"runForDefault")},setDefaultValue:function(a){this.defaultValue!==a&&(this.defaultValue=a,this.inited&&this.fireEvent("defaultValue",a),this.verifyChangedState());return a},getRollbackValue:function(){return q(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(a){void 0===
a&&(a=this.getDefaultValue());this.rollbackValue!==a&&(this.rollbackValue=a,this.inited&&this.fireEvent("rollbackValue",a),this.verifyChangedState());return a},setValueProcessors:function(a){let c=a.length;for(;c;){const d=a[--c];"string"===typeof d&&(a[c]=b[d],a[c]||a.splice(c,1))}this.__vp=a},addValueProcessor:function(a){this.__vp.push(a)},removeValueProcessor:function(a){if(a){const b=this.__vp;let c=b.length;for(;c;){const d=b[--c];if(d.id===a)return b.splice(c,1),d}}return null},addSubForm:a=>
{e.dumpStack("addSubForm not supported on FormElement.")},getSubForm:a=>{e.dumpStack("getSubForm not supported on FormElement.");return null},removeSubForm:a=>{e.dumpStack("removeSubForm not supported on FormElement.");return null},verifyChangedState:function(a){a=this.getValue()!==this.getRollbackValue();this.setIsChanged(a);return a},setup:function(a,b,c){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(a);this.setRollbackValue(b);this.setIsChanged(!1);
this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(c)},resetForm:function(){this._lockCascade=!0;const a=this.getDefaultValue();this.setRollbackValue(a);this.setValue(a);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?
this.getValue():void 0}}),z=e.FormInputTextMixin=new g("FormInputTextMixin",{include:[r,e.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";f(b,"bgColor","#fff");f(b,"borderWidth",1);f(b,"borderStyle","solid");f(b,"borderStyle",!0);this.callSuper(a,b);this.addValueProcessor(h);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyUp","keyup");this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);
const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":c.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},
__handleKeyDown:function(a){13===e.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("accept")},__handleKeyUp:function(a){27===e.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});e.RootForm=new g("RootForm",{include:[w],
initNode:function(a,b){this.callSuper(a,b);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:a=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();this.doValidation()}});e.FormCheckbox=new k("FormCheckbox",e.Checkbox,{include:[r],initNode:function(a,b){this.rollbackValue=this.defaultValue=!1;this.callSuper(a,b)}});
e.FormComboBox=new k("FormComboBox",e.ComboBox,{include:[r,e.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(a,b);this.addValueProcessor(h);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=
a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":c.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(a){this._isShown=!0},notifyPanelHidden:function(a){this._isShown=!1},doActivationKeyDown:function(a,b){27!==a||this._isShown?this.callSuper(a,b):this.invokeAccelerator("reject")},doActivationKeyUp:function(a){13!==
a||this._isShown?this.callSuper(a):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});e.FormEditableText=new k("FormEditableText",e.EditableText,{include:[z],__handleKeyDown:function(a){"nowrap"===this.whitespace&&this.callSuper(a)}});e.FormInputText=new k("FormInputText",
e.InputText,{include:[z]});e.FormInputTextArea=new k("FormInputTextArea",e.InputTextArea,{include:[z],__handleKeyDown:function(a){}});e.FormInputSelect=new k("FormInputSelect",e.InputSelect,{include:[r],setValue:function(a){if(!this.__abortSetValue)return a=this.callSuper(a),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(a),this.__abortSetValue=!1,a}});e.FormRadioGroup=new k("FormRadioGroup",e.Node,{include:[e.ValueComponent,r],initNode:function(a,b){null==b.groupId&&(b.groupId=e.generateGuid());
this.callSuper(a,b);void 0!==this.value&&p(this);l(this)},setValue:function(a){a=this.callSuper(a);this.inited&&p(this);return a},setGroupId:function(a){if(this.groupId!==a){if(this.groupId){const a=e.BAG.getGroup("selected",this.groupId);a&&this.detachFrom(a,"__syncValue","trueNode")}this.groupId=a;this.inited&&l(this)}},__syncValue:function(a){this.setValue(a.value?a.value.optionValue:null)}});e.UseOtherFieldIfEmptyValueProcessor=new k("UseOtherFieldIfEmptyValueProcessor",t,{initialize:function(a,
b,c,d,e){this.callSuper(a,b,c,d);this.otherField=e},process:function(a){return null==a||""===a?this.otherField.getValue():a}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){m(h=new F("undefToEmpty",!0,!0,!0,""));m(new y("toNumber",!0,!0,!0));m(new E("trimLeft",!0,!0,!0,"left"));m(new E("trimRight",!0,!0,!0,"right"));m(new E("trimBoth",!0,!0,!0,"both"));d.register("valueProcessors",this)},getValueProcessor:a=>b[a],register:m,unregister:c=>{a(c,a=>{b[a]&&delete b[a]})}})})(myt);
(e=>{const h=JS.Class,k={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},g=e.DragDropSupport=new JS.Module("DragDropSupport",{include:[e.DragDropObservable],initNode:function(c,b){this.callSuper(c,b);this.disabled||this.setupDragListeners()},setDisabled:function(c){this.disabled!==c&&(this.getInnerDomElement().disabled=c,this.callSuper(c),this.inited&&(c?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){this.attachToDom(this,"doDragOver","dragover",
!1);this.attachToDom(this,"doDragEnter","dragenter",!1);this.attachToDom(this,"doDragLeave","dragleave",!1);this.attachToDom(this,"doDrop","drop",!1)},teardownDragListeners:function(){this.detachFromDom(this,"doDragOver","dragover",!1);this.detachFromDom(this,"doDragEnter","dragenter",!1);this.detachFromDom(this,"doDragLeave","dragleave",!1);this.detachFromDom(this,"doDrop","drop",!1)},doDragOver:c=>{},doDragEnter:c=>{},doDragLeave:c=>{},doDrop:function(c){this.handleFiles(c.value.dataTransfer.files,
c)},handleFiles:function(c,b){if(void 0!==c){let a=c.length;for(;a;){const d=this.filterFiles(c[--a]);d&&this.handleDroppedFile(d,b)}}else e.dumpStack("File API not supported.")},filterFiles:c=>c,handleDroppedFile:(c,b)=>{}}),d=e.Uploader=new h("Uploader",e.View,{include:[g,e.Disableable,e.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(c,b)=>{if(void 0!==FileReader){const a=new FileReader;a.onload=b;a.readAsDataURL(c)}},isSameFile:(c,b)=>null!=c&&null!=b&&c.name===b.name&&c.type===
b.type&&c.size===b.size,createFile:c=>{const b=(new e.URI(c)).file;return{name:b,serverPath:c,size:-1,type:k[e.getExtension(b)]}}},initNode:function(c,b){const a=this;a.files=[];null==b.requestFileParam&&(b.requestFileParam="file");null==b.maxFiles&&(b.maxFiles=-1);a.callSuper(c,b);new e.NativeInputWrapper(a,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:a.disabled,overflow:"hidden"},[e.SizeToParent,{initNode:function(b,c){this.inputType="file";this.callSuper(b,
c);this.attachToDom(this,"_handleInput","change");this.getInnerDomElement().multiple=1<a.maxFiles},_handleInput:function(b){a.handleFiles(this.getInnerDomElement().files,b)}}])},setValue:function(c){this.clearFiles();c&&(Array.isArray(c)||(c=[c]),c.forEach(b=>{this.addFile(d.createFile(b))}));return this.callSuper?this.callSuper(c):c},getValue:function(){return this.value},setDisabled:function(c){this.callSuper(c);this.fileInput&&this.fileInput.setDisabled(c)},setMaxFiles:function(c){this.maxFiles!==
c&&(this.maxFiles=c,this.inited&&this.fireEvent("maxFiles",c),this.fileInput&&(this.fileInput.getInnerDomElement().multiple=1<c))},setUploadUrl:function(c){this.set("uploadUrl",c,!0)},setRequestFileParam:function(c){this.set("requestFileParam",c,!0)},bringSubviewToFront:function(c){c===this.fileInput?this.callSuper(c):this.sendSubviewBehind(c,this.fileInput)},subviewAdded:function(c){this.callSuper(c);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(c,b){this.addFile(c)},
filterFiles:function(c){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:c},uploadFiles:function(c,b){c=c||this.uploadUrl;const a=this.files;let d=a.length;for(;d;)this.uploadFile(a[--d],c,b)},uploadFile:function(c,b,a){const d=this,f=new FormData;f.append(a||d.requestFileParam,c,c.name);e.doFetch(b||d.uploadUrl,{method:"POST",body:f},!1,a=>{d.handleUploadSuccess(c,a)},a=>{d.handleUploadFailure(c,a)})},handleUploadSuccess:function(c,b){c[d.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(c,
b);this.updateValueFromFiles()},handleUploadFailure:(c,b)=>{e.dumpStack("Upload failure:"+b.status+":"+b.message)},parseServerPathFromResponse:(c,b)=>null,addFile:function(c){this.files.push(c);this.updateValueFromFiles();this.fireEvent("addFile",c)},removeFile:function(c){const b=this.files;let a=b.length;for(;a;)if(d.isSameFile(b[--a],c)){b.splice(a,1);this.updateValueFromFiles();this.fireEvent("removeFile",c);break}},updateValueFromFiles:function(){const c=[];var b=this.files;let a=b.length;for(;a;){const e=
b[--a][d.FILE_ATTR_SERVER_PATH];e&&c.push(e)}b=c.length;this.value=1===b?c[0]:0===b?void 0:c;this.value||(this.fileInput.getInnerDomElement().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const c=this.files;let b=c.length;for(;b;)this.removeFile(c[--b])}}),c=e.ImageUploader=new h("ImageUploader",d,{extend:{isImageFile:c=>/image/i.test(c.type)},initNode:function(c,b){b.maxFiles=1;this.callSuper(c,b)},setWidth:function(c,
b){this.callSuper(c,b);this.inited&&this.updateImageSize()},setHeight:function(c,b){this.callSuper(c,b);this.inited&&this.updateImageSize()},filterFiles:function(d){if(c.isImageFile(d)){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(d)}},addFile:function(f){const b=this;b.callSuper(f);const a=b.image=new e.Image(b,{useNaturalSize:!1,align:"center",valign:"middle"});a.file=f;if(-1===f.size){const c=new Image;c.onload=function(){f.width=this.width;f.height=this.height;
a&&!a.destroyed&&b.updateImage(f,a,this.src)};c.src=f.serverPath}else void 0!==FileReader&&c.isImageFile(f)&&d.readFile(f,function(c){const d=new Image;d.onload=function(){f.width=this.width;f.height=this.height;a&&!a.destroyed&&b.updateImage(f,a,this.src)};d.src=c.target.result})},scaleToFit:(c,b,a,d)=>a/d>c/b?[c,d*c/a]:[a*b/d,b],removeFile:function(c){this.callSuper(c);const b=this.getSubviews();let a=b.length;for(;a;){const e=b[--a];if(d.isSameFile(e.file,c)){e.destroy();break}}},handleDroppedFile:function(c,
b){this.callSuper(c,b);this.uploadFile(c,this.uploadUrl)},updateImage:function(c,b,a){this.nativeWidth=c.width;this.nativeHeight=c.height;this.updateImageSize();b.setImageUrl(a)},updateImageSize:function(){const c=this.image;if(c&&!c.destroyed){var b=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const a=Math.round(b[0]);b=Math.round(b[1]);c.setImageSize(a+"px "+b+"px");c.setWidth(a);c.setHeight(b)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,
height:this.nativeHeight}:null}})})(myt);
(e=>{const h=e.SizeToParent,k=e.View,g=e.AccessorSupport.defAttr;e.Dimmer=new JS.Class("Dimmer",k,{include:[h],extend:{DEFAULT_OPACITY:.35,DEFAULT_COLOR:"#000"},initNode:function(d,c){const f=this;f.restoreFocus=!0;c.focusable=c.focusCage=!0;g(c,"percentOfParentWidth",100);g(c,"percentOfParentHeight",100);g(c,"visible",!1);g(c,"ignoreLayout",!0);f.callSuper(d,c);"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(b=>{f.attachDomObserver(f,"eatMouseEvent",b)});e.RootView.setupCaptureDrop(f)},
doBeforeAdoption:function(){this.callSuper();const d=e.Dimmer;new k(this,{name:"overlay",ignorePlacement:!0,opacity:d.DEFAULT_OPACITY,bgColor:d.DEFAULT_COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[h])},destroyAfterOrphaning:function(){e.RootView.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(d){this.restoreFocus=d},eatMouseEvent:d=>!0,show:function(){const d=e.global.focus;this.prevFocus=d.focusedView||d.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();
this.setVisible(!0)},hide:function(d){this.visible&&(this.setVisible(!1),!d&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus())}})})(myt);
(e=>{const h=(e,g,d)=>{const c=e.axis;d=d.bind(e);"y"!==c&&(d(g,"update","x"),d(g,"update","boundsWidth"));"x"!==c&&(d(g,"update","y"),d(g,"update","boundsHeight"));d(g,"update","visible")};e.SizeToChildren=new JS.Class("SizeToChildren",e.Layout,{initNode:function(e,g){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(e,g)},setAxis:function(e){this.axis!==e&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=e,this.startMonitoringAllSubviews(),this.fireEvent("axis",e),this.update()):
this.axis=e)},setPaddingX:function(e){this.paddingX!==e&&(this.paddingX=e,this.inited&&(this.fireEvent("paddingX",e),this.update()))},setPaddingY:function(e){this.paddingY!==e&&(this.paddingY=e,this.inited&&(this.fireEvent("paddingY",e),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const g=this.parent;if(!g.isBeingDestroyed){const d=this.subviews;var e=d.length;const c=this.axis;let f,b;if("y"!==c){f=e;for(b=0;f;){const a=d[--f];a.visible&&(b=Math.max(b,a.x+
(0<a.boundsWidth?a.boundsWidth:0)))}g.setWidth(b+this.paddingX)}if("x"!==c){f=e;for(b=0;f;)e=d[--f],e.visible&&(b=Math.max(b,e.y+(0<e.boundsHeight?e.boundsHeight:0)));g.setHeight(b+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(e){h(this,e,this.attachTo)},stopMonitoringSubview:function(e){h(this,e,this.detachFrom)}})})(myt);
(e=>{const h=e.AccessorSupport.defAttr,k=e.ModalPanel=new JS.Class("ModalPanel",e.Dimmer,{extend:{DEFAULT_PADDING_X:20,DEFAULT_PADDING_Y:15,DEFAULT_MARGIN_TOP:40,DEFAULT_MARGIN_LEFT:40,DEFAULT_MARGIN_BOTTOM:40,DEFAULT_MARGIN_RIGHT:40},initNode:function(e,d){this.defaultPlacement="content";h(d,"sizingStrategy","children");h(d,"marginTop",k.DEFAULT_MARGIN_TOP);h(d,"marginLeft",k.DEFAULT_MARGIN_LEFT);h(d,"marginBottom",k.DEFAULT_MARGIN_BOTTOM);h(d,"marginRight",k.DEFAULT_MARGIN_RIGHT);h(d,"paddingX",
k.DEFAULT_PADDING_X);h(d,"paddingY",k.DEFAULT_PADDING_Y);this.callSuper(e,d)},doBeforeAdoption:function(){const g=e.View,d={name:"content",ignorePlacement:!0},c=Object.assign({},d,{align:"center",valign:"middle"});this.callSuper();switch(this.sizingStrategy){case "children":new e.SizeToChildren(new g(this,c),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new g(this,Object.assign(d,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-
this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[e.SizeToParent]);break;case "basic":new g(this,c);break;default:new g(this,d)}},setSizingStrategy:function(e){this.sizingStrategy=e},setMarginTop:function(e){this.marginTop=e},setMarginLeft:function(e){this.marginLeft=e},setMarginBottom:function(e){this.marginBottom=e},setMarginRight:function(e){this.marginRight=e},setPaddingX:function(e){this.paddingX=e},setPaddingY:function(e){this.paddingY=
e}})})(myt);
myt.Spinner=new JS.Class("Spinner",myt.View,{initNode:function(e,h){this.lateAttrs=["spinColor"];null==h.visible&&(h.visible=!1);null==h.borderWidth&&(h.borderWidth=5);null==h.borderColor&&(h.borderColor="#fff");null==h.borderStyle&&(h.borderStyle="solid");null==h.spinColor&&(h.spinColor="#000");this.callSuper(e,h);this.getInnerDomStyle().borderRadius="50%";this._updateSize();this._spin()},setSize:function(e){this.size!==e&&(this.size=e,this.inited&&this._updateSize())},setSpinColor:function(e){this.spinColor!==e&&
(this.getInnerDomStyle().borderTopColor=this.spinColor=e,this.inited&&this.fireEvent("spinColor",e))},setBorderWidth:function(e){this.borderWidth!==e&&(this.callSuper(e),this.inited&&this._updateSize())},setVisible:function(e){this.visible!==e&&(this.callSuper(e),this.inited&&this._spin())},_spin:function(){this[this.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},_updateSize:function(){const e=this.size,h=this.getInnerDomStyle();this.setWidth(e);this.setHeight(e);h.width=h.height=e-2*this.borderWidth+
"px"}});
(e=>{const h=Math,k=h.max,g=h.min,d=a=>g(255,k(0,h.round(a))),c=a=>{a=d(a).toString(16);return 1===a.length?"0"+a:a},f=(a,b,d,e)=>[e?"#":"",c(a),c(b),c(d)].join(""),b=a=>new n((16711680&a)>>16,(65280&a)>>8,255&a),a=(a,b,c)=>(d(a)<<16)+(d(b)<<8)+d(c),m=(a,b)=>{if("string"===typeof a)if(a.endsWith("%"))a=parseFloat(a.substring(0,a.length-1))*b/100;else return 0;a=g(b,k(0,a))/b;return 1E-6>h.abs(1-a)?1:a},p=(a,b,c)=>{a=m(a,255);b=m(b,255);c=m(c,255);const d=k(a,b,c),e=d-g(a,b,c);if(0===e)return{h:0,s:0,
v:d};{let f;switch(d){case a:f=(b-c)/e+(b<c?6:0);break;case b:f=(c-a)/e+2;break;case c:f=(a-b)/e+4}return{h:60*f,s:0===d?0:e/d,v:d}}},l=(a,b,c)=>{a=6*m(a,360);b=m(b,100);c=m(c,100);var d=h.floor(a);const e=a-d;a=c*(1-b);const f=c*(1-e*b);b=c*(1-(1-e)*b);d%=6;return{red:255*[c,f,a,a,b,c][d],green:255*[b,c,c,f,a,a][d],blue:255*[a,a,b,c,c,f][d]}},n=e.Color=new JS.Class("Color",{extend:{toUnitRange:m,rgbToHsv:p,hsvToRgb:l,toHex:c,rgbToHex:f,cleanChannelValue:d,getRedChannel:a=>(16711680&a)>>16,getGreenChannel:a=>
(65280&a)>>8,getBlueChannel:a=>255&a,makeColorFromNumber:b,makeColorFromHexString:a=>{if(a){a.startsWith("#")||(a="#"+a);if(4===a.length){const b=a.substring(1,2),c=a.substring(2,3);a=a.substring(3,4);a="#"+b+b+c+c+a+a}return b(parseInt(a.substring(1),16))}return null},makeColorFromHSV:(c,d,e)=>{c=l(c,d,e);return b(a(c.red,c.green,c.blue))},getLighterColor:(a,c)=>b(a).isLighterThan(b(c))?a:c,makeColorNumberFromChannels:a,makeBlendedColor:(a,b,c)=>new n(a.red+c*(b.red-a.red),a.green+c*(b.green-a.green),
a.blue+c*(b.blue-a.blue))},initialize:function(a,b,c){this.setRed(a);this.setGreen(b);this.setBlue(c)},setRed:function(a){this.red=d(a)},setGreen:function(a){this.green=d(a)},setBlue:function(a){this.blue=d(a)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return f(this.red,this.green,this.blue,!0)},getHSV:function(){return p(this.red,this.green,this.blue)},isLighterThan:function(a){a=this.getDiffFrom(a);return 0>a.red+a.green+a.blue},getDiffFrom:function(a){return{red:a.red-
this.red,green:a.green-this.green,blue:a.blue-this.blue}},applyDiff:function(a){return this.add(a)},add:function(a){this.setRed(this.red+a.red);this.setGreen(this.green+a.green);this.setBlue(this.blue+a.blue);return this},subtract:function(a){this.setRed(this.red-a.red);this.setGreen(this.green-a.green);this.setBlue(this.blue-a.blue);return this},multiply:function(a){this.setRed(this.red*a);this.setGreen(this.green*a);this.setBlue(this.blue*a);return this},divide:function(a){this.setRed(this.red/
a);this.setGreen(this.green/a);this.setBlue(this.blue/a);return this},clone:function(){return new n(this.red,this.green,this.blue)},equals:function(a){return a===this||a&&a.isA&&a.isA(n)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
(e=>{const h=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),k=d=>{let c=d.properties;c?(c="string"===typeof c?c.split(" "):c.concat(),c.unshift(d.size),c.unshift(d.icon)):c=[d.icon,d.size];d.setHtml(g.makeTag(c))};e.loadCSSFonts(["https://use.fontawesome.com/releases/v5.0.8/css/all.css"]);const g=e.FontAwesome=new JS.Class("FontAwesome",e.Markup,{extend:{makeTag:function(d){if(Array.isArray(d)){let c=d.length,e,b;if(0<c){d.unshift("fa");++c;0!==d[1].indexOf("fa-")&&(d[1]="fa-"+d[1]);3<=c&&(d[2]=h[d[2]]||
"");if(3<c)for(b=3;c>b;++b)e=d[b],0!==e.indexOf("fa-")&&(d[b]="fa-"+e);return'<i class="'+d.join(" ")+'"></i>'}}e.dumpStack("Error making tag");console.error(d);return""},registerForNotification:d=>{e.registerForFontNotification(d,"Font Awesome 5 Free 400");e.registerForFontNotification(d,"Font Awesome 5 Free 900");e.registerForFontNotification(d,"Font Awesome 5 Brands 400")}},initNode:function(d,c){this.size=0;this.icon="";this.callSuper(d,c);k(this);g.registerForNotification(this)},setIcon:function(d){const c=
this.icon;this.set("icon",d,!0);this.inited&&c!==d&&k(this)},setSize:function(d){const c=this.size;this.set("size",d,!0);this.inited&&c!==d&&k(this)},setProperties:function(d){this.properties=d;this.fireEvent("properties",d);this.inited&&k(this)}})})(myt);
(e=>{let h,k,g,d,c=0,f=0,b=0,a=[],m,p,l,n,q,t,y,E,F,w,r,z,x,C,B,J,Q,da,u,X,ea,Y,N,I;const L=JS.Class,v=e.View,R=e.Text,G=e.ModalPanel,Z=e.SizeToChildren,fa=e.SpacedLayout,ha=e.SelectionManager,V=e.Color,ia=e.LocalStorage,aa=e.Button,S=e.TextButton,ja=e.Draggable,T=e.FontAwesome.makeTag,H=e.AccessorSupport.defAttr,O=Object.assign;var W=Math;const K=W.min,M=W.max;W=new L("DialogButton",S,{initNode:function(a,b){H(b,"height",17);H(b,"paddingTop",3);H(b,"paddingLeft",10);H(b,"paddingRight",10);H(b,"activeColor",
"#bbb");H(b,"hoverColor","#ddd");H(b,"readyColor","#ccc");b.domClass="mytButtonText";this.callSuper(a,b)}});const oa=T(["check"]),P=[1,"solid","#333"],ka=[1,"solid","#999"],ba={},la=new L("Swatch",v,{include:[aa],initNode:function(a,b){b.width=b.height=16;b.border=ka;this.callSuper(a,b);this.bgColor===d&&(a=V.makeColorFromHexString(d),new e.Text(this,{x:2,y:2,text:oa,fontSize:"12px",textColor:382.5>a.red+a.green+a.blue?"#fff":"#000"}))},setBgColor:function(a){this.callSuper(a);this.setTooltip(a)},
doActivated:function(){h.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(P)},drawReadyState:function(){this.setBorder(ka)}}),pa=e.ColorPicker=new L("ColorPicker",v,{initNode:function(d,x){h=this;g=x.color||"transparent";delete x.color;m=x.palette||[];m.forEach(a=>{ba[a]=!0});delete x.palette;k="transparent"===g;h.callSuper(d,x);p=new v(h,{width:160,height:170});new e.WrappingLayout(p,{spacing:4,lineSpacing:4});l=new v(h,{x:170,width:139,height:139,border:P},[ja,{requestDragPosition:function(a,
c){l.callSuper(l.x,l.y);const d=this.getPagePosition();f=parseFloat(M(0,K(1,(a+this.dragInitX-d.x)/this.width)));b=parseFloat(1-M(0,K(1,(c+this.dragInitY-d.y)/this.height)));k=!1;h.updateUI()}}]);d=new v(l,{width:139,height:139});x=new v(d,{width:139,height:139});d.getInnerDomStyle().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";x.getInnerDomStyle().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";n=new v(x,{width:6,height:6,bgColor:"#000",border:[1,
"solid","#ffffff"],roundedCorners:4});q=new v(h,{x:315,y:30,width:24,height:109,border:P},[ja,{requestDragPosition:function(a,b){this.callSuper(q.x,q.y);c=parseFloat(M(0,K(1,(b+this.dragInitY-this.getPagePosition().y)/this.height)));k=!1;h.updateUI()}}]);q.getInnerDomStyle().background="linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)";t=new v(q,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new v(h,{x:315,width:24,height:24,border:P,
tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[aa,{doActivated:()=>{h.setColor("transparent")}}]);y=new e.InputText(h,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:P,maxLength:11});h.attachToDom(y,"_submitInput","blur");h.attachToDom(y,"_handleKeyDown","keydown");y.getInnerDomStyle().paddingLeft="6px";d=new v(h,{x:170,y:146,width:60,height:23,border:P});new v(d,{width:30,height:23,focusIndicator:!1,bgColor:g,domClass:k?"mytCheckerboardPattern":""},[aa,
{doActivated:()=>{h.setColor(g)}}]);E=new v(d,{x:30,width:30,height:23},[{setBgColor:function(a){this.callSuper(a);this[("transparent"===a?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(d=ia.getItem("myt.default"))a=d.split(";"),a.forEach(a=>{ba[a]=!0});h.setColor(g)},_handleKeyDown:a=>{13===e.KeyObservable.getKeyCodeFromEvent(a)&&h._submitInput()},_submitInput:()=>{h.setColor(y.value)},addToPalette:b=>{b&&"transparent"!==b&&!ba[b]&&(a.unshift(b),a.length=K(a.length,56),ia.setItem("myt.default",
a.join(";")))},setColor:a=>{a&&"transparent"!==a?(a=V.makeColorFromHexString(a).getHSV(),c=a.h/360,f=a.s,b=a.v,k=!1):k=!0;h.updateUI()},getColor:()=>k?"transparent":V.makeColorFromHSV(360*c,100*f,100*b).getHtmlHexString(),updateUI:()=>{const a=!k;t.setVisible(a);n.setVisible(a);a&&(n.setX(M(0,K(1,f)*(l.width+2))-5),n.setY(M(0,K(1,1-b)*(l.height+2))-5),t.setY(c*(q.height-2)-1));l.setBgColor(V.makeColorFromHSV(360*c,100,100).getHtmlHexString());d=h.getColor();y.setValue(d);E.setBgColor(d);h.redrawPalette()},
redrawPalette:e.debounce(()=>{const b=p.getSubviews();let c=b.length;for(;c;)b[--c].destroy();m.forEach(a=>{new la(p,{bgColor:a})});a.forEach(a=>{new la(p,{bgColor:a})})},50)}),ca=a=>{a=a.split(":");return[M(0,K(23,parseInt(a[0]))),M(0,K(60,parseInt(a[1])))]},ma=a=>{a.deselectAll();a=a.getSubviews();let b=a.length;for(;b;)a[--b].destroy()},na=new L("SelectableBtn",S,{include:[e.Selectable],setSelected:function(a){this.callSuper(a);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?
(this.setBgColor("#666"),this.setTextColor("#fff")):this.setTextColor()}}),qa=new L("TimeBtn",na,{initNode:function(a,b){b.width=r?175:49;this.callSuper(a,b)},doActivated:function(){this.callSuper();const a=this.text,b=ca(a);I.selectById(a);u.setHours(b[0]);u.setMinutes(b[1])}}),ra=new L("DayBtn",na,{initNode:function(a,b){b.width=23;b.border=[1,"solid","#fff"];this.callSuper(a,b)},setData:function(a){this.data=a},setIsAnotherMonth:function(a){this.isAnotherMonth=a},setIsToday:function(a){this.isToday=
a},setIsSunday:function(a){this.isSunday=a},setIsSaturday:function(a){this.isSaturday=a},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const a=new Date(this.data);a.setHours(u.getHours());a.setMinutes(u.getMinutes());U(a)}}),U=a=>{a.setSeconds(0);a.setMilliseconds(0);var b=6>=x.length,c;if(b)for(c=
7;c--&&!x.includes(a.getDay());)a.setDate(a.getDate()+1);u=a;const d=I.getOuterDomElement().scrollTop;var e=new Date,f=e.getFullYear();c=e.getMonth();var h=e.getDate();e.getHours();e.getMinutes();var g=a.getFullYear(),k=a.getMonth();const l=a.getDate();var m=a.getTime();e=a.getHours();a=a.getMinutes();const t=(new Date(g,k,1)).getDay()-z,n=(new Date(g,k+1,0)).getDate(),p=(new Date(g,k,0)).getDate(),y=new Date(g,k,0),E=new Date(g,k+2,0),q=f==g&&c==k;if(!r){ma(N);c=new Date(m);const a=7+z;f=F.days;
ea.setText(g+" "+F.sep+" "+F.months[k]);c.setMinutes(59);c.setHours(23);c.setSeconds(59);c.setDate(0);X.setVisible(null==C||C<c.getTime());c.setMinutes(0);c.setHours(0);c.setSeconds(0);c.setDate(1);c.setMonth(k+1);Y.setVisible(null==B||B>c.getTime());for(c=0;7>c;c++)new R(N,{width:23,height:20,textAlign:"center",text:f[(c+a)%7],textColor:"#999"});c=0;let d=42;0>t&&(c=-7,d=35);f=new Date(m);f.setHours(0);f.setMinutes(0);for(f.setSeconds(0);c<d;c++){var D=c+1-t;const d=(c+a)%7,e=new ra(N);t>c?(e.setText(p+
D),e.setData(y.getFullYear()+"/"+(y.getMonth()+1)+"/"+(p+D)),e.setIsAnotherMonth(!0),f.setDate(p+D),f.setMonth(y.getMonth()),f.setYear(y.getFullYear())):c<t+n?(e.setText(D),e.setData(g+"/"+(k+1)+"/"+D),f.setDate(D),f.setMonth(k),f.setYear(g)):(e.setText(D-n),e.setData(E.getFullYear()+"/"+(E.getMonth()+1)+"/"+(D-n)),e.setIsAnotherMonth(!0),f.setDate(D-n),f.setMonth(E.getMonth()),f.setYear(E.getFullYear()));b&&!x.includes(d)?e.setDisabled(!0):(0===d?e.setIsSunday(!0):6===d&&e.setIsSaturday(!0),D===
l&&(N.select(e),e.focus()),q&&D===h&&e.setIsToday(!0),D=new Date(f.getTime()),D.setHours(23),D.setMinutes(59),D.setSeconds(59),(null!=C&&C>D.getTime()||null!=B&&B<f.getTime())&&e.setDisabled(!0));e.updateUI()}}if(!w){b=60*Q[0]+Q[1];ma(I);h=J[0];g=J[1];for(f=new Date(m);60*h+g<b;)m=new qa(I,{text:("0"+h).slice(-2)+":"+("0"+g).slice(-2)}),h===e&&g===a&&I.select(m),f.setHours(h),f.setMinutes(g),k=f.getTime(),(null!=C&&C>k||null!=B&&B<k)&&m.setDisabled(!0),g+=da,60<=g&&(g-=60,h++);I.scrollYTo(d)}},sa=
e.DatePicker=new L("DatePicker",v,{initNode:function(a,b){const c=O({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},b.opt);delete b.opt;this.callSuper(a,b);F=c.locales[c.locale||"en"];w=c.dateOnly;r=c.timeOnly;z=c.firstDayOfWeek;da=M(5,K(30,c.minuteInterval));x=c.allowedDays;Array.isArray(x)&&0!==x.length||(x=[0,1,2,3,4,5,6]);C=Date.parse(c.minDate);C=isNaN(C)?
null:C;B=Date.parse(c.maxDate);B=isNaN(B)?null:B;J=ca(c.minTime);Q=ca(c.maxTime);a=new v(this,{visible:!r});c.showTodayButton&&new S(a,{width:24,text:T(["home"]),tooltip:F.today},[{doActivated:()=>{U(new Date)}}]);X=new S(a,{width:24,x:28,text:T(["chevron-left"]),tooltip:F.prevMonth},[{doActivated:()=>{const a=(new Date(u.getFullYear(),u.getMonth(),0)).getDate();a<u.getDate()&&u.setDate(a);u.setMonth(u.getMonth()-1);U(u);X.focus()}}]);ea=new R(a,{width:100,x:52,textAlign:"center"});Y=new S(a,{width:24,
x:152,text:T(["chevron-right"]),tooltip:F.nextMonth},[{doActivated:()=>{var a=(new Date(u.getFullYear(),u.getMonth()+1,0)).getDate();a<u.getDate()&&u.setDate(a);a=(new Date(u.getFullYear(),u.getMonth()+2,0)).getDate();a<u.getDate()&&u.setDate(a);u.setMonth(u.getMonth()+1);U(u);Y.focus()}}]);N=new v(this,{y:25,width:175,height:175,visible:!r,maxSelected:1,itemSelectionId:"data"},[ha]);new e.WrappingLayout(N,{spacing:2,lineInset:2,lineSpacing:3});I=new v(this,{x:r?0:195,y:r?0:25,width:(r?175:49)+e.DomElementProxy.getScrollbarSize(),
height:r?200:175,overflow:"autoy",visible:!w,maxSelected:1,itemSelectionId:"text"},[ha]);new fa(I,{axis:"y",inset:1,spacing:3});this.setWidth(I.visible?I.x+I.width:N.width);U(c.current||new Date)},getPickedDate:()=>u}),A=e.Dialog=new L("Dialog",G,{extend:{DEFAULT_RADIUS:12,DEFAULT_SHADOW:[0,4,20,"#666"],DEFAULT_BORDER:[1,"solid","#fff"],DEFAULT_BGCOLOR:"#fff",DEFAULT_BUTTON_CLASS:W,WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",
fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}},locale:"en"}},initNode:function(a,b){H(b,"buttonClass",A.DEFAULT_BUTTON_CLASS);this.callSuper(a,b);a=this.content;a.setRoundedCorners(A.DEFAULT_RADIUS);a.setBgColor(A.DEFAULT_BGCOLOR);a.setBoxShadow(A.DEFAULT_SHADOW);a.setBorder(A.DEFAULT_BORDER);a.setFocusCage(!0);this.makeCloseButton(a)},setButtonClass:function(a){this.buttonClass=a},setCallbackFunction:function(a){this.callbackFunction=a},makeButton:function(a,b){const c=
this;return new c.buttonClass(a,b,[{doActivated:function(){c.doCallback(this)}}])},makeCloseButton:function(a){return this.makeButton(a,{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:T(["times"]),tooltip:"Close Dialog."})},hide:function(a){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(a)},destroyContent:function(){this.spinner&&
(this.spinner.setVisible(!1),this.spinner=void 0);const a=this.content,b=a.sizeToChildren,c=a.getSubviews();let d=c.length;for(;d;){const a=c[--d];"closeBtn"!==a.name&&a.destroy()}a.setVisible(!0);this.overlay.setBgColor(e.Dimmer.DEFAULT_COLOR);this.setCallbackFunction();b.setPaddingY(G.DEFAULT_PADDING_Y);b.setPaddingX(G.DEFAULT_PADDING_X);a.setRoundedCorners(A.DEFAULT_RADIUS);a.setBgColor(A.DEFAULT_BGCOLOR);a.setBoxShadow(A.DEFAULT_SHADOW);a.setBorder(A.DEFAULT_BORDER)},doCallback:function(a){const b=
this.callbackFunction;b&&b.call(this,a.name)||this.hide()},showBlank:function(a){this.destroyContent();this.content.setVisible(!1);a&&a.bgColor&&this.overlay.setBgColor(a.bgColor);this.show()},showMessage:function(a,b,c){const d=this.content,e=d.closeBtn;c=O({},A.WRAP_TEXT_DEFAULTS,c);this.destroyContent();this.setCallbackFunction(b);a=new R(d,{name:"msg",text:a,whiteSpace:c.whiteSpace,wordWrap:c.wordWrap,fontWeight:c.fontWeight,x:null==c.msgX?G.DEFAULT_PADDING_X:c.msgX,y:null==c.msgY?G.DEFAULT_PADDING_Y:
c.msgY,width:c.width});c.titleText&&(this.setupTitle(d,c.titleText),a.setY(a.y+24));this.show();!1===c.showClose?e.setVisible(!1):(e.setVisible(!0),e.focus())},showSimple:function(a,b,c){c=c||{};const d=this.content,e=d.closeBtn,f=c.maxContainerHeight;this.destroyContent();c.bgColor&&d.setBgColor(c.bgColor);c.roundedCorners&&d.setRoundedCorners(c.roundedCorners);c.boxShadow&&d.setBoxShadow(c.boxShadow);c.border&&d.setBorder(c.border);d.sizeToChildren.setPaddingX(1);this.setCallbackFunction(b);b=new v(d,
{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){a>f&&(a=f);this.callSuper(a)}}]);a.call(this,b);new Z(b,{axis:"both"});this.show();e.setVisible(!0);e.focus();b.initialFocus&&b.initialFocus.focus()},showConfirm:function(a,b,c){c=O({},A.CONFIRM_DEFAULTS,c);this.showMessage(a,b,c);this.setupFooterButtons(this.content.msg,c)},showContentConfirm:function(a,b,c){c=O({},A.CONFIRM_DEFAULTS,c);const d=this.content,e=d.closeBtn,f=c.maxContainerHeight;this.destroyContent();d.sizeToChildren.setPaddingX(1);
this.setCallbackFunction(b);b=new v(d,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){this.callSuper(a>f?f:a)}}]);a.call(this,b);new Z(b,{axis:"both"});this.show();e.setVisible(!0);e.focus();this.setupTitle(d,c.titleText);b.setY(this.header.height+1);this.setupFooterButtons(b,c);b.initialFocus&&b.initialFocus.focus()},showSpinner:function(a,b){const c=this.content;b=O({},A.NO_WRAP_TEXT_DEFAULTS,b);this.destroyContent();const d=this.spinner=new e.Spinner(c,{align:"center",
visible:!0,borderColor:"#ccc",size:50,y:null==b.msgY?G.DEFAULT_PADDING_Y:b.msgY});a&&new R(c,{text:a,whiteSpace:b.whiteSpace,wordWrap:b.wordWrap,fontWeight:b.fontWeight,x:null==b.msgX?G.DEFAULT_PADDING_X:b.msgX,y:d.y+d.size+G.DEFAULT_PADDING_Y,width:b.width});this.show();c.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(a,b){const c=this,d=c.content,e=d.closeBtn;b=O({},A.COLOR_PICKER_DEFAULTS,b);c.destroyContent();c.setCallbackFunction(b=>{switch(b){case "closeBtn":case "cancelBtn":a.call(c,
b);break;case "confirmBtn":const d=f.getColor();f.addToPalette(d);a.call(c,b,d)}f.destroy()});const f=new pa(d,{x:G.DEFAULT_PADDING_X,y:G.DEFAULT_PADDING_Y+24,width:337,height:177,color:b.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});c.show();e.setVisible(!0);e.focus();c.setupFooterButtons(f,b);c.setupTitle(d,b.titleText)},showDatePicker:function(a,b){const c=this,d=c.content,e=d.closeBtn;b=O({},A.DATE_PICKER_DEFAULTS,b);c.destroyContent();
c.setCallbackFunction(b=>{switch(b){case "closeBtn":case "cancelBtn":a.call(c,b);break;case "confirmBtn":a.call(c,b,f.getPickedDate())}f.destroy()});const f=new sa(d,{x:G.DEFAULT_PADDING_X,y:G.DEFAULT_PADDING_Y+24,height:195,opt:{current:new Date(b.initialDate||Date.now()),dateOnly:b.dateOnly||!1,timeOnly:b.timeOnly||!1,locales:b.locales,locale:b.locale}});c.show();e.setVisible(!0);e.focus();c.setupFooterButtons(f,b);c.setupTitle(d,b.timeOnly?b.timeOnlyTitleText:b.titleText)},setupTitle:function(a,
b){const c=A.DEFAULT_RADIUS;(this.header=new v(a,{ignoreLayout:!0,width:a.width,height:24,bgColor:"#eee",roundedTopLeftCorner:c,roundedTopRightCorner:c})).sendToBack();new R(a,{name:"title",x:c,y:4,text:b,fontWeight:"bold"})},setupFooterButtons:function(a,b){const c=this,d=c.content;var e=G.DEFAULT_PADDING_Y,f=e/2;const g=new v(d,{y:a.y+a.height+e,align:"center"});e=b.cancelAttrs||{};H(e,"name","cancelBtn");H(e,"text",b.cancelTxt);null!=b.activeColor&&(e.activeColor=b.activeColor);null!=b.hoverColor&&
(e.hoverColor=b.hoverColor);null!=b.readyColor&&(e.readyColor=b.readyColor);null!=b.textColor&&(e.textColor=b.textColor);a=c.makeButton(g,e);e=b.confirmAttrs||{};H(e,"name","confirmBtn");H(e,"text",b.confirmTxt);null!=b.activeColorConfirm&&(e.activeColor=b.activeColorConfirm);null!=b.hoverColorConfirm&&(e.hoverColor=b.hoverColorConfirm);null!=b.readyColorConfirm&&(e.readyColor=b.readyColorConfirm);null!=b.textColorConfirm&&(e.textColor=b.textColorConfirm);c.makeButton(g,e);(b.buttons||[]).forEach(a=>
{c.makeButton(g,a)});new Z(g,{axis:"y"});new fa(g,{spacing:4,collapseParent:!0});d.sizeToChildren.setPaddingY(f);e=A.DEFAULT_RADIUS;f=g.y-f;(new v(d,{ignoreLayout:!0,y:f,width:d.width,height:d.height-f,bgColor:"#eee",roundedBottomLeftCorner:e,roundedBottomRightCorner:e})).sendToBack();!1===b.showClose&&a.focus()}})})(myt);
(e=>{const h=JS.Class,k={},g=(a,b)=>{if(a){const c=a.id;a.id?b(c):e.dumpStack("No ID")}else e.dumpStack("No validator")},d=a=>{g(a,b=>{k[b]=a})},c=e.Validator=new h("Validator",{initialize:function(a){this.id=a},isValid:(a,b,c)=>!0,isFormValid:function(a,b,c){b||(b={});b.form=a;return this.isValid(a.getValue(),b,c)}}),f=e.RequiredFieldValidator=new h("RequiredFieldValidator",c,{isValid:function(a,b,c){return null==a||""===a||"string"===typeof a&&""===a.trim()?(c&&c.push("This value is required."),
!1):!0}}),b=e.EqualsIgnoreCaseValidator=new h("EqualsIgnoreCaseValidator",c,{isValid:function(a,b,c){b=b.form.getRollbackValue();return a&&b&&a.toLowerCase()===b.toLowerCase()?(c&&c.push("Value must differ by more than just case."),!1):!0}}),a=e.URLValidator=new h("URLValidator",c,{initialize:function(a,b){this.callSuper(a);this.originalRawQuery=b},isValid:function(a,b,c){return(new e.URI(a)).toString(this.originalRawQuery)!==a?(c&&c.push("Invalid URL."),!1):!0}}),m=e.JSONValidator=new h("JSONValidator",
c,{isValid:function(a,b,c){try{return JSON.parse(a),!0}catch(q){return c&&c.push(q),!1}}});e.EqualFieldsValidator=new h("EqualFieldsValidator",c,{initialize:function(a,b,c){this.callSuper(a);this.fieldA=b;this.fieldB=c},isValid:function(a,b,c){if(a&&this.fieldA.getValue()===this.fieldB.getValue())return!0;c&&c.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});e.LengthValidator=new h("LengthValidator",c,{initialize:function(a,b,c){this.callSuper(a);this.min=
b;this.max=c},isValid:function(a,b,c){a=a?a.length:0;b=this.min;const d=this.max;return void 0!==b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==d&&d<a?(c&&c.push("Value must not be greater than "+d+"."),!1):!0}});e.NumericRangeValidator=new h("NumericRangeValidator",c,{initialize:function(a,b,c){this.callSuper(a);this.min=b;this.max=c},isValid:function(a,b,c){if(""===a)return!0;a=Number(a);b=this.min;const d=this.max;return isNaN(a)?(c&&c.push("Value is not a number."),!1):void 0!==
b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==d&&d<a?(c&&c.push("Value must not be greater than "+d+"."),!1):!0}});e.CompoundValidator=new h("CompoundValidator",c,{initialize:function(a,...b){this.callSuper(a);a=b.length;let c;for(;a;)c=b[--a],"string"===typeof c&&((b[a]=c=k[c])||b.splice(a,1));this.__v=b},addValidator:function(a){"string"===typeof a&&(a=k[a]);a&&this.__v.push(a)},isValid:function(a,b,c){const d=this.__v,e=d.length;let f=!0,g=0;for(;e>g;)f=d[g++].isValid(a,
b,c)&&f;return f}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){d(new f("required"));d(new b("equalsIgnoreCase"));d(new a("url"));d(new m("json"));e.global.register("validators",this)},getValidator:a=>k[a],register:d,unregister:a=>{g(a,a=>{k[a]&&delete k[a]})}})})(myt);
(e=>{const h=JS.Class,k=e.View,g=e.AccessorSupport.defAttr;var d=e.SliderThumbMixin=new JS.Module("SliderThumbMixin",{include:[e.Draggable],initNode:function(b,a){g(a,"width",b.thumbWidth);g(a,"height",b.thumbHeight);g(a,"repeatKeyDown",!0);g(a,"activationKeys",[37,38,39,40]);this.callSuper(b,a);"x"===b.axis?this.setY(b.thumbOffset):this.setX(b.thumbOffset);this.syncTo(b,"setDisabled","disabled");b._syncThumbToValue(this,b.getValue())},setDisabled:function(b){this.callSuper(this.valueFromEvent(b))},
setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b._syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b._syncValueToThumb(this))},requestDragPosition:function(b,a){if(!this.disabled){var c=this.parent;const d=c.getMinPixelValueForThumb(this),e=c.getMaxPixelValueForThumb(this);"x"===c.axis?(c=this.width/2,a=this.setX):(c=this.height/2,b=a,a=this.setY);
a.call(this,Math.min(Math.max(b,d-c),e-c))}},doActivationKeyDown:function(b,a){const c=this.parent;switch(b){case 37:c.nudgeValueLeft(this);break;case 38:c.nudgeValueUp(this);break;case 39:c.nudgeValueRight(this);break;case 40:c.nudgeValueDown(this)}this.callSuper(b,a)}});const c=e.SimpleSliderThumb=new h("SimpleSliderThumb",e.SimpleButton,{include:[d],initNode:function(b,a){g(a,"activeColor","#bbb");g(a,"readyColor","#ccc");g(a,"hoverColor","#ddd");g(a,"boxShadow",[0,0,4,"#666"]);this.callSuper(b,
a);null==a.roundedCorners&&this.setRoundedCorners(Math.min(this.height,this.width)/2)}});d=e.BaseSlider=new h("BaseSlider",k,{include:[e.Disableable],initNode:function(b,a){g(a,"axis","x");"x"===a.axis?(g(a,"width",100),g(a,"height",18)):(g(a,"width",18),g(a,"height",100));g(a,"bgColor","#999");g(a,"roundedCorners",9);g(a,"trackInset",9);g(a,"trackOutset",9);g(a,"thumbWidth",16);g(a,"thumbHeight",16);g(a,"thumbOffset",1);g(a,"nudgeAmount",1);g(a,"thumbClass",c);this.callSuper(b,a)},setAxis:function(b){this.axis=
b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setThumbClass:function(b){this.thumbClass=b},setNudgeAmount:function(b){this.nudgeAmount=b},convertValueToPixels:function(b){const a=this.minValue,c=this.trackInset;return c+(("x"===this.axis?this.width:this.height)-c-this.trackOutset)/(this.maxValue-a)*(b-a)},convertPixelsToValue:function(b){const a=
this.minValue,c=this.trackInset;return(this.maxValue-a)/(("x"===this.axis?this.width:this.height)-c-this.trackOutset)*(b-c)+a},nudgeValueLeft:function(b){this._nudge(b,!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,!0)},_nudge:(b,a)=>{},_syncThumbToValue:function(b,a){a=this.convertValueToPixels(a);"x"===this.axis?b.setX(a-b.width/2):b.setY(a-b.height/2)}});const f=e.SimpleSliderRangeFill=new h("SimpleSliderRangeFill",
k,{initNode:function(b,a){g(a,"bgColor","#666");this.callSuper(b,a);"x"===b.axis?(this.setY(b.thumbOffset),this.setHeight(b.thumbHeight),this.setRoundedCorners(b.thumbHeight/2)):(this.setX(b.thumbOffset),this.setWidth(b.thumbWidth),this.setRoundedCorners(b.thumbWidth/2));b._syncRangeFillToValue()}});e.RangeSlider=new h("RangeSlider",d,{include:[e.BoundedRangeComponent],initNode:function(b,a){g(a,"rangeFillClass",f);this.callSuper(b,a);new this.rangeFillClass(this,{name:"rangeFill"});new this.thumbClass(this,
{name:"thumbLower"});new this.thumbClass(this,{name:"thumbUpper"})},setRangeFillClass:function(b){this.rangeFillClass=b},setValue:function(b){this.callSuper(b);this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b,a){const c=this.width;this.callSuper(b,a);this.inited&&"x"===this.axis&&this.width!==c&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,
b))},setHeight:function(b,a){const c=this.height;this.callSuper(b,a);this.inited&&"y"===this.axis&&this.height!==c&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var a=this.getValue();const c=this.convertValueToPixels(a.lower);a=this.convertValueToPixels(a.upper)-c;"x"===this.axis?(b.setX(c),b.setWidth(a)):(b.setY(c),b.setHeight(a))},_syncThumbToValue:function(b,a){this.callSuper(b,"thumbLower"===
b.name?a.lower:a.upper)},_syncValueToThumb:function(b){if(this.inited&&!this.__lockSync){this.__lockSync=!0;const a=this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2);let c=this.getValueCopy();"thumbLower"===b.name?c.lower=a:c.upper=a;this.setValue(c);c=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,c);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,c);this.__lockSync=!1}},_nudge:function(b,a){const c=this.getValueCopy();a=this.nudgeAmount*(a?
1:-1);"thumbLower"===b.name?(c.lower+=a,c.lower>c.upper&&(c.lower=c.upper)):(c.upper+=a,c.lower>c.upper&&(c.upper=c.lower));this.setValue(c)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===b.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===b.name?this.getValue().upper:this.maxValue)}});e.Slider=new h("Slider",d,{include:[e.BoundedValueComponent],initNode:function(b,a){this.callSuper(b,
a);new this.thumbClass(this,{name:"thumb"})},setValue:function(b){this.callSuper(b);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b,a){const c=this.width;this.callSuper(b,a);this.inited&&"x"===this.axis&&this.width!==c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b,a){const c=this.height;this.callSuper(b,a);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b){this.inited&&
!this.__lockSync&&(this.__lockSync=!0,this.setValue(this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2)),this._syncThumbToValue(b,this.getValue()),this.__lockSync=!1)},_nudge:function(b,a){this.setValue(this.getValue()+this.nudgeAmount*(a?1:-1))},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}})})(myt);
(e=>{const h=JS.Class,k=e.AccessorSupport.defAttr,g=c=>{const d="y"===c.axis?"height":"width";c.constrain("__limitToParent",[c,"limitToParent",c,d,c.parent,d])},d=new h("BaseDivider",e.SimpleButton,{include:[e.BoundedValueComponent,e.Draggable],initNode:function(c,d){k(d,"activeColor","#bbb");k(d,"hoverColor","#ddd");k(d,"readyColor","#ccc");k(d,"axis","x");k(d,"minValue",0);k(d,"value",d.minValue);k(d,"expansionState",2);k(d,"focusIndicator",!1);k(d,"repeatKeyDown",!0);k(d,"activationKeys",[37,38,
39,40,13,32]);"y"===d.axis?(k(d,"height",6),k(d,"cursor","row-resize")):(k(d,"width",6),k(d,"cursor","col-resize"));this.__nudgeAcc=1;this.callSuper(c,d);null==d.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&g(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(c){this.expansionState=c},setRestoreValue:function(c){this.restoreValue=c},setLimitToParent:function(c){this.limitToParent!==c&&(this.limitToParent=c,this.inited&&(this.fireEvent("limitToParent",
c),null==c?this.releaseConstraint("__limitToParent"):g(this)))},setAxis:function(c){this.inited?console.warn("Axis may not be updated after instantiation."):this.axis=c},setValue:function(c,d){this.callSuper(c);c=this.value;"y"===this.axis?this.setY(c):this.setX(c);d&&this.setRestoreValue(c)},__limitToParent:function(c){c="y"===this.axis?"height":"width";this.setMaxValue(this.parent[c]-this.limitToParent-this[c])},doActivationKeyDown:function(c,d){this.callSuper(c,d);switch(c){case 37:case 38:c=-1;
break;case 39:case 40:c=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=d?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+c*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const c=this.restoreValue,d=this.maxValue,b=this.minValue;let a;switch(this.expansionState){case 0:null!=c&&(this.setExpansionState(1),c===b?c!==d&&this.doPrimaryAction():a=c);break;case 1:null!=d&&(this.setExpansionState(3),this.value===d?this.doPrimaryAction():a=d);break;case 2:null!=
b&&(this.setExpansionState(0),this.value===b?this.doPrimaryAction():a=b);break;case 3:null!=c&&(this.setExpansionState(2),c===d?this.doPrimaryAction():a=c)}null!=a&&(this.stopActiveAnimators("value"),this.animateOnce("value",a,null,250))},requestDragPosition:function(c,d){this.disabled||(this.setValue("y"===this.axis?d:c,!0),this.setExpansionState(2))}});e.HorizontalDivider=new h("HorizontalDivider",d,{initNode:function(c,d){d.axis="x";this.callSuper(c,d)}});e.VerticalDivider=new h("VerticalDivider",
d,{initNode:function(c,d){d.axis="y";this.callSuper(c,d)}})})(myt);
(e=>{const h=JS.Class,k=JS.Module,g=e.View,d=e.AccessorSupport.defAttr,c=a=>{a=a.columnHeaders;let b=a.length;for(;b;){const c=a[--b];if(c.visible)return c}return null},f=a=>{const b=a.columnHeaders;var c=a.sort;const d=c?c[0]:"";c=c?c[1]:"";let e=b.length;for(;e;){const a=b[--e];a.columnId===d?a.sortable&&a.setSortState(c):a.setSortState("none")}a.locked||a.doSort()},b=(a,b,c,d)=>{if(0!==b){const g=0<b,h=[];for(var e=a.length,f;e;)f=a[--e],f.resizable&&(c?0<f.flex:0===f.flex)&&h.push({hdr:f,limit:(g?
f.maxValue:f.minValue)-f.value,amt:0});a=h.length;if(0<a){let k=e=0;for(;0!==b;){const d=h[e];f=d.hdr;d.full?++k:(g?(f=Math.min(c?f.flex:1,b),d.amt+f>d.limit&&(f=d.limit-d.amt,d.full=!0)):(f=Math.max(c?-f.flex:-1,b),d.amt+f<d.limit&&(f=d.limit-d.amt,d.full=!0)),d.amt+=f,b-=f);if(k===a)break;++e;e===a&&(k=e=0)}h.forEach(a=>{a.hdr.setValue(a.hdr.value+a.amt)});d&&d(b)}}},a=b=>(b=b.gridController?b.gridController.getPrevColumnHeader(b):null)?b.maxValue-b.value+a(b):0,m=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):
null)?a.maxValue-a.value+m(a):0,p=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.minValue-a.value+p(a):0,l=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):null)?a.minValue-a.value+l(a):0,n=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+b;a.resizable&&a.setValue(c);const d=c-a.value;c=b-d;0>d&&(c+=n(a,d))}return c},q=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+
b;a.resizable&&a.setValue(c);const d=c-a.value;c=b-d;0<d&&(c+=q(a,d))}return c},t=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=a.value,0>b&&t(a,b)},y=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=a.value,0<b&&y(a,b)},E=a=>{let b="";if(a.sortable)switch(a.sortState){case "ascending":b="chevron-up";break;case "descending":b="chevron-down"}a.sortIcon.setIcon(b)},
F=a=>{const b=a.textView;b&&b.setWidth(a.width-a.outset-b.x)},w=e.GridController=new k("GridController",{initNode:function(a,b){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(a,b);this.fitHeadersToWidth();f(this)},setMaxWidth:function(a){this.set("maxWidth",a,!0)},setMinWidth:function(a){this.set("minWidth",a,!0)},setFitToWidth:function(a){this.fitToWidth=a},setSort:function(a){e.areArraysEqual(a,this.sort)||(this.sort=
a,this.inited&&(this.fireEvent("sort",a),f(this)))},setLastColumn:function(a){const b=this.lastColumn;b!==a&&(b&&b.setLast(!1),(this.lastColumn=a)&&a.setLast(!0))},setLocked:function(a){this.locked=a;this.inited&&!a&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(a=>{this.notifyColumnHeaderXChange(a);this.notifyColumnHeaderWidthChange(a);this.notifyColumnHeaderVisibilityChange(a)}),this.doSort())},isLocked:function(){return this.locked||
this.__tempLock},setGridWidth:function(a){a=this.valueFromEvent(a);this.gridWidth!==a&&(this.gridWidth=a,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevColumnHeader:function(a){const b=this.columnHeaders;a=this.getColumnHeaderIndex(a);if(0<a)for(;a;){const c=b[--a];if(c.visible)return c}return null},getNextColumnHeader:function(a){const b=this.columnHeaders,c=b.length;a=this.getColumnHeaderIndex(a)+1;if(0<a&&a<c)for(;c>a;a++){const c=b[a];if(c.visible)return c}return null},hasColumnHeader:function(a){return-1!==
this.getColumnHeaderIndex(a)},getColumnHeaderIndex:function(a){return this.columnHeaders.indexOf(a)},getColumnHeaderById:function(a){const b=this.columnHeaders;let c=b.length;for(;c;){const d=b[--c];if(d.columnId===a)return d}return null},getVisibleColumnHeaders:function(){return this.columnHeaders.filter(a=>a.visible)},notifyAddColumnHeader:function(a){this.hasColumnHeader(a)||(this.columnHeaders.push(a),a.visible&&this.setLastColumn(a))},notifyRemoveColumnHeader:function(a){const b=this.getColumnHeaderIndex(a);
0<=b&&(this.columnHeaders.splice(b,1),a.visible&&a.last&&this.setLastColumn(this.getPrevColumnHeader(a)))},notifyColumnHeaderXChange:function(a){this.isLocked()||this.rows.forEach(b=>{b.notifyColumnHeaderXChange(a)})},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.rows.forEach(b=>{b.notifyColumnHeaderWidthChange(a)})},notifyColumnHeaderVisibilityChange:function(a){if(!this.isLocked()){this.updateRowsForVisibilityChange(a);this.setLastColumn(c(this));const b=a.visible?1:-1;this.setMaxWidth(this.maxWidth+
a.maxValue*b);this.setMinWidth(this.minWidth+a.minValue*b);this.fitHeadersToWidth()}},updateRowsForVisibilityChange:function(a){this.rows.forEach(b=>{b.notifyColumnHeaderVisibilityChange(a)})},hasRow:function(a){return-1!==this.getRowIndex(a)},getRowIndex:function(a){return this.rows.indexOf(a)},getRowById:function(a,b=b=>b.model.id===a){return this.rows.find(b)},getPrevRow:function(a){a=this.getRowIndex(a)-1;return this.rows[0>a?this.rows.length-1:a]},getNextRow:function(a){a=this.getRowIndex(a)+
1;return this.rows[a<this.rows.length?a:0]},notifyAddRow:function(a,b){if(!this.hasRow(a)&&(this.rows.push(a),!this.locked)){const c=this.width;this.columnHeaders.forEach(b=>{a.setWidth(c);a.notifyColumnHeaderXChange(b);a.notifyColumnHeaderWidthChange(b);a.notifyColumnHeaderVisibilityChange(b)});b||this.doSort()}},notifyRemoveRow:function(a){a=this.getRowIndex(a);0<=a&&this.rows.splice(a,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const a=this.getVisibleColumnHeaders();let c=
0;a.forEach(a=>{c=Math.max(c,a.x+a.width)});b(a,this.gridWidth-c,!0,c=>{b(a,c,!1,null)})}}}),r=e.GridColumnHeader=new k("GridColumnHeader",{include:[e.BoundedValueComponent],initNode:function(b,c){const f=this;d(c,"minValue",16);d(c,"maxValue",9999);d(c,"resizable",!0);d(c,"flex",0);d(c,"cellXAdj",0);d(c,"cellWidthAdj",0);d(c,"sortable",!0);d(c,"sortState","none");d(c,"placement","*");f.callSuper(b,c);const h=f.gridController;new g(f,{name:"resizer",cursor:"col-resize",width:10,zIndex:1,percentOfParentHeight:100,
align:"right",alignOffset:-5,draggableAllowBubble:!1},[e.SizeToParent,e.Draggable,{requestDragPosition:function(b,c){b-=this.x;if(h.fitToWidth&&(0<b?(c=f.maxValue-f.value,b=Math.min(b,Math.min(-l(f),c+a(f)))):0>b&&(c=f.minValue-f.value,b=Math.max(b,Math.max(-m(f),c+p(f)))),0===b))return;c=f.value+b;f.resizable&&f.setValue(c);c-=f.value;b=c-b;let d=0;0>c?d=n(f,c):0<c&&(d=q(f,c));this.dragInitX+=d;b-=d;h.fitToWidth&&(0>b?t(f,b):0<b&&y(f,b))}}]);h&&(h.notifyAddColumnHeader(f),h.notifyColumnHeaderXChange(f),
h.notifyColumnHeaderVisibilityChange(f));f.setWidth(f.value);f.resizer.setVisible(!(f.last&&f.gridController.fitToWidth))},destroy:function(a){this.setGridController();this.callSuper(a)},setSortable:function(a){this.set("sortable",a,!0)},setSortState:function(a){this.set("sortState",a,!0)},setResizable:function(a){this.set("resizable",a,!0)},setCellWidthAdj:function(a){this.cellWidthAdj=a},setCellXAdj:function(a){this.cellXAdj=a},setFlex:function(a){this.flex=a},setColumnId:function(a){this.columnId=
a},setLast:function(a){this.last=a;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveColumnHeader(this),this.gridController=a,this.inited&&a&&(a.notifyAddColumnHeader(this),a.notifyColumnHeaderXChange(this),a.notifyColumnHeaderWidthChange(this),a.notifyColumnHeaderVisibilityChange(this)))},setValue:function(a){this.callSuper(a);this.inited&&this.setWidth(this.value)},setMinValue:function(a){const b=
this.minValue||0,c=this.gridController;this.callSuper(a);this.inited&&c&&b!==this.minValue&&c.setMinWidth(c.minWidth+this.minValue-b)},setMaxValue:function(a){const b=this.maxValue||0,c=this.gridController;null==a&&(a=9999);this.callSuper(a);this.inited&&c&&b!==this.maxValue&&c.setMaxWidth(c.maxWidth+this.maxValue-b)},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&this.gridController&&c!==this.width&&this.gridController.notifyColumnHeaderWidthChange(this)},setX:function(a){const b=
this.x;this.callSuper(a);this.inited&&this.gridController&&b!==this.x&&this.gridController.notifyColumnHeaderXChange(this)},setVisible:function(a){const b=this.visible;this.callSuper(a);this.inited&&this.gridController&&b!==this.visible&&this.gridController.notifyColumnHeaderVisibilityChange(this)}}),z=e.GridRow=new k("GridRow",{initNode:function(a,b){d(b,"placement","*");this.callSuper(a,b);(a=this.gridController)&&a.notifyAddRow(this)},destroy:function(a){this.setGridController();this.callSuper(a)},
setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveRow(this),this.gridController=a,this.inited&&a&&a.notifyAddRow(this))},notifyColumnHeaderXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyColumnHeaderWidthChange:function(a){const b=this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyColumnHeaderVisibilityChange:function(a){const b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}});e.Grid=new h("Grid",g,{include:[w],
initNode:function(a,b){const c=e.SpacedLayout;d(b,"overflow","autox");d(b,"bgColor","#ccc");d(b,"rowSpacing",1);d(b,"columnSpacing",1);var f=b.isAutoScrolling;delete b.isAutoScrolling;this.callSuper(a,b);a=new g(this,{name:"header",overflow:"hidden"});new c(a,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new e.SizeToChildren(a,{name:"yLayout",locked:!0,axis:"y"});b=this.sizeHeightToRows;f=new g(this,{name:"content",overflow:b?"hidden":"autoy"},f?[e.AutoScroller]:[]);new c(f,
{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:b});this.syncTo(this,"setGridWidth","width");this.syncTo(a,"_updateContentWidth","width");this.constrain("_updateContentHeight",[b?f:this,"height",a,"height",a,"y"])},setSizeHeightToRows:function(a){this.sizeHeightToRows=a},setRowSpacing:function(a){this.rowSpacing!==a&&(this.rowSpacing=a,this.inited&&this.content.yLayout.setSpacing(a))},setColumnSpacing:function(a){this.columnSpacing!==a&&(this.columnSpacing=a,this.inited&&
this.header.xLayout.setSpacing(a))},setLocked:function(a){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(b=>{a?b.incrementLockedCounter():(b.decrementLockedCounter(),b.update())});this.callSuper(a)},_updateContentWidth:function(a){const b=this.content,c=b.getSubviews(),d=a.value;b.setWidth(d);c.forEach(a=>{a.setWidth(d)})},_updateContentHeight:function(a){var b=this.header;a=this.content;b=b.y+b.height;a.setY(b);this.sizeHeightToRows?this.setHeight(b+a.height):
a.setHeight(this.height-b)},determinePlacement:function(a,b){if("*"===a){let a;b.isA(z)?a=this.content:b.isA(r)&&(a=this.header);if(a)return b.gridController!==this&&b.setGridController(this),a}return this.callSuper(a,b)},doSort:function(){var a=this.sort||["",""];if(a=this.getSortFunction(a[0],a[1])){const b=this.content,c=b.yLayout;this.rows.sort(a);b.sortSubviews(a);c.sortSubviews(a);c.update()}},getSortFunction:(a,b)=>{if(a){const c="ascending"===b?1:-1,d=a+"View";return(a,b)=>{a=a[d].text;b=
b[d].text;return a>b?c:b>a?-c:0}}}});e.SimpleGridColumnHeader=new h("SimpleGridColumnHeader",e.SimpleTextButton,{include:[r],initNode:function(a,b){const c=this;d(b,"activeColor","#999");d(b,"hoverColor","#bbb");d(b,"readyColor","#aaa");d(b,"inset",2);d(b,"outset",2);d(b,"sortIconColor","#666");c.callSuper(a,b);new e.FontAwesome(c,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:c.sortIconColor},[{initNode:function(a,b){this.callSuper(a,b);this.getInnerDomStyle().fontSize="0.7em"},
sizeViewToDom:function(){this.callSuper();c.setOutset(this.width+2);F(c)}}]);c.textView.enableEllipsis();c.setDisabled(!c.sortable);F(c);E(c)},setSortIconColor:function(a){this.sortIconColor=a;this.sortIcon&&this.sortIcon.setTextColor(a)},setSortable:function(a){this.callSuper(a);this.inited&&(a&&this.setOutset(14),this.setDisabled(!a),E(this))},setSortState:function(a){this.callSuper(a);this.inited&&E(this)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&F(this)},doActivated:function(){console.log("here");
if(!this.disabled){switch(this.sortState){case "ascending":this.setSortState("descending");break;case "descending":this.setSortState("ascending");break;case "none":this.setSortState("ascending")}this.gridController.setSort([this.columnId,this.sortState])}},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(e=>{const h=JS.Class,k=JS.Module,g=e.View,d=e.global.focus,c=e.AccessorSupport.defAttr,f=a=>{const b=a.selectedRow;b&&(b.setSelected(!1),a.set("selectedRow",null,!0))},b=e.InfiniteListRow=new k("InfiniteListRow",{include:[e.Reusable],setInfiniteOwner:function(a){this.infiniteOwner=a},setModel:function(a){this.model=a},setClassKey:function(a){this.classKey=a},notifyRefreshed:()=>{}}),a=e.SelectableInfiniteListRow=new k("SelectableInfiniteListRow",{include:[b,e.Selectable]}),m=e.InfiniteList=new h("InfiniteList",
g,{initNode:function(a,b){let d=b.rowClasses;delete b.rowClasses;if("function"===typeof d){const a={};a["default"]=d;d=a}c(b,"modelIDName","id");c(b,"numericSort",!0);c(b,"ascendingSort",!0);c(b,"overflow","autoy");c(b,"bgColor","#ccc");c(b,"rowSpacing",1);c(b,"rowInset",0);c(b,"rowOutset",0);c(b,"rowHeight",30);c(b,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(a,b);a=this._listView=new g(this);
this._scrollAnchorView=new g(a,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(d,a);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(a,b)=>new e.TrackActivesMultiPool(a,b),setOverscrollBehavior:function(a){this.overscrollBehavior=a;this.getInnerDomStyle().overscrollBehavior=a},setCollectionModel:function(a){this.collectionModel=a},setModelIDName:function(a){this.modelIDName=a},setRowSpacing:function(a){this.rowSpacing=a;
this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(a){this.rowHeight=a;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(a,b){if(0<a&&(this.callSuper(a,b),this.inited)){a=this._listView;const b=this.width;a.setWidth(b);a.getSubviews().forEach(a=>{a.setWidth(b)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getInnerDomElement().scrollTop+this.height===
this._listView.height},getSortFunction:function(){const a=this.modelIDName,b=this.ascendingSort?1:-1;return this.numericSort?(c,d)=>(c[a]-d[a])*b:(c,d)=>{c=c[a];d=d[a];return(c>d?1:c<d?-1:0)*b}},getFilterFunction:()=>{},scrollModelIntoView:function(a){var b=this.getIndexOfModelInData(a);if(0<=b){var c=this._rowExtent;a=this.getInnerDomElement().scrollTop;const d=a+this.height;b=this.rowInset+b*c;c=b+c;if(b<=a)return this.scrollYTo(b,!0),!0;if(c>=d)return this.scrollYTo(c-this.height,!0),!0}return!1},
isModelInData:function(a){return-1!==this.getIndexOfModelInData(a)},getNextModel:function(a,b=!0,c=!0){const d=this.getListData(),e=d.length;a=this.getIndexOfModelInData(a);if(0<=a)return a+=1,a>=e?b?d[0]:d[e-1]:d[a];if(c&&0<e)return d[e-1]},getPrevModel:function(a,b=!0,c=!0){const d=this.getListData(),e=d.length;a=this.getIndexOfModelInData(a);if(0<=a)return--a,0>a?b?d[e-1]:d[0]:d[a];if(c&&0<e)return d[0]},getIndexOfModelInData:function(a){if(a){const b=this.getListData();let c=b.length;for(;c;)if(this.areModelsEqual(b[--c],
a))return c}return-1},areModelsEqual:function(a,b){const c=this.modelIDName;return a[c]===b[c]},getActiveRowForModel:function(a){if(a){const b=this._itemPool.getActives();let c=b.length;for(;c;){const d=b[--c];if(this.areModelsEqual(d.model,a))return d}}},refreshListData:function(a,b){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(a,b)},resetListUI:function(a,b){const c=this.getListData().length,d=this._listView,e=this._scrollAnchorView;
d.setHeight(c*this._rowExtent-(0<c?this.rowSpacing:0)+this.rowInset+this.rowOutset);e.setY(d.height-e.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=b;a||0===this.getInnerDomElement().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(a){var b=d.focusedView;b&&b.isDescendantOf(a)&&((b=this.getFocusTrap())?b.focus():d.clear());a.setVisible(!1);this._itemPool.putInstance(a)},refreshListUI:function(a){a=this._rowExtent;const b=this.rowInset,c=this.forceFullResetOnNextRefresh;
var d=this.getInnerDomElement().scrollTop;const e=this.getListData()||[];var f=Math.max(0,Math.floor((d-b)/a));d=Math.min(e.length,Math.ceil((d-b+this.height)/a));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==f||this._endIdx!==d||c){const h=this.width,k=this.rowHeight,l=this._visibleRowsByIdx;this._startIdx=f;this._endIdx=d;for(var g in l)if(g<f||g>=d)this.putRowBackInPool(l[g]),delete l[g];for(g=f;g<d;g++){f=l[g];const d=e[g],m=this.getClassKey(d);f&&
f.classKey===m||(f&&this.putRowBackInPool(f),l[g]=f=this._itemPool.getInstance(m),f.setInfiniteOwner(this),f.setClassKey(m),f.setWidth(h),f.setHeight(k),f.setY(b+g*a),f.setVisible(!0));f.model&&this.areModelsEqual(f.model,d)&&!c||(f.setModel(d),this.updateRow(f));f.notifyRefreshed();f.bringToFront()}}},getClassKey:a=>"default",updateRow:a=>{}}),p=e.SimpleSelectableInfiniteListRow=new h("SimpleSelectableInfiniteListRow",e.SimpleButton,{include:[a],initNode:function(a,b){c(b,"selectedColor","#ccf");
c(b,"activeColor","#f8f8f8");c(b,"hoverColor","#eee");c(b,"readyColor","#fff");c(b,"focusIndicator",!1);c(b,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(a,b)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(a){this.callSuper(a);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},
doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(a,b){b=this.infiniteOwner;const c=this.model;switch(a){case 27:this.selected&&b.setSelectedRow();break;case 37:case 38:b.selectPrevRowForModel(c);break;case 39:case 40:b.selectNextRowForModel(c)}},doActivationKeyUp:function(a){switch(a){case 13:case 32:this.doActivated()}}}),l=e.SelectableInfiniteList=new h("SelectableInfiniteList",m,{setSelectedRow:function(a){const b=this.selectedRow;a!==
b&&(b&&b.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",a,!0),a&&(this.setSelectedRowModel(a.model),a.setSelected(!0)))},setSelectedRowModel:function(a){this.set("selectedRowModel",a,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(a,b,c){a&&(f(this),this.setSelectedRowModel(a),this.refreshListUI(),b&&(a=this.getActiveSelectedRow())&&a.focus())},selectNextRowForModel:function(a,
b=!0){this.selectRowForModel(this.getNextModel(a),b,!0)},selectPrevRowForModel:function(a,b=!0){this.selectRowForModel(this.getPrevModel(a),b,!1)},resetListUI:function(a,b){this.isModelInData(this.selectedRowModel)?f(this):this.setSelectedRow();this.callSuper(a,b)},putRowBackInPool:function(a){a.selected&&f(this);this.callSuper(a)},refreshListUI:function(a){a=d.focusedView;this.callSuper();const b=this.getActiveSelectedRow();b&&(this.set("selectedRow",b,!0),b.setSelected(!0),a&&a!==b||b.focus(!0))}}),
n=new k("InfiniteGridRowMixin",{notifyXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyWidthChange:function(a){const b=this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyVisibilityChange:function(a){const b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}}),q=new k("InfiniteGridMixin",{setGridHeader:function(a){(this.gridHeader=a)&&a.setGrid(this)},makeReady:function(a,b){const c=this.gridHeader;c?(this.forceFullResetOnNextRefresh=b,c.setSort(a),
c.setLocked(!1)):this.refreshListData(!1,b)},getSortFunction:function(){var a=this.gridHeader.sort||["",""];const b=a[0];a=a[1];if(b){const c="ascending"===a?1:-1;return(a,d)=>{a=a[b];d=d[b];return a>d?c:d>a?-c:0}}return this.callSuper()},updateRow:function(a){this.gridHeader&&this.gridHeader.columnHeaders.forEach(b=>{a.notifyXChange(b);a.notifyWidthChange(b);a.notifyVisibilityChange(b)})},notifyXChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyXChange(a)})},notifyWidthChange:function(a){this.getVisibleRows().forEach(b=>
{b.notifyWidthChange(a)})},notifyVisibilityChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyVisibilityChange(a)})}});e.InfiniteGridRow=new k("InfiniteGridRow",{include:[b,n]});e.SelectableInfiniteGridRow=new k("SelectableInfiniteGridRow",{include:[a,n]});e.SimpleSelectableInfiniteGridRow=new h("SimpleSelectableInfiniteGridRow",p,{include:[n]});e.InfiniteGrid=new h("InfiniteGrid",m,{include:[q]});e.SelectableInfiniteGrid=new h("InfiniteGrid",l,{include:[q]});e.InfiniteGridHeader=new h("InfiniteGridHeader",
g,{include:[e.GridController],initNode:function(a,b){c(b,"columnSpacing",1);b.overflow="hidden";this.callSuper(a,b);new e.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(a){this.grid=a},setColumnSpacing:function(a){this.columnSpacing=a},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:Math.max(0,this.getVisibleColumnHeaders().length-1)*this.columnSpacing},setHeight:function(a,b){this.callSuper(a,b);this.inited&&(a=this.height,this.columnHeaders.forEach(b=>{b.setHeight(a)}))},
setWidth:function(a,b){this.callSuper(Math.max(this.minWidth,a),b);this.inited&&(a=this.width,this.setGridWidth(a),this.grid.setWidth(a))},subviewAdded:function(a){this.callSuper(a);a.isA(e.GridColumnHeader)&&(a.setGridController(this),a.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},notifyColumnHeaderXChange:function(a){this.isLocked()||this.grid.notifyXChange(a)},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.grid.notifyWidthChange(a)},
updateRowsForVisibilityChange:function(a){this.grid.notifyVisibilityChange(a)}})})(myt);
(e=>{const h=JS.Class,k=e.AccessorSupport.defAttr,g=e.PanelStackTransition=new h("PanelStackTransition",e.Node,{to:d=>Promise.resolve(d),from:d=>Promise.resolve(d)});e.PanelStack=new h("PanelStack",e.View,{include:[e.SelectionManager],initNode:function(d,c){c.overflow="hidden";k(c,"itemSelectionId","panelId");k(c,"maxSelected",1);this.callSuper(d,c);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(d){this.set("transition",d,!0)},__updateWidth:function(d){const c=
this.getActivePanel();c&&c.setWidth(d.value)},__updateHeight:function(d){const c=this.getActivePanel();c&&c.setHeight(d.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(d){return this.getSelectableItem(d)},selectPanel:function(d){this.selectById(d)},doSelected:function(d){d.setWidth(this.width);d.setHeight(this.height)},doStackTransition:function(d){this["doStackTransition"+(d.selected?"To":"From")](d)},doStackTransitionTo:function(d){const c=this;c.doBeforeTransitionTo(d);
const e=c.transition;e?e.to(d).then(b=>{c.doAfterTransitionTo(b)}):(d.makeHighestZIndex(),d.setVisible(!0),c.doAfterTransitionTo(d))},doBeforeTransitionTo:d=>{},doAfterTransitionTo:d=>{},doStackTransitionFrom:function(d){const c=this;c.doBeforeTransitionFrom(d);const e=c.transition;e?e.from(d).then(b=>{c.doAfterTransitionFrom(b)}):(d.setVisible(!1),c.doAfterTransitionFrom(d))},doBeforeTransitionFrom:d=>{},doAfterTransitionFrom:d=>{}});e.StackablePanel=new JS.Module("StackablePanel",{include:[e.Selectable],
initNode:function(d,c){c.visible=c.selected=!1;k(c,"bgColor","#fff");k(c,"panelId",c.name);this.callSuper(d,c);this.selected&&this.doStackTransition()},setPanelStack:function(d){this.panelStack=d},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(d){this.panelId=d},setSelected:function(d){this.selected!==d&&(this.callSuper(d),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});e.PanelStackFadeTransition=
new h("PanelStackFadeTransition",g,{initNode:function(d,c){k(c,"duration",1E3);this.callSuper(d,c)},setDuration:function(d){this.duration=d},to:function(d){return new Promise((c,e)=>{d.stopActiveAnimators("opacity");d.setVisible(!0);d.animate({attribute:"opacity",to:1,duration:this.duration}).next(b=>{d.makeHighestZIndex();c(d)})})},from:function(d){return new Promise((c,e)=>{d.stopActiveAnimators("opacity");d.animate({attribute:"opacity",to:0,duration:this.duration}).next(b=>{d.setVisible(!1);c(d)})})}});
e.PanelStackSlideTransition=new h("PanelStackSlideTransition",g,{initNode:function(d,c){k(c,"duration",1E3);k(c,"direction","right");this.callSuper(d,c)},setDuration:function(d){this.duration=d},setDirection:function(d){this.direction=d},to:function(d){const c=d.getPanelStack(),e=this.duration;let b,a;switch(this.direction){case "left":a="x";b=c.width;break;case "right":a="x";b=-c.width;break;case "up":a="y";b=c.height;break;case "down":a="y",b=-c.height}d.stopActiveAnimators(a);d.set(a,b);d.setVisible(!0);
return new Promise((b,c)=>{c=a=>{d.makeHighestZIndex();b(d)};0<e?d.animate({attribute:a,to:0,duration:e}).next(c):(d.set(a,0),d.makeHighestZIndex(),b(d))})},from:function(d){const c=d.getPanelStack(),e=this.duration;let b,a;switch(this.direction){case "left":a="x";b=-c.width;break;case "right":a="x";b=c.width;break;case "up":a="y";b=-c.height;break;case "down":a="y",b=c.height}d.stopActiveAnimators(a);return new Promise((c,f)=>{f=a=>{d.setVisible(!1);c(d)};0<e?d.animate({attribute:a,to:b,duration:e}).next(f):
(d.set(a,b),d.setVisible(!1),c(d))})}})})(myt);
(e=>{const h=JS.Module;var k=e.global;const g=k.dragManager,d=k.mouse;k=e.Draggable;const c=(b,a,c)=>{[a,c].forEach(a=>{b["__is"+a]=!1;b["__tmrId"+a]=null})},f=e.DragGroupSupport=new h("DragGroupSupport",{initNode:function(b,a){this.__dgs={"*":!0};this.__any=!0;this.callSuper(b,a)},setDragGroups:function(b){const a=this.__dgs={};for(const c in b)a[c]=!0;this.__any=a.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},addDragGroup:function(b){b&&(this.__dgs[b]=!0,"*"===b&&(this.__any=
!0))},removeDragGroup:function(b){b&&(delete this.__dgs[b],"*"===b&&(this.__any=!1))},acceptAnyDragGroup:function(){return this.__any}});e.DropSource=new h("DropSource",{include:[k],initNode:function(b,a){this.defAttr(a,"distanceBeforeDrag",2);null==a.dropParent&&(a.dropParent=b.getRoot());this.callSuper(b,a)},setDropClass:function(b){this.dropClass=e.resolveClassname(b)},setDropClassAttrs:function(b){this.dropClassAttrs=b},setDropParent:function(b){this.dropParent=b},startDrag:function(b){const a=
this.dropable=this.makeDropable();if(a){const c=a.distanceBeforeDrag;a.distanceBeforeDrag=0;a.doMouseDown(b);a.__doMouseDown(b);a.distanceBeforeDrag=c}},doMouseUp:function(b){this.callSuper(b);const a=this.dropable;a&&(a.__doMouseUp(b),a.doMouseUp(b),this.dropable=null)},makeDropable:function(){const b=this.dropClass,a=this.dropParent;if(b&&a){const c=e.DomElementProxy.getRelativePosition(this.getInnerDomElement(),a.getInnerDomElement());return new b(a,Object.assign({},this.dropClassAttrs,{x:c.x||
0,y:c.y||0}))}}});e.DropTarget=new h("DropTarget",{include:[f],initNode:function(b,a){this.callSuper(b,a);g.registerDropTarget(this)},destroyAfterOrphaning:function(){g.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(b){return!this.disabled&&this.isVisible()},notifyDragStart:b=>{},notifyDragStop:b=>{},notifyDragEnter:b=>{},notifyDragLeave:b=>{},notifyDrop:b=>{}});e.Dropable=new h("Dropable",{include:[k,f],setDropTarget:function(b){this.dropTarget=b},setDropped:function(b){this.dropped=
b},setDropFailed:function(b){this.dropFailed=b},willPermitDrop:b=>!0,startDrag:function(b){this.setDropped(!1);this.setDropFailed(!1);g.startDrag(this);this.callSuper(b)},updateDrag:function(b){g.updateDrag(b,this);this.callSuper(b)},stopDrag:function(b,a){g.stopDrag(b,this,a);this.callSuper(b,a);a?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(b){this.setDropTarget(b)},notifyDragLeave:function(b){this.setDropTarget()},notifyDropped:function(b,a){this.setDropped(!0);
this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});e.AutoScroller=new h("AutoScroller",{include:[f],initNode:function(b,a){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(a,"overflow","auto");this.callSuper(b,a);g.registerAutoScroller(this)},destroyAfterOrphaning:function(){g.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(b){this.scrollBorder=Math.max(1,b)},setScrollFrequency:function(b){this.scrollFrequency=
b},setScrollAmount:function(b){this.scrollAmount=b},setScrollAcceleration:function(b){this.scrollAcceleration=b},notifyDragStart:function(b){b=this.getInnerDomElement();(b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth)&&this.attachToDom(d,"__hndlMove","mousemove",!0)},notifyDragStop:function(b){this.detachFromDom(d,"__hndlMove","mousemove",!0);c(this,"Up","Down");c(this,"Left","Right")},__hndlMove:function(b){const a=this;var d=b.value;b=d.pageX;d=d.pageY;if(a.containsPoint(b,d)){const e=
a.getPagePosition(),f=a.scrollBorder,g=(b,c)=>{a["__is"+b]&&(a.getInnerDomElement()["scroll"+("Up"===b||"Down"===b?"Top":"Left")]+=c*a["__amt"+b],a["__tmrId"+b]=setTimeout(()=>{g(b,c)},a.scrollFrequency))};b-=e.x;d-=e.y;d<f?(a.__isUp=!0,a.__amtUp=Math.round(a.scrollAmount*(1+a.scrollAcceleration*(1-d/f))),a.__tmrIdUp||g("Up",-1)):a.height-d<f?(a.__isDown=!0,a.__amtDown=Math.round(a.scrollAmount*(1+a.scrollAcceleration*(1-(a.height-d)/f))),a.__tmrIdDown||g("Down",1)):c(a,"Up","Down");b<f?(a.__isLeft=
!0,a.__amtLeft=Math.round(a.scrollAmount*(1+a.scrollAcceleration*(1-b/f))),a.__tmrIdLeft||g("Left",-1)):a.width-b<f?(a.__isRight=!0,a.__amtRight=Math.round(a.scrollAmount*(1+a.scrollAcceleration*(1-(a.width-b)/f))),a.__tmrIdRight||g("Right",1)):c(a,"Left","Right")}else c(a,"Up","Down"),c(a,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(e,h){if(h){const e=h.length;for(let g=0,d;e>g;)(d=h[g++])?this.extend(d):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.init(e||{})},init:function(e){this.callSetters(e);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(e=>{const h=e.Geometry.degreesToRadians,k=c=>{e.Annulus.draw(c.__path,h(c.startAngle),h(c.endAngle),c.thickness,c.radius,c.width/2,c.color,c.startCapRounding,c.endCapRounding)},g=c=>{const b=2*(c.radius+c.thickness),a=c.__svg;c.setWidth(b);c.setHeight(b);a.setAttribute("viewBox","0 0 "+b+" "+b);a.setAttribute("width",b);a.setAttribute("height",b);k(c)},d=(c,b,a)=>{c[b]!==a&&(c[b]=a,c.inited&&(k(c),c.fireEvent(b,a)))},c=(c,b,a)=>{c[b]!==a&&(c[b]=a=Math.max(0,a),c.inited&&(g(c),c.fireEvent(b,a)))};
e.Annulus=new JS.Class("Annulus",e.View,{extend:{draw:(c,b,a,d,e,g,h,k,t)=>{if(b>a){var f=b;b=a;a=f}f=e+d;var l=Math.PI;const m=a-b,n=m+1E-4>=2*l;n&&(b=0,a=l);const p=Math.cos,q=Math.sin;b=[[g+f*p(b),g+f*q(b)],[g+f*p(a),g+f*q(a)],[g+e*p(a),g+e*q(a)],[g+e*p(b),g+e*q(b)]];a=[];a.push("M"+b[0].join());n?(a.push("A"+[f,f,0,1,1,b[1]].join()),a.push("A"+[f,f,0,1,1,b[0]].join()),a.push("L"+b[2].join()),a.push("A"+[e,e,0,1,0,b[3]].join()),a.push("A"+[e,e,0,1,0,b[2]].join())):(l=m%(2*l)>l?1:0,d/=2,a.push("A"+
[f,f,0,l,1,b[1]].join()),t?a.push("A"+[d,d,0,0,1,b[2]].join()):a.push("L"+b[2].join()),a.push("A"+[e,e,0,l,0,b[3]].join()),k&&a.push("A"+[d,d,0,0,1,b[0]].join()));a.push("z");c.setAttribute("d",a.join(" "));c.setAttribute("fill",h)},makeSVG:(c,b)=>{c=document.createElementNS("http://www.w3.org/2000/svg",c);b&&b.appendChild(c);return c}},initNode:function(c,b){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(c,b);g(this)},createOurDomElement:function(c){c=
this.callSuper(c);var b=Array.isArray(c)?c[1]:c;const a=e.Annulus.makeSVG;b=this.__svg=a("svg",b);this.__path=a("path",b);b.style.pointerEvents="none";return c},setRadius:function(d){c(this,"radius",d)},setThickness:function(d){c(this,"thickness",d)},setStartAngle:function(c){d(this,"startAngle",c)},setEndAngle:function(c){d(this,"endAngle",c)},setStartCapRounding:function(c){d(this,"startCapRounding",c)},setEndCapRounding:function(c){d(this,"endCapRounding",c)},setColor:function(c){d(this,"color",
c)},sendSubviewToBack:function(c){if(c.parent===this){const b=this.getInnerDomElement(),a=b.childNodes[1];c.getOuterDomElement()!==a&&(c=b.removeChild(c.getOuterDomElement()))&&b.insertBefore(c,a)}},isColorAttr:function(c){return"color"===c||this.callSuper(c)}})})(myt);
(e=>{const h=JS.Class,k=e.WebSocket=new h("WebSocket",e.Node,{initNode:function(c,d){this.status="closed";this.useJSON=!0;this.callSuper()},destroy:function(){this.close(1E3,"destroyed");this.callSuper()},setUseJSON:function(c){this.useJSON!==c&&(this.useJSON=c,this.inited&&this.fireEvent("useJSON",c))},setStatus:function(c){this.status!==c&&(this.status=c,this.inited&&this.fireEvent("status",c))},setUrl:function(c){"object"===typeof c&&"function"===typeof c.isA&&c.isA(e.URI)&&(c=c.toString());this.url=
c},setProtocols:function(c){this.protocols=c},connect:function(c){if(!this._ws&&this.url)try{const d=this._ws=new WebSocket(this.url,this.protocols),b=this.onOpen.bind(this);d.onopen=c?a=>{b(a);c(a);d.onopen=b}:b;d.onerror=this.onError.bind(this);d.onmessage=this.onMessage.bind(this);d.onclose=this.onClose.bind(this)}catch(f){this.onError(f)}},send:function(c,d){const b=this,a=b._ws;if(a&&"open"===b.status){if(b.useJSON)try{c=JSON.stringify(c)}catch(m){b.onError(m)}a.send(c);return!0}if(d)return!1;
b.connect(a=>{b.send(c,!0)})},close:function(c,d){this._ws&&this._ws.close(c||1E3,d||"close")},onOpen:function(c){this.setStatus("open")},onError:function(c){console.error(c);this._ws&&this._ws.readyState!==WebSocket.OPEN&&this.close()},onMessage:function(c){c=c.data;if(this.useJSON)try{c=JSON.parse(c)}catch(f){this.onError(f)}return c},onClose:function(c){this._ws&&delete this._ws;this.setStatus("closed")}}),g={},d=c=>{let d;"string"===typeof c?d=g[c]||(g[c]=b=>b===c):"function"===typeof c?d=c:null==
c&&(d=b=>!0);return d};e.MessageTypeWebSocket=new h("MessageTypeWebSocket",k,{initNode:function(c,d){this._listeners=[];null==d.protocols&&(d.protocols="typedMessage");this.callSuper()},registerListener:function(c,e){if(c&&(e=d(e))){var b=this._listeners;let a=b.length;for(;a;){const d=b[--a];if(d.func===c){c=d.patternMatchers;for(b=c.length;b;)if(c[--b]===e)return;c.push(e);return}}b.push({func:c,patternMatchers:[e]})}},unregisterListener:function(c,e){if(c&&(e=d(e))){const a=this._listeners;let d=
a.length;for(;d;){var b=a[--d];if(b.func===c){c=b.patternMatchers;for(b=c.length;b;)if(c[--b]===e){c.splice(b,1);break}0===c.length&&a.splice(d,1);break}}}},sendTypedMessage:function(c,d,b){if(d=this.createMessage(c,d))return this.send(d,b)},createMessage:(c,d)=>{let b;try{b=JSON.stringify(d)}catch(a){console.error(a);return}return{type:c||"",msg:b,date:Date.now()}},onMessage:function(c){const d=this.callSuper(c);try{d.msg=JSON.parse(d.msg)}catch(a){this.onError(d);return}const b=d.type;this._listeners.forEach(a=>
{a.patternMatchers.every(c=>c(b)?(a.func(d),!1):!0)});return d}})})(myt);
(e=>{let h;const k=JS.Class,g=e.global,d=g.mouse,c=g.windowResize,f=a=>{a.__checkTipTimerId&&(clearTimeout(a.__checkTipTimerId),delete a.__checkTipTimerId)},b=a=>{if(a.tooltip){const b=a._lastPos;if(a.tooltip.parent.containsPoint(b.x,b.y))return!0}a.hideTip();return!1},a=e.BaseTooltip=new k("BaseTooltip",e.View,{include:[e.RootView],extend:{DEFAULT_TIP_DELAY:500,DEFAULT_TIP_HIDE_DELAY:100},initNode:function(b,c){this.tipDelay=this.nextTipDelay=a.DEFAULT_TIP_DELAY;this.tipHideDelay=a.DEFAULT_TIP_HIDE_DELAY;
null==c.visible&&(c.visible=!1);this.callSuper(b,c)},setTooltip:function(a){this.inited&&(this.tooltip=a)&&(this.attachToDom(d,"__checkMouseMovement","mousemove",!0),this.attachToDom(a.parent,"hideTip","mousedown",!0),this.attachToDom(a.parent,"hideTip","mouseup",!0))},__checkMouseMovement:function(a){const c=this;c._lastPos=e.MouseObservable.getMouseFromEvent(a);b(c)&&(f(c),c.__checkTipTimerId=setTimeout(()=>{delete c.__checkTipTimerId;b(c)&&c.showTip()},c.nextTipDelay))},hideTip:function(a){f(this);
a=this.tooltip.parent;this.detachFromDom(a,"hideTip","mousedown",!0);this.detachFromDom(a,"hideTip","mouseup",!0);this.detachFromDom(d,"__checkMouseMovement","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){g.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),m=e.Tooltip=new k("Tooltip",a,{extend:{DEFAULT_EDGE_SIZE:0,DEFAULT_EDGE_COLOR:"#444",DEFAULT_SHADOW_SIZE:2,DEFAULT_SHADOW_COLOR:"#00000033",
DEFAULT_HORIZONTAL_INSET:6,DEFAULT_VERTICAL_INSET:3,DEFAULT_TIP_BG_COLOR:"#444",DEFAULT_TIP_TEXT_COLOR:"#eee"},initNode:function(a,b){null==b.edgeSize&&(b.edgeSize=m.DEFAULT_EDGE_SIZE);null==b.edgeColor&&(b.edgeColor=m.DEFAULT_EDGE_COLOR);null==b.shadowSize&&(b.shadowSize=m.DEFAULT_SHADOW_SIZE);null==b.shadowColor&&(b.shadowColor=m.DEFAULT_SHADOW_COLOR);null==b.insetH&&(b.insetH=m.DEFAULT_HORIZONTAL_INSET);null==b.insetV&&(b.insetV=m.DEFAULT_VERTICAL_INSET);null==b.tipBgColor&&(b.tipBgColor=m.DEFAULT_TIP_BG_COLOR);
null==b.tipTextColor&&(b.tipTextColor=m.DEFAULT_TIP_TEXT_COLOR);this.callSuper(a,b);new e.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(a){this.edgeSize=a},setEdgeColor:function(a){this.edgeColor=a},setShadowSize:function(a){this.shadowSize=a},setShadowColor:function(a){this.shadowColor=a},setInsetH:function(a){this.insetH=a},setInsetV:function(a){this.insetV=a},setTipBgColor:function(a){this.tipBgColor=
a},setTipTextColor:function(a){this.tipTextColor=a},showTip:function(){const a=this.tooltip;var b=a.text;const d=a.parent;var e=this._tipText;const f=this.edgeSize,g=this.shadowSize;e.text!==b&&e.setText(b);e.setWidth("auto");var h=Math.min(e.measureNoWrapWidth(),a.maxTextWidth);b=h+2*e.x;const k=b+2*f;e.setWidth(h);e.sizeViewToDom();h=d.getPagePosition();e=e.height+2*e.y;const m=e+2*f,p=h.y-m+("below"===a.tipvalign?d.height+m:0);h=h.x;switch(a.tipalign){case "right":h-=k;case "farright":h+=d.width;
break;case "farleft":h-=k}this.setX(Math.round(Math.min(Math.max(h,0),c.getWidth()-k)));this.setY(Math.round(Math.min(Math.max(p,0),c.getHeight()-m)));this.setWidth(b);this.setHeight(e);this.setBgColor(this.tipBgColor);this.setBorder([f,"solid",this.edgeColor]);this.setBoxShadow([g,g,g,this.shadowColor]);this.callSuper()}}),p=e.TooltipMixin=new JS.Module("TooltipMixin",{extend:{DEFAULT_TIP_CLASS:m,DEFAULT_MAX_TEXT_WIDTH:280},setTooltip:function(a){this.callSuper("");this.set("tooltip",a,!0)},setTipAlign:function(a){this.set("tipAlign",
a,!0)},setTipValign:function(a){this.set("tipValign",a,!0)},setMaxTextWidth:function(a){this.set("maxTextWidth",a,!0)},setTipClass:function(a){this.set("tipClass",a,!0)},doSmoothMouseOver:function(a){const b=this.tooltip;this.callSuper(a);if(a&&b){a=this.tipClass||p.DEFAULT_TIP_CLASS;!h||h instanceof a||(h.destroy(),h=null);if(!h){let b=document.getElementById("tooltipDiv");b||(b=e.DomElementProxy.createDomElement("div",{position:"absolute"}),e.getElement().appendChild(b));h=new a(b,{domId:"tooltipDiv"})}h.setTooltip({parent:this,
text:b,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||p.DEFAULT_MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(e){this.setVectors(e||[])},setVectors:function(e){this._boundingBox=null;this.vectors=e},copyFrom:function(e){this.vectors=e.vectors.slice();this._boundingBox=null},drawInto:function(e){e.beginPath();const h=this.vectors;let k=h.length,g=0;for(e.moveTo(h[g++],h[g++]);k>g;)e.lineTo(h[g++],h[g++]);e.closePath()},translate:function(e,h){const k=this.vectors;let g=k.length;for(;g;)k[--g]+=h,k[--g]+=e;this._boundingBox=null},rotate:function(e){const h=
Math.cos(e);e=Math.sin(e);const k=this.vectors,g=k.length;for(let d=0;g>d;){const c=k[d]*h-k[d+1]*e,f=k[d]*e+k[d+1]*h;k[d++]=c;k[d++]=f}this._boundingBox=null},rotateAroundOrigin:function(e,h,k){this.translate(-h,-k);this.rotate(e);this.translate(h,k)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const e=this.vectors;let h=e.length,k,g,d,c;if(2<=h){d=c=e[--h];for(k=g=e[--h];h;){const f=e[--h],b=e[--h];d=Math.min(f,d);c=Math.max(f,c);k=Math.min(b,k);g=Math.max(b,g)}return this._boundingBox=
{x:k,y:d,width:g-k,height:c-d}}return this._boundingBox=null},getCenter:function(){const e=this.getBoundingBox();return e?{x:e.x+e.width/2,y:e.y+e.height/2}:null},isPointInPath:function(e,h){"object"===typeof e&&(h=e.y,e=e.x);return myt.Geometry.isPointInPath(e,h,this.getBoundingBox(),this.vectors)}});
(e=>{const h=Math.PI,k=h/2,g=3*h/2,d=e.AccessorSupport,c={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(d=>{c[d]=function(){this.__ctx[d].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(d=>
{c[d]=function(){return this.__ctx[d].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(e=>{c[d.generateSetterName(e)]=function(b){this.__ctx[e]=b};c[d.generateGetterName(e)]=function(){return this.__ctx[e]}});e.Canvas=new JS.Class("Canvas",e.View,{include:[c],createOurDomElement:function(c){c=this.callSuper(c);const b=Array.isArray(c)?
c[1]:c,a=this.__canvas=document.createElement("canvas");a.className="mytUnselectable";b.appendChild(a);a.style.position="absolute";this.__ctx=a.getContext("2d");return c},setWidth:function(c,b){0>c&&(c=0);this.__canvas.setAttribute("width",c);this.callSuper(c,b)},setHeight:function(c,b){0>c&&(c=0);this.__canvas.setAttribute("height",c);this.callSuper(c,b)},sendSubviewToBack:function(c){if(c.parent===this){const b=this.getInnerDomElement(),a=b.childNodes[1];c=c.getInnerDomElement();c!==a&&(c=b.removeChild(c))&&
b.insertBefore(c,a)}},clear:function(){const c=this.__ctx;c.save();c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,this.width,this.height);c.restore()},dataURItoBlob:function(c,b){c=atob(c.split(",")[1]);const a=c.length,d=[];for(let b=0;b<a;)d.push(c.charCodeAt(b++));return new Blob([new Uint8Array(d)],{type:b})},getDataURL:function(c,b){return this.__canvas.toDataURL(c,b)},getImageFile:function(c,b,a){switch(c){case "png":case "PNG":c="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":c="jpeg";
null==a&&(a=.5);break;default:console.warn("Unexpected image type: ",c),c=c.toLowerCase()}const d="image/"+c;a=this.dataURItoBlob(this.getDataURL(d,a),d);b&&(a.name=b+"."+c);return a},circle:function(c,b,a){this.__ctx.arc(c,b,a,0,2*h)},drawRoundedRect:function(c,b,a,d,e,l){l=d+l;e=a+e;this.beginPath();this.moveTo(a,d+c);this.lineTo(a,l-c);this.arc(a+c,l-c,c,h,k,!0);this.lineTo(e-c,l);this.arc(e-c,l-c,c,k,0,!0);this.lineTo(e,d+c);this.arc(e-c,d+c,c,0,g,!0);this.lineTo(a+c,d);this.arc(a+c,d+c,c,g,h,
!0);this.closePath();0<b&&(c-=b,a+=b,e-=b,d+=b,l-=b,this.moveTo(a,d+c),this.arc(a+c,d+c,c,h,g),this.lineTo(e-c,d),this.arc(e-c,d+c,c,g,0),this.lineTo(e,l-c),this.arc(e-c,l-c,c,0,k),this.lineTo(a+c,l),this.arc(a+c,l-c,c,k,h),this.closePath())},drawRectOutline:function(c,b,a,d,e){e=a+e;d=b+d;const f=b+c,g=d-c,h=a+c;c=e-c;this.beginPath();this.moveTo(b,a);this.lineTo(b,e);this.lineTo(d,e);this.lineTo(d,a);this.lineTo(b,a);this.lineTo(f,h);this.lineTo(g,h);this.lineTo(g,c);this.lineTo(f,c);this.lineTo(f,
h);this.closePath()},drawPartiallyRoundedRect:function(c,b,a,d,e,g,h,k){k=g+k;h=e+h;this.beginPath();this.moveTo(e,g+c);this.lineTo(e,k-a);0<a&&this.quadraticCurveTo(e,k,e+a,k);this.lineTo(h-d,k);0<d&&this.quadraticCurveTo(h,k,h,k-d);this.lineTo(h,g+b);0<b&&this.quadraticCurveTo(h,g,h-b,g);this.lineTo(e+c,g);0<c&&this.quadraticCurveTo(e,g,e,g+c);this.closePath()},drawGradientArc:function(c,b,a,d,g,k,n,q){null==q&&(q=60);q=h/q;let f=h/360;var l=n.length;let m=0;for(var p,w;l>m+1;m++)p=n[m+1].angle-
n[m].angle,p=Math.round(p/q),w=n[m].color.getDiffFrom(n[m+1].color),n[m].colorDelta={red:w.red/p,green:w.green/p,blue:w.blue/p};a=new e.Path([c+a,b,c+d,b]);let r,z;a.rotateAroundOrigin(g,c,b);d=a.vectors;l=d[0];p=d[1];w=d[2];let x=d[3],C=0;for(m=0;k>g;){r=l;z=p;var B=w;var J=x;g+=q;g>k&&(q+=k-g,f=0,g=k);a.rotateAroundOrigin(q+f,c,b);l=d[0];p=d[1];w=d[2];x=d[3];this.beginPath();this.moveTo(r,z);this.lineTo(B,J);this.lineTo(w,x);this.lineTo(l,p);this.closePath();B=n[m].color;J=n[m].colorDelta;this.fillStyle=
e.Color.makeColorNumberFromChannels(B.red+C*J.red,B.green+C*J.green,B.blue+C*J.blue);this.fill();0<f&&(a.rotateAroundOrigin(-f,c,b),l=d[0],p=d[1],w=d[2],x=d[3]);C++;g>=n[m+1].angle&&(C=0,m++)}}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

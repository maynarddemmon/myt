(n=>{let u;var v=d=>{let b,e=d.length;for(;e;)if(b=d[--e],u=b.ver||b.id,b.str&&0<=b.str.indexOf(b.sub)||b.prop)return b.id};var r=d=>{const b=d.indexOf(u);if(0<=b)return parseFloat(d.substring(b+u.length+1))};const f=navigator.userAgent,a=navigator.platform;r=n.BrowserDetect={browser:v([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:f,sub:"Firefox",id:"Firefox"},{str:f,sub:"Chrome",id:"Chrome"},{str:f,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:r(f)||r(navigator.appVersion)||"UNKNOWN",os:v([{str:f,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(r.browser){case "Chrome":case "Safari":n="WebKit";break;case "Explorer":n="MS";break;case "Firefox":n="Moz";break;case "Opera":n="O";break;default:n="UNKNOWN"}v=n.toLowerCase();r.prefix={dom:n,lowercase:v,css:"-"+v+"-",js:v[0].toUpperCase()+v.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const n=Math,u=n.abs,v=n.floor,r=n.ceil,f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),d="Sun Mon Tue Wed Thu Fri Sat".split(" "),b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e=g=>(10>g?"0":"")+g,c=(g,t)=>{g=g.getTimezoneOffset();return(0<g?"-":"+")+e(v(u(g/60)))+(t?":":"")+(0==u(g%60)?"00":e(u(g%60)))},l=
{d:g=>e(g.getDate()),D:g=>d[g.getDay()],j:g=>g.getDate(),l:g=>b[g.getDay()],N:g=>0==g.getDay()?7:g.getDay(),S:g=>{g=g.getDate();return 1==g%10&&11!=g?"st":2==g%10&&12!=g?"nd":3==g%10&&13!=g?"rd":"th"},w:g=>g.getDay(),z:g=>{const t=new Date(g.getFullYear(),0,1);return r((g-t)/864E5)},W:g=>{const t=new Date(g.valueOf());g=(g.getDay()+6)%7;t.setDate(t.getDate()-g+3);g=t.valueOf();t.setMonth(0,1);4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7);return e(1+r((g-t)/6048E5))},F:g=>a[g.getMonth()],m:g=>
e(g.getMonth()+1),M:g=>f[g.getMonth()],n:g=>g.getMonth()+1,t:g=>{let t=g.getFullYear();g=g.getMonth()+1;12===g&&(t=t++,g=0);return(new Date(t,g,0)).getDate()},L:g=>{g=g.getFullYear();return 0==g%400||0!=g%100&&0==g%4},o:g=>{const t=new Date(g.valueOf());t.setDate(t.getDate()-(g.getDay()+6)%7+3);return t.getFullYear()},Y:g=>g.getFullYear(),y:g=>(""+g.getFullYear()).substr(2),a:g=>12>g.getHours()?"am":"pm",A:g=>12>g.getHours()?"AM":"PM",B:g=>v(1E3*((g.getUTCHours()+1)%24+g.getUTCMinutes()/60+g.getUTCSeconds()/
3600)/24),g:g=>g.getHours()%12||12,G:g=>g.getHours(),h:g=>e(g.getHours()%12||12),H:g=>e(g.getHours()),i:g=>e(g.getMinutes()),s:g=>e(g.getSeconds()),e:g=>/\((.*)\)/.exec((new Date).toString())[1],I:g=>{let t=null,h=0;for(;12>h;){const m=(new Date(g.getFullYear(),h++,1)).getTimezoneOffset();if(null===t)t=m;else if(m<t){t=m;break}else if(m>t)break}return g.getTimezoneOffset()==t|0},O:g=>c(g,!1),P:g=>c(g,!0),T:g=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:g=>60*-g.getTimezoneOffset(),c:g=>g.format("Y-m-d\\TH:i:sP"),
r:g=>g.toString(),U:g=>g.getTime()/1E3};return function(g){return g.replace(/(\\?)(.)/g,(t,h,m)=>""===h&&l[m]?l[m](this):m)}})();
(n=>{const u=(q,p)=>{if(q&&p)for(const w in p)q[w]===p[w]||q.hasOwnProperty(w)||(q[w]=p[w]);return q},v=q=>{const p=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},w=function(){};w.prototype=(q||Object).prototype;p.prototype=new w;return p},r=(q,p)=>{const w=!p;if(w&&q.__anc__)return q.__anc__.slice();p=p||[];const A=q.__inc__,y=A.length;for(let B=0;B<y;)r(A[B++],p);p.includes(q)||p.push(q);w&&(q.__anc__=p.slice());return p},f=(q,p)=>{var w=q.__mct__[p];if(w)return w.slice();
w=r(q);const A=w.length,y=[];for(let B=0;B<A;){const C=w[B++].__fns__;C.hasOwnProperty(p)&&y.push(C[p])}q.__mct__[p]=y.slice();return y},a=(q,p)=>{const w=q.callable;return q.__hs?function(){const A=this.callSuper,y=this.hasOwnProperty("callSuper"),B=f(p,q.name);let C=B.length-1;if(0===C)delete this.callSuper;else{const k=Array.from(arguments),x=this.callSuper=(...z)=>{let G=z.length;for(;G;)k[--G]=z[G];0===--C&&delete this.callSuper;z=B[C].apply(this,k);this.callSuper=x;C++;return z}}const D=w.apply(this,
arguments);y?this.callSuper=A:delete this.callSuper;return D}:w},d=(q,p)=>{p=p||q;if(p===q){q.__anc__=null;q.__mct__={};for(var w=q.__dep__.length;w;)d(q.__dep__[--w])}if(w=p.__tgt__){var A=q.__inc__;q=q.__fns__;const y=A.length;for(let B=0;B<y;)d(A[B++],p);for(const B in q)A=q[B],A=A instanceof c?a(A,p):A,w[B]!==A&&(w[B]=A)}},b=q=>q.__meta__?q.__meta__:(q.__meta__=new g("",null,{_target:q})).include(q.klass,{_rslv:!1}),e=q=>"function"!==typeof q||q.__fns__&&q.__inc__,c=n.Method=v(),l=(q,p,w)=>w&&
w.__inc__&&w.__fns__||"function"!==typeof w?w:new c(q,p,w),g=n.Module=v();u(c.prototype,{initialize:function(q,p,w){this.module=q;this.name=p;this.callable=w;this.__hs="function"===typeof w&&-1!==w.toString().indexOf("callSuper")},call:function(...q){return this.callable(...q)},apply:function(q,p){return this.callable.apply(q,p)}});u(g.prototype,{initialize:function(q,p,w){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(w||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
q;this.include(p,{_rslv:!1})},define:function(q,p,w){this.__fns__[q]=l(this,q,p);!1!==(w||{})._rslv&&d(this)},include:function(q,p){if(q){if(q.__fns__&&q.__inc__)this.__inc__.push(q),q.__dep__.push(this);else{var w=q.extend,A=q.include;const y={_rslv:!1};if(e(w)){w=[].concat(w);for(let B=0,C=w.length;B<C;)this.extend(w[B++])}if(e(A)){A=[].concat(A);for(let B=0,C=A.length;B<C;)this.include(A[B++],y)}for(const B in q)q.hasOwnProperty(B)&&(A=q[B],("extend"!==B&&"include"!==B||!e(A))&&this.define(B,A,
y))}!1!==(p||{})._rslv&&d(this)}return this},includes:function(q){if(q===this)return!0;const p=this.__inc__,w=p.length;for(let A=0;A<w;)if(p[A++].includes(q))return!0;return!1},instanceMethod:function(q){return f(this,q).pop()}});const t=new g("Kernel",{equals:function(q){return this===q},extend:function(q,p){q&&b(this).include(q,{_rslv:(p||{})._rslv});return this},isA:function(q){return"function"===typeof q&&this instanceof q||b(this).includes(q)}}),h=n.Class=v(g);u(h.prototype,{initialize:function(q,
p,w,A){"function"!==typeof p&&(A=w,w=p,p=Object);g.prototype.initialize.call(this,q);q=(A||{})._rslv;A={_rslv:!1};const y=v(p);u(y,this);y.prototype.constructor=y.prototype.klass=y;b(y).include(p.__meta__,{_rslv:q});y.__tgt__=y.prototype;p=p===Object?{}:p.__fns__?p:new g(p.prototype,A);y.include(t,A).include(p,A).include(w,A);!1!==q&&d(y);return y}});const m=(q,p)=>{q.__inc__=[];q.__dep__=[];const w=q.__tgt__=q.prototype,A=q.__fns__={};for(const y in w)w.hasOwnProperty(y)&&(A[y]=l(q,y,w[y]));w.constructor=
w.klass=q;u(q,h.prototype);q.include(p);q.constructor=q.klass=h};m(c,t);m(g,t);m(h,g);d(b(c));d(b(g));b(h).include(g.__meta__);n.Singleton=new h("Singleton",{initialize:(q,p,w)=>new (new h(q,p,w))})})(global.JS||(global.JS={}));
(n=>{class u extends Error{constructor(y,B,...C){super(...C);this.name="FetchError";this.status=y;this.url=B}}let v=0,r;const f=Math,a=f.abs,d=f.min,b=f.max,e=f.pow,c=document,l=c.head,g=c.createElement.bind(c),t={},h={"":!0},m=c.fonts,q=y=>{const B=y.family.split('"').join("");[B,B+" "+y.weight].forEach(C=>{if(!h[C]){h[C]=!0;const D=t[C]||[];for(;D.length;)(C=D.pop())&&!C.destroyed&&C.sizeViewToDom()}})},p={},w=y=>function(){const B=JSON.stringify(arguments),C=y.__cache||(y.__cache={});return B in
C?C[B]:C[B]=y.apply(this,arguments)},A=n.myt={version:2.02201181318E7,generateGuid:()=>++v,addEventListener:(y,B,C,D,k)=>{y.addEventListener(B,C,{capture:D||!1,passive:k||!1})},removeEventListener:(y,B,C,D)=>{y.removeEventListener(B,C,D||!1)},resolveName:(y,B)=>{if(y&&0!==y.length){B=B||global;var C=Array.isArray(y)?y:y.split("."),D=C.length;for(let k=0;k<D;k++)if(B=B[C[k]],void 0===B){console.warn("resolveName failed for",y,"at part",k,C[k]);return}return B}},resolveClassname:y=>{"string"===typeof y&&
(y=A.resolveName(y));return y&&"function"===typeof y.isA&&y.isA(JS.Class)?y:null},getExtension:y=>y?y.split(".")[1]:null,loadScript:function(y,B,C){const D=this._loadedScripts||(this._loadedScripts={});if(D[y])return console.warn("script already loaded for src",y),null;D[y]=!0;const k=g("script");k.type="text/javascript";k.async=!1;if(B){let x=!1;k.onload=k.onreadystatechange=()=>{x||k.readyState&&"complete"!==k.readyState||(x=!0,k.onload=k.onreadystatechange=null,B())}}k.src=y+(C?"":(0<=y.indexOf("?")?
"&":"?")+"cacheBust="+Date.now());l.appendChild(k);return k},dumpStack:(y,B)=>{let C;"string"===typeof y&&(C=y,y=null);A.global.error.notify(B||"error",null,C,y)},getRandom:y=>{const B=f.random();return y?b(0,d(y(B),.9999999999)):B},getRandomArbitrary:(y,B,C)=>{const D=d(y,B);return A.getRandom(C)*(b(y,B)-D)+D},getRandomInt:(y,B,C)=>{const D=d(y,B);return f.floor(A.getRandom(C)*(b(y,B)-D+1)+D)},areFloatsEqual:(y,B,C)=>{const D=a(y),k=a(B);return a(y-B)<=(D>k?k:D)*(null==C?1E-6:a(C))},areArraysEqual:(y,
B)=>{if(y!==B){if(null==y||null==B)return!1;let C=y.length;if(C!==B.length)return!1;for(;C;)if(y[--C]!==B[C])return!1}return!0},areObjectsEqual:(y,B)=>{if(y!==B){if(null==y||null==B)return!1;for(const C in y)if(y[C]!==B[C])return!1;for(const C in B)if(y[C]!==B[C])return!1}return!0},getElement:(y,B)=>c.getElementsByTagName(y||"body")[0<B?B:0],loadFontFaces:(y,B)=>{const C=[];y.forEach(D=>{D=new FontFace(D.family,"url("+D.url+")",D.options);C.push(D.load())});Promise.all(C).then(D=>{D.forEach(k=>{m.add(k);
q(k)});B&&B(D)})},loadFontFace:(y,B,C={},D)=>{y=new FontFace(y,"url("+B+")",C);y.loaded.then(k=>{m.add(k);q(k);D&&D(k)});y.load()},registerForFontNotification:(y,B)=>{h[B]?y&&!y.destroyed&&y.sizeViewToDom():(t[B]||(t[B]=[])).push(y)},createBaseFontCSSRule:y=>{A.addCSSRule(A.createStylesheet(),"body, input","font-family:"+y,0)},loadCSSFonts:y=>{(y||[]).forEach(B=>{const C=g("link");C.rel="stylesheet";C.href=B;l.appendChild(C)})},createStylesheet:()=>{const y=g("style");l.appendChild(y);return y.sheet},
addCSSRule:(y,B,C,D)=>{"insertRule"in y?y.insertRule(B+"{"+C+"}",D):"addRule"in y&&y.addRule(B,C,D)},removeCSSRules:y=>{let B=y.cssRules.length;for(;B;)B--,"deleteRule"in y?y.deleteRule(B):"removeRule"in y&&y.removeRule(B)},createInputPlaceholderCSSRule:(y,B,C,D=1)=>{var k=y.getODE();k=k.id||(k.id="id"+A.generateGuid());let x=y.__sheet;x?A.removeCSSRules(x):x=y.__sheet=A.createStylesheet();y=[];B&&y.push("color:"+B);C&&y.push("font-family:"+C);D&&y.push("opacity:"+D);A.addCSSRule(x,"#"+k+"::placeholder",
y.join("; "),0)},chainSortFunc:(y,B)=>(C,D)=>{const k=y(C,D);return 0===k?B(C,D):k},getAlphaObjSortFunc:w((y,B,C,D)=>{const k=B?1:-1;return(x,z)=>{x=x[y];z=z[y];D?("string"!==typeof x&&(x=""+x),"string"!==typeof z&&(z=""+z)):(x=x||"",z=z||"");C&&(x=x.toLowerCase(),z=z.toLowerCase());return x.localeCompare(z)*k}}),getNumericObjSortFunc:w((y,B)=>{const C=B?1:-1;return(D,k)=>{D=D[y]||0;k=k[y]||0;return(D-k)*C}}),formatAsPercentage:(y,B=2)=>{if("number"===typeof y)return B=b(16,d(0,B)),y=f.round(b(0,
d(1,y))*e(10,2+B))/e(10,B),(0===y%1?y:y.toFixed(B))+"%";"string"!==typeof y&&console.warn("formatAsPercentage: expects a number");return y},memoize:w,debounce:function(y,B,C){return function(){const D=this,k=D.__DBTO,x=arguments,z=C&&!k;clearTimeout(k);D.__DBTO=setTimeout(function(){D.__DBTO=null;C||y.apply(D,x)},B);z&&y.apply(D,x)}},createFixedThresholdCounter:(y,B,C,D)=>{var k=A.AccessorSupport.generateName;const x="function"===typeof y||y instanceof JS.Module,z={};D=D||k("counter",C);const G=k(D,
"increment");k=k(D,"decrement");if(void 0!==(x?y.instanceMethod(G):y[G]))return console.warn("Increment: Abort clobber",G,y),!1;if(void 0!==(x?y.instanceMethod(k):y[k]))return console.warn("Decrement: Abort clobber",k,y),!1;z[G]=function(){const I=this[D]+1;this[D]=I;this.fireEvent(D,I);I===B&&this.set(C,!0)};z[k]=function(){const I=this[D];if(0!==I){var J=I-1;this[D]=J;this.fireEvent(D,J);I===B&&this.set(C,!1)}};y[x?"include":"extend"](z);return!0},makeURLSearchParams:(y={})=>{const B=new URLSearchParams;
for(const C in y){const D=y[C];void 0!==D&&B.set(C,D)}return B},doFetch:(y,B,C,D,k,x)=>fetch(y,B).then(z=>{if(!z.ok)throw new u(z.status,y,z.statusText);return z}).then(z=>C?z.text():z.json()).then(z=>{if(D)try{if(C)D(z);else{if(!1===z.success)throw new u(200,y,z.message);D(z.data)}}catch(G){throw z=new u(200,y,G.message),z.stack=G.stack,z;}}).catch(z=>{if(k){if("FetchError"!==z.name){const G=new u(0,y,z.message);G.stack=z.stack;z=G}k(z)}}).finally(()=>{x&&x()}),I18N:{setLocale:y=>{r=y},getLocale:()=>
r,addDictionary:(y,B)=>{p[B]=Object.assign(p[B]||{},y)},get:function(y){const B=arguments;var C=r||=(navigator.language||"en").split("-")[0].toLowerCase();C=(p[C]||p.en||{})[y];if(null!=C){if(1<B.length){for(var D of C.matchAll(/\{\{plural:\$(.*?)\|(.*?)\|(.*?)\}\}/g))C=C.replace(D[0],D[1==B[parseInt(D[1])]?2:3]);for(D=1;D<B.length;D++)C=C.replaceAll("$"+D,B[D])}return C}return y}}};m.onloadingdone=y=>{y.fontfaces.forEach(B=>{q(B)})}})(global);
(n=>{const u=Object.assign,v=(f,a)=>{0===f.indexOf('"')&&(f=f.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a?JSON.parse(f):f}catch(d){}},r=n.Cookie={defaults:{raw:!1,json:!1},read:(f,a)=>{a=u({},r.defaults,a);const d=a.raw?g=>g:g=>decodeURIComponent(g.split("+").join(" "));a=a.json;const b=document.cookie.split("; "),e=b.length,c=f?void 0:{};for(let g=0;g<e;){var l=b[g++].split("=");const t=d(l.shift());l=d(l.join("="));if(f){if(f===t)return v(l,a)}else c[t]=v(l,a)}return c},
write:(f,a,d)=>{d=u({},r.defaults,d);if("number"===typeof d.expires){const b=d.expires,e=d.expires=new Date;e.setDate(e.getDate()+b)}a=d.json?JSON.stringify(a):String(a);return document.cookie=[d.raw?f:encodeURIComponent(f),"=",d.raw?a:encodeURIComponent(a),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.samesite?"; samesite="+d.samesite:"",d.secure?"; secure":""].join("")},remove:(f,a)=>void 0!==r.read(f,a)?(r.write(f,"",u({},a,{expires:-1})),
!0):!1}})(myt);
(n=>{const u=global.localStorage,v=(f,a,d)=>{if(0<a){const b="__timerId_"+d;(d=r[b])&&clearTimeout(d);r[b]=setTimeout(()=>{f();delete r[b]},a)}else f()},r=n.LocalStorage={hasDatum:(f,a)=>{if(f&&(a=r.getItem(a||"myt")))try{return null!=JSON.parse(a)[f]}catch(d){console.error(d)}return!1},getDatum:(f,a)=>{if(f&&(a=r.getItem(a||"myt")))try{const d=JSON.parse(a);if("object"===typeof d)return d[f]}catch(d){console.error(d)}},setDatum:(f,a,d,b)=>{d=d||"myt";v(()=>{const e=r.getData(d);e[f]=a;r.setItem(d,
JSON.stringify(e))},b,d+"___"+f)},removeDatum:(f,a,d)=>{a=a||"myt";v(()=>{const b=r.getData(a);delete b[f];r.setItem(a,JSON.stringify(b))},d,a+"___"+f)},hasData:f=>null!=r.getItem(f||"myt"),getData:f=>{if(f=r.getItem(f||"myt"))try{return JSON.parse(f)}catch(a){console.error(a)}return{}},setData:(f,a,d)=>{a=a||"myt";null==f&&(f={});return"object"===typeof f?(v(()=>{r.setItem(a,JSON.stringify(f))},d,a),!0):!1},removeData:(f,a)=>{f=f||"myt";v(()=>{r.removeItem(f)},a,f)},getLength:()=>u.length,getKey:f=>
u.key(f),getItem:f=>u.getItem(f),setItem:(f,a)=>{u.setItem(f,a)},removeItem:f=>{u.removeItem(f)},clear:()=>{u.clear()},get:f=>r.getItem(f),set:(f,a)=>{r.setItem(f,a)},remove:f=>{r.removeItem(f)},clearAll:()=>{r.clear()}}})(myt);
(n=>{const u=/(?:^|&)([^&=]*)=?([^&]*)/g,v=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;n.URI=new JS.Class("URI",{initialize:function(f,a){f&&this.parse(f,a)},setSource:function(f){this.source=f},setProtocol:function(f){this.protocol=
f},setAuthority:function(f){this.authority=f},setUserInfo:function(f){this.userInfo=f},setUser:function(f){this.user=f},setPassword:function(f){this.password=f},setHost:function(f){this.host=f},setPort:function(f){this.port=f},setRelative:function(f){this.relative=f},setPath:function(f){this.path=f},setDirectory:function(f){this.directory=f},setFile:function(f){this.file=f},setQuery:function(f){this.query=f},setAnchor:function(f){this.anchor=f},parse:function(f,a){const d=this;f=(a?r:v).exec(f);d.setSource(f[0]||
"");d.setProtocol(f[1]||"");d.setAuthority(f[2]||"");d.setUserInfo(f[3]||"");d.setUser(f[4]||"");d.setPassword(f[5]||"");d.setHost(f[6]||"");d.setPort(f[7]||"");d.setRelative(f[8]||"");d.setPath(f[9]||"");d.setDirectory(f[10]||"");d.setFile(f[11]||"");d.setQuery(f[12]||"");d.setAnchor(f[13]||"");d.queryPairs={};d.query.replace(u,(b,e,c)=>{e&&(d.queryPairs[e]=c)})},decodeQueryParam:f=>decodeURIComponent(f).split("+").join(" "),getQuery:function(){var f=this.queryPairs;const a=[];for(const d in f)a.push(d+
"="+encodeURIComponent(this.getQueryParam(d)));f=a.join("&");return 0<f.length?"?"+f:f},getQueryParam:function(f){f=this.queryPairs[f];return null==f?void 0:this.decodeQueryParam(f)},getPathParts:function(f){const a=this.path.split("/");if(!f)for(f=a.length;f;)0===a[--f].length&&a.splice(f,1);return a},toString:function(f){const a=this.protocol,d=this.host,b=this.userInfo,e=this.port,c=this.path;f=f?this.query?"?"+this.query:"":this.getQuery();const l=this.anchor;let g="";a&&(g+=a+"://");b&&d&&(g+=
b+"@");d&&(g+=d,e&&(g+=":"+e));c?g+=c:d&&(f||l)&&(g+="/");f&&(g+=f);l&&(g+="#"+l);return g}})})(myt);
(n=>{const u=Math,v=u.PI,r=u.cos,f=u.sin,a=u.sqrt,d=n.Geometry={getClosestPointOnALineToAPoint:(b,e,c,l,g,t,h)=>{c-=b;l-=e;g=(c*(g-b)+l*(t-e))/(c*c+l*l);h&&(g=u.min(1,u.max(0,g)));return{x:b+c*g,y:e+l*g}},isPointInPath:(b,e,c,l)=>{"object"===typeof b&&(l=c,c=e,e=b.y,b=b.x);if(d.rectContainsPoint(b,e,c)&&(c=l.length,6<=c)){let g=!1,t=l[0],h=l[1],m,q;for(;c;)q=l[--c],m=l[--c],q>e!==h>e&&b<(t-m)*(e-q)/(h-q)+m&&(g=!g),t=m,h=q;return g}return!1},rectContainsPoint:(b,e,c,l,g,t)=>{"object"===typeof b&&(t=
g,g=l,l=c,c=e,e=b.y,b=b.x);"object"===typeof c&&(t=c.height,g=c.width,l=c.y,c=c.x);return b>=c&&e>=l&&b<=c+g&&e<=l+t},circleContainsPoint:(b,e,c,l,g)=>d.measureDistance(b,e,c,l,!0)<=g*g,measureDistance:(b,e,c,l,g)=>{b=c-b;e=l-e;e=b*b+e*e;return g?e:a(e)},degreesToRadians:b=>b*v/180,radiansToDegrees:b=>180*b/v,circleContainsLatLng:(b,e,c,l,g,t)=>d.measureLatLngDistance(b,e,c,l,t)<=g,measureLatLngDistance:(b,e,c,l,g)=>{void 0===g&&(g=6371);b=d.degreesToRadians(b);e=d.degreesToRadians(e);c=d.degreesToRadians(c);
l=d.degreesToRadians(l);return g*u.acos(f(b)*f(c)+r(b)*r(c)*r(l-e))},polarToCartesian:(b,e,c,l)=>{null==c&&(c=0);null==l&&(l=0);e%=360;if(0===e)e=b,b=0;else if(90===e)e=0;else if(180===e)e=-b,b=0;else if(270===e)e=0,b=-b;else{const g=d.degreesToRadians(e);e=b*r(g);b*=f(g)}return[c+e,l+b]},cartesianToPolar:(b,e,c,l,g)=>{null==c&&(c=0);null==l&&(l=0);b-=c;l=e-l;e=a(b*b+l*l);l=u.atan2(l,b);0>l&&(l+=2*v);return[e,g?l:d.radiansToDegrees(l)]}}})(myt);
(n=>{const u=JS.Module;n.Observable=new u("Observable",{attachObserver:function(v,r,f){return v&&r&&f?(this.getObservers(f).push(r,v),!0):!1},detachObserver:function(v,r,f){if(v&&r&&f){var a=this.__obsbt;if(a&&(f=a[f])){a=!1;let d=f.length;for(;d;)--d,v===f[d--]&&r===f[d]&&(f.splice(d,2),a=!0);return a}}return!1},detachAllObservers:function(){const v=this.__obsbt;if(v)for(const r in v){const f=v[r];let a=f.length;for(;a;){const d=f[--a],b=f[--a];d&&b&&("function"===typeof d.detachFrom&&d.detachFrom(this,
b,r)||f.splice(a,2))}}},getObservers:function(v){const r=this.__obsbt||(this.__obsbt={});return r[v]||(r[v]=[])},hasObservers:function(v){const r=this.__obsbt;return r?(v=r[v])&&0<v.length:!1},createEvent:function(v,r){return{source:this,type:v,value:r}},isFiringEvent:function(v){return(this.__aet||(this.__aet={}))[v]},fireEvent:function(v,r,f){if(f=f||(this.hasObservers(v)?this.__obsbt[v]:null)){r={source:this,type:v,value:r};const a=this.__aet||(this.__aet={});if(!0===a[v])n.global.error.notifyWarn("eventLoop",
"Abort refiring event:"+v);else{a[v]=!0;let d=f.length;for(;d;){const b=f[--d],e=f[--d];if(b&&e)try{if("function"===typeof e){if(e.call(b,r))break}else if(b[e](r))break}catch(c){n.dumpStack(c)}}a[v]=!1}}}});n.Observer=new u("Observer",{valueFromEvent:v=>v&&"object"===typeof v&&v.type?v.value:v,syncTo:function(v,r,f,a,d){void 0===a&&(a=f);try{this[r](v.createEvent(f,v.get(a)))}catch(b){n.dumpStack(b)}d||this.attachTo(v,r,f,d)},isAttachedTo:function(v,r,f){if(v&&r&&f){var a=this.__obt;if(a&&(f=a[f]))for(a=
f.length;a;)if(--a,v===f[a--]&&r===f[a])return!0}return!1},getObservables:function(v){const r=this.__obt||(this.__obt={});return r[v]||(r[v]=[])},hasObservables:function(v){const r=this.__obt;return r?(v=r[v])&&0<v.length:!1},attachTo:function(v,r,f,a){if(v&&r&&f){const d=this.getObservables(f);if(a){const b=this,e=r;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);r="__DO_ONCE_"+this.__methodNameCounter++;this[r]=c=>{b.detachFrom(v,r,f);delete b[r];return b[e](c)}}if(v.attachObserver(this,
r,f))return d.push(r,v),!0}return!1},detachFrom:function(v,r,f){if(v&&r&&f){var a=this.__obt;if(a&&(a=a[f])){let d=!1,b=a.length;for(;b;)--b,v===a[b--]&&r===a[b]&&v.detachObserver(this,r,f)&&(a.splice(b,2),d=!0);return d}}return!1},detachFromAllObservables:function(){const v=this.__obt;if(v)for(const r in v){const f=v[r];let a=f.length;for(;a;)f[--a].detachObserver(this,f[--a],r);f.length=0}},constrain:function(v,r){if(v&&r){const a=r.length;if(0!==a%2)console.log("Observables uneven",this);else{var f=
this.__cbmn||(this.__cbmn={});f=f[v]||(f[v]=[]);if(0<f.length)console.log("Constraint exists for "+v+" on "+this);else{for(let d=0;a!==d;){const b=r[d++],e=r[d++];b&&e&&(this.attachTo(b,v,e),f.push(b,e))}try{this[v]()}catch(d){n.dumpStack(d)}}}}},releaseConstraint:function(v){if(v){var r=this.__cbmn;if(r&&(r=r[v])){let f=r.length;for(;f;){const a=r[--f],d=r[--f];this.detachFrom(d,v,a)}r.length=0}}},releaseAllConstraints:function(){const v=this.__cbmn;if(v)for(const r in v)this.releaseConstraint(r)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(n,u){this.hasOwnProperty(n)&&(console.warn("Global key in use",n),this.unregister(n));this[n]=u;this.fireEvent("register"+n,u)},unregister:function(n){if(this.hasOwnProperty(n)){const u=this[n];delete this[n];this.fireEvent("unregister"+n,u)}else console.warn("Global key not in use",n)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(n){this.consoleLogging=n},setStackTraceLimit:function(n){Error.stackTraceLimit=this.stackTraceLimit=n},notifyError:function(n,u,v){this.notify("error",n,u,v)},notifyWarn:function(n,u,v){this.notify("warn",n,u,v)},notifyMsg:function(n,u,v){this.notify("log",n,u,v)},notifyDebug:function(n,u,v){this.notify("debug",
n,u,v)},notify:function(n,u,v,r){r||=Error(v||u);r=r.stack||r.stacktrace;this.fireEvent(u||"error",{msg:v,stacktrace:r});if(this.consoleLogging&&n)console[n](r)}});
(n=>{const u=global,v=u.getComputedStyle,r=document,f=Math.max,a=n.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(d,b,e)=>{d=r.createElement(d);if(e)for(const c in e)d[c]=e[c];if(b)for(const c in b)d.style[c]=b[c];return d},isDomElementVisible:d=>{if("INPUT"===d.nodeName&&"hidden"===d.type)return!1;for(;d;){if(d===r)return!0;const b=v(d);if("none"===b.display||"hidden"===b.visibility)break;d=d.parentNode}return!1},getZIndexRelativeToAncestor:(d,b)=>{if(d&&b)for(d=a.getAncestorArray(d,
b),b=d.length-1;b;){const e=v(d[--b]),c=e.zIndex,l="auto"===c;if(0===b||!l||1!==parseInt(e.opacity,10))return l?0:parseInt(c,10)}return 0},getAncestorArray:(d,b)=>{const e=[];for(;d;){e.push(d);if(d===b)break;d=d.parentNode}return e},getHighestZIndex:d=>{var b=v(d);let e=b.zIndex;var c="auto"===e;if(c&&1===parseInt(b.opacity,10))for(e=0,d=d.childNodes,b=d.length;b;)c=d[--b],1===c.nodeType&&(e=f(e,a.getHighestZIndex(c)));else e=c?0:parseInt(e,10);return e},getRelativePosition:(d,b)=>{if(d){let e=0,
c=0;for(;d&&"BODY"!==d.nodeName&&d!==b;)if(e+=d.offsetLeft,c+=d.offsetTop,(d=d.offsetParent)&&"BODY"!==d.nodeName){const l=v(d);e+=parseInt(l.borderLeftWidth,10)-d.scrollLeft;c+=parseInt(l.borderTopWidth,10)-d.scrollTop}return{x:e,y:c}}},getTruePosition:d=>{if(d)return d=d.getBoundingClientRect(),{x:d.left+u.scrollX,y:d.top+u.scrollY}},simulateDomEvent:(d,b,e)=>{if(d){const c={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},l={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(e)for(const t in e)c[t]=e[t];let g;for(const t in l)if(l[t].test(b)){g=t;break}if(!g)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(r.createEvent)e=r.createEvent(g),"HTMLEvents"===g?e.initEvent(b,c.bubbles,c.cancelable):e.initMouseEvent(b,c.bubbles,c.cancelable,r.defaultView,c.button,c.pointerX,c.pointerY,c.pointerX,c.pointerY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,null),d.dispatchEvent(e);
else{c.clientX=c.pointerX;c.clientY=c.pointerY;e=r.createEventObject();for(const t in c)e[t]=c[t];d.fireEvent("on"+b,e)}}},getScrollbarSize:n.memoize(()=>{const d=r.body,b=a.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});d.appendChild(b);const e=b.offsetWidth-b.clientWidth;d.removeChild(b);return e})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(d){const b=
Array.isArray(d),e=this.__oE=b?d[0]:d;d=this.__iE=b?d[1]:d;this.__iS=d.style;this.__oS=e.style;d.model=e.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(d){this.__iE.className=this.domClass=d},addDomClass:function(d){const b=this.__iE.className;this.setDomClass((b?b+" ":"")+d)},removeDomClass:function(d){var b=
this.__iE.className;if(b){b=b.split(" ");let e=b.length;for(;e;)b[--e]===d&&b.splice(e,1);this.setDomClass(b.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(d){this.__iE.id=this.domId=d},setZIndex:function(d){this.__oS.zIndex=d},setStyleProperty:function(d,b){this.__iS[d]=b},getPagePosition:function(d){return a["get"+(d?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){a.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return a.getHighestZIndex(this.__iE)},
getHighestChildZIndex:function(d){const b=this.__iE.childNodes;let e=b.length,c=0;for(;e;){const l=b[--e];1===l.nodeType&&l!==d&&(c=f(c,a.getHighestZIndex(l)))}return c},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(d,b){(b?this.__iE:this.__oE).scrollTop=d||0}})})(myt);
(n=>{let u;const v=f=>{for(;f.lastChild;)f=f.lastChild;return f},r=(f,a)=>{u.lastTraversalWasForward=f;let d=document.body,b=d;var e=document.activeElement;let c=b,l;const g=f?"getNextFocus":"getPrevFocus";e&&(c=b=e,(e=b.model)||(e=u.findModelForDomElement(b)),e&&(a=e.getFocusTrap(a))&&(d=a.getIDE()));for(;c;){if(c.model&&c.model[g]&&(l=c.model[g]()))c=l.getIDE();else if(f)if(c.firstChild)c=c.firstChild;else{if(c===d)return b.model;if(c.nextSibling)c=c.nextSibling;else for(;c&&(c=c.parentNode,c!==
d);)if(c.nextSibling){c=c.nextSibling;break}}else c=c===d?v(d):c.previousSibling?v(c.previousSibling):c.parentNode;if(c===b)return b.model;if(1===c.nodeType)if((e=c.model)&&e instanceof n.View){if(e.isFocusable())return e}else if(a=c.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||c.disabled||isNaN(c.tabIndex)||!n.DomElementProxy.isDomElementVisible(c)||(e=u.findModelForDomElement(c),e&&e.searchAncestorsOrSelf(t=>!0===t.maskFocus)))){c.focus();u.focusedDom=
c;break}}};new JS.Singleton("GlobalFocus",{include:[n.Observable],initialize:function(){this.lastTraversalWasForward=!0;n.global.register("focus",u=this)},setFocusedView:f=>{if(u.focusedView!==f){u.prevFocusedView=u.focusedView;if(u.focusedView=f)u.focusedDom=null;u.fireEvent("focused",f)}},notifyFocus:f=>{u.focusedView!==f&&u.setFocusedView(f)},notifyBlur:f=>{u.focusedView===f&&u.setFocusedView(null)},clear:()=>{u.focusedView?u.focusedView.blur():u.focusedDom&&(u.focusedDom.blur(),u.focusedDom=null)},
next:f=>{(f=r(!0,f))&&f.focus()},prev:f=>{(f=r(!1,f))&&f.focus()},findModelForDomElement:f=>{for(;f;){let a=f.model;if(a&&a instanceof n.View)return a;f=f.parentNode}}})})(myt);
(n=>{const u=JS.Module,v=n.global,r=v.focus,f=()=>({source:null,type:null,value:null}),a=n.KeyObservable=new u("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:f(),getKeyFromEvent:t=>t.value.key,getCodeFromEvent:t=>t.value.code,isEnterKeyEvent:t=>t.value.code===v.keys.CODE_ENTER,isEscKeyEvent:t=>t.value.code===v.keys.CODE_ESC,isShiftKeyEvent:t=>v.keys.isShiftCode(t.value.code)},createDomHandler:function(t,h,m){return this.createStandardDomHandler(t,h,m,a)||this.callSuper(t,
h,m)}}),d=n.MouseObservable=new u("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:f(),getMouseFromEvent:t=>({x:t.value.pageX,y:t.value.pageY}),getMouseFromEventRelativeToView:(t,h)=>{h=h.getPagePosition();t=d.getMouseFromEvent(t);t.x-=h.x;t.y-=h.y;return t}},createDomHandler:function(t,h,m){return this.createStandardDomHandler(t,h,m,d,!0)||this.callSuper(t,h,m)}}),b=n.ScrollObservable=new u("ScrollObservable",
{extend:{EVENT_TYPES:{scroll:!0},EVENT:f(),getScrollFromEvent:t=>{t=t.value;t=t.target||t.srcElement;return{x:t.scrollLeft,y:t.scrollTop}}},createDomHandler:function(t,h,m){return this.createStandardDomHandler(t,h,m,b)||this.callSuper(t,h,m)}}),e=n.TouchObservable=new u("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:f()},createDomHandler:function(t,h,m){return this.createStandardDomHandler(t,h,m,e,!1)||this.callSuper(t,h,m)}}),c=n.FocusObservable=
new u("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:f()},initNode:function(t,h){this.focusable=!1;this.focusIndicator=!0;this.callSuper(t,h)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(t){this.focused!==t&&(this.focused=t,this.inited&&(this.fireEvent("focused",t),t?r.notifyFocus(this):r.notifyBlur(this)))},setFocusable:function(t){if(this.focusable!==t){const h=this.focusable;(this.focusable=t)?(this.getIDE().tabIndex=0,this.attachToDom(this,"__doFocus",
"focus"),this.attachToDom(this,"__doBlur","blur")):h&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",t)}},setFocusIndicator:function(t){this.focusIndicator!==t&&(this.focusIndicator=t,this.focused&&(t?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(r.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(t=>!0===t.maskFocus)},focus:function(t){this.isFocusable()&&this.getIDE().focus({preventScroll:t})},blur:function(){this.getIDE().blur()},__doFocus:function(t){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(t){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const t=this.getIDS();t.outlineWidth="thin";t.outlineColor="#8bf";t.outlineStyle="solid";t.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(t,h,m){if(c.EVENT_TYPES[m]){const q=this;return p=>{p||(p=window.event);if(q._ignoreFocus)p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation(),
p.preventDefault();else{var w=c.EVENT;w.source=q;w.type=p.type;w.value=p;t[h](w)||(p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation());w.source=void 0}}}return this.callSuper(t,h,m)}}),l=n.InputObservable=new u("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:f()},createDomHandler:function(t,h,m){return this.createStandardDomHandler(t,h,m,l)||this.callSuper(t,h,m)}}),g=n.DragDropObservable=new u("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,
dragover:!0,drop:!0},EVENT:f()},createDomHandler:function(t,h,m){return this.createStandardDomHandler(t,h,m,g,!0)||this.callSuper(t,h,m)}});n.DomObservable=new u("DomObservable",{attachDomObserver:function(t,h,m,q,p){if(t&&h&&m){q=!!q;const w=this.createDomHandler(t,h,m);if(w){const A=this.__dobsbt||(this.__dobsbt={}),y=A[m];y?y.push(t,h,w,q):A[m]=[t,h,w,q];n.addEventListener(this.getDomElementForDomObservable(m),m,w,q,p);return!0}}return!1},getDomElementForDomObservable:function(t){return this.getIDE()},
createDomHandler:(t,h,m)=>null,createStandardDomHandler:function(t,h,m,q,p){if(q.EVENT_TYPES[m]){const w=this,A=q.EVENT;return y=>{y||(y=window.event);A.source=w;A.type=y.type;A.value=y;t[h](A)||(y.cancelBubble=!0,y.stopPropagation&&y.stopPropagation(),p&&y.preventDefault());A.source=void 0}}},detachDomObserver:function(t,h,m,q){if(t&&h&&m){q=!!q;var p=this.__dobsbt;if(p&&(p=p[m])){const w=this.getDomElementForDomObservable(m);let A=!1,y=p.length;for(;y;)y-=4,t===p[y]&&h===p[y+1]&&q===p[y+3]&&(w&&
n.removeEventListener(w,m,p[y+2],q),p.splice(y,4),A=!0);return A}}return!1},detachAllDomObservers:function(){const t=this.__dobsbt;if(t)for(const h in t){const m=t[h];let q=m.length;for(;q;){const p=m[--q],w=m[--q];q-=2;n.removeEventListener(this.getDomElementForDomObservable(h),h,w,p)}m.length=0}}});n.DomObserver=new u("DomObserver",{attachToDom:function(t,h,m,q,p){if(t&&h&&m){q=!!q;var w=this.__dobt||(this.__dobt={});w=w[m]||(w[m]=[]);t.attachDomObserver(this,h,m,q,p)&&w.push(q,h,t)}},detachFromDom:function(t,
h,m,q){if(t&&h&&m){q=!!q;var p=this.__dobt;if(p&&(p=p[m])){let w=!1,A=p.length;for(;A;)A-=3,t===p[A+2]&&h===p[A+1]&&q===p[A]&&t.detachDomObserver(this,h,m,q)&&(p.splice(A,3),w=!0);return w}}return!1},detachFromAllDomSources:function(){const t=this.__dobt;if(t)for(const h in t){const m=t[h];let q=m.length;for(;q;)m[--q].detachDomObserver(this,m[--q],h,m[--q]);m.length=0}}})})(myt);
(n=>{let u,v={};const r=n.global,f=r.focus,a="Firefox"===BrowserDetect.browser,d=a?"OSLeft":"MetaLeft",b=a?"OSRight":"MetaRight",e=n.KeyObservable.getCodeFromEvent,c=()=>!!v.ShiftLeft||!!v.ShiftRight,l=()=>!!v.ControlLeft||!!v.ControlRight,g=()=>!!v.AltLeft||!!v.AltRight,t=()=>!!v[d]||!!v[b],h=(q,p)=>{switch(q){case "Backspace":return q=p.nodeName,!("TEXTAREA"===q||"INPUT"===q&&("text"===p.type||"password"===p.type)||"DIV"===q&&"true"===p.contentEditable&&p.firstChild);case "Tab":return!0}return!1},
m=(q,p)=>{["keydown","keypress","keyup"].forEach(w=>{u[p](q,"__hndl_"+w,w)})};new JS.Singleton("GlobalKeys",{include:[n.DomElementProxy,n.DomObservable,n.DomObserver,n.KeyObservable,n.Observable,n.Observer],initialize:function(){r.register("keys",u=this);u.CODE_ENTER="Enter";u.CODE_ESC="Escape";u.CODE_SPACE="Space";u.CODE_ARROW_LEFT="ArrowLeft";u.CODE_ARROW_UP="ArrowUp";u.CODE_ARROW_RIGHT="ArrowRight";u.CODE_ARROW_DOWN="ArrowDown";u.CODE_DELETE="Delete";u.CODE_BACKSPACE="Backspace";"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(q=>
{u["CODE_"+q]="Key"+q});"1234567890".split("").forEach(q=>{u["CODE_"+q]="Digit"+q});u.ARROW_KEYS=[u.CODE_ARROW_LEFT,u.CODE_ARROW_UP,u.CODE_ARROW_RIGHT,u.CODE_ARROW_DOWN];u.LIST_KEYS=[u.CODE_ENTER,u.CODE_SPACE,u.CODE_ESC].concat(u.ARROW_KEYS);u.setDomElement(document);u.attachTo(f,"__hndl_focused","focused");m(u,"attachToDom");global.onblur=()=>{v={}}},isShiftKeyDown:c,isControlKeyDown:l,isAltKeyDown:g,isMetaKeyDown:t,isShiftCode:q=>"ShiftLeft"===q||"ShiftRight"===q,isControlCode:q=>"ControlLeft"===
q||"ControlRight"===q,isAltCode:q=>"AltLeft"===q||"AltRight"===q,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?t():l(),ignoreFocusTrap:()=>g(),__hndl_focused:q=>{(q=q.value)?(m(u,"detachFromDom"),m(q,"attachToDom")):((q=f.prevFocusedView)&&m(q,"detachFromDom"),m(u,"attachToDom"))},__hndl_keydown:q=>{const p=e(q);q=q.value;h(p,q.target)&&q.preventDefault();t()&&"ShiftLeft"!==p&&"ShiftRight"!==p&&"ControlLeft"!==p&&"ControlRight"!==p&&"AltLeft"!==p&&"AltRight"!==p?(u.fireEvent("keydown",p),u.fireEvent("keyup",
p)):(v[p]=!0,"Tab"===p&&(q=g(),c()?f.prev(q):f.next(q)),u.fireEvent("keydown",p))},__hndl_keypress:q=>{u.fireEvent("keypress",e(q))},__hndl_keyup:q=>{const p=e(q);q=q.value;h(p,q.target)&&q.preventDefault();v[p]=!1;u.fireEvent("keyup",p)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(n=>{const u=JS.Module,v=Math.max,r=(c,l,g,t,h=0)=>{const m=c.length;let q=g;for(;h<m;h++)c[h][l?"setXViaFlex":"setYViaFlex"](q,!0),t&&(q+=g)},f=(c,l,g,t=0)=>{const h=c.length;let m=l;for(;t<h;)c[t++].crossPos+=m,g&&(m+=l)},a=(c,l)=>l?c.getFlexBasisWidth():c.getFlexBasisHeight(),d=(c,l,g,t)=>{c[l?"setWidthViaFlex":"setHeightViaFlex"]((t?a(c,l):0)+g)},b=(c,l,g)=>{c[l?"setXViaFlex":"setYViaFlex"](g,!1)},e=(c,l,g)=>{c[l]!==g&&(c[l]=g,c.inited&&c.fireEvent(l,g),c.updateFlexboxLayout())};n.FlexboxSupport=
new u("FlexboxSupport",{initNode:function(c,l){this.__IS_FLEXBOX_SUPPORT=!0;this.rowGap=this.columnGap=0;null==this.direction&&(this.direction="row");this.wrap="nowrap";this.justifyContent=this.alignContent="start";this.alignItems="stretch";this.callSuper(c,l);this.updateFlexboxLayout()},setWidth:function(c,l){const g=this.width;this.callSuper(c,l);g!==this.width&&this.updateFlexboxLayout()},setHeight:function(c,l){const g=this.height;this.callSuper(c,l);g!==this.height&&this.updateFlexboxLayout()},
setDirection:function(c){e(this,"direction",c)},setWrap:function(c){e(this,"wrap",c)},setJustifyContent:function(c){e(this,"justifyContent",c)},setAlignItems:function(c){e(this,"alignItems",c)},setAlignContent:function(c){e(this,"alignContent",c)},setRowGap:function(c){e(this,"rowGap",v(0,c))},setColumnGap:function(c){e(this,"columnGap",v(0,c))},getWidthForFlexboxLayout:function(){return this.width},getHeightForFlexboxLayout:function(){return this.height},setTotalBasisWidth:function(c){this.set("totalBasisWidth",
c,!0)},setTotalBasisHeight:function(c){this.set("totalBasisHeight",c,!0)},ignoreSubviewForFlex:function(c){return c&&"function"===typeof c.ignoreFlex?c.ignoreFlex():!0},setFlexboxPaused:function(c,l){this.__flexboxPaused!==c&&((this.__flexboxPaused=c)||l||this.updateFlexboxLayout())},isFlexboxPaused:function(){return!!this.__flexboxPaused},subviewAdded:function(c){this.callSuper(c);c&&!this.ignoreSubviewForFlex(c)&&this.updateFlexboxLayout()},subviewRemoved:function(c){this.callSuper(c);!c||this.ignoreSubviewForFlex(c)||
this.isBeingDestroyed||this.updateFlexboxLayout()},doSubviewsReorderedInDom:function(c){this.callSuper(c);c&&this.ignoreSubviewForFlex(c)||this.updateFlexboxLayout()},isOKToUpdateLayout:function(){return this.inited&&!this.__isUpdatingFlexboxLayout&&!this.isFlexboxPaused()},isCompactWidth:()=>!1,isCompactHeight:()=>!1,isCompactOnMainAxis:function(c){return c?this.isCompactWidth():this.isCompactHeight()},isCompactOnCrossAxis:function(c){return c?this.isCompactHeight():this.isCompactWidth()},isWrapNotAllowed:function(){return"nowrap"===
this.wrap},setUpdateAgain:function(c){this._updateAgain=c},isUpdateAgain:function(){return this._updateAgain},updateFlexboxLayout:function(){const c=this;if(c.isOKToUpdateLayout()){var l=c.getSubviewsInLexicalOrder().filter(q=>!0!==c.ignoreSubviewForFlex(q)&&!0===q.visible),g=l.length;if(0<g){c.__isUpdatingFlexboxLayout=!0;var t=c.direction;const q=t.startsWith("row"),p=!q;var h=c.getWidthForFlexboxLayout(),m=c.getHeightForFlexboxLayout();const w=q?c.columnGap:c.rowGap,A=q?h:m,y=q?c.rowGap:c.columnGap;
m=q?m:h;const B=c.isWrapNotAllowed(),C=c.justifyContent,D=c.alignItems;h=B?"stretch":c.alignContent;t.endsWith("Reverse")&&l.reverse();let k=0,x=0,z=0,G=0,I={items:[],growCount:0,extraSize:0,crossPos:z,crossSize:0};t=[I];for(let J=0;J<g;){const K=l[J++],P=a(K,q);!B&&0<I.items.length&&k+(0===G?0:w)+P>A&&(I.extraSize=A-k,z+=I.crossSize+y,x=v(x,k),G=k=0,I={items:[],growCount:0,extraSize:0,crossPos:z,crossSize:0},t.push(I));0!==G&&(k+=w);0<K.grow&&(I.growCount+=K.grow);I.crossSize=v(I.crossSize,a(K,p));
b(K,q,k);d(K,q,P);k+=P;I.items.push(K);G++}I.extraSize=A-k;z+=I.crossSize;x=v(x,k);if(c.isCompactOnMainAxis(q)){let J=t.reduce((K,P)=>null==K?P.extraSize:Math.min(K,P.extraSize),null);0<J&&t.forEach(K=>{K.extraSize-=J})}c[q?"setTotalBasisWidth":"setTotalBasisHeight"](x);c[q?"setTotalBasisHeight":"setTotalBasisWidth"](z);l=t.length;1<l&&"wrapReverse"===c.wrap&&(t.forEach(J=>{J.crossPos=z-(J.crossPos+J.crossSize)}),t.reverse());if(!c.isCompactOnCrossAxis(q))switch(g=m-z,h){default:case "start":break;
case "end":f(t,g,!1);break;case "center":f(t,g/2,!1);break;case "spaceBetween":1<l&&f(t,g/(l-1),!0,1);break;case "spaceAround":g<=y?f(t,g/2,!1):(f(t,y/2,!1),g-=y,f(t,g/(2*l),!0),f(t,g/(2*l),!0,1));break;case "spaceEvenly":g<=2*y?f(t,g/2,!1):(f(t,y,!1),f(t,(g-2*y)/(l+1),!0));break;case "stretch":const J=g/l;let K=0;t.forEach(P=>{P.crossSize+=J;P.crossPos+=K;K+=J})}t.forEach(J=>{const K=J.items;let P=J.extraSize;if(0<P)if(0<J.growCount){const L=P/J.growCount;let ba=0;K.forEach(U=>{if(0<ba)U[q?"setXViaFlex":
"setYViaFlex"](ba,!0);const ea=U.grow*L;0<ea&&(d(U,q,ea,!0),ba+=ea)})}else{const L=K.length;switch(C){default:case "start":break;case "end":r(K,q,P,!1);break;case "center":r(K,q,P/2,!1);break;case "spaceBetween":1<L&&r(K,q,P/(L-1),!0,1);break;case "spaceAround":P<=w?r(K,q,P/2,!1):(r(K,q,w/2,!1),P-=w,r(K,q,P/(2*L),!0),r(K,q,P/(2*L),!0,1));break;case "spaceEvenly":P<=2*w?r(K,q,P/2,!1):(r(K,q,w,!1),P-=2*w,r(K,q,P/(L+1),!0))}}let R=!1;const W=J.crossSize,Z=J.crossPos;K.forEach(L=>{switch(L.getAlignSelf()||
D){case "start":b(L,p,Z);d(L,p,a(L,p),!1);break;case "end":b(L,p,Z+W-a(L,p));d(L,p,a(L,p),!1);break;case "center":b(L,p,Z+(W-a(L,p))/2);d(L,p,a(L,p),!1);break;case "baseline":R=!0;b(L,p,Z+(W-a(L,p))/2+L.getFlexBaselineOffset(q));d(L,p,a(L,p),!1);break;default:b(L,p,Z),d(L,p,W,!1)}});R&&c.updateFlexboxLayoutBaselineAdjustment(K,q,Z)});c.__isUpdatingFlexboxLayout=!1;c.isUpdateAgain()&&(c.setUpdateAgain(!1),c.updateFlexboxLayout())}else c.setTotalBasisWidth(0),c.setTotalBasisHeight(0)}},updateFlexboxLayoutBaselineAdjustment:(c,
l,g)=>{}});n.FlexboxChildSupport=new u("FlexboxChildSupport",{setVisible:function(c){this.visible!==c&&(this.callSuper(c),this.updateFlexboxLayoutFromChild())},setXViaFlex(c,l){l&&(c+=this.x);this.x!==c&&(this.__isFlexUpdate=!0,this.setX(c),this.__isFlexUpdate=!1)},setYViaFlex(c,l){l&&(c+=this.y);this.y!==c&&(this.__isFlexUpdate=!0,this.setY(c),this.__isFlexUpdate=!1)},setWidth:function(c,l){const g=this.width!==c;g&&!this.__isFlexUpdate&&(this.__basisWidth=null);this.callSuper(c,l);g&&this.updateFlexboxLayoutFromChild()},
setWidthViaFlex(c,l){this.width!==c&&(null==this.__basisWidth&&(this.__basisWidth=this.width),this.__isFlexUpdate=!0,this.setWidth(c,l),this.__isFlexUpdate=!1)},getFlexBasisWidth:function(){return null==this.__basisWidth?this.width:this.__basisWidth},setHeight:function(c,l){const g=this.height!==c;g&&!this.__isFlexUpdate&&(this.__basisHeight=null);this.callSuper(c,l);g&&this.updateFlexboxLayoutFromChild()},setHeightViaFlex(c,l){this.height!==c&&(null==this.__basisHeight&&(this.__basisHeight=this.height),
this.__isFlexUpdate=!0,this.setHeight(c,l),this.__isFlexUpdate=!1)},getFlexBasisHeight:function(){return null==this.__basisHeight?this.height:this.__basisHeight},getFlexBaselineOffset:c=>0,setIgnoreFlex:function(c){this.__ignoreFlex!==c&&(this.__ignoreFlex=c,this.inited&&(this.fireEvent("ignoreFlex",c),this.isChildOfFlexbox()&&this.parent.updateFlexboxLayout()))},ignoreFlex:function(){return this.__ignoreFlex},setGrow:function(c){c=v(0,c);this.grow!==c&&(this.grow=c,this.inited&&(this.fireEvent("grow",
c),this.updateFlexboxLayoutFromChild()))},setAlignSelf:function(c){this.alignSelf!==c&&(this.alignSelf=c,this.inited&&(this.fireEvent("alignSelf",c),this.updateFlexboxLayoutFromChild()))},getAlignSelf:function(){const c=this.alignSelf;return"auto"===c||""===c?null:c},isChildOfFlexbox:function(){return!(!this.parent||!this.parent.__IS_FLEXBOX_SUPPORT)},isFlexUpdateInProgress:function(){return this.__isFlexUpdate},updateFlexboxLayoutFromChild:function(){this.inited&&!this.ignoreFlex()&&!this.isFlexUpdateInProgress()&&
this.isChildOfFlexbox()&&this.parent.updateFlexboxLayout()}})})(myt);
(n=>{const u=Array.prototype,v={},r={},f=(e,c)=>c+e.substring(0,1).toUpperCase()+e.substring(1),a=e=>r[e]||(r[e]=f(e,"set")),d=e=>v[e]||(v[e]=f(e,"get")),b=(e,c,l)=>{null==e[c]&&(e[c]=l)};n.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:a,generateGetterName:d,generateName:f,createSetterFunction:(e,c)=>{const l=a(c);e[l]&&console.log("Overwriting setter",l);e[l]=g=>{e[c]!==g&&(e[c]=g,e.inited&&e.fireEvent(c,g))}},createGetterFunction:(e,c)=>{const l=d(c);e[l]&&console.log("Overwriting getter",
l);e[l]=()=>e[c]},defAttr:b},appendToEarlyAttrs:function(){u.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){u.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){u.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){u.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:b,quickSet:function(e,c){(e||[]).forEach(l=>{this[l]=c[l];delete c[l]})},callSetters:function(e){var c=
this.earlyAttrs;const l=this.lateAttrs;let g;var t;if(c||l){var h={};for(t in e)h[t]=e[t];e=h;if(c)for(h=0,t=c.length;t>h;){const m=c[h++];m in e&&(this.set(m,e[m]),delete e[m])}if(l)for(g=[],h=0,t=l.length;t>h;)c=l[h++],c in e&&(g.push(c,e[c]),delete e[c])}for(const m in e)this.set(m,e[m]);if(g)for(h=0,t=g.length;t>h;)this.set(g[h++],g[h++])},get:function(e){const c=d(e);return this[c]?this[c]():this[e]},set:function(e,c,l){if(!l&&(l=a(e),this[l]))return this[l](c);this[e]!==c&&(this[e]=c,!1!==this.inited&&
this.fireEvent&&this.fireEvent(e,c))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let n,u;const v=this.__meta__;if(v)for(n=Object.keys(v),u=n.length;u;)delete v[n[--u]];n=Object.keys(this);for(u=n.length;u;)delete this[n[--u]];this.destroyed=!0}}});
(n=>{const u=JS.Class,v=JS.Module,r=new u("AbstractPool",{include:[n.Destructible],initialize:()=>{},destroy:function(){const b=this.__op;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.__op||(this.__op=[]);return b.length?b.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(b){(this.__op||(this.__op=[])).push(this.cleanInstance(b))},cleanInstance:b=>{"function"===typeof b.clean&&b.clean();return b},destroyPooledInstances:function(){var b=
this.__op;if(b){let e=b.length;for(;e;){const c=b[--e];"function"===typeof c.destroy&&c.destroy()}}}}),f=n.SimplePool=new u("SimplePool",r,{initialize:function(b,e){this.callSuper();this.instanceClass=b||Object;this.instanceParent=e},createInstance:function(b){var e=this.instanceParent,c=this.instanceClass;return e?new c(e,b):new c}}),a=new v("TrackActives",{destroy:function(){const b=this.__actives;b&&(b.length=0);this.callSuper()},getInstance:function(){const b=this.callSuper();(this.__actives||
(this.__actives=[])).push(b);return b},putInstance:function(b){var e=this.__actives;if(e){let c=e.length;for(;c;)if(e[--c]===b){e.splice(c,1);this.callSuper(b);return}e="inactive"}else e="missing";console.warn("Tried to put a "+e+" instance",b,this)},getActives:function(b){const e=this.__actives;if(e){if(b){const c=[],l=e.length;for(let g=0;l>g;){const t=e[g++];b.call(this,t)&&c.push(t)}return c}return e.concat()}return[]},putActives:function(){const b=this.__actives;if(b){let e=b.length;for(;e;)this.putInstance(b[--e])}}}),
d=n.TrackActivesPool=new u("TrackActivesPool",f,{include:[a]});n.TrackActivesMultiPool=new u("TrackActivesMultiPool",r,{initialize:function(b,e){this.callSuper();this.instanceClassesByKey=b;const c=this._poolsByClassName={},l=this.__pbk={};for(const g in b){const t=b[g];l[g]=c[t.__displayName]=new d(t,e)}},destroy:function(){const b=this.__pbk;for(const e in b)b[e].destroy();this.callSuper()},getInstance:function(){const b=arguments[0],e=this.__pbk[b];if(e)return e.getInstance(arguments);console.warn("No pool for key",
b)},putInstance:function(b){const e=this._poolsByClassName[b.klass.__displayName];e?e.putInstance(b):console.warn("No pool for obj",b)},destroyPooledInstances:function(){const b=this.__pbk;for(const e in b)b[e].destroyPooledInstances()},getActives:function(b){let e=[];const c=this.__pbk;for(const l in c)e=e.concat(c[l].getActives(b));return e},putActives:function(){const b=this.__pbk;for(const e in b)b[e].putActives()}});n.Reusable=new v("Reusable",{clean:()=>{}})})(myt);
(n=>{const u=(a,d)=>{if(d)for(;a;){if(d(a))return a;a=a.parent}},v=(a,d)=>{const b=d.name;void 0===a[b]?a[b]=d:console.warn("Name in use",b)},r=(a,d)=>{const b=d.name;a[b]===d?delete a[b]:console.warn("Name not in use",b)},f=a=>a.__animPool||(a.__animPool=new n.TrackActivesPool(n.Animator,a));n.Node=new JS.Class("Node",{include:[n.AccessorSupport,n.Destructible,n.Observable,n.Observer],extend:{getMatchingAncestorOrSelf:u,getMatchingAncestor:(a,d)=>u(a?a.parent:null,d)},initialize:function(a,d,b){if(b){const e=
b.length;for(let c=0,l;e>c;)(l=b[c++])?this.extend(l):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.initNode(a,d||{})},initNode:function(a,d){this.callSetters(d);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let d=a.length;for(;d;)a[--d].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();
this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var d=this.placement||a.defaultPlacement;d&&(a=a.determinePlacement(d,this))}if(!(this.parent===a||a&&a.destroyed)){if(d=this.parent){let b=d.getSubnodeIndex(this);0<=b&&(this.name&&r(d,this),d.subnodes.splice(b,
1),d.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&v(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const d=this.parent;d&&this.name&&r(d,this);this.name=a;d&&a&&v(d,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,d){let b=a.indexOf("."),e;0<=b&&(e=a.substring(b+1),a=a.substring(0,b));"*"===a&&(a=this.defaultPlacement)&&(b=a.indexOf("."),0<=b&&(e=a.substring(b+
1)+(e?"."+e:""),a=a.substring(0,b)));return(a=this[a])?e?a.determinePlacement(e,d):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;
a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(d=>d instanceof a)},searchAncestors:function(a){return u(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return u(this,a)},getAncestors:function(){const a=[];let d=this;for(;d;)a.push(d),d=d.parent;return a},hasSubnode:function(a){return 0<=this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent===
this)return a.setParent(),a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,d,b,e,c){return"object"===typeof a?this.animate(a):this.animate({attribute:a,to:d,from:b,duration:e,easingFunction:c})},animate:function(a){if(a){const d=f(this),b=d.getInstance({ignorePlacement:!0}),e=a.callback;delete a.callback;b.callSetters(a);b.next(c=>{d.putInstance(b)});e&&b.next(e);b.setRunning(!0);return b}},getActiveAnimators:function(a){if("string"===typeof a){const d=a;a=b=>b.attribute===d}return f(this).getActives(a)},
stopActiveAnimators:function(a,d=!1){a=this.getActiveAnimators(a);let b=a.length;if(0<b){const e=f(this);for(;b;){const c=a[--b];c.reset(d);d||e.putInstance(c)}}},doOnceOnIdle:function(a){this.attachTo(n.global.idle,a,"idle",!0)}})})(myt);
(n=>{let u=0,v=!1;const r=JS.Class,f=[],a=g=>{if(v!==g&&(v=g,!g)){for(g=f.length;g;){const t=f[--g];t.__deferredLayout=!1;t.update()}f.length=0}},d=(g,t,h,m)=>{const q=g.getSubviewIndex(t),p=g.subviews;0<=q&&(g=g.getSubviewIndex(h),p.splice(q,1),0<=g?(q<g&&--g,p.splice(g+(m?1:0),0,t)):m?p.push(t):p.unshift(t))},b=(g,t,h)=>{g[t]!==h&&(g[t]=h,g.inited&&(g.fireEvent(t,h),g.update()))},e=n.Layout=new r("Layout",n.Node,{extend:{incrementGlobalLock:()=>{1===++u&&a(!0)},decrementGlobalLock:()=>{0<u&&0===
--u&&a(!1)}},initNode:function(g,t){this.subviews=[];this.locked=!0;this.lockedCounter=1;const h=!0===t.locked;delete t.locked;this.callSuper(g,t);h||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(g){var t=this.parent;if(t!==g){const h=!this.locked;h&&(this.locked=!0);let m,q;if(t){m=this.subviews;for(q=m.length;q;)this.removeSubview(m[--q]);this.detachFrom(t,"__hndlPSA","subviewAdded");this.detachFrom(t,"__hndlPSR","subviewRemoved")}this.callSuper(g);
if(g=this.parent){m=g.getSubviews();q=0;for(t=m.length;t>q;)this.addSubview(m[q++]);this.attachTo(g,"__hndlPSA","subviewAdded");this.attachTo(g,"__hndlPSR","subviewRemoved")}h&&(this.locked=!1,this.inited&&g&&this.update())}},canUpdate:function(){return v?(this.__deferredLayout||(f.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(g){return 0<=this.getSubviewIndex(g)},getSubviewIndex:function(g){return this.subviews.indexOf(g)},addSubview:function(g){this.ignore(g)||
(this.subviews.push(g),this.startMonitoringSubview(g),this.locked||this.update())},startMonitoringSubview:g=>{},startMonitoringAllSubviews:function(){const g=this.subviews;let t=g.length;for(;t;)this.startMonitoringSubview(g[--t])},removeSubview:function(g){if(this.ignore(g))return-1;const t=this.getSubviewIndex(g);0<=t&&(this.stopMonitoringSubview(g),this.subviews.splice(t,1),this.locked||this.update());return t},stopMonitoringSubview:g=>{},stopMonitoringAllSubviews:function(){const g=this.subviews;
let t=g.length;for(;t;)this.stopMonitoringSubview(g[--t])},ignore:g=>g.ignoreLayout,__hndlPSA:function(g){g=g.value;g.parent===this.parent&&this.addSubview(g)},__hndlPSR:function(g){g=g.value;g.parent===this.parent&&this.removeSubview(g)},sortSubviews:function(g){this.subviews.sort(g)},moveSubviewBefore:function(g,t){d(this,g,t,!1)},moveSubviewAfter:function(g,t){d(this,g,t,!0)}});var c=n.ConstantLayout=new r("ConstantLayout",e,{setTargetAttrName:function(g){this.setterName=n.AccessorSupport.generateSetterName(g);
b(this,"targetAttrName",g)},setTargetValue:function(g){b(this,"targetValue",g)},update:function(){if(this.canUpdate()){const g=this.setterName,t=this.targetValue,h=this.subviews,m=h.length;if(g)for(let q=0;m>q;)h[q++][g](t)}}});c=n.VariableLayout=new r("VariableLayout",c,{initNode:function(g,t){this.collapseParent=this.reverse=!1;this.callSuper(g,t)},setCollapseParent:function(g){b(this,"collapseParent",g)},setReverse:function(g){b(this,"reverse",g)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const t=this.setterName,h=this.subviews;var g=h.length;let m=this.targetValue,q,p=0;if(this.reverse)for(q=g;q;)g=h[--q],this.skipSubview(g)||(m=this.updateSubview(++p,g,t,m));else for(q=0;g>q;){const w=h[q++];this.skipSubview(w)||(m=this.updateSubview(++p,w,t,m))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(t,m);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(g){this.attachTo(g,
"update","visible")},stopMonitoringSubview:function(g){this.detachFrom(g,"update","visible")},updateSubview:(g,t,h,m)=>{t[h](m);return m},skipSubview:g=>!g.visible,updateParent:(g,t)=>{}});const l=n.SpacedLayout=new r("SpacedLayout",c,{initNode:function(g,t){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(g,t)},setTargetAttrName:function(g){if(this.targetAttrName!==
g){const t="y"===g,h=this.inited;h&&this.stopMonitoringAllSubviews();this.measureAttrName=t?"boundsHeight":"boundsWidth";this.measureAttrBaseName=t?"height":"width";this.parentSetterName=t?"setHeight":"setWidth";h&&this.startMonitoringAllSubviews();this.callSuper(g)}},setNoAddSubviewOptimization:function(g){this.noAddSubviewOptimization=g},setAxis:function(g){this.setTargetAttrName(this.axis=g)},setInset:function(g){this.setTargetValue(this.inset=g)},setSpacing:function(g){b(this,"spacing",g)},setOutset:function(g){b(this,
"outset",g)},addSubview:function(g){const t=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(g);this.locked=t},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.callSuper(g)},stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.callSuper(g)},updateSubview:function(g,t,h,m){g=t[this.measureAttrName];t[h](m+(g-t[this.measureAttrBaseName])/2);return m+g+this.spacing},updateParent:function(g,t){this.parent[this.parentSetterName](t+
this.outset-this.spacing)}});n.ResizeLayout=new r("ResizeLayout",l,{setCollapseParent:g=>{},setTargetAttrName:function(g){if(this.targetAttrName!==g){if(this.inited){const t="x"===g;this.stopMonitoringParent(t?"height":"width");this.startMonitoringParent(t?"width":"height")}this.callSuper(g)}},setParent:function(g){if(this.parent!==g){const t="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(t);this.callSuper(g);this.parent&&this.startMonitoringParent(t)}},startMonitoringParent:function(g){this.attachTo(this.parent,
"update",g)},stopMonitoringParent:function(g){this.detachFrom(this.parent,"update",g)},doBeforeUpdate:function(){const g=this.measureAttrName,t=this.subviews;let h=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,m=t.length,q=0,p=0;for(;m;){const w=t[--m];this.skipSubview(w)||(++q,0<w.layoutHint?p+=w.layoutHint:h-=w[g])}0!==q&&(this.remainder=h-=(q-1)*this.spacing,this.resizeSum=p,this.scalingFactor=h/p,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===g?
"setWidth":"setHeight")},updateSubview:function(g,t,h,m){var q=t.layoutHint;0<q&&(this.resizeSumUsed+=q,q=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(q*this.scalingFactor),this.remainderUsed+=q,t[this.measureSetter](q));return this.callSuper(g,t,h,m)},startMonitoringSubview:function(g){0<g.layoutHint||this.attachTo(g,"update",this.measureAttrName);this.attachTo(g,"update","visible")},stopMonitoringSubview:function(g){0<g.layoutHint||this.detachFrom(g,"update",
this.measureAttrName);this.detachFrom(g,"update","visible")},updateParent:(g,t)=>{}});n.AlignedLayout=new r("AlignedLayout",c,{initNode:function(g,t){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(g,t)},setTargetAttrName:function(g){if(this.targetAttrName!==g){const t="y"===g,h=this.inited;h&&this.stopMonitoringAllSubviews();this.measureAttrName=
t?"boundsHeight":"boundsWidth";this.measureAttrBaseName=t?"height":"width";this.parentSetterName=t?"setHeight":"setWidth";h&&this.startMonitoringAllSubviews();this.callSuper(g)}},setAlign:function(g){if(this.align!==g){this.align=g;const t=this.locked;this.locked=!0;this.setTargetAttrName("middle"===g||"bottom"===g||"top"===g?"y":"x");this.locked=t;this.inited&&(this.fireEvent("align",g),this.update())}},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.callSuper(g)},
stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.callSuper(g)},doBeforeUpdate:function(){const g=this.measureAttrName,t=this.subviews;let h=0,m,q=t.length;for(;q;)m=t[--q],this.skipSubview(m)||(h=h>m[g]?h:m[g]);this.setTargetValue(h)},updateSubview:function(g,t,h,m){switch(this.align){case "center":case "middle":t[h]((m-t[this.measureAttrName])/2);break;case "right":case "bottom":t[h](m-t[this.measureAttrName]);break;default:t[h](0)}return m},updateParent:function(g,
t){this.parent[this.parentSetterName](t)}});n.WrappingLayout=new r("WrappingLayout",c,{initNode:function(g,t){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(g,t)},
setTargetAttrName:function(g){if(this.targetAttrName!==g){const t="y"===g,h=this.inited;h&&this.stopMonitoringAllSubviews();this.measureAttrName=t?"boundsHeight":"boundsWidth";const m=this.measureAttrBaseName=t?"height":"width";this.otherMeasureAttrName=t?"boundsWidth":"boundsHeight";const q=this.otherMeasureAttrBaseName=t?"width":"height";this.parentSetterName=t?"setWidth":"setHeight";this.otherSetterName=t?"setX":"setY";h&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(q),this.startMonitoringParent(m));
this.callSuper(g)}},setParent:function(g){if(this.parent!==g){const t="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(t?"height":"width");this.callSuper(g);this.parent&&this.startMonitoringParent(t?"height":"width")}},setAxis:function(g){this.setTargetAttrName(this.axis=g)},setInset:function(g){this.setTargetValue(this.inset=g)},setSpacing:function(g){b(this,"spacing",g)},setOutset:function(g){b(this,"outset",g)},setLineSpacing:function(g){b(this,"lineSpacing",g)},setLineInset:function(g){b(this,
"lineInset",g)},setLineOutset:function(g){b(this,"lineOutset",g)},startMonitoringParent:function(g){this.attachTo(this.parent,"update",g)},stopMonitoringParent:function(g){this.detachFrom(this.parent,"update",g)},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.attachTo(g,"update",this.otherMeasureAttrName);this.callSuper(g)},stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.detachFrom(g,"update",this.otherMeasureAttrName);
this.callSuper(g)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(g,t,h,m){g=t[this.measureAttrName];const q=t[this.otherMeasureAttrName];m+g>this.parentSizeLessOutset||"break"===t.layoutHint?(m=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=q,++this.lineCount):q>this.lineSize&&(this.lineSize=q);t[this.otherSetterName](this.linePos+
(q-t[this.otherMeasureAttrBaseName])/2);t[h](m+(g-t[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,m+g+this.outset);return m+g+this.spacing},updateParent:function(g,t){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});n.createFixedThresholdCounter(e,1,"locked")})(myt);
(n=>{const u=Math.round,v=n.DomElementProxy,r=n.Geometry.rectContainsPoint,f=(h,m)=>{const q=n.global.focus.focusedView,p=h.getIDE();if(q===h||q&&q.isDescendantOf(h))q._ignoreFocus=!0;h=p.scrollTop;const w=p.scrollLeft;m.call();q&&(q._ignoreFocus=!1,q.focus(!0));p.scrollTop=h;p.scrollLeft=w},a=(h,m,q,p)=>{if(m&&"object"===typeof m){if(p&&(p=h.getLeastCommonAncestor(m))){var w=p.getIDE();p=v.getZIndexRelativeToAncestor(h.getODE(),w);w=v.getZIndexRelativeToAncestor(m.getODE(),w);q&&(p*=-1,w*=-1);if(p<
w)return!0;if(w<p)return!1}h=h.getODE().compareDocumentPosition(m.getODE());return q?2===h||10===h:4===h||20===h}return!1},d=h=>{h=h.getAncestors();let m=h.length,q=1,p=1;for(;m;){const w=h[--m];q*=w.scaleX||1;p*=w.scaleY||1;w.__effectiveScaleX=q;w.__effectiveScaleY=p}return{scaleX:q,scaleY:p}},b=(h,m,q)=>{const p=h.getODE();if(r(m,q,0,0,p.offsetWidth*h.__effectiveScaleX,p.offsetHeight*h.__effectiveScaleY)){if(h=h.parent){const w=h.getIDE();return b(h,m+(p.offsetLeft-w.scrollLeft)*h.__effectiveScaleX,
q+(p.offsetTop-w.scrollTop)*h.__effectiveScaleY)}return!0}return!1},e=h=>{switch(h.align){case "center":h.releaseConstraint("__doAlignCenter");break;case "right":h.releaseConstraint("__doAlignRight")}},c=h=>{const m=h.parent;if(m)switch(h.align){case "center":h.constrain("__doAlignCenter",[h,"width",h,"alignOffset",m,"width"]);break;case "right":h.constrain("__doAlignRight",[h,"width",h,"alignOffset",m,"width"]);break;case "left":h.setX(h.alignOffset||0)}},l=h=>{switch(h.valign){case "middle":h.releaseConstraint("__doValignMiddle");
break;case "bottom":h.releaseConstraint("__doValignBottom")}},g=h=>{const m=h.parent;if(m)switch(h.valign){case "middle":h.constrain("__doValignMiddle",[h,"height",h,"valignOffset",m,"height"]);break;case "bottom":h.constrain("__doValignBottom",[h,"height",h,"valignOffset",m,"height"]);break;case "top":h.setY(h.valignOffset||0)}},t=(h,m,q)=>{h.getODS()["border"+q+"Radius"]=m+"px"};n.View=new JS.Class("View",n.Node,{include:[v,n.DomObservable,n.DomObserver,n.ScrollObservable,n.FocusObservable,n.KeyObservable,
n.MouseObservable],extend:{retainFocusDuringDomUpdate:f},initNode:function(h,m){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=m.tagName;delete m.tagName;this.setDomElement(this.createOurDomElement(h));const q=this.getODS();q.left=q.top="0px";this.callSuper(h,m);this.__updateBounds(this.width,this.height);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(h){h=document.createElement(this.tagName||"div");h.style.position="absolute";
const m=this.klass;h.className=m.__cssClassName||(m.__cssClassName="myt-"+m.__displayName.split(".").join("-"));return h},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(h){this.parent!==h&&(this.inited&&(e(this),l(this)),this.callSuper(h),this.align&&c(this),this.valign&&g(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSubviewsInLexicalOrder:function(){const h=
[],m=this.getIDE().children,q=m.length;for(let p=0;p<q;){const w=m[p++].model;w&&w.parent===this&&h.push(w)}return h},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(h=>h!==this)},setFocusTrap:function(h){this.focusTrap=h},setFocusCage:function(h){this.focusCage=h},setMaskFocus:function(h){this.maskFocus=h},setLayoutHint:function(h){this.layoutHint=h},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(h){if(this.ignoreLayout!==
h){var m=this.inited&&this.parent;let q;if(h){if(m)for(m=this.parent.getLayouts(),q=m.length;q;)m[--q].removeSubview(this);this.ignoreLayout=h}else if(this.ignoreLayout=h,m)for(m=this.parent.getLayouts(),q=m.length;q;)m[--q].addSubview(this)}},setDomClass:function(h){this.domClass!==h&&(this.callSuper(h),this.inited&&this.fireEvent("domClass",h))},setDomId:function(h){this.domId!==h&&(this.callSuper(h),this.inited&&this.fireEvent("domId",h))},setAlignOffset:function(h){this.alignOffset!==h&&(this.alignOffset=
h,this.inited&&this.fireEvent("alignOffset",h),this.parent&&"left"===this.align&&this.setX(h))},setAlign:function(h){this.align!==h&&(this.inited&&e(this),this.align=h,this.inited&&(this.fireEvent("align",h),c(this)))},__doAlignCenter:function(h){this.setX(u((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(h){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(h){this.valignOffset!==h&&(this.valignOffset=h,this.inited&&this.fireEvent("valignOffset",
h),this.parent&&"top"===this.valign&&this.setY(h))},setValign:function(h){this.valign!==h&&(this.inited&&l(this),this.valign=h,this.inited&&(this.fireEvent("valign",h),g(this)))},__doValignMiddle:function(h){this.setY(u((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(h){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(h){this.x!==h&&(this.x=h,this.visible&&(this.getODS().left=h+"px"),this.inited&&this.fireEvent("x",h))},setY:function(h){this.y!==
h&&(this.y=h,this.visible&&(this.getODS().top=h+"px"),this.inited&&this.fireEvent("y",h))},setWidth:function(h,m){0>h&&(h=0);this.width!==h&&(this.width=h,this.getODS().width=h+"px",this.inited&&(this.__updateBounds(h,this.height),m||this.fireEvent("width",h)))},setHeight:function(h,m){0>h&&(h=0);this.height!==h&&(this.height=h,this.getODS().height=h+"px",this.inited&&(this.__updateBounds(this.width,h),m||this.fireEvent("height",h)))},setDomMinWidth:function(h,m){(m?this.getIDS():this.getODS()).minWidth=
null!=h?h+"px":null},getDomMinWidth:function(h){h=(h?this.getIDS():this.getODS()).minWidth;return null!=h?Number.parseInt(h):null},setDomMinHeight:function(h,m){(m?this.getIDS():this.getODS()).minHeight=null!=h?h+"px":null},getDomMinHeight:function(h){h=(h?this.getIDS():this.getODS()).minHeight;return null!=h?Number.parseInt(h):null},setTextColor:function(h){this.textColor!==h&&(this.textColor=h,this.getODS().color=h||"inherit",this.inited&&this.fireEvent("textColor",h))},setBgColor:function(h){this.bgColor!==
h&&(this.getODS().backgroundColor=this.bgColor=h,this.inited&&this.fireEvent("bgColor",h))},isColorAttr:h=>"bgColor"===h||"textColor"===h,setOpacity:function(h){this.opacity!==h&&(this.getODS().opacity=this.opacity=h,this.inited&&this.fireEvent("opacity",h))},setOverflow:function(h){const m=this.overflow;if(m!==h){this.overflow=h;const q=this.getIDS();if("autox"===h)q.overflowX="auto",q.overflowY="hidden";else if("autoy"===h)q.overflowY="auto",q.overflowX="hidden";else{if("autox"===m||"autoy"===m)q.overflowX=
q.overflowY=null;q.overflow=h||"visible"}this.inited&&this.fireEvent("overflow",h)}},setVisible:function(h){if(this.visible!==h){this.visible=h;const m=this.getODS();m.visibility=h?"inherit":"hidden";m.left=h?this.x+"px":"-100000px";m.top=h?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",h)}},setPointerEvents:function(h){this.pointerEvents!==h&&(this.pointerEvents=h,this.getODS().pointerEvents=h||"auto",this.inited&&this.fireEvent("pointerEvents",h))},setCursor:function(h){this.cursor!==
h&&(this.cursor=h,this.getODS().cursor=h||"auto",this.inited&&this.fireEvent("cursor",h))},__updateBounds:function(h,m){this.boundsWidth!==h&&this.fireEvent("boundsWidth",this.boundsWidth=h);this.boundsHeight!==m&&this.fireEvent("boundsHeight",this.boundsHeight=m)},setOutline:function(h){h=h||[];this.setOutlineWidth(h[0]);this.setOutlineStyle(h[1]);this.setOutlineColor(h[2])},setOutlineWidth:function(h){this.outlineWidth=h||0;this.getODS().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(h){this.getODS().outlineStyle=
this.outlineStyle=h||"none"},setOutlineColor:function(h){this.getODS().outlineColor=this.outlineColor=h||"#000"},setBorder:function(h){h=h||[];this.setBorderWidth(h[0]);this.setBorderStyle(h[1]);this.setBorderColor(h[2])},setBorderWidth:function(h){this.borderWidth=h||0;this.getODS().borderWidth=this.borderWidth+"px"},setBorderStyle:function(h){this.getODS().borderStyle=this.borderStyle=h||"none"},setBorderColor:function(h){this.getODS().borderColor=this.borderColor=h||"#000"},setRoundedCorners:function(h){this.getODS().borderRadius=
h+"px"},setRoundedTopLeftCorner:function(h){t(this,h,"TopLeft")},setRoundedTopRightCorner:function(h){t(this,h,"TopRight")},setRoundedBottomLeftCorner:function(h){t(this,h,"BottomLeft")},setRoundedBottomRightCorner:function(h){t(this,h,"BottomRight")},setBoxShadow:function(h){this.getODS().boxShadow=h?(h[0]||0)+"px "+(h[1]||0)+"px "+(h[2]||7)+"px "+(h[3]||"#000"):"none"},setGradient:function(h){const m=this.getODS();if(h){let p=h[0];"linear"===p||"radial"===p?h.shift():p="linear";let w=h[0];if("radial"===
p){void 0===w?w="closest-side":h.shift();var q=h[0];if(void 0===q)q="circle";else{switch(q){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",q),q="circle"}h.shift()}let A=h[0];void 0===A?A="center":(A=A.replaceAll("middle","center"),h.shift());w=q+" "+w+" at "+A}else"number"===typeof w?(w+="deg",h.shift()):w?(w="to "+w,h.shift()):w="0deg";q=A=>{h.push(A&&"inherit"!==A?A:"transparent")};2>h.length&&q(this.textColor);2>h.length&&q(this.bgColor);m.background=
p+"-gradient("+w+","+h.join(",")+")"}else m.background="none";this.bgColor=void 0},setTooltip:function(h){this.tooltip!==h&&(this.tooltip=this.getODE().title=h,this.inited&&this.fireEvent("tooltip",h))},isVisible:function(){return null==this.searchAncestorsOrSelf(h=>!h.visible)},getFocusTrap:function(h){return this.searchAncestorsOrSelf(m=>m.focusCage||m.focusTrap&&!h)},subnodeAdded:function(h){h instanceof n.View?(this.getIDE().appendChild(h.getODE()),this.getSubviews().push(h),this.fireEvent("subviewAdded",
h),this.subviewAdded(h)):h instanceof n.Layout&&(this.getLayouts().push(h),this.fireEvent("layoutAdded",h),this.layoutAdded(h))},subnodeRemoved:function(h){let m;h instanceof n.View?(m=this.getSubviewIndex(h),0<=m&&(this.fireEvent("subviewRemoved",h),h.removeDomElement(),this.subviews.splice(m,1),this.subviewRemoved(h))):h instanceof n.Layout&&(m=this.getLayoutIndex(h),0<=m&&(this.fireEvent("layoutRemoved",h),this.layouts.splice(m,1),this.layoutRemoved(h)))},hasSubview:function(h){return 0<=this.getSubviewIndex(h)},
getSubviewIndex:function(h){return this.getSubviews().indexOf(h)},subviewAdded:h=>{},subviewRemoved:h=>{},getNextSibling:function(){if(this.parent){const h=this.getODE().nextElementSibling;if(h)return h.model}},getPrevSibling:function(){if(this.parent){const h=this.getODE().previousElementSibling;if(h)return h.model}},hasLayout:function(h){return 0<=this.getLayoutIndex(h)},getLayoutIndex:function(h){return this.getLayouts().indexOf(h)},layoutAdded:h=>{},layoutRemoved:h=>{},isBehind:function(h,m){return a(this,
h,!1,m)},isInFrontOf:function(h,m){return a(this,h,!0,m)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(h){this.parent.sendSubviewBehind(this,h)},sendInFrontOf:function(h){this.parent.sendSubviewInFrontOf(this,h)},doSubviewsReorderedInDom:h=>{},bringSubviewToFront:function(h){const m=this;if(h&&h.parent===m){const q=m.getIDE();h.getODE()!==q.lastChild&&f(h,()=>{q.appendChild(h.getODE());m.doSubviewsReorderedInDom(h)})}},
sendSubviewToBack:function(h){const m=this;if(h&&h.parent===m){const q=m.getIDE();h.getODE()!==q.firstChild&&f(h,()=>{q.insertBefore(h.getODE(),q.firstChild);m.doSubviewsReorderedInDom(h)})}},sendSubviewBehind:function(h,m){const q=this;if(h&&m&&h.parent===q&&m.parent===q){const p=q.getIDE();f(h,()=>{p.insertBefore(h.getODE(),m.getODE());q.doSubviewsReorderedInDom(h)})}},sendSubviewInFrontOf:function(h,m){const q=this;if(h&&m&&h.parent===q&&m.parent===q){const p=q.getIDE();f(h,()=>{p.insertBefore(h.getODE(),
m.getODE().nextSibling);q.doSubviewsReorderedInDom(h)})}},sortSubviews:function(h){const m=this,q=m.getSubviews().sort(h);f(m,()=>{const p=m.getODE(),w=p.parentNode;let A;w&&(A=p.nextSibling,w.removeChild(p));const y=document.createDocumentFragment(),B=q.length;for(let C=0;B>C;)y.appendChild(q[C++].getODE());m.getIDE().appendChild(y);w&&w.insertBefore(p,A);m.doSubviewsReorderedInDom(null)})},containsPoint:function(h,m,q){const p=this.getODE();if(!p)return!1;q=v.getRelativePosition(p,q);return r(h,
m,q.x,q.y,this.width,this.height)},isPointVisible:function(h,m){const q=this.getPagePosition(!0);d(this);return b(this,h-q.x,m-q.y)},getEffectiveScale:function(){return d(this)},getEffectiveScaleX:function(){return d(this).scaleX},getEffectiveScaleY:function(){return d(this).scaleY}})})(myt);
(n=>{const u=(r,f,a)=>{const d=v(r,f);r.getODS().transform=d+(0===d.length?"":" ")+f+"("+a+")"},v=(r,f)=>{r=r.getODS();var a=r.transform;if(!a||0===a.length)return"";a=a.split(" ");let d=a.length;for(;d;)if(0===a[--d].indexOf(f)){a.splice(d,1);break}return r.transform=a.join(" ")};n.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(r){this.transformOrigin!==r&&(this.transformOrigin=r,this.getODS().transformOrigin=r||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",r)))},setRotation:function(r){this.rotation!==r&&(this.rotation=r,u(this,"rotate",(r||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",r)))},setScale:function(r){const f=this.scaleX!==r,a=this.scaleY!==r;if(f){var d=this.scaleX=r;null==d?v(this,"scaleX"):u(this,"scaleX",d||1)}a&&(d=this.scaleY=r,null==d?v(this,"scaleY"):u(this,"scaleY",d||1));this.inited&&((f||a)&&this.__updateBounds(this.width,this.height),
f&&this.fireEvent("scaleX",r),a&&this.fireEvent("scaleY",r))},setScaleX:function(r){if(this.scaleX!==r){var f=this.scaleX=r;null==f?v(this,"scaleX"):u(this,"scaleX",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",r))}},setScaleY:function(r){if(this.scaleY!==r){var f=this.scaleY=r;null==f?v(this,"scaleY"):u(this,"scaleY",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",r))}},setSkewX:function(r){this.skewX!==r&&(this.skewX=
r,u(this,"skewX",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",r)))},setSkewY:function(r){this.skewY!==r&&(this.skewY=r,u(this,"skewY",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",r)))},__updateBounds:function(r,f){const a=this.rotation;var d=this.scaleX;const b=this.scaleY;d=(null==d||1===d)&&(null==b||1===b);if(!d||null!=a&&0!==a&&180!==a)!d||90!==a&&270!==a?(f=this.getODE().getBoundingClientRect(),r=f.width,f=f.height):
(r=this.height,f=this.width);this.callSuper(r,f)}})})(myt);
(n=>{const u=JS.Module,v=(d,b)=>{if("auto"===b)d.__hasSetWidth=!1,d.getODS().width="auto",d.sizeViewToDom();else return d.__hasSetWidth=!0},r=(d,b)=>{if("auto"===b)d.__hasSetHeight=!1,d.getODS().height="auto",d.sizeViewToDom();else return d.__hasSetHeight=!0},f=d=>{if(!d.__hasSetWidth){const b=d.getODE().offsetWidth/d.getEffectiveScaleX();d.width!==b&&(d.width=b,d.inited&&d.__updateBounds(b,d.height),d.fireEvent("width",b))}},a=d=>{if(!d.__hasSetHeight){const b=d.getODE().offsetHeight/d.getEffectiveScaleY();
d.height!==b&&(d.height=b,d.inited&&d.__updateBounds(d.width,b),d.fireEvent("height",b))}};n.SizeToDom=new u("SizeToDom",{extend:{sizeWidth:f,sizeHeight:a},initNode:function(d,b){this.callSuper(d,b);this.sizeViewToDom()},setWidth:function(d,b){v(this,d)&&this.callSuper(d,b)},setHeight:function(d,b){r(this,d)&&this.callSuper(d,b)},sizeViewToDom:function(){f(this);a(this)}});n.SizeWidthToDom=new u("SizeWidthToDom",{initNode:function(d,b){this.callSuper(d,b);this.sizeViewToDom()},setWidth:function(d,
b){v(this,d)&&this.callSuper(d,b)},sizeViewToDom:function(){f(this)}});n.SizeHeightToDom=new u("SizeHeightToDom",{initNode:function(d,b){this.callSuper(d,b);this.sizeViewToDom()},setHeight:function(d,b){r(this,d)&&this.callSuper(d,b)},sizeViewToDom:function(){a(this)}})})(myt);
(n=>{const u=(a,d,b,e)=>{a[b]!==d&&(a[b]=d,a.getIDS()[b]=d||e||"inherit",a.inited&&(a.fireEvent(b,d),a.sizeViewToDom()))};n.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,d){this.callSuper(a,d);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a||this.sizeViewToDom())},setText:function(a){a||="";a=this.valueFromEvent(a);this.text!==a&&(this.getIDE().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==
a&&(this.textOverflow=a,this.getIDS().textOverflow=a||"inherit",this.inited&&this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getIDS().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){u(this,a,"whiteSpace")},setWordWrap:function(a){u(this,a,"wordWrap","normal")},setTextIndent:function(a){u(this,a,"textIndent")},setTextTransform:function(a){u(this,a,"textTransform")},setTextDecoration:function(a){u(this,
a,"textDecoration")},setLineHeight:function(a){u(this,a,"lineHeight")},setLetterSpacing:function(a){u(this,a,"letterSpacing")},setWordSpacing:function(a){u(this,a,"wordSpacing")},setFontFamily:function(a){u(this,a,"fontFamily")},setFontStyle:function(a){u(this,a,"fontStyle")},setFontVariant:function(a){u(this,a,"fontVariant")},setFontWeight:function(a){u(this,a,"fontWeight")},setFontSize:function(a){u(this,a,"fontSize")},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=
a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,d,b,e){this.getIDS().textShadow=(a||0)+"px "+(d||0)+"px "+(null!=b?b:2)+"px "+(e||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}});const v=(a,d,b)=>{const e="padding"+b;d=Math.max(d,0);a[e]!==d&&(a[e]=d,a.getIDS()[e]=d+"px",a.fireEvent(e,d),"Left"===b||"Right"===b?r(a):f(a))},r=a=>{a.__hasSetWidth&&(a.getODS().width=a.width-(a.paddingLeft||0)-(a.paddingRight||0)+"px",a.inited&&a.sizeViewToDom())},f=a=>{a.__hasSetHeight&&(a.getODS().height=a.height-(a.paddingTop||0)-(a.paddingBottom||0)+"px",a.inited&&a.sizeViewToDom())};n.PaddedTextSupport=new JS.Module("PaddedTextSupport",{setWidth:function(a,d){this.callSuper(a,d);
r(this)},setHeight:function(a,d){this.callSuper(a,d);f(this)},setPadding:function(a){let d,b,e;a||=0;"object"===typeof a?(d=a.top||0,b=a.right||0,e=a.bottom||0,a=a.left||0):d=b=e=a;this.setPaddingTop(d);this.setPaddingRight(b);this.setPaddingBottom(e);this.setPaddingLeft(a)},setPaddingTop:function(a){v(this,a,"Top")},setPaddingRight:function(a){v(this,a,"Right")},setPaddingBottom:function(a){v(this,a,"Bottom")},setPaddingLeft:function(a){v(this,a,"Left")}})})(myt);
(n=>{const u={},v={},r=f=>{const a=f.imageUrl;if(f.calculateNaturalSize&&a){var d=u[a];if(d)f.setNaturalWidth(d.width),f.setNaturalHeight(d.height);else{d=v[a];if(!d){v[a]=d=[];const b=new Image;b.onerror=e=>{if(e=v[a]){let c=e.length;for(;c;)e[--c].setImageLoadingError(!0);e.length=0;delete v[a]}};b.onload=()=>{const e=b.width,c=b.height,l=v[a];if(l){let g=l.length;for(;g;){const t=l[--g];t.imageUrl===a&&(t.setNaturalWidth(e),t.setNaturalHeight(c))}l.length=0;delete v[a]}u[a]={width:e,height:c}};
b.src=a}d.push(f)}}};n.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:f=>u[f]},initNode:function(f,a){this.defAttr(a,"imageRepeat","no-repeat");this.defAttr(a,"imageAttachment","scroll");this.callSuper(f,a)},setImageUrl:function(f){this.imageUrl!==f&&(this.imageUrl=f,this.getIDS().backgroundImage=f?'url("'+f+'")':"none",this.inited&&(this.fireEvent("imageUrl",f),this.setNaturalWidth(),this.setNaturalHeight(),!f&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),r(this))},
setImageLoadingError:function(f){this.set("imageLoadingError",f,!0)},setImageSize:function(f){this.imageSize!==f&&(this.imageSize=f,this.getIDS().backgroundSize=f||"auto",this.inited&&this.fireEvent("imageSize",f))},setImageRepeat:function(f){this.imageRepeat!==f&&(this.getIDS().backgroundRepeat=this.imageRepeat=f,this.inited&&this.fireEvent("imageRepeat",f))},setImagePosition:function(f){this.imagePosition!==f&&(this.getIDS().backgroundPosition=this.imagePosition=f,this.inited&&this.fireEvent("imagePosition",
f))},setImageAttachment:function(f){this.imageAttachment!==f&&(this.getIDS().backgroundAttachment=this.imageAttachment=f,this.inited&&this.fireEvent("imageAttachment",f))},setCalculateNaturalSize:function(f){this.calculateNaturalSize!==f&&(this.calculateNaturalSize=f,this.inited&&this.fireEvent("calculateNaturalSize",f),r(this))},setNaturalWidth:function(f){this.naturalWidth!==f&&(this.naturalWidth=f,this.inited&&this.fireEvent("naturalWidth",f),this.useNaturalSize&&f&&this.setWidth(f))},setNaturalHeight:function(f){this.naturalHeight!==
f&&(this.naturalHeight=f,this.inited&&this.fireEvent("naturalHeight",f),this.useNaturalSize&&f&&this.setHeight(f))},setUseNaturalSize:function(f){this.useNaturalSize!==f&&(this.useNaturalSize=f,this.inited&&this.fireEvent("useNaturalSize",f),f&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),f&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(n=>{const u=JS.Class,v=n.View,r=n.SizeToDom,f=n.AccessorSupport.defAttr;n.Flexbox=new u("Flexbox",v,{include:[n.FlexboxSupport]});n.Frame=new u("Frame",v,{initNode:function(a,d){f(d,"tagName","iframe");this.callSuper(a,d);a=n.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getIDE().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});n.Markup=new u("Markup",v,{include:[r],setHtml:function(a){this.html!==a&&(this.getIDE().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});n.Text=new u("Text",v,{include:[r,n.TextSupport],initNode:function(a,d){f(d,"whiteSpace",
"nowrap");f(d,"userUnselectable",!0);this.callSuper(a,d)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getIDS(),d=a.whiteSpace;a.whiteSpace="nowrap";const b=this.getODE().getBoundingClientRect().width;a.whiteSpace=d;return b}});n.PaddedText=new u("PaddedText",n.Text,{include:[n.PaddedTextSupport]});n.Image=new u("Image",v,{include:[n.ImageSupport],initNode:function(a,d){f(d,"useNaturalSize",!0);this.callSuper(a,d)}});n.BackView=new u("BackView",v,{sendSubviewToBack:function(a){if(a.parent===
this){const d=this.getIDE(),b=d.childNodes[1];a=a.getODE();a!==b&&(a=d.removeChild(a))&&d.insertBefore(a,b)}}})})(myt);
(n=>{const u=Math.round,v=d=>{const b=d.parent;b&&0<=d.percentOfParentWidth&&d.syncTo(b,"__doPOPW","width")},r=d=>{0<=d.percentOfParentWidth&&d.detachFrom(d.parent,"__doPOPW","width")},f=d=>{const b=d.parent;b&&0<=d.percentOfParentHeight&&d.syncTo(b,"__doPOPH","height")},a=d=>{0<=d.percentOfParentHeight&&d.detachFrom(d.parent,"__doPOPH","height")};n.SizeToParent=new JS.Module("SizeToParent",{setParent:function(d){this.parent!==d&&(this.inited&&(r(this),a(this)),this.callSuper(d),v(this),f(this))},
setPercentOfParentWidthOffset:function(d){this.percentOfParentWidthOffset!==d&&(this.percentOfParentWidthOffset=d,this.inited&&(this.fireEvent("percentOfParentWidthOffset",d),this.__doPOPW()))},setPercentOfParentWidth:function(d){this.percentOfParentWidth!==d&&(this.inited&&r(this),this.percentOfParentWidth=d,this.inited&&this.fireEvent("percentOfParentWidth",d),v(this))},setPercentOfParentHeightOffset:function(d){this.percentOfParentHeightOffset!==d&&(this.percentOfParentHeightOffset=d,this.inited&&
(this.fireEvent("percentOfParentHeightOffset",d),this.__doPOPH()))},setPercentOfParentHeight:function(d){this.percentOfParentHeight!==d&&(this.inited&&a(this),this.percentOfParentHeight=d,this.inited&&this.fireEvent("percentOfParentHeight",d),f(this))},__doPOPW:function(d){this.setWidth((this.percentOfParentWidthOffset||0)+u(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(d){this.setHeight((this.percentOfParentHeightOffset||0)+u(this.percentOfParentHeight/
100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);(n=>{let u;const v=[];new JS.Singleton("GlobalRootViewRegistry",{include:[n.Observable],initialize:function(){n.global.register("roots",u=this)},getRoots:()=>v,addRoot:r=>{v.push(r);u.fireEvent("rootAdded",r)},removeRoot:r=>{let f=v.length;for(;f;){const a=v[--f];if(a===r){v.splice(f,1);u.fireEvent("rootRemoved",a);break}}}})})(myt);
(n=>{const u=n.global.roots,v=n.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:r=>{const f=r.__captureDrop=a=>{a.preventDefault()};r=r.getIDE();n.addEventListener(r,"drop",f);n.addEventListener(r,"dragover",f)},teardownCaptureDrop:r=>{const f=r.getIDE();r=r.__captureDrop;n.removeEventListener(f,"drop",r);n.removeEventListener(f,"dragover",r)}},initNode:function(r,f){this.callSuper(r,f);this.setZIndex(0);this.addDomClass("myt");u.addRoot(this);v.setupCaptureDrop(this)},createOurDomElement:function(r){r||
(r=this.callSuper(r),n.getElement().appendChild(r));return r},destroy:function(){v.teardownCaptureDrop(this);u.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(r){this.keepDomElementWhenDestroyed=r},setParent:r=>{},bringToFront:function(){var r=this.getIDE();const f=r.parentNode;r!==f.lastChild&&(r=f.removeChild(r))&&f.appendChild(r)},sendToBack:function(){var r=this.getIDE();const f=r.parentNode;r!==f.firstChild&&
(r=f.removeChild(r))&&f.insertBefore(r,f.firstChild)},sendBehind:function(r){var f=this.getIDE();r=r.getIDE();const a=f.parentNode;r.parentNode===a&&(f=a.removeChild(f))&&a.insertBefore(f,r)},sendInFrontOf:function(r){r.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(r),r.sendBehind(this))}})})(myt);
(n=>{let u,v,r,f=!1;const a=window,d={};new JS.Singleton("GlobalIdle",{include:[n.Observable],initialize:function(){const b=this,e=["webkit","moz","ms","o"];for(let c=0;c<e.length&&!a.requestAnimationFrame;){const l=e[c++];a.requestAnimationFrame=a[l+"RequestAnimationFrame"];a.cancelAnimationFrame=a[l+"CancelAnimationFrame"]||a[l+"CancelRequestAnimationFrame"]}v=c=>{u=a.requestAnimationFrame(v);-1!==r&&(c=Math.round(c),d.delta=c-r,d.time=c,b.fireEvent("idle",d));r=c};n.global.register("idle",b)},
attachObserver:function(b,e,c){b=this.callSuper(b,e,c);!f&&this.hasObservers("idle")&&(f=!0,r=-1,u=a.requestAnimationFrame(v));return b},detachObserver:function(b,e,c){b=this.callSuper(b,e,c);f&&!this.hasObservers("idle")&&(a.cancelAnimationFrame(u),f=!1);return b}})})(myt);
(n=>{let u,v;const r=n.global,f=r.idle,a=window.document;new JS.Singleton("GlobalWindowResize",{include:[n.Observable,n.Observer],initialize:function(){this.attachTo(f,"__setup","idle");r.register("windowResize",this)},__setup:function(d){const b=this,e=a.body;e&&(b.detachFrom(f,"__setup","idle"),(new ResizeObserver(()=>{b.fireEvent("resize",{w:u=e.clientWidth,h:v=e.clientHeight})})).observe(e))},getWidth:()=>u||=a.body.clientWidth,getHeight:()=>v||=a.body.clientHeight})})(myt);
(n=>{const u=JS.Module,v=n.global.windowResize,r=n.AccessorSupport.defAttr,f=d=>{const b=d.resizeDimension;"both"!==b&&"width"!==b||d.setWidth(Math.max(d.minWidth,v.getWidth()));"both"!==b&&"height"!==b||d.setHeight(Math.max(d.minHeight,v.getHeight()))},a=n.SizeToWindow=new u("SizeToWindow",{include:[n.RootView],initNode:function(d,b){this.minWidth=this.minHeight=0;r(b,"resizeDimension","both");this.attachTo(v,"__hndlResize","resize");this.callSuper(d,b)},setResizeDimension:function(d){this.resizeDimension!==
d&&(this.resizeDimension=d,f(this))},setMinWidth:function(d){this.minWidth!==d&&(this.minWidth=d,f(this))},setMinHeight:function(d){this.minHeight!==d&&(this.minHeight=d,f(this))},__hndlResize:function(d){f(this)}});n.SizeToWindowWidth=new u("SizeToWindowWidth",{include:[a],initNode:function(d,b){r(b,"resizeDimension","width");this.callSuper(d,b)}});n.SizeToWindowHeight=new u("SizeToWindowHeight",{include:[a],initNode:function(d,b){r(b,"resizeDimension","height");this.callSuper(d,b)}})})(myt);
(n=>{const u=Math,v=u.max,r=u.min,f=h=>r(255,v(0,u.round(h))),a=h=>{h=f(h).toString(16);return 1===h.length?"0"+h:h},d=(h,m,q,p)=>[p?"#":"",a(h),a(m),a(q)].join(""),b=h=>new t((16711680&h)>>16,(65280&h)>>8,255&h),e=(h,m,q)=>(f(h)<<16)+(f(m)<<8)+f(q),c=(h,m)=>{if("string"===typeof h)if(h.endsWith("%"))h=parseFloat(h.substring(0,h.length-1))*m/100;else return 0;h=r(m,v(0,h))/m;return 1E-6>u.abs(1-h)?1:h},l=(h,m,q)=>{h=c(h,255);m=c(m,255);q=c(q,255);const p=v(h,m,q),w=p-r(h,m,q);if(0===w)return{h:0,
s:0,v:p};let A;switch(p){case h:A=(m-q)/w+(m<q?6:0);break;case m:A=(q-h)/w+2;break;case q:A=(h-m)/w+4}return{h:60*A,s:0===p?0:w/p,v:p}},g=(h,m,q)=>{h=6*c(h,360);m=c(m,100);q=c(q,100);var p=u.floor(h);const w=h-p;h=q*(1-m);const A=q*(1-w*m);m=q*(1-(1-w)*m);p%=6;return{red:255*[q,A,h,h,m,q][p],green:255*[m,q,q,A,h,h][p],blue:255*[h,h,m,q,q,A][p]}},t=n.Color=new JS.Class("Color",{extend:{toUnitRange:c,rgbToHsv:l,hsvToRgb:g,toHex:a,rgbToHex:d,cleanChannelValue:f,getRedChannel:h=>(16711680&h)>>16,getGreenChannel:h=>
(65280&h)>>8,getBlueChannel:h=>255&h,makeColorFromNumber:b,makeColorFromHexString:h=>{if(h){h.startsWith("#")||(h="#"+h);if(4===h.length){const m=h.substring(1,2),q=h.substring(2,3);h=h.substring(3,4);h="#"+m+m+q+q+h+h}return b(parseInt(h.substring(1),16))}},makeColorFromHSV:(h,m,q)=>{h=g(h,m,q);return b(e(h.red,h.green,h.blue))},getLighterColor:(h,m)=>b(h).isLighterThan(b(m))?h:m,makeColorNumberFromChannels:e,makeBlendedColor:(h,m,q)=>new t(h.red+q*(m.red-h.red),h.green+q*(m.green-h.green),h.blue+
q*(m.blue-h.blue))},initialize:function(h,m,q){this.setRed(h);this.setGreen(m);this.setBlue(q)},setRed:function(h){this.red=f(h)},setGreen:function(h){this.green=f(h)},setBlue:function(h){this.blue=f(h)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return d(this.red,this.green,this.blue,!0)},getHSV:function(){return l(this.red,this.green,this.blue)},isLighterThan:function(h){h=this.getDiffFrom(h);return 0>h.red+h.green+h.blue},getDiffFrom:function(h){return{red:h.red-
this.red,green:h.green-this.green,blue:h.blue-this.blue}},applyDiff:function(h){return this.add(h)},add:function(h){this.setRed(this.red+h.red);this.setGreen(this.green+h.green);this.setBlue(this.blue+h.blue);return this},subtract:function(h){this.setRed(this.red-h.red);this.setGreen(this.green-h.green);this.setBlue(this.blue-h.blue);return this},multiply:function(h){this.setRed(this.red*h);this.setGreen(this.green*h);this.setBlue(this.blue*h);return this},divide:function(h){this.setRed(this.red/
h);this.setGreen(this.green/h);this.setBlue(this.blue/h);return this},clone:function(){return new t(this.red,this.green,this.blue)},equals:function(h){return h===this||h&&h.isA&&h.isA(t)&&h.red===this.red&&h.green===this.green&&h.blue===this.blue}})})(myt);
(n=>{const u=Math,v=u.max,r=u.sin,f=u.cos,a=u.pow,d=u.sqrt,b=u.PI,e=2*b,c=b/2,l={linear:p=>p,inQuad:p=>p*p,outQuad:p=>-p*(p-2),inOutQuad:p=>1>(p*=2)?p*p/2:-(--p*(p-2)-1)/2,inCubic:p=>p*p*p,outCubic:p=>--p*p*p+1,inOutCubic:p=>1>(p*=2)?p*p*p/2:((p-=2)*p*p+2)/2,inQuart:p=>p*p*p*p,outQuart:p=>-(--p*p*p*p-1),inOutQuart:p=>1>(p*=2)?p*p*p*p/2:-((p-=2)*p*p*p-2)/2,inQuint:p=>p*p*p*p*p,outQuint:p=>--p*p*p*p*p+1,inOutQuint:p=>1>(p*=2)?p*p*p*p*p/2:((p-=2)*p*p*p*p+2)/2,inSine:p=>-f(p*c)+1,outSine:p=>r(p*c),inOutSine:p=>
-(f(p*b)-1)/2,inCirc:p=>-(d(1-p*p)-1),outCirc:p=>d(1- --p*p),inOutCirc:p=>1>(p*=2)?-(d(1-p*p)-1)/2:(d(1-(p-=2)*p)+1)/2,inExpo:p=>0===p?0:a(2,10*(p-1)),outExpo:p=>1===p?1:-a(2,-10*p)+1,inOutExpo:p=>0===p||1===p?p:1>(p*=2)?a(2,10*(p-1))/2:(-a(2,-10*--p)+2)/2,inElastic:p=>0===p||1===p?p:-(a(2,10*--p)*r((1*p-.075)*e/.3)),outElastic:p=>0===p||1===p?p:a(2,-10*p)*r((1*p-.075)*e/.3)+1,inOutElastic:p=>0===p||1===p?p:1>(p*=2)?-(a(2,10*--p)*r((1*p-.1125)*e/.45))/2:a(2,-10*--p)*r((1*p-.1125)*e/.45)/2+1,inBack:(p,
w=1.70158)=>(p/=1)*p*((w+1)*p-w),outBack:(p,w=1.70158)=>(p=p/1-1)*p*((w+1)*p+w)+1,inOutBack:(p,w=1.70158)=>1>(p*=2)?p*p*(((w*=1.525)+1)*p-w)/2:((p-=2)*p*(((w*=1.525)+1)*p+w)+2)/2,inBounce:p=>1-l.outBounce(1-p),outBounce:p=>p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,inOutBounce:p=>1>(p*=2)?l.inBounce(p)/2:(l.outBounce(p-1)+1)/2},g=n.global.idle,t=n.Color.makeColorFromHexString,h=p=>{p.__tmpFrom=!1;p.__loopCnt=p.reverse?
p.repeat-1:0;p.__prog=p.reverse?p.duration:0},m=(p,w)=>{if(p.running&&!p.paused){const G=p.reverse,I=p.duration,J=p.repeat;G&&(w*=-1);var A=p.__prog;p.__prog+=w;w=0;p.__prog>I?(w=p.__prog-I,p.__prog=I,++p.__loopCnt===J&&(w=0)):0>p.__prog&&(w=-p.__prog,p.__prog=0,0>--p.__loopCnt&&0<J&&(w=0));var y=p.target||p.parent;if(y){var B=A,C=p.relative,D=p.duration;A=p.attribute;var k=v(0,p.__prog/D);B=v(0,B/D);null==p.from&&(p.__tmpFrom=!0,p.from=C?p.__isColorAnim?"#000":0:y.get(A));B=p.easingFunction(k)-(C?
p.easingFunction(B):0);var x=C?y.get(A):p.from;D=p.to;k=y.set;if(p.__isColorAnim){var z=x;x=t(p.from);D=t(D);C=C?t(z):x;C.setRed(C.red+(D.red-x.red)*B);C.setGreen(C.green+(D.green-x.green)*B);C.setBlue(C.blue+(D.blue-x.blue)*B);C=C.getHtmlHexString()}else C=x+(D-p.from)*B;k.call(y,A,C);!G&&p.__loopCnt===J||G&&0>p.__loopCnt&&0<J?(p.setRunning(!1),p.callback&&p.callback.call(p,!0)):0<w&&(p.fireEvent("repeat",p.__loopCnt),p.__prog=G?I:0,m(p,w))}else console.log("No target for animator",p),p.setRunning(!1),
p.callback&&p.callback.call(p,!1)}},q=n.Animator=new JS.Class("Animator",n.Node,{include:[n.Reusable],extend:{easings:l,EASING:l.inOutQuad},initNode:function(p,w){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=q.EASING;this.callSuper(p,w);h(this)},setRunning:function(p){if(this.running!==p&&(this.running=p,this.inited&&this.fireEvent("running",p),!this.paused)){if(p){const w=this.target||this.parent;this.__isColorAnim=w&&"function"===typeof w.isColorAttr?
w.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),h(this);this[p?"attachTo":"detachFrom"](g,"__updateAnim","idle")}},setPaused:function(p){if(this.paused!==p&&(this.paused=p,this.inited&&this.fireEvent("paused",p),this.running))this[p?"detachFrom":"attachTo"](g,"__updateAnim","idle")},setReverse:function(p){this.reverse!==p&&(this.reverse=p,this.inited&&this.fireEvent("reverse",p),this.running||h(this))},setEasingFunction:function(p){"string"===typeof p&&(p=l[p]);p||(p=
q.EASING);this.set("easingFunction",p,!0)},setFrom:function(p){this.set("from",p,!0)},setTo:function(p){this.set("to",p,!0)},setCallback:function(p){this.callback=p},next:function(p,w){const A=this,y=A.callback;y&&!w?A.setCallback(B=>{y.call(A,B);p.call(A,B)}):A.setCallback(p)},reset:function(p){h(this);this.setRunning(!1);this.setPaused(!1);p&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=
!1;this.repeat=1;this.easingFunction=q.EASING;this.reset(!1)},__updateAnim:function(p){m(this,p.value.delta)}})})(myt);
(n=>{const u=Array.isArray,v=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},r=(a,d)=>{if(a.__transInProgress){var b=a.__deferredTransitions;b||(b=a.__deferredTransitions=[]);b.unshift(d)}else{a.__transInProgress=!0;b=d.shift();const e=d.shift();if(a.__pendingTransition)return 3;if(a.isFinished())return a.__transInProgress=!1,5;let c=a.map[a.current][e];c||=a.map["*"][e];if(c)return a.__pendingTransition=e,a.__transDestinationState=c,a.__additionalArgs=
d,a.resumeTransition(b);a.__transInProgress=!1;return 5}},f=a=>{a.__transInProgress=!1;const d=a.__deferredTransitions;if(d)for(;0<d.length;)r(a,d.pop())};n.StateMachine=new JS.Class("StateMachine",n.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,d){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";v(this);this.callSuper(a,d)},setInitialState:function(a){if(""===this.current){if(u(a)){var d=a;a=d.shift()}else d=[];this.current=
this.initial=a;this.doEnterState("","",a,d);d={name:"",from:"",to:a,args:d};this.fireEvent("enter"+a,d);this.fireEvent("enter",d);this.isFinished()&&this.fireEvent("finished",d)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(d=>this.addTransition(...d))},addTransition:function(a,d,b){d=d?u(d)?d:[d]:["*"];const e=this.map;let c=d.length;for(;c;)(e[d[--c]]||(e[d[c]]={}))[a]=b},doTransition:function(...a){a.unshift("sync");return r(this,a)},doAsyncTransition:function(...a){a.unshift("async");
return r(this,a)},resumeTransition:function(a){const d=this.__pendingTransition;if(!d)return 4;const b=this.current,e=this.__transDestinationState,c=this.__additionalArgs,l={name:d,from:b,to:e,args:c},g=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const t=this.doLeaveState(d,b,e,c);if(!1===t)return v(this),f(this),2;if("async"===t||"async"===a)return this.__transStage="enterState",g("start"+d,l),g("start",l),g("leave"+b,l),g("leave",l),f(this),3;g("start"+d,l);g("start",l);
g("leave"+b,l);g("leave",l);case "enterState":this.current=e,v(this),this.doEnterState(d,b,e,c),g("enter"+e,l),g("enter",l),g("end"+d,l),g("end",l),this.isFinished()&&g("finished",l)}f(this);return 1},doLeaveState:(a,d,b,e)=>{},doEnterState:(a,d,b,e)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return u(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==
this.map["*"][a]}})})(myt);
(n=>{const u=(a,d)=>a.replicationIndex-d.replicationIndex,v=(a,d)=>{let b=a.length,e;for(;b;)e=a[--b],e.decrementLockedCounter(),d&&e.update()},r=a=>{f(a);const d=a.template;d&&(a.__pool=new n.TrackActivesPool(d,a.parent))},f=a=>{const d=a.__pool;if(d){const b=a.parent.getLayouts();a=b;let e=a.length;for(;e;)a[--e].incrementLockedCounter();d.putActives();d.destroyPooledInstances();v(b,!1);d.destroy()}};n.Replicable=new JS.Module("Replicable",{include:[n.Reusable],replicate:function(a,d){this.replicationData=
a;this.replicationIndex=d},notify:(a,d)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,d){return d===this.replicationIndex&&a===this.replicationData}});n.Replicator=new JS.Class("Replicator",n.Node,{initNode:function(a,d){this.callSuper(a,d);r(this);this.doReplication()},destroy:function(){f(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(n.Replicable)?a:null)||n.dumpStack("Template not replicable");this.inited&&
(r(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let d;if(a){d=this.parent.getLayouts();for(var b=d.length;b;)d[--b].incrementLockedCounter();const e=(b=this.data)?b.length:0,c=a.getActives(),l=c.length,g=[];let t=l,h,m;for(c.sort(u);t;)if(h=c[--t],m=h.replicationIndex,m>=e||!h.alreadyHasReplicationData(b[m],m))g[m]=h;for(t=g.length;t;)(h=g[--t])&&
a.putInstance(h);for(t=0;e>t;++t)(t>=l||null!=g[t])&&a.getInstance().replicate(b[t],t);for(t=d.length;t;)d[--t].sortSubviews(u);v(d,!0)}},notify:function(a,d){var b=this.__pool;if(b){b=b.getActives();let e=b.length;for(;e;)b[--e].notify(a,d)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(n=>{let u,v,r;const f=[],a=[],d=c=>{const l=r;l!==c&&(l&&(l.notifyDragLeave(v),v.destroyed||v.notifyDragLeaving(l),u("dragLeave",l)),r=c)&&(c.notifyDragEnter(v),v.destroyed||v.notifyDragEntering(c),u("dragEnter",l))},b=c=>{let l=v;l!==c&&((v=c)?(l=c,e(l,a).forEach(g=>{g.notifyDragStart(l)}),e(l,f).forEach(g=>{g.notifyAutoScrollerDragStart(l)}),u("startDrag",c)):(e(l,a).forEach(g=>{g.notifyDragStop(l)}),e(l,f).forEach(g=>{g.notifyAutoScrollerDragStop(l)}),u("stopDrag",c)))},e=(c,l)=>{if(c.destroyed)return[];
if(c.acceptAnyDragGroup())return l;const g=[];c=c.getDragGroups();let t=l.length;for(;t;){const h=l[--t];if(h.acceptAnyDragGroup())g.push(h);else{const m=h.getDragGroups();for(const q in c)if(m[q]){g.push(h);break}}}return g};new JS.Singleton("GlobalDragManager",{include:[n.Observable],initialize:function(){n.global.register("dragManager",this);u=this.fireEvent.bind(this)},getDragView:()=>v,registerAutoScroller:c=>{f.push(c)},unregisterAutoScroller:c=>{let l=f.length;for(;l;)if(f[--l]===c){f.splice(l,
1);break}},registerDropTarget:c=>{a.push(c)},unregisterDropTarget:c=>{let l=a.length;for(;l;)if(a[--l]===c){a.splice(l,1);break}},startDrag:c=>{b(c)},stopDrag:(c,l,g)=>{l.notifyDropped(r,g);r&&!g&&r.notifyDrop(l);d();b();r&&!g&&u("drop",[l,r])},updateDrag:(c,l)=>{const g=e(l,a);let t=g.length,h;if(0<t){var m=c.value;c=m.pageX;for(m=m.pageY;t;){let q=g[--t];q.willAcceptDrop(l)&&l.willPermitDrop(q)&&q.isPointVisible(c,m)&&(!h||q.isInFrontOf(h))&&(h=q)}}d(h)}})})(myt);
(n=>{const u=JS.Module,v=n.global,r=v.mouse,f=v.keys,a=v.idle,d=n.AccessorSupport.defAttr;n.Activateable=new u("Activateable",{doActivated:()=>{}});n.UpdateableUI=new u("UpdateableUI",{initNode:function(b,e){this.callSuper(b,e);this.updateUI()},updateUI:()=>{}});n.Disableable=new u("Disableable",{initNode:function(b,e){d(e,"disabled",!1);this.callSuper(b,e)},setDisabled:function(b){b=this.valueFromEvent(b);this.disabled!==b&&(this.disabled=b,this.inited&&this.fireEvent("disabled",b),this.doDisabled())},
doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});n.KeyActivation=new u("KeyActivation",{extend:{ACTIVATION_KEYS:[f.CODE_ENTER,f.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(b,e){this.activateKeyDown="";d(e,"activationKeys",n.KeyActivation.ACTIVATION_KEYS);this.callSuper(b,e);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,
"__doDomBlur","blur")},setActivationKeys:function(b){this.activationKeys=b},setRepeatKeyDown:function(b){this.repeatKeyDown=b},__hndlKeyDown:function(b){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const e=n.KeyObservable.getCodeFromEvent(b),c=this.activationKeys;let l=c.length;for(;l;)if(e===c[--l]){this.activateKeyDown===e?this.doActivationKeyDown(e,!0):(this.activateKeyDown=e,this.doActivationKeyDown(e,!1));b.value.preventDefault();break}}},__hndlKeyPress:function(b){if(!this.disabled){const e=
n.KeyObservable.getCodeFromEvent(b);if(this.activateKeyDown===e){const c=this.activationKeys;let l=c.length;for(;l;)if(e===c[--l]){b.value.preventDefault();break}}}},__hndlKeyUp:function(b){if(!this.disabled){const e=n.KeyObservable.getCodeFromEvent(b);if(this.activateKeyDown===e){const c=this.activationKeys;let l=c.length;for(;l;)if(e===c[--l]){this.activateKeyDown="";this.doActivationKeyUp(e);b.value.preventDefault();break}}}},__doDomBlur:function(b){this.disabled||(b=this.activateKeyDown,""!==
b&&(this.activateKeyDown="",this.doActivationKeyAborted(b)))},doActivationKeyDown:(b,e)=>{},doActivationKeyUp:function(b){this.doActivated()},doActivationKeyAborted:b=>{}});n.MouseOver=new u("MouseOver",{initNode:function(b,e){d(e,"mouseOver",!1);this.callSuper(b,e);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(b){this.mouseOver!==b&&(this.mouseOver=b,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(a,
"__doMouseOverOnIdle","idle")))},setDisabled:function(b){this.callSuper(b);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const b=this.mouseOver;this.__lastOverIdleValue!==b&&(this.__lastOverIdleValue=b,this.doSmoothMouseOver(b))},doSmoothMouseOver:function(b){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(b){this.__disabledOver=
!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(b){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});n.MouseDown=new u("MouseDown",{initNode:function(b,e){d(e,"mouseDown",!1);this.callSuper(b,e);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(b){this.mouseDown!==b&&(this.mouseDown=b,this.inited&&(b&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(b){b&&this.mouseDown&&
this.setMouseDown(!1);this.callSuper(b)},doMouseOver:function(b){this.callSuper(b);this.mouseDown&&this.detachFromDom(r,"doMouseUp","mouseup",!0)},doMouseOut:function(b){this.callSuper(b);!this.disabled&&this.mouseDown&&this.attachToDom(r,"doMouseUp","mouseup",!0)},doMouseDown:function(b){this.disabled||this.setMouseDown(!0)},doMouseUp:function(b){this.mouseOver||this.detachFromDom(r,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(b))},
doMouseUpInside:function(b){this.doActivated&&this.doActivated()}});n.MouseOverAndDown=new u("MouseOverAndDown",{include:[n.MouseOver,n.MouseDown]});n.Draggable=new u("Draggable",{initNode:function(b,e){let c=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=e.isDraggable&&(c=e.isDraggable,delete e.isDraggable);this.callSuper(b,e);this.setIsDraggable(c)},setIsDraggable:function(b){if(this.isDraggable!==b){this.isDraggable=
b;let e;b?e=this.attachToDom:this.inited&&(e=this.detachFromDom);if(e){b=this.getDragViews();let c=b.length;for(;c;){const l=b[--c];e.call(this,l,"__doMouseDown","mousedown");e.call(this,l,"__doContextMenu","contextmenu")}}}},setIsDragging:function(b){this.set("isDragging",b,!0)},setDragOffsetX:function(b,e){this.dragOffsetX!==b&&(this.dragOffsetX=b,this.inited&&this.isDragging&&!e&&this.reRequestDragPosition())},setDragOffsetY:function(b,e){this.dragOffsetY!==b&&(this.dragOffsetY=b,this.inited&&
this.isDragging&&!e&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(b){this.distanceBeforeDrag=b},setDraggableAllowBubble:function(b){this.draggableAllowBubble=b},setCenterOnMouse:function(b){this.centerOnMouse=b},setAllowAbort:function(b){this.allowAbort=b},getDragViews:function(){return[this]},__doContextMenu:b=>{},__doMouseDown:function(b){const e=n.MouseObservable.getMouseFromEvent(b),c=this.getODE();this.dragInitX=e.x-c.offsetLeft;this.dragInitY=e.y-c.offsetTop;this.attachToDom(r,
"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(r,"__doDragCheck","mousemove",!0):this.startDrag(b);b.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(b){this.isDragging?this.stopDrag(b,!1):(this.detachFromDom(r,"__doMouseUp","mouseup",!0),this.detachFromDom(r,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(b){b.value===f.CODE_ESC&&this.stopDrag(b,!0)},__doDragCheck:function(b){const e=n.MouseObservable.getMouseFromEvent(b);
n.Geometry.measureDistance(e.x,e.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(n.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(b))},startDrag:function(b){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(f,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(r,"updateDrag","mousemove",!0);this.updateDrag(b)},updateDrag:function(b){this.__lastMousePosition=
n.MouseObservable.getMouseFromEvent(b);this.reRequestDragPosition()},__updateDragInitX:function(b){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(b){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(b,e){this.detachFromDom(r,"__doMouseUp","mouseup",!0);this.detachFromDom(r,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(f,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(b,e){this.disabled||(this.setX(b),this.setY(e))},reRequestDragPosition:function(){const b=this.__lastMousePosition;this.requestDragPosition(b.x-this.dragInitX+this.dragOffsetX,b.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(n=>{const u=JS.Class;var v=JS.Module,r=n.View;const f=n.KeyActivation,a=n.AccessorSupport.defAttr,d=n.Button=new v("Button",{include:[n.Activateable,n.UpdateableUI,n.Disableable,n.MouseOverAndDown,f],extend:{FOCUS_SHADOW:[0,0,7,"#666"],DISABLED_OPACITY:.5},initNode:function(b,e){a(e,"focusable",!0);a(e,"cursor","pointer");this.callSuper(b,e)},setFocused:function(b){const e=this.focused;this.callSuper(b);this.inited&&this.focused!==e&&this.updateUI()},doActivationKeyDown:function(b,e){e||this.updateUI()},
doActivationKeyUp:function(b){this.callSuper(b);this.updateUI()},doActivationKeyAborted:function(b){this.callSuper(b);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const b=this.__restoreCursor;b&&(this.setCursor(b),this.__restoreCursor=null);this.activateKeyDown!==f.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});v=n.SimpleButtonStyle=new v("SimpleButtonStyle",{include:[d],setActiveColor:function(b){this.activeColor!==b&&(this.activeColor=b,this.inited&&this.updateUI())},setHoverColor:function(b){this.hoverColor!==
b&&(this.hoverColor=b,this.inited&&this.updateUI())},setReadyColor:function(b){this.readyColor!==b&&(this.readyColor=b,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(b,e=1){this.setOpacity(e);this.setBgColor(b)}});r=n.SimpleButton=new u("SimpleButton",r,{include:[v],initNode:function(b,
e){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(b,e)}});n.SimpleTextButton=new u("SimpleTextButton",r,{initNode:function(b,e){this.inset=this.outset=0;a(e,"shrinkToFit",!1);a(e,"height",24);a(e,"textY","middle");this.callSuper(b,e);b=this.textY;e={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?e.valign=b:e.y=b;b=new n.Text(this,e);this.constrain("__updateContent",[this,"inset",this,
"outset",this,"width",this,"shrinkToFit",b,"visible",b,"width",b,"height",b,"y"])},setInset:function(b){this.set("inset",this.valueFromEvent(b),!0)},setOutset:function(b){this.set("outset",this.valueFromEvent(b),!0)},setText:function(b){this.text!==b&&(this.text=b,this.inited&&(this.textView.setText(b),this.fireEvent("text",b)))},setShrinkToFit:function(b){const e=this.textView;this.shrinkToFit!==b&&(this.shrinkToFit=b,this.inited&&(e&&e.setWhiteSpace(b?"nowrap":"normal"),this.fireEvent("shrinkToFit",
b)))},setTextY:function(b){const e=this.textView;this.textY!==b&&(this.textY=b,this.inited&&(this.fireEvent("textY",b),"string"===typeof b?e.setValign(b):(e.setValign(""),e.setY(b))))},__updateContent:function(b){if(!this.__updateContentLoopBlock&&!this.destroyed){b=this.inset;const e=this.outset,c=this.textView;this.__updateContentLoopBlock=!0;c.setX(b);this.shrinkToFit?this.setWidth(b+(c.visible&&this.text?c.width:0)+e):c.setWidth(this.width-b-e);this.__updateContentLoopBlock=!1}}});n.TextButton=
new u("TextButton",n.PaddedText,{include:[v],initNode:function(b,e){a(e,"focusIndicator",!1);a(e,"roundedCorners",3);a(e,"textAlign","center");a(e,"paddingTop",1);a(e,"height",23-(e.paddingTop||0));a(e,"activeColor","#ddd");a(e,"hoverColor","#eee");a(e,"readyColor","#fff");this.callSuper(b,e)}})})(myt);
(n=>{const u=n.global,v=u.focus,r=u.mouse,f={};n.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>f[a]},initNode:function(a,d){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,d)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,d,b){a=a||this.floatingPanelId;b=b||{};b.panelId=a;return f[a]=new d(null,b)},getFloatingPanel:function(a){return f[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const d=this.getFloatingPanel(a=a||this.floatingPanelId);d&&d.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;if(a&&a.isShown())return a;if(this.callSuper)return this.callSuper()},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});n.FloatingPanel=new JS.Class("FloatingPanel",n.View,{include:[n.RootView],initNode:function(a,d){a=document.createElement("div");a.style.position="absolute";n.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;d.visible=d.focusIndicator=!1;d.focusable=d.focusCage=!0;this.callSuper(a,d)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var d=a.value;a=d.pageX;d=d.pageY;this.containsPoint(a,d)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,d)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(v.focusedView))this.owner[(v.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(a);else{const d=this.getFirstFocusableDescendant();d===this?this.callSuper(a):d.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&v.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(r,"__doMouseDown","mousedown",!0),this.attachTo(v,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(r,"__doMouseDown","mousedown",!0),this.detachFrom(v,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const d=this.panelId,b=a.getFloatingAlignForPanelId(d),e=a.getFloatingValignForPanelId(d),c=a.getPagePosition();let l=0,g=0,t=typeof b;if("string"===t)switch(l=c.x+a.getFloatingAlignOffsetForPanelId(d),b){case "outsideRight":l+=a.width;break;case "insideRight":l+=a.width-this.width;
break;case "outsideLeft":l-=this.width;break;case "insideLeft":break;default:console.warn("Invalid align value",t,b)}else"number"===t?l=b:console.warn("Invalid align type",t,b);this.setX(l);t=typeof e;if("string"===t)switch(g=c.y+a.getFloatingValignOffsetForPanelId(d),e){case "outsideBottom":g+=a.height;break;case "insideBottom":g+=a.height-this.height;break;case "outsideTop":g-=this.height;break;case "insideTop":break;default:console.warn("Invalid valign value",t,e)}else"number"===t?g=e:console.warn("Invalid valign type",
t,e);this.setY(g)}})})(myt);
(n=>{const u=JS.Class,v=JS.Module;var r=n.global;const f=r.focus,a=r.keys,d=n.AccessorSupport.defAttr,b=a.LIST_KEYS,e=c=>{var l=c.itemConfig||[];const g=l.length,t=c.items,h=t.length;var m=c.defaultItemClass;const q=c.getContentView(),p=q.getLayouts();p.forEach(D=>{D.incrementLockedCounter()});const w=q.getODE(),A=w.nextSibling,y=w.parentNode;y.removeChild(w);let B=0;for(;g>B;++B){var C=l[B];const D=C.klass||m;C=C.attrs||{};let k=t[B];k&&!k.isA(D)&&(k.destroy(),k=null);k||=t[B]=new D(q,{listView:c});
k&&(k.callSetters(C),k.__LAYOUT_IDX=B)}y.insertBefore(w,A);l=c.minWidth;for(B=0;g>B;)m=t[B++],m.syncToDom(),l=Math.max(l,m.getMinimumWidth());for(;h>B;)t[B++].destroy();t.length=g;for(B=0;g>B;)c.updateItemWidth(t[B++],l);c.updateContentWidth(q,l);p.forEach(D=>{D.sortSubviews((k,x)=>k.__LAYOUT_IDX-x.__LAYOUT_IDX);D.decrementLockedCounter();D.update()})};r=n.ListViewItemMixin=new v("ListViewItemMixin",{setListView:function(c){this.listView=c},getMinimumWidth:()=>0,syncToDom:()=>{}});n.ListView=new u("ListView",
n.FloatingPanel,{initNode:function(c,l){this.items=[];this.maxHeight=-1;this.minWidth=0;d(l,"defaultItemClass",n.ListViewItem);d(l,"overflow","autoy");d(l,"bgColor","#ccc");d(l,"boxShadow",n.Button.FOCUS_SHADOW);this.callSuper(c,l);e(this);this.buildLayout(this.getContentView())},buildLayout:c=>{new n.SpacedLayout(c,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(c){this.minWidth=c},setDefaultItemClass:function(c){this.defaultItemClass=c},setItemConfig:function(c){this.itemConfig=c;
this.inited&&e(this)},getContentView:function(){return this},setMaxHeight:function(c){this.maxHeight!==c&&(this.maxHeight=c,this.inited&&(this.fireEvent("maxHeight",c),this.setHeight(this.height)))},setHeight:function(c,l){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,c):c,l)},doItemActivated:function(c){this.owner&&this.owner.doItemActivated(c)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const c=this.items,
l=c.length;for(let g=0;l>g;){const t=c[g++];if(t.isFocusable())return t}},getLastFocusableItem:function(){const c=this.items;let l=c.length;for(;l;){const g=c[--l];if(g.isFocusable())return g}},updateItemWidth:(c,l)=>{c.setWidth(l)},updateContentWidth:(c,l)=>{c.setWidth(l)}});n.ListViewAnchor=new v("ListViewAnchor",{include:[n.FloatingPanelAnchor],initNode:function(c,l){d(l,"listViewClass",n.ListView);d(l,"listViewAttrs",{});d(l,"itemConfig",[]);d(l,"activationKeys",b);this.callSuper(c,l)},setListViewClass:function(c){this.listViewClass=
c},setListViewAttrs:function(c){this.listViewAttrs=c},setItemConfig:function(c){this.itemConfig=c},doItemActivated:function(c){this.hideFloatingPanel()},getFloatingPanel:function(c){return this.callSuper(c)||this.createFloatingPanel(c,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(c){const l=this.getFloatingPanel(c);l&&(l.setItemConfig(this.itemConfig),this.callSuper(c))},doActivationKeyDown:function(c,l){if(c===a.CODE_ESC)this.hideFloatingPanel();else{switch(c){case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:this.selectLastItem();
break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:this.selectFirstItem()}this.callSuper(c,l)}},doActivationKeyUp:function(c){if(c!==a.CODE_ESC)switch(this.callSuper(c),c){case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:this.selectLastItem();break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:this.selectFirstItem()}},selectLastItem:function(){var c=this.getFloatingPanel();c&&c.isShown()&&(c=c.getLastFocusableItem())&&c.focus()},selectFirstItem:function(){var c=this.getFloatingPanel();c&&c.isShown()&&
(c=c.getFirstFocusableItem())&&c.focus()}});n.ListViewItem=new u("ListViewItem",n.SimpleTextButton,{include:[r],initNode:function(c,l){d(l,"activeColor","#bbb");d(l,"hoverColor","#fff");d(l,"readyColor","#eee");d(l,"inset",8);d(l,"outset",8);d(l,"activationKeys",b);this.callSuper(c,l)},syncToDom:function(){this.textView.getIDS().width="auto";this.textView.sizeViewToDom()},getMinimumWidth:function(){return this.inset+(this.textView.visible&&this.text?Math.ceil(this.textView.measureNoWrapWidth()):0)+
this.outset},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(c,l){switch(c){case a.CODE_ESC:this.listView.owner.hideFloatingPanel();return;case a.CODE_ARROW_LEFT:case a.CODE_ARROW_UP:f.prev();break;case a.CODE_ARROW_RIGHT:case a.CODE_ARROW_DOWN:f.next()}this.callSuper(c,l)}});n.ListViewSeparator=new u("ListViewSeparator",n.View,{include:[r],initNode:function(c,l){d(l,"height",1);d(l,"bgColor","#666");this.callSuper(c,l)}})})(myt);
(n=>{const u=n.AccessorSupport,v={},r=n.BAG=new JS.Class("BAG",{include:[u,n.Destructible,n.Observable],extend:{getGroup:(f,a)=>{if(f&&a){const d=v[f]||(v[f]={});return d[a]||(d[a]=new r(f,a))}},removeGroup:(f,a)=>{if(f&&a&&(f=v[f])){const d=f[a];d&&delete f[a];return d}}},initialize:function(f,a){this.__nodes=[];this.trueNode=null;this.attrName=f;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&r.removeGroup(this.attrName,this.groupId);this.__nodes.length=
0;this.detachAllObservers();this.callSuper()},setGroupId:function(f){this.set("groupId",f,!0)},setAttrName:function(f){this.set("attrName",f,!0)},setTrueNode:function(f){this.set("trueNode",f,!0)},getNodes:function(){return this.__nodes},register:function(f){f&&!this.isRegistered(f)&&(this.__nodes.push(f),f[this.attrName]&&this.setTrue(f))},unregister:function(f){if(f){const a=this.__nodes;let d=a.length;for(;d;)if(f===a[--d]){a.splice(d,1);break}this.trueNode===f&&this.setTrueNode(null);0===a.length&&
this.destroy()}},setTrue:function(f){if(f&&this.trueNode!==f&&this.isRegistered(f)){const a=this.attrName,d=u.generateSetterName(a),b=this.__nodes;let e=b.length;for(this.setTrueNode(f);e;){const c=b[--e];if(f===c){if(!c[a])c[d](!0)}else if(c[a])c[d](!1)}}},setFalse:function(f){f&&this.trueNode===f&&(f[u.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(f){const a=this.__nodes;let d=a.length;for(;d;)if(f===a[--d])return!0;return!1}});n.BAGMembership=new JS.Module("BAGMembership",
{initNode:function(f,a){this.__bags=[];this.callSuper(f,a)},destroy:function(){const f=this.__bags;let a=f.length;for(;a;){const d=f[--a];this.removeFromBAG(d.attrName,d.groupId)}this.callSuper()},isRegisteredWithBAG:function(f){const a=this.__bags;let d=a.length;for(;d;)if(a[--d]===f)return!0;return!1},getBAG:(f,a)=>r.getGroup(f,a),addToBAG:function(f,a){a=this.getBAG(f,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,"__updateForBAG",f)||this.attachTo(this,
"__updateForBAG",f))},removeFromBAG:function(f,a){a=this.getBAG(f,a);if(this.isRegisteredWithBAG(a)){const d=this.__bags;let b=d.length,e=!0;for(;b;){const c=d[--b];c===a?(d.splice(b,1),a.unregister(this)):c.attrName===f&&(e=!1)}e&&this.detachFrom(this,"__updateForBAG",f)}},__updateForBAG:function(f){this.__bags.forEach(a=>{if(a.attrName===f.type)a[f.value?"setTrue":"setFalse"](this)})}})})(myt);
(n=>{const u=n.AccessorSupport.defAttr,v=r=>{const f=r.label||"";r.setText('<i class="far fa-'+(!0===r.selected?"dot-":"")+'circle"></i>'+(0<f.length?" ":"")+f)};n.Radio=new JS.Class("Radio",n.Text,{include:[n.SimpleButtonStyle,n.BAGMembership],initNode:function(r,f){u(f,"selected",!1);null==f.groupId&&(f.groupId=n.generateGuid());u(f,"focusIndicator",!1);u(f,"activeColor","inherit");u(f,"hoverColor","inherit");u(f,"readyColor","inherit");const a=f.value;delete f.value;this.callSuper(r,f);this.setValue(a);
this.selected&&(r=this.getBAG("selected",this.groupId))&&r.setTrue(this);n.FontAwesome.registerForNotification(this);v(this)},setOptionValue:function(r){this.set("optionValue",r,!0)},setValue:function(r){if(this.inited){const f=this.getBAG("selected",this.groupId);if(f){const a=f.getNodes();let d=a.length;for(;d;){const b=a[--d];if(b.optionValue===r){f.setTrue(b);break}}}}},getValue:function(){var r=this.getBAG("selected",this.groupId);return(r=r?r.trueNode:null)?r.optionValue:null},setSelected:function(r){this.selected!==
r&&(this.selected=r,this.inited&&(this.fireEvent("selected",r),v(this)))},setGroupId:function(r){if(this.groupId!==r){const f=this.groupId;this.groupId=r;f&&this.removeFromBAG("selected",f);r&&this.addToBAG("selected",r);this.inited&&this.fireEvent("groupId",r)}},setLabel:function(r){this.label!==r&&(this.set("label",r,!0),this.inited&&v(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(r,f=1){this.setOpacity(f);this.setTextColor(r)}})})(myt);
(n=>{const u=JS.Module,v=n.global.keys,r=n.Selectable=new u("Selectable",{setSelected:function(a){a=this.valueFromEvent(a);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return!!this.selected},canSelect:a=>!0,canDeselect:a=>!0}),f=n.SelectionManager=new u("SelectionManager",{extend:{isAddMode:()=>v.isShiftKeyDown(),isToggleMode:()=>v.isAcceleratorKeyDown()},initNode:function(a,d){this.__selected={};this.__lastSelectedItem=null;
d.selectedCount=0;this.defAttr(d,"itemSelectionId","id");this.defAttr(d,"maxSelected",-1);this.callSuper(a,d)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>f.isAddMode(),isToggleMode:()=>f.isToggleMode(),getSelected:function(){const a=[],d=this.__selected;for(const b in d)a.push(d[b]);return a},select:function(a){a&&
!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const d=this.maxSelected,b=this.selectedCount;if(0===d)return!1;if(1===d){if(0<b&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<d&&b>=d)return!1;return a.canSelect(this)},
selectAll:function(){const a=this.getSelectableItems();let d=a.length;for(;d;)this.select(a[--d])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},
deselectAll:function(){const a=this.__selected;for(const d in a)this.deselect(a[d])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],d=this.getSubviews();let b=d.length;for(;b;){const e=d[--b];e.isA(r)&&a.push(e)}return a},getSelectableItems:function(){const a=this.getManagedItems();let d=a.length;for(;d;)a[--d].canSelect(this)||a.splice(d,1);return a},getSelectableItem:function(a){const d=
this.getSelectableItems(),b=this.itemSelectionId;let e=d.length;for(;e;){const c=d[--e];if(c[b]===a)return c}}})})(myt);
(n=>{const u=JS.Class,v=n.View,r=n.SizeToParent,f=n.AccessorSupport.defAttr,a=n.TabSlider=new u("TabSlider",v,{include:[n.Selectable,n.Disableable,r],initNode:function(b,e){const c=this;let l;e.defaultPlacement="wrapper.container";e.percentOfParentWidth=100;e.expansionState="collapsed";null==e.tabId&&(e.tabId=n.generateGuid());f(e,"tabContainer",b);f(e,"selected",!1);f(e,"buttonClass",n.SimpleButton);f(e,"zIndex",0);f(e,"buttonHeight",30);f(e,"fillColorSelected","#666");f(e,"fillColorHover","#eee");
f(e,"fillColorActive","#ccc");f(e,"fillColorReady","#fff");f(e,"minContainerHeight",100);e.selected&&(l=!0,delete e.selected);c.callSuper(b,e);new c.buttonClass(c,{name:"button",ignorePlacement:!0,zIndex:1,height:c.buttonHeight,focusIndicator:!0,groupId:c.parent.parent.groupId,percentOfParentWidth:100,hoverColor:c.fillColorHover,activeColor:c.fillColorActive,readyColor:c.fillColorReady},[r,{doActivated:()=>{const g=c.tabContainer;c.isSelected()&&1!==g.maxSelected?g.deselect(c):g.select(c)},updateUI:function(){this.callSuper();
c.selected&&-1!==c.tabContainer.maxSelected&&this.setBgColor(c.fillColorSelected);c.notifyButtonRedraw()}}]);b=new v(c,{name:"wrapper",ignorePlacement:!0,y:c.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[r,{setHeight:function(g,t){this.callSuper(Math.round(g),t)},setWidth:function(g,t){this.callSuper(g,t);this.inited&&this.container.setWidth(g)}}]);new n.SizeToChildren(new v(b,{name:"container"}),{axis:"y"});c.constrain("__updateHeight",[b,"y",b,"height"]);
l&&c.tabContainer.select(c);!0===e.disabled&&c.setDisabled(!0);c.setHeight(c.getCollapsedHeight())},setSelected:function(b){this.callSuper(b);this.button&&this.button.updateUI()},setTabId:function(b){this.tabId=b},setTabContainer:function(b){this.tabContainer=b},setMinContainerHeight:function(b){this.minContainerHeight=b},setButtonClass:function(b){this.buttonClass=b},setFillColorSelected:function(b){this.fillColorSelected=b},setFillColorHover:function(b){this.fillColorHover=b},setFillColorActive:function(b){this.fillColorActive=
b},setFillColorReady:function(b){this.fillColorReady=b},setButtonHeight:function(b){this.buttonHeight!==b&&(this.buttonHeight=b,this.button&&(this.button.setHeight(b),this.wrapper.setY(b)))},setExpansionState:function(b){if(this.expansionState!==b){this.expansionState=b;this.inited&&this.fireEvent("expansionState",b);const e=this.wrapper;e&&("expanded"===b?(e.setMaskFocus(!1),e.setOverflow("auto")):"expanding"===b?e.setVisible(!0):"collapsed"===b?e.setVisible(!1):"collapsing"===b&&(e.setMaskFocus(!0),
e.setOverflow("hidden")))}},doDisabled:function(){const b=this.button;b&&b.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(b){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(b){const e=this,c=e.wrapper;b-=e.getCollapsedHeight();e.setExpansionState("expanding");c.stopActiveAnimators();if(c.height!==b){const l=e.tabContainer.duration;1===l?(c.setHeight(b),e.setExpansionState("expanded")):c.animate({attribute:"height",to:b,duration:l}).next(g=>{e.setExpansionState("expanded")})}else e.setExpansionState("expanded")},
collapse:function(){const b=this,e=b.wrapper;b.setExpansionState("collapsing");e.stopActiveAnimators();if(0!==e.height){const c=b.tabContainer.duration;1===c?(e.setHeight(0),b.setExpansionState("collapsed")):e.animate({attribute:"height",to:0,duration:c}).next(l=>{b.setExpansionState("collapsed")})}else b.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},
getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}});n.TextTabSlider=new u("TextTabSlider",a,{initNode:function(b,e){f(e,"labelTextColorChecked","#fff");f(e,"labelTextColor","#333");this.callSuper(b,e);new n.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(b){this.labelTextColorChecked=b},setLabelTextColor:function(b){this.labelTextColor=
b},setText:function(b){if(this.text!==b){this.text=b;const e=this.button;e&&e.label&&e.label.setText(b)}},notifyButtonRedraw:function(){const b=this.button.label;b&&b.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});const d=n.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[n.SelectionManager],extend:{SPACING:1},initNode:function(b,e){const c=this;c._tabSliders=[];
e.defaultPlacement="container";f(e,"spacing",d.SPACING);f(e,"overflow","autoy");f(e,"itemSelectionId","tabId");f(e,"maxSelected",1);f(e,"duration",500);c.updateLayout=n.debounce(c.updateLayout);c.callSuper(b,e);b=new v(c,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[r,{subnodeAdded:function(l){this.callSuper(l);l instanceof a&&(c._tabSliders.push(l),c.attachTo(l,"updateLayout","selected"))},subnodeRemoved:function(l){if(l instanceof a){const g=c._tabSliders;let t=g.length;for(;t;)if(g[--t]===
l){c.detachFrom(l,"updateLayout","selected");g.splice(t,1);break}}this.callSuper(l)}}]);new n.SpacedLayout(b,{name:"layout",axis:"y",spacing:c.spacing,collapseParent:!0});c.attachTo(c,"updateLayout","height")},setSpacing:function(b){this.spacing!==b&&(this.spacing=b,this.layout&&this.layout.setSpacing(b))},setDuration:function(b){this.duration=b},updateLayout:function(b,e){b=this._tabSliders;for(var c=b.length,l=c,g=0,t=0,h=0;l;){var m=b[--l];m.visible&&(++h,m.selected?(g+=m.getMinimumExpandedHeight(),
t+=m.getPreferredExpandedHeight()):(m=m.getCollapsedHeight(),g+=m,t+=m))}l=this.container.layout;h=l.inset+l.outset+l.spacing*(h-1);t+=h;l=this.height;g=g+h>l;h=t>l;m=this.duration;t-=l;0<e&&this.setDuration(e);for(l=c;l;)if(c=b[--l],c.visible)if(c.selected){let q;if(g)q=c.getMinimumExpandedHeight();else if(h){const p=c.getPreferredExpandedHeight(),w=c.getMinimumExpandedHeight();q=p-t;w>q?(t-=p-w,q=w):t=0}else q=c.getPreferredExpandedHeight();c.expand(q)}else c.collapse();0<e&&this.setDuration(m)}})})(myt);
(n=>{const u=n.AccessorSupport.defAttr,v=a=>{const d=[];switch(a.tabContainer.location){case "top":d.push("TopLeft","TopRight");break;case "bottom":d.push("BottomLeft","BottomRight");break;case "left":d.push("TopLeft","BottomLeft");break;case "right":d.push("TopRight","BottomRight")}d.forEach(b=>{a["setRounded"+b+"Corner"](a.cornerRadius||0)})},r=n.Tab=new JS.Class("Tab",n.SimpleTextButton,{include:[n.Selectable],extend:{INSET:8,OUTSET:8},initNode:function(a,d){null==d.tabId&&(d.tabId=n.generateGuid());
u(d,"tabContainer",a);let b;d.selected&&(b=!0,delete d.selected);u(d,"inset",r.INSET);u(d,"outset",r.OUTSET);u(d,"selectedColor","#fff");u(d,"hoverColor","#eee");u(d,"activeColor","#aaa");u(d,"readyColor","#ccc");u(d,"labelTextSelectedColor","#333");u(d,"height",24);u(d,"focusIndicator",!1);u(d,"cornerRadius",6);this.callSuper(a,d);b&&this.tabContainer.select(this);v(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(a){this.tabId=a},
setTabContainer:function(a){this.tabContainer=a},setSelectedColor:function(a){this.selectedColor=a},setLabelTextColor:function(a){this.labelTextColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&v(this)},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}}),f=n.TabContainer=new JS.Module("TabContainer",{include:[n.SelectionManager],extend:{SPACING:1,INSET:0},initNode:function(a,d){this.__tabs=[];u(d,"spacing",f.SPACING);u(d,"inset",f.INSET);u(d,"location","top");u(d,"itemSelectionId","tabId");u(d,"maxSelected",1);this.callSuper(a,d);new n.SpacedLayout(this,{name:"layout",axis:"left"===this.location||
"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(r))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(r)){const d=this.__tabs;let b=d.length;for(;b;)if(d[--b]===a){d.splice(b,1);break}}this.callSuper(a)}})})(myt);
(n=>{const u=JS.Class,v=Math.min,r=Array.isArray,f=n.global.keys,a=n.SizeToDom;var d=n.View,b=n.Disableable;const e=n.AccessorSupport.defAttr,c=n.Button.FOCUS_SHADOW,l=(m,q,p)=>{m[p]!==q&&(m[p]=q,m.getIDS()[p]=q+"px",m.inited&&(m.fireEvent(p,q),m.sizeViewToDom()))},g=(m,q,p)=>{m[q]!==p&&(m.getIDE()[q]=m[q]=p,m.inited&&m.fireEvent(q,p))},t=n.NativeInputWrapper=new u("NativeInputWrapper",d,{include:[b,n.InputObservable],initNode:function(m,q){e(q,"tagName","input");e(q,"focusable",!0);this.callSuper(m,
q);this.addDomClass("mytNativeInput")},createOurDomElement:function(m){m=this.callSuper(m);this.inputType&&((r(m)?m[1]:m).type=this.inputType);return m},setDisabled:function(m){this.disabled!==m&&(this.getIDE().disabled=m,this.callSuper(m))},setValue:function(m){this.value!==m&&(this.value=m,this.setDomValue(m),this.inited&&this.fireEvent("value",m))},getDomValue:function(){return this.getIDE().value},setDomValue:function(m){const q=this.getIDE();q.value!==m&&(q.value=m)}}),h=n.InputSelectOption=
new u("InputSelectOption",d,{include:[b,n.Selectable],createOurDomElement:m=>document.createElement("option"),setSelected:function(m){m=this.valueFromEvent(m);const q=this.getIDE();q.selected!==m&&(q.selected=m)},setDisabled:function(m){this.disabled!==m&&(this.getIDE().disabled=m,this.callSuper(m))},setValue:function(m){g(this,"value",m)},setLabel:function(m){this.label!==m&&(this.getIDE().textContent=this.label=m,this.inited&&this.fireEvent("label",m))},isSelected:function(){return this.getIDE().selected},
canSelect:function(m){return!this.disabled&&!this.getIDE().selected&&this.parent===m},canDeselect:function(m){return!this.disabled&&this.getIDE().selected&&this.parent===m}});d=n.BaseInputText=new u("BaseInputText",t,{include:[n.TextSupport],initNode:function(m,q){e(q,"bgColor","transparent");e(q,"spellcheck",!1);this.callSuper(m,q);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(m){this.callSuper(m);
this.setValue(m)},setSpellcheck:function(m){g(this,"spellcheck",m)},setMaxLength:function(m){g(this,"maxLength",null==m||0>m?void 0:m)},setAllowedChars:function(m){this.allowedChars=m},setPlaceholder:function(m){g(this,"placeholder",m)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(c)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(m){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(m){const q=
m.value,p=this.allowedChars;p&&-1===p.indexOf(n.KeyObservable.getKeyFromEvent(m))&&q.preventDefault();this.filterInputPress(q)},filterInput:m=>m,filterInputPress:m=>{},__syncToDom:function(m){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const m=document.selection.createRange();m.moveStart("character",-this.getDomValue().length);return m.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(m,q){if(null==q||m===q){if(this.getCaretPosition()===
m)return;q=m}var p=this.getIDE();p.setSelectionRange?p.setSelectionRange(m,q):p.createTextRange&&(p=p.createTextRange(),p.collapse(!0),p.moveEnd("character",q),p.moveStart("character",m),p.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const m=this.getIDE();return{start:m.selectionStart,startElem:m,end:m.selectionEnd,endElem:m}},setSelection:function(m){m&&
this.setCaretPosition(m.start,m.end)},saveSelection:function(m){this._selRange=m||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});b=n.InputText=new u("InputText",d,{include:[n.SizeHeightToDom],initNode:function(m,q){this.inputType=!0===q.password?"password":"text";this.callSuper(m,q);this.setCaretToEnd()},setPassword:function(m){this.password=m}});n.EditableText=new u("EditableText",d,{include:[a],initNode:function(m,q){e(q,"tagName","div");q.inputType=
null;e(q,"whiteSpace","pre");e(q,"contentEditable",!0);this.callSuper(m,q);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(m){l(this,m,"minWidth")},setMinHeight:function(m){l(this,m,"minHeight")},setPadding:function(m){this.setPaddingTop(m);this.setPaddingRight(m);this.setPaddingBottom(m);this.setPaddingLeft(m)},setPaddingTop:function(m){l(this,m,"paddingTop")},
setPaddingRight:function(m){l(this,m,"paddingRight")},setPaddingBottom:function(m){l(this,m,"paddingBottom")},setPaddingLeft:function(m){l(this,m,"paddingLeft")},setContentEditable:function(m){g(this,"contentEditable",m)},filterInputPress:function(m){const q=this.maxLength;0<=q&&this.getCharacterCount()===q&&m.preventDefault();this.callSuper(m)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(m){const q=this.getIDE();q.innerHTML!==m&&(q.innerHTML=m,this.sizeViewToDom(),
this.restoreSelection())},__cleanInput:function(m){n.KeyObservable.isEnterKeyEvent(m)&&(m.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(m){this.callSuper(m);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const m=this.getIDE().firstChild;return m?m.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const m=
this.getSelection();return m?m.end:0},setCaretPosition:function(m,q){if(null==q||m===q){if(this.getCaretPosition()===m)return;q=m}this.saveSelection({start:m,startElem:this.getIDE().firstChild,end:q,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(m){this.saveSelection();return!0},getSelection:function(){let m;if(window.getSelection){const q=window.getSelection();if(0<q.rangeCount){if(q.extentNode===this.getIDE())return;m=
q.getRangeAt(0)}}else document.selection&&(m=document.selection.createRange());return{start:m?m.startOffset:0,startElem:m?m.startContainer:this.getIDE().firstChild,end:m?m.endOffset:0,endElem:m?m.endContainer:this.getIDE().firstChild}},setSelection:function(m){if(m){const q=m.startElem,p=m.endElem;if(q&&q.parentNode&&p&&p.parentNode){const w=document.createRange();w.setStart(q,v(m.start,q.length));w.setEnd(p,v(m.end,p.length));window.getSelection?(m=window.getSelection(),0<m.rangeCount&&m.removeAllRanges(),
m.addRange(w)):document.selection&&w.select()}}}});n.InputTextArea=new u("InputTextArea",d,{initNode:function(m,q){e(q,"tagName","textarea");q.inputType=null;e(q,"resize","none");e(q,"wrap","soft");this.callSuper(m,q)},destroy:function(){this.__resizeObserver&&this.__resizeObserver.unobserve(this.getIDE());this.callSuper()},setResize:function(m){const q=this;q.resize!==m&&(m=q.resize=q.getIDS().resize=m||"none",q.inited&&q.fireEvent("resize",m),"none"!==m&&(q.__resizeObserver||(q.__resizeObserver=
new ResizeObserver(()=>{q.doResize()}))).observe(q.getIDE()))},setWrap:function(m){g(this,"wrap",m)},doResize:function(){const m=this.resize;"both"!==m&&"horizontal"!==m||a.sizeWidth(this);"both"!==m&&"vertical"!==m||a.sizeHeight(this)}});n.ComboBox=new u("ComboBox",b,{include:[n.Activateable,n.KeyActivation,n.ListViewAnchor],initNode:function(m,q){this.filterItems=!0;e(q,"activationKeys",[f.CODE_ENTER,f.CODE_ESC,f.CODE_ARROW_UP,f.CODE_ARROW_DOWN]);e(q,"bgColor","#fff");e(q,"borderWidth",1);e(q,"borderStyle",
"solid");e(q,"floatingAlignOffset",q.borderWidth);e(q,"listViewAttrs",{maxHeight:99});e(q,"fullItemConfig",[]);this.callSuper(m,q)},setFullItemConfig:function(m){this.fullItemConfig=m},setFilterItems:function(m){this.filterItems=m},__syncToDom:function(m){const q=this.value;this.callSuper(m);q!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(m){const q=this.getFloatingPanel(m);if(q){let w;if(this.filterItems){w=[];var p=this.value;p=null==p?"":(""+p).toLowerCase();const A=this.fullItemConfig,
y=A.length;for(let B=0;y>B;){const C=A[B++],D=C.attrs.text.toLowerCase(),k=D.indexOf(p);0===k?D!==p&&w.push(C):0<k&&w.push(C)}}else w=this.fullItemConfig;0<w.length?(q.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(w),this.callSuper(m)):this.hideFloatingPanel(m)}},doItemActivated:function(m){this.setValue(m.text);this.callSuper(m)},doActivated:function(){this.toggleFloatingPanel()}});n.InputSelect=new u("InputSelect",t,{include:[a],initNode:function(m,q){e(q,"tagName","select");q.inputType=
null;e(q,"multiple",!1);e(q,"size",q.multiple?4:1);this.callSuper(m,q);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(m){g(this,"multiple",m)},setSize:function(m){g(this,"size",m)},setOptions:function(m){this.destroyAllOptions();r(m)&&m.forEach(q=>{this.addOption(q)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(m){r(m)&&n.areArraysEqual(m,this.value)||this.value===m||(this.value=m,this.inited&&this.fireEvent("value",m))},subviewAdded:function(m){m instanceof
h||(n.dumpStack("Subview unsupported. Destroying it"),m.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(c)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(m=>m.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(m=>m.value)},getOptionForValue:function(m){return this.getOptions().find(q=>q.value===m)},addOption:function(m){return new h(this,
m)},destroyAllOptions:function(){this.getOptions().forEach(m=>{m.destroy()})},destroyOptionWithValue:function(m){if(m=this.getOptionForValue(m))if(m.destroy(),m.destroyed)return!0;return!1},deselectAll:function(){let m=!1;this.getOptions().forEach(q=>{q.isSelected()&&(q.setSelected(!1),m=!0)});m&&this.__doChanged()},selectValues:function(m){(r(m)?m:[m]).forEach(q=>{this.selectValue(q)})},selectValue:function(m){this.select(this.getOptionForValue(m))},select:function(m){m&&m.canSelect(this)&&(m.setSelected(!0),
this.__syncToDom())},deselectValue:function(m){this.deselect(this.getOptionForValue(m))},deselect:function(m){m&&m.canDeselect(this)&&(m.setSelected(!1),this.__syncToDom())},__doChanged:function(m){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(n=>{const u=JS.Module,v=Math.round;var r=n.ValueComponent=new u("ValueComponent",{initNode:function(a,d){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,d)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,d){const b=this.valueFilter;
this.setValueFilter(b?"last"===d?e=>a(b(e)):e=>b(a(e)):a)}});const f=n.RangeComponent=new u("RangeComponent",{include:[r],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var d=
this.value;const b=d?d.lower:void 0;d=d?d.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==b||a.upper!==d){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const e=a.lower;a.lower=a.upper;a.upper=e}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==b&&this.fireEvent("lowerValue",a.lower),a.upper!==d&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});r=n.BoundedValueComponent=new u("BoundedValueComponent",{include:[r],initNode:function(a,d){const b=this;b.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==d.snapToInt&&(d.snapToInt=!0);d.valueFilter||(d.valueFilter=e=>{var c=b.maxValue;if(null!=c&&e>c)return c;c=b.minValue;return null!=c&&e<c?c:e});b.callSuper(a,d)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=v(a));if(this.minValue!==a){const d=this.maxValue;null!=d&&a>d&&(a=d);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=v(a));if(this.maxValue!==a){const d=this.minValue;null!=d&&a<d&&(a=d);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",a),this.setValue(this.value)))}},
setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?v(a):a)}});n.BoundedRangeComponent=new u("BoundedRangeComponent",{include:[r,f],initNode:function(a,d){const b=this;d.valueFilter||(d.valueFilter=e=>{if(e){const c=b.maxValue,l=b.minValue;null!=c&&e.upper>c&&(e.upper=c);null!=l&&e.lower<l&&(e.lower=l)}return e});b.callSuper(a,d)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=v(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=v(a.upper)));
this.callSuper(a)}})})(myt);
(n=>{const u=n.AccessorSupport.defAttr,v=r=>{const f=r.label||"";r.setText('<i class="'+("solid"===(r.checkboxStyle||"outline")?"fas":"far")+" fa-"+(r.isChecked()?"check-":"")+'square"></i>'+(0<f.length?" ":"")+f)};n.Checkbox=new JS.Class("Checkbox",n.Text,{include:[n.SimpleButtonStyle,n.ValueComponent],initNode:function(r,f){this.appendToEarlyAttrs("userUnselectable");u(f,"value",!1);u(f,"focusIndicator",!1);u(f,"checkboxStyle","outline");u(f,"activeColor","inherit");u(f,"hoverColor","inherit");
u(f,"readyColor","inherit");this.callSuper(r,f);n.FontAwesome.registerForNotification(this);v(this)},setValue:function(r){this.value!==r&&(this.callSuper(r),this.inited&&v(this))},setLabel:function(r){this.label!==r&&(this.set("label",r,!0),this.inited&&v(this))},setCheckboxStyle:function(r){this.checkboxStyle!==r&&(this.set("checkboxStyle",r,!0),this.inited&&v(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(r,f=1){this.setOpacity(f);
this.setTextColor(r)}})})(myt);
(n=>{let u;const v=JS.Class,r=JS.Module,f=n.global,a=f.focus,d=f.keys,b=n.AccessorSupport.defAttr,e=n.KeyObservable,c={},l=(k,x)=>{if(k){const z=k.id;k.id?x(z):n.dumpStack("No ID")}else n.dumpStack("No processor")},g=k=>{l(k,x=>{c[x]=k})},t=k=>{const x=n.BAG.getGroup("selected",k.groupId);if(x){const z=x.getNodes();k=k.value;let G=z.length;for(;G;){const I=z[--G];if(I.optionValue===k){x.setTrue(I);break}}}},h=k=>{if(k.groupId){const x=n.BAG.getGroup("selected",k.groupId);x&&k.syncTo(x,"__syncValue",
"trueNode")}},m=(k,x)=>{const z=[];k.__v.forEach(G=>{x=G.isFormValid(k,null,z)&&x});k.setErrorMessages(z);k.setIsValid(x);return x},q=(k,x,z)=>{k.__vp.forEach(G=>{G[z]&&(x=G.process(x))});return x},p=n.ValueProcessor=new v("ValueProcessor",{initialize:function(k,x,z,G){this.id=k;this.runForDefault=!!x;this.runForRollback=!!z;this.runForCurrent=!!G},process:k=>k}),w=n.ToNumberValueProcessor=new v("ToNumberValueProcessor",p,{process:k=>{if(null==k||""===k||"-"===k)return k;const x=Number(k);return isNaN(x)?
k:x}}),A=n.TrimValueProcessor=new v("TrimValueProcessor",p,{initialize:function(k,x,z,G,I){this.callSuper(k,x,z,G);this.trim=I},process:function(k){k+="";switch(this.trim){case "start":case "left":return k.trimStart();case "end":case "right":return k.trimEnd();default:return k.trim()}}}),y=n.UndefinedValueProcessor=new v("UndefinedValueProcessor",p,{initialize:function(k,x,z,G,I){this.callSuper(k,x,z,G);this.defaultValue=I},process:function(k){return void 0===k?this.defaultValue:k}}),B=n.Form=new r("Form",
{initNode:function(k,x){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(k,x);this.form&&this.form.isA(B)&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.isA(B)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(k){this.errorMessages=k},getFullId:function(){const k=[this.id];let x=this.form;for(;x&&x.id;)k.unshift(x.id),x=x.form;return k.join(".")},setId:function(k){if(this.id!==k){const x=this.id;
this.id=k;(k=this.form)&&this.inited&&(k.removeSubForm(x),k.addSubForm(this))}},setForm:function(k){if(this.form!==k){const x=this.form;this.form=k;x&&x.removeSubForm(this.id);k&&this.inited&&k.addSubForm(this)}},setIsValid:function(k){this.isValid=k;this.inited&&this.fireEvent("isValid",k);const x=this.form;x&&!this._lockCascade&&(k?x.verifyValidState(this):x.notifySubFormInvalid())},setIsChanged:function(k){if(this.isChanged!==k){this.isChanged=k;this.inited&&this.fireEvent("isChanged",k);const x=
this.form;x&&!this._lockCascade&&(k?x.notifySubFormChanged():x.verifyChangedState(this))}},setValidators:function(k){let x=k.length;for(;x;){const z=k[--x];"string"===typeof z&&(k[x]=f.validators.getValidator(z),k[x]||k.splice(x,1))}this.__v=k},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(C))return this.value;const k={},x=this.__sf;for(const z in x)k[z]=x[z].getValue();return k},setValue:function(k){this.callSuper&&this.callSuper(k);if("object"===typeof k&&!this.isA(C))for(const x in k){const z=
this.getSubForm(x);z?k[x]=z.setValue(k[x]):console.warn("ID in setValue for missing subform",x)}this.form&&this.form.notifyValueChanged(this);return k},getDefaultValue:function(){const k={};let x=this.__sf;for(const z in x)k[z]=x[z].getDefaultValue();return k},setDefaultValue:function(k){if("object"===typeof k)for(const x in k){const z=this.getSubForm(x);z?k[x]=z.setDefaultValue(k[x]):console.warn("ID in setDefaultValue for missing subform",x)}return k},getRollbackValue:function(){const k={},x=this.__sf;
for(const z in x)k[z]=x[z].getRollbackValue();return k},setRollbackValue:function(k){if("object"===typeof k)for(const x in k){const z=this.getSubForm(x);z?k[x]=z.setRollbackValue(k[x]):console.warn("ID in setRollbackValue for missing subform",x)}return k},addAccelerator:function(k,x){this.__acc[k]=x},removeAccelerator:function(k){delete this.__acc[k]},invokeAccelerator:function(k,x){(k=this.__acc[k])&&k.call(this,null==x?null:x)},addValidator:function(k){k&&this.__v.push(k)},removeValidator:function(k){if(k){const x=
this.__v;let z=x.length;for(;z;){const G=x[--z];if(G.id===k)return x.splice(z,1),G}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(k){const x=k.id;null!=this.getSubForm(x)?console.warn("ID in use for subform, add aborted",x,k):(k.setForm(this),this.__sf[x]=k,k.isChanged&&this.notifySubFormChanged(),k.isValid||this.notifySubFormInvalid())},removeSubForm:function(k){const x=this.getSubForm(k);x&&(x.setForm(null),delete this.__sf[k],this.verifyChangedState(),
this.verifyValidState());return x},getSubForm:function(k){return this.__sf[k]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(k){k&&this.doValidation();const x=[];(function I(G){if(G.isA(C))G.isValid||x.push(G.getFullId());else{G=G.getSubForms();for(const J in G)I(G[J])}})(this);return x},getAllErrorMessages:function(){const k=this.__sf;let x=(this.errorMessages||[]).concat();for(const z in k)x=x.concat(k[z].getAllErrorMessages());return x},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(k){const x=this.__sf;let z=!0;for(const G in x){const I=x[G];I!==k&&(z=I.isValid&&z)}return m(this,z)},doValidation:function(){const k=this.__sf;let x=!0;for(const z in k)x=k[z].doValidation()&&x;this._lockCascade=!0;x=m(this,x);this._lockCascade=!1;return x},notifyValueChanged:function(k){this.form&&this.form.notifyValueChanged(k)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(k){const x=this.__sf;let z=!1;for(const G in x){const I=x[G];
I!==k&&(z=I.isChanged||z)}this.setIsChanged(z);return z},setup:function(k,x,z){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==k&&(k={});null==x&&(x={});null==z&&(z={});const G=this.__sf;for(const I in G)G[I].setup(k[I],x[I],z[I])},resetForm:function(){this._lockCascade=!0;const k=this.__sf;for(const x in k)k[x].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=
!0;const k=this.__sf;for(const x in k)k[x].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const k={},x=this.__sf;for(const z in x){const G=x[z];G.isChanged&&(k[z]=G.getChangedValue())}return k}}),C=n.FormElement=new r("FormElement",{include:[B],initNode:function(k,x){this.__vp=[];this.callSuper(k,x)},getValue:function(){return q(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(k){void 0===
k&&(k=this.getRollbackValue());this.value!==k&&(this.callSuper(k),this.verifyChangedState());return k},getDefaultValue:function(){return q(this,this.defaultValue,"runForDefault")},setDefaultValue:function(k){this.defaultValue!==k&&(this.defaultValue=k,this.inited&&this.fireEvent("defaultValue",k),this.verifyChangedState());return k},getRollbackValue:function(){return q(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(k){void 0===k&&(k=this.getDefaultValue());this.rollbackValue!==
k&&(this.rollbackValue=k,this.inited&&this.fireEvent("rollbackValue",k),this.verifyChangedState());return k},setValueProcessors:function(k){let x=k.length;for(;x;){const z=k[--x];"string"===typeof z&&(k[x]=c[z],k[x]||k.splice(x,1))}this.__vp=k},addValueProcessor:function(k){this.__vp.push(k)},removeValueProcessor:function(k){if(k){const x=this.__vp;let z=x.length;for(;z;){const G=x[--z];if(G.id===k)return x.splice(z,1),G}}},addSubForm:k=>{n.dumpStack("addSubForm unsupported on FormElement")},getSubForm:k=>
{n.dumpStack("getSubForm unsupported on FormElement")},removeSubForm:k=>{n.dumpStack("removeSubForm unsupported on FormElement")},verifyChangedState:function(k){k=this.getValue()!==this.getRollbackValue();this.setIsChanged(k);return k},setup:function(k,x,z){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(k);this.setRollbackValue(x);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(z)},resetForm:function(){this._lockCascade=
!0;const k=this.getDefaultValue();this.setRollbackValue(k);this.setValue(k);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),D=n.FormInputTextMixin=new r("FormInputTextMixin",{include:[C,n.UpdateableUI],initNode:function(k,
x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";b(x,"bgColor","#fff");b(x,"borderWidth",1);b(x,"borderStyle","solid");b(x,"borderStyle",!0);this.callSuper(k,x);this.addValueProcessor(u);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(k){this.validateWhen=
k},setAcceleratorScope:function(k){this.acceleratorScope=k},setErrorColor:function(k){this.errorColor=k},setActionRequiredColor:function(k){this.actionRequiredColor=k},setNormalColor:function(k){this.normalColor=k},setIsChanged:function(k){this.callSuper(k);this.inited&&this.updateUI()},setIsValid:function(k){this.callSuper(k);this.inited&&this.updateUI()},setValue:function(k){k=this.callSuper(k);const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return k},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__hndlKeyDown:function(k){e.isEnterKeyEvent(k)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(k){e.isEscKeyEvent(k)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const k=this.validateWhen;
"blur"!==k&&"blurWithKeyFix"!==k||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});n.RootForm=new r("RootForm",{include:[B],initNode:function(k,x){this.callSuper(k,x);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:k=>{},doInvalidSubmit:()=>
{},doCancel:function(){this.rollbackForm();this.doValidation()}});n.FormCheckbox=new v("FormCheckbox",n.Checkbox,{include:[C],initNode:function(k,x){this.rollbackValue=this.defaultValue=!1;this.callSuper(k,x)}});n.FormComboBox=new v("FormComboBox",n.ComboBox,{include:[C,n.UpdateableUI],initNode:function(k,x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(k,x);this.addValueProcessor(u);this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(k){this.validateWhen=k},setAcceleratorScope:function(k){this.acceleratorScope=k},setErrorColor:function(k){this.errorColor=k},setActionRequiredColor:function(k){this.actionRequiredColor=k},setNormalColor:function(k){this.normalColor=k},setIsChanged:function(k){this.callSuper(k);this.inited&&this.updateUI()},setIsValid:function(k){this.callSuper(k);this.inited&&this.updateUI()},setValue:function(k){k=this.callSuper(k);
const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return k},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},
notifyPanelShown:function(k){this._isShown=!0},notifyPanelHidden:function(k){this._isShown=!1},doActivationKeyDown:function(k,x){k!==d.CODE_ESC||this._isShown?this.callSuper(k,x):this.invokeAccelerator("reject")},doActivationKeyUp:function(k){k!==d.CODE_ENTER||this._isShown?this.callSuper(k):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const k=this.validateWhen;"blur"!==k&&"blurWithKeyFix"!==k||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:
this.isChanged?this.errorColor:this.actionRequiredColor)}});n.FormEditableText=new v("FormEditableText",n.EditableText,{include:[D],__hndlKeyDown:function(k){"nowrap"===this.whitespace&&this.callSuper(k)}});n.FormInputText=new v("FormInputText",n.InputText,{include:[D]});n.FormInputTextArea=new v("FormInputTextArea",n.InputTextArea,{include:[D],__hndlKeyDown:k=>{}});n.FormInputSelect=new v("FormInputSelect",n.InputSelect,{include:[C],setValue:function(k){if(!this.__abortSetValue)return k=this.callSuper(k),
this.__abortSetValue=!0,this.deselectAll(),this.selectValues(k),this.__abortSetValue=!1,this.verifyValidState(),k}});n.FormRadioGroup=new v("FormRadioGroup",n.Node,{include:[n.ValueComponent,C],initNode:function(k,x){null==x.groupId&&(x.groupId=n.generateGuid());this.callSuper(k,x);void 0!==this.value&&t(this);h(this)},setValue:function(k){k=this.callSuper(k);this.inited&&t(this);return k},setGroupId:function(k){if(this.groupId!==k){if(this.groupId){const x=n.BAG.getGroup("selected",this.groupId);
x&&this.detachFrom(x,"__syncValue","trueNode")}this.groupId=k;this.inited&&h(this)}},__syncValue:function(k){k=k.value;this.setValue(k?k.optionValue:null)}});n.UseOtherFieldIfEmptyValueProcessor=new v("UseOtherFieldIfEmptyValueProcessor",p,{initialize:function(k,x,z,G,I){this.callSuper(k,x,z,G);this.otherField=I},process:function(k){return null==k||""===k?this.otherField.getValue():k}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){g(u=new y("undefToEmpty",!0,!0,!0,""));g(new w("toNumber",
!0,!0,!0));g(new A("trimLeft",!0,!0,!0,"left"));g(new A("trimRight",!0,!0,!0,"right"));g(new A("trimBoth",!0,!0,!0,"both"));f.register("valueProcessors",this)},getValueProcessor:k=>c[k],register:g,unregister:k=>{l(k,x=>{c[x]&&delete c[x]})}})})(myt);
(n=>{const u=JS.Class,v=Math.round,r={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},f=(e,c)=>{e[c](e,"doDragOver","dragover",!1);e[c](e,"doDragEnter","dragenter",!1);e[c](e,"doDragLeave","dragleave",!1);e[c](e,"doDrop","drop",!1)},a=n.DragDropSupport=new JS.Module("DragDropSupport",{include:[n.DragDropObservable],initNode:function(e,c){this.callSuper(e,c);this.disabled||this.setupDragListeners()},setDisabled:function(e){this.disabled!==e&&(this.getIDE().disabled=e,this.callSuper(e),
this.inited&&(e?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){f(this,"attachToDom")},teardownDragListeners:function(){f(this,"detachFromDom")},doDragOver:e=>{},doDragEnter:e=>{},doDragLeave:e=>{},doDrop:function(e){this.handleFiles(e.value.dataTransfer.files,e)},handleFiles:function(e,c){if(void 0!==e){let l=e.length;for(;l;){const g=this.filterFiles(e[--l]);g&&this.handleDroppedFile(g,c)}}else n.dumpStack("No File API")},filterFiles:e=>e,handleDroppedFile:(e,
c)=>{}}),d=n.Uploader=new u("Uploader",n.View,{include:[a,n.Disableable,n.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(e,c)=>{if(void 0!==FileReader){const l=new FileReader;l.onload=c;l.readAsDataURL(e)}},isSameFile:(e,c)=>null!=e&&null!=c&&e.name===c.name&&e.type===c.type&&e.size===c.size,createFile:e=>{const c=(new n.URI(e)).file;return{name:c,serverPath:e,size:-1,type:r[n.getExtension(c)]}}},initNode:function(e,c){const l=this;l.files=[];l.defAttr(c,"requestFileParam","file");
l.defAttr(c,"maxFiles",-1);l.callSuper(e,c);new n.NativeInputWrapper(l,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:l.disabled,overflow:"hidden"},[n.SizeToParent,{initNode:function(g,t){this.inputType="file";this.callSuper(g,t);this.attachToDom(this,"_hndlInput","change");this.getIDE().multiple=1<l.maxFiles},_hndlInput:function(g){l.handleFiles(this.getIDE().files,g)}}])},setValue:function(e){this.clearFiles();e&&(Array.isArray(e)||(e=[e]),e.forEach(c=>
{this.addFile(d.createFile(c))}));return this.callSuper?this.callSuper(e):e},getValue:function(){return this.value},setDisabled:function(e){this.callSuper(e);this.fileInput&&this.fileInput.setDisabled(e)},setMaxFiles:function(e){this.maxFiles!==e&&(this.maxFiles=e,this.inited&&this.fireEvent("maxFiles",e),this.fileInput&&(this.fileInput.getIDE().multiple=1<e))},setUploadUrl:function(e){this.set("uploadUrl",e,!0)},setRequestFileParam:function(e){this.set("requestFileParam",e,!0)},bringSubviewToFront:function(e){e===
this.fileInput?this.callSuper(e):this.sendSubviewBehind(e,this.fileInput)},subviewAdded:function(e){this.callSuper(e);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(e,c){this.addFile(e)},filterFiles:function(e){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:e},uploadFiles:function(e,c){e=e||this.uploadUrl;const l=this.files;let g=l.length;for(;g;)this.uploadFile(l[--g],e,c)},makeFetchOptionsForUpload:e=>({method:"POST",body:e}),uploadFile:function(e,
c,l){const g=this,t=new FormData;t.append(l||g.requestFileParam,e,e.name);n.doFetch(c||g.uploadUrl,g.makeFetchOptionsForUpload(t),!1,h=>{g.handleUploadSuccess(e,h)},h=>{g.handleUploadFailure(e,h)})},handleUploadSuccess:function(e,c){e[d.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(e,c);this.updateValueFromFiles()},handleUploadFailure:(e,c)=>{n.dumpStack("Upload failure:"+c.status+":"+c.message)},parseServerPathFromResponse:(e,c)=>null,addFile:function(e){this.files.push(e);this.updateValueFromFiles();
this.fireEvent("addFile",e)},removeFile:function(e){const c=this.files;let l=c.length;for(;l;)if(d.isSameFile(c[--l],e)){c.splice(l,1);this.updateValueFromFiles();this.fireEvent("removeFile",e);break}},updateValueFromFiles:function(){const e=[];var c=this.files;let l=c.length;for(;l;){const g=c[--l][d.FILE_ATTR_SERVER_PATH];g&&e.push(g)}c=e.length;this.value=1===c?e[0]:0===c?void 0:e;this.value||(this.fileInput.getIDE().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);
this.fireEvent("value",this.value)},clearFiles:function(){const e=this.files;let c=e.length;for(;c;)this.removeFile(e[--c])}}),b=n.ImageUploader=new u("ImageUploader",d,{extend:{isImageFile:e=>/image/i.test(e.type)},initNode:function(e,c){c.maxFiles=1;this.callSuper(e,c)},setWidth:function(e,c){this.callSuper(e,c);this.inited&&this.updateImageSize()},setHeight:function(e,c){this.callSuper(e,c);this.inited&&this.updateImageSize()},filterFiles:function(e){if(b.isImageFile(e)){for(;0<this.files.length;)this.removeFile(this.files[0]);
return this.callSuper(e)}},addFile:function(e){const c=this;c.callSuper(e);const l=c.image=new n.Image(c,{useNaturalSize:!1,align:"center",valign:"middle"});l.file=e;const g=t=>{const h=new Image;h.onload=()=>{e.width=h.width;e.height=h.height;l&&!l.destroyed&&c.updateImage(e,l,h.src)};h.src=t};-1===e.size?g(e.serverPath):void 0!==FileReader&&b.isImageFile(e)&&d.readFile(e,t=>{g(t.target.result)})},scaleToFit:(e,c,l,g)=>l/g>e/c?[e,g*e/l]:[l*c/g,c],removeFile:function(e){this.callSuper(e);const c=
this.getSubviews();let l=c.length;for(;l;){const g=c[--l];if(d.isSameFile(g.file,e)){g.destroy();break}}},handleDroppedFile:function(e,c){this.callSuper(e,c);this.uploadFile(e,this.uploadUrl)},updateImage:function(e,c,l){this.nativeWidth=e.width;this.nativeHeight=e.height;this.updateImageSize();c.setImageUrl(l)},updateImageSize:function(){const e=this.image;if(e&&!e.destroyed){var c=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const l=v(c[0]);c=v(c[1]);e.setImageSize(l+
"px "+c+"px");e.setWidth(l);e.setHeight(c)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(n=>{const u=(v,r,f)=>{const a=v.axis;f=f.bind(v);"y"!==a&&(f(r,"update","x"),f(r,"update","boundsWidth"));"x"!==a&&(f(r,"update","y"),f(r,"update","boundsHeight"));f(r,"update","visible")};n.SizeToChildren=new JS.Class("SizeToChildren",n.Layout,{initNode:function(v,r){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(v,r)},setAxis:function(v){this.axis!==v&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=v,this.startMonitoringAllSubviews(),this.fireEvent("axis",v),this.update()):
this.axis=v)},setPaddingX:function(v){this.paddingX!==v&&(this.paddingX=v,this.inited&&(this.fireEvent("paddingX",v),this.update()))},setPaddingY:function(v){this.paddingY!==v&&(this.paddingY=v,this.inited&&(this.fireEvent("paddingY",v),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const r=this.parent;if(!r.isBeingDestroyed){const f=this.subviews;var v=f.length;const a=this.axis;let d,b;if("y"!==a){d=v;for(b=0;d;){const e=f[--d];e.visible&&(b=Math.max(b,e.x+
(0<e.boundsWidth?e.boundsWidth:0)))}r.setWidth(b+this.paddingX)}if("x"!==a){d=v;for(b=0;d;)v=f[--d],v.visible&&(b=Math.max(b,v.y+(0<v.boundsHeight?v.boundsHeight:0)));r.setHeight(b+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(v){u(this,v,this.attachTo)},stopMonitoringSubview:function(v){u(this,v,this.detachFrom)}})})(myt);
(n=>{const u=JS.Class,v=n.SizeToParent,r=n.View,f=n.RootView,a=n.AccessorSupport.defAttr,d=n.Dimmer=new u("Dimmer",r,{include:[v],extend:{OPACITY:.35,COLOR:"#000"},initNode:function(e,c){const l=this;l.restoreFocus=!0;c.focusable=c.focusCage=!0;a(c,"percentOfParentWidth",100);a(c,"percentOfParentHeight",100);a(c,"visible",!1);a(c,"ignoreLayout",!0);l.callSuper(e,c);new r(l,{name:"overlay",ignorePlacement:!0,opacity:d.OPACITY,bgColor:d.COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[v]);
"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(g=>{l.attachDomObserver(l,"eatMouseEvent",g)});f.setupCaptureDrop(l)},destroy:function(){f.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(e){this.restoreFocus=e},eatMouseEvent:e=>!0,show:function(){const e=n.global.focus;this.prevFocus=e.focusedView||e.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(e){this.visible&&(this.setVisible(!1),!e&&this.restoreFocus&&
this.prevFocus&&this.prevFocus.focus())}}),b=n.ModalPanel=new u("ModalPanel",d,{extend:{PADDING_X:20,PADDING_Y:15,MARGIN_TOP:40,MARGIN_LEFT:40,MARGIN_BOTTOM:40,MARGIN_RIGHT:40},initNode:function(e,c){const l={name:"content",ignorePlacement:!0},g=Object.assign({},l,{align:"center",valign:"middle"});this.defaultPlacement="content";a(c,"sizingStrategy","children");a(c,"marginTop",b.MARGIN_TOP);a(c,"marginLeft",b.MARGIN_LEFT);a(c,"marginBottom",b.MARGIN_BOTTOM);a(c,"marginRight",b.MARGIN_RIGHT);a(c,"paddingX",
b.PADDING_X);a(c,"paddingY",b.PADDING_Y);this.callSuper(e,c);switch(this.sizingStrategy){case "children":new n.SizeToChildren(new r(this,g),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new r(this,Object.assign(l,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[v]);break;case "basic":new r(this,
g);break;default:new r(this,l)}},setSizingStrategy:function(e){this.sizingStrategy=e},setMarginTop:function(e){this.marginTop=e},setMarginLeft:function(e){this.marginLeft=e},setMarginBottom:function(e){this.marginBottom=e},setMarginRight:function(e){this.marginRight=e},setPaddingX:function(e){this.paddingX=e},setPaddingY:function(e){this.paddingY=e}})})(myt);
(n=>{const u=r=>{r[r.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},v=r=>{const f=r.size,a=r.getIDS();r.setWidth(f);r.setHeight(f);a.width=a.height=f-2*r.borderWidth+"px"};n.Spinner=new JS.Class("Spinner",n.View,{initNode:function(r,f){this.lateAttrs=["spinColor"];const a=this.defAttr;a(f,"visible",!1);a(f,"borderWidth",5);a(f,"borderColor","#fff");a(f,"borderStyle","solid");a(f,"spinColor","#000");this.callSuper(r,f);this.getIDS().borderRadius="50%";v(this);u(this)},setSize:function(r){this.size!==
r&&(this.size=r,this.inited&&v(this))},setSpinColor:function(r){this.spinColor!==r&&(this.getIDS().borderTopColor=this.spinColor=r,this.inited&&this.fireEvent("spinColor",r))},setBorderWidth:function(r){this.borderWidth!==r&&(this.callSuper(r),this.inited&&v(this))},setVisible:function(r){this.visible!==r&&(this.callSuper(r),this.inited&&u(this))}})})(myt);
(n=>{const u=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),v=a=>{if(Array.isArray(a)){let d=a.length;if(0<d){a.unshift("fa");d++;a[1].startsWith("fa-")||(a[1]="fa-"+a[1]);3<=d&&(a[2]=u[a[2]]||"");if(3<d)for(let b=3;d>b;b++)a[b].startsWith("fa-")||(a[b]="fa-"+a[b]);return'<i class="'+a.join(" ")+'"></i>'}}n.dumpStack("Error making tag");console.error(a);return""},r=a=>{let d=a.properties;d=d?"string"===typeof d?d.split(" "):d.concat():[];d.unshift(a.icon,a.size);a.setHtml(v(d))},f=a=>{["Free 400","Free 900",
"Brands 400"].forEach(d=>{n.registerForFontNotification(a,"Font Awesome 5 "+d)})};n.FontAwesome=new JS.Class("FontAwesome",n.Markup,{extend:{makeTag:v,registerForNotification:f},initNode:function(a,d){this.size=0;this.icon="";this.callSuper(a,d);r(this);f(this)},setIcon:function(a){const d=this.icon;this.set("icon",a,!0);this.inited&&d!==a&&r(this)},setSize:function(a){const d=this.size;this.set("size",a,!0);this.inited&&d!==a&&r(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&r(this)}});n.loadCSSFonts(["https://use.fontawesome.com/releases/v5.0.8/css/all.css"])})(myt);
(n=>{let u,v,r,f,a=0,d=0,b=0,e=[],c,l,g,t,h,m,q,p,w,A,y,B,C,D,k,x,z,G,I,J,K,P,R,W;const Z=JS.Class,L=n.View,ba=n.Text,U=n.ModalPanel,ea=n.SizeToChildren,ya=n.SpacedLayout,za=n.SelectionManager,ma=n.Color,Aa=n.LocalStorage,sa=n.Button,ja=n.TextButton,Ba=n.Draggable,ka=n.FontAwesome.makeTag,aa=n.AccessorSupport.defAttr,fa=Object.assign,ca=Math.min,da=Math.max,ha=[1,"solid","#333"],Ca=[1,"solid","#999"],ta=[1,"solid","#fff"],Ia=new Z("DialogButton",ja,{initNode:function(E,H){aa(H,"height",17);aa(H,"paddingTop",
3);aa(H,"paddingLeft",10);aa(H,"paddingRight",10);aa(H,"activeColor","#bbb");aa(H,"hoverColor","#ddd");aa(H,"readyColor","#ccc");H.domClass="mytButtonText";this.callSuper(E,H)}}),Ja=ka(["check"]),ua={},Da=new Z("Swatch",L,{include:[sa],initNode:function(E,H){H.width=H.height=16;H.border=Ca;this.callSuper(E,H);this.bgColor===f&&(E=ma.makeColorFromHexString(f),new n.Text(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>E.red+E.green+E.blue?"#fff":"#000"}))},setBgColor:function(E){this.callSuper(E);
this.setTooltip(E)},doActivated:function(){u.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(ha)},drawReadyState:function(){this.setBorder(Ca)}}),Ka=n.ColorPicker=new Z("ColorPicker",L,{initNode:function(E,H){u=this;r=H.color||"transparent";delete H.color;c=H.palette||[];c.forEach(F=>{ua[F]=!0});delete H.palette;v="transparent"===r;u.callSuper(E,H);l=new L(u,{width:160,height:170});new n.WrappingLayout(l,{spacing:4,lineSpacing:4});g=new L(u,{x:170,width:139,height:139,border:ha},
[Ba,{requestDragPosition:function(F,N){g.callSuper(g.x,g.y);const M=this.getPagePosition();d=parseFloat(da(0,ca(1,(F+this.dragInitX-M.x)/this.width)));b=parseFloat(1-da(0,ca(1,(N+this.dragInitY-M.y)/this.height)));v=!1;u.updateUI()}}]);E=new L(g,{width:139,height:139});H=new L(E,{width:139,height:139});E.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";H.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";t=new L(H,{width:6,height:6,bgColor:"#000",
border:ta,roundedCorners:4});h=new L(u,{x:315,y:30,width:24,height:109,border:ha},[Ba,{requestDragPosition:function(F,N){this.callSuper(h.x,h.y);a=parseFloat(da(0,ca(1,(N+this.dragInitY-this.getPagePosition().y)/this.height)));v=!1;u.updateUI()}}]);h.getIDS().background="linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";m=new L(h,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new L(u,{x:315,width:24,height:24,border:ha,tooltip:"Set to transparent.",
domClass:"mytCheckerboardPattern"},[sa,{doActivated:()=>{u.setColor("transparent")}}]);q=new n.InputText(u,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:ha,maxLength:11});u.attachToDom(q,"_submitInput","blur");u.attachToDom(q,"_handleKeyDown","keydown");q.getIDS().paddingLeft="6px";E=new L(u,{x:170,y:146,width:60,height:23,border:ha});new L(E,{width:30,height:23,focusIndicator:!1,bgColor:r,domClass:v?"mytCheckerboardPattern":""},[sa,{doActivated:()=>{u.setColor(r)}}]);
p=new L(E,{x:30,width:30,height:23},[{setBgColor:function(F){this.callSuper(F);this[("transparent"===F?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(E=Aa.getItem("myt.default"))e=E.split(";"),e.forEach(F=>{ua[F]=!0});u.setColor(r)},_handleKeyDown:E=>{n.KeyObservable.isEnterKeyEvent(E)&&u._submitInput()},_submitInput:()=>{u.setColor(q.value)},addToPalette:E=>{E&&"transparent"!==E&&!ua[E]&&(e.unshift(E),e.length=ca(e.length,56),Aa.setItem("myt.default",e.join(";")))},setColor:E=>{E&&
"transparent"!==E?(E=ma.makeColorFromHexString(E).getHSV(),a=E.h/360,d=E.s,b=E.v,v=!1):v=!0;u.updateUI()},getColor:()=>v?"transparent":ma.makeColorFromHSV(360*a,100*d,100*b).getHtmlHexString(),updateUI:()=>{const E=!v;m.setVisible(E);t.setVisible(E);E&&(t.setX(da(0,ca(1,d)*(g.width+2))-5),t.setY(da(0,ca(1,1-b)*(g.height+2))-5),m.setY(a*(h.height-2)-1));g.setBgColor(ma.makeColorFromHSV(360*a,100,100).getHtmlHexString());f=u.getColor();q.setValue(f);p.setBgColor(f);u.redrawPalette()},redrawPalette:n.debounce(()=>
{const E=l.getSubviews();let H=E.length;for(;H;)E[--H].destroy();c.forEach(F=>{new Da(l,{bgColor:F})});e.forEach(F=>{new Da(l,{bgColor:F})})},50)}),va=E=>{E=E.split(":");return[da(0,ca(23,parseInt(E[0]))),da(0,ca(60,parseInt(E[1])))]},Ea=E=>{E.deselectAll();E=E.getSubviews();let H=E.length;for(;H;)E[--H].destroy()},Fa=new Z("SelectableBtn",ja,{include:[n.Selectable],setSelected:function(E){this.callSuper(E);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),
this.setTextColor("#fff")):this.setTextColor()}}),La=new Z("TimeBtn",Fa,{initNode:function(E,H){H.width=y?175:49;this.callSuper(E,H)},doActivated:function(){this.callSuper();const E=this.text,H=va(E);W.selectById(E);I.setHours(H[0]);I.setMinutes(H[1])}}),Ma=new Z("DayBtn",Fa,{initNode:function(E,H){H.width=23;H.border=ta;this.callSuper(E,H)},setData:function(E){this.data=E},setIsAnotherMonth:function(E){this.isAnotherMonth=E},setIsToday:function(E){this.isToday=E},setIsSunday:function(E){this.isSunday=
E},setIsSaturday:function(E){this.isSaturday=E},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const E=new Date(this.data);E.setHours(I.getHours());E.setMinutes(I.getMinutes());la(E)}}),la=E=>{E.setSeconds(0);E.setMilliseconds(0);var H=6>=C.length,F;if(H)for(F=7;F--&&!C.includes(E.getDay());)E.setDate(E.getDate()+
1);I=E;const N=W.getODE().scrollTop;var M=new Date,O=M.getFullYear();F=M.getMonth();var S=M.getDate();M.getHours();M.getMinutes();var Q=E.getFullYear(),T=E.getMonth();const na=E.getDate();var ia=E.getTime();M=E.getHours();E=E.getMinutes();const oa=(new Date(Q,T,1)).getDay()-B,pa=(new Date(Q,T+1,0)).getDate(),wa=(new Date(Q,T,0)).getDate(),qa=new Date(Q,T,0),ra=new Date(Q,T+2,0),Na=O==Q&&F==T;if(!y){Ea(R);F=new Date(ia);const Ga=7+B;O=w.days;K.setText(Q+" "+w.sep+" "+w.months[T]);F.setMinutes(59);
F.setHours(23);F.setSeconds(59);F.setDate(0);J.setVisible(null==D||D<F.getTime());F.setMinutes(0);F.setHours(0);F.setSeconds(0);F.setDate(1);F.setMonth(T+1);P.setVisible(null==k||k>F.getTime());for(F=0;7>F;F++)new ba(R,{width:23,height:20,textAlign:"center",text:O[(F+Ga)%7],textColor:"#999"});F=0;let Ha=42;0>oa&&(F=-7,Ha=35);O=new Date(ia);O.setHours(0);O.setMinutes(0);for(O.setSeconds(0);F<Ha;F++){var X=F+1-oa;const xa=(F+Ga)%7,Y=new Ma(R);oa>F?(Y.setText(wa+X),Y.setData(qa.getFullYear()+"/"+(qa.getMonth()+
1)+"/"+(wa+X)),Y.setIsAnotherMonth(!0),O.setDate(wa+X),O.setMonth(qa.getMonth()),O.setYear(qa.getFullYear())):F<oa+pa?(Y.setText(X),Y.setData(Q+"/"+(T+1)+"/"+X),O.setDate(X),O.setMonth(T),O.setYear(Q)):(Y.setText(X-pa),Y.setData(ra.getFullYear()+"/"+(ra.getMonth()+1)+"/"+(X-pa)),Y.setIsAnotherMonth(!0),O.setDate(X-pa),O.setMonth(ra.getMonth()),O.setYear(ra.getFullYear()));H&&!C.includes(xa)?Y.setDisabled(!0):(0===xa?Y.setIsSunday(!0):6===xa&&Y.setIsSaturday(!0),X===na&&(R.select(Y),Y.focus()),Na&&
X===S&&Y.setIsToday(!0),X=new Date(O.getTime()),X.setHours(23),X.setMinutes(59),X.setSeconds(59),(null!=D&&D>X.getTime()||null!=k&&k<O.getTime())&&Y.setDisabled(!0));Y.updateUI()}}if(!A){H=60*z[0]+z[1];Ea(W);S=x[0];Q=x[1];for(O=new Date(ia);60*S+Q<H;)ia=new La(W,{text:("0"+S).slice(-2)+":"+("0"+Q).slice(-2)}),S===M&&Q===E&&W.select(ia),O.setHours(S),O.setMinutes(Q),T=O.getTime(),(null!=D&&D>T||null!=k&&k<T)&&ia.setDisabled(!0),Q+=G,60<=Q&&(Q-=60,S++);W.scrollYTo(N)}},Oa=n.DatePicker=new Z("DatePicker",
L,{initNode:function(E,H){const F=fa({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},H.opt);delete H.opt;this.callSuper(E,H);w=F.locales[F.locale||"en"];A=F.dateOnly;y=F.timeOnly;B=F.firstDayOfWeek;G=da(5,ca(30,F.minuteInterval));C=F.allowedDays;Array.isArray(C)&&0!==C.length||(C=[0,1,2,3,4,5,6]);D=Date.parse(F.minDate);D=isNaN(D)?null:D;k=Date.parse(F.maxDate);
k=isNaN(k)?null:k;x=va(F.minTime);z=va(F.maxTime);E=new L(this,{visible:!y});F.showTodayButton&&new ja(E,{width:24,text:ka(["home"]),tooltip:w.today},[{doActivated:()=>{la(new Date)}}]);J=new ja(E,{width:24,x:28,text:ka(["chevron-left"]),tooltip:w.prevMonth},[{doActivated:()=>{const N=(new Date(I.getFullYear(),I.getMonth(),0)).getDate();N<I.getDate()&&I.setDate(N);I.setMonth(I.getMonth()-1);la(I);J.focus()}}]);K=new ba(E,{width:100,x:52,textAlign:"center"});P=new ja(E,{width:24,x:152,text:ka(["chevron-right"]),
tooltip:w.nextMonth},[{doActivated:()=>{var N=(new Date(I.getFullYear(),I.getMonth()+1,0)).getDate();N<I.getDate()&&I.setDate(N);N=(new Date(I.getFullYear(),I.getMonth()+2,0)).getDate();N<I.getDate()&&I.setDate(N);I.setMonth(I.getMonth()+1);la(I);P.focus()}}]);R=new L(this,{y:25,width:175,height:175,visible:!y,maxSelected:1,itemSelectionId:"data"},[za]);new n.WrappingLayout(R,{spacing:2,lineInset:2,lineSpacing:3});W=new L(this,{x:y?0:195,y:y?0:25,width:(y?175:49)+n.DomElementProxy.getScrollbarSize(),
height:y?200:175,overflow:"autoy",visible:!A,maxSelected:1,itemSelectionId:"text"},[za]);new ya(W,{axis:"y",inset:1,spacing:3});this.setWidth(W.visible?W.x+W.width:R.width);la(F.current||new Date)},getPickedDate:()=>I}),V=n.Dialog=new Z("Dialog",U,{extend:{RADIUS:12,BUTTON_CLASS:Ia,SHADOW:[0,4,20,"#666"],BORDER:ta,BGCOLOR:"#fff",WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},
CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",
today:"Today"}},locale:"en"}},initNode:function(E,H){aa(H,"buttonClass",V.BUTTON_CLASS);this.callSuper(E,H);E=this.content;E.setRoundedCorners(V.RADIUS);E.setBgColor(V.BGCOLOR);E.setBoxShadow(V.SHADOW);E.setBorder(V.BORDER);E.setFocusCage(!0);this.makeCloseButton(E)},setButtonClass:function(E){this.buttonClass=E},setCallbackFunction:function(E){this.callbackFunction=E},makeButton:function(E,H){const F=this;return new F.buttonClass(E,H,[{doActivated:function(){F.doCallback(this)}}])},makeCloseButton:function(E){return this.makeButton(E,
{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ka(["times"]),tooltip:"Close Dialog."})},hide:function(E){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(E)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const E=this.content,H=E.sizeToChildren,F=E.getSubviews();let N=
F.length;for(;N;){const M=F[--N];"closeBtn"!==M.name&&M.destroy()}E.setVisible(!0);this.overlay.setBgColor(n.Dimmer.COLOR);this.setCallbackFunction();H.setPaddingY(U.PADDING_Y);H.setPaddingX(U.PADDING_X);E.setRoundedCorners(V.RADIUS);E.setBgColor(V.BGCOLOR);E.setBoxShadow(V.SHADOW);E.setBorder(V.BORDER)},doCallback:function(E){const H=this.callbackFunction;H&&H.call(this,E.name)||this.hide()},showBlank:function(E){this.destroyContent();this.content.setVisible(!1);E&&E.bgColor&&this.overlay.setBgColor(E.bgColor);
this.show()},showMessage:function(E,H,F){const N=this.content,M=N.closeBtn;F=fa({},V.WRAP_TEXT_DEFAULTS,F);this.destroyContent();this.setCallbackFunction(H);E=new ba(N,{name:"msg",text:E,whiteSpace:F.whiteSpace,wordWrap:F.wordWrap,fontWeight:F.fontWeight,x:null==F.msgX?U.PADDING_X:F.msgX,y:null==F.msgY?U.PADDING_Y:F.msgY,width:F.width});F.titleText&&(this.setupTitle(N,F.titleText),E.setY(E.y+24));this.show();!1===F.showClose?M.setVisible(!1):(M.setVisible(!0),M.focus())},showSimple:function(E,H,F,
N){F=F||{};const M=this.content,O=M.closeBtn,S=F.maxContainerHeight;this.destroyContent();F.bgColor&&M.setBgColor(F.bgColor);F.roundedCorners&&M.setRoundedCorners(F.roundedCorners);F.boxShadow&&M.setBoxShadow(F.boxShadow);F.border&&M.setBorder(F.border);M.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=new L(M,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(Q){Q>S&&(Q=S);this.callSuper(Q)}}]);E.call(this,H);new ea(H,{axis:"both"});this.show();O.setVisible(!0);O.focus();
F.titleText&&(this.setupTitle(M,F.titleText),H.setY(this.header.height+1));H.initialFocus&&H.initialFocus.focus();N&&N(this)},showConfirm:function(E,H,F){F=fa({},V.CONFIRM_DEFAULTS,F);this.showMessage(E,H,F);this.setupFooterButtons(this.content.msg,F)},showContentConfirm:function(E,H,F,N){F=fa({},V.CONFIRM_DEFAULTS,F);const M=this.content,O=M.closeBtn,S=F.maxContainerHeight;this.destroyContent();M.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=new L(M,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(Q){this.callSuper(Q>S?S:Q)}}]);E.call(this,H);new ea(H,{axis:"both"});this.show();O.setVisible(!0);O.focus();this.setupTitle(M,F.titleText);H.setY(this.header.height+1);this.setupFooterButtons(H,F);H.initialFocus&&H.initialFocus.focus();N&&N(this)},showSpinner:function(E,H){const F=this.content;H=fa({},V.NO_WRAP_TEXT_DEFAULTS,H);this.destroyContent();const N=this.spinner=new n.Spinner(F,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==H.msgY?U.PADDING_Y:
H.msgY});E&&new ba(F,{text:E,whiteSpace:H.whiteSpace,wordWrap:H.wordWrap,fontWeight:H.fontWeight,x:null==H.msgX?U.PADDING_X:H.msgX,y:N.y+N.size+U.PADDING_Y,width:H.width});this.show();F.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(E,H){const F=this,N=F.content,M=N.closeBtn;H=fa({},V.COLOR_PICKER_DEFAULTS,H);F.destroyContent();F.setCallbackFunction(S=>{switch(S){case "closeBtn":case "cancelBtn":E.call(F,S);break;case "confirmBtn":const Q=O.getColor();O.addToPalette(Q);E.call(F,S,
Q)}O.destroy()});const O=new Ka(N,{x:U.PADDING_X,y:U.PADDING_Y+24,width:337,height:177,color:H.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});F.show();M.setVisible(!0);M.focus();F.setupFooterButtons(O,H);F.setupTitle(N,H.titleText)},showDatePicker:function(E,H){const F=this,N=F.content,M=N.closeBtn;H=fa({},V.DATE_PICKER_DEFAULTS,H);F.destroyContent();F.setCallbackFunction(S=>{switch(S){case "closeBtn":case "cancelBtn":E.call(F,S);break;
case "confirmBtn":E.call(F,S,O.getPickedDate())}O.destroy()});const O=new Oa(N,{x:U.PADDING_X,y:U.PADDING_Y+24,height:195,opt:{current:new Date(H.initialDate||Date.now()),dateOnly:H.dateOnly||!1,timeOnly:H.timeOnly||!1,locales:H.locales,locale:H.locale}});F.show();M.setVisible(!0);M.focus();F.setupFooterButtons(O,H);F.setupTitle(N,H.timeOnly?H.timeOnlyTitleText:H.titleText)},setupTitle:function(E,H){const F=V.RADIUS;(this.header=new L(E,{ignoreLayout:!0,width:E.width,height:24,bgColor:"#eee",roundedTopLeftCorner:F,
roundedTopRightCorner:F})).sendToBack();new ba(E,{name:"title",x:F,y:4,text:H,fontWeight:"bold"})},setupFooterButtons:function(E,H){const F=this,N=F.content;var M=U.PADDING_Y,O=M/2;const S=new L(N,{name:"btnContainer",y:E.y+E.height+M,align:"center"});M=["active","hover","ready","text"];let Q=H.cancelAttrs||{};aa(Q,"name","cancelBtn");aa(Q,"text",H.cancelTxt);M.forEach(T=>{T+="Color";null!=H[T]&&(Q[T]=H[T])});E=F.makeButton(S,Q);Q=H.confirmAttrs||{};aa(Q,"name","confirmBtn");aa(Q,"text",H.confirmTxt);
M.forEach(T=>{T+="Color";const na=T+"Confirm";null!=H[na]&&(Q[T]=H[na])});F.makeButton(S,Q);(H.buttons||[]).forEach(T=>{F.makeButton(S,T)});new ea(S,{axis:"y"});new ya(S,{spacing:4,collapseParent:!0});N.sizeToChildren.setPaddingY(O);M=V.RADIUS;O=S.y-O;(new L(N,{ignoreLayout:!0,y:O,width:N.width,height:N.height-O,bgColor:"#eee",roundedBottomLeftCorner:M,roundedBottomRightCorner:M})).sendToBack();!1===H.showClose&&E.focus()}})})(myt);
(n=>{const u=JS.Class,v={},r=(l,g)=>{if(l){const t=l.id;l.id?g(t):n.dumpStack("No ID")}else n.dumpStack("No validator")},f=l=>{r(l,g=>{v[g]=l})},a=n.Validator=new u("Validator",{initialize:function(l){this.id=l},isValid:(l,g,t)=>!0,isFormValid:function(l,g,t){g||={};g.form=l;return this.isValid(l.getValue(),g,t)}}),d=n.RequiredFieldValidator=new u("RequiredFieldValidator",a,{isValid:function(l,g,t){return null==l||""===l||"string"===typeof l&&""===l.trim()?(t&&t.push("This value is required."),!1):
!0}}),b=n.EqualsIgnoreCaseValidator=new u("EqualsIgnoreCaseValidator",a,{isValid:function(l,g,t){g=g.form.getRollbackValue();return l&&g&&l.toLowerCase()===g.toLowerCase()?(t&&t.push("Value must differ by more than just case."),!1):!0}}),e=n.URLValidator=new u("URLValidator",a,{initialize:function(l,g){this.callSuper(l);this.originalRawQuery=g},isValid:function(l,g,t){return(new n.URI(l)).toString(this.originalRawQuery)!==l?(t&&t.push("Invalid URL."),!1):!0}}),c=n.JSONValidator=new u("JSONValidator",
a,{isValid:function(l,g,t){try{return JSON.parse(l),!0}catch(h){return t&&t.push(h),!1}}});n.EqualFieldsValidator=new u("EqualFieldsValidator",a,{initialize:function(l,g,t){this.callSuper(l);this.fieldA=g;this.fieldB=t},isValid:function(l,g,t){if(l&&this.fieldA.getValue()===this.fieldB.getValue())return!0;t&&t.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});n.LengthValidator=new u("LengthValidator",a,{initialize:function(l,g,t){this.callSuper(l);this.min=
g;this.max=t},isValid:function(l,g,t){l=l?l.length:0;g=this.min;const h=this.max;return void 0!==g&&g>l?(t&&t.push("Value must not be less than "+g+"."),!1):void 0!==h&&h<l?(t&&t.push("Value must not be greater than "+h+"."),!1):!0}});n.NumericRangeValidator=new u("NumericRangeValidator",a,{initialize:function(l,g,t){this.callSuper(l);this.min=g;this.max=t},isValid:function(l,g,t){if(""===l)return!0;l=Number(l);g=this.min;const h=this.max;return isNaN(l)?(t&&t.push("Value is not a number."),!1):void 0!==
g&&g>l?(t&&t.push("Value must not be less than "+g+"."),!1):void 0!==h&&h<l?(t&&t.push("Value must not be greater than "+h+"."),!1):!0}});n.CompoundValidator=new u("CompoundValidator",a,{initialize:function(l,...g){this.callSuper(l);l=g.length;let t;for(;l;)t=g[--l],"string"===typeof t&&((g[l]=t=v[t])||g.splice(l,1));this.__v=g},addValidator:function(l){"string"===typeof l&&(l=v[l]);l&&this.__v.push(l)},isValid:function(l,g,t){const h=this.__v,m=h.length;let q=!0,p=0;for(;m>p;)q=h[p++].isValid(l,
g,t)&&q;return q}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){f(new d("required"));f(new b("equalsIgnoreCase"));f(new e("url"));f(new c("json"));n.global.register("validators",this)},getValidator:l=>v[l],register:f,unregister:l=>{r(l,g=>{v[g]&&delete v[g]})}})})(myt);
(n=>{const u=JS.Class,v=Math.min,r=Math.max,f=n.global.keys,a=n.View,d=n.AccessorSupport.defAttr,b=new u("SliderThumb",n.SimpleButton,{include:[n.Draggable],initNode:function(c,l){const g=l.width=c.thumbWidth,t=l.height=c.thumbHeight;l.roundedCorners=v(t,g)/2;l.repeatKeyDown=!0;l.activationKeys=f.ARROW_KEYS;l.activeColor="#bbb";l.readyColor="#ccc";l.hoverColor="#ddd";l.boxShadow=[0,0,4,"#666"];this.callSuper(c,l);this["x"===c.axis?"setY":"setX"](c.thumbOffset);this.syncTo(c,"setDisabled","disabled");
c._syncThumbToValue(this,c.getValue())},setDisabled:function(c){this.callSuper(this.valueFromEvent(c))},setFocused:function(c){this.callSuper(c);c&&this.makeHighestZIndex()},setX:function(c){this.x!==c&&(this.callSuper(c),c=this.parent,"x"===c.axis&&c.syncValueToThumb(this))},setY:function(c){this.y!==c&&(this.callSuper(c),c=this.parent,"y"===c.axis&&c.syncValueToThumb(this))},requestDragPosition:function(c,l){if(!this.disabled){var g=this.parent;const t=g.getMinPixelValueForThumb(this),h=g.getMaxPixelValueForThumb(this);
"x"===g.axis?(g=this.width/2,l="setX"):(g=this.height/2,c=l,l="setY");this[l](v(r(c,t-g),h-g))}},doActivationKeyDown:function(c,l){const g=this.parent;switch(c){case f.CODE_ARROW_LEFT:g.nudgeValueLeft(this);break;case f.CODE_ARROW_UP:g.nudgeValueUp(this);break;case f.CODE_ARROW_RIGHT:g.nudgeValueRight(this);break;case f.CODE_ARROW_DOWN:g.nudgeValueDown(this)}this.callSuper(c,l)}}),e=n.BaseSlider=new u("BaseSlider",a,{include:[n.Disableable],initNode:function(c,l){d(l,"axis","x");"x"===l.axis?(d(l,
"width",100),d(l,"height",18)):(d(l,"width",18),d(l,"height",100));d(l,"bgColor","#999");d(l,"roundedCorners",9);d(l,"trackInset",9);d(l,"trackOutset",9);d(l,"thumbWidth",16);d(l,"thumbHeight",16);d(l,"thumbOffset",1);d(l,"nudgeAmount",1);this.callSuper(c,l)},setAxis:function(c){this.axis=c},setTrackInset:function(c){this.trackInset=c},setTrackOutset:function(c){this.trackOutset=c},setThumbWidth:function(c){this.thumbWidth=c},setThumbHeight:function(c){this.thumbHeight=c},setThumbOffset:function(c){this.thumbOffset=
c},setNudgeAmount:function(c){this.nudgeAmount=c},convertValueToPixels:function(c){const l=this.minValue,g=this.trackInset;return g+(("x"===this.axis?this.width:this.height)-g-this.trackOutset)/(this.maxValue-l)*(c-l)},convertPixelsToValue:function(c){const l=this.minValue,g=this.trackInset;return(this.maxValue-l)/(("x"===this.axis?this.width:this.height)-g-this.trackOutset)*(c-g)+l},nudgeValueLeft:function(c){this._nudge(c,!1)},nudgeValueUp:function(c){this._nudge(c,!1)},nudgeValueRight:function(c){this._nudge(c,
!0)},nudgeValueDown:function(c){this._nudge(c,!0)},_nudge:(c,l)=>{},_syncThumbToValue:function(c,l){l=this.convertValueToPixels(l);"x"===this.axis?c.setX(l-c.width/2):c.setY(l-c.height/2)},syncValueToThumb:function(c){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(c,this.convertPixelsToValue("x"===this.axis?c.x+c.width/2:c.y+c.height/2)),this.__lockSync=!1)},_syncValueToThumb:(c,l)=>{},getMinPixelValueForThumb:function(c){return this.convertValueToPixels(this.minValue)},
getMaxPixelValueForThumb:function(c){return this.convertValueToPixels(this.maxValue)}});n.RangeSlider=new u("RangeSlider",e,{include:[n.BoundedRangeComponent],initNode:function(c,l){this.callSuper(c,l);c=new a(this,{name:"rangeFill",bgColor:"#666"});"x"===this.axis?(c.setY(this.thumbOffset),c.setHeight(this.thumbHeight),c.setRoundedCorners(this.thumbHeight/2)):(c.setX(this.thumbOffset),c.setWidth(this.thumbWidth),c.setRoundedCorners(this.thumbWidth/2));new b(this,{name:"thumbLower"});new b(this,{name:"thumbUpper"});
this._syncRangeFillToValue()},setValue:function(c){this.callSuper(c);this.inited&&(this.__lockSync||(c=this.getValue(),this._syncThumbToValue(this.thumbLower,c),this._syncThumbToValue(this.thumbUpper,c)),this._syncRangeFillToValue())},setWidth:function(c,l){const g=this.width;this.callSuper(c,l);this.inited&&"x"===this.axis&&this.width!==g&&(c=this.getValue(),this._syncThumbToValue(this.thumbLower,c),this._syncThumbToValue(this.thumbUpper,c))},setHeight:function(c,l){const g=this.height;this.callSuper(c,
l);this.inited&&"y"===this.axis&&this.height!==g&&(c=this.getValue(),this._syncThumbToValue(this.thumbLower,c),this._syncThumbToValue(this.thumbUpper,c))},_syncRangeFillToValue:function(){const c=this.rangeFill;var l=this.getValue();const g=this.convertValueToPixels(l.lower);l=this.convertValueToPixels(l.upper)-g;"x"===this.axis?(c.setX(g),c.setWidth(l)):(c.setY(g),c.setHeight(l))},_syncThumbToValue:function(c,l){this.callSuper(c,"thumbLower"===c.name?l.lower:l.upper)},_syncValueToThumb:function(c,
l){let g=this.getValueCopy();g["thumbLower"===c.name?"lower":"upper"]=l;this.setValue(g);g=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,g);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,g)},_nudge:function(c,l){const g=this.getValueCopy();l=this.nudgeAmount*(l?1:-1);"thumbLower"===c.name?g.lower=v(g.lower+l,g.upper):g.upper=r(g.upper+l,g.lower);this.setValue(g)},getMinPixelValueForThumb:function(c){return this.convertValueToPixels("thumbLower"===c.name?this.minValue:
this.getValue().lower)},getMaxPixelValueForThumb:function(c){return this.convertValueToPixels("thumbLower"===c.name?this.getValue().upper:this.maxValue)}});n.Slider=new u("Slider",e,{include:[n.BoundedValueComponent],initNode:function(c,l){this.callSuper(c,l);new b(this,{name:"thumb"})},setValue:function(c){this.callSuper(c);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(c,l){const g=this.width;this.callSuper(c,l);this.inited&&"x"===this.axis&&
this.width!==g&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(c,l){const g=this.height;this.callSuper(c,l);this.inited&&"y"===this.axis&&this.height!==g&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(c,l){this.setValue(l);this._syncThumbToValue(c,this.getValue())},_nudge:function(c,l){this.setValue(this.getValue()+this.nudgeAmount*(l?1:-1))}})})(myt);
(n=>{const u=JS.Class,v=n.global.keys,r=n.AccessorSupport.defAttr,f=d=>{const b="y"===d.axis?"height":"width";d.constrain("__limitToParent",[d,"limitToParent",d,b,d.parent,b])},a=new u("BaseDivider",n.SimpleButton,{include:[n.BoundedValueComponent,n.Draggable],initNode:function(d,b){r(b,"activeColor","#bbb");r(b,"hoverColor","#ddd");r(b,"readyColor","#ccc");r(b,"axis","x");r(b,"minValue",0);r(b,"value",b.minValue);r(b,"expansionState",2);r(b,"focusIndicator",!1);r(b,"repeatKeyDown",!0);r(b,"activationKeys",
[v.CODE_ARROW_LEFT,v.CODE_ARROW_UP,v.CODE_ARROW_RIGHT,v.CODE_ARROW_DOWN,v.CODE_ENTER,v.CODE_SPACE]);"y"===b.axis?(r(b,"height",6),r(b,"cursor","row-resize")):(r(b,"width",6),r(b,"cursor","col-resize"));this.quickSet(["axis"],b);this.__nudgeAcc=1;this.callSuper(d,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&f(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(d){this.expansionState=d},setRestoreValue:function(d){this.restoreValue=
d},setLimitToParent:function(d){this.limitToParent!==d&&(this.limitToParent=d,this.inited&&(this.fireEvent("limitToParent",d),null==d?this.releaseConstraint("__limitToParent"):f(this)))},setAxis:function(d){this.inited?console.warn("Axis not updatable after instantiation"):this.axis=d},setValue:function(d,b){this.callSuper(d);d=this.value;"y"===this.axis?this.setY(d):this.setX(d);b&&this.setRestoreValue(d)},__limitToParent:function(d){d="y"===this.axis?"height":"width";this.setMaxValue(this.parent[d]-
this.limitToParent-this[d])},doActivationKeyDown:function(d,b){this.callSuper(d,b);switch(d){case v.CODE_ARROW_UP:case v.CODE_ARROW_LEFT:d=-1;break;case v.CODE_ARROW_DOWN:case v.CODE_ARROW_RIGHT:d=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=b?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+d*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const d=this.restoreValue,b=this.maxValue,e=this.minValue;let c;switch(this.expansionState){case 0:null!=d&&
(this.setExpansionState(1),d===e?d!==b&&this.doPrimaryAction():c=d);break;case 1:null!=b&&(this.setExpansionState(3),this.value===b?this.doPrimaryAction():c=b);break;case 2:null!=e&&(this.setExpansionState(0),this.value===e?this.doPrimaryAction():c=e);break;case 3:null!=d&&(this.setExpansionState(2),d===b?this.doPrimaryAction():c=d)}this.animateToValue(c)},animateToValue:function(d,b=250){null!=d&&(this.stopActiveAnimators("value"),this.animateOnce("value",d,null,b))},requestDragPosition:function(d,
b){this.disabled||(d="y"===this.axis?b:d,b=this.value,d!==b&&(this.setValue(d,!0),this.setExpansionState(b>d?2:1)))}});n.HorizontalDivider=new u("HorizontalDivider",a,{initNode:function(d,b){b.axis="x";this.callSuper(d,b)}});n.VerticalDivider=new u("VerticalDivider",a,{initNode:function(d,b){b.axis="y";this.callSuper(d,b)}})})(myt);
(n=>{let u=0;const v=JS.Class,r=JS.Module,f=Math.min,a=Math.max,d=n.View,b=n.AccessorSupport.defAttr,e=k=>{const x=k.columnHeaders;var z=k.sort;const G=z?z[0]:"";z=z?z[1]:"";let I=x.length;for(;I;){const J=x[--I];J.columnId===G?J.sortable&&J.setSortState(z):J.setSortState("none")}k.locked||k.doSort()},c=(k,x,z,G)=>{if(0!==x){const K=0<x,P=[];for(var I=k.length,J;I;)J=k[--I],J.resizable&&(z?0<J.flex:0===J.flex)&&P.push({hdr:J,limit:(K?J.maxValue:J.minValue)-J.value,amt:0});k=P.length;if(0<k){for(I=
0;0!==x;){u>=k&&(I=u=0);const R=P[u];J=R.hdr;R.full?++I:(K?(J=f(z?J.flex:1,x),R.amt+J>R.limit&&(J=R.limit-R.amt,R.full=!0)):(J=a(z?-J.flex:-1,x),R.amt+J<R.limit&&(J=R.limit-R.amt,R.full=!0)),R.amt+=J,x-=J);if(I===k)break;++u}P.forEach(R=>{R.hdr.setValue(R.hdr.value+R.amt)});G&&G(x)}}},l=k=>(k=k.gridController?k.gridController.getPrevHdr(k):null)?k.maxValue-k.value+l(k):0,g=k=>(k=k.gridController?k.gridController.getNextHdr(k):null)?k.maxValue-k.value+g(k):0,t=k=>(k=k.gridController?k.gridController.getPrevHdr(k):
null)?k.minValue-k.value+t(k):0,h=k=>(k=k.gridController?k.gridController.getNextHdr(k):null)?k.minValue-k.value+h(k):0,m=(k,x)=>{k=k.gridController?k.gridController.getPrevHdr(k):null;var z=0;if(k){z=k.value+x;k.resizable&&k.setValue(z);const G=z-k.value;z=x-G;0>G&&(z+=m(k,G))}return z},q=(k,x)=>{k=k.gridController?k.gridController.getPrevHdr(k):null;var z=0;if(k){z=k.value+x;k.resizable&&k.setValue(z);const G=z-k.value;z=x-G;0<G&&(z+=q(k,G))}return z},p=(k,x)=>{if(k=k.gridController?k.gridController.getNextHdr(k):
null)x=k.value+x,k.resizable&&k.setValue(x),x-=k.value,0>x&&p(k,x)},w=(k,x)=>{if(k=k.gridController?k.gridController.getNextHdr(k):null)x=k.value+x,k.resizable&&k.setValue(x),x-=k.value,0<x&&w(k,x)},A=k=>{let x="";if(k.sortable)switch(k.sortState){case "ascending":x="chevron-up";break;case "descending":x="chevron-down"}k.sortIcon.setIcon(x)},y=k=>{const x=k.textView;x&&x.setWidth(k.width-k.outset-x.x)},B=n.GridController=new r("GridController",{initNode:function(k,x){this.columnHeaders=[];this.rows=
[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(k,x);this.fitHeadersToWidth();e(this)},setMaxWidth:function(k){this.set("maxWidth",k,!0)},setMinWidth:function(k){this.set("minWidth",k,!0)},setFitToWidth:function(k){this.fitToWidth=k},setSort:function(k){n.areArraysEqual(k,this.sort)||(this.sort=k,this.inited&&(this.fireEvent("sort",k),e(this)))},setLastColumn:function(k){const x=this.lastColumn;x!==k&&(x&&x.setLast(!1),(this.lastColumn=k)&&k.setLast(!0))},
setLocked:function(k){this.locked=k;this.inited&&!k&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.__skipInvisibleHeaders=!0,this.columnHeaders.forEach(x=>{this.notifyHdrXChange(x);this.notifyHdrWidthChange(x);this.notifyHdrVisibilityChange(x)}),this.__skipInvisibleHeaders=!1,this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(k){k=this.valueFromEvent(k);this.gridWidth!==k&&(this.gridWidth=k,
this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevHdr:function(k){const x=this.columnHeaders;k=this.getHdrIndex(k);if(0<k)for(;k;){const z=x[--k];if(z.visible)return z}},getNextHdr:function(k){const x=this.columnHeaders,z=x.length;k=this.getHdrIndex(k)+1;if(0<k&&k<z)for(;z>k;){const G=x[k++];if(G.visible)return G}},hasHdr:function(k){return 0<=this.getHdrIndex(k)},getHdrIndex:function(k){return this.columnHeaders.indexOf(k)},getHdrById:function(k){const x=this.columnHeaders;let z=x.length;
for(;z;){const G=x[--z];if(G.columnId===k)return G}},getVisibleHdrs:function(){return this.columnHeaders.filter(k=>k.visible)},notifyAddHdr:function(k){this.hasHdr(k)||(this.columnHeaders.push(k),k.visible&&this.setLastColumn(k),this.fixupResizerCursors())},notifyRemoveHdr:function(k){const x=this.getHdrIndex(k);0<=x&&(this.columnHeaders.splice(x,1),k.visible&&k.last&&this.setLastColumn(this.getPrevHdr(k)),this.fixupResizerCursors())},notifyHdrXChange:function(k){this.isLocked()||this.rows.forEach(x=>
{x.notifyHdrXChange(k)})},notifyHdrWidthChange:function(k){this.isLocked()||this.rows.forEach(x=>{x.notifyHdrWidthChange(k)})},notifyHdrVisibilityChange:function(k){if((!this.__skipInvisibleHeaders||k.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(k);var x=this.setLastColumn;a:{var z=this.columnHeaders;let G=z.length;for(;G;){const I=z[--G];if(I.visible){z=I;break a}}z=void 0}x.call(this,z);x=k.visible?1:-1;this.setMaxWidth(this.maxWidth+k.maxValue*x);this.setMinWidth(this.minWidth+
k.minValue*x);this.fitHeadersToWidth();this.fixupResizerCursors()}},updateRowsForVisibilityChange:function(k){this.rows.forEach(x=>{x.notifyHdrVisibilityChange(k)})},hasRow:function(k){return 0<=this.getRowIndex(k)},getRowIndex:function(k){return this.rows.indexOf(k)},getRowById:function(k,x=z=>z.model.id===k){return this.rows.find(x)},getPrevRow:function(k){k=this.getRowIndex(k)-1;return this.rows[0>k?this.rows.length-1:k]},getNextRow:function(k){k=this.getRowIndex(k)+1;return this.rows[k<this.rows.length?
k:0]},notifyAddRow:function(k,x){if(!this.hasRow(k)&&(this.rows.push(k),!this.locked)){const z=this.width;this.columnHeaders.forEach(G=>{k.setWidth(z);k.notifyHdrXChange(G);k.notifyHdrWidthChange(G);k.notifyHdrVisibilityChange(G)});x||this.doSort()}},notifyRemoveRow:function(k){k=this.getRowIndex(k);0<=k&&this.rows.splice(k,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const k=this.getVisibleHdrs();let x=0;k.forEach(z=>{x=a(x,z.x+z.width)});c(k,this.gridWidth-x,!0,z=>{c(k,z,!1,
null)})}},fixupResizerCursors:function(){const k=this.getVisibleHdrs();let x=!0,z=0;k.forEach((K,P)=>{x&&K.isFixed()?K.setResizerCursor("",!0):(x&&(z=P),x=!1,K.restoreResizerCursor())});let G=!0,I=k.length,J=I-1;for(;I>z;){const K=k[--I];G?K.setResizerCursor("",!0):K.restoreResizerCursor();K.isFixed()||(G&&(J=I),G=!1)}z===J&&k[z].setResizerCursor("",!0)}}),C=n.GridColHdr=new r("GridColHdr",{include:[n.BoundedValueComponent],initNode:function(k,x){const z=this;b(x,"resizerCursor","col-resize");let G=
x.resizerCursor;delete x.resizerCursor;b(x,"minValue",16);b(x,"maxValue",9999);b(x,"value",x.minValue);b(x,"resizable",!0);b(x,"flex",0);b(x,"cellXAdj",0);b(x,"cellWidthAdj",0);b(x,"sortable",!0);b(x,"sortState","none");b(x,"placement","*");z.callSuper(k,x);const I=z.gridController;z.resizer=new d(z,{cursor:G,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[n.SizeToParent,n.Draggable,{requestDragPosition:function(J,K){K=J-this.x;if(I.fitToWidth&&(0<
K?K=f(K,f(-h(z),z.maxValue-z.value+l(z))):0>K&&(K=a(K,a(-g(z),z.minValue-z.value+t(z)))),0===K))return;J=z.value+K;z.resizable&&z.setValue(J);J-=z.value;K=J-K;let P=0;0>J?P=m(z,J):0<J&&(P=q(z,J));this.dragInitX+=P;K-=P;I.fitToWidth&&(0>K?p(z,K):0<K&&w(z,K))}}]);I&&(I.notifyAddHdr(z),I.notifyHdrXChange(z),I.notifyHdrVisibilityChange(z));z.setWidth(z.value);z.resizer.setVisible(!(z.last&&z.gridController.fitToWidth))},destroy:function(k){this.setGridController();this.callSuper(k)},setSortable:function(k){this.set("sortable",
k,!0)},setSortState:function(k){this.set("sortState",k,!0)},setResizable:function(k){this.set("resizable",k,!0)},setCellWidthAdj:function(k){this.cellWidthAdj=k},setCellXAdj:function(k){this.cellXAdj=k},setFlex:function(k){this.flex=k},setColumnId:function(k){this.columnId=k},setResizerCursor:function(k,x){const z=this.resizer,G=z.cursor;k!==G&&(x&&(this.__rrc=G),z.setCursor(k))},restoreResizerCursor:function(){const k=this.__rrc;k&&(this.setResizerCursor(k),this.__rrc=null)},isFixed:function(){return this.minValue===
this.maxValue},setLast:function(k){this.last=k;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(k){const x=this.gridController;x!==k&&(x&&x.notifyRemoveHdr(this),this.gridController=k,this.inited&&k&&(k.notifyAddHdr(this),k.notifyHdrXChange(this),k.notifyHdrWidthChange(this),k.notifyHdrVisibilityChange(this)))},setValue:function(k){this.callSuper(k);this.inited&&this.setWidth(this.value)},setMinValue:function(k){const x=this.minValue||
0,z=this.gridController;this.callSuper(k);z&&this.inited&&x!==this.minValue&&z.setMinWidth(z.minWidth+this.minValue-x)},setMaxValue:function(k){const x=this.maxValue||0,z=this.gridController;null==k&&(k=9999);this.callSuper(k);z&&this.inited&&x!==this.maxValue&&z.setMaxWidth(z.maxWidth+this.maxValue-x)},setWidth:function(k,x){const z=this.width,G=this.gridController;this.callSuper(k,x);G&&this.inited&&z!==this.width&&G.notifyHdrWidthChange(this)},setX:function(k){const x=this.x,z=this.gridController;
this.callSuper(k);z&&this.inited&&x!==this.x&&z.notifyHdrXChange(this)},setVisible:function(k){const x=this.visible,z=this.gridController;this.callSuper(k);this.inited&&z&&x!==this.visible&&z.notifyHdrVisibilityChange(this)}}),D=n.GridRow=new r("GridRow",{initNode:function(k,x){b(x,"placement","*");this.callSuper(k,x);(k=this.gridController)&&k.notifyAddRow(this)},destroy:function(k){this.setGridController();this.callSuper(k)},setGridController:function(k){const x=this.gridController;x!==k&&(x&&x.notifyRemoveRow(this),
this.gridController=k,this.inited&&k&&k.notifyAddRow(this))},notifyHdrXChange:function(k){const x=this[k.columnId+"View"];x&&x.setX(k.x+k.cellXAdj)},notifyHdrWidthChange:function(k){const x=this[k.columnId+"View"];x&&x.setWidth(k.width+k.cellWidthAdj)},notifyHdrVisibilityChange:function(k){const x=this[k.columnId+"View"];x&&x.setVisible(k.visible)}});n.Grid=new v("Grid",d,{include:[B],initNode:function(k,x){const z=n.SpacedLayout;b(x,"overflow","autox");b(x,"bgColor","#ccc");b(x,"rowSpacing",1);b(x,
"columnSpacing",1);var G=x.isAutoScrolling;delete x.isAutoScrolling;this.callSuper(k,x);k=new d(this,{name:"header",overflow:"hidden"});new z(k,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new n.SizeToChildren(k,{name:"yLayout",locked:!0,axis:"y"});x=this.sizeHeightToRows;G=new d(this,{name:"content",overflow:x?"hidden":"autoy"},G?[n.AutoScroller]:[]);new z(G,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:x});this.syncTo(this,"setGridWidth","width");
this.syncTo(k,"_updateContentWidth","width");this.constrain("_updateContentHeight",[x?G:this,"height",k,"height",k,"y"])},setSizeHeightToRows:function(k){this.sizeHeightToRows=k},setRowSpacing:function(k){this.rowSpacing!==k&&(this.rowSpacing=k,this.inited&&this.content.yLayout.setSpacing(k))},setColumnSpacing:function(k){this.columnSpacing!==k&&(this.columnSpacing=k,this.inited&&this.header.xLayout.setSpacing(k))},setLocked:function(k){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(x=>
{k?x.incrementLockedCounter():(x.decrementLockedCounter(),x.update())});this.callSuper(k)},_updateContentWidth:function(k){const x=this.content,z=k.value;x.setWidth(z);x.getSubviews().forEach(G=>{G.setWidth(z)})},_updateContentHeight:function(k){var x=this.header;k=this.content;x=x.y+x.height;k.setY(x);this.sizeHeightToRows?this.setHeight(x+k.height):k.setHeight(this.height-x)},determinePlacement:function(k,x){if("*"===k){let z;x.isA(D)?z=this.content:x.isA(C)&&(z=this.header);if(z)return x.gridController!==
this&&x.setGridController(this),z}return this.callSuper(k,x)},doSort:function(){var k=this.sort||["",""];if(k=this.getSortFunction(k[0],k[1])){const x=this.content,z=x.yLayout;this.rows.sort(k);x.sortSubviews(k);z.sortSubviews(k);z.update()}},getSortFunction:(k,x)=>{if(k){const z="ascending"===x?1:-1,G=k+"View";return(I,J)=>{I=I[G].text;J=J[G].text;return I>J?z:J>I?-z:0}}}});n.SimpleGridColHdr=new v("SimpleGridColHdr",n.SimpleTextButton,{include:[C],initNode:function(k,x){const z=this;b(x,"activeColor",
"#999");b(x,"hoverColor","#bbb");b(x,"readyColor","#aaa");b(x,"inset",2);b(x,"sortIconColor","#666");b(x,"outset",2);const G=x.outset;delete x.outset;z.callSuper(k,x);new n.FontAwesome(z,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:z.sortIconColor},[{initNode:function(I,J){this.callSuper(I,J);this.getIDS().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();z.setOutset(this.width+G);y(z)}}]);z.textView.enableEllipsis();z.setDisabled(!z.sortable);y(z);A(z)},setSortIconColor:function(k){this.sortIconColor=
k;this.sortIcon&&this.sortIcon.setTextColor(k)},setSortable:function(k){this.callSuper(k);this.inited&&(k&&this.setOutset(14),this.setDisabled(!k),A(this))},setSortState:function(k){this.callSuper(k);this.inited&&A(this)},setWidth:function(k,x){this.callSuper(k,x);this.inited&&y(this)},doActivated:function(){this.disabled||(this.setSortState("ascending"===this.sortState?"descending":"ascending"),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,
1)}})})(myt);
(n=>{const u=JS.Class,v=JS.Module,r=Math,f=r.max,a=n.View;var d=n.global;const b=d.focus,e=d.keys,c=n.AccessorSupport.defAttr,l=w=>{const A=w.selectedRow;A&&(A.setSelected(!1),w.set("selectedRow",null,!0))};d=n.InfiniteListRow=new v("InfiniteListRow",{include:[n.Reusable],setInfiniteOwner:function(w){this.infiniteOwner=w},setModel:function(w){this.model=w},setClassKey:function(w){this.classKey=w},notifyRefreshed:()=>{}});const g=n.SelectableInfiniteListRow=new v("SelectableInfiniteListRow",{include:[d,
n.Selectable]}),t=n.InfiniteList=new u("InfiniteList",a,{initNode:function(w,A){let y=A.rowClasses;delete A.rowClasses;if("function"===typeof y){const B={};B["default"]=y;y=B}c(A,"modelIDName","id");c(A,"numericSort",!0);c(A,"ascendingSort",!0);c(A,"overflow","autoy");c(A,"bgColor","#ccc");c(A,"rowSpacing",1);c(A,"rowInset",0);c(A,"rowOutset",0);c(A,"rowHeight",30);c(A,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx=
{};this.callSuper(w,A);w=this._listView=new a(this);this._scrollAnchorView=new a(w,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(y,w);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(w,A)=>new n.TrackActivesMultiPool(w,A),setOverscrollBehavior:function(w){this.overscrollBehavior=w;this.getIDS().overscrollBehavior=w},setCollectionModel:function(w){this.collectionModel=w},setModelIDName:function(w){this.modelIDName=w},setRowSpacing:function(w){this.rowSpacing=
w;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(w){this.rowHeight=w;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(w,A){if(0<w&&(this.callSuper(w,A),this.inited)){w=this._listView;const y=this.width;w.setWidth(y);w.getSubviews().forEach(B=>{B.setWidth(y)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},
getSortFunction:function(){const w=this.modelIDName,A=this.ascendingSort;return this.numericSort?n.getNumericObjSortFunc(w,A):n.getAlphaObjSortFunc(w,A,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(w){var A=this.getIndexOfModelInData(w);if(0<=A){var y=this._rowExtent;w=this.getIDE().scrollTop;const B=w+this.height;A=this.rowInset+A*y;y=A+y;if(A<=w)return this.scrollYTo(A,!0),!0;if(y>=B)return this.scrollYTo(y-this.height,!0),!0}return!1},isModelInData:function(w){return 0<=this.getIndexOfModelInData(w)},
getNextModel:function(w,A=!0,y=!0){const B=this.getListData(),C=B.length;w=this.getIndexOfModelInData(w);if(0<=w)return w+=1,w>=C?A?B[0]:B[C-1]:B[w];if(y&&0<C)return B[C-1]},getPrevModel:function(w,A=!0,y=!0){const B=this.getListData(),C=B.length;w=this.getIndexOfModelInData(w);if(0<=w)return--w,0>w?A?B[C-1]:B[0]:B[w];if(y&&0<C)return B[0]},getIndexOfModelInData:function(w){if(w){const A=this.getListData();let y=A.length;for(;y;)if(this.areModelsEqual(A[--y],w))return y}return-1},areModelsEqual:function(w,
A){const y=this.modelIDName;return w[y]===A[y]},getActiveRowForModel:function(w){if(w){const A=this._itemPool.getActives();let y=A.length;for(;y;){const B=A[--y];if(this.areModelsEqual(B.model,w))return B}}},refreshListData:function(w,A){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(w,A)},resetListUI:function(w,A){const y=this.getListData().length,B=this._listView,C=this._scrollAnchorView;B.setHeight(y*this._rowExtent-(0<y?this.rowSpacing:
0)+this.rowInset+this.rowOutset);C.setY(B.height-C.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=A;w||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(w){var A=b.focusedView;A&&A.isDescendantOf(w)&&((A=this.getFocusTrap())?A.focus():b.clear());w.setVisible(!1);this._itemPool.putInstance(w)},refreshListUI:function(w){w=this._rowExtent;const A=this.rowInset,y=this.forceFullResetOnNextRefresh;var B=this.getIDE().scrollTop;const C=
this.getListData()||[];var D=f(0,r.floor((B-A)/w));B=r.min(C.length,r.ceil((B-A+this.height)/w));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==D||this._endIdx!==B||y){const x=this.width,z=this.rowHeight,G=this._visibleRowsByIdx;this._startIdx=D;this._endIdx=B;for(var k in G)if(k<D||k>=B)this.putRowBackInPool(G[k]),delete G[k];for(k=D;k<B;k++){D=G[k];const I=C[k],J=this.getClassKey(I);let K=!1;D&&D.classKey===J||(D&&this.putRowBackInPool(D),G[k]=D=this._itemPool.getInstance(J),
D.setInfiniteOwner(this),D.setClassKey(J),D.setWidth(x),D.setHeight(z),D.setY(A+k*w),D.setVisible(!0),K=!0);!y&&D.model&&this.areModelsEqual(D.model,I)?K&&this.updateRow(D):(D.setModel(I),this.updateRow(D));D.notifyRefreshed();D.bringToFront()}}},getClassKey:w=>"default",updateRow:w=>{}}),h=n.SimpleSelectableInfiniteListRow=new u("SimpleSelectableInfiniteListRow",n.SimpleButton,{include:[g],initNode:function(w,A){c(A,"selectedColor","#ccf");c(A,"activeColor","#f8f8f8");c(A,"hoverColor","#eee");c(A,
"readyColor","#fff");c(A,"focusIndicator",!1);c(A,"activationKeys",e.LIST_KEYS);this.callSuper(w,A)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(w){this.callSuper(w);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},
doActivationKeyDown:function(w,A){A=this.infiniteOwner;const y=this.model;switch(w){case e.CODE_ESC:this.selected&&A.setSelectedRow();break;case e.CODE_ARROW_LEFT:case e.CODE_ARROW_UP:A.selectPrevRowForModel(y);break;case e.CODE_ARROW_RIGHT:case e.CODE_ARROW_DOWN:A.selectNextRowForModel(y)}},doActivationKeyUp:function(w){switch(w){case e.CODE_ENTER:case e.CODE_SPACE:this.doActivated()}}}),m=n.SelectableInfiniteList=new u("SelectableInfiniteList",t,{setSelectedRow:function(w){const A=this.selectedRow;
w!==A&&(A&&A.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",w,!0),w&&(this.setSelectedRowModel(w.model),w.setSelected(!0)))},setSelectedRowModel:function(w){this.set("selectedRowModel",w,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(w,A,y){w&&(l(this),this.setSelectedRowModel(w),this.refreshListUI(),A&&(w=this.getActiveSelectedRow())&&w.focus())},selectNextRowForModel:function(w,
A=!0){this.selectRowForModel(this.getNextModel(w),A,!0)},selectPrevRowForModel:function(w,A=!0){this.selectRowForModel(this.getPrevModel(w),A,!1)},resetListUI:function(w,A){this.isModelInData(this.selectedRowModel)?l(this):this.setSelectedRow();this.callSuper(w,A)},putRowBackInPool:function(w){w.selected&&l(this);this.callSuper(w)},refreshListUI:function(w){w=b.focusedView;this.callSuper();const A=this.getActiveSelectedRow();A&&(this.set("selectedRow",A,!0),A.setSelected(!0),w&&w!==A||A.focus(!0))}}),
q=new v("InfiniteGridRowMixin",{notifyXChange:function(w){const A=this[w.columnId+"View"];A&&A.setX(w.x+w.cellXAdj)},notifyWidthChange:function(w){const A=this[w.columnId+"View"];A&&A.setWidth(w.width+w.cellWidthAdj)},notifyVisibilityChange:function(w){const A=this[w.columnId+"View"];A&&A.setVisible(w.visible)}}),p=new v("InfiniteGridMixin",{setGridHeader:function(w){(this.gridHeader=w)&&w.setGrid(this)},makeReady:function(w,A){const y=this.gridHeader;y?(this.forceFullResetOnNextRefresh=A,y.setSort(w),
y.setLocked(!1)):this.refreshListData(!1,A)},getSortFunction:function(){var w=this.gridHeader.sort||["",""];const A=w[0];w=w[1];return A?n.getAlphaObjSortFunc(A,"ascending"===w,!1):this.callSuper()},updateRow:function(w){this.gridHeader&&this.gridHeader.columnHeaders.forEach(A=>{w.notifyXChange(A);w.notifyWidthChange(A);w.notifyVisibilityChange(A)})},notifyXChange:function(w){this.getVisibleRows().forEach(A=>{A.notifyXChange(w)})},notifyWidthChange:function(w){this.getVisibleRows().forEach(A=>{A.notifyWidthChange(w)})},
notifyVisibilityChange:function(w){this.getVisibleRows().forEach(A=>{A.notifyVisibilityChange(w)})}});n.InfiniteGridRow=new v("InfiniteGridRow",{include:[d,q]});n.SelectableInfiniteGridRow=new v("SelectableInfiniteGridRow",{include:[g,q]});n.SimpleSelectableInfiniteGridRow=new u("SimpleSelectableInfiniteGridRow",h,{include:[q]});n.InfiniteGrid=new u("InfiniteGrid",t,{include:[p]});n.SelectableInfiniteGrid=new u("InfiniteGrid",m,{include:[p]});n.InfiniteGridHeader=new u("InfiniteGridHeader",a,{include:[n.GridController],
initNode:function(w,A){c(A,"columnSpacing",1);A.overflow="hidden";this.callSuper(w,A);new n.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(w){this.grid=w},setColumnSpacing:function(w){this.columnSpacing=w},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:f(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setHeight:function(w,A){this.callSuper(w,A);this.inited&&(w=this.height,this.columnHeaders.forEach(y=>{y.setHeight(w)}))},setWidth:function(w,A){this.callSuper(f(this.minWidth,
w),A);this.inited&&(w=this.width,this.setGridWidth(w),this.grid.setWidth(w))},subviewAdded:function(w){this.callSuper(w);w.isA(n.GridColHdr)&&(w.setGridController(this),w.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},notifyHdrXChange:function(w){this.isLocked()||this.grid.notifyXChange(w)},notifyHdrWidthChange:function(w){this.isLocked()||this.grid.notifyWidthChange(w)},updateRowsForVisibilityChange:function(w){this.grid.notifyVisibilityChange(w)}})})(myt);
(n=>{const u=JS.Class,v=n.AccessorSupport.defAttr,r=n.PanelStackTransition=new u("PanelStackTransition",n.Node,{to:f=>Promise.resolve(f),from:f=>Promise.resolve(f)});n.PanelStack=new u("PanelStack",n.View,{include:[n.SelectionManager],initNode:function(f,a){a.overflow="hidden";v(a,"itemSelectionId","panelId");v(a,"maxSelected",1);this.callSuper(f,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(f){this.set("transition",f,!0)},__updateWidth:function(f){const a=
this.getActivePanel();a&&a.setWidth(f.value)},__updateHeight:function(f){const a=this.getActivePanel();a&&a.setHeight(f.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(f){return this.getSelectableItem(f)},selectPanel:function(f){this.selectById(f)},doSelected:function(f){f.setWidth(this.width);f.setHeight(this.height)},doStackTransition:function(f){this["doStackTransition"+(f.selected?"To":"From")](f)},doStackTransitionTo:function(f){const a=this;a.doBeforeTransitionTo(f);
const d=a.transition;d?d.to(f).then(b=>{a.doAfterTransitionTo(b)}):(f.makeHighestZIndex(),f.setVisible(!0),a.doAfterTransitionTo(f))},doBeforeTransitionTo:f=>{},doAfterTransitionTo:f=>{},doStackTransitionFrom:function(f){const a=this;a.doBeforeTransitionFrom(f);const d=a.transition;d?d.from(f).then(b=>{a.doAfterTransitionFrom(b)}):(f.setVisible(!1),a.doAfterTransitionFrom(f))},doBeforeTransitionFrom:f=>{},doAfterTransitionFrom:f=>{}});n.StackablePanel=new JS.Module("StackablePanel",{include:[n.Selectable],
initNode:function(f,a){a.visible=a.selected=!1;v(a,"bgColor","#fff");v(a,"panelId",a.name);this.callSuper(f,a);this.selected&&this.doStackTransition()},setPanelStack:function(f){this.panelStack=f},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(f){this.panelId=f},setSelected:function(f){this.selected!==f&&(this.callSuper(f),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});n.PanelStackFadeTransition=
new u("PanelStackFadeTransition",r,{initNode:function(f,a){v(a,"duration",1E3);this.callSuper(f,a)},setDuration:function(f){this.duration=f},to:function(f){return new Promise((a,d)=>{f.stopActiveAnimators("opacity");f.setVisible(!0);f.animate({attribute:"opacity",to:1,duration:this.duration}).next(b=>{f.makeHighestZIndex();a(f)})})},from:function(f){return new Promise((a,d)=>{f.stopActiveAnimators("opacity");f.animate({attribute:"opacity",to:0,duration:this.duration}).next(b=>{f.setVisible(!1);a(f)})})}});
n.PanelStackSlideTransition=new u("PanelStackSlideTransition",r,{initNode:function(f,a){v(a,"duration",1E3);v(a,"direction","right");this.callSuper(f,a)},setDuration:function(f){this.duration=f},setDirection:function(f){this.direction=f},to:function(f){const a=f.getPanelStack(),d=this.duration;let b,e;switch(this.direction){case "left":e="x";b=a.width;break;case "right":e="x";b=-a.width;break;case "up":e="y";b=a.height;break;case "down":e="y",b=-a.height}f.stopActiveAnimators(e);f.set(e,b);f.setVisible(!0);
return new Promise((c,l)=>{l=g=>{f.makeHighestZIndex();c(f)};0<d?f.animate({attribute:e,to:0,duration:d}).next(l):(f.set(e,0),f.makeHighestZIndex(),c(f))})},from:function(f){const a=f.getPanelStack(),d=this.duration;let b,e;switch(this.direction){case "left":e="x";b=-a.width;break;case "right":e="x";b=a.width;break;case "up":e="y";b=-a.height;break;case "down":e="y",b=a.height}f.stopActiveAnimators(e);return new Promise((c,l)=>{l=g=>{f.setVisible(!1);c(f)};0<d?f.animate({attribute:e,to:b,duration:d}).next(l):
(f.set(e,b),f.setVisible(!1),c(f))})}})})(myt);
(n=>{const u=JS.Module;var v=n.global;const r=v.dragManager,f=v.mouse;v=n.Draggable;const a=(b,e,c)=>{[e,c].forEach(l=>{b["__is"+l]=!1;b["__tmrId"+l]=null})},d=n.DragGroupSupport=new u("DragGroupSupport",{initNode:function(b,e){this.__dgs={"*":!0};this.__any=!0;this.callSuper(b,e)},setDragGroups:function(b){const e=this.__dgs={};for(const c in b)e[c]=!0;this.__any=e.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},addDragGroup:function(b){b&&(this.__dgs[b]=!0,"*"===b&&(this.__any=
!0))},removeDragGroup:function(b){b&&(delete this.__dgs[b],"*"===b&&(this.__any=!1))},acceptAnyDragGroup:function(){return this.__any}});n.DropSource=new u("DropSource",{include:[v],initNode:function(b,e){this.defAttr(e,"distanceBeforeDrag",2);null==e.dropParent&&(e.dropParent=b.getRoot());this.callSuper(b,e)},setDropClass:function(b){this.dropClass=n.resolveClassname(b)},setDropClassAttrs:function(b){this.dropClassAttrs=b},setDropParent:function(b){this.dropParent=b},startDrag:function(b){const e=
this.dropable=this.makeDropable();if(e){const c=e.distanceBeforeDrag;e.distanceBeforeDrag=0;e.doMouseDown(b);e.__doMouseDown(b);e.distanceBeforeDrag=c}},doMouseUp:function(b){this.callSuper(b);const e=this.dropable;e&&(e.__doMouseUp(b),e.doMouseUp(b),this.dropable=null)},makeDropable:function(){const b=this.dropClass,e=this.dropParent;if(b&&e){const c=n.DomElementProxy.getRelativePosition(this.getIDE(),e.getIDE());return new b(e,Object.assign({},this.dropClassAttrs,{x:c.x||0,y:c.y||0}))}}});n.DropTarget=
new u("DropTarget",{include:[d],initNode:function(b,e){this.callSuper(b,e);r.registerDropTarget(this)},destroy:function(){r.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(b){return!this.disabled&&this.isVisible()},notifyDragStart:b=>{},notifyDragStop:b=>{},notifyDragEnter:b=>{},notifyDragLeave:b=>{},notifyDrop:b=>{}});n.Dropable=new u("Dropable",{include:[v,d],setDropTarget:function(b){this.dropTarget=b},setDropped:function(b){this.dropped=b},setDropFailed:function(b){this.dropFailed=
b},willPermitDrop:b=>!0,startDrag:function(b){this.setDropped(!1);this.setDropFailed(!1);r.startDrag(this);this.callSuper(b)},updateDrag:function(b){r.updateDrag(b,this);this.callSuper(b)},stopDrag:function(b,e){r.stopDrag(b,this,e);this.callSuper(b,e);e?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEntering:function(b){this.setDropTarget(b)},notifyDragLeaving:function(b){this.setDropTarget()},notifyDropped:function(b,e){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},
notifyDropFailed:()=>{},notifyDropAborted:()=>{}});n.AutoScroller=new u("AutoScroller",{include:[d],initNode:function(b,e){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(e,"overflow","auto");this.callSuper(b,e);r.registerAutoScroller(this)},destroy:function(){r.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(b){this.scrollBorder=Math.max(1,b)},setScrollFrequency:function(b){this.scrollFrequency=b},setScrollAmount:function(b){this.scrollAmount=
b},setScrollAcceleration:function(b){this.scrollAcceleration=b},notifyAutoScrollerDragStart:function(b){b=this.getIDE();(b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth)&&this.attachToDom(f,"__hndlMove","mousemove",!0)},notifyAutoScrollerDragStop:function(b){this.detachFromDom(f,"__hndlMove","mousemove",!0);a(this,"Up","Down");a(this,"Left","Right")},__hndlMove:function(b){const e=this;var c=b.value;b=c.pageX;c=c.pageY;if(e.containsPoint(b,c)){const l=e.getPagePosition(),g=e.scrollBorder,
t=(h,m)=>{e["__is"+h]&&(e.getIDE()["scroll"+("Up"===h||"Down"===h?"Top":"Left")]+=m*e["__amt"+h],e["__tmrId"+h]=setTimeout(()=>{t(h,m)},e.scrollFrequency))};b-=l.x;c-=l.y;c<g?(e.__isUp=!0,e.__amtUp=Math.round(e.scrollAmount*(1+e.scrollAcceleration*(1-c/g))),e.__tmrIdUp||t("Up",-1)):e.height-c<g?(e.__isDown=!0,e.__amtDown=Math.round(e.scrollAmount*(1+e.scrollAcceleration*(1-(e.height-c)/g))),e.__tmrIdDown||t("Down",1)):a(e,"Up","Down");b<g?(e.__isLeft=!0,e.__amtLeft=Math.round(e.scrollAmount*(1+e.scrollAcceleration*
(1-b/g))),e.__tmrIdLeft||t("Left",-1)):e.width-b<g?(e.__isRight=!0,e.__amtRight=Math.round(e.scrollAmount*(1+e.scrollAcceleration*(1-(e.width-b)/g))),e.__tmrIdRight||t("Right",1)):a(e,"Left","Right")}else a(e,"Up","Down"),a(e,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(n,u){if(u){const v=u.length;for(let r=0,f;v>r;)(f=u[r++])?this.extend(f):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.init(n||{})},init:function(n){this.callSetters(n);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(n=>{const u=Math,v=n.Geometry.degreesToRadians,r=e=>{var c=v(e.startAngle),l=v(e.endAngle);if(c>l){var g=c;c=l;l=g}g=e.__path;const t=e.width/2;var h=e.thickness;const m=e.radius,q=m+h;var p=u.PI;const w=l-c,A=w+1E-4>=2*p;A&&(c=0,l=p);const y=u.cos,B=u.sin;c=[[t+q*y(c),t+q*B(c)],[t+q*y(l),t+q*B(l)],[t+m*y(l),t+m*B(l)],[t+m*y(c),t+m*B(c)]];l=["M"+c[0].join()];A?l.push("A"+[q,q,0,1,1,c[1]].join(),"A"+[q,q,0,1,1,c[0]].join(),"L"+c[2].join(),"A"+[m,m,0,1,0,c[3]].join(),"A"+[m,m,0,1,0,c[2]].join()):(p=
w%(2*p)>p?1:0,h/=2,l.push("A"+[q,q,0,p,1,c[1]].join(),e.endCapRounding?"A"+[h,h,0,0,1,c[2]].join():"L"+c[2].join(),"A"+[m,m,0,p,0,c[3]].join(),e.startCapRounding?"A"+[h,h,0,0,1,c[0]].join():""));l.push("z");g.setAttribute("d",l.join(" "));g.setAttribute("fill",e.color)},f=e=>{const c=2*(e.radius+e.thickness),l=e.__svg;e.setWidth(c);e.setHeight(c);l.setAttribute("viewBox","0 0 "+c+" "+c);l.setAttribute("width",c);l.setAttribute("height",c);r(e)},a=(e,c,l)=>{e[c]!==l&&(e[c]=l,e.inited&&(r(e),e.fireEvent(c,
l)))},d=(e,c,l)=>{e[c]!==l&&(e[c]=l=u.max(0,l),e.inited&&(f(e),e.fireEvent(c,l)))},b=(e,c)=>{e=document.createElementNS("http://www.w3.org/2000/svg",e);c&&c.appendChild(e);return e};n.Annulus=new JS.Class("Annulus",n.BackView,{initNode:function(e,c){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(e,c);f(this)},createOurDomElement:function(e){e=this.callSuper(e);var c=Array.isArray(e)?e[1]:e;c=this.__svg=b("svg",c);this.__path=
b("path",c);c.style.pointerEvents="none";return e},setRadius:function(e){d(this,"radius",e)},setThickness:function(e){d(this,"thickness",e)},setStartAngle:function(e){a(this,"startAngle",e)},setEndAngle:function(e){a(this,"endAngle",e)},setStartCapRounding:function(e){a(this,"startCapRounding",e)},setEndCapRounding:function(e){a(this,"endCapRounding",e)},setColor:function(e){a(this,"color",e)},isColorAttr:function(e){return"color"===e||this.callSuper(e)}})})(myt);
(n=>{let u;const v=JS.Class,r=n.global,f=r.mouse,a=r.windowResize,d=Math,b=d.min,e=d.max,c=d.round,l=n.AccessorSupport.defAttr,g=p=>{p.__checkTID&&(clearTimeout(p.__checkTID),delete p.__checkTID)},t=p=>{if(p.tooltip){const w=p._lastPos;if(p.tooltip.parent.containsPoint(w.x,w.y))return!0}p.hideTip();return!1},h=n.BaseTooltip=new v("BaseTooltip",n.View,{include:[n.RootView],extend:{TIP_DELAY:500,TIP_HIDE_DELAY:100},initNode:function(p,w){this.tipDelay=this.nextTipDelay=h.TIP_DELAY;this.tipHideDelay=
h.TIP_HIDE_DELAY;l(w,"visible",!1);this.callSuper(p,w)},setTooltip:function(p){this.inited&&(this.tooltip=p)&&(this.attachToDom(f,"__hndl_mousemove","mousemove",!0),this.attachToDom(p.parent,"hideTip","mousedown",!0),this.attachToDom(p.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(p){const w=this;w._lastPos=n.MouseObservable.getMouseFromEvent(p);t(w)&&(g(w),w.__checkTID=setTimeout(()=>{delete w.__checkTID;t(w)&&w.showTip()},w.nextTipDelay))},hideTip:function(p){g(this);p=this.tooltip.parent;
this.detachFromDom(p,"hideTip","mousedown",!0);this.detachFromDom(p,"hideTip","mouseup",!0);this.detachFromDom(f,"__hndl_mousemove","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){r.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),m=n.Tooltip=new v("Tooltip",h,{extend:{EDGE_SIZE:0,EDGE_COLOR:"#444",SHADOW_SIZE:2,SHADOW_COLOR:"#00000033",HORIZONTAL_INSET:6,VERTICAL_INSET:3,TIP_BG_COLOR:"#444",
TIP_TEXT_COLOR:"#eee"},initNode:function(p,w){l(w,"edgeSize",m.EDGE_SIZE);l(w,"edgeColor",m.EDGE_COLOR);l(w,"shadowSize",m.SHADOW_SIZE);l(w,"shadowColor",m.SHADOW_COLOR);l(w,"insetH",m.HORIZONTAL_INSET);l(w,"insetV",m.VERTICAL_INSET);l(w,"tipBgColor",m.TIP_BG_COLOR);l(w,"tipTextColor",m.TIP_TEXT_COLOR);this.callSuper(p,w);new n.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(p){this.edgeSize=p},setEdgeColor:function(p){this.edgeColor=
p},setShadowSize:function(p){this.shadowSize=p},setShadowColor:function(p){this.shadowColor=p},setInsetH:function(p){this.insetH=p},setInsetV:function(p){this.insetV=p},setTipBgColor:function(p){this.tipBgColor=p},setTipTextColor:function(p){this.tipTextColor=p},showTip:function(){const p=this.tooltip;var w=p.text;const A=p.parent;var y=this._tipText;const B=this.edgeSize,C=this.shadowSize;y.text!==w&&y.setText(w);y.setWidth("auto");var D=b(y.measureNoWrapWidth(),p.maxTextWidth);w=D+2*y.x;const k=
w+2*B;y.setWidth(D);y.sizeViewToDom();D=A.getPagePosition();y=y.height+2*y.y;const x=y+2*B,z=D.y-x+("below"===p.tipvalign?A.height+x:0);D=D.x;switch(p.tipalign){case "right":D-=k;case "farright":D+=A.width;break;case "farleft":D-=k}this.setX(c(b(e(D,0),a.getWidth()-k)));this.setY(c(b(e(z,0),a.getHeight()-x)));this.setWidth(w);this.setHeight(y);this.setBgColor(this.tipBgColor);this.setBorder([B,"solid",this.edgeColor]);this.setBoxShadow([C,C,C,this.shadowColor]);this.callSuper()}}),q=n.TooltipMixin=
new JS.Module("TooltipMixin",{extend:{TIP_CLASS:m,MAX_TEXT_WIDTH:280},setTooltip:function(p){this.callSuper("");this.set("tooltip",p,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(p){this.set("tipAlign",p,!0)},setTipValign:function(p){this.set("tipValign",p,!0)},setMaxTextWidth:function(p){this.set("maxTextWidth",p,!0)},setTipClass:function(p){this.set("tipClass",p,!0)},doSmoothMouseOver:function(p){const w=this.getTooltip();this.callSuper(p);if(p&&w){p=this.tipClass||q.TIP_CLASS;
!u||u instanceof p||(u.destroy(),u=null);if(!u){let A=document.getElementById("tooltipDiv");A||(A=n.DomElementProxy.createElement("div",{position:"absolute"}),n.getElement().appendChild(A));u=new p(A,{domId:"tooltipDiv"})}u.setTooltip({parent:this,text:w,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||q.MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(n){this.setVectors(n||[])},setVectors:function(n){this._boundingBox=null;this.vectors=n},copyFrom:function(n){this.vectors=n.vectors.slice();this._boundingBox=null},drawInto:function(n){n.beginPath();const u=this.vectors;let v=u.length,r=0;for(n.moveTo(u[r++],u[r++]);v>r;)n.lineTo(u[r++],u[r++]);n.closePath()},translate:function(n,u){const v=this.vectors;let r=v.length;for(;r;)v[--r]+=u,v[--r]+=n;this._boundingBox=null},rotate:function(n){const u=
Math.cos(n);n=Math.sin(n);const v=this.vectors,r=v.length;for(let f=0;r>f;){const a=v[f]*u-v[f+1]*n,d=v[f]*n+v[f+1]*u;v[f++]=a;v[f++]=d}this._boundingBox=null},rotateAroundOrigin:function(n,u,v){this.translate(-u,-v);this.rotate(n);this.translate(u,v)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const n=this.vectors;let u=n.length,v,r,f,a;if(2<=u){f=a=n[--u];for(v=r=n[--u];u;){const d=n[--u],b=n[--u];f=Math.min(d,f);a=Math.max(d,a);v=Math.min(b,v);r=Math.max(b,r)}return this._boundingBox=
{x:v,y:f,width:r-v,height:a-f}}return this._boundingBox=null},getCenter:function(){const n=this.getBoundingBox();return n?{x:n.x+n.width/2,y:n.y+n.height/2}:null},isPointInPath:function(n,u){"object"===typeof n&&(u=n.y,n=n.x);return myt.Geometry.isPointInPath(n,u,this.getBoundingBox(),this.vectors)}});
(n=>{const u=Math.PI,v=u/2,r=3*u/2,f=n.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(d=>{a[d]=function(){this.__ctx[d].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(d=>
{a[d]=function(){return this.__ctx[d].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(d=>{a[f.generateSetterName(d)]=function(b){this.__ctx[d]=b};a[f.generateGetterName(d)]=function(){return this.__ctx[d]}});n.Canvas=new JS.Class("Canvas",n.BackView,{include:[a],createOurDomElement:function(d){d=this.callSuper(d);const b=
Array.isArray(d)?d[1]:d,e=this.__cvs=document.createElement("canvas");e.className="mytUnselectable";b.appendChild(e);e.style.position="absolute";this.__ctx=e.getContext("2d");return d},setWidth:function(d,b){0>d&&(d=0);this.__cvs.setAttribute("width",d);this.callSuper(d,b)},setHeight:function(d,b){0>d&&(d=0);this.__cvs.setAttribute("height",d);this.callSuper(d,b)},clear:function(){const d=this.__ctx;d.save();d.setTransform(1,0,0,1,0,0);d.clearRect(0,0,this.width,this.height);d.restore()},dataURItoBlob:function(d,
b){d=atob(d.split(",")[1]);const e=d.length,c=[];for(let l=0;l<e;)c.push(d.charCodeAt(l++));return new Blob([new Uint8Array(c)],{type:b})},getDataURL:function(d,b){return this.__cvs.toDataURL(d,b)},getImageFile:function(d,b,e){switch(d){case "png":case "PNG":d="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":d="jpeg";null==e&&(e=.5);break;default:console.warn("Unexpected image type",d),d=d.toLowerCase()}const c="image/"+d;e=this.dataURItoBlob(this.getDataURL(c,e),c);b&&(e.name=b+"."+d);return e},
circle:function(d,b,e){this.__ctx.arc(d,b,e,0,2*u)},drawRoundedRect:function(d,b,e,c,l,g){const t=this.lineTo.bind(this),h=this.arc.bind(this);g=c+g;l=e+l;this.beginPath();this.moveTo(e,c+d);t(e,g-d);h(e+d,g-d,d,u,v,!0);t(l-d,g);h(l-d,g-d,d,v,0,!0);t(l,c+d);h(l-d,c+d,d,0,r,!0);t(e+d,c);h(e+d,c+d,d,r,u,!0);this.closePath();0<b&&(d-=b,e+=b,l-=b,c+=b,g-=b,this.moveTo(e,c+d),h(e+d,c+d,d,u,r),t(l-d,c),h(l-d,c+d,d,r,0),t(l,g-d),h(l-d,g-d,d,0,v),t(e+d,g),h(e+d,g-d,d,v,u),this.closePath());return this},drawRectOutline:function(d,
b,e,c,l){l=e+l;c=b+c;const g=b+d,t=c-d,h=e+d;d=l-d;const m=this.lineTo.bind(this);this.beginPath();this.moveTo(b,e);m(b,l);m(c,l);m(c,e);m(b,e);m(g,h);m(t,h);m(t,d);m(g,d);m(g,h);this.closePath();return this},drawPartiallyRoundedRect:function(d,b,e,c,l,g,t,h){h=g+h;t=l+t;const m=this.lineTo.bind(this),q=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(l,g+d);m(l,h-e);0<e&&q(l,h,l+e,h);m(t-c,h);0<c&&q(t,h,t,h-c);m(t,g+b);0<b&&q(t,g,t-b,g);m(l+d,g);0<d&&q(l,g,l,g+d);this.closePath();return this},
drawAnnulus:function(d,b,e,c,l,g,t,h=60){const m=n.Color;t.forEach(G=>{"string"===typeof G.color&&(G.color=m.makeColorFromHexString(G.color))});h=u/h;let q=0;for(;t.length-1>q;){var p=t[q++],w=t[q],A=Math.round((w.angle-p.angle)/h);w=p.color.getDiffFrom(w.color);p.colorDelta={red:w.red/A,green:w.green/A,blue:w.blue/A}}e=new n.Path([d+e,b,d+c,b]);e.rotateAroundOrigin(l,d,b);c=e.vectors;let y,B;p=c[0];A=c[1];w=c[2];let C=c[3],D=0,k=u/360;for(q=0;g>l;){y=p;B=A;var x=w;var z=C;l+=h;l>g&&(h+=g-l,k=0,l=
g);e.rotateAroundOrigin(h+k,d,b);p=c[0];A=c[1];w=c[2];C=c[3];this.beginPath();this.moveTo(y,B);this.lineTo(x,z);this.lineTo(w,C);this.lineTo(p,A);this.closePath();x=t[q].color;z=t[q].colorDelta;this.setFillStyle(m.rgbToHex(x.red+D*z.red,x.green+D*z.green,x.blue+D*z.blue,!0));this.fill();0<k&&(e.rotateAroundOrigin(-k,d,b),p=c[0],A=c[1],w=c[2],C=c[3]);D++;l>=t[q+1].angle&&(D=0,q++)}return this}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

/*
 Copyright (c) 2012-2018 Maynard Demmon and contributors
 Myt: A simple javascript UI framework
 Version: 20170326.2144
 MIT License

 Parts of the Software incorporates code from the following open-source projects:
 * JS.Class, (c) 2007-2012 James Coglan and contributors (MIT License)
 * Easing Functions, (c) 2001 Robert Penner (BSD License)
 * jQuery Easing v1.3, (c) 2008 George McGinley Smith (BSD License)
 * jQuery Cookie Plugin v1.3.1, (c) 2013 Klaus Hartl (MIT License)
 * parseUri 1.2.2, (c) Steven Levithan <stevenlevithan.com> (MIT License)
 * Spin.js 1.3.0 (c) 2011-2013 Felix Gnass (the MIT license)
 * date.format Date:03/10/15, Copyright (c) 2005 Jacob Wright https://github.com/jacwright/date.format
 * k-d Tree JavaScript - v1.0 (c) Mircea Pricop <pricop@ubilabs.net>,
                                  Martin Kleppe <kleppe@ubilabs.net>,
                                  Ubilabs http://ubilabs.net (MIT License)
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;for(c=c||0;c<e;c++)if(b[c]==a||Object.is(b[c],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};e.prototype.createResolveAndReject_=
function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(t){f(t)}}:b}var d,f,g=new e(function(a,
b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return g};e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(function(){f.asyncExecute(c)})};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,
d){for(var f=$jscomp.makeIterator(a),e=f.next();!e.done;e=f.next())c(e.value).callWhenSettled_(b,d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,f){function e(b){return function(c){g[b]=c;h--;0==h&&a(g)}}var g=[],h=0;do g.push(void 0),h++,c(d.value).callWhenSettled_(e(g.length-1),f),d=b.next();while(!d.done)})};return e},"es6","es3");
BrowserDetect=function(){var a,b=function(b){for(var c,d=b.length;d;)if(c=b[--d],a=c.ver||c.id,c.str&&0<=c.str.indexOf(c.sub)||c.prop)return c.id},c=function(b){var c=b.indexOf(a);if(0<=c)return parseFloat(b.substring(c+a.length+1))},d=navigator.userAgent,e=navigator.platform;b={browser:b([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:d,sub:"Firefox",id:"Firefox"},{str:d,sub:"Chrome",id:"Chrome"},{str:d,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:c(d)||c(navigator.appVersion)||"UNKNOWN",os:b([{str:d,sub:"iPhone",id:"iPhone/iPod"},{str:e,sub:"Linux",id:"Linux"},{str:e,sub:"Mac",id:"Mac"},{str:e,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(b.browser){case "Chrome":case "Safari":c="WebKit";break;case "Explorer":c="MS";break;case "Firefox":c="Moz";break;case "Opera":c="O";break;default:c="UNKNOWN"}d=c.toLowerCase();b.prefix={dom:c,lowercase:d,css:"-"+d+"-",js:d[0].toUpperCase()+d.substr(1)};return b}();
Date.prototype.format=Date.prototype.format||function(){Date.shortMonths="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");Date.longMonths="January February March April May June July August September October November December".split(" ");Date.shortDays="Sun Mon Tue Wed Thu Fri Sat".split(" ");Date.longDays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");var a={d:function(){return(10>this.getDate()?"0":"")+this.getDate()},D:function(){return Date.shortDays[this.getDay()]},
j:function(){return this.getDate()},l:function(){return Date.longDays[this.getDay()]},N:function(){return 0==this.getDay()?7:this.getDay()},S:function(){return 1==this.getDate()%10&&11!=this.getDate()?"st":2==this.getDate()%10&&12!=this.getDate()?"nd":3==this.getDate()%10&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/864E5)},W:function(){var a=new Date(this.valueOf()),c=(this.getDay()+6)%7;a.setDate(a.getDate()-
c+3);c=a.valueOf();a.setMonth(0,1);4!==a.getDay()&&a.setMonth(0,1+(4-a.getDay()+7)%7);a=1+Math.ceil((c-a)/6048E5);return 10>a?"0"+a:a},F:function(){return Date.longMonths[this.getMonth()]},m:function(){return(9>this.getMonth()?"0":"")+(this.getMonth()+1)},M:function(){return Date.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var a=this.getFullYear(),c=this.getMonth()+1;12===c&&(a=a++,c=0);return(new Date(a,c,0)).getDate()},L:function(){var a=this.getFullYear();
return 0==a%400||0!=a%100&&0==a%4},o:function(){var a=new Date(this.valueOf());a.setDate(a.getDate()-(this.getDay()+6)%7+3);return a.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return 12>this.getHours()?"am":"pm"},A:function(){return 12>this.getHours()?"AM":"PM"},B:function(){return Math.floor(1E3*((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)/24)},g:function(){return this.getHours()%12||12},
G:function(){return this.getHours()},h:function(){return(10>(this.getHours()%12||12)?"0":"")+(this.getHours()%12||12)},H:function(){return(10>this.getHours()?"0":"")+this.getHours()},i:function(){return(10>this.getMinutes()?"0":"")+this.getMinutes()},s:function(){return(10>this.getSeconds()?"0":"")+this.getSeconds()},u:function(){var a=this.getMilliseconds();return(10>a?"00":100>a?"0":"")+a},e:function(){return/\((.*)\)/.exec((new Date).toString())[1]},I:function(){for(var a=null,c=0;12>c;++c){var d=
(new Date(this.getFullYear(),c,1)).getTimezoneOffset();if(null===a)a=d;else if(d<a){a=d;break}else if(d>a)break}return this.getTimezoneOffset()==a|0},O:function(){return(0>-this.getTimezoneOffset()?"-":"+")+(10>Math.abs(this.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(this.getTimezoneOffset()/60))+(0==Math.abs(this.getTimezoneOffset()%60)?"00":(10>Math.abs(this.getTimezoneOffset()%60)?"0":"")+Math.abs(this.getTimezoneOffset()%60))},P:function(){return(0>-this.getTimezoneOffset()?"-":"+")+
(10>Math.abs(this.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(this.getTimezoneOffset()/60))+":"+(0==Math.abs(this.getTimezoneOffset()%60)?"00":(10>Math.abs(this.getTimezoneOffset()%60)?"0":"")+Math.abs(this.getTimezoneOffset()%60))},T:function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1E3}};return function(b){var c=
this;return b.replace(/(\\?)(.)/g,function(b,e,f){return""===e&&a[f]?a[f].call(c):f})}}();JS={extend:function(a,b,c){if(a&&b)for(var d in b)a[d]===b[d]||!c&&a.hasOwnProperty(d)||(a[d]=b[d]);return a},makeClass:function(a){var b=function(){var a=this.initialize;return a?a.apply(this,arguments)||this:this},c=function(){};c.prototype=(a||Object).prototype;b.prototype=new c;return b}};JS.Method=JS.makeClass();
JS.extend(JS.Method.prototype,{initialize:function(a,b,c){this.module=a;this.name=b;this.callable=c;this._hasSuper="function"===typeof c&&-1!==c.toString().indexOf("callSuper")},call:function(){return this.callable.call.apply(this.callable,arguments)},apply:function(a,b){return this.callable.apply(a,b)},compile:function(a){var b=this,c=b.callable,d=JS.Method.keywordCallSuper,e=b._hasSuper&&d?d:null;return null===e?c:function(){var d=this.callSuper,g=!d||d.__kwd__;if(g){var h=d;var k=this.hasOwnProperty("callSuper");
if(d=this.callSuper=e(b,a,this,arguments))d.__kwd__=!0}d=c.apply(this,arguments);g&&(k?this.callSuper=h:delete this.callSuper);return d}}});JS.Method.create=function(a,b,c){return c&&c.__inc__&&c.__fns__||"function"!==typeof c?c:new this(a,b,c)};JS.Method.compile=function(a,b){return a instanceof this?a.compile(b):a};JS.Module=JS.makeClass();
JS.extend(JS.Module.prototype,{initialize:function(a,b,c){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(c||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=a;this.include(b,{_resolve:!1})},define:function(a,b,c){this.__fns__[a]=JS.Method.create(this,a,b);!1!==(c||{})._resolve&&this.resolve()},include:function(a,b){if(a){b=b||{};var c=a.extend,d=a.include,e,f,g;if(a.__fns__&&a.__inc__)this.__inc__.push(a),a.__dep__.push(this),(e=b._extended)?"function"===typeof a.extended&&
a.extended(e):"function"===typeof a.includedBy&&a.includedBy(this);else{e={_resolve:!1};if(this._ignore(c)){c=[].concat(c);var h=0;for(g=c.length;h<g;)this.extend(c[h++])}if(this._ignore(d))for(c=[].concat(d),h=0,g=c.length;h<g;)this.include(c[h++],e);for(f in a)a.hasOwnProperty(f)&&(d=a[f],("extend"!==f&&"include"!==f||!this._ignore(d))&&this.define(f,d,e))}!1!==b._resolve&&this.resolve()}return this},_ignore:function(a){return"function"!==typeof a||a.__fns__&&a.__inc__},resolve:function(a){a=a||
this;var b=a.__tgt__,c=this.__inc__,d=this.__fns__,e,f,g;if(a===this)for(this.__anc__=null,this.__mct__={},e=this.__dep__.length;e;)this.__dep__[--e].resolve();if(b){e=0;for(f=c.length;e<f;)c[e++].resolve(a);for(g in d)c=JS.Method.compile(d[g],a),b[g]!==c&&(b[g]=c)}},ancestors:function(a){var b=!a,c=this.__inc__;a=a||[];if(b&&this.__anc__)return this.__anc__.slice();for(var d=0,e=c.length;d<e;)c[d++].ancestors(a);0>a.indexOf(this)&&a.push(this);b&&(this.__anc__=a.slice());return a},lookup:function(a){var b=
this.__mct__[a];if(b)return b.slice();b=this.ancestors();for(var c=b.length,d=[],e,f=0;f<c;)e=b[f++].__fns__,e.hasOwnProperty(a)&&d.push(e[a]);this.__mct__[a]=d.slice();return d},includes:function(a){if(a===this)return!0;for(var b=this.__inc__,c=b.length,d=0;d<c;)if(b[d++].includes(a))return!0;return!1},instanceMethod:function(a){return this.lookup(a).pop()}});
JS.Kernel=new JS.Module("Kernel",{__eigen__:function(){var a=this.__meta__;if(a)return a;a=this.__meta__=new JS.Module("",null,{_target:this});return a.include(this.klass,{_resolve:!1})},equals:function(a){return this===a},extend:function(a,b){a&&this.__eigen__().include(a,{_extended:this,_resolve:(b||{})._resolve});return this},isA:function(a){return"function"===typeof a&&this instanceof a||this.__eigen__().includes(a)},method:function(a){var b=this.__mct__||(this.__mct__={}),c=b[a],d=this[a];if("function"!==
typeof d)return d;if(c&&d===c._value)return c._bound;c=d.bind(this);b[a]={_value:d,_bound:c};return c}});JS.Class=JS.makeClass(JS.Module);
JS.extend(JS.Class.prototype,{initialize:function(a,b,c,d){"function"!==typeof b&&(d=c,c=b,b=Object);JS.Module.prototype.initialize.call(this,a);a=(d||{})._resolve;d={_resolve:!1};var e=JS.makeClass(b);JS.extend(e,this);e.prototype.constructor=e.prototype.klass=e;e.__eigen__().include(b.__meta__,{_resolve:a});e.__tgt__=e.prototype;var f=b===Object?{}:b.__fns__?b:new JS.Module(b.prototype,d);e.include(JS.Kernel,d).include(f,d).include(c,d);!1!==a&&e.resolve();"function"===typeof b.inheritedBy&&b.inheritedBy(e);
return e}});(function(){var a=JS.Method,b=JS.Kernel,c=JS.Class,d=JS.Module,e=function(b,d){b.__inc__=[];b.__dep__=[];var e=b.prototype,f={},g;for(g in e)e.hasOwnProperty(g)&&(f[g]=a.create(b,g,e[g]));b.__fns__=f;b.__tgt__=e;e.constructor=e.klass=b;JS.extend(b,c.prototype);b.include(d);b.constructor=b.klass=c};e(a,b);e(d,b);e(c,d);b=b.instanceMethod("__eigen__");b.call(a).resolve();b.call(d).resolve();b.call(c).include(d.__meta__)})();
JS.Method.keywordCallSuper=function(a,b,c,d){var e=b.lookup(a.name),f=e.length-1,g=Array.prototype.slice.call(d);if(0!==f){var h=function(){for(var a=arguments.length;a;)g[--a]=arguments[a];f--;0===f&&delete c.callSuper;a=e[f].apply(c,g);c.callSuper=h;f++;return a};return h}};JS.Singleton=new JS.Class("Singleton",{initialize:function(a,b,c){return new new JS.Class(a,b,c)}});
myt={version:2.01911051227E7,IMAGE_ROOT:global.MYT_IMAGE_ROOT||"",__GUID_COUNTER:0,generateGuid:function(){return++myt.__GUID_COUNTER},addEventListener:function(){return window.addEventListener?function(a,b,c,d,e){a.addEventListener(b,c,{capture:d||!1,passive:e||!1})}:function(a,b,c){var d=b+c;a["e"+d]=c;a[d]=function(){a["e"+d](window.event)};a.attachEvent("on"+b,a[d])}}(),removeEventListener:function(){return window.addEventListener?function(a,b,c,d){a.removeEventListener(b,c,d||!1)}:function(a,
b,c){c=b+c;a.detachEvent("on"+b,a[c]);a[c]=null;a["e"+c]=null}}(),resolveName:function(a,b){if(a&&0!==a.length){b=b||global;for(var c=Array.isArray(a)?a:a.split("."),d=0,e=c.length;d<e;++d)if(b=b[c[d]],void 0===b){console.warn("resolveName failed for:",a,"at part:",d,c[d]);return}return b}},resolveClassname:function(a){"string"===typeof a&&(a=myt.resolveName(a));return a&&"function"===typeof a.isA&&a.isA(JS.Class)?a:null},getExtension:function(a){return a?a.split(".")[1]:null},fillTextTemplate:function(){var a=
Array.prototype.slice.call(arguments),b=a.shift();if(null==b)return"";for(var c,d=0,e=a.length;e>d;++d)c=a[d],b=b.split("{"+d+"}").join(null==c?"":c);return b},generateLink:function(a,b,c,d){var e="";if(c)for(var f in c)e+=" "+f+'="'+c[f]+'"';return myt.fillTextTemplate('<a href="#" onclick=\'myt.__handleGeneratedLink(this, "{0}", &apos;{3}&apos;); return false;\'{2}>{1}</a>',b,a,e,JSON.stringify(d))},__handleGeneratedLink:function(a,b,c){for(var d;a;){if(d=a.model){var e;try{c&&(e=JSON.parse(c))}catch(f){myt.dumpStack(f)}d[b].call(d,
e);break}a=a.parentNode}},loadScript:function(a,b,c){var d=this._loadedScripts||(this._loadedScripts={});if(d[a])return console.warn("script already loaded for src",a),null;d[a]=!0;var e=document.createElement("script");e.type="text/javascript";e.async=!1;if(b){var f=!1;e.onload=e.onreadystatechange=function(){f||this.readyState&&"complete"!==this.readyState||(f=!0,e.onload=e.onreadystatechange=null,b())}}e.src=a+(c?"":(-1!==a.indexOf("?")?"&":"?")+"cacheBust="+Date.now());this.getElement("head").appendChild(e);
return e},wrapFunction:function(a,b){return function(){var c=this.callSuper;this.callSuper=a;var d=b.apply(this,arguments);void 0!==c?this.callSuper=c:delete this.callSuper;return d}},dumpStack:function(a,b){if("string"===typeof a){var c=a;a=null}myt.global.error.notify(b||"error",null,c,a)},getRandom:function(a){var b=Math.random();a&&(b=a(b),1<=b?b=.9999999999:0>b&&(b=0));return b},getRandomArbitrary:function(a,b,c){if(a>b){var d=a;a=b;b=d}return myt.getRandom(c)*(b-a)+a},getRandomInt:function(a,
b,c){if(a>b){var d=a;a=b;b=d}return Math.floor(myt.getRandom(c)*(b-a+1)+a)},areFloatsEqual:function(a,b,c){var d=Math.abs(a),e=Math.abs(b);c=c?Math.abs(c):1E-6;return Math.abs(a-b)<=(d>e?e:d)*c},areArraysEqual:function(a,b){if(a!==b){if(null==a||null==b)return!1;var c=a.length;if(c!==b.length)return!1;for(;c;)if(a[--c]!==b[c])return!1}return!0},areObjectsEqual:function(a,b){if(a!==b){if(null==a||null==b)return!1;for(var c in a)if(a[c]!==b[c])return!1;for(c in b)if(a[c]!==b[c])return!1}return!0},getElement:function(a,
b){return document.getElementsByTagName(a||"body")[0<b?b:0]},loadCSSFonts:function(a){(a||[]).forEach(function(a){var b=document.createElement("link");b.appendChild(document.createTextNode(""));b.rel="stylesheet";b.href=a;document.head.appendChild(b)})},createStylesheet:function(){var a=document.createElement("style");a.appendChild(document.createTextNode(""));document.head.appendChild(a);return a.sheet},addCSSRule:function(a,b,c,d){"insertRule"in a?a.insertRule(b+"{"+c+"}",d):"addRule"in a&&a.addRule(b,
c,d)},removeCSSRules:function(a){for(var b=a.cssRules.length;b;)b--,"deleteRule"in a?a.deleteRule(b):"removeRule"in a&&a.removeRule(b)},createInputPlaceholderCSSRule:function(a,b,c){var d=myt,e=a.getOuterDomElement().id||(a.getOuterDomElement().id="id"+d.generateGuid()),f=a.__sheet,g=[];f?d.removeCSSRules(f):f=a.__sheet=d.createStylesheet();b&&g.push("color:"+b);c&&g.push("font-family:"+c);g=g.join("; ");switch(BrowserDetect.browser){case "Chrome":case "Safari":d.addCSSRule(f,"#"+e+"::-webkit-input-placeholder",
g,0);break;case "Firefox":d.addCSSRule(f,"#"+e+":-moz-placeholder","opacity:1; "+g,0);d.addCSSRule(f,"#"+e+"::-moz-placeholder","opacity:1; "+g,0);break;case "Explorer":d.addCSSRule(f,"#"+e+":-ms-input-placeholder",g,0)}},memoize:function(a){return function(){var b=JSON.stringify(arguments),c=a.__cache||(a.__cache={});return b in c?c[b]:c[b]=a.apply(this,arguments)}},extend:function(a,b){var c=a,d=c,e=arguments,f=e.length,g=0,h,k,l;if(c)for(2<f&&"function"===typeof e[f-1]&&(h=e[--f]);++g<f;)if(c=
e[g]){var m=-1;for(l=(k=Object.keys(c))?k.length:0;++m<l;){var n=k[m];h?h(n,d,c):d[n]=c[n]}}return d},promise:function(){var a={args:arguments,next:function(b){a.kept?b.apply(null,a.args):a._nextFunc=b;return a},keep:function(){a.kept=!0;a._nextFunc&&a._nextFunc.apply(null,a.args);return a}};return a},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},b);g&&a.apply(e,f)}}};
(function(a){var b=/\+/g,c=function(a){return a},d=function(a){return decodeURIComponent(a.replace(b," "))},e=function(a,b){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return b?JSON.parse(a):a}catch(k){}},f=a.Cookie={defaults:{raw:!1,json:!1},read:function(b,h){h=a.extend({},f.defaults,h);var g=h.raw?c:d;h=h.json;for(var l=document.cookie.split("; "),m=b?void 0:{},n,p,r=0,u=l.length;r<u;){n=l[r++].split("=");p=g(n.shift());n=g(n.join("="));if(b&&b===p){m=e(n,
h);break}b||(m[p]=e(n,h))}return m},write:function(b,c,d){d=a.extend({},f.defaults,d);if("number"===typeof d.expires){var e=d.expires,g=d.expires=new Date;g.setDate(g.getDate()+e)}c=d.json?JSON.stringify(c):String(c);return document.cookie=[d.raw?b:encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")},remove:function(b,c){return void 0!==f.read(b,c)?(f.write(b,
"",a.extend({},c,{expires:-1})),!0):!1}}})(myt);
(function(a){var b=global.localStorage,c=function(a,b,c){if(0<b){var e="__timerId_"+c;(c=d[e])&&clearTimeout(c);d[e]=setTimeout(function(){a();delete d[e]},b)}else a()},d=a.LocalStorage={hasDatum:function(a,b){if(a&&(b=d.getItem(b||"myt")))try{return null!=JSON.parse(b)[a]}catch(g){console.error(g)}return!1},getDatum:function(a,b){if(a&&(b=d.getItem(b||"myt")))try{if(b=JSON.parse(b),"object"===typeof b)return b[a]}catch(g){console.error(g)}},setDatum:function(a,b,g,h){g=g||"myt";c(function(){var c=
d.getData(g);c[a]=b;d.setItem(g,JSON.stringify(c))},h,g+"___"+a)},removeDatum:function(a,b,g){b=b||"myt";c(function(){var c=d.getData(b);delete c[a];d.setItem(b,JSON.stringify(c))},g,b+"___"+a)},hasData:function(a){return null!=d.getItem(a||"myt")},getData:function(a){if(a=d.getItem(a||"myt"))try{return JSON.parse(a)}catch(f){console.error(f)}return{}},setData:function(a,b,g){b=b||"myt";null==a&&(a={});return"object"===typeof a?(c(function(){d.setItem(b,JSON.stringify(a))},g,b),!0):!1},removeData:function(a,
b){a=a||"myt";c(function(){d.removeItem(a)},b,a)},getLength:function(){return b.length},getKey:function(a){return b.key(a)},getItem:function(a){return b.getItem(a)},setItem:function(a,c){b.setItem(a,c)},removeItem:function(a){b.removeItem(a)},clear:function(){b.clear()},get:function(a){return d.getItem(a)},set:function(a,b){d.setItem(a,b)},remove:function(a){d.removeItem(a)},clearAll:function(){d.clear()}}})(myt);
(function(a){var b=/(?:^|&)([^&=]*)=?([^&]*)/g,c=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;a.URI=new JS.Class("URI",{initialize:function(a,b){a&&this.parse(a,b)},setSource:function(a){this.source=a},setProtocol:function(a){this.protocol=
a},setAuthority:function(a){this.authority=a},setUserInfo:function(a){this.userInfo=a},setUser:function(a){this.user=a},setPassword:function(a){this.password=a},setHost:function(a){this.host=a},setPort:function(a){this.port=a},setRelative:function(a){this.relative=a},setPath:function(a){this.path=a},setDirectory:function(a){this.directory=a},setFile:function(a){this.file=a},setQuery:function(a){this.query=a},setAnchor:function(a){this.anchor=a},parse:function(a,f){var e=this;a=(f?d:c).exec(a);e.setSource(a[0]||
"");e.setProtocol(a[1]||"");e.setAuthority(a[2]||"");e.setUserInfo(a[3]||"");e.setUser(a[4]||"");e.setPassword(a[5]||"");e.setHost(a[6]||"");e.setPort(a[7]||"");e.setRelative(a[8]||"");e.setPath(a[9]||"");e.setDirectory(a[10]||"");e.setFile(a[11]||"");e.setQuery(a[12]||"");e.setAnchor(a[13]||"");e.queryPairs={};e.query.replace(b,function(a,b,c){b&&(e.queryPairs[b]=c)})},decodeQueryParam:function(a){a=decodeURIComponent(a);return a.replace("+"," ")},getQuery:function(){var a=this.queryPairs,b=[],c;
for(c in a)b.push(c+"="+encodeURIComponent(this.getQueryParam(c)));a=b.join("&");return 0<a.length?"?"+a:a},getQueryParam:function(a){a=this.queryPairs[a];return null==a?void 0:this.decodeQueryParam(a)},getPathParts:function(a){var b=this.path.split("/");if(!a)for(a=b.length;a;)0===b[--a].length&&b.splice(a,1);return b},toString:function(a){var b=this.protocol,c=this.host,d=this.userInfo,e=this.port,l=this.path;a=a?this.query?"?"+this.query:"":this.getQuery();var m=this.anchor,n="";b&&(n+=b+"://");
d&&c&&(n+=d+"@");c&&(n+=c,e&&(n+=":"+e));l?n+=l:c&&(a||m)&&(n+="/");a&&(n+=a);m&&(n+="#"+m);return n}})})(myt);
(function(a){var b=a.Geometry={getClosestPointOnALineToAPoint:function(a,b,e,f,g,h){e-=a;f-=b;g=(e*(g-a)+f*(h-b))/(e*e+f*f);return{x:a+e*g,y:b+f*g}},getClosestPointOnASegmentToAPoint:function(a,b,e,f,g,h){var c=e-a,d=f-b;g=(c*(g-a)+d*(h-b))/(c*c+d*d);return 0>g?{x:a,y:b}:1<g?{x:e,y:f}:{x:a+c*g,y:b+d*g}},isPointInPath:function(a,d,e,f){"object"===typeof a&&(f=e,e=d,d=a.y,a=a.x);if(b.rectContainsPoint(a,d,e)&&(e=f.length,6<=e)){for(var c=!1,h=f[0],k=f[1],l,m;e;)m=f[--e],l=f[--e],m>d!==k>d&&a<(h-l)*
(d-m)/(k-m)+l&&(c=!c),h=l,k=m;return c}return!1},rectContainsPoint:function(a,b,e,f,g,h){"object"===typeof a&&(h=g,g=f,f=e,e=b,b=a.y,a=a.x);"object"===typeof e&&(h=e.height,g=e.width,f=e.y,e=e.x);return a>=e&&b>=f&&a<=e+g&&b<=f+h},circleContainsPoint:function(a,d,e,f,g){return b.measureDistance(a,d,e,f,!0)<=g*g},measureDistance:function(a,b,e,f,g){a=e-a;b=f-b;b=a*a+b*b;return g?b:Math.sqrt(b)},degreesToRadians:function(a){return a*Math.PI/180},radiansToDegrees:function(a){return 180*a/Math.PI},circleContainsLatLng:function(a,
d,e,f,g,h){return b.measureLatLngDistance(a,d,e,f,h)<=g},measureLatLngDistance:function(a,d,e,f,g){void 0===g&&(g=6371);a=b.degreesToRadians(a);d=b.degreesToRadians(d);e=b.degreesToRadians(e);f=b.degreesToRadians(f);return g*Math.acos(Math.sin(a)*Math.sin(e)+Math.cos(a)*Math.cos(e)*Math.cos(f-d))},polarToCartesian:function(a,d,e,f){null==e&&(e=0);null==f&&(f=0);d%=360;if(0===d)d=a,a=0;else if(90===d)d=0;else if(180===d)d=-a,a=0;else if(270===d)d=0,a=-a;else{var c=b.degreesToRadians(d);d=a*Math.cos(c);
a*=Math.sin(c)}return[e+d,f+a]},cartesianToPolar:function(a,d,e,f,g){null==e&&(e=0);null==f&&(f=0);a-=e;f=d-f;d=Math.sqrt(a*a+f*f);f=Math.atan2(f,a);0>f&&(f+=2*Math.PI);return[d,g?f:b.radiansToDegrees(f)]}}})(myt);
myt.Observable=new JS.Module("Observable",{attachObserver:function(a,b,c){return a&&b&&c?(this.getObservers(c).push(b,a),!0):!1},detachObserver:function(a,b,c){if(a&&b&&c){var d=this.__obsbt;if(d&&(c=d[c])){d=!1;for(var e=c.length;e;)--e,a===c[e--]&&b===c[e]&&(c.splice(e,2),d=!0);return d}}return!1},detachAllObservers:function(){var a=this.__obsbt;if(a){var b,c;for(c in a){var d=a[c];for(b=d.length;b;){var e=d[--b];var f=d[--b];e&&f&&("function"===typeof e.detachFrom&&e.detachFrom(this,f,c)||d.splice(b,
2))}}}},getObservers:function(a){var b=this.__obsbt||(this.__obsbt={});return b[a]||(b[a]=[])},hasObservers:function(a){var b=this.__obsbt;return b?(a=b[a])&&0<a.length:!1},createEvent:function(a,b){return{source:this,type:a,value:b}},isFiringEvent:function(a){return(this.__aet||(this.__aet={}))[a]},fireEvent:function(a,b,c){if(c=c||(this.hasObservers(a)?this.__obsbt[a]:null)){b={source:this,type:a,value:b};var d=this.__aet||(this.__aet={});if(!0===d[a])myt.global.error.notifyWarn("eventLoop","Attempt to refire active event: "+
a);else{d[a]=!0;for(var e=c.length,f,g;e;)if(f=c[--e],g=c[--e],f&&g)try{if("function"===typeof g){if(g.call(f,b))break}else if(f[g](b))break}catch(h){myt.dumpStack(h)}d[a]=!1}}}});
myt.Observer=new JS.Module("Observer",{syncTo:function(a,b,c,d,e){void 0===d&&(d=c);try{this[b](a.createEvent(c,a.get(d)))}catch(f){myt.dumpStack(f)}e||this.attachTo(a,b,c,e)},isAttachedTo:function(a,b,c){if(a&&b&&c){var d=this.__obt;if(d&&(c=d[c]))for(d=c.length;d;)if(--d,a===c[d--]&&b===c[d])return!0}return!1},getObservables:function(a){var b=this.__obt||(this.__obt={});return b[a]||(b[a]=[])},hasObservables:function(a){var b=this.__obt;return b?(a=b[a])&&0<a.length:!1},attachTo:function(a,b,c,
d){if(a&&b&&c){var e=this.getObservables(c);if(d){var f=this,g=b;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);b="__DO_ONCE_"+this.__methodNameCounter++;this[b]=function(d){f.detachFrom(a,b,c);delete f[b];return f[g](d)}}if(a.attachObserver(this,b,c))return e.push(b,a),!0}return!1},detachFrom:function(a,b,c){if(a&&b&&c){var d=this.__obt;if(d&&(d=d[c])){for(var e=!1,f=d.length;f;)--f,a===d[f--]&&b===d[f]&&a.detachObserver(this,b,c)&&(d.splice(f,2),e=!0);return e}}return!1},detachFromAllObservables:function(){var a=
this.__obt;if(a){var b,c;for(c in a){var d=a[c];for(b=d.length;b;)d[--b].detachObserver(this,d[--b],c);d.length=0}}}});
myt.Constrainable=new JS.Module("Constrainable",{include:[myt.Observer],applyConstraint:function(a,b){if(a&&b){var c=b.length;if(0!==c%2)console.log("Observables was not even.",this);else{var d=this.__cbmn||(this.__cbmn={});d=d[a]||(d[a]=[]);if(0<d.length)console.log("Constraint already exists for "+a+" on "+this);else{for(var e,f,g=0;c!==g;)e=b[g++],f=b[g++],e&&f&&(this.attachTo(e,a,f),d.push(e,f));try{this[a]()}catch(h){myt.dumpStack(h)}}}}},releaseConstraint:function(a){if(a){var b=this.__cbmn;
if(b&&(b=b[a])){for(var c=b.length,d,e;c;)d=b[--c],e=b[--c],this.detachFrom(e,a,d);b.length=0}}},releaseAllConstraints:function(){var a=this.__cbmn;if(a)for(var b in a)this.releaseConstraint(b)}});
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(a,b){this.hasOwnProperty(a)&&(console.log("Warning: myt.global key in use: ",a),this.unregister(a));this[a]=b;this.fireEvent("register"+a,b)},unregister:function(a){if(this.hasOwnProperty(a)){var b=this[a];delete this[a];this.fireEvent("unregister"+a,b)}else console.log("Warning: myt.global key not in use: ",a)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(a){this.consoleLogging=a},setStackTraceLimit:function(a){Error.stackTraceLimit=this.stackTraceLimit=a},notifyError:function(a,b,c){this.notify("error",a,b,c)},notifyWarn:function(a,b,c){this.notify("warn",a,b,c)},notifyMsg:function(a,b,c){this.notify("log",a,b,c)},notifyDebug:function(a,b,c){this.notify("debug",
a,b,c)},notify:function(a,b,c,d){d||(d=Error(c||b));d=d.stack||d.stacktrace;this.fireEvent(b||"error",{msg:c,stacktrace:d});if(this.consoleLogging&&a)console[a](d)}});
myt.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createDomElement:function(a,b,c){a=document.createElement(a);var d;if(c)for(d in c)a[d]=c[d];if(b)for(d in b)a.style[d]=b[d];return a},getComputedStyle:function(a){var b=global;return b.getComputedStyle?b.getComputedStyle(a,""):a.currentStyle},isDomElementVisible:function(a){if("INPUT"===a.nodeName&&"hidden"===a.type)return!1;for(var b;a;){if(a===document)return!0;b=this.getComputedStyle(a);if("none"===b.display||"hidden"===b.visibility)break;
a=a.parentNode}return!1},getZIndexRelativeToAncestor:function(a,b){if(a&&b){a=this.getAncestorArray(a,b);b=a.length-1;for(var c,d,e;b;)if(c=this.getComputedStyle(a[--b]),d=c.zIndex,e="auto"===d,0===b||!e||1!==parseInt(c.opacity,10))return e?0:parseInt(d,10)}return 0},getAncestorArray:function(a,b){for(var c=[];a;){c.push(a);if(a===b)break;a=a.parentNode}return c},getHighestZIndex:function(a){var b=this.getComputedStyle(a),c=b.zIndex,d="auto"===c;if(d&&1===parseInt(b.opacity,10))for(c=0,a=a.childNodes,
b=a.length;b;)d=a[--b],1===d.nodeType&&(c=Math.max(c,this.getHighestZIndex(d)));else c=d?0:parseInt(c,10);return c},getPagePosition:function(a,b){if(!a)return null;for(var c=0,d=0,e,f="Firefox"===BrowserDetect.browser?2:1;a&&"BODY"!==a.nodeName&&a!==b;)c+=a.offsetLeft,d+=a.offsetTop,(a=a.offsetParent)&&"BODY"!==a.nodeName&&(e=this.getComputedStyle(a),c+=f*parseInt(e.borderLeftWidth,10)-a.scrollLeft,d+=f*parseInt(e.borderTopWidth,10)-a.scrollTop);return{x:c,y:d}},getTruePagePosition:function(a){if(!a)return null;
a=$(a).offset();return{x:a.left,y:a.top}},simulateDomEvent:function(a,b,c){if(a){var d={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0};if(c)for(var e in c)d[e]=c[e];c={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};for(var f in c)if(c[f].test(b)){var g=f;break}if(!g)throw new SyntaxError("Only HTMLEvent and MouseEvent interfaces supported");
if(document.createEvent)f=document.createEvent(g),"HTMLEvents"===g?f.initEvent(b,d.bubbles,d.cancelable):f.initMouseEvent(b,d.bubbles,d.cancelable,document.defaultView,d.button,d.pointerX,d.pointerY,d.pointerX,d.pointerY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,null),a.dispatchEvent(f);else{d.clientX=d.pointerX;d.clientY=d.pointerY;f=document.createEventObject();for(var h in d)f[h]=d[h];a.fireEvent("on"+b,f)}}}},getInnerDomElement:function(){return this.domElement},getOuterDomElement:function(){return this.__outerElem},
getInnerDomStyle:function(){return this.deStyle},getOuterDomStyle:function(){return this.__outerStyle},setDomElement:function(a){if(Array.isArray(a)){var b=a[0];a=a[1]}else b=a;this.domElement=a;this.__outerElem=b;this.deStyle=a.style;this.__outerStyle=b.style;a.model=b.model=this},removeDomElement:function(){var a=this.getOuterDomElement();a.parentNode.removeChild(a)},disposeOfDomElement:function(){delete this.domElement.model;delete this.deStyle;delete this.domElement;delete this.__outerElem.model;
delete this.__outerStyle;delete this.__outerElem},setDomClass:function(a){this.domElement.className=this.domClass=a},addDomClass:function(a){var b=this.domElement.className;this.setDomClass((b?b+" ":"")+a)},removeDomClass:function(a){var b=this.domElement.className;if(b){b=b.split(" ");for(var c=b.length;c;)b[--c]===a&&b.splice(c,1);this.setDomClass(b.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(a){this.domElement.id=this.domId=a},setZIndex:function(a){this.deStyle.zIndex=
a},setStyleProperty:function(a,b){this.deStyle[a]=b},getPagePosition:function(){return myt.DomElementProxy.getPagePosition(this.domElement)},getTruePagePosition:function(){return myt.DomElementProxy.getTruePagePosition(this.domElement)},simulateDomEvent:function(a,b){myt.DomElementProxy.simulateDomEvent(this.domElement,a,b)},getHighestZIndex:function(){return myt.DomElementProxy.getHighestZIndex(this.domElement)},getHighestChildZIndex:function(a){for(var b=myt.DomElementProxy,c=this.domElement.childNodes,
d=c.length,e,f=0;d;)e=c[--d],1===e.nodeType&&e!==a&&(f=Math.max(f,b.getHighestZIndex(e)));return f},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.domElement)+1)}});
myt.DomObservable=new JS.Module("DomObservable",{attachDomObserver:function(a,b,c,d,e){if(a&&b&&c){d=!!d;var f=this.createDomMethodRef(a,b,c);if(f){var g=this.__dobsbt||(this.__dobsbt={}),h=g[c];h?h.push(a,b,f,d):g[c]=[a,b,f,d];myt.addEventListener(this.getInnerDomElement(),c,f,d,e);return!0}}return!1},createDomMethodRef:function(a,b,c){return null},createStandardDomMethodRef:function(a,b,c,d,e){if(d.EVENT_TYPES[c]){var f=this,g=d.EVENT;return function(c){c||(c=window.event);g.source=f;g.type=c.type;
g.value=c;a[b](g)||(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation(),e&&c.preventDefault());g.source=void 0}}},detachDomObserver:function(a,b,c,d){if(a&&b&&c){d=!!d;var e=this.__dobsbt;if(e&&(e=e[c])){for(var f=!1,g=this.getInnerDomElement(),h=e.length;h;)h-=4,a===e[h]&&b===e[h+1]&&d===e[h+3]&&(g&&myt.removeEventListener(g,c,e[h+2],d),e.splice(h,4),f=!0);return f}}return!1},detachAllDomObservers:function(){var a=this.getInnerDomElement();if(a){var b=this.__dobsbt;if(b){var c,d;for(d in b){var e=
b[d];for(c=e.length;c;){var f=e[--c];var g=e[--c];c-=2;myt.removeEventListener(a,d,g,f)}e.length=0}}}}});
myt.DomObserver=new JS.Module("DomObserver",{attachToDom:function(a,b,c,d,e){if(a&&b&&c){d=!!d;var f=this.__dobt||(this.__dobt={});f=f[c]||(f[c]=[]);a.attachDomObserver(this,b,c,d,e)&&f.push(d,b,a)}},detachFromDom:function(a,b,c,d){if(a&&b&&c){d=!!d;var e=this.__dobt;if(e&&(e=e[c])){for(var f=!1,g=e.length;g;)g-=3,a===e[g+2]&&b===e[g+1]&&d===e[g]&&a.detachDomObserver(this,b,c,d)&&(e.splice(g,3),f=!0);return f}}return!1},detachFromAllDomSources:function(){var a=this.__dobt;if(a){var b,c;for(c in a){var d=
a[c];for(b=d.length;b;)d[--b].detachDomObserver(this,d[--b],c,d[--b]);d.length=0}}}});myt.KeyObservable=new JS.Module("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:{source:null,type:null,value:null},getKeyCodeFromEvent:function(a){a=a.value;return a.keyCode||a.charCode}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.KeyObservable)||this.callSuper(a,b,c)}});
new JS.Singleton("GlobalFocus",{include:[myt.Observable],initialize:function(){this.lastTraversalWasForward=!0;myt.global.register("focus",this)},setFocusedView:function(a){if(this.focusedView!==a){this.prevFocusedView=this.focusedView;if(this.focusedView=a)this.focusedDom=null;this.fireEvent("focused",a)}},notifyFocus:function(a){this.focusedView!==a&&this.setFocusedView(a)},notifyBlur:function(a){this.focusedView===a&&this.setFocusedView(null)},clear:function(){this.focusedView?this.focusedView.blur():
this.focusedDom&&(this.focusedDom.blur(),this.focusedDom=null)},next:function(a){(a=this._traverse(!0,a))&&a.focus()},prev:function(a){(a=this._traverse(!1,a))&&a.focus()},_traverse:function(a,b){this.lastTraversalWasForward=a;var c=document.activeElement,d=document.body,e=d,f=e,g,h=a?"getNextFocus":"getPrevFocus";c&&(f=e=c,(c=e.model)||(c=this.findModelForDomElement(e)),c&&(b=c.getFocusTrap(b)))&&(d=b.domElement);for(;f;){if(f.model&&f.model[h]&&(g=f.model[h]()))f=g.domElement;else if(a)if(f.firstChild)f=
f.firstChild;else{if(f===d)return e.model;if(f.nextSibling)f=f.nextSibling;else for(;f&&(f=f.parentNode,f!==d);)if(f.nextSibling){f=f.nextSibling;break}}else f=f===d?this.__getDeepestDescendant(d):f.previousSibling?this.__getDeepestDescendant(f.previousSibling):f.parentNode;if(f===e)return e.model;if(1===f.nodeType)if((c=f.model)&&c instanceof myt.View){if(c.isFocusable())return c}else if(b=f.nodeName,!("A"!==b&&"AREA"!==b&&"INPUT"!==b&&"TEXTAREA"!==b&&"SELECT"!==b&&"BUTTON"!==b||f.disabled||isNaN(f.tabIndex)||
!myt.DomElementProxy.isDomElementVisible(f)||(c=this.findModelForDomElement(f),c&&c.searchAncestorsOrSelf(function(a){return!0===a.maskFocus})))){f.focus();this.focusedDom=f;break}}return null},findModelForDomElement:function(a){for(var b;a;){if((b=a.model)&&b instanceof myt.View)return b;a=a.parentNode}return null},__getDeepestDescendant:function(a){for(;a.lastChild;)a=a.lastChild;return a}});
new JS.Singleton("GlobalKeys",{include:[myt.DomElementProxy,myt.DomObservable,myt.DomObserver,myt.KeyObservable,myt.Observable,myt.Observer],initialize:function(){var a=this,b=myt.global,c="Firefox"===BrowserDetect.browser;a.KEYCODE_TAB=9;a.KEYCODE_SHIFT=16;a.KEYCODE_CONTROL=17;a.KEYCODE_ALT=18;a.KEYCODE_Z=90;a.KEYCODE_COMMAND=c?224:91;a.KEYCODE_RIGHT_COMMAND=c?224:93;a.setDomElement(document);a.attachTo(b.focus,"__handleFocused","focused");a.__keysDown={};a.__listenToDocument();b.register("keys",
a);global.onblur=function(){a.__keysDown={}}},isKeyDown:function(a){return!!this.__keysDown[a]},isShiftKeyDown:function(){return this.isKeyDown(this.KEYCODE_SHIFT)},isControlKeyDown:function(){return this.isKeyDown(this.KEYCODE_CONTROL)},isAltKeyDown:function(){return this.isKeyDown(this.KEYCODE_ALT)},isCommandKeyDown:function(){return this.isKeyDown(this.KEYCODE_COMMAND)||this.isKeyDown(this.KEYCODE_RIGHT_COMMAND)},isAcceleratorKeyDown:function(){return"Mac"===BrowserDetect.os?this.isCommandKeyDown():
this.isControlKeyDown()},__handleFocused:function(a){if(a=a.value)this.detachFromDom(this,"__handleKeyDown","keydown"),this.detachFromDom(this,"__handleKeyPress","keypress"),this.detachFromDom(this,"__handleKeyUp","keyup"),this.attachToDom(a,"__handleKeyDown","keydown"),this.attachToDom(a,"__handleKeyPress","keypress"),this.attachToDom(a,"__handleKeyUp","keyup");else{if(a=myt.global.focus.prevFocusedView)this.detachFromDom(a,"__handleKeyDown","keydown"),this.detachFromDom(a,"__handleKeyPress","keypress"),
this.detachFromDom(a,"__handleKeyUp","keyup");this.__listenToDocument()}},__listenToDocument:function(){this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup")},__handleKeyDown:function(a){var b=myt.KeyObservable.getKeyCodeFromEvent(a);a=a.value;this.__shouldPreventDefault(b,a.target)&&a.preventDefault();if(this.isCommandKeyDown()&&b!==this.KEYCODE_SHIFT&&b!==this.KEYCODE_CONTROL&&b!==this.KEYCODE_ALT)this.fireEvent("keydown",
b),this.fireEvent("keyup",b);else{this.__keysDown[b]=!0;if(b===this.KEYCODE_TAB){a=this.ignoreFocusTrap();var c=myt.global.focus;this.isShiftKeyDown()?c.prev(a):c.next(a)}this.fireEvent("keydown",b)}},ignoreFocusTrap:function(){return this.isAltKeyDown()},__handleKeyPress:function(a){a=myt.KeyObservable.getKeyCodeFromEvent(a);this.fireEvent("keypress",a)},__handleKeyUp:function(a){var b=myt.KeyObservable.getKeyCodeFromEvent(a);a=a.value;this.__shouldPreventDefault(b,a.target)&&a.preventDefault();
this.__keysDown[b]=!1;this.fireEvent("keyup",b)},__shouldPreventDefault:function(a,b){switch(a){case 8:a=b.nodeName;if("TEXTAREA"===a||"INPUT"===a&&("text"===b.type||"password"===b.type)||"DIV"===a&&"true"===b.contentEditable&&b.firstChild)break;return!0;case 9:return!0}return!1}});
myt.TouchObservable=new JS.Module("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:{source:null,type:null,value:null}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.TouchObservable,!1)||this.callSuper(a,b,c)}});new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
myt.FlexBoxChildSupport=new JS.Module("FlexBoxChildSupport",{setParent:function(a){var b=this.isChildOfFlexBox();this.callSuper(a);this._isChildOfFlexBox=this.parent&&this.parent.isA(myt.FlexBoxSupport);this.inited&&b&&!this.isChildOfFlexBox()&&this._syncDomToModel()},_syncDomToModel:function(){var a=this.getOuterDomStyle();"auto"!==a.width&&(a.width=this.width+"px");"auto"!==a.height&&(a.height=this.height+"px");this.syncInnerToOuter()},setWidth:function(a,b){null==a||""===a?(this.getOuterDomStyle().width=
"",this.__syncModelToOuterBoundsWidth()):this.callSuper(a,b);this.__syncInnerWidthToOuterWidth()},setHeight:function(a,b){null==a||""===a?(this.getOuterDomStyle().height="",this.__syncModelToOuterBoundsHeight()):this.callSuper(a,b);this.__syncInnerHeightToOuterHeight()},setFlexGrow:function(a){this.flexGrow!==a&&(this.getOuterDomStyle().flexGrow=this.flexGrow=a,this.inited&&(this.fireEvent("flexGrow",a),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setFlexShrink:function(a){this.flexShrink!==
a&&(this.getOuterDomStyle().flexShrink=this.flexShrink=a,this.inited&&(this.fireEvent("flexShrink",a),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setAlignSelf:function(a){if(this.alignSelf!==a){var b=this.alignSelf=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end"}this.getOuterDomStyle().alignSelf=b;this.inited&&this.fireEvent("alignSelf",a)}},isChildOfFlexBox:function(){return this._isChildOfFlexBox},syncModelToOuterBounds:function(){var a=this.getOuterDomElement();
this.__syncModelToOuterBoundsWidth(a);this.__syncModelToOuterBoundsHeight(a)},__syncModelToOuterBoundsWidth:function(a){var b=this.getInnerDomStyle();a||(a=this.getOuterDomElement());"auto"===b.width?this.getOuterDomStyle().width="auto":this.__setInnerWidth(a.clientWidth);this.fireEvent("width",this.width=a.clientWidth)},__syncModelToOuterBoundsHeight:function(a){var b=this.getInnerDomStyle();a||(a=this.getOuterDomElement());"auto"===b.height?this.getOuterDomStyle().height="auto":this.__setInnerHeight(a.clientHeight);
this.fireEvent("height",this.height=a.clientHeight)},syncInnerToOuter:function(){this.__syncInnerWidthToOuterWidth();this.__syncInnerHeightToOuterHeight()},__syncInnerWidthToOuterWidth:function(){"auto"!==this.getInnerDomStyle().width&&this.__setInnerWidth(this.getOuterDomElement().clientWidth)},__syncInnerHeightToOuterHeight:function(){"auto"!==this.getInnerDomStyle().height&&this.__setInnerHeight(this.getOuterDomElement().clientHeight)},__setInnerWidth:function(a){this.getInnerDomStyle().width=
a+"px"},__setInnerHeight:function(a){this.getInnerDomStyle().height=a+"px"},createOurDomElement:function(a){a=this.callSuper(a);var b=document.createElement("div");b.style.position="relative";a.appendChild(b);return[a,b]}});
myt.AccessorSupport=new JS.Module("AccessorSupport",{extend:{GETTER_NAMES:{},SETTER_NAMES:{},generateSetterName:function(a){return this.SETTER_NAMES[a]||(this.SETTER_NAMES[a]=this.generateName(a,"set"))},generateGetterName:function(a){return this.GETTER_NAMES[a]||(this.GETTER_NAMES[a]=this.generateName(a,"get"))},generateName:function(a,b){return b+a.substring(0,1).toUpperCase()+a.substring(1)},createSetterFunction:function(a,b){var c=this.generateSetterName(b);a[c]&&console.log("Overwriting setter",
c);a[c]=function(c){a[b]!==c&&(a[b]=c,a.inited&&a.fireEvent(b,c))}},createGetterFunction:function(a,b){var c=this.generateGetterName(b);a[c]&&console.log("Overwriting getter",c);a[c]=function(){return a[b]}}},appendToEarlyAttrs:function(){Array.prototype.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){Array.prototype.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){Array.prototype.push.apply(this.lateAttrs||(this.lateAttrs=
[]),arguments)},prependToLateAttrs:function(){Array.prototype.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},callSetters:function(a){var b=this.earlyAttrs,c=this.lateAttrs,d;if(b||c){var e={};for(f in a)e[f]=a[f];a=e;if(b)for(e=0,d=b.length;d>e;){var f=b[e++];f in a&&(this.set(f,a[f]),delete a[f])}if(c){var g=[];e=0;for(d=c.length;d>e;)f=c[e++],f in a&&(g.push(f,a[f]),delete a[f])}}for(f in a)this.set(f,a[f]);if(g)for(e=0,d=g.length;d>e;)this.set(g[e++],g[e++])},get:function(a){var b=
myt.AccessorSupport.generateGetterName(a);return this[b]?this[b]():this[a]},set:function(a,b,c){if(!c&&(c=myt.AccessorSupport.generateSetterName(a),this[c]))return this[c](b);this[a]!==b&&(this[a]=b,!1!==this.inited&&this.fireEvent&&this.fireEvent(a,b))},has:function(a){return null!=this.get(a)},is:function(a){return!0===this.get(a)},isNot:function(a){return!0!==this.get(a)}});
myt.Destructible=new JS.Module("Destructible",{destroy:function(){var a,b=this.__meta__;if(this.destroyed)console.warn("No destroying the destroyed.");else{if(b){var c=Object.keys(b);for(a=c.length;a;)delete b[c[--a]]}c=Object.keys(this);for(a=c.length;a;)delete this[c[--a]];this.destroyed=!0}}});myt.Reusable=new JS.Module("Reusable",{clean:function(){}});
myt.AbstractPool=new JS.Class("AbstractPool",{include:[myt.Destructible],initialize:function(){},destroy:function(){var a=this.__getObjPool();a&&(a.length=0);this.callSuper()},__getObjPool:function(a){return a?this.__op||(this.__op=[]):this.__op},getInstance:function(){var a=this.__getObjPool(!0);return a.length?a.pop():this.createInstance.apply(this,arguments)},createInstance:function(){return null},putInstance:function(a){this.__getObjPool(!0).push(this.cleanInstance(a))},cleanInstance:function(a){"function"===
typeof a.clean&&a.clean();return a},destroyPooledInstances:function(){var a=this.__getObjPool();if(a)for(var b=a.length,c;b;)c=a[--b],"function"===typeof c.destroy&&c.destroy()}});myt.SimplePool=new JS.Class("SimplePool",myt.AbstractPool,{initialize:function(a,b){this.callSuper();this.instanceClass=a||Object;this.instanceParent=b},createInstance:function(a){var b=this.instanceParent,c=this.instanceClass;return b?new c(b,a):new c}});
myt.TrackActivesPool=new JS.Class("TrackActivesPool",myt.SimplePool,{destroy:function(){var a=this.__getActives();a&&(a.length=0);this.callSuper()},__getActives:function(a){return a?this.__actives||(this.__actives=[]):this.__actives},getInstance:function(){var a=this.callSuper();this.__getActives(!0).push(a);return a},putInstance:function(a){var b=this.__getActives(),c;if(b){for(c=b.length;c;)if(b[--c]===a){b.splice(c,1);this.callSuper(a);return}b="non-active"}else b="non-existant";console.warn("Attempt to put a "+
b+" instance.",a,this)},getActives:function(a){var b=this.__getActives();if(b){if(a){for(var c=[],d=b.length,e=0,f;d>e;)f=b[e++],a.call(this,f)&&c.push(f);return c}return b.concat()}return[]},putActives:function(){var a=this.__getActives();if(a)for(var b=a.length;b;)this.putInstance(a[--b])}});
myt.Node=new JS.Class("Node",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Constrainable],extend:{getMatchingAncestorOrSelf:function(a,b){if(b)for(;a;){if(b(a))return a;a=a.parent}return null},getMatchingAncestor:function(a,b){return this.getMatchingAncestorOrSelf(a?a.parent:null,b)}},initialize:function(a,b,c){if(c)for(var d=0,e=c.length,f;e>d;)(f=c[d++])?this.extend(f):console.warn("Missing mixin in:"+this.klass.__displayName);this.inited=!1;this.initNode(a,b||{})},initNode:function(a,
b){this.callSetters(b);this.doBeforeAdoption();this.setParent(a);this.doAfterAdoption();this.inited=!0},doBeforeAdoption:function(){},doAfterAdoption:function(){},destroy:function(){var a=this.subnodes,b;this.isBeingDestroyed=!0;if(a)for(b=a.length;b;)a[--b].destroy();this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.destroyBeforeOrphaning();this.parent&&this.setParent(null);this.destroyAfterOrphaning();this.callSuper()},destroyBeforeOrphaning:function(){},destroyAfterOrphaning:function(){this.releaseAllConstraints();
this.detachFromAllObservables();this.detachAllObservers()},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var b=this.placement||a.defaultPlacement;b&&(a=a.determinePlacement(b,this))}if(!(this.parent===a||a&&a.destroyed)){if(b=this.parent){var c=b.getSubnodeIndex(this);-1!==c&&(this.name&&b.__removeNameRef(this),b.subnodes.splice(c,1),b.subnodeRemoved(this))}if(this.parent=
a)a.getSubnodes().push(this),this.name&&a.__addNameRef(this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){var b=this.parent;b&&this.name&&b.__removeNameRef(this);this.name=a;b&&a&&b.__addNameRef(this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,b){var c=a.indexOf(".");if(-1!==c){var d=a.substring(c+1);a=a.substring(0,c)}"*"===a&&(a=this.defaultPlacement)&&(c=a.indexOf("."),-1!==c&&(d=a.substring(c+
1)+(d?"."+d:""),a=a.substring(0,c)));return(a=this[a])?d?a.determinePlacement(d,b):a:this},__addNameRef:function(a){var b=a.name;void 0===this[b]?this[b]=a:console.log("Name in use:"+b)},__removeNameRef:function(a){var b=a.name;this[b]===a?delete this[b]:console.log("Name not in use:"+b)},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.domElement&&a.domElement?
a.domElement.contains(this.domElement):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;a=a.parent}return null},searchAncestorsForClass:function(a){return a?this.searchAncestors(function(b){return b instanceof a}):null},searchAncestors:function(a){return myt.Node.getMatchingAncestor(this,a)},searchAncestorsOrSelf:function(a){return myt.Node.getMatchingAncestorOrSelf(this,
a)},getAncestors:function(){for(var a=[],b=this;b;)a.push(b),b=b.parent;return a},hasSubnode:function(a){return-1!==this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent!==this)return null;a.setParent(null);return a},subnodeAdded:function(a){},subnodeRemoved:function(a){},animateOnce:function(a,b,c,d,e){return this.animate(a,b,c,!1,null,d,!1,1,e)},animate:function(a,b,c,d,e,f,g,h,k){var l=
this.__getAnimPool(),m=l.getInstance({ignorePlacement:!0});"object"===typeof a?(e=a.callback,delete a.callback,m.callSetters(a)):(m.attribute=a,m.setTo(b),m.setFrom(c),null!=f&&(m.duration=f),null!=d&&(m.relative=d),null!=h&&(m.repeat=h),null!=g&&m.setReverse(g),null!=k&&m.setEasingFunction(k));m.next(function(a){l.putInstance(m)});e&&m.next(e);m.setRunning(!0);return m},getActiveAnimators:function(a){if("string"===typeof a){var b=a;a=function(a){return a.attribute===b}}return this.__getAnimPool().getActives(a)},
stopActiveAnimators:function(a,b){b=void 0===b?!1:b;a=this.getActiveAnimators(a);var c=a.length,d;if(0<c)for(d=this.__getAnimPool();c;){var e=a[--c];e.reset(b);b||d.putInstance(e)}},__getAnimPool:function(){return this.__animPool||(this.__animPool=new myt.TrackActivesPool(myt.Animator,this))},doOnceOnIdle:function(a){this.attachTo(myt.global.idle,a,"idle",!0)}});
myt.ThresholdCounter=new JS.Class("ThresholdCounter",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable],extend:{createThresholdCounter:function(a,b,c,d){var e=myt.AccessorSupport.generateName;c=c||e("counter",b);d=d||e("threshold",b);var f=e(c,"increment");e=e(c,"decrement");var g=myt.AccessorSupport.generateSetterName(d),h="function"===typeof a||a instanceof JS.Module;if(void 0!==(h?a.instanceMethod(f):a[f]))return console.warn("Can't clobber existing property during setup of ThresholdCounter increment function.",
f,a),!1;if(void 0!==(h?a.instanceMethod(e):a[e]))return console.warn("Can't clobber existing property during setup of ThresholdCounter decrement function.",e,a),!1;if(void 0!==(h?a.instanceMethod(g):a[g]))return console.warn("Can't clobber existing property during setup of ThresholdCounter threshold setter function.",g,a),!1;var k={};k[f]=function(a){null==a&&(a=1);var f=this[c],e=f+a;0>e&&(console.warn("Attempt to decrement a counter below 0.",this,c,a),e=0);f!==e&&(this[c]=e,this.fireEvent(c,e),
this.set(b,e>=this[d]))};k[e]=function(a){null==a&&(a=1);this[f](-a)};k[g]=function(a){this[d]!==a&&(this[d]=a,this.fireEvent(d,a),this.set(b,this[c]>=a))};h?a.include(k):a.extend(k);return!0},initializeThresholdCounter:function(a,b,c,d,e,f){var g=myt.AccessorSupport.generateName;e=e||g("counter",d);f=f||g("threshold",d);a[e]=b;a[f]=c;a.set(d,b>=c)},createFixedThresholdCounter:function(a,b,c,d){var e=myt.AccessorSupport.generateName;d=d||e("counter",c);var f=e(d,"increment");e=e(d,"decrement");var g=
"function"===typeof a||a instanceof JS.Module;if(void 0!==(g?a.instanceMethod(f):a[f]))return console.warn("Can't clobber existing property during setup of ThresholdCounter increment function.",f,a),!1;if(void 0!==(g?a.instanceMethod(e):a[e]))return console.warn("Can't clobber existing property during setup of ThresholdCounter decrement function.",e,a),!1;var h={};h[f]=function(){var a=this[d]+1;this[d]=a;this.fireEvent(d,a);a===b&&this.set(c,!0)};h[e]=function(){var a=this[d];if(0!==a){var f=a-1;
this[d]=f;this.fireEvent(d,f);a===b&&this.set(c,!1)}};g?a.include(h):a.extend(h);return!0},initializeFixedThresholdCounter:function(a,b,c,d,e){e=e||myt.AccessorSupport.generateName("counter",d);a[e]=b;a.set(d,b>=c)}},initialize:function(a,b){myt.ThresholdCounter.initializeThresholdCounter(this,a,b,"exceeded","counter","threshold")},destroy:function(){this.detachAllObservers();this.callSuper()}});myt.ThresholdCounter.createThresholdCounter(myt.ThresholdCounter,"exceeded","counter","threshold");
myt.Layout=new JS.Class("Layout",myt.Node,{extend:{deferredLayouts:[],incrementGlobalLock:function(){var a=myt.Layout;void 0===a._lockCount&&(a._lockCount=0);a._lockCount++;1===a._lockCount&&a.__setLocked(!0)},decrementGlobalLock:function(){var a=myt.Layout;void 0===a._lockCount&&(a._lockCount=0);0!==a._lockCount&&(a._lockCount--,0===a._lockCount&&a.__setLocked(!1))},deferLayoutUpdate:function(a){a.__deferredLayout||(myt.Layout.deferredLayouts.push(a),a.__deferredLayout=!0)},__setLocked:function(a){var b=
myt.Layout;if(b.locked!==a&&(b.locked=a,!a)){a=b.deferredLayouts;b=a.length;for(var c;b;)c=a[--b],c.__deferredLayout=!1,c.update();a.length=0}}},initNode:function(a,b){this.subviews=[];this.locked=!0;this.lockedCounter=1;var c=!0===b.locked;delete b.locked;this.callSuper(a,b);c||this.decrementLockedCounter();this.update()},destroyAfterOrphaning:function(){this.callSuper();this.subviews.length=0},setParent:function(a){if(this.parent!==a){var b=!this.locked;b&&(this.locked=!0);var c;if(this.parent){var d=
this.subviews;for(c=d.length;c;)this.removeSubview(d[--c]);this.detachFrom(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.detachFrom(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}this.callSuper(a);if(this.parent){d=this.parent.getSubviews();c=0;for(a=d.length;a>c;++c)this.addSubview(d[c]);this.attachTo(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.attachTo(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}b&&(this.locked=
!1,this.inited&&this.parent&&this.update())}},canUpdate:function(){return myt.Layout.locked?(myt.Layout.deferLayoutUpdate(this),!1):!this.locked},update:function(){},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},addSubview:function(a){this.ignore(a)||(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:function(a){},startMonitoringAllSubviews:function(){for(var a=this.subviews,
b=a.length;b;)this.startMonitoringSubview(a[--b])},removeSubview:function(a){if(this.ignore(a))return-1;var b=this.getSubviewIndex(a);-1!==b&&(this.stopMonitoringSubview(a),this.subviews.splice(b,1),this.locked||this.update());return b},stopMonitoringSubview:function(a){},stopMonitoringAllSubviews:function(){for(var a=this.subviews,b=a.length;b;)this.stopMonitoringSubview(a[--b])},ignore:function(a){return a.ignoreLayout},__handleParentSubviewAddedEvent:function(a){a=a.value;a.parent===this.parent&&
this.addSubview(a)},__handleParentSubviewRemovedEvent:function(a){a=a.value;a.parent===this.parent&&this.removeSubview(a)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,b){this.__moveSubview(a,b,!1)},moveSubviewAfter:function(a,b){this.__moveSubview(a,b,!0)},__moveSubview:function(a,b,c){var d=this.getSubviewIndex(a);if(0<=d){var e=this.subviews;b=this.getSubviewIndex(b);e.splice(d,1);0<=b?(d<b&&--b,e.splice(b+(c?1:0),0,a)):c?e.push(a):e.unshift(a)}}});
myt.ThresholdCounter.createFixedThresholdCounter(myt.Layout,1,"locked");
myt.MouseObservable=new JS.Module("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:{source:null,type:null,value:null},getMouseFromEvent:function(a){a=a.value;return{x:a.pageX,y:a.pageY}},getMouseFromEventRelativeToView:function(a,b){b=b.getPagePosition();a=this.getMouseFromEvent(a);a.x-=b.x;a.y-=b.y;return a}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.MouseObservable,
!0)||this.callSuper(a,b,c)}});
myt.FocusObservable=new JS.Module("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:{source:null,type:null,value:null}},initNode:function(a,b){this.focusable=!1;this.focusEmbellishment=!0;this.callSuper(a,b)},destroyBeforeOrphaning:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(a){if(this.focused!==a&&(this.focused=a,this.inited)){this.fireEvent("focused",a);var b=myt.global.focus;a?b.notifyFocus(this):b.notifyBlur(this)}},setFocusable:function(a){if(this.focusable!==a){var b=
this.focusable;(this.focusable=a)?(this.getInnerDomElement().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):b&&(this.getInnerDomElement().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",a)}},setFocusEmbellishment:function(a){this.focusEmbellishment!==a&&(this.focusEmbellishment=a,this.focused&&(a?this.showFocusEmbellishment():this.hideFocusEmbellishment()))},
giveAwayFocus:function(){this.focused&&(myt.global.focus.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null===this.searchAncestorsOrSelf(function(a){return!0===a.maskFocus})},focus:function(a){this.isFocusable()&&this.getInnerDomElement().focus({preventScroll:a})},blur:function(){this.getInnerDomElement().blur()},__doFocus:function(a){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(a){this.focused&&(this.doBlur(),
this.setFocused(!1))},doFocus:function(){this.focusEmbellishment?this.showFocusEmbellishment():this.hideFocusEmbellishment()},doBlur:function(){this.focusEmbellishment&&this.hideFocusEmbellishment()},showFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!1;var a=this.getInnerDomStyle();a.outlineWidth="thin";a.outlineColor="#88bbff";a.outlineStyle="solid";a.outlineOffset="0px"},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideDefaultFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=
!0;this.getInnerDomStyle().outlineStyle="none"},createDomMethodRef:function(a,b,c){if(myt.FocusObservable.EVENT_TYPES[c]){var d=this;return function(c){c||(c=window.event);if(d._ignoreFocus)c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation(),c.preventDefault();else{var f=myt.FocusObservable.EVENT;f.source=d;f.type=c.type;f.value=c;a[b](f)||(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation());f.source=void 0}}}return this.callSuper(a,b,c)}});
myt.ScrollObservable=new JS.Module("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:{source:null,type:null,value:null},getScrollFromEvent:function(a){a=a.value;a=a.target||a.srcElement;return{x:a.scrollLeft,y:a.scrollTop}}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.ScrollObservable)||this.callSuper(a,b,c)}});
myt.View=new JS.Class("View",myt.Node,{include:[myt.DomElementProxy,myt.DomObservable,myt.DomObserver,myt.ScrollObservable,myt.FocusObservable,myt.KeyObservable,myt.MouseObservable],extend:{retainFocusDuringDomUpdate:function(a,b){var c=myt.global.focus.focusedView,d=a.getInnerDomElement();if(c===a||c&&c.isDescendantOf(a))c._ignoreFocus=!0;a=d.scrollTop;var e=d.scrollLeft;b.call();c&&(c._ignoreFocus=!1,c.focus(!0));d.scrollTop=a;d.scrollLeft=e}},initNode:function(a,b){this.x=this.y=this.width=this.height=
0;this.opacity=1;this.visible=!0;(this.tagName=b.tagName)&&delete b.tagName;this.setDomElement(this.createOurDomElement(a));var c=this.getOuterDomStyle();c.left=c.top="0px";this.callSuper(a,b);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(a){a=document.createElement(this.tagName||"div");a.style.position="absolute";var b=this.klass;a.className=b.__cssClassName||(b.__cssClassName="myt-"+b.__displayName.split(".").join("-"));return a},doAfterAdoption:function(){this.__updateBounds(this.width,
this.height)},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(a){this.parent!==a&&(this.inited&&(this.__teardownAlignConstraint(),this.__teardownValignConstraint()),this.callSuper(a),this.align&&this.__setupAlignConstraint(),this.valign&&this.__setupValignConstraint())},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent){for(var a=this.parent.getSubviews().concat(),
b=a.length;b;)if(a[--b]===this){a.splice(b,1);break}return a}},setFocusTrap:function(a){this.focusTrap=a},setFocusCage:function(a){this.focusCage=a},setMaskFocus:function(a){this.maskFocus=a},setLayoutHint:function(a){this.layoutHint=a},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(a){if(this.ignoreLayout!==a){var b=this.inited&&this.parent,c;if(a){if(b)for(b=this.parent.getLayouts(),c=b.length;c;)b[--c].removeSubview(this);this.ignoreLayout=a}else if(this.ignoreLayout=
a,b)for(b=this.parent.getLayouts(),c=b.length;c;)b[--c].addSubview(this)}},setDomClass:function(a){this.domClass!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domClass",a))},setDomId:function(a){this.domId!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domId",a))},setAlignOffset:function(a){this.alignOffset!==a&&(this.alignOffset=a,this.inited&&this.fireEvent("alignOffset",a),this.parent&&"left"===this.align&&this.setX(a))},setAlign:function(a){this.align!==a&&(this.inited&&this.__teardownAlignConstraint(),
this.align=a,this.inited&&(this.fireEvent("align",a),this.__setupAlignConstraint()))},__teardownAlignConstraint:function(){switch(this.align){case "center":this.releaseConstraint("__doAlignCenter");break;case "right":this.releaseConstraint("__doAlignRight")}},__setupAlignConstraint:function(){var a=this.parent;if(a)switch(this.align){case "center":this.applyConstraint("__doAlignCenter",[this,"width",this,"alignOffset",a,"width"]);break;case "right":this.applyConstraint("__doAlignRight",[this,"width",
this,"alignOffset",a,"width"]);break;case "left":this.setX(this.alignOffset||0)}},__doAlignCenter:function(a){this.setX(Math.round((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(a){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(a){this.valignOffset!==a&&(this.valignOffset=a,this.inited&&this.fireEvent("valignOffset",a),this.parent&&"top"===this.valign&&this.setY(a))},setValign:function(a){this.valign!==a&&(this.inited&&this.__teardownValignConstraint(),
this.valign=a,this.inited&&(this.fireEvent("valign",a),this.__setupValignConstraint()))},__teardownValignConstraint:function(){switch(this.valign){case "middle":this.releaseConstraint("__doValignMiddle");break;case "bottom":this.releaseConstraint("__doValignBottom")}},__setupValignConstraint:function(){var a=this.parent;if(a)switch(this.valign){case "middle":this.applyConstraint("__doValignMiddle",[this,"height",this,"valignOffset",a,"height"]);break;case "bottom":this.applyConstraint("__doValignBottom",
[this,"height",this,"valignOffset",a,"height"]);break;case "top":this.setY(this.valignOffset||0)}},__doValignMiddle:function(a){this.setY(Math.round((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(a){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(a){this.x!==a&&(this.x=a,this.visible&&(this.getOuterDomStyle().left=a+"px"),this.inited&&this.fireEvent("x",a))},setY:function(a){this.y!==a&&(this.y=a,this.visible&&(this.getOuterDomStyle().top=
a+"px"),this.inited&&this.fireEvent("y",a))},setWidth:function(a,b){0>a&&(a=0);this.width!==a&&(this.width=a,this.getOuterDomStyle().width=a+"px",this.inited&&(this.__updateBounds(a,this.height),b||this.fireEvent("width",a)))},setHeight:function(a,b){0>a&&(a=0);this.height!==a&&(this.height=a,this.getOuterDomStyle().height=a+"px",this.inited&&(this.__updateBounds(this.width,a),b||this.fireEvent("height",a)))},setTextColor:function(a){this.textColor!==a&&(this.textColor=a,this.getOuterDomStyle().color=
a||"inherit",this.inited&&this.fireEvent("textColor",a))},setBgColor:function(a){this.bgColor!==a&&(this.getOuterDomStyle().backgroundColor=this.bgColor=a,this.inited&&this.fireEvent("bgColor",a))},setOpacity:function(a){this.opacity!==a&&(this.getOuterDomStyle().opacity=this.opacity=a,this.inited&&this.fireEvent("opacity",a))},setOverflow:function(a){var b=this.overflow;if(b!==a){this.overflow=a;var c=this.getInnerDomStyle();if("autox"===a)c.overflowX="auto",c.overflowY="hidden";else if("autoy"===
a)c.overflowY="auto",c.overflowX="hidden";else{if("autox"===b||"autoy"===b)c.overflowX=c.overflowY=null;c.overflow=a||"visible"}this.inited&&this.fireEvent("overflow",a)}},setVisible:function(a){if(this.visible!==a){this.visible=a;var b=this.getOuterDomStyle();b.visibility=a?"inherit":"hidden";b.left=a?this.x+"px":"-100000px";b.top=a?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",a)}},setPointerEvents:function(a){this.pointerEvents!==a&&(this.pointerEvents=a,this.getOuterDomStyle().pointerEvents=
a||"auto",this.inited&&this.fireEvent("pointerEvents",a))},setCursor:function(a){this.cursor!==a&&(this.cursor=a,this.getOuterDomStyle().cursor=a||"auto",this.inited&&this.fireEvent("cursor",a))},__updateBounds:function(a,b){this.boundsWidth!==a&&(this.boundsWidth=a,this.fireEvent("boundsWidth",a));this.boundsHeight!==b&&(this.boundsHeight=b,this.fireEvent("boundsHeight",b))},setOutline:function(a){a=a||[];this.setOutlineWidth(a[0]);this.setOutlineStyle(a[1]);this.setOutlineColor(a[2])},setOutlineWidth:function(a){this.outlineWidth=
a||0;this.getOuterDomStyle().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(a){this.getOuterDomStyle().outlineStyle=this.outlineStyle=a||"none"},setOutlineColor:function(a){this.getOuterDomStyle().outlineColor=this.outlineColor=a||"#000000"},setBorder:function(a){a=a||[];this.setBorderWidth(a[0]);this.setBorderStyle(a[1]);this.setBorderColor(a[2])},setBorderWidth:function(a){this.borderWidth=a||0;this.getOuterDomStyle().borderWidth=this.borderWidth+"px"},setBorderStyle:function(a){this.getOuterDomStyle().borderStyle=
this.borderStyle=a||"none"},setBorderColor:function(a){this.getOuterDomStyle().borderColor=this.borderColor=a||"#000000"},setRoundedCorners:function(a){this.getOuterDomStyle().borderRadius=a+"px"},setRoundedTopLeftCorner:function(a){this.setRoundedCorner(a,"TopLeft")},setRoundedTopRightCorner:function(a){this.setRoundedCorner(a,"TopRight")},setRoundedBottomLeftCorner:function(a){this.setRoundedCorner(a,"BottomLeft")},setRoundedBottomRightCorner:function(a){this.setRoundedCorner(a,"BottomRight")},
setRoundedCorner:function(a,b){this.getOuterDomStyle()["border"+b+"Radius"]=a+"px"},setBoxShadow:function(a){a=a?(a[0]||0)+"px "+(a[1]||0)+"px "+(a[2]||7)+"px "+(a[3]||"#000000"):"none";this.getOuterDomStyle().boxShadow=a},setGradient:function(a){var b=this.getOuterDomStyle();if(a){var c=function(b){a.push(b&&"inherit"!==b?b:"transparent")},d=a[0];"linear"===d||"radial"===d?a.shift():d="linear";var e=a[0];"radial"===d?(void 0!==e?(e="cover"===e||"farthest-corner"===e?"farthest-corner":"closest-side",
a.shift()):e="closest-side",e="circle "+e):"number"===typeof e?(e+="deg",a.shift()):e?(e="to "+e,a.shift()):e="0deg";2>a.length&&c(this.textColor);2>a.length&&c(this.bgColor);b.background=d+"-gradient("+e+","+a.join(",")+")"}else b.background="none";this.bgColor=void 0},setTooltip:function(a){this.tooltip!==a&&(this.tooltip=this.getOuterDomElement().title=a,this.inited&&this.fireEvent("tooltip",a))},isVisible:function(){return null===this.searchAncestorsOrSelf(function(a){return!a.visible})},getFocusTrap:function(a){return this.searchAncestorsOrSelf(function(b){return b.focusCage||
b.focusTrap&&!a})},subnodeAdded:function(a){a instanceof myt.View?(this.getInnerDomElement().appendChild(a.getOuterDomElement()),this.getSubviews().push(a),this.fireEvent("subviewAdded",a),this.subviewAdded(a)):a instanceof myt.Layout&&(this.getLayouts().push(a),this.fireEvent("layoutAdded",a),this.layoutAdded(a))},subnodeRemoved:function(a){if(a instanceof myt.View){var b=this.getSubviewIndex(a);-1!==b&&(this.fireEvent("subviewRemoved",a),a.removeDomElement(),this.subviews.splice(b,1),this.subviewRemoved(a))}else a instanceof
myt.Layout&&(b=this.getLayoutIndex(a),-1!==b&&(this.fireEvent("layoutRemoved",a),this.layouts.splice(b,1),this.layoutRemoved(a)))},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.getSubviews().indexOf(a)},subviewAdded:function(a){},subviewRemoved:function(a){},getNextSibling:function(){if(this.parent){var a=this.getOuterDomElement().nextElementSibling;if(a)return a.model}return null},getPrevSibling:function(){if(this.parent){var a=this.getOuterDomElement().previousElementSibling;
if(a)return a.model}return null},hasLayout:function(a){return-1!==this.getLayoutIndex(a)},getLayoutIndex:function(a){return this.getLayouts().indexOf(a)},layoutAdded:function(a){},layoutRemoved:function(a){},isBehind:function(a,b){return this.__comparePosition(a,!1,b)},isInFrontOf:function(a,b){return this.__comparePosition(a,!0,b)},__comparePosition:function(a,b,c){if(a&&"object"===typeof a){if(c&&(c=this.getLeastCommonAncestor(a))){var d=c.getInnerDomElement(),e=myt.DomElementProxy;c=e.getZIndexRelativeToAncestor(this.getOuterDomElement(),
d);d=e.getZIndexRelativeToAncestor(a.getOuterDomElement(),d);b&&(c*=-1,d*=-1);if(c<d)return!0;if(d<c)return!1}a=this.getOuterDomElement().compareDocumentPosition(a.getOuterDomElement());return b?2===a||10===a:4===a||20===a}return!1},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(a){this.parent.sendSubviewBehind(this,a)},sendInFrontOf:function(a){this.parent.sendSubviewInFrontOf(this,a)},bringSubviewToFront:function(a){if(a&&
a.parent===this){var b=this.getInnerDomElement();a.getOuterDomElement()!==b.lastChild&&myt.View.retainFocusDuringDomUpdate(a,function(){b.appendChild(a.getOuterDomElement())})}},sendSubviewToBack:function(a){if(a&&a.parent===this){var b=this.getInnerDomElement();a.getOuterDomElement()!==b.firstChild&&myt.View.retainFocusDuringDomUpdate(a,function(){b.insertBefore(a.getOuterDomElement(),b.firstChild)})}},sendSubviewBehind:function(a,b){if(a&&b&&a.parent===this&&b.parent===this){var c=this.getInnerDomElement();
myt.View.retainFocusDuringDomUpdate(a,function(){c.insertBefore(a.getOuterDomElement(),b.getOuterDomElement())})}},sendSubviewInFrontOf:function(a,b){a&&b&&a.parent===this&&b.parent===this&&(this.sendSubviewBehind(a,b),this.sendSubviewBehind(b,a))},sortSubviews:function(a){var b=this,c=b.getSubviews();c.sort(a);myt.View.retainFocusDuringDomUpdate(b,function(){var a=c.length,e=0,f=b.getOuterDomElement(),g=b.getInnerDomElement(),h=f.nextSibling,k=f.parentNode;k&&k.removeChild(f);for(var l=document.createDocumentFragment();a>
e;)l.appendChild(c[e++].getOuterDomElement());g.appendChild(l);k&&k.insertBefore(f,h)})},containsPoint:function(a,b,c){var d=this.getOuterDomElement();if(!d)return!1;c=myt.DomElementProxy.getPagePosition(d,c);return myt.Geometry.rectContainsPoint(a,b,c.x,c.y,this.width,this.height)},isPointVisible:function(a,b){var c=this.getTruePagePosition();this.calculateEffectiveScale();return this.__isPointVisible(a-c.x,b-c.y)},__isPointVisible:function(a,b){var c=this.__effectiveScale,d=this.getOuterDomElement();
if(myt.Geometry.rectContainsPoint(a,b,0,0,d.offsetWidth*c,d.offsetHeight*c)){if(c=this.parent){var e=c.getOuterDomElement(),f=c.__effectiveScale;return c.__isPointVisible(a+(d.offsetLeft-e.scrollLeft)*f,b+(d.offsetTop-e.scrollTop)*f)}return!0}return!1},calculateEffectiveScale:function(){for(var a=this.getAncestors(),b=a.length,c,d=1;b;)c=a[--b],d*=c.scaleX||1,c.__effectiveScale=d},getEffectiveScale:function(){this.calculateEffectiveScale();return this.__effectiveScale},isColorAttr:function(a){return"bgColor"===
a||"textColor"===a}});
myt.FlexBoxSupport=new JS.Module("FlexBoxSupport",{initNode:function(a,b){this.callSuper(a,b);this.__syncSubviews()},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.__syncSubviews()},setHeight:function(a,b){this.callSuper(a,b);this.inited&&this.__syncSubviews()},setFlexDirection:function(a){if(this.flexDirection!==a){var b=this.flexDirection=a;switch(b){case "rowReverse":b="row-reverse";break;case "columnReverse":b="column-reverse"}this.getInnerDomStyle().flexDirection=b;this.inited&&
(this.fireEvent("flexDirection",a),this.__syncSubviews())}},setFlexWrap:function(a){if(this.flexWrap!==a){var b=this.flexWrap=a;switch(b){case "wrapReverse":case "reverse":b="wrap-reverse"}this.getInnerDomStyle().flexWrap=b;this.inited&&(this.fireEvent("flexWrap",a),this.__syncSubviews())}},setJustifyContent:function(a){if(this.justifyContent!==a){var b=this.justifyContent=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end";break;case "spaceBetween":case "between":b="space-between";
break;case "spaceAround":case "around":b="space-around";break;case "spaceEvenly":case "evenly":b="space-evenly"}this.getInnerDomStyle().justifyContent=b;this.inited&&(this.fireEvent("justifyContent",a),this.__syncSubviews())}},setAlignItems:function(a){if(this.alignItems!==a){var b=this.alignItems=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end"}this.getInnerDomStyle().alignItems=b;this.inited&&(this.fireEvent("alignItems",a),this.__syncSubviews())}},setAlignContent:function(a){if(this.alignContent!==
a){var b=this.alignContent=a;switch(b){case "start":b="flex-start";break;case "end":b="flex-end";break;case "spaceBetween":case "between":b="space-between";break;case "spaceAround":case "around":b="space-around"}this.getInnerDomStyle().alignContent=b;this.inited&&(this.fireEvent("alignContent",a),this.__syncSubviews())}},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.display="flex";return a},subviewAdded:function(a){a&&!a.ignoreFlex&&(a.getOuterDomStyle().position=
"",this.inited&&this.__syncSubviews())},__syncSubviews:function(){var a=this;this.getSubviews().forEach(function(b){return a.__syncSubview(b)})},__syncSubview:function(a){a&&a.syncInnerToOuter&&!a.ignoreFlex&&(a.syncInnerToOuter(),a.syncModelToOuterBounds())},subviewRemoved:function(a){!a||a.destroyed||a.ignoreFlex||(a.getOuterDomStyle().position="absolute")}});myt.FlexBox=new JS.Class("FlexBox",myt.View,{include:[myt.FlexBoxSupport]});
myt.TransformSupport=new JS.Module("TransformSupport",{extend:{setTransformOrigin:function(a,b){a.transformOrigin=b||"50% 50% 0"},addTransform:function(a,b,c){var d=this.removeTransform(a,b);a.transform=d+(0===d.length?"":" ")+b+"("+c+")"},removeTransform:function(a,b){var c=a.transform;if(!c||0===c.length)return"";c=c.split(" ");for(var d=c.length;d;)if(0===c[--d].indexOf(b)){c.splice(d,1);break}return a.transform=c.join(" ")},getEffectiveScale:function(a){for(var b=1,c=1;a;)null!=a.scaleX&&(b*=
a.scaleX),null!=a.scaleY&&(c*=a.scaleY),a=a.parent;return{scaleX:b,scaleY:c}}},setTransformOrigin:function(a){this.transformOrigin!==a&&(this.transformOrigin=a,myt.TransformSupport.setTransformOrigin(this.getOuterDomStyle(),a),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("transformOrigin",a)))},setRotation:function(a){this.rotation!==a&&(this.rotation=a,myt.TransformSupport.addTransform(this.getOuterDomStyle(),"rotate",(a||0)+"deg"),this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("rotation",a)))},setScale:function(a){var b=this.scaleX!==a;b&&this.__applyScale("scaleX",this.scaleX=a);var c=this.scaleY!==a;c&&this.__applyScale("scaleY",this.scaleY=a);this.inited&&((b||c)&&this.__updateBounds(this.width,this.height),b&&this.fireEvent("scaleX",a),c&&this.fireEvent("scaleY",a))},setScaleX:function(a){this.scaleX!==a&&(this.__applyScale("scaleX",this.scaleX=a),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",a)))},setScaleY:function(a){this.scaleY!==
a&&(this.__applyScale("scaleY",this.scaleY=a),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",a)))},__applyScale:function(a,b){null==b?myt.TransformSupport.removeTransform(this.getOuterDomStyle(),a):myt.TransformSupport.addTransform(this.getOuterDomStyle(),a,b||1)},setSkewX:function(a){this.skewX!==a&&(this.skewX=a,myt.TransformSupport.addTransform(this.getOuterDomStyle(),"skewX",a||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",
a)))},setSkewY:function(a){this.skewY!==a&&(this.skewY=a,myt.TransformSupport.addTransform(this.getOuterDomStyle(),"skewY",a||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",a)))},__updateBounds:function(a,b){var c=this.rotation,d=this.scaleX,e=this.scaleY,f=!1;void 0!==d&&1!==d||void 0!==e&&1!==e||(f=!0);if(!f||void 0!==c&&0!==c&&180!==c)!f||90!==c&&270!==c?(b=this.getOuterDomElement().getBoundingClientRect(),a=b.width,b=b.height):(a=this.height,b=this.width);
this.callSuper(a,b)}});
myt.SizeToDom=new JS.Module("SizeToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){"auto"===a?(this.__hasSetWidth=!1,this.getOuterDomStyle().width="auto",this.sizeViewToDom()):(this.__hasSetWidth=!0,this.callSuper(a,b))},setHeight:function(a,b){"auto"===a?(this.__hasSetHeight=!1,this.getOuterDomStyle().height="auto",this.sizeViewToDom()):(this.__hasSetHeight=!0,this.callSuper(a,b))},sizeViewToDom:function(){if(!this.__hasSetWidth){var a=this.getOuterDomElement();
var b=a.offsetWidth;var c=myt.TransformSupport.getEffectiveScale(this);b/=c.scaleX;this.width!==b&&(this.width=b,this.inited&&this.__updateBounds(b,this.height),this.fireEvent("width",b))}this.__hasSetHeight||(a||(a=this.getOuterDomElement()),a=a.offsetHeight,c||(c=myt.TransformSupport.getEffectiveScale(this)),a/=c.scaleY,this.height!==a&&(this.height=a,this.inited&&this.__updateBounds(this.width,a),this.fireEvent("height",a)))}});
myt.TextSupport=new JS.Module("TextSupport",{setWidth:function(a,b){this.callSuper(a,b);"auto"!==a&&(a=this.whiteSpace,"normal"!==a&&"pre-line"!==a&&"pre-wrap"!==a||this.sizeViewToDom())},setText:function(a){a||(a="");"object"===typeof a&&(a=a.value);this.text!==a&&(this.getInnerDomElement().innerHTML=this.text=a,this.inited&&(this.fireEvent("text",a),this.sizeViewToDom()))},setTextOverflow:function(a){this.textOverflow!==a&&(this.textOverflow=a,this.getInnerDomStyle().textOverflow=a||"inherit",this.inited&&
this.fireEvent("textOverflow",a))},setTextAlign:function(a){this.textAlign!==a&&(this.textAlign=a,this.getInnerDomStyle().textAlign=a||"inherit",this.inited&&this.fireEvent("textAlign",a))},setWhiteSpace:function(a){this.__s(a,"whiteSpace")},setWordWrap:function(a){this.__s(a,"wordWrap","normal")},setTextIndent:function(a){this.__s(a,"textIndent")},setTextTransform:function(a){this.__s(a,"textTransform")},setTextDecoration:function(a){this.__s(a,"textDecoration")},setLineHeight:function(a){this.__s(a,
"lineHeight")},setLetterSpacing:function(a){this.__s(a,"letterSpacing")},setWordSpacing:function(a){this.__s(a,"wordSpacing")},setFontFamily:function(a){this.__s(a,"fontFamily")},setFontStyle:function(a){this.__s(a,"fontStyle")},setFontVariant:function(a){this.__s(a,"fontVariant")},setFontWeight:function(a){this.__s(a,"fontWeight")},setFontSize:function(a){this.__s(a,"fontSize")},__s:function(a,b,c){this[b]!==a&&(this[b]=a,this.getInnerDomStyle()[b]=a||c||"inherit",this.inited&&(this.fireEvent(b,
a),this.sizeViewToDom()))},setUserUnselectable:function(a){this.userUnselectable!==a&&(this.userUnselectable=a,this[a?"addDomClass":"removeDomClass"]("mytUnselectable"),this.setCursor(a?"default":"text"),this.inited&&this.fireEvent("userUnselectable",a))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(a,b,c,d,e){a=(a||0)+"px "+(b||0)+"px "+(null!=c?c:
2)+"px "+(d||"#000000");if(0<e){for(b=[a];e--;)b.push(a);a=b.join(",")}this.getInnerDomStyle().textShadow=a},hideTextShadow:function(){this.getInnerDomStyle().textShadow="none"}});
myt.Text=new JS.Class("Text",myt.View,{include:[myt.SizeToDom,myt.TextSupport],initNode:function(a,b){null==b.whiteSpace&&(b.whiteSpace="nowrap");null==b.userUnselectable&&(b.userUnselectable=!0);this.callSuper(a,b)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;var a=this.deStyle,b=a.whiteSpace;a.whiteSpace="nowrap";var c=this.getOuterDomElement().offsetWidth;a.whiteSpace=b;return c}});
myt.ImageSupport=new JS.Module("ImageSupport",{extend:{SIZE_CACHE:{},OPEN_SIZE_QUERIES:{}},initNode:function(a,b){null==b.imageRepeat&&(b.imageRepeat="no-repeat");null==b.imageAttachment&&(b.imageAttachment="scroll");this.callSuper(a,b)},setImageUrl:function(a){this.imageUrl!==a&&(this.imageUrl=a,this.deStyle.backgroundImage=a?'url("'+a+'")':"none",this.inited&&(this.fireEvent("imageUrl",a),this.setNaturalWidth(void 0),this.setNaturalHeight(void 0),!a&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
this.__calculateNaturalSize())},setImageLoadingError:function(a){this.set("imageLoadingError",a,!0)},setImageSize:function(a){this.imageSize!==a&&(this.imageSize=a,this.deStyle.backgroundSize=a||"auto",this.inited&&this.fireEvent("imageSize",a))},setImageRepeat:function(a){this.imageRepeat!==a&&(this.deStyle.backgroundRepeat=this.imageRepeat=a,this.inited&&this.fireEvent("imageRepeat",a))},setImagePosition:function(a){this.imagePosition!==a&&(this.deStyle.backgroundPosition=this.imagePosition=a,this.inited&&
this.fireEvent("imagePosition",a))},setImageAttachment:function(a){this.imageAttachment!==a&&(this.deStyle.backgroundAttachment=this.imageAttachment=a,this.inited&&this.fireEvent("imageAttachment",a))},setCalculateNaturalSize:function(a){this.calculateNaturalSize!==a&&(this.calculateNaturalSize=a,this.inited&&this.fireEvent("calculateNaturalSize",a),this.__calculateNaturalSize())},setNaturalWidth:function(a){this.naturalWidth!==a&&(this.naturalWidth=a,this.inited&&this.fireEvent("naturalWidth",a),
this.useNaturalSize&&a&&this.setWidth(a))},setNaturalHeight:function(a){this.naturalHeight!==a&&(this.naturalHeight=a,this.inited&&this.fireEvent("naturalHeight",a),this.useNaturalSize&&a&&this.setHeight(a))},setUseNaturalSize:function(a){this.useNaturalSize!==a&&(this.useNaturalSize=a,this.inited&&this.fireEvent("useNaturalSize",a),a&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),a&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))},
__calculateNaturalSize:function(){var a=this.imageUrl;if(this.calculateNaturalSize&&a){var b=myt.ImageSupport.SIZE_CACHE,c=b[a];if(c)this.setNaturalWidth(c.width),this.setNaturalHeight(c.height);else{var d=myt.ImageSupport.OPEN_SIZE_QUERIES;c=d[a];if(!c){d[a]=c=[];var e=new Image;e.onerror=function(b){if(b=d[a]){for(var c=b.length;c;)b[--c].setImageLoadingError(!0);b.length=0;delete d[a]}};e.onload=function(){var c=this.width,e=this.height,h=d[a];if(h){for(var k=h.length,l;k;)l=h[--k],l.imageUrl===
a&&(l.setNaturalWidth(c),l.setNaturalHeight(e));h.length=0;delete d[a]}b[a]={width:c,height:e}};e.src=a}c.push(this)}}}});myt.Image=new JS.Class("Image",myt.View,{include:[myt.ImageSupport],initNode:function(a,b){null==b.useNaturalSize&&(b.useNaturalSize=!0);this.callSuper(a,b)}});myt.Markup=new JS.Class("Markup",myt.View,{include:[myt.SizeToDom],setHtml:function(a){this.html!==a&&(this.getInnerDomElement().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});
myt.Frame=new JS.Class("Frame",myt.View,{initNode:function(a,b){null==b.tagName&&(b.tagName="iframe");this.callSuper(a,b);a=myt.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getInnerDomElement().src=a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=
this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});
myt.SizeWidthToDom=new JS.Module("SizeWidthToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){"auto"===a?(this.__hasSetWidth=!1,this.deStyle.width="auto",this.sizeViewToDom()):(this.__hasSetWidth=!0,this.callSuper(a,b))},sizeViewToDom:function(){if(!this.__hasSetWidth){var a=myt.TransformSupport.getEffectiveScale(this);a=this.getOuterDomElement().offsetWidth/a.scaleX;this.width!==a&&(this.width=a,this.inited&&this.__updateBounds(a,this.height),this.fireEvent("width",
a))}}});
myt.SizeHeightToDom=new JS.Module("SizeHeightToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setHeight:function(a,b){"auto"===a?(this.__hasSetHeight=!1,this.deStyle.height="auto",this.sizeViewToDom()):(this.__hasSetHeight=!0,this.callSuper(a,b))},sizeViewToDom:function(){if(!this.__hasSetHeight){var a=myt.TransformSupport.getEffectiveScale(this);a=this.getOuterDomElement().offsetHeight/a.scaleY;this.height!==a&&(this.height=a,this.inited&&this.__updateBounds(this.width,a),
this.fireEvent("height",a))}}});
myt.SizeToParent=new JS.Module("SizeToParent",{setParent:function(a){this.parent!==a&&(this.inited&&(this.__teardownPercentOfParentWidthConstraint(),this.__teardownPercentOfParentHeightConstraint()),this.callSuper(a),this.__setupPercentOfParentWidthConstraint(),this.__setupPercentOfParentHeightConstraint())},setPercentOfParentWidthOffset:function(a){this.percentOfParentWidthOffset!==a&&(this.percentOfParentWidthOffset=a,this.inited&&(this.fireEvent("percentOfParentWidthOffset",a),this.__doPercentOfParentWidth()))},
setPercentOfParentWidth:function(a){this.percentOfParentWidth!==a&&(this.inited&&this.__teardownPercentOfParentWidthConstraint(),this.percentOfParentWidth=a,this.inited&&this.fireEvent("percentOfParentWidth",a),this.__setupPercentOfParentWidthConstraint())},setPercentOfParentHeightOffset:function(a){this.percentOfParentHeightOffset!==a&&(this.percentOfParentHeightOffset=a,this.inited&&(this.fireEvent("percentOfParentHeightOffset",a),this.__doPercentOfParentHeight()))},setPercentOfParentHeight:function(a){this.percentOfParentHeight!==
a&&(this.inited&&this.__teardownPercentOfParentHeightConstraint(),this.percentOfParentHeight=a,this.inited&&this.fireEvent("percentOfParentHeight",a),this.__setupPercentOfParentHeightConstraint())},__teardownPercentOfParentWidthConstraint:function(){0<=this.percentOfParentWidth&&this.detachFrom(this.parent,"__doPercentOfParentWidth","width")},__setupPercentOfParentWidthConstraint:function(){var a=this.parent;a&&0<=this.percentOfParentWidth&&this.syncTo(a,"__doPercentOfParentWidth","width")},__doPercentOfParentWidth:function(a){this.setWidth((this.percentOfParentWidthOffset||
0)+Math.round(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__teardownPercentOfParentHeightConstraint:function(){0<=this.percentOfParentHeight&&this.detachFrom(this.parent,"__doPercentOfParentHeight","height")},__setupPercentOfParentHeightConstraint:function(){var a=this.parent;a&&0<=this.percentOfParentHeight&&this.syncTo(a,"__doPercentOfParentHeight","height")},__doPercentOfParentHeight:function(a){this.setHeight((this.percentOfParentHeightOffset||
0)+Math.round(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}});new JS.Singleton("GlobalRootViewRegistry",{include:[myt.Observable],initialize:function(){this.__roots=[];myt.global.register("roots",this)},getRoots:function(){return this.__roots},addRoot:function(a){this.__roots.push(a);this.fireEvent("rootAdded",a)},removeRoot:function(a){for(var b=this.__roots,c=b.length,d;c;)if(d=b[--c],d===a){b.splice(c,1);this.fireEvent("rootRemoved",d);break}}});
myt.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:function(a){var b=a.__captureDrop=function(a){a.preventDefault()};a=a.domElement;myt.addEventListener(a,"drop",b);myt.addEventListener(a,"dragover",b)},teardownCaptureDrop:function(a){var b=a.domElement;a=a.__captureDrop;myt.removeEventListener(b,"drop",a);myt.removeEventListener(b,"dragover",a)}},initNode:function(a,b){this.callSuper(a,b);this.setZIndex(0);this.addDomClass("myt");myt.global.roots.addRoot(this);myt.RootView.setupCaptureDrop(this)},
createOurDomElement:function(a){a||(a=this.callSuper(a),myt.getElement().appendChild(a));return a},destroyAfterOrphaning:function(){myt.RootView.teardownCaptureDrop(this);myt.global.roots.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(a){this.keepDomElementWhenDestroyed=a},setParent:function(a){this.callSuper(void 0)},bringToFront:function(){var a=this.domElement,b=a.parentNode;a!==b.lastChild&&(a=b.removeChild(a))&&
b.appendChild(a)},sendToBack:function(){var a=this.domElement,b=a.parentNode;a!==b.firstChild&&(a=b.removeChild(a))&&b.insertBefore(a,b.firstChild)},sendBehind:function(a){var b=this.domElement;a=a.domElement;var c=b.parentNode;a.parentNode===c&&(b=c.removeChild(b))&&c.insertBefore(b,a)},sendInFrontOf:function(a){a.domElement.parentNode===this.domElement.parentNode&&(this.sendBehind(a),a.sendBehind(this))}});
new JS.Singleton("GlobalWindowResize",{include:[myt.Observable],initialize:function(){var a=this;myt.addEventListener(window,"resize",function(b){a.__handleEvent(b)});myt.global.register("windowResize",a)},getWidth:function(){return this.__windowInnerWidth||(this.__windowInnerWidth=window.innerWidth)},getHeight:function(){return this.__windowInnerHeight||(this.__windowInnerHeight=window.innerHeight)},__handleEvent:function(a){this.fireEvent("resize",{w:this.__windowInnerWidth=window.innerWidth,h:this.__windowInnerHeight=
window.innerHeight})}});
myt.SizeToWindow=new JS.Module("SizeToWindow",{include:[myt.RootView],initNode:function(a,b){this.minWidth=this.minHeight=0;null==b.resizeDimension&&(b.resizeDimension="both");this.attachTo(myt.global.windowResize,"__handleResize","resize");this.callSuper(a,b)},setResizeDimension:function(a){this.resizeDimension!==a&&(this.resizeDimension=a,this.__handleResize())},setMinWidth:function(a){this.minWidth!==a&&(this.minWidth=a,this.__handleResize())},setMinHeight:function(a){this.minHeight!==a&&(this.minHeight=
a,this.__handleResize())},__handleResize:function(a){a=myt.global.windowResize;var b=this.resizeDimension;"width"!==b&&"both"!==b||this.setWidth(Math.max(this.minWidth,a.getWidth()));"height"!==b&&"both"!==b||this.setHeight(Math.max(this.minHeight,a.getHeight()))}});myt.SizeToWindowWidth=new JS.Module("SizeToWindowWidth",{include:[myt.SizeToWindow],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension="width");this.callSuper(a,b)}});
myt.SizeToWindowHeight=new JS.Module("SizeToWindowHeight",{include:[myt.SizeToWindow],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension="height");this.callSuper(a,b)}});
new JS.Singleton("GlobalIdle",{include:[myt.Observable],initialize:function(){this.running=!1;for(var a,b=["webkit","moz","ms","o"],c=window,d=0;d<b.length&&!c.requestAnimationFrame;++d)a=b[d],c.requestAnimationFrame=c[a+"RequestAnimationFrame"],c.cancelAnimationFrame=c[a+"CancelAnimationFrame"]||c[a+"CancelRequestAnimationFrame"];var e=this;this.__event={};this.__doIdle=function g(a){e.__timerId=c.requestAnimationFrame(g);var b=e.lastTime;if(-1!==b){a=Math.round(a);var d=e.__event;d.delta=a-b;d.time=
a;e.fireEvent("idle",d)}e.lastTime=a};myt.global.register("idle",this)},attachObserver:function(a,b,c){a=this.callSuper(a,b,c);!this.running&&this.hasObservers("idle")&&(this.running=!0,this.lastTime=-1,this.__timerId=window.requestAnimationFrame(this.__doIdle));return a},detachObserver:function(a,b,c){a=this.callSuper(a,b,c);this.running&&!this.hasObservers("idle")&&(window.cancelAnimationFrame(this.__timerId),this.running=!1);return a}});
(function(a){var b=function(b,c,d,e,l){var f=a.Color;b=f.makeColorFromHexString(b);c=f.makeColorFromHexString(c);e=e?f.makeColorFromHexString(l):b;e.setRed(e.red+(c.red-b.red)*d);e.setGreen(e.green+(c.green-b.green)*d);e.setBlue(e.blue+(c.blue-b.blue)*d);return e.getHtmlHexString()},c=function(a){a.__temporaryFrom=!1;a.__loopCount=a.reverse?a.repeat-1:0;a.__progress=a.reverse?a.duration:0},d=function(a,c){if(a.running&&!a.paused){var e=a.reverse,f=a.duration,g=a.repeat;e&&(c*=-1);var m=a.__progress;
a.__progress+=c;c=0;a.__progress>f?(c=a.__progress-f,a.__progress=f,++a.__loopCount===g&&(c=0)):0>a.__progress&&(c=-a.__progress,a.__progress=0,0>--a.__loopCount&&0<g&&(c=0));var n=a.target||a.parent;if(n){var p=a.relative,r=a.duration,u=a.attribute,t=Math.max(0,a.__progress/r);m=Math.max(0,m/r);null==a.from&&(a.__temporaryFrom=!0,a.from=p?a.__isColorAnim?"#000000":0:n.get(u));m=a.easingFunction(t)-(p?a.easingFunction(m):0);t=p?n.get(u):a.from;r=a.to;n.set(u,a.__isColorAnim?b(a.from,r,m,p,t):t+(r-
a.from)*m);!e&&a.__loopCount===g||e&&0>a.__loopCount&&0<g?(a.setRunning(!1),a.callback&&a.callback.call(a,!0)):0<c&&(a.fireEvent("repeat",a.__loopCount),a.__progress=e?f:0,d(a,c))}else console.log("No target found for animator.",a),a.setRunning(!1),a.callback&&a.callback.call(a,!1)}},e=a.Animator=new JS.Class("Animator",a.Node,{include:[a.Reusable],extend:{easingFunctions:{linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return 1>
(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-(--a*a*a*a-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return--a*a*a*a*a+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=
2)*a*a*a*a+2)},easeInSine:function(a){return-Math.cos(Math.PI/2*a)+1},easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0==a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1==a?1:-Math.pow(2,-10*a)+1},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1- --a*a)},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+
1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInElastic:function(a){var b=0,c=1;if(0==a)return 0;if(1==a)return 1;b||(b=.3);if(1>c){c=1;var d=b/4}else d=b/(2*Math.PI)*Math.asin(1/c);return-(c*Math.pow(2,10*--a)*Math.sin(2*(1*a-d)*Math.PI/b))},easeOutElastic:function(a){var b=0,c=1;if(0==a)return 0;if(1==a)return 1;b||(b=.3);if(1>c){c=1;var d=b/4}else d=b/(2*Math.PI)*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin(2*(1*a-d)*
Math.PI/b)+1},easeInOutElastic:function(a){var b=0,c=1;if(0==a)return 0;if(2==(a/=.5))return 1;b||(b=.3*1.5);if(1>c){c=1;var d=b/4}else d=b/(2*Math.PI)*Math.asin(1/c);return 1>a?-.5*c*Math.pow(2,10*--a)*Math.sin(2*(1*a-d)*Math.PI/b):c*Math.pow(2,-10*--a)*Math.sin(2*(1*a-d)*Math.PI/b)*.5+1},easeInBack:function(a,b){b=void 0===b?1.70158:b;return(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a,b){b=void 0===b?1.70158:b;return(a=a/1-1)*a*((b+1)*a+b)+1},easeInOutBack:function(a,b){b=void 0===b?1.70158:b;return 1>
(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-e.easingFunctions.easeOutBounce(1-a)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return.5>a?.5*e.easingFunctions.easeInBounce(2*a):.5*e.easingFunctions.easeOutBounce(2*a-1)+.5}}},initNode:function(a,b){this.duration=1E3;this.relative=this.reverse=
this.running=this.paused=!1;this.repeat=1;this.easingFunction=e.DEFAULT_EASING_FUNCTION;this.callSuper(a,b);c(this)},setRunning:function(b){if(this.running!==b&&(this.running=b,this.inited&&this.fireEvent("running",b),!this.paused)){if(b){var d=this.target||this.parent;this.__isColorAnim=d&&"function"===typeof d.isColorAttr?d.isColorAttr(this.attribute):void 0}else this.__temporaryFrom&&(this.from=void 0),c(this);this[b?"attachTo":"detachFrom"](a.global.idle,"__updateAnim","idle")}},setPaused:function(b){if(this.paused!==
b&&(this.paused=b,this.inited&&this.fireEvent("paused",b),this.running))this[b?"detachFrom":"attachTo"](a.global.idle,"__updateAnim","idle")},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&this.fireEvent("reverse",a),this.running||c(this))},setEasingFunction:function(a){"string"===typeof a&&(a=e.easingFunctions[a]);a||(a=e.DEFAULT_EASING_FUNCTION);this.easingFunction!==a&&(this.easingFunction=a,this.inited&&this.fireEvent("easingFunction",a))},setFrom:function(a){this.from!==
a&&(this.from=a,this.inited&&this.fireEvent("from",a))},setTo:function(a){this.to!==a&&(this.to=a,this.inited&&this.fireEvent("to",a))},setCallback:function(a){this.callback=a},next:function(a,b){var c=this.callback;if(c&&!b){var d=this;this.setCallback(function(b){c.call(d,b);a.call(d,b)})}else this.setCallback(a)},reset:function(a){c(this);this.setRunning(!1);this.setPaused(!1);a&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;
this.duration=1E3;this.relative=this.reverse=!1;this.repeat=1;this.easingFunction=e.DEFAULT_EASING_FUNCTION;this.reset(!1)},__updateAnim:function(a){d(this,a.value.delta)}});e.DEFAULT_EASING_FUNCTION=e.easingFunctions.easeInOutQuad})(myt);
myt.StateMachine=new JS.Class("StateMachine",myt.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5,SYNC:"sync",ASYNC:"async",WILDCARD:"*"},initNode:function(a,b){this.map={};this.map[myt.StateMachine.WILDCARD]={};this.current=this.initial=this.terminal="";this.__resetTransitionProgress();this.callSuper(a,b)},setInitialState:function(a){if(""===this.current){if(Array.isArray(a)){var b=a;a=b.shift()}else b=[];this.current=this.initial=a;this.doEnterState("","",a,b);b={name:"",
from:"",to:a,args:b};this.fireEvent("enter"+a,b);this.fireEvent("enter",b);this.isFinished()&&this.fireEvent("finished",b)}},setTerminalState:function(a){this.terminal=a},setTransitions:function(a){for(var b=a.length,c;b;)c=a[--b],this.addTransition(c.name,c.from,c.to)},addTransition:function(a,b,c){var d=this.map;b=b?Array.isArray(b)?b:[b]:[myt.StateMachine.WILDCARD];for(var e=b.length,f;e;)(f=d[b[--e]])||(f=d[b[e]]={}),f[a]=c},doTransition:function(){var a=Array.prototype.slice.call(arguments);
a.unshift(myt.StateMachine.SYNC);return this.__doTransition.apply(this,a)},doAsyncTransition:function(){var a=Array.prototype.slice.call(arguments);a.unshift(myt.StateMachine.ASYNC);return this.__doTransition.apply(this,a)},__doTransition:function(){var a=Array.prototype.slice.call(arguments);if(this.__transitionInProgress){var b=this.__deferredTransitions;b||(b=this.__deferredTransitions=[]);b.unshift(a)}else{this.__transitionInProgress=!0;b=a.shift();var c=a.shift(),d=myt.StateMachine;if(this.__pendingTransition)return d.PENDING;
if(this.isFinished())return this.__transitionInProgress=!1,d.NO_TRANSITION;var e=this.map[this.current][c];e||(e=this.map[d.WILDCARD][c]);if(e)return this.__pendingTransition=c,this.__transitionDestinationState=e,this.__additionalArgs=a,this.resumeTransition(b);this.__transitionInProgress=!1;return d.NO_TRANSITION}},resumeTransition:function(a){var b=this.__pendingTransition,c=myt.StateMachine;if(!b)return c.INVALID;var d=this.current,e=this.__transitionDestinationState,f=this.__additionalArgs,g=
{name:b,from:d,to:e,args:f};switch(this.__transitionStage){case "leaveState":var h=this.doLeaveState(b,d,e,f);if(!1===h)return this.__resetTransitionProgress(),this.__doDeferredTransitions(),c.CANCELLED;if(h===c.ASYNC||a===c.ASYNC)return this.__transitionStage="enterState",this.fireEvent("start"+b,g),this.fireEvent("start",g),this.fireEvent("leave"+d,g),this.fireEvent("leave",g),this.__doDeferredTransitions(),c.PENDING;this.fireEvent("start"+b,g);this.fireEvent("start",g);this.fireEvent("leave"+d,
g);this.fireEvent("leave",g);case "enterState":this.current=e,this.__resetTransitionProgress(),this.doEnterState(b,d,e,f),this.fireEvent("enter"+e,g),this.fireEvent("enter",g),this.fireEvent("end"+b,g),this.fireEvent("end",g),this.isFinished()&&this.fireEvent("finished",g)}this.__doDeferredTransitions();return c.SUCCEEDED},__doDeferredTransitions:function(){this.__transitionInProgress=!1;var a=this.__deferredTransitions;if(a)for(;0<a.length;)this.__doTransition.apply(this,a.pop())},doLeaveState:function(a,
b,c,d){},doEnterState:function(a,b,c,d){},__resetTransitionProgress:function(){this.__additionalArgs=[];this.__transitionDestinationState=this.__pendingTransition="";this.__transitionStage="leaveState"},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return Array.isArray(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==this.map[myt.StateMachine.WILDCARD][a]}});
myt.Replicable=new JS.Module("Replicable",{include:[myt.Reusable],replicate:function(a,b){this.replicationData=a;this.replicationIndex=b},notify:function(a,b){},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,b){return b===this.replicationIndex&&a===this.replicationData}});
myt.Replicator=new JS.Class("Replicator",myt.Node,{extend:{SORT_FUNCTION:function(a,b){return a.replicationIndex-b.replicationIndex}},initNode:function(a,b){this.callSuper(a,b);this.__setupPool();this.doReplication()},destroyAfterOrphaning:function(){this.__destroyOldPool();this.callSuper()},setTemplate:function(a){(this.template=a.includes(myt.Replicable)?a:null)||myt.dumpStack("Template not an myt.Replicable");this.inited&&(this.__setupPool(),this.doReplication())},setData:function(a){this.data=
a;this.inited&&this.doReplication()},__setupPool:function(){this.__destroyOldPool();var a=this.template;a&&(this.__pool=new myt.TrackActivesPool(a,this.parent))},__destroyOldPool:function(){var a=this.__pool;if(a){var b=this.parent.getLayouts();this.__lockLayouts(b);a.putActives();a.destroyPooledInstances();this.__unlockLayouts(b,!1);a.destroy()}},doReplication:function(){var a=this.__pool;if(a){var b=this.parent.getLayouts();this.__lockLayouts(b);var c=this.data,d=c?c.length:0,e=a.getActives(),f=
e.length,g=f,h=[],k=myt.Replicator.SORT_FUNCTION;for(e.sort(k);g;){var l=e[--g];var m=l.replicationIndex;if(m>=d||!l.alreadyHasReplicationData(c[m],m))h[m]=l}for(g=h.length;g;)(l=h[--g])&&a.putInstance(l);for(g=0;d>g;++g)(g>=f||null!=h[g])&&a.getInstance().replicate(c[g],g);for(g=b.length;g;)b[--g].sortSubviews(k);this.__unlockLayouts(b,!0)}},notify:function(a,b){var c=this.__pool;if(c){c=c.getActives();for(var d=c.length;d;)c[--d].notify(a,b)}},__lockLayouts:function(a){for(var b=a.length;b;)a[--b].incrementLockedCounter()},
__unlockLayouts:function(a,b){for(var c=a.length,d;c;)d=a[--c],d.decrementLockedCounter(),b&&d.update()}});
myt.ConstantLayout=new JS.Class("ConstantLayout",myt.Layout,{setTargetAttrName:function(a){this.targetAttrName!==a&&(this.targetAttrName=a,this.setterName=myt.AccessorSupport.generateSetterName(a),this.inited&&(this.fireEvent("targetAttrName",a),this.update()))},setTargetValue:function(a){this.targetValue!==a&&(this.targetValue=a,this.inited&&(this.fireEvent("targetValue",a),this.update()))},update:function(){if(this.canUpdate())for(var a=this.setterName,b=this.targetValue,c=this.subviews,d=c.length,
e,f,g=0;d>g;)e=c[g++],(f=e[a])&&f.call(e,b)}});
myt.VariableLayout=new JS.Class("VariableLayout",myt.ConstantLayout,{initNode:function(a,b){this.collapseParent=this.reverse=!1;this.callSuper(a,b)},setCollapseParent:function(a){this.collapseParent!==a&&(this.collapseParent=a,this.inited&&(this.fireEvent("collapseParent",a),this.update()))},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&(this.fireEvent("reverse",a),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();this.doBeforeUpdate();var a=
this.setterName,b=this.targetValue,c=this.subviews,d=c.length,e,f=0;if(this.reverse)for(e=d;e;){var g=c[--e];this.skipSubview(g)||(b=this.updateSubview(++f,g,a,b))}else for(e=0;d>e;)g=c[e++],this.skipSubview(g)||(b=this.updateSubview(++f,g,a,b));this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(a,b);this.decrementLockedCounter()}},doBeforeUpdate:function(){},doAfterUpdate:function(){},startMonitoringSubview:function(a){this.attachTo(a,"update","visible")},
stopMonitoringSubview:function(a){this.detachFrom(a,"update","visible")},updateSubview:function(a,b,c,d){b[c](d);return d},skipSubview:function(a){return!a.visible},updateParent:function(a,b){}});
myt.WrappingLayout=new JS.Class("WrappingLayout",myt.VariableLayout,{initNode:function(a,b){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){var b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";var d=this.measureAttrBaseName=b?"height":"width";this.otherMeasureAttrName=b?"boundsWidth":"boundsHeight";var e=this.otherMeasureAttrBaseName=b?"width":"height";this.parentSetterName=b?"setWidth":"setHeight";this.otherSetterName=b?"setX":"setY";c&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(e),this.startMonitoringParent(d));this.callSuper(a)}},setParent:function(a){if(this.parent!==
parent){var b="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(b?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(b?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.inited&&(this.fireEvent("spacing",a),this.update()))},setOutset:function(a){this.outset!==a&&(this.outset=a,this.inited&&(this.fireEvent("outset",a),
this.update()))},setLineSpacing:function(a){this.lineSpacing!==a&&(this.lineSpacing=a,this.inited&&(this.fireEvent("lineSpacing",a),this.update()))},setLineInset:function(a){this.lineInset!==a&&(this.lineInset=a,this.inited&&(this.fireEvent("lineInset",a),this.update()))},setLineOutset:function(a){this.lineOutset!==a&&(this.lineOutset=a,this.inited&&(this.fireEvent("lineOutset",a),this.update()))},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,
"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update",this.otherMeasureAttrName);this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,
b,c,d){a=b[this.measureAttrName];var e=b[this.otherMeasureAttrName];d+a>this.parentSizeLessOutset||"break"===b.layoutHint?(d=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=e,++this.lineCount):e>this.lineSize&&(this.lineSize=e);b[this.otherSetterName](this.linePos+(e-b[this.otherMeasureAttrBaseName])/2);b[c](d+(a-b[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,d+a+this.outset);return d+a+this.spacing},updateParent:function(a,b){this.parent[this.parentSetterName](this.linePos+
this.lineSize+this.lineOutset)}});
myt.SpacedLayout=new JS.Class("SpacedLayout",myt.VariableLayout,{initNode:function(a,b){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==a){var b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
b?"height":"width";this.parentSetterName=b?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.inited&&(this.fireEvent("spacing",a),this.update()))},setOutset:function(a){this.outset!==a&&(this.outset=a,this.inited&&(this.fireEvent("outset",
a),this.update()))},addSubview:function(a){var b=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=b},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,b,c,d){a=b[this.measureAttrName];b[c](d+(a-b[this.measureAttrBaseName])/2);return d+a+this.spacing},updateParent:function(a,b){this.parent[this.parentSetterName](b+
this.outset-this.spacing)}});
myt.ResizeLayout=new JS.Class("SpacedLayout",myt.SpacedLayout,{setCollapseParent:function(a){},setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){var b="x"===a;this.stopMonitoringParent(b?"height":"width");this.startMonitoringParent(b?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){var b="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(b);this.callSuper(a);this.parent&&this.startMonitoringParent(b)}},startMonitoringParent:function(a){this.attachTo(this.parent,
"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){var a=this.measureAttrName,b=this.parent[this.measureAttrBaseName];b-=this.targetValue+this.outset;for(var c=this.subviews,d=c.length,e,f=0,g=0;d;)e=c[--d],this.skipSubview(e)||(++f,0<e.layoutHint?g+=e.layoutHint:b-=e[a]);0!==f&&(this.remainder=b-=(f-1)*this.spacing,this.resizeSum=g,this.scalingFactor=b/g,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===a?"setWidth":
"setHeight")},updateSubview:function(a,b,c,d){var e=b.layoutHint;0<e&&(this.resizeSumUsed+=e,e=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(e*this.scalingFactor),this.remainderUsed+=e,b[this.measureSetter](e));return this.callSuper(a,b,c,d)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<a.layoutHint||this.detachFrom(a,"update",this.measureAttrName);
this.detachFrom(a,"update","visible")},updateParent:function(a,b){}});
myt.AlignedLayout=new JS.Class("AlignedLayout",myt.VariableLayout,{initNode:function(a,b){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,b)},setTargetAttrName:function(a){if(this.targetAttrName!==a){var b="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=b?"boundsHeight":"boundsWidth";this.measureAttrBaseName=b?
"height":"width";this.parentSetterName=b?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;var b=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=b;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,
"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){for(var a=this.measureAttrName,b=0,c=this.subviews,d,e=c.length;e;)d=c[--e],this.skipSubview(d)||(b=b>d[a]?b:d[a]);this.setTargetValue(b)},updateSubview:function(a,b,c,d){switch(this.align){case "center":case "middle":b[c]((d-b[this.measureAttrName])/2);break;case "right":case "bottom":b[c](d-b[this.measureAttrName]);break;default:b[c](0)}return d},updateParent:function(a,b){this.parent[this.parentSetterName](b)}});
myt.Canvas=new JS.Class("Canvas",myt.View,{createOurDomElement:function(a){a=this.callSuper(a);var b=Array.isArray(a)?a[1]:a;var c=this.__canvas=document.createElement("canvas");c.className="mytUnselectable";b.appendChild(c);c.style.position="absolute";this.__ctx=c.getContext("2d");return a},setWidth:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("width",a);this.callSuper(a,b)},setHeight:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("height",a);this.callSuper(a,b)},setFillStyle:function(a){this.__ctx.fillStyle=
a},getFillStyle:function(){return this.__ctx.fillStyle},setStrokeStyle:function(a){this.__ctx.strokeStyle=a},getStrokeStyle:function(){return this.__ctx.strokeStyle},setShadowColor:function(a){this.__ctx.shadowColor=a},getShadowColor:function(){return this.__ctx.shadowColor},setShadowBlur:function(a){this.__ctx.shadowBlur=a},getShadowBlur:function(){return this.__ctx.shadowBlur},setShadowOffsetX:function(a){this.__ctx.shadowOffsetX=a},getShadowOffsetX:function(){return this.__ctx.shadowOffsetX},setShadowOffsetY:function(a){this.__ctx.shadowOffsetY=
a},getShadowOffsetY:function(){return this.__ctx.shadowOffsetY},setLineWidth:function(a){this.__ctx.lineWidth=a},getLineWidth:function(){return this.__ctx.lineWidth},setLineCap:function(a){this.__ctx.lineCap=a},getLineCap:function(){return this.__ctx.lineCap},setLineJoin:function(a){this.__ctx.lineJoin=a},getLineJoin:function(){return this.__ctx.lineJoin},setMiterLimit:function(a){this.__ctx.miterLimit=a},getMiterLimit:function(){return this.__ctx.miterLimit},setFont:function(a){this.__ctx.font=a},
getFont:function(){return this.__ctx.font},setTextAlign:function(a){this.__ctx.textAlign=a},getTextAlign:function(){return this.__ctx.textAlign},setTextBaseline:function(a){this.__ctx.textBaseline=a},getTextBaseline:function(){return this.__ctx.textBaseline},setGlobalAlpha:function(a){this.__ctx.globalAlpha=a},getGlobalAlpha:function(){return this.__ctx.globalAlpha},setGlobalCompositeOperation:function(a){this.__ctx.globalCompositeOperation=a},getGlobalCompositeOperation:function(){return this.__ctx.globalCompositeOperation},
sendSubviewToBack:function(a){if(a.parent===this){var b=this.domElement,c=b.childNodes[1];a.domElement!==c&&(a=b.removeChild(a.domElement))&&b.insertBefore(a,c)}},clear:function(){var a=this.__ctx;a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.width,this.height);a.restore()},dataURItoBlob:function(a,b){a=atob(a.split(",")[1]);for(var c=[],d=0;d<a.length;d++)c.push(a.charCodeAt(d));return new Blob([new Uint8Array(c)],{type:b})},getDataURL:function(a,b){return this.__canvas.toDataURL(a,b)},
getImageFile:function(a,b,c){switch(a){case "png":case "PNG":a="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":a="jpeg";null==c&&(c=.5);break;default:console.warn("Unexpected image type: ",a),a=a.toLowerCase()}var d="image/"+a;c=this.dataURItoBlob(this.getDataURL(d,c),d);b&&(c.name=b+"."+a);return c},circle:function(a,b,c){this.__ctx.arc(a,b,c,0,2*Math.PI)},save:function(){var a=this.__ctx;a.save.apply(a,arguments)},restore:function(){var a=this.__ctx;a.restore.apply(a,arguments)},scale:function(){var a=
this.__ctx;a.scale.apply(a,arguments)},rotate:function(){var a=this.__ctx;a.rotate.apply(a,arguments)},translate:function(){var a=this.__ctx;a.translate.apply(a,arguments)},transform:function(){var a=this.__ctx;a.transform.apply(a,arguments)},setTransform:function(){var a=this.__ctx;a.setTransform.apply(a,arguments)},createLinearGradient:function(){var a=this.__ctx;return a.createLinearGradient.apply(a,arguments)},createRadialGradient:function(){var a=this.__ctx;return a.createRadialGradient.apply(a,
arguments)},createPattern:function(){var a=this.__ctx;return a.createPattern.apply(a,arguments)},clearRect:function(){var a=this.__ctx;a.clearRect.apply(a,arguments)},fillRect:function(){var a=this.__ctx;a.fillRect.apply(a,arguments)},strokeRect:function(){var a=this.__ctx;a.strokeRect.apply(a,arguments)},beginPath:function(){var a=this.__ctx;a.beginPath.apply(a,arguments)},closePath:function(){var a=this.__ctx;a.closePath.apply(a,arguments)},moveTo:function(){var a=this.__ctx;a.moveTo.apply(a,arguments)},
lineTo:function(){var a=this.__ctx;a.lineTo.apply(a,arguments)},quadraticCurveTo:function(){var a=this.__ctx;a.quadraticCurveTo.apply(a,arguments)},bezierCurveTo:function(){var a=this.__ctx;a.bezierCurveTo.apply(a,arguments)},arcTo:function(){var a=this.__ctx;a.arcTo.apply(a,arguments)},rect:function(){var a=this.__ctx;a.rect.apply(a,arguments)},arc:function(){var a=this.__ctx;a.arc.apply(a,arguments)},fill:function(){var a=this.__ctx;a.fill.apply(a,arguments)},stroke:function(){var a=this.__ctx;
a.stroke.apply(a,arguments)},clip:function(){var a=this.__ctx;a.clip.apply(a,arguments)},isPointInPath:function(){var a=this.__ctx;a.isPointInPath.apply(a,arguments)},fillText:function(){var a=this.__ctx;a.fillText.apply(a,arguments)},strokeText:function(){var a=this.__ctx;a.strokeText.apply(a,arguments)},measureText:function(){var a=this.__ctx;return a.measureText.apply(a,arguments)},drawImage:function(){var a=this.__ctx;a.drawImage.apply(a,arguments)},createImageData:function(){var a=this.__ctx;
a.createImageData.apply(a,arguments)},getImageData:function(){var a=this.__ctx;return a.getImageData.apply(a,arguments)},putImageData:function(){var a=this.__ctx;a.putImageData.apply(a,arguments)}});myt.UpdateableUI=new JS.Module("UpdateableUI",{initNode:function(a,b){this.callSuper(a,b);this.updateUI()},updateUI:function(){}});
myt.Disableable=new JS.Module("Disableable",{initNode:function(a,b){null==b.disabled&&(b.disabled=!1);this.callSuper(a,b)},setDisabled:function(a){this.disabled!==a&&(this.disabled=a,this.inited&&this.fireEvent("disabled",a),this.doDisabled())},doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});
new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
myt.MouseOver=new JS.Module("MouseOver",{initNode:function(a,b){null==b.mouseOver&&(b.mouseOver=!1);this.callSuper(a,b);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(a){this.mouseOver!==a&&(this.mouseOver=a,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(myt.global.idle,"__doMouseOverOnIdle","idle")))},setDisabled:function(a){this.callSuper(a);this.disabled?this.mouseOver&&(this.__disabledOver=
!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(myt.global.idle,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;var a=this.mouseOver;this.__lastOverIdleValue!==a&&(this.__lastOverIdleValue=a,this.doSmoothMouseOver(a))},doSmoothMouseOver:function(a){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(a){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(a){this.__disabledOver=
!1;this.disabled||this.setMouseOver(!1)}});
myt.MouseDown=new JS.Module("MouseDown",{initNode:function(a,b){null==b.mouseDown&&(b.mouseDown=!1);this.callSuper(a,b);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(a){this.mouseDown!==a&&(this.mouseDown=a,this.inited&&(a&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(a){a&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(a)},doMouseOver:function(a){this.callSuper(a);this.mouseDown&&
this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseOut:function(a){this.callSuper(a);!this.disabled&&this.mouseDown&&this.attachToDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseDown:function(a){this.disabled||this.setMouseDown(!0)},doMouseUp:function(a){this.mouseOver||this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(a))},doMouseUpInside:function(a){this.doActivated&&
this.doActivated()}});myt.MouseOverAndDown=new JS.Module("MouseOverAndDown",{include:[myt.MouseOver,myt.MouseDown]});myt.Activateable=new JS.Module("Activateable",{doActivated:function(){}});
myt.KeyActivation=new JS.Module("KeyActivation",{extend:{DEFAULT_ACTIVATION_KEYS:[13,32]},initNode:function(a,b){this.activateKeyDown=-1;null==b.activationKeys&&(b.activationKeys=myt.KeyActivation.DEFAULT_ACTIVATION_KEYS);this.callSuper(a,b);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(a){this.activationKeys=a},setRepeatKeyDown:function(a){this.repeatKeyDown=
a},__handleKeyDown:function(a){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown))for(var b=myt.KeyObservable.getKeyCodeFromEvent(a),c=this.activationKeys,d=c.length;d;)if(b===c[--d]){this.activateKeyDown===b?this.doActivationKeyDown(b,!0):(this.activateKeyDown=b,this.doActivationKeyDown(b,!1));a.value.preventDefault();break}},__handleKeyPress:function(a){if(!this.disabled){var b=myt.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===b)for(var c=this.activationKeys,d=c.length;d;)if(b===
c[--d]){a.value.preventDefault();break}}},__handleKeyUp:function(a){if(!this.disabled){var b=myt.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===b)for(var c=this.activationKeys,d=c.length;d;)if(b===c[--d]){this.activateKeyDown=-1;this.doActivationKeyUp(b);a.value.preventDefault();break}}},__doDomBlur:function(a){this.disabled||(a=this.activateKeyDown,-1!==a&&(this.activateKeyDown=-1,this.doActivationKeyAborted(a)))},doActivationKeyDown:function(a,b){},doActivationKeyUp:function(a){this.doActivated()},
doActivationKeyAborted:function(a){}});
(function(a){var b=JS.Class,c=JS.Module,d=[0,0,7,"#666666"],e=a.Button=new c("Button",{include:[a.Activateable,a.UpdateableUI,a.Disableable,a.MouseOverAndDown,a.KeyActivation],extend:{DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE:d,DEFAULT_DISABLED_OPACITY:.5},initNode:function(a,b){null==b.focusable&&(b.focusable=!0);null==b.cursor&&(b.cursor="pointer");this.callSuper(a,b)},setFocused:function(a){var b=this.focused;this.callSuper(a);this.inited&&this.focused!==b&&this.updateUI()},doActivationKeyDown:function(a,
b){b||this.updateUI()},doActivationKeyUp:function(a){this.callSuper(a);this.updateUI()},doActivationKeyAborted:function(a){this.callSuper(a);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{var a=this.__restoreCursor;a&&(this.setCursor(a),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:function(){},drawActiveState:function(){},drawReadyState:function(){},drawDisabledState:function(){},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(d)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()}});e=a.SimpleButton=new b("SimpleButton",a.View,{include:[e],initNode:function(a,b){this.activeColor=this.hoverColor=
this.readyColor="transparent";this.callSuper(a,b)},setActiveColor:function(a){this.activeColor!==a&&(this.activeColor=a,this.inited&&this.updateUI())},setHoverColor:function(a){this.hoverColor!==a&&(this.hoverColor=a,this.inited&&this.updateUI())},setReadyColor:function(a){this.readyColor!==a&&(this.readyColor=a,this.inited&&this.updateUI())},drawDisabledState:function(){this.setOpacity(.5);this.setBgColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setBgColor(this.hoverColor)},
drawActiveState:function(){this.setOpacity(1);this.setBgColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setBgColor(this.readyColor)}});a.IconTextButtonContent=new c("IconTextButtonContent",{initNode:function(a,b){this.textY=this.iconY="middle";this.iconSpacing=2;this.inset=this.outset=0;null==b.shrinkToFit&&(b.shrinkToFit=!1);null==b.contentAlign&&(b.contentAlign="center");this.callSuper(a,b);a=this.iconView;b=this.textView;this.applyConstraint("__updateContentPosition",
[this,"inset",this,"outset",this,"width",this,"shrinkToFit",this,"iconSpacing",this,"contentAlign",a,"width",a,"visible",b,"width",b,"visible"])},doAfterAdoption:function(){var b=this.iconY,c=this.textY,d={name:"iconView",imageUrl:this.iconUrl};"string"===typeof b?d.valign=b:d.y=b;new a.Image(this,d);d={name:"textView",whiteSpace:"nowrap",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof c?d.valign=c:d.y=c;new a.Text(this,d);this.callSuper()},setInset:function(a){null!=a&&"object"===
typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){this.set("shrinkToFit",a,!0)},setContentAlign:function(a){this.set("contentAlign",a,!0)},setIconSpacing:function(a){this.set("iconSpacing",a,!0)},setIconUrl:function(a){this.iconUrl!==a&&(this.iconUrl=a,this.inited&&(this.fireEvent("iconUrl",
a),this.iconView.setImageUrl(a)))},setIconY:function(a){var b=this.iconView;this.iconY!==a&&(this.iconY=a,this.inited&&(this.fireEvent("iconY",a),"string"===typeof a?b.setValign(a):b.setY(a)))},setTextY:function(a){var b=this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){var b=this.inset,c=this.outset;a=this.iconView;
var d=this.textView,e=d.visible&&this.text,f=a.visible?a.width:0;f+=e&&0<f?this.iconSpacing:0;e=e?d.width:0;this.shrinkToFit?(a.setX(b),b+=f,d.setX(b),this.__updateContentPositionLoopBlock=!0,this.setWidth(b+(e+c)),this.__updateContentPositionLoopBlock=!1):("left"!==this.contentAlign&&("center"===this.contentAlign?(c=this.width-b-f-e-c,b+=c/2):b=this.width-f-e-c),a.setX(b),d.setX(b+f))}}});a.TextButtonContent=new c("TextButtonContent",{initNode:function(a,b){this.inset=this.outset=0;null==b.shrinkToFit&&
(b.shrinkToFit=!1);this.textY=b.shrinkToFit?"middle":0;this.callSuper(a,b);a=this.textView;this.applyConstraint("__updateContentPosition",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",a,"visible",a,"width",a,"height",a,"y"])},doAfterAdoption:function(){var b=this.textY,c={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?c.valign=b:c.y=b;new a.Text(this,c);this.__origHeight=this.height;this.callSuper()},
setInset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){var b=this.textView;this.shrinkToFit!==a&&(this.shrinkToFit=a,this.inited&&(b&&b.setWhiteSpace(a?"nowrap":"normal"),this.fireEvent("shrinkToFit",a)))},setTextY:function(a){var b=this.textView;
this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){a=this.inset;var b=this.outset,c=this.textView,d=c.visible&&this.text;this.__updateContentPositionLoopBlock=!0;this.shrinkToFit?(c.setX(a),this.setWidth(a+(d?c.width:0)+b),this.setHeight(this.__origHeight)):(c.setHeight("auto"),c.setWidth(this.width-a-b),c.setX(a),this.setHeight(d?
c.y+c.height:this.__origHeight));this.__updateContentPositionLoopBlock=!1}}});a.SimpleIconTextButton=new b("SimpleIconTextButton",e,{include:[a.IconTextButtonContent]});a.SimpleTextButton=new b("SimpleTextButton",e,{include:[a.TextButtonContent]})})(myt);
(function(a){var b=a.Color=new JS.Class("Color",{extend:{toHex:function(a){a=this.cleanChannelValue(a).toString(16);return 1===a.length?"0"+a:a},rgbToHex:function(a,b,e,f){var c=this.toHex.bind(this);return[f?"#":"",c(a),c(b),c(e)].join("")},cleanChannelValue:function(a){return Math.min(255,Math.max(0,Math.round(a)))},getRedChannel:function(a){return(16711680&a)>>16},getGreenChannel:function(a){return(65280&a)>>8},getBlueChannel:function(a){return 255&a},makeColorFromNumber:function(a){return new b(this.getRedChannel(a),
this.getGreenChannel(a),this.getBlueChannel(a))},makeColorFromHexString:function(a){return a&&0===a.indexOf("#")?this.makeColorFromNumber(parseInt(a.substring(1),16)):null},getLighterColor:function(a,b){var c=this.makeColorFromNumber(a),d=this.makeColorFromNumber(b);return c.isLighterThan(d)?a:b},makeColorNumberFromChannels:function(a,b,e){a=this.cleanChannelValue(a);b=this.cleanChannelValue(b);e=this.cleanChannelValue(e);return(a<<16)+(b<<8)+e},makeBlendedColor:function(a,d,e){return new b(a.red+
e*(d.red-a.red),a.green+e*(d.green-a.green),a.blue+e*(d.blue-a.blue))}},initialize:function(a,b,e){this.setRed(a);this.setGreen(b);this.setBlue(e)},setRed:function(a){this.red=b.cleanChannelValue(a)},setGreen:function(a){this.green=b.cleanChannelValue(a)},setBlue:function(a){this.blue=b.cleanChannelValue(a)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return b.rgbToHex(this.red,this.green,this.blue,!0)},isLighterThan:function(a){a=this.getDiffFrom(a);
return 0>a.red+a.green+a.blue},getDiffFrom:function(a){return{red:a.red-this.red,green:a.green-this.green,blue:a.blue-this.blue}},applyDiff:function(a){return this.add(a)},add:function(a){this.setRed(this.red+a.red);this.setGreen(this.green+a.green);this.setBlue(this.blue+a.blue);return this},subtract:function(a){this.setRed(this.red-a.red);this.setGreen(this.green-a.green);this.setBlue(this.blue-a.blue);return this},multiply:function(a){this.setRed(this.red*a);this.setGreen(this.green*a);this.setBlue(this.blue*
a);return this},divide:function(a){this.setRed(this.red/a);this.setGreen(this.green/a);this.setBlue(this.blue/a);return this},clone:function(){return new b(this.red,this.green,this.blue)},equals:function(a){return a===this||a&&a.isA&&a.isA(b)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(a){this.setVectors(a||[])},setVectors:function(a){this._boundingBox=null;this.vectors=a},copyFrom:function(a){this.vectors=a.vectors.slice();this._boundingBox=null},drawInto:function(a){a.beginPath();var b=this.vectors,c=b.length,d=0;for(a.moveTo(b[d++],b[d++]);c>d;)a.lineTo(b[d++],b[d++]);a.closePath()},translate:function(a,b){for(var c=this.vectors,d=c.length;d;)c[--d]+=b,c[--d]+=a;this._boundingBox=null},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);
for(var c=this.vectors,d=c.length,e,f,g=0;d>g;)e=c[g]*b-c[g+1]*a,f=c[g]*a+c[g+1]*b,c[g++]=e,c[g++]=f;this._boundingBox=null},rotateAroundOrigin:function(a,b,c){this.translate(-b,-c);this.rotate(a);this.translate(b,c)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;var a=this.vectors,b=a.length,c,d,e;if(2<=b){var f=e=a[--b];for(c=d=a[--b];b;){var g=a[--b];var h=a[--b];f=Math.min(g,f);e=Math.max(g,e);c=Math.min(h,c);d=Math.max(h,d)}return this._boundingBox={x:c,y:f,width:d-
c,height:e-f}}return this._boundingBox=null},getCenter:function(){var a=this.getBoundingBox();return a?{x:a.x+a.width/2,y:a.y+a.height/2}:null},isPointInPath:function(a,b){"object"===typeof a&&(b=a.y,a=a.x);return myt.Geometry.isPointInPath(a,b,this.getBoundingBox(),this.vectors)}});
myt.DrawingUtil={drawRoundedRect:function(a,b,c,d,e,f,g){g=e+g;f=d+f;var h=Math.PI;a.beginPath();a.moveTo(d,e+b);a.lineTo(d,g-b);a.arc(d+b,g-b,b,h,h/2,!0);a.lineTo(f-b,g);a.arc(f-b,g-b,b,h/2,0,!0);a.lineTo(f,e+b);a.arc(f-b,e+b,b,0,3*h/2,!0);a.lineTo(d+b,e);a.arc(d+b,e+b,b,3*h/2,h,!0);a.closePath();0<c&&(b-=c,d+=c,f-=c,e+=c,g-=c,a.moveTo(d,e+b),a.arc(d+b,e+b,b,h,3*h/2),a.lineTo(f-b,e),a.arc(f-b,e+b,b,3*h/2,0),a.lineTo(f,g-b),a.arc(f-b,g-b,b,0,h/2),a.lineTo(d+b,g),a.arc(d+b,g-b,b,h/2,h),a.closePath())},
drawRectOutline:function(a,b,c,d,e,f){f=d+f;e=c+e;var g=c+b,h=e-b,k=d+b;b=f-b;a.beginPath();a.moveTo(c,d);a.lineTo(c,f);a.lineTo(e,f);a.lineTo(e,d);a.lineTo(c,d);a.lineTo(g,k);a.lineTo(h,k);a.lineTo(h,b);a.lineTo(g,b);a.lineTo(g,k);a.closePath()},drawPartiallyRoundedRect:function(a,b,c,d,e,f,g,h,k){k=g+k;h=f+h;a.beginPath();a.moveTo(f,g+b);a.lineTo(f,k-d);0<d&&a.quadraticCurveTo(f,k,f+d,k);a.lineTo(h-e,k);0<e&&a.quadraticCurveTo(h,k,h,k-e);a.lineTo(h,g+c);0<c&&a.quadraticCurveTo(h,g,h-c,g);a.lineTo(f+
b,g);0<b&&a.quadraticCurveTo(f,g,f,g+b);a.closePath()},drawGradientArc:function(a,b,c,d,e,f,g,h,k){null==k&&(k=60);k=Math.PI/k;for(var l=Math.PI/360,m=h.length,n=0,p,r;m>n+1;n++)p=h[n+1].angle-h[n].angle,p=Math.round(p/k),r=h[n].color.getDiffFrom(h[n+1].color),h[n].colorDelta={red:r.red/p,green:r.green/p,blue:r.blue/p};d=new myt.Path([b+d,c,b+e,c]);d.rotateAroundOrigin(f,b,c);e=d.vectors;m=e[0];p=e[1];r=e[2];var u=e[3],t=0;for(n=0;g>f;){var E=m;var z=p;var B=r;var G=u;f+=k;f>g&&(k+=g-f,l=0,f=g);d.rotateAroundOrigin(k+
l,b,c);m=e[0];p=e[1];r=e[2];u=e[3];a.beginPath();a.moveTo(E,z);a.lineTo(B,G);a.lineTo(r,u);a.lineTo(m,p);a.closePath();B=h[n].color;G=h[n].colorDelta;a.fillStyle=myt.Color.makeColorNumberFromChannels(B.red+t*G.red,B.green+t*G.green,B.blue+t*G.blue);a.fill();0<l&&(d.rotateAroundOrigin(-l,b,c),m=e[0],p=e[1],r=e[2],u=e[3]);t++;f>=h[n+1].angle&&(t=0,n++)}}};
myt.DrawingMethod=new JS.Class("DrawingMethod",{extend:{_drawingMethods:{},get:function(a){var b=this._drawingMethods,c=b[a];if(!c){var d=myt.resolveClassname(a);d&&(b[a]=c=new d)}return c},draw:function(a,b,c){var d=this.get(a);d?d.draw(b,c):console.log("Unknown DrawingMethod",a)}},draw:function(a,b){}});
myt.DrawButton=new JS.Class("DrawButton",myt.Canvas,{include:[myt.Button],initNode:function(a,b){this.drawBounds={x:0,y:0,w:0,h:0};this.callSuper(a,b)},setDrawingMethodClassname:function(a){this.drawingMethodClassname!==a&&(this.drawingMethodClassname=a,this.setDrawingMethod(myt.DrawingMethod.get(a)))},setDrawingMethod:function(a){this.drawingMethod!==a&&(this.drawingMethod=a,this.inited&&this.updateUI())},getDrawBounds:function(){var a=this.drawBounds;a.w=this.width;a.h=this.height;return a},getDrawConfig:function(a){return{state:a,
focused:this.focused,bounds:this.getDrawBounds()}},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.redraw()},setHeight:function(a,b){this.callSuper(a,b);this.inited&&this.redraw()},drawDisabledState:function(){this.setOpacity(myt.Button.DEFAULT_DISABLED_OPACITY);this.redraw("disabled")},drawHoverState:function(){this.setOpacity(1);this.redraw("hover")},drawActiveState:function(){this.setOpacity(1);this.redraw("active")},drawReadyState:function(){this.setOpacity(1);this.redraw("ready")},
redraw:function(a){null==a&&(a=this.__lastState);this.__lastState=a;(this.drawingMethod||this).draw(this,this.getDrawConfig(a))},draw:function(a,b){myt.dumpStack("No drawing method found")}});
myt.FloatingPanel=new JS.Class("FloatingPanel",myt.View,{include:[myt.RootView],initNode:function(a,b){a=document.createElement("div");a.style.position="absolute";myt.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;b.visible=b.focusEmbellishment=!1;b.focusable=b.focusCage=!0;this.callSuper(a,b)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=
a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var b=a.value;a=b.pageX;b=b.pageY;this.containsPoint(a,b)||this.ignoreOwnerForHideOnMouseDown&&this.owner.containsPoint(a,b)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){var b=myt.global.focus;this.owner&&this.isAncestorOf(b.focusedView)?this.owner[b.lastTraversalWasForward?"getNextFocusAfterPanel":
"getPrevFocusAfterPanel"](this.panelId).focus(a):(b=this.getFirstFocusableDescendant(),b===this?this.callSuper(a):b.focus(a))},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&myt.global.focus.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),
this.setVisible(!0),this.owner.notifyPanelShown(this),a=myt.global,this.attachToDom(a.mouse,"__doMouseDown","mousedown",!0),this.attachTo(a.focus,"__doFocusChange","focused"))},hide:function(a){if(this.isShown()){var b=myt.global;this.detachFromDom(b.mouse,"__doMouseDown","mousedown",!0);this.detachFrom(b.focus,"__doFocusChange","focused");this.setVisible(!1);this.owner.notifyPanelHidden(this);a||this.restoreFocus();this.setOwner()}},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);
var b=this.panelId,c=a.getFloatingAlignForPanelId(b),d=a.getFloatingValignForPanelId(b),e=a.getPagePosition(),f=0,g=0,h=typeof c;if("string"===h)switch(f=e.x+a.getFloatingAlignOffsetForPanelId(b),c){case "outsideRight":f+=a.width;break;case "insideRight":f+=a.width-this.width;break;case "outsideLeft":f-=this.width;break;case "insideLeft":break;default:console.warn("Unexpected align value",h,c)}else"number"===h?f=c:console.warn("Unexpected align type",h,c);this.setX(f);h=typeof d;if("string"===h)switch(g=
e.y+a.getFloatingValignOffsetForPanelId(b),d){case "outsideBottom":g+=a.height;break;case "insideBottom":g+=a.height-this.height;break;case "outsideTop":g-=this.height;break;case "insideTop":break;default:console.warn("Unexpected valign value",h,d)}else"number"===h?g=d:console.warn("Unexpected valign type",h,d);this.setY(g)}});
myt.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{classesByPanelId:{},panelsByPanelId:{}},initNode:function(a,b){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,b)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,b,c){a=a||this.floatingPanelId;var d=myt.FloatingPanelAnchor;b=b||d.classesByPanelId[a];if(!b)return console.log("No panel class found for panelId:",a),null;c=c||{};c.panelId=a;return d.panelsByPanelId[a]=new b(null,c)},getFloatingPanel:function(a){return myt.FloatingPanelAnchor.panelsByPanelId[a||this.floatingPanelId]},
toggleFloatingPanel:function(a){var b=this.getFloatingPanel(a=a||this.floatingPanelId);b&&b.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&
this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){var a=this.lastFloatingPanelShown;return a&&a.isShown()?a:this.callSuper?this.callSuper():null},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});
myt.ListViewItemMixin=new JS.Module("ListViewItemMixin",{setListView:function(a){this.listView=a},getMinimumWidth:function(){return 0},syncToDom:function(){}});
myt.ListViewItem=new JS.Class("ListViewItem",myt.SimpleIconTextButton,{include:[myt.ListViewItemMixin],initNode:function(a,b){null==b.height&&(b.height=24);null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#ffffff");null==b.readyColor&&(b.readyColor="#eeeeee");null==b.contentAlign&&(b.contentAlign="left");null==b.inset&&(b.inset=8);null==b.outset&&(b.outset=8);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},syncToDom:function(){this.textView.sizeViewToDom()},
getMinimumWidth:function(){var a=this.iconView,b=this.textView,c=b.visible&&this.text;a=a.visible?a.width:0;return this.inset+(a+(c&&0<a?this.iconSpacing:0))+(c?Math.ceil(b.width):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},doActivationKeyDown:function(a,b){switch(a){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:myt.global.focus.prev();
break;case 39:case 40:myt.global.focus.next()}this.callSuper(a,b)}});myt.ListViewSeparator=new JS.Class("ListViewSeparator",myt.View,{include:[myt.ListViewItemMixin],initNode:function(a,b){null==b.height&&(b.height=1);null==b.bgColor&&(b.bgColor="#666666");this.callSuper(a,b)},getMinimumWidth:function(){return 0}});
myt.ListView=new JS.Class("ListView",myt.FloatingPanel,{initNode:function(a,b){this.items=[];this.maxHeight=-1;this.minWidth=0;null==b.defaultItemClass&&(b.defaultItemClass=myt.ListViewItem);null==b.overflow&&(b.overflow="autoy");null==b.bgColor&&(b.bgColor="#cccccc");null==b.boxShadow&&(b.boxShadow=myt.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE);this.callSuper(a,b);this.__updateItems();this.buildLayout()},buildLayout:function(){new myt.SpacedLayout(this.getContentView(),{axis:"y",spacing:1,collapseParent:!0})},
setMinWidth:function(a){this.minWidth=a},setDefaultItemClass:function(a){this.defaultItemClass=a},setItemConfig:function(a){this.itemConfig=a;this.inited&&this.__updateItems()},getContentView:function(a){return this},setMaxHeight:function(a){this.maxHeight!==a&&(this.maxHeight=a,this.inited&&(this.fireEvent("maxHeight",a),this.setHeight(this.height)))},setHeight:function(a,b){0<=this.maxHeight&&(a=Math.min(this.maxHeight,a));this.callSuper(a,b)},doItemActivated:function(a){var b=this.owner;b&&b.doItemActivated(a)},
getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){for(var a=this.items,b,c=a.length,d=0;c>d;++d)if(b=a[d],b.isFocusable())return b;return null},getLastFocusableItem:function(){for(var a=this.items,b,c=a.length;c;)if(b=a[--c],b.isFocusable())return b;return null},__updateItems:function(){var a=this.itemConfig||[],b=a.length,c=this.items,d=c.length,e,f=this.defaultItemClass,g=this.getContentView(),h=g.getLayouts(),k=h.length,
l,m=this.minWidth;for(l=k;l;)h[--l].incrementLockedCounter();var n=g.getOuterDomElement(),p=n.nextSibling,r=n.parentNode;r.removeChild(n);for(l=0;b>l;++l){var u=a[l];var t=u.klass||f;u=u.attrs||{};(e=c[l])&&!e.isA(t)&&(e.destroy(),e=null);e||(e=c[l]=new t(g,{listView:this}));e&&(e.callSetters(u),e.__LAYOUT_IDX=l)}r.insertBefore(n,p);for(l=0;b>l;++l)e=c[l],e.syncToDom(),a=e.getMinimumWidth(),a>m&&(m=a);for(;d>l;++l)c[l].destroy();c.length=b;for(l=0;b>l;++l)this.updateItemWidth(c[l],m);this.updateContentWidth(g,
m);for(l=k;l;)b=h[--l],b.sortSubviews(function(a,b){return a.__LAYOUT_IDX-b.__LAYOUT_IDX}),b.decrementLockedCounter(),b.update()},updateItemWidth:function(a,b){a.setWidth(b)},updateContentWidth:function(a,b){a.setWidth(b)}});
myt.ListViewAnchor=new JS.Module("ListViewAnchor",{include:[myt.FloatingPanelAnchor],initNode:function(a,b){null==b.listViewClass&&(b.listViewClass=myt.ListView);null==b.listViewAttrs&&(b.listViewAttrs={});null==b.itemConfig&&(b.itemConfig=[]);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},setListViewClass:function(a){this.listViewClass=a},setListViewAttrs:function(a){this.listViewAttrs=a},setItemConfig:function(a){this.itemConfig=a},doItemActivated:function(a){this.hideFloatingPanel()},
getFloatingPanel:function(a){return this.callSuper(a)||this.createFloatingPanel(a,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(a){var b=this.getFloatingPanel(a);b&&(b.setItemConfig(this.itemConfig),this.callSuper(a))},doActivationKeyDown:function(a,b){if(27===a)this.hideFloatingPanel();else{switch(a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}this.callSuper(a,b)}},doActivationKeyUp:function(a){if(27!==a)switch(this.callSuper(a),a){case 37:case 38:this.selectLastItem();
break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getLastFocusableItem())&&a.focus()},selectFirstItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getFirstFocusableItem())&&a.focus()}});
myt.CheckboxStyleMixin=new JS.Module("CheckboxStyleMixin",{extend:{DEFAULT_PAD_X:3,DEFAULT_PAD_Y:4,DEFAULT_WIDTH:14,DEFAULT_HEIGHT:14,DEFAULT_FILL_COLOR_CHECKED:"#666666",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#cccccc",DEFAULT_FILL_COLOR_READY:"#ffffff",DEFAULT_EDGE_COLOR:"#333333",DEFAULT_EDGE_SIZE:.5},initNode:function(a,b){null==b.width&&(b.width=this.getIconExtentX());null==b.height&&(b.height=this.getIconExtentY());null==b.focusEmbellishment&&(b.focusEmbellishment=!1);
var c=myt.CheckboxStyleMixin;null==b.fillColorChecked&&(b.fillColorChecked=c.DEFAULT_FILL_COLOR_CHECKED);null==b.fillColorHover&&(b.fillColorHover=c.DEFAULT_FILL_COLOR_HOVER);null==b.fillColorActive&&(b.fillColorActive=c.DEFAULT_FILL_COLOR_ACTIVE);null==b.fillColorReady&&(b.fillColorReady=c.DEFAULT_FILL_COLOR_READY);null==b.edgeColor&&(b.edgeColor=c.DEFAULT_EDGE_COLOR);null==b.edgeSize&&(b.edgeSize=c.DEFAULT_EDGE_SIZE);this.callSuper(a,b)},setFillColorChecked:function(a){this.fillColorChecked=a},
setFillColorHover:function(a){this.fillColorHover=a},setFillColorActive:function(a){this.fillColorActive=a},setFillColorReady:function(a){this.fillColorReady=a},setEdgeColor:function(a){this.edgeColor=a},setEdgeSize:function(a){this.edgeSize=a},setFocused:function(a){this.callSuper(a);this.inited&&this.redraw()},getDrawBounds:function(){var a=this.drawBounds,b=myt.CheckboxStyleMixin;a.x=b.DEFAULT_PAD_X;a.y=b.DEFAULT_PAD_Y;a.w=b.DEFAULT_WIDTH;a.h=b.DEFAULT_HEIGHT;return a},getDrawConfig:function(a){var b=
this.callSuper(a);b.checkedColor=this.fillColorChecked;b.edgeColor=this.edgeColor;b.edgeSize=this.edgeSize;switch(a){case "hover":b.fillColor=this.fillColorHover;break;case "active":b.fillColor=this.fillColorActive;break;case "disabled":case "ready":b.fillColor=this.fillColorReady}return b},getIconExtentX:function(){var a=myt.CheckboxStyleMixin;return a.DEFAULT_WIDTH+2*a.DEFAULT_PAD_X},getIconExtentY:function(){var a=myt.CheckboxStyleMixin;return a.DEFAULT_HEIGHT+2*a.DEFAULT_PAD_Y}});
myt.ValueComponent=new JS.Module("ValueComponent",{initNode:function(a,b){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,b)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,b){var c=this.valueFilter,d=a;if(c)if("last"===b)d=function(b){return a(c(b))};
else if("first"===b||null==b)d=function(b){return c(a(b))};this.setValueFilter(d)}});
myt.CheckboxDrawingMethod=new JS.Class("CheckboxDrawingMethod",myt.DrawingMethod,{initialize:function(){this.__getTemplate=myt.memoize(this.__getTemplate)},draw:function(a,b){a.clear();a.drawImage(this.__getTemplate(b),0,0)},__getTemplate:function(a){var b=myt,c=a.bounds,d=c.x,e=c.y,f=c.w,g=c.h,h=null==a.shadowBlur?2:a.shadowBlur,k=null==a.shadowOffsetX?0:a.shadowOffsetX,l=null==a.shadowOffsetY?1:a.shadowOffsetY,m=null==a.radius?4:a.radius,n=null==a.shadowColor?"rgba(0, 0, 0, 0.3)":a.shadowColor,
p=null==a.focusedShadowColor?"rgba(0, 0, 0, 0.5)":a.focusedShadowColor,r=a.fillColor,u=a.focused,t=a.edgeSize,E=d+t,z=e+t,B=f-2*t,G=g-2*t,I=b.Color.makeColorFromHexString(r).multiply(5/6),y=b.DrawingUtil;c=new b.Canvas(b.global.roots.getRoots()[0],{width:d+f+k+h,height:e+g+l+h,visible:!1,ignoreLayout:!0,ignorePlacement:!0});var q=c.createLinearGradient(E,z,E,z+G);c.save();c.setShadowOffsetX(k);c.setShadowOffsetY(l);c.setShadowBlur(h*(u?2:1));c.setShadowColor(u?p:n);y.drawRoundedRect(c,m,0,d,e,f,g);
c.setFillStyle(a.edgeColor);c.fill();c.restore();y.drawRoundedRect(c,m-t,0,E,z,B,G);q.addColorStop(0,r);q.addColorStop(1,I.getHtmlHexString());c.setFillStyle(q);c.fill();a.checked&&((new b.Path([E+2,z+.5*G,E+.5*B,z+G-2,d+f+3,e,E+.5*B,z+G-6,E+5,z+.5*G-2])).drawInto(c),c.setFillStyle(a.checkedColor),c.fill());a=c.__canvas;c.destroy();return a}});
myt.CheckboxMixin=new JS.Module("CheckboxMixin",{include:[myt.ValueComponent,myt.CheckboxStyleMixin],initNode:function(a,b){null==b.value&&(b.value=!1);null==b.drawingMethodClassname&&(b.drawingMethodClassname="myt.CheckboxDrawingMethod");this.callSuper(a,b)},setValue:function(a){this.value!==a&&(this.callSuper(a),this.inited&&this.redraw())},getDrawConfig:function(a){a=this.callSuper(a);a.checked=this.value;return a},doActivated:function(){this.setValue(!this.value)}});
myt.Checkbox=new JS.Class("Checkbox",myt.DrawButton,{include:[myt.CheckboxMixin]});myt.TextCheckbox=new JS.Class("TextCheckbox",myt.Checkbox,{include:[myt.TextButtonContent],extend:{DEFAULT_PAD_X:2,DEFAULT_MULTILINE_PAD_Y:4},doAfterAdoption:function(){var a=myt.TextCheckbox,b=a.DEFAULT_PAD_X;this.setInset(this.getIconExtentX()+b);this.setOutset(b);this.shrinkToFit||this.setTextY(a.DEFAULT_MULTILINE_PAD_Y);this.callSuper()}});
myt.RadioDrawingMethod=new JS.Class("RadioDrawingMethod",myt.DrawingMethod,{initialize:function(){this.__getTemplate=myt.memoize(this.__getTemplate)},draw:function(a,b){a.clear();a.drawImage(this.__getTemplate(b),0,0)},__getTemplate:function(a){var b=myt,c=a.bounds,d=c.x,e=c.y,f=c.w,g=c.h;c=null==a.shadowBlur?2:a.shadowBlur;var h=null==a.shadowOffsetX?0:a.shadowOffsetX,k=null==a.shadowOffsetY?1:a.shadowOffsetY,l=null==a.shadowColor?"rgba(0, 0, 0, 0.3)":a.shadowColor,m=null==a.focusedShadowColor?"rgba(0, 0, 0, 0.5)":
a.focusedShadowColor,n=a.fillColor,p=a.focused,r=f/2,u=r-a.edgeSize,t=u/2-1,E=d+r,z=e+r,B=b.Color.makeColorFromHexString(n).multiply(5/6);b=new b.Canvas(b.global.roots.getRoots()[0],{width:d+f+h+c,height:e+g+k+c,visible:!1,ignoreLayout:!0,ignorePlacement:!0});d=b.createLinearGradient(d,e,d,e+f);b.save();b.setShadowOffsetX(h);b.setShadowOffsetY(k);b.setShadowBlur(c*(p?2:1));b.setShadowColor(p?m:l);b.beginPath();b.circle(E,z,r);b.closePath();b.setFillStyle(a.edgeColor);b.fill();b.restore();b.beginPath();
b.circle(E,z,u);b.closePath();d.addColorStop(0,n);d.addColorStop(1,B.getHtmlHexString());b.setFillStyle(d);b.fill();a.checked&&(b.beginPath(),b.circle(E,z,t),b.closePath(),b.setFillStyle(a.checkedColor),b.fill());a=b.__canvas;b.destroy();return a}});
myt.BAGMembership=new JS.Module("BAGMembership",{initNode:function(a,b){this.__bags=[];this.callSuper(a,b)},destroyAfterOrphaning:function(){this.callSuper();for(var a=this.__bags,b=a.length,c;b;)c=a[--b],this.removeFromBAG(c.attrName,c.groupId)},isRegisteredWithBAG:function(a){for(var b=this.__bags,c=b.length;c;)if(b[--c]===a)return!0;return!1},getBAG:function(a,b){return myt.BAG.getGroup(a,b)},addToBAG:function(a,b){b=this.getBAG(a,b);this.isRegisteredWithBAG(b)||(this.__bags.push(b),b.register(this),
this.isAttachedTo(this,"__updateForBAG",a)||this.attachTo(this,"__updateForBAG",a))},removeFromBAG:function(a,b){b=this.getBAG(a,b);if(this.isRegisteredWithBAG(b)){for(var c=this.__bags,d=c.length,e,f=!0;d;)e=c[--d],e===b?(c.splice(d,1),b.unregister(this)):e.attrName===a&&(f=!1);f&&this.detachFrom(this,"__updateForBAG",a)}},__updateForBAG:function(a){var b=a.type;a=a.value;for(var c=this.__bags,d=c.length,e;d;)e=c[--d],e.attrName===b&&(a?e.setTrue(this):e.setFalse(this))}});
myt.BAG=new JS.Class("BAG",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable],extend:{__groups:{},generateUniqueGroupId:function(){return myt.generateGuid()},createGroup:function(a){return new BAG(a,this.generateUniqueGroupId())},getGroup:function(a,b){if(a&&b){var c=this.__groups;c=c[a]||(c[a]={});return c[b]||(c[b]=new myt.BAG(a,b))}return null},removeGroup:function(a,b){if(a&&b){var c=this.__groups;if(c&&(a=c[a]))return(c=a[b])&&delete a[b],c}return null}},initialize:function(a,b){this.__nodes=
[];this.trueNode=null;this.attrName=a;this.groupId=b},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&myt.BAG.removeGroup(this.attrName,this.groupId);this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(a){this.set("groupId",a,!0)},setAttrName:function(a){this.set("attrName",a,!0)},setTrueNode:function(a){this.set("trueNode",a,!0)},getNodes:function(){return this.__nodes},register:function(a){a&&!this.isRegistered(a)&&(this.__nodes.push(a),
a[this.attrName]&&this.setTrue(a))},unregister:function(a){if(a){for(var b=this.__nodes,c=b.length;c;)if(a===b[--c]){b.splice(c,1);break}this.trueNode===a&&this.setTrueNode(null);0===b.length&&this.destroy()}},setTrue:function(a){if(a&&this.trueNode!==a&&this.isRegistered(a)){var b=this.attrName,c=myt.AccessorSupport.generateSetterName(b),d=this.__nodes,e=d.length;for(this.setTrueNode(a);e;){var f=d[--e];if(a===f){if(!f[b])f[c](!0)}else if(f[b])f[c](!1)}}},setFalse:function(a){if(a&&this.trueNode===
a){var b=myt.AccessorSupport.generateSetterName(this.attrName);a[b](!1);this.setTrueNode(null)}},isRegistered:function(a){for(var b=this.__nodes,c=b.length;c;)if(a===b[--c])return!0;return!1}});
myt.RadioMixin=new JS.Module("RadioMixin",{include:[myt.BAGMembership,myt.CheckboxStyleMixin],initNode:function(a,b){null==b.selected&&(b.selected=!1);null==b.groupId&&(b.groupId=myt.generateGuid());null==b.drawingMethodClassname&&(b.drawingMethodClassname="myt.RadioDrawingMethod");this.callSuper(a,b);void 0!==this.__initValue&&(this.__updateGroupValue(this.__initValue),delete this.__initValue);this.selected&&(a=this.__getBAG())&&a.setTrue(this)},setOptionValue:function(a){this.set("optionValue",
a,!0)},setValue:function(a){this.inited?this.__updateGroupValue(a):this.__initValue=a},getValue:function(){var a=this.__getBAG();return(a=a?a.trueNode:null)?a.optionValue:null},setSelected:function(a){this.selected!==a&&(this.selected=a,this.inited&&(this.fireEvent("selected",a),this.redraw()))},setGroupId:function(a){if(this.groupId!==a){var b=this.groupId;this.groupId=a;b&&this.removeFromBAG("selected",b);a&&this.addToBAG("selected",a);this.inited&&this.fireEvent("groupId",a)}},getDrawConfig:function(a){a=
this.callSuper(a);a.checked=this.selected;return a},doActivated:function(){this.selected||this.setValue(this.optionValue)},__getBAG:function(){return this.getBAG("selected",this.groupId)},__updateGroupValue:function(a){var b=this.__getBAG();if(b)for(var c=b.getNodes(),d=c.length,e;d;)if(e=c[--d],e.optionValue===a){b.setTrue(e);break}}});myt.Radio=new JS.Class("Radio",myt.DrawButton,{include:[myt.RadioMixin]});
myt.TextRadio=new JS.Class("TextRadio",myt.Radio,{include:[myt.TextButtonContent],doAfterAdoption:function(){var a=myt.TextCheckbox,b=a.DEFAULT_PAD_X;this.setInset(this.getIconExtentX()+b);this.setOutset(b);this.shrinkToFit||this.setTextY(a.DEFAULT_MULTILINE_PAD_Y);this.callSuper()}});
myt.Selectable=new JS.Module("Selectable",{setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return this.selected?!0:!1},canSelect:function(a){return!0},canDeselect:function(a){return!0}});
myt.SelectionManager=new JS.Module("SelectionManager",{extend:{isAddMode:function(){return myt.global.keys.isShiftKeyDown()},isToggleMode:function(){return myt.global.keys.isAcceleratorKeyDown()}},initNode:function(a,b){this.__selected={};this.__lastSelectedItem=null;b.selectedCount=0;null==b.itemSelectionId&&(b.itemSelectionId="id");null==b.maxSelected&&(b.maxSelected=-1);this.callSuper(a,b)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==
a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:function(){return myt.SelectionManager.isAddMode()},isToggleMode:function(){return myt.SelectionManager.isToggleMode()},getSelected:function(){var a=[],b=this.__selected,c;for(c in b)a.push(b[c]);return a},select:function(a){a&&!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),
this.fireEvent("itemSelected",a))},doSelected:function(a){},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){var b=this.maxSelected,c=this.selectedCount;if(0===b)return!1;if(1===b){if(0<c&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<b&&c>=b)return!1;return a.canSelect(this)},selectAll:function(){for(var a=this.getSelectableItems(),b=a.length;b;)this.select(a[--b])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),
delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:function(a){},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},deselectAll:function(){var a=this.__selected,b;for(b in a)this.deselect(a[b])},isSelectedItem:function(a){return a?a.isSelected():!1},areAllSelected:function(){return this.selectedCount===
this.getSelectableItems().length},getManagedItems:function(){for(var a=[],b=this.getSubviews(),c=b.length,d;c;)d=b[--c],d.isA(myt.Selectable)&&a.push(d);return a},getSelectableItems:function(){for(var a=this.getManagedItems(),b=a.length;b;)a[--b].canSelect(this)||a.splice(b,1);return a},getSelectableItem:function(a){for(var b=this.getSelectableItems(),c=b.length,d,e=this.itemSelectionId;c;)if(d=b[--c],d[e]===a)return d;return null}});
myt.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[myt.SelectionManager],extend:{DEFAULT_SPACING:1},initNode:function(a,b){this._tabSliders=[];b.defaultPlacement="container";null==b.spacing&&(b.spacing=myt.TabSliderContainer.DEFAULT_SPACING);null==b.overflow&&(b.overflow="autoy");null==b.itemSelectionId&&(b.itemSelectionId="tabId");null==b.maxSelected&&(b.maxSelected=1);this.updateLayout=myt.debounce(this.updateLayout);this.callSuper(a,b)},doAfterAdoption:function(){var a=this,b=
myt,c=b.TabSlider,d=new b.View(a,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[b.SizeToParent,{subnodeAdded:function(b){this.callSuper(b);b instanceof c&&(a._tabSliders.push(b),a.attachTo(b,"updateLayout","selected"))},subnodeRemoved:function(b){if(b instanceof c)for(var d=a._tabSliders,e=d.length;e;)if(d[--e]===b){a.detachFrom(b,"updateLayout","selected");d.splice(e,1);break}this.callSuper(b)}}]);new b.SpacedLayout(d,{name:"layout",axis:"y",spacing:a.spacing,collapseParent:!0});
a.attachTo(a,"updateLayout","height");a.callSuper()},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},updateLayout:function(a){a=this._tabSliders;for(var b=a.length,c,d=0,e=0,f=0;b;)c=a[--b],c.visible&&(++f,c.selected?(d+=c.getMinimumExpandedHeight(),e+=c.getPreferredExpandedHeight()):(c=c.getCollapsedHeight(),d+=c,e+=c));b=this.container.layout;c=b.inset+b.outset+b.spacing*(f-1);e+=c;b=this.height;d=d+c>b;f=e>b;e-=b;for(b=a.length;b;)if(c=a[--b],c.visible)if(c.selected){if(d)var g=
c.getMinimumExpandedHeight();else if(f){var h=c.getPreferredExpandedHeight();var k=c.getMinimumExpandedHeight();g=h-e;k>g?(e-=h-k,g=k):e=0}else g=c.getPreferredExpandedHeight();c.expand(g)}else c.collapse()}});
myt.TabSlider=new JS.Class("TabSlider",myt.View,{include:[myt.Selectable,myt.Disableable,myt.SizeToParent],extend:{DEFAULT_BUTTON_HEIGHT:30,DEFAULT_MINIMUM_CONTAINER_HEIGHT:100,DEFAULT_FILL_COLOR_SELECTED:"#666666",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#cccccc",DEFAULT_FILL_COLOR_READY:"#ffffff",DEFAULT_ANIMATION_MILLIS:500},initNode:function(a,b){var c=myt.TabSlider;b.defaultPlacement="wrapper.container";b.percentOfParentWidth=100;b.expansionState="collapsed";null==b.tabId&&
(b.tabId=myt.generateGuid());null==b.tabContainer&&(b.tabContainer=a);null==b.selected&&(b.selected=!1);null==b.buttonClass&&(b.buttonClass=myt.SimpleButton);null==b.zIndex&&(b.zIndex=0);null==b.buttonHeight&&(b.buttonHeight=c.DEFAULT_BUTTON_HEIGHT);null==b.fillColorSelected&&(b.fillColorSelected=c.DEFAULT_FILL_COLOR_SELECTED);null==b.fillColorHover&&(b.fillColorHover=c.DEFAULT_FILL_COLOR_HOVER);null==b.fillColorActive&&(b.fillColorActive=c.DEFAULT_FILL_COLOR_ACTIVE);null==b.fillColorReady&&(b.fillColorReady=
c.DEFAULT_FILL_COLOR_READY);null==b.minContainerHeight&&(b.minContainerHeight=c.DEFAULT_MINIMUM_CONTAINER_HEIGHT);if(b.selected){var d=!0;delete b.selected}this.callSuper(a,b);d&&this.tabContainer.select(this);!0===b.disabled&&this.setDisabled(!0);this.setHeight(this.getCollapsedHeight())},doAfterAdoption:function(){var a=this,b=myt;V=b.View;new a.buttonClass(a,{name:"button",ignorePlacement:!0,zIndex:1,height:a.buttonHeight,focusEmbellishment:!0,groupId:a.parent.parent.groupId,percentOfParentWidth:100,
hoverColor:a.fillColorHover,activeColor:a.fillColorActive,readyColor:a.fillColorReady},[b.SizeToParent,{doActivated:function(){var b=a.tabContainer;a.isSelected()&&1!==b.maxSelected?b.deselect(a):b.select(a)},updateUI:function(){this.callSuper();a.selected&&-1!==a.tabContainer.maxSelected&&this.setBgColor(a.fillColorSelected);a.notifyButtonRedraw()}}]);var c=new V(a,{name:"wrapper",ignorePlacement:!0,y:a.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[b.SizeToParent,
{setHeight:function(a,b){this.callSuper(Math.round(a),b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.container.setWidth(a)}}]),d=new V(c,{name:"container"});new b.SizeToChildren(d,{axis:"y"});a.applyConstraint("__updateHeight",[c,"y",c,"height"]);a.callSuper()},setSelected:function(a){this.callSuper(a);this.button&&this.button.updateUI()},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},setMinContainerHeight:function(a){this.minContainerHeight=
a},setButtonClass:function(a){this.buttonClass=a},setFillColorSelected:function(a){this.fillColorSelected=a},setFillColorHover:function(a){this.fillColorHover=a},setFillColorActive:function(a){this.fillColorActive=a},setFillColorReady:function(a){this.fillColorReady=a},setButtonHeight:function(a){this.buttonHeight!==a&&(this.buttonHeight=a,this.button&&(this.button.setHeight(a),this.wrapper.setY(a)))},setExpansionState:function(a){if(this.expansionState!==a){this.expansionState=a;this.inited&&this.fireEvent("expansionState",
a);var b=this.wrapper;b&&("expanded"===a?(b.setMaskFocus(!1),b.setOverflow("auto")):"expanding"===a?b.setVisible(!0):"collapsed"===a?b.setVisible(!1):"collapsing"===a&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){var a=this.button;a&&a.setDisabled(this.disabled)},notifyButtonRedraw:function(){},__updateHeight:function(a){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(a){var b=this,c=b.wrapper;a-=b.getCollapsedHeight();b.setExpansionState("expanding");
c.stopActiveAnimators();c.height!==a?c.animate({attribute:"height",to:a,duration:myt.TabSlider.DEFAULT_ANIMATION_MILLIS}).next(function(a){b.setExpansionState("expanded")}):b.setExpansionState("expanded")},collapse:function(){this.setExpansionState("collapsing");var a=this.wrapper;a.stopActiveAnimators();if(0!==a.height){var b=this;a.animate({attribute:"height",to:0,duration:myt.TabSlider.DEFAULT_ANIMATION_MILLIS}).next(function(a){b.setExpansionState("collapsed")})}else this.setExpansionState("collapsed")},
getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}});
myt.TextTabSlider=new JS.Class("TextTabSlider",myt.TabSlider,{extend:{DEFAULT_LABEL_TEXT_COLOR_CHECKED:"#ffffff",DEFAULT_LABEL_TEXT_COLOR:"#333333"},initNode:function(a,b){var c=myt.TextTabSlider;null==b.labelTextColorChecked&&(b.labelTextColorChecked=c.DEFAULT_LABEL_TEXT_COLOR_CHECKED);null==b.labelTextColor&&(b.labelTextColor=c.DEFAULT_LABEL_TEXT_COLOR);this.callSuper(a,b);new myt.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",
valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(a){this.labelTextColorChecked=a},setLabelTextColor:function(a){this.labelTextColor=a},setText:function(a){if(this.text!==a){this.text=a;var b=this.button;b&&b.label&&b.label.setText(a)}},notifyButtonRedraw:function(){var a=this.button.label;a&&a.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});
myt.TabContainer=new JS.Module("TabContainer",{include:[myt.SelectionManager],extend:{DEFAULT_SPACING:1,DEFAULT_INSET:0},initNode:function(a,b){this.__tabs=[];var c=myt.TabContainer;null==b.spacing&&(b.spacing=c.DEFAULT_SPACING);null==b.inset&&(b.inset=c.DEFAULT_INSET);null==b.location&&(b.location="top");null==b.itemSelectionId&&(b.itemSelectionId="tabId");null==b.maxSelected&&(b.maxSelected=1);this.callSuper(a,b);switch(this.location){case "top":case "bottom":var d="x";break;case "left":case "right":d=
"y"}new myt.SpacedLayout(this,{name:"layout",axis:d,spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(myt.TabMixin))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(myt.TabMixin))for(var b=this.__tabs,c=b.length;c;)if(b[--c]===a){b.splice(c,1);break}this.callSuper(a)}});
myt.TabMixin=new JS.Module("TabMixin",{include:[myt.Selectable],initNode:function(a,b){null==b.tabId&&(b.tabId=myt.generateGuid());null==b.tabContainer&&(b.tabContainer=a);if(b.selected){var c=!0;delete b.selected}this.callSuper(a,b);c&&this.tabContainer.select(this)},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},doActivated:function(){this.selected||this.tabContainer.select(this)}});
(function(a){var b=function(a){var b=null!=a.cornerRadius?a.cornerRadius:c.DEFAULT_RADIUS;switch(a.tabContainer.location){case "top":a.setRoundedTopLeftCorner(b);a.setRoundedTopRightCorner(b);break;case "bottom":a.setRoundedBottomLeftCorner(b);a.setRoundedBottomRightCorner(b);break;case "left":a.setRoundedTopLeftCorner(b);a.setRoundedBottomLeftCorner(b);break;case "right":a.setRoundedTopRightCorner(b),a.setRoundedBottomRightCorner(b)}},c=a.Tab=new JS.Class("Tab",a.SimpleIconTextButton,{include:[a.TabMixin],
extend:{DEFAULT_HEIGHT:24,DEFAULT_INSET:8,DEFAULT_OUTSET:8,DEFAULT_FILL_COLOR_SELECTED:"#ffffff",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#aaaaaa",DEFAULT_FILL_COLOR_READY:"#cccccc",DEFAULT_LABEL_TEXT_COLOR_SELECTED:"#333333",DEFAULT_RADIUS:6},initNode:function(a,e){null==e.inset&&(e.inset=c.DEFAULT_INSET);null==e.outset&&(e.outset=c.DEFAULT_OUTSET);null==e.selectedColor&&(e.selectedColor=c.DEFAULT_FILL_COLOR_SELECTED);null==e.hoverColor&&(e.hoverColor=c.DEFAULT_FILL_COLOR_HOVER);
null==e.activeColor&&(e.activeColor=c.DEFAULT_FILL_COLOR_ACTIVE);null==e.readyColor&&(e.readyColor=c.DEFAULT_FILL_COLOR_READY);null==e.labelTextSelectedColor&&(e.labelTextSelectedColor=c.DEFAULT_LABEL_TEXT_COLOR_SELECTED);null==e.height&&(e.height=c.DEFAULT_HEIGHT);null==e.focusEmbellishment&&(e.focusEmbellishment=!1);this.callSuper(a,e);b(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setSelectedColor:function(a){this.selectedColor=a},setCornerRadius:function(a){this.cornerRadius=
a;this.inited&&b(this)},setLabelTextColor:function(a){this.labelTextColor=a},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)}})})(myt);
myt.InputObservable=new JS.Module("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:{source:null,type:null,value:null}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.InputObservable)||this.callSuper(a,b,c)}});
myt.NativeInputWrapper=new JS.Class("NativeInputWrapper",myt.View,{include:[myt.Disableable,myt.InputObservable],initNode:function(a,b){null==b.tagName&&(b.tagName="input");null==b.focusable&&(b.focusable=!0);this.callSuper(a,b);this.addDomClass("mytNativeInput")},createOurDomElement:function(a){a=this.callSuper(a);if(this.inputType){var b=Array.isArray(a)?a[1]:a;b.type=this.inputType}return a},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==
a&&(this.value=a,this.setDomValue(a),this.inited&&this.fireEvent("value",a))},getDomValue:function(){return this.getInnerDomElement().value},setDomValue:function(a){var b=this.getInnerDomElement();b.value!==a&&(b.value=a)}});
myt.DragDropObservable=new JS.Module("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:{source:null,type:null,value:null}},createDomMethodRef:function(a,b,c){return this.createStandardDomMethodRef(a,b,c,myt.DragDropObservable,!0)||this.callSuper(a,b,c)}});
myt.DragDropSupport=new JS.Module("DragDropSupport",{include:[myt.DragDropObservable],initNode:function(a,b){this.callSuper(a,b);this.disabled||this.setupDragListeners()},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a),this.inited&&(a?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){this.attachToDom(this,"doDragOver","dragover",!1);this.attachToDom(this,"doDragEnter","dragenter",!1);this.attachToDom(this,"doDragLeave",
"dragleave",!1);this.attachToDom(this,"doDrop","drop",!1)},teardownDragListeners:function(){this.detachFromDom(this,"doDragOver","dragover",!1);this.detachFromDom(this,"doDragEnter","dragenter",!1);this.detachFromDom(this,"doDragLeave","dragleave",!1);this.detachFromDom(this,"doDrop","drop",!1)},doDragOver:function(a){},doDragEnter:function(a){},doDragLeave:function(a){},doDrop:function(a){this.handleFiles(a.value.dataTransfer.files,a)},handleFiles:function(a,b){if(void 0!==a)for(var c=a.length,d;c;)(d=
this.filterFiles(a[--c]))&&this.handleDroppedFile(d,b);else myt.dumpStack("Browser doesn't support the File API")},filterFiles:function(a){return a},handleDroppedFile:function(a,b){}});
(function(a){var b=function(a,b,e){a=a._opts||(a._opts={});e?a[b]=e:delete a[b]};a.Ajax=new JS.Class("Ajax",a.Node,{setUrl:function(a){b(this,"url",a)},setRequestMethod:function(a){b(this,"type",a)},setRequestData:function(a){b(this,"data",a)},setResponseType:function(a){b(this,"datatype",a)},doRequest:function(b,d,e){return $.ajax(a.extend({context:this,beforeSend:function(a,c){a.callbackData=b.callbackData;a.requestData=b.requestData;a.requestURL=c.url}},this._opts,b,function(a,b,c){var d=a;switch(a){case "requestData":d=
"data";break;case "requestMethod":d="type";break;case "responseType":d="datatype"}b[d]=c[a]})).done(d||this.handleSuccess).fail(e||this.handleFailure)},handleSuccess:function(a,b,e){this.fireEvent("success",{data:a,status:b,xhr:e})},handleFailure:function(a,b,e){this.fireEvent("failure",{exception:e,status:b,xhr:a})}})})(myt);
myt.Form=new JS.Module("Form",{initNode:function(a,b){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(a,b);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(a){this.errorMessages=a},getFullId:function(){for(var a=[this.id],b=this.form;b&&b.id;)a.unshift(b.id),b=b.form;return a.join(".")},setId:function(a){if(this.id!==a){var b=this.id;this.id=a;
(a=this.form)&&this.inited&&(a.removeSubForm(b),a.addSubForm(this))}},setForm:function(a){if(this.form!==a){var b=this.form;this.form=a;b&&b.removeSubForm(this.id);a&&this.inited&&a.addSubForm(this)}},setIsValid:function(a){this.isValid=a;this.inited&&this.fireEvent("isValid",a);var b=this.form;b&&!this._lockCascade&&(a?b.verifyValidState(this):b.notifySubFormInvalid())},setIsChanged:function(a){if(this.isChanged!==a){this.isChanged=a;this.inited&&this.fireEvent("isChanged",a);var b=this.form;b&&
!this._lockCascade&&(a?b.notifySubFormChanged():b.verifyChangedState(this))}},setValidators:function(a){for(var b=a.length,c;b;)c=a[--b],"string"===typeof c&&((a[b]=c=myt.global.validators.getValidator(c))||a.splice(b,1));this.__v=a},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(myt.FormElement))return this.value;var a={},b=this.__sf,c;for(c in b)a[c]=b[c].getValue();return a},setValue:function(a){this.callSuper&&this.callSuper(a);if("object"===typeof a&&!this.isA(myt.FormElement)){var b,
c;for(c in a)(b=this.getSubForm(c))?a[c]=b.setValue(a[c]):console.warn("ID in setValue for non-existant subform",c)}this.form&&this.form.notifyValueChanged(this);return a},getDefaultValue:function(){var a={},b=this.__sf,c;for(c in b)a[c]=b[c].getDefaultValue();return a},setDefaultValue:function(a){if("object"===typeof a){var b,c;for(c in a)(b=this.getSubForm(c))?a[c]=b.setDefaultValue(a[c]):console.warn("ID in setDefaultValue for non-existant subform",c)}return a},getRollbackValue:function(){var a=
{},b=this.__sf,c;for(c in b)a[c]=b[c].getRollbackValue();return a},setRollbackValue:function(a){if("object"===typeof a){var b,c;for(c in a)(b=this.getSubForm(c))?a[c]=b.setRollbackValue(a[c]):console.warn("ID in setRollbackValue for non-existant subform",c)}return a},addAccelerator:function(a,b){this.__acc[a]=b},removeAccelerator:function(a){delete this.__acc[a]},invokeAccelerator:function(a,b){(a=this.__acc[a])&&a.call(this,void 0===b?null:b)},addValidator:function(a){a&&this.__v.push(a)},removeValidator:function(a){if(a)for(var b=
this.__v,c=b.length,d;c;)if(d=b[--c],d.id===a)return b.splice(c,1),d;return null},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(a){var b=a.id;null!=this.getSubForm(b)?console.warn("ID in use for subform, add aborted.",b,a):(a.setForm(this),this.__sf[b]=a,a.isChanged&&this.notifySubFormChanged(),a.isValid||this.notifySubFormInvalid())},removeSubForm:function(a){var b=this.getSubForm(a);b&&(b.setForm(null),delete this.__sf[a],this.verifyChangedState(),this.verifyValidState());
return b},getSubForm:function(a){return this.__sf[a]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(a){a&&this.doValidation();var b=myt.FormElement,c=[];(function e(a){if(a.isA(b))a.isValid||c.push(a.getFullId());else{a=a.getSubForms();for(var f in a)e(a[f])}})(this);return c},getAllErrorMessages:function(){var a=(this.errorMessages||[]).concat(),b=this.__sf,c;for(c in b)a=a.concat(b[c].getAllErrorMessages());return a},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(a){var b=!0,c=this.__sf,d;for(d in c){var e=c[d];e!==a&&(b=e.isValid&&b)}return this.__applyValidation(b)},doValidation:function(){var a=!0,b=this.__sf,c;for(c in b)a=b[c].doValidation()&&a;this._lockCascade=!0;a=this.__applyValidation(a);this._lockCascade=!1;return a},__applyValidation:function(a){for(var b=this.__v,c=b.length,d=[],e=0;c>e;)a=b[e++].isFormValid(this,null,d)&&a;this.setErrorMessages(d);this.setIsValid(a);return a},notifyValueChanged:function(a){this.form&&
this.form.notifyValueChanged(a)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(a){var b=!1,c=this.__sf,d;for(d in c){var e=c[d];e!==a&&(b=e.isChanged||b)}this.setIsChanged(b);return b},setup:function(a,b,c){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==a&&(a={});null==b&&(b={});null==c&&(c={});var d=this.__sf,e;for(e in d)d[e].setup(a[e],b[e],c[e])},resetForm:function(){this._lockCascade=!0;
var a=this.__sf,b;for(b in a)a[b].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;var a=this.__sf,b;for(b in a)a[b].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){var a={},b=this.__sf,c;for(c in b){var d=b[c];d.isChanged&&(a[c]=d.getChangedValue())}return a}});
myt.RootForm=new JS.Module("RootForm",{include:[myt.Form],initNode:function(a,b){this.callSuper(a,b);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:function(a){},doInvalidSubmit:function(){},doCancel:function(){this.rollbackForm();this.doValidation()}});
myt.FormElement=new JS.Module("FormElement",{include:[myt.Form],initNode:function(a,b){this.__vp=[];this.callSuper(a,b)},getValue:function(){return this.__processValue(this.callSuper?this.callSuper():this.value,myt.ValueProcessor.CURRENT_ATTR)},setValue:function(a){void 0===a&&(a=this.getRollbackValue());this.value!==a&&(this.callSuper(a),this.verifyChangedState());return a},getDefaultValue:function(){return this.__processValue(this.defaultValue,myt.ValueProcessor.DEFAULT_ATTR)},setDefaultValue:function(a){this.defaultValue!==
a&&(this.defaultValue=a,this.inited&&this.fireEvent("defaultValue",a),this.verifyChangedState());return a},getRollbackValue:function(){return this.__processValue(this.rollbackValue,myt.ValueProcessor.ROLLBACK_ATTR)},setRollbackValue:function(a){void 0===a&&(a=this.getDefaultValue());this.rollbackValue!==a&&(this.rollbackValue=a,this.inited&&this.fireEvent("rollbackValue",a),this.verifyChangedState());return a},setValueProcessors:function(a){for(var b=a.length,c;b;)c=a[--b],"string"===typeof c&&((a[b]=
c=myt.global.valueProcessors.getValueProcessor(c))||a.splice(b,1));this.__vp=a},addValueProcessor:function(a){this.__vp.push(a)},removeValueProcessor:function(a){if(a)for(var b=this.__vp,c=b.length,d;c;)if(d=b[--c],d.id===a)return b.splice(c,1),d;return null},__processValue:function(a,b){for(var c=this.__vp,d=c.length,e,f=0;d>f;)e=c[f++],e[b]&&(a=e.process(a));return a},addSubForm:function(a){myt.dumpStack("addSubForm not supported on form elements.")},getSubForm:function(a){myt.dumpStack("getSubForm not supported on form elements.");
return null},removeSubForm:function(a){myt.dumpStack("removeSubForm not supported on form elements.");return null},verifyChangedState:function(a){a=this.getValue()!==this.getRollbackValue();this.setIsChanged(a);return a},setup:function(a,b,c){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(a);this.setRollbackValue(b);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(c)},resetForm:function(){this._lockCascade=
!0;var a=this.getDefaultValue();this.setRollbackValue(a);this.setValue(a);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}});
myt.Uploader=new JS.Class("Uploader",myt.View,{include:[myt.DragDropSupport,myt.Disableable,myt.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",MIME_TYPES_BY_EXTENSION:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},readFile:function(a,b){void 0!==FileReader&&(reader=new FileReader,reader.onload=b,reader.readAsDataURL(a))},isSameFile:function(a,b){return null==a||null==b?!1:a.name===b.name&&a.type===b.type&&a.size===b.size},createFile:function(a){var b=(new myt.URI(a)).file;
return{name:b,serverPath:a,size:-1,type:this.MIME_TYPES_BY_EXTENSION[myt.getExtension(b)]}}},initNode:function(a,b){var c=this;c.files=[];null==b.requestFileParam&&(b.requestFileParam="file");null==b.maxFiles&&(b.maxFiles=-1);c.callSuper(a,b);new myt.NativeInputWrapper(c,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:c.disabled,overflow:"hidden"},[myt.SizeToParent,{initNode:function(a,b){this.inputType="file";this.callSuper(a,b);this.attachToDom(this,"_handleInput",
"change");this.domElement.multiple=1<c.maxFiles},_handleInput:function(a){c.handleFiles(this.domElement.files,a)}}])},setValue:function(a){this.clearFiles();if(a){Array.isArray(a)||(a=[a]);for(var b=a.length,c=0;b>c;++c)this.addFile(myt.Uploader.createFile(a[c]))}return this.callSuper?this.callSuper(a):a},getValue:function(){return this.value},setDisabled:function(a){this.callSuper(a);this.fileInput&&this.fileInput.setDisabled(a)},setMaxFiles:function(a){this.maxFiles!==a&&(this.maxFiles=a,this.inited&&
this.fireEvent("maxFiles",a),this.fileInput&&(this.fileInput.domElement.multiple=1<a))},setUploadUrl:function(a){this.set("uploadUrl",a,!0)},setRequestFileParam:function(a){this.set("requestFileParam",a,!0)},bringSubviewToFront:function(a){a===this.fileInput?this.callSuper(a):this.sendSubviewBehind(a,this.fileInput)},subviewAdded:function(a){this.callSuper(a);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(a,b){this.addFile(a)},filterFiles:function(a){return 0<=
this.maxFiles&&this.files.length>=this.maxFiles?null:a},uploadFiles:function(a,b){a=a||this.uploadUrl;for(var c=this.files,d=c.length;d;)this.uploadFile(c[--d],a,b)},uploadFile:function(a,b,c){b=b||this.uploadUrl;c=c||this.requestFileParam;var d=this;b=new myt.Ajax(this,{url:b,requestMethod:"post",responseType:"json"},[{handleSuccess:function(b,c,e){this.callSuper(b,c,e);d.handleUploadSuccess(a,b,c,e)},handleFailure:function(b,c,e){this.callSuper(b,c,e);d.handleUploadFailure(a,b,c,e)}}]);var e=new FormData;
e.append(c,a,a.name);b.setRequestData(e);b.doRequest({contentType:!1,cache:!1,processData:!1})},handleUploadSuccess:function(a,b,c,d){a[myt.Uploader.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(b);this.updateValueFromFiles()},handleUploadFailure:function(a,b,c,d){myt.dumpStack("XHR failure: "+c+" : "+d)},parseServerPathFromResponse:function(a){return null},addFile:function(a){this.files.push(a);this.updateValueFromFiles();this.fireEvent("addFile",a)},removeFile:function(a){for(var b=this.files,
c=b.length;c;)if(myt.Uploader.isSameFile(b[--c],a)){b.splice(c,1);this.updateValueFromFiles();this.fireEvent("removeFile",a);break}},updateValueFromFiles:function(){for(var a=[],b=this.files,c=b.length,d;c;)(d=b[--c][myt.Uploader.FILE_ATTR_SERVER_PATH])&&a.push(d);b=a.length;this.value=1===b?a[0]:0===b?void 0:a;this.value||(this.fileInput.domElement.value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){for(var a=
this.files,b=a.length;b;)this.removeFile(a[--b])}});
myt.ImageUploader=new JS.Class("ImageUploader",myt.Uploader,{extend:{isImageFile:function(a){return/image/i.test(a.type)}},initNode:function(a,b){b.maxFiles=1;this.callSuper(a,b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.updateImageSize()},setHeight:function(a,b){this.callSuper(a,b);this.inited&&this.updateImageSize()},filterFiles:function(a){if(!myt.ImageUploader.isImageFile(a))return null;for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(a)},addFile:function(a){var b=
this;b.callSuper(a);var c=b.image=new myt.Image(b,{useNaturalSize:!1,align:"center",valign:"middle"});c.file=a;if(-1===a.size){var d=new Image;d.onload=function(){a.width=this.width;a.height=this.height;c&&!c.destroyed&&b.updateImage(a,c,this.src)};d.src=a.serverPath}else void 0!==FileReader&&myt.ImageUploader.isImageFile(a)&&myt.Uploader.readFile(a,function(d){var e=new Image;e.onload=function(){a.width=this.width;a.height=this.height;c&&!c.destroyed&&b.updateImage(a,c,this.src)};e.src=d.target.result})},
scaleToFit:function(a,b,c,d){return c/d>a/b?[a,d*a/c]:[c*b/d,b]},removeFile:function(a){this.callSuper(a);for(var b=this.getSubviews(),c=b.length,d;c;)if(d=b[--c],myt.Uploader.isSameFile(d.file,a)){d.destroy();break}},handleDroppedFile:function(a,b){this.callSuper(a,b);this.uploadFile(a,this.uploadUrl)},updateImage:function(a,b,c){this.nativeWidth=a.width;this.nativeHeight=a.height;this.updateImageSize();b.setImageUrl(c)},updateImageSize:function(){var a=this.image;if(a&&!a.destroyed){var b=this.scaleToFit(this.width,
this.height,this.nativeWidth,this.nativeHeight),c=Math.round(b[0]);b=Math.round(b[1]);a.setImageSize(c+"px "+b+"px");a.setWidth(c);a.setHeight(b)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}});
(function(a,b,c){function d(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f];if(g){var h=tinycolor(g),k=.5>h.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";k+=tinycolor.equals(c,g)?" sp-thumb-active":"";g="background-color:"+h.toHexString();e.push('<span title="'+h.toHexString()+'" data-color="'+h.toHexString()+'" class="'+k+'"><span class="sp-thumb-inner" style="'+g+';" /></span>')}else e.push(b("<div />").append(b('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",
d.noColorSelectedText)).html())}return"<div class='sp-cf'>"+e.join("")+"</div>"}function e(c,e){function m(){if(A.palette){w=A.palette.slice(0);x=Array.isArray(w[0])?w:[w];M={};for(var a=0;a<x.length;a++)for(var b=0;b<x[a].length;b++){var c=tinycolor(x[a][b]).toHexString();M[c]=!0}}H.toggleClass("sp-clear-enabled",S);J()}function n(){if(N&&a.localStorage)try{C=a.localStorage[N].split(";")}catch(ma){}}function u(c){if(X){c=tinycolor(c).toHexString();if(!M[c]&&-1===b.inArray(c,C))for(C.push(c);C.length>
la;)C.shift();if(N&&a.localStorage)try{a.localStorage[N]=C.join(";")}catch(na){}}}function t(){for(var a=[],b=0;b<C.length;b++){var c=tinycolor(C[b]).toHexString();M[c]||a.push(C[b])}return a.reverse().slice(0,A.maxSelectionSize)}function E(){var a=y(),c=b.map(x,function(b,c){return d(b,a,A)});n();if(C)for(var e=t(),f=0,g=e.length;g>f;f+=Y)c.push(d(e.slice(f,f+Y),a,A));ia.html(c.join(""))}function z(){(0>=K||0>=F||0>=T)&&J();H.addClass("sp-dragging");R=null;Z.trigger("dragstart.spectrum",[y()])}function B(){H.removeClass("sp-dragging");
Z.trigger("dragstop.spectrum",[y()])}function G(){var a=U.val();null!==a&&""!==a||!S?(a=tinycolor(a),a.isValid()?I(a):U.addClass("sp-validation-error")):I(null)}function I(a){tinycolor.equals(a,y())||(!a&&S?W=!0:(W=!1,a=tinycolor(a),a=a.toHsv(),O=a.h%360/360,P=a.s,L=a.v));q()}function y(){return S&&W?null:tinycolor.fromRatio({h:O,s:P,v:L})}function q(){U.removeClass("sp-validation-error");D();var a=tinycolor.fromRatio({h:O,s:1,v:1});ba.css("background-color",a.toHexString());a=(a=y())||!S?a.toHexString():
"";U.val(a);E();a=ja;var b=y();ka.html(d([a,b],b,A))}function D(){if(S&&W)ca.hide(),da.hide();else{ca.show();da.show();var a=P*F,b=K-L*K;a=Math.max(-Q,Math.min(F-Q,a-Q));b=Math.max(-Q,Math.min(K-Q,b-Q));da.css({top:b+"px",left:a+"px"});ca.css({top:O*T-v+"px"})}}function J(){F=ba.width();K=ba.height();Q=da.height();fa.width();T=fa.height();v=ca.height();D();E();Z.trigger("reflow.spectrum")}var A=myt.extend({},g,e),X=A.showSelectionPalette,N=A.localStorageKey,F=0,K=0,Q=0,T=0,v=0,O=0,P=0,L=0,w=[],x=
[],M={},C=A.selectionPalette.slice(0),Y=A.selectionWrapSize,la=A.maxSelectionSize,R=null;e=c.ownerDocument;var Z=b(c),H=b(l,e);H.find(".sp-picker-container");var ba=H.find(".sp-color"),da=H.find(".sp-dragger"),fa=H.find(".sp-hue"),ca=H.find(".sp-slider"),U=H.find(".sp-input"),ia=H.find(".sp-palette"),ka=H.find(".sp-initial"),ha=H.find(".sp-clear"),ea=A.color,ja=!1,W=!ea,S=A.allowEmpty;c=A.dialog;(function(){function a(a){I(b(a.target).closest(".sp-thumb-el").data("color"));q();return!1}k&&H.find("*:not(input)").attr("unselectable",
"on");m();S||ha.hide();Z.after(H).hide();n();U.change(G);U.bind("paste",function(){setTimeout(G,1)});U.keydown(function(a){13==a.keyCode&&G()});ha.attr("title",A.clearText);ha.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();W=!0;q()});f(fa,function(a,b){O=parseFloat(b/T);W=!1;q()},z,B);f(ba,function(a,b,c){c.shiftKey?R||(R=Math.abs(a-P*F)>Math.abs(b-(K-L*K))?"x":"y"):R=null;c=!R||"y"===R;R&&"x"!==R||(P=parseFloat(a/F));c&&(L=parseFloat((K-b)/K));W=!1;q()},z,B);ea&&(I(ea),
u(ea));J();ja=y();q();var c=k?"mousedown.spectrum":"click.spectrum";ia.delegate(".sp-thumb-el",c,a);ka.delegate(".sp-thumb-el:nth-child(1)",c,a)})();var aa={reflow:J,option:function(a,b){if(null==a)return myt.extend({},A);if(null==b)return A[a];A[a]=b;m()},set:I,addColorToSelectionPalette:u,get:y,destroy:function(){Z.show();H.remove();h[aa.id]=null},container:H};aa.id=h.push(aa)-1;c._spectrumCallback(aa);return aa}function f(a,c,d,e){function f(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&
a.preventDefault();a.returnValue=!1}function g(b){if(m){if(k&&9>document.documentMode&&!b.button)return h();c.apply(a,[Math.max(0,Math.min(b.pageX-n.left,y)),Math.max(0,Math.min(b.pageY-n.top,p)),b])}}function h(){m&&(b(l).unbind(q),b(l.body).removeClass("sp-dragging"),e.apply(a,arguments));m=!1}c=c||function(){};d=d||function(){};e=e||function(){};var l=a.ownerDocument||document,m=!1,n={},p=0,y=0,q={};q.selectstart=f;q.dragstart=f;q.mousemove=g;q.mouseup=h;b(a).bind("mousedown",function(c){(c.which?
3==c.which:2==c.button)||m||!1===d.apply(a,arguments)||(m=!0,p=b(a).height(),y=b(a).width(),n=b(a).offset(),b(l).bind(q),b(l.body).addClass("sp-dragging"),g(c),f(c))})}var g={color:!1,allowEmpty:!0,showSelectionPalette:!0,localStorageKey:!1,selectionWrapSize:8,maxSelectionSize:56,clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",palette:[],selectionPalette:[]},h=[],k="Explorer"===BrowserDetect.browser,l=function(){var a="";if(k)for(var b=1;6>=b;b++)a+="<div class='sp-"+b+"'></div>";
return["<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div>",a,"</div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'/></div><div class='sp-initial sp-thumb sp-cf'></div></div></div>"].join("")}();
b.fn.spectrum=function(a,c){if("string"==typeof a){var d=this,f=Array.prototype.slice.call(arguments,1);this.each(function(){var c=h[b(this).data("spectrum.id")];if(c){var e=c[a];if(!e)throw Error("Spectrum: no such method: '"+a+"'");"get"==a?d=c.get():"container"==a?d=c.container:"option"==a?d=c.option.apply(c,f):"destroy"==a?(c.destroy(),b(this).removeData("spectrum.id")):e.apply(c,f)}});return d}return this.spectrum("destroy").each(function(){var c=myt.extend({},a,b(this).data());c=e(this,c);b(this).data("spectrum.id",
c.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.draggable=f;b.fn.spectrum.defaults=g;b.spectrum={};(function(){function b(a,b){var c="string"==typeof a;c&&-1!=a.indexOf(".")&&1===parseFloat(a)&&(a="100%");c=c&&-1!=a.indexOf("%");a=g(b,h(0,parseFloat(a)));c&&(a=parseInt(a*b,10)/100);return 1E-6>e.abs(a-b)?1:a%b/parseFloat(b)}function c(a){return 1>=a?100*a+"%":a}var d=/^[#]+/,e=Math,f=e.round,g=e.min,h=e.max,k=function I(a){a=a?a:"";if(a instanceof I)return a;if(!(this instanceof I))return new I(a);var k=
0,m=0,n=0,p=!1;if("string"==typeof a){a=a.trim().toLowerCase().replace(d,"");var t;a=(t=l.rgb.exec(a))?{r:t[1],g:t[2],b:t[3]}:(t=l.hex6.exec(a))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:!1}if("object"==typeof a)if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b"))m=a.g,n=a.b,k=255*b(a.r,255),m=255*b(m,255),n=255*b(n,255),p=!0;else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){a.s=c(a.s);a.v=c(a.v);n=a.h;k=a.s;a=a.v;n=6*b(n,360);k=b(k,
100);a=b(a,100);m=e.floor(n);t=n-m;n=a*(1-k);p=a*(1-t*k);t=a*(1-(1-t)*k);var r=m%6;k=255*[a,p,n,n,t,a][r];m=255*[t,a,a,p,n,n][r];n=255*[n,n,t,a,a,p][r];p=!0}this._r=g(255,h(k,0));this._g=g(255,h(m,0));this._b=g(255,h(n,0));this._ok=p;1>this._r&&(this._r=f(this._r));1>this._g&&(this._g=f(this._g));1>this._b&&(this._b=f(this._b))};k.prototype={isValid:function(){return this._ok},toHsv:function(){var a=this._r,c=this._g,d=this._b;a=b(a,255);c=b(c,255);d=b(d,255);var e=h(a,c,d),f=g(a,c,d),k=e-f;if(e==
f)var l=0;else{switch(e){case a:l=(c-d)/k+(c<d?6:0);break;case c:l=(d-a)/k+2;break;case d:l=(a-c)/k+4}l/=6}return{h:360*l,s:0===e?0:k/e,v:e}},toHsl:function(){var a=this._r,c=this._g,d=this._b;a=b(a,255);c=b(c,255);d=b(d,255);var e=h(a,c,d),f=g(a,c,d),k=(e+f)/2;if(e==f)var l=f=0;else{var n=e-f;f=.5<k?n/(2-e-f):n/(e+f);switch(e){case a:l=(c-d)/n+(c<d?6:0);break;case c:l=(d-a)/n+2;break;case d:l=(a-c)/n+4}l/=6}return{h:360*l,s:f,l:k}},toHexString:function(){return myt.Color.rgbToHex(this._r,this._g,
this._b,!0)}};k.fromRatio=function(a){if("object"==typeof a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[d]=c(a[d]));a=b}return k(a)};k.equals=function(a,b){return a&&b?k(a).toHexString()==k(b).toHexString():!1};var l={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};a.tinycolor=k})()})(window,jQuery);
(function(a,b,c){var d={en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"},ro:{days:"Dum Lun Mar Mie Joi Vin S\u00e2m".split(" "),months:"Ian Feb Mar Apr Mai Iun Iul Aug Sep Oct Nov Dec".split(" "),sep:".",prevMonth:"Luna precedent\u0103",nextMonth:"Luna urm\u0103toare",today:"Azi"},ja:{days:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),months:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),
sep:"/"},ru:{days:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),months:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" ")},br:{days:"Dom Seg Ter Qua Qui Sex S\u00e1b".split(" "),months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" ")},
pt:{days:"dom seg ter qua qui sex s\u00e1b".split(" "),months:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" ")},cn:{days:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},de:{days:"So Mo Di Mi Do Fr Sa".split(" "),months:"Jan Feb M\u00e4rz Apr Mai Juni Juli Aug Sept Okt Nov Dez".split(" ")},
sv:{days:"S\u00f6 M\u00e5 Ti On To Fr L\u00f6".split(" "),months:"Jan Feb Mar Apr Maj Juni Juli Aug Sept Okt Nov Dec".split(" ")},id:{days:"Min Sen Sel Rab Kam Jum Sab".split(" "),months:"Jan Feb Mar Apr Mei Jun Jul Agu Sep Okt Nov Des".split(" ")},it:{days:"Dom Lun Mar Mer Gio Ven Sab".split(" "),months:"Gen Feb Mar Apr Mag Giu Lug Ago Set Ott Nov Dic".split(" ")},tr:{days:"Pz Pzt Sal \u00c7ar Per Cu Cts".split(" "),months:"Ock \u015eub Mar Nis May Haz Tem Agu Eyl Ekm Kas Arlk".split(" ")},es:{days:"dom lun mar mi\u00e9r jue vi\u00e9 s\u00e1b".split(" "),
months:"ene feb mar abr may jun jul ago sep oct nov dic".split(" ")},ko:{days:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ")},nl:{days:"zo ma di wo do vr za".split(" "),months:"jan feb mrt apr mei jun jul aug sep okt nov dec".split(" ")},cz:{days:"Ne Po \u00dat St \u010ct P\u00e1 So".split(" "),months:"Led \u00dano B\u0159e Dub Kv\u011b \u010cer \u010cvc Srp Z\u00e1\u0159 \u0158\u00edj Lis Pro".split(" ")},
fr:{days:"Dim Lun Mar Mer Jeu Ven Sam".split(" "),months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" ")},pl:{days:"N Pn Wt \u015ar Cz Pt So".split(" "),months:"Stycze\u0144 Luty Marzec Kwiecie\u0144 Maj Czerwiec Lipiec Sierpie\u0144 Wrzesie\u0144 Pa\u017adziernik Listopad Grudzie\u0144".split(" "),prevMonth:"Poprzedni miesi\u0105c",nextMonth:"Nast\u0119pny miesi\u0105c",today:"Dzisiaj"},gr:{days:"\u039a\u03c5 \u0394\u03b5 \u03a4\u03c1 \u03a4\u03b5 \u03a0\u03b5 \u03a0\u03b1 \u03a3\u03b1".split(" "),
months:"\u0399\u03b1\u03bd \u03a6\u03b5\u03b2 \u039c\u03b1\u03c1 \u0391\u03c0\u03c1 \u039c\u03b1\u03ca \u0399\u03bf\u03c5\u03bd \u0399\u03bf\u03c5\u03bb \u0391\u03c5\u03b3 \u03a3\u03b5\u03c0 \u039f\u03ba\u03c4 \u039d\u03bf\u03b5 \u0394\u03b5\u03ba".split(" "),prevMonth:"\u03a0\u03c1\u03bf\u03b7\u03b3. \u03bc\u03ae\u03bd\u03b1\u03c2",nextMonth:"\u0395\u03c0\u03cc\u03bc. \u03bc\u03ae\u03bd\u03b1\u03c2",today:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1"}},e=function(a){return b(a).closest(".datepicker")},
f=function(a){a=e(a);var b=h(a);b.setDate(b.getDate()-1);l(a,b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes())},g=function(a){a=e(a);var b=h(a);b.setDate(b.getDate()+1);l(a,b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes())},h=function(a){return e(a).data("pickedDate")},k=function(a,b){return"undefined"!==typeof d[a][b]?d[a][b]:d.en[b]},l=function(a,c,f,g,u,t){c=null!=u?new Date(c,f,g,u,t,0):null!=c?new Date(c,f,g):new Date;var m=a.data("todayButton");f=a.data("futureOnly");
g=a.data("minDate");u=a.data("maxDate");t=a.data("minuteInterval");var n=a.data("firstDayOfWeek"),p=a.data("allowWdays");if(null==p||!1===Array.isArray(p)||0>=p.length)p=null;var r=a.data("minTime"),I=a.data("maxTime"),y=new Date;f&&c.getTime()<y.getTime()&&c.setTime(y.getTime());if(null!=p&&6>=p.length)for(;;)if(-1==b.inArray(c.getDay(),p))c.setDate(c.getDate()+1);else break;var q=a.data("locale");d.hasOwnProperty(q)||(q="en");var D=(new Date(c.getFullYear(),c.getMonth(),1)).getDay()-n,J=(new Date(c.getFullYear(),
c.getMonth()+1,0)).getDate(),A=(new Date(c.getFullYear(),c.getMonth(),0)).getDate(),X=new Date(c.getFullYear(),c.getMonth(),0),N=new Date(c.getFullYear(),c.getMonth()+2,0),F=y.getFullYear()==c.getFullYear(),K=F&&y.getMonth()==c.getMonth(),Q=K&&y.getDate()==c.getDate(),T=!1;if(c.getFullYear()<y.getFullYear()||F&&c.getMonth()<y.getMonth())T=!0;var v=a.children(".datepicker_header");a.children(".datepicker_inner_container");var O=a.children(".datepicker_inner_container").children(".datepicker_calendar"),
P=O.children(".datepicker_table");F=a.children(".datepicker_inner_container").children(".datepicker_timelist");var L=h(a);null==L||L.getMonth()!=c.getMonth()||L.getDate()!=c.getDate()||L.getHours()==c.getHours()&&L.getMinutes()==c.getMinutes()||0===c.getMinutes()||c.getMinutes();b(a).data("pickedDate",c);b.fn.dtpicker.dialog._dtpickerCallback(c);L=F.scrollTop();if(!0===a.data("timeOnly"))O.css("border-right","0px"),F.css("width","130px");else{v.children().remove();var w=new Date(c.getTime());w.setMinutes(59);
w.setHours(23);w.setSeconds(59);w.setDate(0);var x=null;f&&K||!(null==g||g<w.getTime())?a.data("stateAllowBeforeMonth",!1):(x=b("<a>"),x.text("<"),x.prop("alt",k(q,"prevMonth")),x.prop("title",k(q,"prevMonth")),x.click(function(){var b=e(a);if(!1!==b.data("stateAllowBeforeMonth")){var c=h(b),d=(new Date(c.getFullYear(),c.getMonth(),0)).getDate();d<c.getDate()&&c.setDate(d);l(b,c.getFullYear(),c.getMonth()-1,c.getDate(),c.getHours(),c.getMinutes());var f=new Date;f.getFullYear()==c.getFullYear()&&
f.getMonth()==c.getMonth()&&b.data("futureOnly")||(d<c.getDate()&&c.setDate(d),l(b,c.getFullYear(),c.getMonth()-1,c.getDate(),c.getHours(),c.getMinutes()))}}),a.data("stateAllowBeforeMonth",!0));w.setMinutes(0);w.setHours(0);w.setSeconds(0);w.setDate(1);w.setMonth(c.getMonth()+1);var M=b("<span>");M.text(c.getFullYear()+" "+k(q,"sep")+" "+k(q,"months")[c.getMonth()]);var C=null;if(null==u||u>w.getTime())C=b("<a>"),C.text(">"),C.prop("alt",k(q,"nextMonth")),C.prop("title",k(q,"nextMonth")),C.click(function(){var b=
e(a),c=h(b),d=(new Date(c.getFullYear(),c.getMonth()+1,0)).getDate();d<c.getDate()&&c.setDate(d);d=(new Date(c.getFullYear(),c.getMonth()+2,0)).getDate();d<c.getDate()&&c.setDate(d);l(b,c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes())});m&&(m=b("<a/>"),m.html(decodeURIComponent("%3c%3fxml%20version%3d%221%2e0%22%20encoding%3d%22UTF%2d8%22%20standalone%3d%22no%22%3f%3e%3csvg%20%20xmlns%3adc%3d%22http%3a%2f%2fpurl%2eorg%2fdc%2felements%2f1%2e1%2f%22%20%20xmlns%3acc%3d%22http%3a%2f%2fcreativecommons%2eorg%2fns%23%22%20xmlns%3ardf%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f1999%2f02%2f22%2drdf%2dsyntax%2dns%23%22%20%20xmlns%3asvg%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20%20version%3d%221%2e1%22%20%20width%3d%22100%25%22%20%20height%3d%22100%25%22%20viewBox%3d%220%200%2010%2010%22%3e%3cg%20transform%3d%22translate%28%2d5%2e5772299%2c%2d26%2e54581%29%22%3e%3cpath%20d%3d%22m%2014%2e149807%2c31%2e130932%20c%200%2c%2d0%2e01241%200%2c%2d0%2e02481%20%2d0%2e0062%2c%2d0%2e03721%20L%2010%2e57723%2c28%2e153784%207%2e0108528%2c31%2e093719%20c%200%2c0%2e01241%20%2d0%2e0062%2c0%2e02481%20%2d0%2e0062%2c0%2e03721%20l%200%2c2%2e97715%20c%200%2c0%2e217084%200%2e1798696%2c0%2e396953%200%2e3969534%2c0%2e396953%20l%202%2e3817196%2c0%200%2c%2d2%2e38172%201%2e5878132%2c0%200%2c2%2e38172%202%2e381719%2c0%20c%200%2e217084%2c0%200%2e396953%2c%2d0%2e179869%200%2e396953%2c%2d0%2e396953%20l%200%2c%2d2%2e97715%20m%201%2e383134%2c%2d0%2e427964%20c%200%2e06823%2c%2d0%2e08063%200%2e05582%2c%2d0%2e210882%20%2d0%2e02481%2c%2d0%2e279108%20l%20%2d1%2e358324%2c%2d1%2e128837%200%2c%2d2%2e530576%20c%200%2c%2d0%2e111643%20%2d0%2e08683%2c%2d0%2e198477%20%2d0%2e198477%2c%2d0%2e198477%20l%20%2d1%2e190859%2c0%20c%20%2d0%2e111643%2c0%20%2d0%2e198477%2c0%2e08683%20%2d0%2e198477%2c0%2e198477%20l%200%2c1%2e209467%20%2d1%2e513384%2c%2d1%2e265289%20c%20%2d0%2e2605%2c%2d0%2e217083%20%2d0%2e682264%2c%2d0%2e217083%20%2d0%2e942764%2c0%20L%205%2e6463253%2c30%2e42386%20c%20%2d0%2e080631%2c0%2e06823%20%2d0%2e093036%2c0%2e198476%20%2d0%2e024809%2c0%2e279108%20l%200%2e3845485%2c0%2e458976%20c%200%2e031012%2c0%2e03721%200%2e080631%2c0%2e06203%200%2e1302503%2c0%2e06823%200%2e055821%2c0%2e0062%200%2e1054407%2c%2d0%2e01241%200%2e1488574%2c%2d0%2e04342%20l%204%2e2920565%2c%2d3%2e578782%204%2e292058%2c3%2e578782%20c%200%2e03721%2c0%2e03101%200%2e08063%2c0%2e04342%200%2e13025%2c0%2e04342%200%2e0062%2c0%200%2e01241%2c0%200%2e01861%2c0%200%2e04962%2c%2d0%2e0062%200%2e09924%2c%2d0%2e03101%200%2e130251%2c%2d0%2e06823%20l%200%2e384549%2c%2d0%2e458976%22%20%2f%3e%3c%2fg%3e%3c%2fsvg%3e")),
m.addClass("icon-home"),m.prop("alt",k(q,"today")),m.prop("title",k(q,"today")),m.click(function(){var b=new Date;l(e(a),b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes())}),v.append(m));null!=x&&v.append(x);v.append(M);null!=C&&v.append(C);P.children().remove();m=b("<tr>");P.append(m);n=7+n;q=k(q,"days");for(x=0;7>x;x++)v=b("<th>"),v.text(q[(x+n)%7]),m.append(v);M=7*Math.ceil((D+J)/7);x=0;0>D&&(x=-7);q=new Date(c.getTime());q.setHours(0);q.setMinutes(0);for(q.setSeconds(0);x<M;x++){w=
x+1-D;C=T||K&&w<y.getDate();0===x%7&&(m=b("<tr>"),P.append(m));v=b("<td>");v.data("day",w);m.append(v);D>x?(v.text(A+w),v.addClass("day_another_month"),v.data("dateStr",X.getFullYear()+"/"+(X.getMonth()+1)+"/"+(A+w)),q.setDate(A+w),q.setMonth(X.getMonth()),q.setYear(X.getFullYear())):x<D+J?(v.text(w),v.data("dateStr",c.getFullYear()+"/"+(c.getMonth()+1)+"/"+w),q.setDate(w),q.setMonth(c.getMonth()),q.setYear(c.getFullYear())):(v.text(w-J),v.addClass("day_another_month"),v.data("dateStr",N.getFullYear()+
"/"+(N.getMonth()+1)+"/"+(w-J)),q.setDate(w-J),q.setMonth(N.getMonth()),q.setYear(N.getFullYear()));var Y=(x+n)%7;if(null!=p){if(-1==b.inArray(Y,p)){v.addClass("day_in_unallowed");continue}}else 0===Y?v.addClass("wday_sun"):6==Y&&v.addClass("wday_sat");w==c.getDate()&&v.addClass("active");K&&w==y.getDate()&&v.addClass("today");w=new Date(q.getTime());w.setHours(23);w.setMinutes(59);w.setSeconds(59);null!=g&&g>w.getTime()||null!=u&&u<q.getTime()?v.addClass("out_of_range"):f&&C?v.addClass("day_in_past"):
(v.click(function(){b(this).hasClass("hover")&&b(this).removeClass("hover");b(this).addClass("active");var a=e(b(this)),c=new Date(b(this).data("dateStr")),d=h(a);l(a,c.getFullYear(),c.getMonth(),c.getDate(),d.getHours(),d.getMinutes())}),v.hover(function(){b(this).hasClass("active")||b(this).addClass("hover")},function(){b(this).hasClass("hover")&&b(this).removeClass("hover")}))}}if(!0===a.data("dateOnly"))F.css("display","none"),O.css("border-right","0px");else{F.children().remove();q=new Date(c.getTime());
F.css("height","175px");p=r[0];for(r=r[1];100*p+r<100*I[0]+I[1];)D=b("<div>"),J=p<y.getHours()||p==y.getHours()&&r<y.getMinutes(),J=Q&&J,D.addClass("timelist_item"),D.text(("0"+p).slice(-2)+":"+("0"+r).slice(-2)),D.data("hour",p),D.data("min",r),F.append(D),q.setHours(p),q.setMinutes(r),null!=g&&g>q.getTime()||null!=u&&u<q.getTime()?D.addClass("out_of_range"):f&&J?D.addClass("time_in_past"):(D.click(function(){b(this).hasClass("hover")&&b(this).removeClass("hover");b(this).addClass("active");var a=
e(b(this)),c=h(a),d=b(this).data("hour"),f=b(this).data("min");l(a,c.getFullYear(),c.getMonth(),c.getDate(),d,f)}),D.hover(function(){b(this).hasClass("active")||b(this).addClass("hover")},function(){b(this).hasClass("hover")&&b(this).removeClass("hover")})),p==c.getHours()&&r==c.getMinutes()&&(D.addClass("active"),D.offset()),r+=t,60<=r&&(r-=60,p++);F.scrollTop(L)}};b.fn.dtpicker=function(c){var d=c.dialog,h=b.extend({current:null,locale:"en",minuteInterval:30,firstDayOfWeek:0,todayButton:!0,dateOnly:!1,
timeOnly:!1,futureOnly:!1,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowWdays:null},c);c=b("<div>");c.addClass("datepicker");b(this).append(c);h.current||(h.current=new Date);c.data("dateOnly",h.dateOnly);c.data("timeOnly",h.timeOnly);c.data("locale",h.locale);c.data("firstDayOfWeek",h.firstDayOfWeek);c.data("todayButton",h.todayButton);c.data("futureOnly",h.futureOnly);c.data("allowWdays",h.allowWdays);var k=Date.parse(h.minDate);c.data("minDate",isNaN(k)?null:k);k=Date.parse(h.maxDate);
c.data("maxDate",isNaN(k)?null:k);c.data("state",0);5<=h.minuteInterval&&30>=h.minuteInterval?c.data("minuteInterval",h.minuteInterval):c.data("minuteInterval",30);h.minTime=h.minTime.split(":");h.maxTime=h.maxTime.split(":");0<=h.minTime[0]&&24>h.minTime[0]||(h.minTime[0]="00");0<=h.maxTime[0]&&24>h.maxTime[0]||(h.maxTime[0]="23");0<=h.minTime[1]&&60>h.minTime[1]||(h.minTime[1]="00");0<=h.maxTime[1]&&24>h.maxTime[1]||(h.maxTime[1]="59");h.minTime[0]=parseInt(h.minTime[0]);h.minTime[1]=parseInt(h.minTime[1]);
h.maxTime[0]=parseInt(h.maxTime[0]);h.maxTime[1]=parseInt(h.maxTime[1]);c.data("minTime",h.minTime);c.data("maxTime",h.maxTime);k=b("<div>");k.addClass("datepicker_header");c.append(k);k=b("<div>");k.addClass("datepicker_inner_container");c.append(k);var m=b("<div>");m.addClass("datepicker_calendar");m.css("height","175px");var t=b("<table>");t.addClass("datepicker_table");m.append(t);k.append(m);t=b("<div>");t.addClass("datepicker_timelist");k.append(t);a.sidebar?m.bind("DOMMouseScroll",function(a){var c=
e(b(this));0<a.originalEvent.detail?g(c):f(c);return!1}):m.bind("mousewheel",function(a){var c=e(b(this)),d=b.fn.dtpicker;null==d._delta&&(d._delta=0);a=d._delta+=a.originalEvent.wheelDeltaY;75<a?(d._delta-=75,f(c)):-75>a&&(d._delta+=75,g(c));return!1});b.fn.dtpicker.dialog=d;d=h.current;l(c,d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes())}})(window,jQuery);
myt.Dimmer=new JS.Class("Dimmer",myt.View,{include:[myt.SizeToParent],extend:{DEFAULT_OPACITY:.35,DEFAULT_COLOR:"#000000"},initNode:function(a,b){this.restoreFocus=!0;b.focusable=b.focusCage=!0;null==b.percentOfParentWidth&&(b.percentOfParentWidth=100);null==b.percentOfParentHeight&&(b.percentOfParentHeight=100);null==b.visible&&(b.visible=!1);null==b.ignoreLayout&&(b.ignoreLayout=!0);this.callSuper(a,b);this.attachDomObserver(this,"eatMouseEvent","mouseover");this.attachDomObserver(this,"eatMouseEvent",
"mouseout");this.attachDomObserver(this,"eatMouseEvent","mousedown");this.attachDomObserver(this,"eatMouseEvent","mouseup");this.attachDomObserver(this,"eatMouseEvent","click");this.attachDomObserver(this,"eatMouseEvent","dblclick");this.attachDomObserver(this,"eatMouseEvent","mousemove");myt.RootView.setupCaptureDrop(this)},doBeforeAdoption:function(){this.callSuper();var a=myt,b=a.Dimmer;new a.View(this,{name:"overlay",ignorePlacement:!0,opacity:b.DEFAULT_OPACITY,bgColor:b.DEFAULT_COLOR,percentOfParentWidth:100,
percentOfParentHeight:100},[a.SizeToParent])},destroyAfterOrphaning:function(){myt.RootView.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(a){this.restoreFocus=a},eatMouseEvent:function(a){return!0},show:function(){var a=myt.global.focus;this.prevFocus=a.focusedView||a.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(a){this.setVisible(!1);!a&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus()}});
myt.SizeToChildren=new JS.Class("SizeToChildren",myt.Layout,{initNode:function(a,b){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(a,b)},setAxis:function(a){this.axis!==a&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=a,this.startMonitoringAllSubviews(),this.fireEvent("axis",a),this.update()):this.axis=a)},setPaddingX:function(a){this.paddingX!==a&&(this.paddingX=a,this.inited&&(this.fireEvent("paddingX",a),this.update()))},setPaddingY:function(a){this.paddingY!==a&&(this.paddingY=
a,this.inited&&(this.fireEvent("paddingY",a),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();var a=this.parent;if(!a.isBeingDestroyed){var b=this.subviews,c=b.length,d,e=this.axis,f=Math.max;if("y"!==e){var g=c;for(d=0;g;){var h=b[--g];if(h.visible){var k=h.boundsWidth;k=0<k?k:0;d=f(d,h.x+k)}}a.setWidth(d+this.paddingX)}if("x"!==e){g=c;for(d=0;g;)h=b[--g],h.visible&&(k=h.boundsHeight,k=0<k?k:0,d=f(d,h.y+k));a.setHeight(d+this.paddingY)}}this.decrementLockedCounter()}},
startMonitoringSubview:function(a){this.__updateMonitoringSubview(a,this.attachTo)},stopMonitoringSubview:function(a){this.__updateMonitoringSubview(a,this.detachFrom)},__updateMonitoringSubview:function(a,b){var c=this.axis;b=b.bind(this);"y"!==c&&(b(a,"update","x"),b(a,"update","boundsWidth"));"x"!==c&&(b(a,"update","y"),b(a,"update","boundsHeight"));b(a,"update","visible")}});
myt.ModalPanel=new JS.Class("ModalPanel",myt.Dimmer,{extend:{DEFAULT_PADDING_X:20,DEFAULT_PADDING_Y:15,DEFAULT_MARGIN_TOP:40,DEFAULT_MARGIN_LEFT:40,DEFAULT_MARGIN_BOTTOM:40,DEFAULT_MARGIN_RIGHT:40},initNode:function(a,b){this.defaultPlacement="content";null==b.sizingStrategy&&(b.sizingStrategy="children");var c=myt.ModalPanel;null==b.marginTop&&(b.marginTop=c.DEFAULT_MARGIN_TOP);null==b.marginLeft&&(b.marginLeft=c.DEFAULT_MARGIN_LEFT);null==b.marginBottom&&(b.marginBottom=c.DEFAULT_MARGIN_BOTTOM);
null==b.marginRight&&(b.marginRight=c.DEFAULT_MARGIN_RIGHT);null==b.paddingX&&(b.paddingX=c.DEFAULT_PADDING_X);null==b.paddingY&&(b.paddingY=c.DEFAULT_PADDING_Y);this.callSuper(a,b)},doBeforeAdoption:function(){var a=myt,b=a.View,c={name:"content",ignorePlacement:!0},d=a.extend({},c,{align:"center",valign:"middle"});this.callSuper();switch(this.sizingStrategy){case "children":new a.SizeToChildren(new b(this,d),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;
case "parent":new b(this,a.extend(c,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[a.SizeToParent]);break;case "basic":new b(this,d);break;default:new b(this,c)}},setSizingStrategy:function(a){this.sizingStrategy=a},setMarginTop:function(a){this.marginTop=a},setMarginLeft:function(a){this.marginLeft=a},setMarginBottom:function(a){this.marginBottom=
a},setMarginRight:function(a){this.marginRight=a},setPaddingX:function(a){this.paddingX=a},setPaddingY:function(a){this.paddingY=a}});
myt.Spinner=new JS.Class("Spinner",myt.View,{initNode:function(a,b){this.lateAttrs=["spinColor"];null==b.visible&&(b.visible=!1);null==b.borderWidth&&(b.borderWidth=5);null==b.borderColor&&(b.borderColor="#ffffff");null==b.borderStyle&&(b.borderStyle="solid");null==b.spinColor&&(b.spinColor="#000000");this.callSuper(a,b);this.deStyle.borderRadius="50%";this._updateSize();this._spin()},setSize:function(a){this.size!==a&&(this.size=a,this.inited&&this._updateSize())},setSpinColor:function(a){this.spinColor!==
a&&(this.deStyle.borderTopColor=this.spinColor=a,this.inited&&this.fireEvent("spinColor",a))},setBorderWidth:function(a){this.borderWidth!==a&&(this.callSuper(a),this.inited&&this._updateSize())},setVisible:function(a){this.visible!==a&&(this.callSuper(a),this.inited&&this._spin())},_spin:function(){this[this.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},_updateSize:function(){var a=this.size,b=this.deStyle;this.setWidth(a);this.setHeight(a);b.width=b.height=a-2*this.borderWidth+"px"}});
myt.DialogButton=new JS.Class("DialogButton",myt.SimpleButton,{initNode:function(a,b){null==b.height&&(b.height=20);null==b.shrinkToFit&&(b.shrinkToFit=!0);null==b.inset&&(b.inset=10);null==b.outset&&(b.outset=10);null==b.textY&&(b.textY=3);null==b.roundedCorners&&(b.roundedCorners=5);null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.readyColor&&(b.readyColor="#cccccc");null==b.textColor&&(b.textColor="#000000");var c=b.fontSize,d=b.shrinkToFit,e=
b.text||"";delete b.fontSize;delete b.shrinkToFit;delete b.text;this.callSuper(a,b);a=this.textView=new myt.Text(this,{x:this.inset,y:this.textY,text:e,fontSize:c,whiteSpace:"nowrap",domClass:"myt-Text mytButtonText"});d&&this.applyConstraint("__update",[this,"inset",this,"outset",a,"width"])},setText:function(a){this.inited&&this.textView.setText(a)},setTooltip:function(a){this.getInnerDomElement().title=a},__update:function(a){if(!this.destroyed){a=this.inset;var b=this.textView;b.setX(a);this.setWidth(a+
b.width+this.outset)}}});
myt.Dialog=new JS.Class("Dialog",myt.ModalPanel,{extend:{DEFAULT_RADIUS:12,DEFAULT_SHADOW:[0,4,20,"#666666"],DEFAULT_BORDER:[1,"solid","#ffffff"],DEFAULT_BGCOLOR:"#ffffff",DEFAULT_BUTTON_CLASS:myt.DialogButton,WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300},PICKER_DEFAULTS:{cancelTxt:"Cancel",
confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000000"}},initNode:function(a,b){null==b.buttonClass&&(b.buttonClass=myt.Dialog.DEFAULT_BUTTON_CLASS);this.callSuper(a,b)},doAfterAdoption:function(){this.setupDialog();this.callSuper()},setButtonClass:function(a){this.buttonClass=a},setDisplayMode:function(a){this.displayMode=a},setCallbackFunction:function(a){this.callbackFunction=
a},setupDialog:function(){var a=myt.Dialog,b=this.content;b.setRoundedCorners(a.DEFAULT_RADIUS);b.setBgColor(a.DEFAULT_BGCOLOR);b.setBoxShadow(a.DEFAULT_SHADOW);b.setBorder(a.DEFAULT_BORDER);b.setFocusCage(!0);this.createCloseButton(b,this)},createCloseButton:function(a,b,c,d,e,f){return new this.buttonClass(a,{name:"closeBtn",ignoreLayout:!0,width:16,height:16,y:4,align:"right",alignOffset:4,inset:3,textY:1,shrinkToFit:!1,roundedCorners:8,activeColor:d||"#cc0000",hoverColor:c||"#ff3333",readyColor:e||
"#ff0000",textColor:"#ffffff",fontSize:"12.5px",text:myt.FontAwesome.makeTag(["close"]),tooltip:"Close Dialog."},[{doActivated:function(){b.doCallback(this)}}])},hide:function(a){this.__hideSpinner();this.callSuper(a)},__hideSpinner:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0)},eatMouseEvent:function(a){"message"===this.displayMode&&this.content.closeBtn.focus();return this.callSuper(a)},__destroyContent:function(){this.__hideSpinner();for(var a=myt,b=a.ModalPanel,c=
a.Dialog,d=this.content,e=d.sizeToChildren,f=d.getSubviews(),g=f.length,h;g;)h=f[--g],"closeBtn"!==h.name&&h.destroy();d.setVisible(!0);this.overlay.setBgColor(a.Dimmer.DEFAULT_COLOR);this.setCallbackFunction();e.setPaddingY(b.DEFAULT_PADDING_Y);e.setPaddingX(b.DEFAULT_PADDING_X);d.setRoundedCorners(c.DEFAULT_RADIUS);d.setBgColor(c.DEFAULT_BGCOLOR);d.setBoxShadow(c.DEFAULT_SHADOW);d.setBorder(c.DEFAULT_BORDER)},doCallback:function(a){var b=this.callbackFunction;b&&b.call(this,a.name)||this.hide()},
showBlank:function(a){this.__destroyContent();this.content.setVisible(!1);a&&a.bgColor&&this.overlay.setBgColor(a.bgColor);this.show();this.setDisplayMode("blank")},showMessage:function(a,b,c){var d=myt,e=d.ModalPanel,f=d.Dialog,g=this.content,h=g.closeBtn;c=d.extend({},f.WRAP_TEXT_DEFAULTS,c);this.__destroyContent();this.setCallbackFunction(b);a=new d.Text(g,{name:"msg",text:a,whiteSpace:c.whiteSpace,wordWrap:c.wordWrap,fontWeight:c.fontWeight,x:null==c.msgX?e.DEFAULT_PADDING_X:c.msgX,y:null==c.msgY?
e.DEFAULT_PADDING_Y:c.msgY,width:c.width});c.titleText&&(this.setupTitle(g,c.titleText,f.DEFAULT_RADIUS),a.setY(a.y+24));this.show();h.setVisible(!0);h.focus();this.setDisplayMode("message")},showSimple:function(a,b,c){var d=myt,e=this.content,f=e.closeBtn;c=c||{};var g=c.maxContainerHeight;this.__destroyContent();c.bgColor&&e.setBgColor(c.bgColor);c.roundedCorners&&e.setRoundedCorners(c.roundedCorners);c.boxShadow&&e.setBoxShadow(c.boxShadow);c.border&&e.setBorder(c.border);e.sizeToChildren.setPaddingX(1);
this.setCallbackFunction(b);b=new d.View(e,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){a>g&&(a=g);this.callSuper(a)}}]);a.call(this,b);new d.SizeToChildren(b,{axis:"both"});this.show();f.setVisible(!0);f.focus();this.setDisplayMode("content");b.initialFocus&&b.initialFocus.focus()},showSpinner:function(a,b){var c=myt,d=c.ModalPanel,e=this.content;b=c.extend({},c.Dialog.NO_WRAP_TEXT_DEFAULTS,b);this.__destroyContent();var f=this.spinner=new c.Spinner(e,{align:"center",
visible:!0,borderColor:"#cccccc",size:50,y:null==b.msgY?d.DEFAULT_PADDING_Y:b.msgY});a&&new c.Text(e,{text:a,whiteSpace:b.whiteSpace,wordWrap:b.wordWrap,fontWeight:b.fontWeight,x:null==b.msgX?d.DEFAULT_PADDING_X:b.msgX,y:f.y+f.size+d.DEFAULT_PADDING_Y,width:b.width});this.show();e.closeBtn.setVisible(!1);this.focus();this.setDisplayMode("spinner")},showColorPicker:function(a,b){var c=myt,d=c.View,e=c.ModalPanel,f=this.content,g=f.closeBtn,h=c.Dialog.DEFAULT_RADIUS;b=c.extend({},c.Dialog.PICKER_DEFAULTS,
b);this.__destroyContent();this.setCallbackFunction(function(b){switch(b){case "closeBtn":case "cancelBtn":a.call(this,b);break;case "confirmBtn":var c=this._spectrum.get();this._spectrum.addColorToSelectionPalette(c);a.call(this,b,c?c.toHexString():"transparent")}this._spectrum.destroy()});c=new d(f,{name:"picker",x:e.DEFAULT_PADDING_X,y:e.DEFAULT_PADDING_Y+24,width:337,height:177});d=new d(c);$(d.getInnerDomElement()).spectrum({color:b.color,palette:["#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777".split(" "),
"#888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")],localStorageKey:"myt.default",dialog:this});this.show();g.setVisible(!0);g.focus();this.setupFooterButtons(c,b);this.setupTitle(f,b.titleText,h);this.setDisplayMode("color_picker")},_spectrumCallback:function(a){this._spectrum=a},showDatePicker:function(a,b){var c=myt,d=c.ModalPanel,e=c.View,f=this.content,g=f.closeBtn,h=c.Dialog.DEFAULT_RADIUS;b=c.extend({},c.Dialog.DATE_PICKER_DEFAULTS,b);this.__destroyContent();f.sizeToChildren.setPaddingX(0);
this.setCallbackFunction(function(b){switch(b){case "closeBtn":case "cancelBtn":a.call(this,b);break;case "confirmBtn":a.call(this,b,this._pickedDateTime)}});c=new e(f,{name:"picker",x:d.DEFAULT_PADDING_X,y:d.DEFAULT_PADDING_Y+24,width:b.dateOnly?195:b.timeOnly?150:240,height:185});e=new e(c);$(e.getInnerDomElement()).dtpicker({current:new Date(b.initialDate||Date.now()),dateOnly:b.dateOnly||!1,timeOnly:b.timeOnly||!1,dialog:this});this.show();g.setVisible(!0);g.focus();this.setupFooterButtons(c,
b);this.setupTitle(f,b.timeOnly?b.timeOnlyTitleText:b.titleText,h);this.setDisplayMode("date_picker")},_dtpickerCallback:function(a){this._pickedDateTime=a},showConfirm:function(a,b,c){var d=myt;c=d.extend({},d.Dialog.CONFIRM_DEFAULTS,c);this.showMessage(a,b,c);this.setupFooterButtons(this.content.msg,c);this.setDisplayMode("confirm")},showContentConfirm:function(a,b,c){var d=myt,e=d.View,f=this.content,g=f.closeBtn,h=d.Dialog.DEFAULT_RADIUS;c=d.extend({},d.Dialog.CONFIRM_DEFAULTS,c);var k=c.maxContainerHeight;
this.__destroyContent();f.sizeToChildren.setPaddingX(1);this.setCallbackFunction(b);b=new e(f,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){this.callSuper(a>k?k:a)}}]);a.call(this,b);new d.SizeToChildren(b,{axis:"both"});this.show();g.setVisible(!0);g.focus();this.setupTitle(f,c.titleText,h);b.setY(this.header.height+1);this.setupFooterButtons(b,c);this.setDisplayMode("content");b.initialFocus&&b.initialFocus.focus()},setupTitle:function(a,b,c){(this.header=new myt.View(a,
{ignoreLayout:!0,width:a.width,height:24,bgColor:"#eeeeee",roundedTopLeftCorner:c,roundedTopRightCorner:c})).sendToBack();new myt.Text(a,{name:"title",x:c,y:4,text:b,fontWeight:"bold"})},setupFooterButtons:function(a,b){var c=this,d=myt,e=d.View,f=c.content,g=d.ModalPanel.DEFAULT_PADDING_Y,h=d.Dialog.DEFAULT_RADIUS,k=c.buttonClass,l=new e(f,{y:a.y+a.height+g,align:"center"});a=b.cancelAttrs||{};null==a.name&&(a.name="cancelBtn");null==a.text&&(a.text=b.cancelTxt);null!=b.activeColor&&(a.activeColor=
b.activeColor);null!=b.hoverColor&&(a.hoverColor=b.hoverColor);null!=b.readyColor&&(a.readyColor=b.readyColor);null!=b.textColor&&(a.textColor=b.textColor);new k(l,a,[{doActivated:function(){c.doCallback(this)}}]);a=b.confirmAttrs||{};null==a.name&&(a.name="confirmBtn");null==a.text&&(a.text=b.confirmTxt);null!=b.activeColorConfirm&&(a.activeColor=b.activeColorConfirm);null!=b.hoverColorConfirm&&(a.hoverColor=b.hoverColorConfirm);null!=b.readyColorConfirm&&(a.readyColor=b.readyColorConfirm);null!=
b.textColorConfirm&&(a.textColor=b.textColorConfirm);new k(l,a,[{doActivated:function(){c.doCallback(this)}}]);if(b=b.buttons)for(var m=0,n=b.length;n>m;m++)a=b[m],null==a.name&&(a.name="btn_"+m),new k(l,a,[{doActivated:function(){c.doCallback(this)}}]);new d.SizeToChildren(l,{axis:"y"});new d.SpacedLayout(l,{spacing:4,collapseParent:!0});f.sizeToChildren.setPaddingY(g/2);d=new e(f,{ignoreLayout:!0,y:l.y-g/2,width:f.width,bgColor:"#eeeeee",roundedBottomLeftCorner:h,roundedBottomRightCorner:h});d.setHeight(f.height-
d.y);d.sendToBack()}});
(function(a){var b=JS.Class,c={},d=function(b,c){if(b){var d=b.id;b.id?c(d):a.dumpStack("No ID")}else a.dumpStack("No validator")},e=function(a){d(a,function(b){c[b]=a})},f=a.Validator=new b("Validator",{initialize:function(a){this.id=a},isValid:function(a,b,c){return!0},isFormValid:function(a,b,c){b||(b={});b.form=a;return this.isValid(a.getValue(),b,c)}});RequiredFieldValidator=a.RequiredFieldValidator=new b("RequiredFieldValidator",f,{isValid:function(a,b,c){return null==a||""===a||"string"===
typeof a&&""===a.trim()?(c&&c.push("This value is required."),!1):!0}});EqualsIgnoreCaseValidator=a.EqualsIgnoreCaseValidator=new b("EqualsIgnoreCaseValidator",f,{isValid:function(a,b,c){b=b.form.getRollbackValue();return a&&b&&a.toLowerCase()===b.toLowerCase()?(c&&c.push("Value must differ by more than just case."),!1):!0}});URLValidator=a.URLValidator=new b("URLValidator",f,{initialize:function(a,b){this.callSuper(a);this.originalRawQuery=b},isValid:function(b,c,d){return(new a.URI(b)).toString(this.originalRawQuery)!==
b?(d&&d.push("Not a valid URL."),!1):!0}});JSONValidator=a.JSONValidator=new b("JSONValidator",f,{isValid:function(a,b,c){try{return JSON.parse(a),!0}catch(l){return c&&c.push(l),!1}}});a.EqualFieldsValidator=new b("EqualFieldsValidator",f,{initialize:function(a,b,c){this.callSuper(a);this.fieldA=b;this.fieldB=c},isValid:function(a,b,c){if(a&&this.fieldA.getValue()===this.fieldB.getValue())return!0;c&&c.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});
a.LengthValidator=new b("LengthValidator",f,{initialize:function(a,b,c){this.callSuper(a);this.min=b;this.max=c},isValid:function(a,b,c){a=a?a.length:0;b=this.min;var d=this.max;return void 0!==b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==d&&d<a?(c&&c.push("Value must not be greater than "+d+"."),!1):!0}});a.NumericRangeValidator=new b("NumericRangeValidator",f,{initialize:function(a,b,c){this.callSuper(a);this.min=b;this.max=c},isValid:function(a,b,c){if(""===a)return!0;a=
Number(a);b=this.min;var d=this.max;return isNaN(a)?(c&&c.push("Value is not a number."),!1):void 0!==b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==d&&d<a?(c&&c.push("Value must not be greater than "+d+"."),!1):!0}});a.CompoundValidator=new b("CompoundValidator",f,{initialize:function(a){this.callSuper(a);var b=Array.prototype.slice.call(arguments);b.shift();for(var d=b.length,e;d;)e=b[--d],"string"===typeof e&&((b[d]=e=c[e])||b.splice(d,1));this.__v=b},addValidator:function(a){"string"===
typeof a&&(a=c[a]);a&&this.__v.push(a)},isValid:function(a,b,c){for(var d=!0,e=this.__v,f=e.length,g=0;f>g;)d=e[g++].isValid(a,b,c)&&d;return d}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){e(new RequiredFieldValidator("required"));e(new EqualsIgnoreCaseValidator("equalsIgnoreCase"));e(new URLValidator("url"));e(new JSONValidator("json"));a.global.register("validators",this)},getValidator:function(a){return c[a]},register:e,unregister:function(a){d(a,function(a){c[a]&&delete c[a]})}})})(myt);
myt.ValueProcessor=new JS.Class("ValueProcessor",{extend:{DEFAULT_ATTR:"runForDefault",ROLLBACK_ATTR:"runForRollback",CURRENT_ATTR:"runForCurrent"},initialize:function(a,b,c,d){this.id=a;a=myt.ValueProcessor;this[a.DEFAULT_ATTR]=b?!0:!1;this[a.ROLLBACK_ATTR]=c?!0:!1;this[a.CURRENT_ATTR]=d?!0:!1},process:function(a){return a}});
myt.ToNumberValueProcessor=new JS.Class("ToNumberValueProcessor",myt.ValueProcessor,{process:function(a){if(null==a||""===a||"-"===a)return a;var b=Number(a);return isNaN(b)?a:b}});myt.TrimValueProcessor=new JS.Class("TrimValueProcessor",myt.ValueProcessor,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.trim=e},process:function(a){a+="";switch(this.trim){case "start":case "left":return a.trimStart();case "end":case "right":return a.trimEnd();default:return a.trim()}}});
myt.UndefinedValueProcessor=new JS.Class("UndefinedValueProcessor",myt.ValueProcessor,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.defaultValue=e},process:function(a){return void 0===a?this.defaultValue:a}});
new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){var a=myt;this.__c={};a.global.register("valueProcessors",this);this.register(new a.UndefinedValueProcessor("undefToEmpty",!0,!0,!0,""));this.register(new a.ToNumberValueProcessor("toNumber",!0,!0,!0));this.register(new a.TrimValueProcessor("trimLeft",!0,!0,!0,"left"));this.register(new a.TrimValueProcessor("trimRight",!0,!0,!0,"right"));this.register(new a.TrimValueProcessor("trimBoth",!0,!0,!0,"both"))},getValueProcessor:function(a){return this.__c[a]},
register:function(a){if(a){var b=a.id;b?this.__c[b]=a:myt.dumpStack("No ID")}else myt.dumpStack("No processor")},unregister:function(a){a?(a=a.id)?this.getValueProcessor(a)&&delete this.__c[a]:myt.dumpStack("No ID"):myt.dumpStack("No processor")}});
myt.UseOtherFieldIfEmptyValueProcessor=new JS.Class("UseOtherFieldIfEmptyValueProcessor",myt.ValueProcessor,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.otherField=e},process:function(a){return null==a||""===a?this.otherField.getValue():a}});
myt.InputSelect=new JS.Class("InputSelect",myt.NativeInputWrapper,{include:[myt.SizeToDom],initNode:function(a,b){null==b.tagName&&(b.tagName="select");b.inputType=null;null==b.multiple&&(b.multiple=!1);null==b.size&&(b.size=b.multiple?4:1);this.callSuper(a,b);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(a){this.multiple!==a&&(this.multiple=this.getInnerDomElement().multiple=a,this.inited&&this.fireEvent("multiple",a))},setSize:function(a){this.size!==a&&
(this.size=this.getInnerDomElement().size=a,this.inited&&this.fireEvent("size",a))},setOptions:function(a){this.destroyAllOptions();if(Array.isArray(a))for(var b=0,c=a.length;c>b;++b)this.addOption(a[b])},getOptions:function(){return this.getSubviews().concat()},setValue:function(a){Array.isArray(a)&&myt.areArraysEqual(a,this.value)||this.value===a||(this.value=a,this.inited&&this.fireEvent("value",a))},subviewAdded:function(a){a instanceof myt.InputSelectOption||(myt.dumpStack("Subview not supported. Destroying it."),
a.destroy())},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(myt.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()},getSelectedOptions:function(){for(var a=this.getOptions(),b=a.length,c,d=[];b;)c=a[--b],c.isSelected()&&d.push(c);return d},getSelectedOptionValues:function(){for(var a=this.getOptions(),b=a.length,c,d=[];b;)c=a[--b],c.isSelected()&&d.push(c.value);return d},
getOptionForValue:function(a){for(var b=this.getOptions(),c=b.length,d;c;)if(d=b[--c],d.value===a)return d;return null},addOption:function(a){new myt.InputSelectOption(this,a)},destroyAllOptions:function(){for(var a=this.getOptions(),b=a.length;b;)a[--b].destroy()},destroyOptionWithValue:function(a){if(a=this.getOptionForValue(a))if(a.destroy(),a.destroyed)return!0;return!1},deselectAll:function(){for(var a=this.getOptions(),b=a.length,c,d=!1;b;)c=a[--b],c.isSelected()&&(c.setSelected(!1),d=!0);d&&
this.__doChanged()},selectValues:function(a){a=Array.isArray(a)?a:[a];for(var b=a.length;b;)this.selectValue(a[--b])},selectValue:function(a){this.select(this.getOptionForValue(a))},select:function(a){a&&a.canSelect(this)&&(a.setSelected(!0),this.__syncToDom())},deselectValue:function(a){this.deselect(this.getOptionForValue(a))},deselect:function(a){a&&a.canDeselect(this)&&(a.setSelected(!1),this.__syncToDom())},__doChanged:function(a){this.__syncToDom();this.doChanged()},doChanged:function(){},__syncToDom:function(){this.setValue(this.multiple?
this.getSelectedOptionValues():this.getDomValue())}});
myt.InputSelectOption=new JS.Class("InputSelectOption",myt.View,{include:[myt.Disableable,myt.Selectable],createOurDomElement:function(a){return document.createElement("option")},setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);var b=this.getInnerDomElement();b.selected!==a&&(b.selected=a)},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==a&&(this.value=a,this.getInnerDomElement().value!==a&&(this.getInnerDomElement().value=
a),this.inited&&this.fireEvent("value",a))},setLabel:function(a){this.label!==a&&(this.getInnerDomElement().textContent=this.label=a,this.inited&&this.fireEvent("label",a))},isSelected:function(){return this.getInnerDomElement().selected},canSelect:function(a){return!this.disabled&&!this.getInnerDomElement().selected&&this.parent===a},canDeselect:function(a){return!this.disabled&&this.getInnerDomElement().selected&&this.parent===a}});
myt.FormInputSelect=new JS.Class("FormInputSelect",myt.InputSelect,{include:[myt.FormElement],setValue:function(a){if(!this.__abortSetValue)return a=this.callSuper(a),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(a),this.__abortSetValue=!1,a}});
myt.FormRadioGroup=new JS.Class("FormRadioGroup",myt.Node,{include:[myt.ValueComponent,myt.FormElement],initNode:function(a,b){null==b.groupId&&(b.groupId=myt.generateGuid());this.callSuper(a,b);void 0!==this.value&&this.__updateGroupValue();this.__startMonitoring()},setValue:function(a){a=this.callSuper(a);this.inited&&this.__updateGroupValue();return a},setGroupId:function(a){this.groupId!==a&&(this.__stopMonitoring(),this.groupId=a,this.inited&&this.__startMonitoring())},__startMonitoring:function(){if(this.groupId){var a=
this.__getBAG();a&&this.syncTo(a,"__syncValue","trueNode")}},__stopMonitoring:function(){if(this.groupId){var a=this.__getBAG();a&&this.detachFrom(a,"__syncValue","trueNode")}},__syncValue:function(a){this.setValue(a.value?a.value.optionValue:null)},__updateGroupValue:function(){var a=this.__getBAG();if(a)for(var b=a.getNodes(),c=b.length,d,e=this.value;c;)if(d=b[--c],d.optionValue===e){a.setTrue(d);break}},__getBAG:function(){return myt.BAG.getGroup("selected",this.groupId)}});
myt.FormCheckbox=new JS.Class("FormCheckbox",myt.Checkbox,{include:[myt.FormElement],initNode:function(a,b){this.rollbackValue=this.defaultValue=!1;this.callSuper(a,b)}});myt.FormTextCheckbox=new JS.Class("FormTextCheckbox",myt.TextCheckbox,{include:[myt.FormElement],initNode:function(a,b){this.rollbackValue=this.defaultValue=!1;this.callSuper(a,b)}});
myt.FormInputTextMixin=new JS.Module("FormInputTextMixin",{include:[myt.FormElement,myt.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";null==b.bgColor&&(b.bgColor="#ffffff");null==b.borderWidth&&(b.borderWidth=1);null==b.borderStyle&&(b.borderStyle="solid");null==b.focusEmbellishment&&(b.focusEmbellishment=!0);this.callSuper(a,b);this.addValueProcessor(myt.global.valueProcessors.getValueProcessor("undefToEmpty"));
this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&
this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);var b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":myt.global.focus.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");
break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__handleKeyDown:function(a){13===myt.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("accept")},__handleKeyUp:function(a){27===myt.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();var a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?
this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
myt.BaseInputText=new JS.Class("BaseInputText",myt.NativeInputWrapper,{include:[myt.TextSupport],initNode:function(a,b){null==b.bgColor&&(b.bgColor="transparent");null==b.spellcheck&&(b.spellcheck=!1);this.callSuper(a,b);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(a){this.callSuper(a);this.setValue(a)},setSpellcheck:function(a){this.spellcheck!==a&&(this.spellcheck=this.getInnerDomElement().spellcheck=
a,this.inited&&this.fireEvent("spellcheck",a))},setMaxLength:function(a){if(null==a||0>a)a=void 0;this.maxLength!==a&&(this.maxLength=this.getInnerDomElement().maxLength=a,this.inited&&this.fireEvent("maxLength",a))},setAllowedChars:function(a){this.allowedChars=a},setPlaceholder:function(a){this.placeholder!==a&&(this.getInnerDomElement().placeholder=this.placeholder=a,this.inited&&this.fireEvent("placeholder",a))},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(myt.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE)},
hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()},__filterInput:function(a){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(a){a=a.value;var b=a.which;switch(b){case 8:case 0:return}var c=this.allowedChars;c&&-1===c.indexOf(String.fromCharCode(b))&&a.preventDefault();this.filterInputPress(a)},filterInput:function(a){return a},filterInputPress:function(a){},__syncToDom:function(a){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){var a=
document.selection.createRange();a.moveStart("character",-this.getDomValue().length);return a.text.length}return this.getInnerDomElement().selectionStart||0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}var c=this.getInnerDomElement();c.setSelectionRange?c.setSelectionRange(a,b):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())},setCaretToStart:function(){this.setCaretPosition(0)},
setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getInnerDomElement().select()},getSelection:function(){var a=this.getInnerDomElement();return{start:a.selectionStart,startElem:a,end:a.selectionEnd,endElem:a}},setSelection:function(a){a&&this.setCaretPosition(a.start,a.end)},saveSelection:function(a){this._selRange=a||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});
myt.InputText=new JS.Class("InputText",myt.BaseInputText,{include:[myt.SizeHeightToDom],initNode:function(a,b){this.inputType=!0===b.password?"password":"text";this.callSuper(a,b);this.setCaretToEnd()},setPassword:function(a){this.password=a}});myt.FormInputText=new JS.Class("FormInputText",myt.InputText,{include:[myt.FormInputTextMixin]});
myt.ComboBox=new JS.Class("ComboBox",myt.InputText,{include:[myt.Activateable,myt.KeyActivation,myt.ListViewAnchor],initNode:function(a,b){this.filterItems=!0;null==b.activationKeys&&(b.activationKeys=[13,27,38,40]);null==b.bgColor&&(b.bgColor="#ffffff");null==b.borderWidth&&(b.borderWidth=1);null==b.borderStyle&&(b.borderStyle="solid");null==b.floatingAlignOffset&&(b.floatingAlignOffset=b.borderWidth);null==b.listViewAttrs&&(b.listViewAttrs={maxHeight:99});null==b.fullItemConfig&&(b.fullItemConfig=
[]);this.callSuper(a,b)},setFullItemConfig:function(a){this.fullItemConfig=a},setFilterItems:function(a){this.filterItems=a},__syncToDom:function(a){var b=this.value;this.callSuper(a);b!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(a){var b=this.getFloatingPanel(a);if(b){if(this.filterItems){var c=[];var d=this.value;d=null==d?"":(""+d).toLowerCase();for(var e=this.fullItemConfig,f=e.length,g=0,h,k,l;f>g;)h=e[g++],k=h.attrs.text.toLowerCase(),l=k.indexOf(d),0===l?k!==d&&c.push(h):
0<l&&c.push(h)}else c=this.fullItemConfig;0<c.length?(b.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(c),this.callSuper(a)):this.hideFloatingPanel(a)}},doItemActivated:function(a){this.setValue(a.text);this.callSuper(a)},doActivated:function(){this.toggleFloatingPanel()}});
myt.FormComboBox=new JS.Class("FormComboBox",myt.ComboBox,{include:[myt.FormElement,myt.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";this.callSuper(a,b);this.addValueProcessor(myt.global.valueProcessors.getValueProcessor("undefToEmpty"));this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=
a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);var b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":myt.global.focus.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(a){this._isShown=!0},notifyPanelHidden:function(a){this._isShown=!1},doActivationKeyDown:function(a,b){27!==a||this._isShown?this.callSuper(a,b):this.invokeAccelerator("reject")},
doActivationKeyUp:function(a){13!==a||this._isShown?this.callSuper(a):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();var a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
myt.InputTextArea=new JS.Class("InputTextArea",myt.BaseInputText,{initNode:function(a,b){null==b.tagName&&(b.tagName="textarea");b.inputType=null;null==b.resize&&(b.resize="none");null==b.wrap&&(b.wrap="soft");this.callSuper(a,b)},setResize:function(a){this.resize!==a&&(this.resize=this.getInnerDomStyle().resize=a||"none",this.inited&&this.fireEvent("resize",a))},setWrap:function(a){this.wrap!==a&&(this.wrap=this.getInnerDomElement().wrap=a,this.inited&&this.fireEvent("wrap",a))}});
myt.FormInputTextArea=new JS.Class("FormInputTextArea",myt.InputTextArea,{include:[myt.FormInputTextMixin],__handleKeyDown:function(a){}});
myt.EditableText=new JS.Class("EditableText",myt.BaseInputText,{include:[myt.SizeToDom],initNode:function(a,b){null==b.tagName&&(b.tagName="div");b.inputType=null;null==b.whiteSpace&&(b.whiteSpace="pre");null==b.contentEditable&&(b.contentEditable=!0);this.callSuper(a,b);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(a){this.__setProp(a,"minWidth")},setMinHeight:function(a){"Firefox"===
BrowserDetect.browser&&(a+=2);this.__setProp(a,"minHeight")},setPadding:function(a){this.setPaddingTop(a);this.setPaddingRight(a);this.setPaddingBottom(a);this.setPaddingLeft(a)},setPaddingTop:function(a){this.__setProp(a,"paddingTop")},setPaddingRight:function(a){this.__setProp(a,"paddingRight")},setPaddingBottom:function(a){this.__setProp(a,"paddingBottom")},setPaddingLeft:function(a){this.__setProp(a,"paddingLeft")},__setProp:function(a,b){this[b]!==a&&(this[b]=a,this.deStyle[b]=a+"px",this.inited&&
(this.fireEvent(b,a),this.sizeViewToDom()))},setContentEditable:function(a){this.contentEditable!==a&&(this.contentEditable=this.getInnerDomElement().contentEditable=a,this.inited&&this.fireEvent("contentEditable",a))},filterInputPress:function(a){var b=this.maxLength;0<=b&&this.getCharacterCount()===b&&a.preventDefault();this.callSuper(a)},getDomValue:function(){return this.getInnerDomElement().innerHTML},setDomValue:function(a){var b=this.getInnerDomElement();b.innerHTML!==a&&(b.innerHTML=a,this.sizeViewToDom(),
this.restoreSelection())},__cleanInput:function(a){13===myt.KeyObservable.getKeyCodeFromEvent(a)&&(a.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(a){this.callSuper(a);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){var a=this.getInnerDomElement().firstChild;return a?a.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},
getCaretPosition:function(){var a=this.getSelection();return a?a.end:0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}this.saveSelection({start:a,startElem:this.getInnerDomElement().firstChild,end:b,endElem:this.getInnerDomElement().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(a){this.saveSelection();return!0},getSelection:function(){if(window.getSelection){var a=window.getSelection();if(0<a.rangeCount){if(a.extentNode===
this.getInnerDomElement())return null;var b=a.getRangeAt(0)}}else document.selection&&(b=document.selection.createRange());return{start:b?b.startOffset:0,startElem:b?b.startContainer:this.getInnerDomElement().firstChild,end:b?b.endOffset:0,endElem:b?b.endContainer:this.getInnerDomElement().firstChild}},setSelection:function(a){if(a){var b=a.startElem,c=a.endElem;if(b&&b.parentNode&&c&&c.parentNode){var d=document.createRange();d.setStart(b,Math.min(a.start,b.length));d.setEnd(c,Math.min(a.end,c.length));
window.getSelection?(a=window.getSelection(),0<a.rangeCount&&a.removeAllRanges(),a.addRange(d)):document.selection&&d.select()}}}});myt.FormEditableText=new JS.Class("FormEditableText",myt.EditableText,{include:[myt.FormInputTextMixin],__handleKeyDown:function(a){"nowrap"===this.whitespace&&this.callSuper(a)}});
myt.BoundedValueComponent=new JS.Module("BoundedValueComponent",{include:[myt.ValueComponent],initNode:function(a,b){this.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==b.snapToInt&&(b.snapToInt=!0);if(!b.valueFilter){var c=this;b.valueFilter=function(a){var b=c.maxValue;if(null!=b&&a>b)return b;b=c.minValue;return null!=b&&a<b?b:a}}this.callSuper(a,b)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=Math.round(a));if(this.minValue!==a){var b=this.maxValue;null!=b&&a>b&&(a=b);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=Math.round(a));if(this.maxValue!==a){var b=this.minValue;null!=b&&a<b&&(a=b);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",
a),this.setValue(this.value)))}},setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?Math.round(a):a)}});
new JS.Singleton("GlobalDragManager",{include:[myt.Observable],initialize:function(){this.dropTargets=[];this.autoScrollers=[];myt.global.register("dragManager",this)},setDragView:function(a){var b=this.dragView;if(b!==a){this.dragView=a;var c;if(a){var d=a;var e="notifyDragStart";var f="startDrag"}else d=b,e="notifyDragStop",f="stopDrag";b=this.__filterList(d,this.dropTargets);for(c=b.length;c;)b[--c][e](d);b=this.__filterList(d,this.autoScrollers);for(c=b.length;c;)b[--c][e](d);this.fireEvent(f,
a)}},setOverView:function(a){var b=this.overView;if(b!==a){var c=this.dragView;b&&(b.notifyDragLeave(c),c.destroyed||c.notifyDragLeave(b),this.fireEvent("dragLeave",b));if(this.overView=a)a.notifyDragEnter(c),c.destroyed||c.notifyDragEnter(a),this.fireEvent("dragEnter",b)}},registerAutoScroller:function(a){this.autoScrollers.push(a)},unregisterAutoScroller:function(a){for(var b=this.autoScrollers,c=b.length;c;)if(b[--c]===a){b.splice(c,1);break}},registerDropTarget:function(a){this.dropTargets.push(a)},
unregisterDropTarget:function(a){for(var b=this.dropTargets,c=b.length;c;)if(b[--c]===a){b.splice(c,1);break}},startDrag:function(a){this.setDragView(a)},stopDrag:function(a,b,c){a=this.overView;b.notifyDropped(a,c);a&&!c&&a.notifyDrop(b);this.setOverView();this.setDragView();a&&!c&&this.fireEvent("drop",[b,a])},updateDrag:function(a,b){var c,d=this.__filterList(b,this.dropTargets);i=d.length;if(0<i){var e=a.value;a=e.pageX;e=e.pageY;for(var f;i;)f=d[--i],f.willAcceptDrop(b)&&b.willPermitDrop(f)&&
f.isPointVisible(a,e)&&(!c||f.isInFrontOf(c))&&(c=f)}this.setOverView(c)},__filterList:function(a,b){if(a.destroyed)var c=[];else if(a.acceptAnyDragGroup())c=b;else{c=[];a=a.getDragGroups();for(var d=b.length,e,f,g;d;)if(e=b[--d],e.acceptAnyDragGroup())c.push(e);else for(g in f=e.getDragGroups(),a)if(f[g]){c.push(e);break}}return c}});
myt.Draggable=new JS.Module("Draggable",{initNode:function(a,b){var c=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(c=b.isDraggable,delete b.isDraggable);this.callSuper(a,b);this.setIsDraggable(c)},setIsDraggable:function(a){var b;if(this.isDraggable!==a){if(this.isDraggable=a)var c=this.attachToDom;else this.inited&&(c=this.detachFromDom);if(c)for(a=this.getDragViews(),b=a.length;b;){var d=a[--b];
c.call(this,d,"__doMouseDown","mousedown");c.call(this,d,"__doContextMenu","contextmenu")}}},setIsDragging:function(a){this.set("isDragging",a,!0)},setDragOffsetX:function(a,b){this.dragOffsetX!==a&&(this.dragOffsetX=a,this.inited&&this.isDragging&&!b&&this.__requestDragPosition())},setDragOffsetY:function(a,b){this.dragOffsetY!==a&&(this.dragOffsetY=a,this.inited&&this.isDragging&&!b&&this.__requestDragPosition())},setDistanceBeforeDrag:function(a){this.distanceBeforeDrag=a},setDraggableAllowBubble:function(a){this.draggableAllowBubble=
a},setCenterOnMouse:function(a){this.centerOnMouse=a},setAllowAbort:function(a){this.allowAbort=a},getDragViews:function(){return[this]},__doContextMenu:function(a){},__doMouseDown:function(a){var b=myt.MouseObservable.getMouseFromEvent(a),c=myt.global.mouse,d=this.getOuterDomElement();this.dragInitX=b.x-d.offsetLeft;this.dragInitY=b.y-d.offsetTop;this.attachToDom(c,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(c,"__doDragCheck","mousemove",!0):this.startDrag(a);a.value.preventDefault();
return this.draggableAllowBubble},__doMouseUp:function(a){this.isDragging?this.stopDrag(a,!1):(a=myt.global.mouse,this.detachFromDom(a,"__doMouseUp","mouseup",!0),this.detachFromDom(a,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(a){27===a.value&&this.stopDrag(a,!0)},__doDragCheck:function(a){var b=myt,c=b.MouseObservable.getMouseFromEvent(a);b.Geometry.measureDistance(c.x,c.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(b.global.mouse,
"__doDragCheck","mousemove",!0),this.startDrag(a))},startDrag:function(a){var b=myt.global;this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(b.keys,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(b.mouse,"updateDrag","mousemove",!0);this.updateDrag(a)},updateDrag:function(a){this.__lastMousePosition=myt.MouseObservable.getMouseFromEvent(a);this.__requestDragPosition()},__updateDragInitX:function(a){this.dragInitX=
this.width/2*(this.scaleX||1)},__updateDragInitY:function(a){this.dragInitY=this.height/2*(this.scaleY||1)},__requestDragPosition:function(){var a=this.__lastMousePosition;this.requestDragPosition(a.x-this.dragInitX+this.dragOffsetX,a.y-this.dragInitY+this.dragOffsetY)},stopDrag:function(a,b){a=myt.global;b=a.mouse;this.detachFromDom(b,"__doMouseUp","mouseup",!0);this.detachFromDom(b,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,
"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(a.keys,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(a,b){this.disabled||(this.setX(a),this.setY(b))}});
myt.SliderThumbMixin=new JS.Module("SliderThumbMixin",{include:[myt.Draggable],initNode:function(a,b){null==b.width&&(b.width=a.thumbWidth);null==b.height&&(b.height=a.thumbHeight);null==b.repeatKeyDown&&(b.repeatKeyDown=!0);null==b.activationKeys&&(b.activationKeys=[37,38,39,40]);this.callSuper(a,b);"x"===a.axis?this.setY(a.thumbOffset):this.setX(a.thumbOffset);this.syncTo(a,"setDisabled","disabled");a._syncThumbToValue(this,a.getValue())},setDisabled:function(a){null!=a&&"object"===typeof a&&(a=
a.value);this.callSuper(a)},setFocused:function(a){this.callSuper(a);a&&this.makeHighestZIndex()},setX:function(a){this.x!==a&&(this.callSuper(a),a=this.parent,"x"===a.axis&&a._syncValueToThumb(this))},setY:function(a){this.y!==a&&(this.callSuper(a),a=this.parent,"y"===a.axis&&a._syncValueToThumb(this))},requestDragPosition:function(a,b){if(!this.disabled){var c=this.parent,d=c.getMinPixelValueForThumb(this),e=c.getMaxPixelValueForThumb(this);"x"===c.axis?(c=this.width/2,b=this.setX):(c=this.height/
2,a=b,b=this.setY);b.call(this,Math.min(Math.max(a,d-c),e-c))}},doActivationKeyDown:function(a,b){var c=this.parent;switch(a){case 37:c.nudgeValueLeft(this);break;case 38:c.nudgeValueUp(this);break;case 39:c.nudgeValueRight(this);break;case 40:c.nudgeValueDown(this)}this.callSuper(a,b)}});
myt.SimpleSliderThumb=new JS.Class("SimpleSliderThumb",myt.SimpleButton,{include:[myt.SliderThumbMixin],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.readyColor&&(b.readyColor="#cccccc");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.boxShadow&&(b.boxShadow=[0,0,4,"#666666"]);this.callSuper(a,b);null==b.roundedCorners&&this.setRoundedCorners(Math.min(this.height,this.width)/2)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,
0,9,"#666666"])},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,4,"#666666"])}});
myt.BaseSlider=new JS.Class("BaseSlider",myt.View,{include:[myt.Disableable],initNode:function(a,b){null==b.axis&&(b.axis="x");"x"===b.axis?(null==b.width&&(b.width=100),null==b.height&&(b.height=18)):(null==b.width&&(b.width=18),null==b.height&&(b.height=100));null==b.bgColor&&(b.bgColor="#999999");null==b.roundedCorners&&(b.roundedCorners=9);null==b.trackInset&&(b.trackInset=9);null==b.trackOutset&&(b.trackOutset=9);null==b.thumbWidth&&(b.thumbWidth=16);null==b.thumbHeight&&(b.thumbHeight=16);null==
b.thumbOffset&&(b.thumbOffset=1);null==b.nudgeAmount&&(b.nudgeAmount=1);null==b.thumbClass&&(b.thumbClass=myt.SimpleSliderThumb);this.callSuper(a,b)},setAxis:function(a){this.axis=a},setTrackInset:function(a){this.trackInset=a},setTrackOutset:function(a){this.trackOutset=a},setThumbWidth:function(a){this.thumbWidth=a},setThumbHeight:function(a){this.thumbHeight=a},setThumbOffset:function(a){this.thumbOffset=a},setThumbClass:function(a){this.thumbClass=a},setNudgeAmount:function(a){this.nudgeAmount=
a},convertValueToPixels:function(a){var b=this.minValue,c=this.trackInset;return c+(("x"===this.axis?this.width:this.height)-c-this.trackOutset)/(this.maxValue-b)*(a-b)},convertPixelsToValue:function(a){var b=this.minValue,c=this.trackInset;return(this.maxValue-b)/(("x"===this.axis?this.width:this.height)-c-this.trackOutset)*(a-c)+b},nudgeValueLeft:function(a){this._nudge(a,!1)},nudgeValueUp:function(a){this._nudge(a,!1)},nudgeValueRight:function(a){this._nudge(a,!0)},nudgeValueDown:function(a){this._nudge(a,
!0)},_nudge:function(a,b){},_syncThumbToValue:function(a,b){b=this.convertValueToPixels(b);"x"===this.axis?a.setX(b-a.width/2):a.setY(b-a.height/2)}});
myt.Slider=new JS.Class("Slider",myt.BaseSlider,{include:[myt.BoundedValueComponent],doAfterAdoption:function(){new this.thumbClass(this,{name:"thumb"});this.callSuper()},setValue:function(a){this.callSuper(a);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(a,b){var c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(a,b){var c=this.height;this.callSuper(a,
b);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(a){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this.setValue(this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2)),this._syncThumbToValue(a,this.getValue()),this.__lockSync=!1)},_nudge:function(a,b){this.setValue(this.getValue()+this.nudgeAmount*(b?1:-1))},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(this.maxValue)}});
myt.RangeComponent=new JS.Module("RangeComponent",{include:[myt.ValueComponent],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var b=this.value,c=b?b.lower:
void 0;b=b?b.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==c||a.upper!==b){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){var d=a.lower;a.lower=a.upper;a.upper=d}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==c&&this.fireEvent("lowerValue",a.lower),a.upper!==b&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){var a=this.value;return{lower:a.lower,
upper:a.upper}}});
myt.BoundedRangeComponent=new JS.Module("BoundedRangeComponent",{include:[myt.BoundedValueComponent,myt.RangeComponent],initNode:function(a,b){if(!b.valueFilter){var c=this;b.valueFilter=function(a){if(a){var b=c.maxValue,d=c.minValue;null!=b&&a.upper>b&&(a.upper=b);null!=d&&a.lower<d&&(a.lower=d)}return a}}this.callSuper(a,b)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=Math.round(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=Math.round(a.upper)));this.callSuper(a)}});
myt.SimpleSliderRangeFill=new JS.Class("SimpleSliderRangeFill",myt.View,{initNode:function(a,b){null==b.bgColor&&(b.bgColor="#666666");this.callSuper(a,b);"x"===a.axis?(this.setY(a.thumbOffset),this.setHeight(a.thumbHeight),this.setRoundedCorners(a.thumbHeight/2)):(this.setX(a.thumbOffset),this.setWidth(a.thumbWidth),this.setRoundedCorners(a.thumbWidth/2));a._syncRangeFillToValue()}});
myt.RangeSlider=new JS.Class("RangeSlider",myt.BaseSlider,{include:[myt.BoundedRangeComponent],initNode:function(a,b){null==b.rangeFillClass&&(b.rangeFillClass=myt.SimpleSliderRangeFill);this.callSuper(a,b)},doAfterAdoption:function(){new this.rangeFillClass(this,{name:"rangeFill"});new this.thumbClass(this,{name:"thumbLower"});new this.thumbClass(this,{name:"thumbUpper"});this.callSuper()},setRangeFillClass:function(a){this.rangeFillClass=a},setValue:function(a){this.callSuper(a);this.inited&&(this.__lockSync||
(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a)),this._syncRangeFillToValue())},setWidth:function(a,b){var c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},setHeight:function(a,b){var c=this.height;this.callSuper(a,b);this.inited&&"y"===this.axis&&this.height!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,
a),this._syncThumbToValue(this.thumbUpper,a))},_syncRangeFillToValue:function(){var a=this.rangeFill,b=this.getValue(),c=this.convertValueToPixels(b.lower);b=this.convertValueToPixels(b.upper)-c;"x"===this.axis?(a.setX(c),a.setWidth(b)):(a.setY(c),a.setHeight(b))},_syncThumbToValue:function(a,b){this.callSuper(a,"thumbLower"===a.name?b.lower:b.upper)},_syncValueToThumb:function(a){if(this.inited&&!this.__lockSync){this.__lockSync=!0;var b=this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+
a.height/2),c=this.getValueCopy();"thumbLower"===a.name?c.lower=b:c.upper=b;this.setValue(c);c=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,c);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,c);this.__lockSync=!1}},_nudge:function(a,b){var c=this.getValueCopy();b=this.nudgeAmount*(b?1:-1);"thumbLower"===a.name?(c.lower+=b,c.lower>c.upper&&(c.lower=c.upper)):(c.upper+=b,c.lower>c.upper&&(c.upper=c.lower));this.setValue(c)},getMinPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===
a.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===a.name?this.getValue().upper:this.maxValue)}});
(function(a){var b=JS.Class,c=function(a){var b="y"===a.axis?"height":"width";a.applyConstraint("__limitToParent",[a,"limitToParent",a,b,a.parent,b])},d=new b("BaseDivider",a.SimpleButton,{include:[a.BoundedValueComponent,a.Draggable],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.readyColor&&(b.readyColor="#cccccc");null==b.axis&&(b.axis="x");null==b.minValue&&(b.minValue=0);null==b.value&&(b.value=b.minValue);null==b.expansionState&&
(b.expansionState=2);null==b.focusEmbellishment&&(b.focusEmbellishment=!1);null==b.repeatKeyDown&&(b.repeatKeyDown=!0);null==b.activationKeys&&(b.activationKeys=[37,38,39,40,13,32]);"y"===b.axis?(null==b.height&&(b.height=6),null==b.cursor&&(b.cursor="row-resize")):(null==b.width&&(b.width=6),null==b.cursor&&(b.cursor="col-resize"));this.__nudgeAcc=1;this.callSuper(a,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&c(this);this.attachDomObserver(this,"doPrimaryAction",
"dblclick")},setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):c(this)))},setAxis:function(a){this.inited?console.warn("Axis may not be updated after instantiation."):this.axis=a},setValue:function(a,b){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);
b&&this.setRestoreValue(a)},__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,b){this.callSuper(a,b);switch(a){case 37:case 38:a=-1;break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=b?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){var a,b=this.restoreValue,c=this.maxValue,
d=this.minValue;switch(this.expansionState){case 0:null!=b&&(this.setExpansionState(1),b===d?b!==c&&this.doPrimaryAction():a=b);break;case 1:null!=c&&(this.setExpansionState(3),this.value===c?this.doPrimaryAction():a=c);break;case 2:null!=d&&(this.setExpansionState(0),this.value===d?this.doPrimaryAction():a=d);break;case 3:null!=b&&(this.setExpansionState(2),b===c?this.doPrimaryAction():a=b)}null!=a&&(this.stopActiveAnimators("value"),this.animateOnce("value",a,null,250))},requestDragPosition:function(a,
b){this.disabled||(this.setValue("y"===this.axis?b:a,!0),this.setExpansionState(2))}});a.HorizontalDivider=new b("HorizontalDivider",d,{initNode:function(a,b){b.axis="x";this.callSuper(a,b)}});a.VerticalDivider=new b("VerticalDivider",d,{initNode:function(a,b){b.axis="y";this.callSuper(a,b)}})})(myt);
myt.GridColumnHeader=new JS.Module("GridColumnHeader",{include:[myt.BoundedValueComponent],extend:{DEFAULT_MIN_VALUE:16,DEFAULT_MAX_VALUE:9999},initNode:function(a,b){var c=myt,d=c.GridColumnHeader;null==b.minValue&&(b.minValue=d.DEFAULT_MIN_VALUE);null==b.maxValue&&(b.maxValue=d.DEFAULT_MAX_VALUE);null==b.resizable&&(b.resizable=!0);null==b.flex&&(b.flex=0);null==b.cellXAdj&&(b.cellXAdj=0);null==b.cellWidthAdj&&(b.cellWidthAdj=0);null==b.sortable&&(b.sortable=!0);null==b.sortState&&(b.sortState=
"none");null==b.placement&&(b.placement="*");this.callSuper(a,b);new c.View(this,{name:"resizer",cursor:"col-resize",width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[c.SizeToParent,c.Draggable,{requestDragPosition:function(a,b){b=this.parent;var c=b.gridController;a-=this.x;if(c.fitToWidth){if(0<a){var d=b.maxValue-b.value,e=b._getGiveLeft(),f=b._getTakeRight();a=Math.min(a,Math.min(-f,d+e))}else 0>a&&(d=b.minValue-b.value,e=b._getTakeLeft(),f=b._getGiveRight(),
a=Math.max(a,Math.max(-f,d+e)));if(0===a)return}d=b.value+a;b.resizable&&b.setValue(d);d-=b.value;a=d-a;e=0;0>d?e=b._stealPrevWidth(d):0<d&&(e=b._givePrevWidth(d));this.dragInitX+=e;a-=e;c.fitToWidth&&(0>a?b._stealNextWidth(a):0<a&&b._giveNextWidth(a))}}]);if(a=this.gridController)a.notifyAddColumnHeader(this),a.notifyColumnHeaderXChange(this),a.notifyColumnHeaderVisibilityChange(this);this.setWidth(this.value);this._updateLast()},destroy:function(a){this.setGridController();this.callSuper(a)},setSortable:function(a){this.set("sortable",
a,!0)},setSortState:function(a){this.set("sortState",a,!0)},setResizable:function(a){this.set("resizable",a,!0)},setCellWidthAdj:function(a){this.cellWidthAdj=a},setCellXAdj:function(a){this.cellXAdj=a},setFlex:function(a){this.flex=a},setColumnId:function(a){this.columnId=a},setLast:function(a){this.last=a;this.inited&&this._updateLast()},setGridController:function(a){var b=this.gridController;b!==a&&(b&&b.notifyRemoveColumnHeader(this),this.gridController=a,this.inited&&a&&(a.notifyAddColumnHeader(this),
a.notifyColumnHeaderXChange(this),a.notifyColumnHeaderWidthChange(this),a.notifyColumnHeaderVisibilityChange(this)))},setValue:function(a){this.callSuper(a);this.inited&&this.setWidth(this.value)},setMinValue:function(a){var b=this.minValue||0,c=this.gridController;this.callSuper(a);this.inited&&c&&b!==this.minValue&&c.setMinWidth(c.minWidth+this.minValue-b)},setMaxValue:function(a){var b=this.maxValue||0,c=this.gridController;null==a&&(a=myt.GridColumnHeader.DEFAULT_MAX_VALUE);this.callSuper(a);
this.inited&&c&&b!==this.maxValue&&c.setMaxWidth(c.maxWidth+this.maxValue-b)},setWidth:function(a,b){var c=this.width;this.callSuper(a,b);this.inited&&this.gridController&&c!==this.width&&this.gridController.notifyColumnHeaderWidthChange(this)},setX:function(a){var b=this.x;this.callSuper(a);this.inited&&this.gridController&&b!==this.x&&this.gridController.notifyColumnHeaderXChange(this)},setVisible:function(a){var b=this.visible;this.callSuper(a);this.inited&&this.gridController&&b!==this.visible&&
this.gridController.notifyColumnHeaderVisibilityChange(this)},getPrevColumnHeader:function(){return this.gridController?this.gridController.getPrevColumnHeader(this):null},getNextColumnHeader:function(){return this.gridController?this.gridController.getNextColumnHeader(this):null},_updateLast:function(){this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},_stealPrevWidth:function(a){var b=this.getPrevColumnHeader(),c=0;if(b){c=b.value+a;b.resizable&&b.setValue(c);var d=c-b.value;
c=a-d;0>d&&(c+=b._stealPrevWidth(d))}return c},_givePrevWidth:function(a){var b=this.getPrevColumnHeader(),c=0;if(b){c=b.value+a;b.resizable&&b.setValue(c);var d=c-b.value;c=a-d;0<d&&(c+=b._givePrevWidth(d))}return c},_stealNextWidth:function(a){var b=this.getNextColumnHeader();b&&(a=b.value+a,b.resizable&&b.setValue(a),a-=b.value,0>a&&b._stealNextWidth(a))},_giveNextWidth:function(a){var b=this.getNextColumnHeader();b&&(a=b.value+a,b.resizable&&b.setValue(a),a-=b.value,0<a&&b._giveNextWidth(a))},
_getGiveLeft:function(){var a=this.getPrevColumnHeader();return a?a.maxValue-a.value+a._getGiveLeft():0},_getGiveRight:function(){var a=this.getNextColumnHeader();return a?a.maxValue-a.value+a._getGiveRight():0},_getTakeLeft:function(){var a=this.getPrevColumnHeader();return a?a.minValue-a.value+a._getTakeLeft():0},_getTakeRight:function(){var a=this.getNextColumnHeader();return a?a.minValue-a.value+a._getTakeRight():0}});
myt.GridRow=new JS.Module("GridRow",{initNode:function(a,b){null==b.placement&&(b.placement="*");this.callSuper(a,b);(a=this.gridController)&&a.notifyAddRow(this)},destroy:function(a){this.setGridController();this.callSuper(a)},setGridController:function(a){var b=this.gridController;b!==a&&(b&&b.notifyRemoveRow(this),this.gridController=a,this.inited&&a&&a.notifyAddRow(this))},notifyColumnHeaderXChange:function(a){var b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyColumnHeaderWidthChange:function(a){var b=
this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyColumnHeaderVisibilityChange:function(a){var b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}});
myt.GridController=new JS.Module("GridController",{initNode:function(a,b){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(a,b);this._fitToWidth();this._notifyHeadersOfSortState();this.locked||this.doSort()},setSort:function(a){myt.areArraysEqual(a,this.sort)||(this.sort=a,this.inited&&(this.fireEvent("sort",a),this._notifyHeadersOfSortState(),this.locked||this.doSort()))},setLastColumn:function(a){var b=this.lastColumn;
b!==a&&(b&&b.setLast(!1),(this.lastColumn=a)&&a.setLast(!0))},setFitToWidth:function(a){this.fitToWidth=a},setLocked:function(a){this.locked=a;if(this.inited&&!a){this.__tempLock=!0;this._fitToWidth();this.__tempLock=!1;a=this.columnHeaders;var b=a.length;this.setMaxWidth(0);for(this.setMinWidth(0);b;){var c=a[--b];this.notifyColumnHeaderXChange(c);this.notifyColumnHeaderWidthChange(c);this.notifyColumnHeaderVisibilityChange(c)}this.doSort()}},setMaxWidth:function(a){this.set("maxWidth",a,!0)},setMinWidth:function(a){this.set("minWidth",
a,!0)},setGridWidth:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.gridWidth!==a&&(this.gridWidth=a,this.inited&&this._fitToWidth())},_fitToWidth:function(){if(!this.locked&&this.fitToWidth){for(var a=this.columnHeaders,b=a.length,c=b,d,e=0;c;)d=a[--c],d.visible&&(d=d.x+d.width,d>e&&(e=d));e=this.gridWidth-e;if(0!==e){var f=0<e,g=[];for(c=b;c;)if(d=a[--c],d.visible&&d.resizable&&0<d.flex){var h=(f?d.maxValue:d.minValue)-d.value;g.push({hdr:d,limit:h,amt:0})}c=g.length;if(!(0>=c)){for(var k=
0,l=0;0!==e;){h=g[k];d=h.hdr;h.full?++l:(f?(d=Math.min(d.flex,e),h.amt+d>h.limit&&(d=h.limit-h.amt,h.full=!0)):(d=Math.max(-d.flex,e),h.amt+d<h.limit&&(d=h.limit-h.amt,h.full=!0)),h.amt+=d,e-=d);if(l===c)break;++k;k===c&&(l=k=0)}for(;c;)h=g[--c],d=h.hdr,d.setValue(d.value+h.amt);if(0!==e){g=[];for(c=b;c;)d=a[--c],d.visible&&d.resizable&&0===d.flex&&(h=(f?d.maxValue:d.minValue)-d.value,g.push({hdr:d,limit:h,amt:0}));c=g.length;if(!(0>=c)){for(l=k=0;0!==e;){h=g[k];h.full?++l:(f?(d=Math.min(1,e),h.amt+
d>h.limit&&(d=h.limit-h.amt,h.full=!0)):(d=Math.max(-1,e),h.amt+d<h.limit&&(d=h.limit-h.amt,h.full=!0)),h.amt+=d,e-=d);if(l===c)break;++k;k===c&&(l=k=0)}for(;c;)h=g[--c],d=h.hdr,d.setValue(d.value+h.amt)}}}}}},_notifyHeadersOfSortState:function(){for(var a=this.columnHeaders,b=a.length,c,d=(c=this.sort)?c[0]:"",e=c?c[1]:"";b;)c=a[--b],c.columnId===d?c.sortable&&c.setSortState(e):c.setSortState("none")},doSort:function(){},getPrevColumnHeader:function(a){var b=this.columnHeaders,c=this.getColumnHeaderIndex(a);
if(0<c)for(;c;)if(a=b[--c],a.visible)return a;return null},getNextColumnHeader:function(a){var b=this.columnHeaders,c=b.length,d=this.getColumnHeaderIndex(a)+1;if(0<d&&d<c)for(;c>d;d++)if(a=b[d],a.visible)return a;return null},_findLastColumn:function(){for(var a=this.columnHeaders,b=a.length,c;b;)if(c=a[--b],c.visible)return c;return null},hasColumnHeader:function(a){return-1!==this.getColumnHeaderIndex(a)},getColumnHeaderIndex:function(a){return this.columnHeaders.indexOf(a)},getColumnHeaderById:function(a){for(var b=
this.columnHeaders,c=b.length,d;c;)if(d=b[--c],d.columnId===a)return d;return null},notifyAddColumnHeader:function(a){this.hasColumnHeader(a)||(this.columnHeaders.push(a),a.visible&&this.setLastColumn(a))},notifyRemoveColumnHeader:function(a){var b=this.getColumnHeaderIndex(a);0<=b&&(this.columnHeaders.splice(b,1),a.visible&&a.last&&this.setLastColumn(this.getPrevColumnHeader(a)))},notifyColumnHeaderXChange:function(a){if(!this.locked&&!this.__tempLock)for(var b=this.rows,c=b.length;c;)b[--c].notifyColumnHeaderXChange(a)},
notifyColumnHeaderWidthChange:function(a){if(!this.locked&&!this.__tempLock)for(var b=this.rows,c=b.length;c;)b[--c].notifyColumnHeaderWidthChange(a)},notifyColumnHeaderVisibilityChange:function(a){if(!this.locked&&!this.__tempLock){for(var b=this.rows,c=b.length;c;)b[--c].notifyColumnHeaderVisibilityChange(a);this.setLastColumn(this._findLastColumn());a.visible?(this.setMaxWidth(this.maxWidth+a.maxValue),this.setMinWidth(this.minWidth+a.minValue)):(this.setMaxWidth(this.maxWidth-a.maxValue),this.setMinWidth(this.minWidth-
a.minValue));this._fitToWidth()}},hasRow:function(a){return-1!==this.getRowIndex(a)},getRowIndex:function(a){return this.rows.indexOf(a)},notifyAddRow:function(a){if(!this.hasRow(a)&&(this.rows.push(a),!this.locked)){for(var b=this.columnHeaders,c=b.length,d;c;)d=b[--c],a.notifyColumnHeaderXChange(d),a.notifyColumnHeaderWidthChange(d),a.notifyColumnHeaderVisibilityChange(d);this.doSort()}},notifyRemoveRow:function(a){a=this.getRowIndex(a);0<=a&&this.rows.splice(a,1)}});
myt.Grid=new JS.Class("Grid",myt.View,{include:[myt.GridController],initNode:function(a,b){null==b.overflow&&(b.overflow="autox");null==b.bgColor&&(b.bgColor="#cccccc");null==b.rowSpacing&&(b.rowSpacing=1);null==b.columnSpacing&&(b.columnSpacing=1);this.callSuper(a,b)},doAfterAdoption:function(){var a=myt,b=a.View,c=a.SpacedLayout,d=this.sizeHeightToRows,e=new b(this,{name:"header",overflow:"hidden"});new c(e,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new a.SizeToChildren(e,
{name:"yLayout",locked:!0,axis:"y"});a=new b(this,{name:"content",overflow:d?"hidden":"autoy"});new c(a,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:d});this.syncTo(this,"setGridWidth","width");this.syncTo(e,"_updateContentWidth","width");this.applyConstraint("_updateContentHeight",[d?a:this,"height",e,"height",e,"y"]);this.callSuper()},setSizeHeightToRows:function(a){this.sizeHeightToRows=a},setRowSpacing:function(a){this.rowSpacing!==a&&(this.rowSpacing=a,this.inited&&
this.content.yLayout.setSpacing(a))},setColumnSpacing:function(a){this.columnSpacing!==a&&(this.columnSpacing=a,this.inited&&this.header.xLayout.setSpacing(a))},setLocked:function(a){if(this.inited){var b=this.header,c=b.xLayout;b=b.yLayout;var d=this.content.yLayout;a?(c.incrementLockedCounter(),b.incrementLockedCounter(),d.incrementLockedCounter()):(c.decrementLockedCounter(),c.update(),b.decrementLockedCounter(),b.update(),d.decrementLockedCounter(),d.update())}this.callSuper(a)},_updateContentWidth:function(a){this.content.setWidth(a.value)},
_updateContentHeight:function(a){var b=this.header;a=this.content;b=b.y+b.height;a.setY(b);this.sizeHeightToRows?this.setHeight(b+a.height):a.setHeight(this.height-b)},determinePlacement:function(a,b){if("*"===a){if(b.isA(myt.GridRow))var c=this.content;else b.isA(myt.GridColumnHeader)&&(c=this.header);if(c)return b.gridController!==this&&b.setGridController(this),c}return this.callSuper(a,b)},doSort:function(){var a=this.sort||["",""];if(a=this.getSortFunction(a[0],a[1])){var b=this.content,c=b.yLayout;
this.rows.sort(a);b.sortSubviews(a);c.sortSubviews(a);c.update()}},getSortFunction:function(a,b){if(a){var c="ascending"===b?1:-1,d=a+"View";return function(a,b){a=a[d].text;b=b[d].text;return a>b?c:b>a?-c:0}}}});
myt.FontAwesome=new JS.Class("FontAwesome",myt.Markup,{extend:{FA_SIZE_CLASSES:" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),makeTag:function(a){if(Array.isArray(a)){var b=a.length;if(0<b){a.unshift("fa");++b;0!==a[1].indexOf("fa-")&&(a[1]="fa-"+a[1]);3<=b&&(a[2]=this.FA_SIZE_CLASSES[a[2]]||"");if(3<b)for(var c,d=3;b>d;++d)c=a[d],0!==c.indexOf("fa-")&&(a[d]="fa-"+c);return'<i class="'+a.join(" ")+'"></i>'}}myt.dumpStack("Error making tag");console.error(a);return""},targets:[],active:!1,registerForNotification:function(a){this.active||
this.targets.push(a)},notifyActive:function(a){if(this.active=a)for(a=this.targets;a.length;)a.pop().sizeViewToDom()}},initNode:function(a,b){this.size=0;this.icon="";this.callSuper(a,b);this.__update();myt.FontAwesome.registerForNotification(this)},setIcon:function(a){var b=this.icon;this.set("icon",a,!0);this.inited&&b!==a&&this.__update()},setSize:function(a){var b=this.size;this.set("size",a,!0);this.inited&&b!==a&&this.__update()},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&this.__update()},__update:function(){var a=this.properties;a?(a="string"===typeof a?a.split(" "):a.concat(),a.unshift(this.size),a.unshift(this.icon)):a=[this.icon,this.size];this.setHtml(myt.FontAwesome.makeTag(a))}});
(function(){function a(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function b(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function z(){document.removeEventListener("DOMContentLoaded",z);a()}):document.attachEvent("onreadystatechange",function B(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",B),a()})}function c(a){this.a=document.createElement("div");
this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}function d(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+
b+";"}function e(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function f(b,c){function d(){var a=f;e(a)&&a.a.parentNode&&c(a.g)}var f=b;a(b.b,d);a(b.c,d);e(b)}function g(a,b){b=b||{};this.family=a;this.style=b.style||"normal";this.weight=b.weight||"normal";this.stretch=b.stretch||"normal"}function h(){if(null===p)if(k()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
p=!!a&&603>parseInt(a[1],10)}else p=!1;return p}function k(){null===u&&(u=!!document.fonts);return u}function l(){if(null===r){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(E){}r=""!==a.style.font}return r}function m(a,b){return[a.style,a.weight,l()?a.stretch:"","100px",b].join(" ")}var n=null,p=null,r=null,u=null;g.prototype.load=function(a,e){var g=this,l=a||"BESbswy",p=0,r=e||3E3,t=(new Date).getTime();return new Promise(function(a,e){if(k()&&!h()){var q=
new Promise(function(a,b){function c(){(new Date).getTime()-t>=r?b(Error(""+r+"ms timeout exceeded")):document.fonts.load(m(g,'"'+g.family+'"'),l).then(function(b){1<=b.length?a():setTimeout(c,25)},b)}c()}),u=new Promise(function(a,b){p=setTimeout(function(){b(Error(""+r+"ms timeout exceeded"))},r)});Promise.race([u,q]).then(function(){clearTimeout(p);a(g)},e)}else b(function(){function b(){var b;if(b=-1!=y&&-1!=v||-1!=y&&-1!=z||-1!=v&&-1!=z)(b=y!=v&&y!=z&&v!=z)||(null===n&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),
n=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=n&&(y==A&&v==A&&z==A||y==B&&v==B&&z==B||y==w&&v==w&&z==w)),b=!b;b&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(p),a(g))}function h(){if((new Date).getTime()-t>=r)x.parentNode&&x.parentNode.removeChild(x),e(Error(""+r+"ms timeout exceeded"));else{var a=document.hidden;if(!0===a||void 0===a)y=k.a.offsetWidth,v=q.a.offsetWidth,z=u.a.offsetWidth,b();p=setTimeout(h,50)}}var k=new c(l),q=new c(l),u=new c(l),y=
-1,v=-1,z=-1,A=-1,B=-1,w=-1,x=document.createElement("div");x.dir="ltr";d(k,m(g,"sans-serif"));d(q,m(g,"serif"));d(u,m(g,"monospace"));x.appendChild(k.a);x.appendChild(q.a);x.appendChild(u.a);document.body.appendChild(x);A=k.a.offsetWidth;B=q.a.offsetWidth;w=u.a.offsetWidth;h();f(k,function(a){y=a;b()});d(k,m(g,'"'+g.family+'",sans-serif'));f(q,function(a){v=a;b()});d(q,m(g,'"'+g.family+'",serif'));f(u,function(a){z=a;b()});d(u,m(g,'"'+g.family+'",monospace'))})})};"object"===typeof module?module.exports=
g:(window.FontFaceObserver=g,window.FontFaceObserver.prototype.load=g.prototype.load)})();(new FontFaceObserver("Font Awesome 5 Free")).load("\uf00c\uf000").then(function(){setTimeout(function(){myt.FontAwesome.notifyActive(!0)},100)});myt.loadCSSFonts(["//use.fontawesome.com/releases/v5.0.8/css/all.css"]);
myt.SimpleGridColumnHeader=new JS.Class("SimpleGridColumnHeader",myt.SimpleIconTextButton,{include:[myt.GridColumnHeader],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#999999");null==b.hoverColor&&(b.hoverColor="#bbbbbb");null==b.readyColor&&(b.readyColor="#aaaaaa");null==b.inset&&(b.inset=2);null==b.outset&&(b.outset=2);null==b.height&&(b.height=18);null==b.contentAlign&&(b.contentAlign="left");null==b.sortIconColor&&(b.sortIconColor="#666666");this.callSuper(a,b);this.setDisabled(!this.sortable);
this._updateTextWidth();this._updateSortIcon()},doAfterAdoption:function(){new myt.FontAwesome(this,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:this.sortIconColor},[{initNode:function(a,b){this.callSuper(a,b);this.deStyle.fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();var a=this.parent;a.setOutset(this.width+2);a._updateTextWidth()}}]);this.callSuper();this.textView.enableEllipsis()},setSortIconColor:function(a){this.sortIconColor=a;this.sortIcon&&this.sortIcon.setTextColor(a)},
setSortable:function(a){this.callSuper(a);this.inited&&(a&&this.setOutset(14),this.setDisabled(!a),this._updateSortIcon())},setSortState:function(a){this.callSuper(a);this.inited&&this._updateSortIcon()},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this._updateTextWidth()},_updateSortIcon:function(){var a="";if(this.sortable)switch(this.sortState){case "ascending":a="chevron-up";break;case "descending":a="chevron-down"}this.sortIcon.setIcon(a)},_updateTextWidth:function(){if("left"===this.contentAlign){var a=
this.textView;a&&a.setWidth(this.width-this.outset-a.x)}},doActivated:function(){if(!this.disabled){switch(this.sortState){case "ascending":this.setSortState("descending");break;case "descending":this.setSortState("ascending");break;case "none":this.setSortState("ascending")}this.gridController.setSort([this.columnId,this.sortState])}},drawDisabledState:function(){this.setBgColor(this.readyColor)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()}});
myt.InfiniteListRow=new JS.Module("InfiniteListRow",{include:[myt.Reusable],setInfiniteOwner:function(a){this.infiniteOwner=a},setModel:function(a){this.model=a}});
myt.InfiniteList=new JS.Class("InfiniteList",myt.View,{extend:{DEFAULT_ROW_SPACING:1,DEFAULT_ROW_HEIGHT:30,DEFAULT_ROW_INSET:0,DEFAULT_ROW_OUTSET:0,DEFAULT_BG_COLOR:"#cccccc"},initNode:function(a,b){var c=myt,d=c.InfiniteList,e=b.rowClass;delete b.rowClass;null==b.modelIDName&&(b.modelIDName="id");null==b.numericSort&&(b.numericSort=!0);null==b.ascendingSort&&(b.ascendingSort=!0);null==b.overflow&&(b.overflow="autoy");null==b.bgColor&&(b.bgColor=d.DEFAULT_BG_COLOR);null==b.rowSpacing&&(b.rowSpacing=
d.DEFAULT_ROW_SPACING);null==b.rowInset&&(b.rowInset=d.DEFAULT_ROW_INSET);null==b.rowOutset&&(b.rowOutset=d.DEFAULT_ROW_OUTSET);null==b.rowHeight&&(b.rowHeight=d.DEFAULT_ROW_HEIGHT);this._rowExtent=this.rowSpacing=this.rowHeight=this._startIdx=this._endIdx=0;this.callSuper(a,b);this.getInnerDomStyle().overscrollBehavior="contain";a=this._listView=new c.View(this);this._scrollAnchorView=new c.View(a,{width:1,height:1,bgColor:"transparent"});this._itemPool=new c.TrackActivesPool(e,a);this.attachTo(this,
"refreshListUI","height");this.attachToDom(this,"_handleScrollChange","scroll")},setCollectionModel:function(a){this.collectionModel=a},setModelIDName:function(a){this.modelIDName=a},setRowSpacing:function(a){this.rowSpacing=a;this._updateRowExtent()},setRowHeight:function(a){this.rowHeight=a;this._updateRowExtent()},getListData:function(){return this._listData},_updateRowExtent:function(){this._rowExtent=this.rowSpacing+this.rowHeight},setWidth:function(a,b){if(0<a&&(this.callSuper(a,b),this.inited)){a=
this._listView;var c=this.width;a.setWidth(c);a.getSubviews().forEach(function(a){a.setWidth(c)})}},_getDomScrollTop:function(){return this.getInnerDomElement().scrollTop},_setDomScrollTop:function(a){this.getInnerDomElement().scrollTop=a},isScrolledToEnd:function(){return this._getDomScrollTop()+this.height===this._listView.height},getSortFunction:function(){var a=this.modelIDName,b=this.ascendingSort?1:-1;return this.numericSort?function(c,d){return(c[a]-d[a])*b}:function(c,d){c=c[a];d=d[a];return(c>
d?1:c<d?-1:0)*b}},getFilterFunction:function(){},scrollModelIntoView:function(a){var b=this.getIndexOfModelInData(a),c=this._rowExtent;if(0<=b){a=this._getDomScrollTop();var d=a+this.height;b=this.rowInset+b*c;c=b+c;if(b<=a)return this._setDomScrollTop(b),!0;if(c>=d)return this._setDomScrollTop(c-this.height),!0}return!1},isModelInData:function(a){return-1!==this.getIndexOfModelInData(a)},getNextModel:function(a,b,c){b=void 0===b?!0:b;c=void 0===c?!0:c;var d=this.getListData(),e=d.length;a=this.getIndexOfModelInData(a);
if(0<=a)return a+=1,a>=e?b?d[0]:d[e-1]:d[a];if(c&&0<e)return d[e-1]},getPrevModel:function(a,b,c){b=void 0===b?!0:b;c=void 0===c?!0:c;var d=this.getListData(),e=d.length;a=this.getIndexOfModelInData(a);if(0<=a)return--a,0>a?b?d[e-1]:d[0]:d[a];if(c&&0<e)return d[0]},getIndexOfModelInData:function(a){if(a){var b=this.modelIDName;a=a[b];for(var c=this.getListData(),d=c.length;d;)if(c[--d][b]===a)return d}return-1},getActiveRowForModel:function(a){for(var b=this._itemPool.getActives(),c=b.length,d;c;)if(d=
b[--c],d.model===a)return d},_handleScrollChange:function(a){this.refreshListUI()},refreshListData:function(a){this._listData=this.fetchListData();this.resetListUI(a)},fetchListData:function(){return this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction())},resetListUI:function(a){var b=this.getListData().length,c,d=this._visibleRowsByIdx,e=this._listView,f=this._scrollAnchorView;e.setHeight(b*this._rowExtent-(0<b?this.rowSpacing:0)+this.rowInset+this.rowOutset);f.setY(e.height-
f.height);this._startIdx=this._endIdx=0;for(c in d)this.putRowBackInPool(d[c]);this._visibleRowsByIdx={};a||0===this._getDomScrollTop()?this.refreshListUI():this._setDomScrollTop(0)},putRowBackInPool:function(a){a.setVisible(!1);this._itemPool.putInstance(a)},refreshListUI:function(){var a=this._getDomScrollTop();var b=this.getListData()||[],c=this._visibleRowsByIdx,d=this._itemPool,e=this.width,f=this.rowHeight,g=this._rowExtent,h=this.rowInset,k;var l=Math.max(0,Math.floor((a-h)/g));a=Math.min(b.length,
Math.ceil((a-h+this.height)/g));if(this._startIdx!==l||this._endIdx!==a){this._startIdx=l;this._endIdx=a;for(k in c)if(k<l||k>=a)this.putRowBackInPool(c[k]),delete c[k];for(k=l;k<a;k++)l=c[k],l||(l=d.getInstance(),l.setWidth(e),l.setHeight(f),l.setY(h+k*g),l.setModel(b[k]),l.setInfiniteOwner(this),l.setVisible(!0),c[k]=l),l.bringToFront()}this.doAfterListRefresh()},doAfterListRefresh:function(){}});
myt.SelectableInfiniteListRow=new JS.Module("SelectableInfiniteListRow",{include:[myt.InfiniteListRow,myt.Selectable]});
myt.SelectableInfiniteList=new JS.Class("SelectableInfiniteList",myt.InfiniteList,{setSelectedRow:function(a){var b=this.selectedRow;a!==b&&(b&&b.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",a,!0),a&&(this.setSelectedRowModel(a.model),a.setSelected(!0)))},setSelectedRowModel:function(a){this.set("selectedRowModel",a,!0);this.scrollModelIntoView(this.selectedRowModel)},_clearSelectedRow:function(){var a=this.selectedRow;a&&(a.setSelected(!1),this.set("selectedRow",null,!0))},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},
selectRowForModel:function(a,b){a&&(this._clearSelectedRow(),this.setSelectedRowModel(a),this.refreshListUI(),b&&(a=this.getActiveSelectedRow())&&a.focus())},selectNextRowForModel:function(a,b){b=void 0===b?!0:b;this.selectRowForModel(this.getNextModel(a),b)},selectPrevRowForModel:function(a,b){b=void 0===b?!0:b;this.selectRowForModel(this.getPrevModel(a),b)},resetListUI:function(a){this.isModelInData(this.selectedRowModel)?this._clearSelectedRow():this.setSelectedRow();this.callSuper(a)},putRowBackInPool:function(a){a.selected&&
this._clearSelectedRow();this.callSuper(a)},doAfterListRefresh:function(){var a=this.getActiveSelectedRow();a&&(this.set("selectedRow",a,!0),a.setSelected(!0));this.callSuper()}});
myt.SimpleSelectableInfiniteListRow=new JS.Class("SimpleSelectableInfiniteListRow",myt.SimpleButton,{include:[myt.SelectableInfiniteListRow],extend:{DEFAULT_SELECTED_COLOR:"#ccccff",DEFAULT_ACTIVE_COLOR:"#f8f8f8",DEFAULT_HOVER_COLOR:"#eeeeee",DEFAULT_READY_COLOR:"#ffffff"},initNode:function(a,b){var c=myt.SimpleSelectableInfiniteListRow;null==b.selectedColor&&(b.selectedColor=c.DEFAULT_SELECTED_COLOR);null==b.activeColor&&(b.activeColor=c.DEFAULT_ACTIVE_COLOR);null==b.hoverColor&&(b.hoverColor=c.DEFAULT_HOVER_COLOR);
null==b.readyColor&&(b.readyColor=c.DEFAULT_READY_COLOR);null==b.focusEmbellishment&&(b.focusEmbellishment=!1);null==b.activationKeys&&(b.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(a,b)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(a){this.callSuper(a);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&
this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(a,b){b=this.infiniteOwner;var c=this.model;switch(a){case 27:this.selected&&b.setSelectedRow();break;case 37:case 38:b.selectPrevRowForModel(c);break;case 39:case 40:b.selectNextRowForModel(c)}},doActivationKeyUp:function(a){switch(a){case 13:case 32:this.doActivated()}}});
myt.StackablePanel=new JS.Module("StackablePanel",{include:[myt.Selectable],initNode:function(a,b){b.visible=b.selected=!1;null==b.bgColor&&(b.bgColor="#ffffff");null==b.panelId&&(b.panelId=b.name);this.callSuper(a,b);this.selected&&this.doStackTransition()},setPanelStack:function(a){this.panelStack=a},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(a){this.panelId=a},setSelected:function(a){this.selected!==a&&(this.callSuper(a),this.inited&&this.doStackTransition())},
doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});myt.PanelStackTransition=new JS.Class("PanelStackTransition",myt.Node,{to:function(a){return myt.promise(a).keep()},from:function(a){return myt.promise(a).keep()}});
myt.PanelStackFadeTransition=new JS.Class("PanelStackFadeTransition",myt.PanelStackTransition,{initNode:function(a,b){null==b.duration&&(b.duration=1E3);this.callSuper(a,b)},setDuration:function(a){this.duration=a},to:function(a){var b=myt.promise(a);a.stopActiveAnimators("opacity");a.setVisible(!0);a.animate({attribute:"opacity",to:1,duration:this.duration}).next(function(c){a.makeHighestZIndex();b.keep()});return b},from:function(a){var b=myt.promise(a);a.stopActiveAnimators("opacity");a.animate({attribute:"opacity",
to:0,duration:this.duration}).next(function(c){a.setVisible(!1);b.keep()});return b}});
myt.PanelStackSlideTransition=new JS.Class("PanelStackSlideTransition",myt.PanelStackTransition,{initNode:function(a,b){null==b.duration&&(b.duration=1E3);null==b.direction&&(b.direction="right");this.callSuper(a,b)},setDuration:function(a){this.duration=a},setDirection:function(a){this.direction=a},to:function(a){var b=myt.promise(a),c=a.getPanelStack();switch(this.direction){case "left":var d="x";var e=c.width;break;case "right":d="x";e=-c.width;break;case "up":d="y";e=c.height;break;case "down":d=
"y",e=-c.height}a.stopActiveAnimators(d);a.set(d,e);a.setVisible(!0);c=function(c){a.makeHighestZIndex();b.keep()};0<this.duration?a.animate({attribute:d,to:0,duration:this.duration}).next(c):(a.set(d,0),c());return b},from:function(a){var b=myt.promise(a),c=a.getPanelStack();switch(this.direction){case "left":var d="x";var e=-c.width;break;case "right":d="x";e=c.width;break;case "up":d="y";e=-c.height;break;case "down":d="y",e=c.height}a.stopActiveAnimators(d);c=function(c){a.setVisible(!1);b.keep()};
0<this.duration?a.animate({attribute:d,to:e,duration:this.duration}).next(c):(a.set(d,e),c());return b}});
myt.PanelStack=new JS.Class("PanelStack",myt.View,{include:[myt.SelectionManager],initNode:function(a,b){b.overflow="hidden";null==b.itemSelectionId&&(b.itemSelectionId="panelId");null==b.maxSelected&&(b.maxSelected=1);this.callSuper(a,b);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(a){this.set("transition",a,!0)},__updateWidth:function(a){var b=this.getActivePanel();b&&b.setWidth(a.value)},__updateHeight:function(a){var b=this.getActivePanel();
b&&b.setHeight(a.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(a){return this.getSelectableItem(a)},selectPanel:function(a){this.selectById(a)},doSelected:function(a){a.setWidth(this.width);a.setHeight(this.height)},doStackTransition:function(a){this["doStackTransition"+(a.selected?"To":"From")](a)},doStackTransitionTo:function(a){this.doBeforeTransitionTo(a);var b=this.transition;if(b){var c=this;b.to(a).next(function(a){c.doAfterTransitionTo(a)})}else a.makeHighestZIndex(),
a.setVisible(!0),this.doAfterTransitionTo(a)},doBeforeTransitionTo:function(a){},doAfterTransitionTo:function(a){},doStackTransitionFrom:function(a){this.doBeforeTransitionFrom(a);var b=this.transition;if(b){var c=this;b.from(a).next(function(a){c.doAfterTransitionFrom(a)})}else a.setVisible(!1),this.doAfterTransitionFrom(a)},doBeforeTransitionFrom:function(a){},doAfterTransitionFrom:function(a){}});
myt.DragGroupSupport=new JS.Module("DragGroupSupport",{initNode:function(a,b){this.__dragGroups={"*":!0};this.__acceptAny=!0;this.callSuper(a,b)},setDragGroups:function(a){var b={},c;for(c in a)b[c]=!0;this.__dragGroups=b;this.__acceptAny=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dragGroups},addDragGroup:function(a){a&&(this.__dragGroups[a]=!0,"*"===a&&(this.__acceptAny=!0))},removeDragGroup:function(a){a&&(delete this.__dragGroups[a],"*"===a&&(this.__acceptAny=!1))},acceptAnyDragGroup:function(){return this.__acceptAny}});
myt.Dropable=new JS.Module("Dropable",{include:[myt.Draggable,myt.DragGroupSupport],setDropTarget:function(a){this.dropTarget=a},setDropped:function(a){this.dropped=a},setDropFailed:function(a){this.dropFailed=a},willPermitDrop:function(a){return!0},startDrag:function(a){this.setDropped(!1);this.setDropFailed(!1);myt.global.dragManager.startDrag(this);this.callSuper(a)},updateDrag:function(a){myt.global.dragManager.updateDrag(a,this);this.callSuper(a)},stopDrag:function(a,b){myt.global.dragManager.stopDrag(a,
this,b);this.callSuper(a,b);b?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(a){this.setDropTarget(a)},notifyDragLeave:function(a){this.setDropTarget()},notifyDropped:function(a,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:function(){},notifyDropAborted:function(){}});
myt.DropTarget=new JS.Module("DropTarget",{include:[myt.DragGroupSupport],initNode:function(a,b){this.callSuper(a,b);myt.global.dragManager.registerDropTarget(this)},destroyAfterOrphaning:function(){myt.global.dragManager.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(a){return this.disabled||!this.isVisible()?!1:!0},notifyDragStart:function(a){},notifyDragStop:function(a){},notifyDragEnter:function(a){},notifyDragLeave:function(a){},notifyDrop:function(a){}});
myt.DropSource=new JS.Module("DropSource",{include:[myt.Draggable],initNode:function(a,b){null==b.distanceBeforeDrag&&(b.distanceBeforeDrag=2);null==b.dropParent&&(b.dropParent=a.getRoot());this.callSuper(a,b)},setDropClass:function(a){this.dropClass=myt.resolveClassname(a)},setDropClassAttrs:function(a){this.dropClassAttrs=a},setDropParent:function(a){this.dropParent=a},startDrag:function(a){var b=this.dropable=this.makeDropable();if(b){var c=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(a);
b.__doMouseDown(a);b.distanceBeforeDrag=c}},doMouseUp:function(a){this.callSuper(a);var b=this.dropable;b&&(b.__doMouseUp(a),b.doMouseUp(a),this.dropable=null)},makeDropable:function(){var a=this.dropClass,b=this.dropParent;if(a&&b){var c=myt.DomElementProxy.getPagePosition(this.getInnerDomElement(),b.getInnerDomElement()),d=myt.extend({},this.dropClassAttrs);d.x=c.x||0;d.y=c.y||0;return new a(b,d)}}});
myt.AutoScroller=new JS.Module("AutoScroller",{include:[myt.DragGroupSupport],initNode:function(a,b){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;null==b.overflow&&(b.overflow="auto");this.callSuper(a,b);myt.global.dragManager.registerAutoScroller(this)},destroyAfterOrphaning:function(){myt.global.dragManager.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(a){this.scrollBorder=a},setScrollFrequency:function(a){this.scrollFrequency=
a},setScrollAmount:function(a){this.scrollAmount=a},setScrollAcceleration:function(a){this.scrollAcceleration=a},notifyDragStart:function(a){a=this.getInnerDomElement();(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)&&this.attachToDom(myt.global.mouse,"__handleMouseMove","mousemove",!0)},notifyDragStop:function(a){this.detachFromDom(myt.global.mouse,"__handleMouseMove","mousemove",!0);this.__resetVScroll();this.__resetHScroll()},__handleMouseMove:function(a){var b=a.value;a=b.pageX;b=
b.pageY;if(this.containsPoint(a,b)){var c=this.getPagePosition(),d=this.scrollBorder;a-=c.x;b-=c.y;b<d?(this.__isAutoscrollUp=!0,this.__amountscrollUp=this.__calculateAmount((d-b)/d),this.__timerIdAutoscrollUp||this.__doAutoScrollAdj("scrollUp",-1)):this.height-b<d?(this.__isAutoscrollDown=!0,this.__amountscrollDown=this.__calculateAmount((d-(this.height-b))/d),this.__timerIdAutoscrollDown||this.__doAutoScrollAdj("scrollDown",1)):this.__resetVScroll();a<d?(this.__isAutoscrollLeft=!0,this.__amountscrollLeft=
this.__calculateAmount((d-a)/d),this.__timerIdAutoscrollLeft||this.__doAutoScrollAdj("scrollLeft",-1)):this.width-a<d?(this.__isAutoscrollRight=!0,this.__amountscrollRight=this.__calculateAmount((d-(this.width-a))/d),this.__timerIdAutoscrollRight||this.__doAutoScrollAdj("scrollRight",1)):this.__resetHScroll()}else this.__resetVScroll(),this.__resetHScroll()},__calculateAmount:function(a){return Math.round(this.scrollAmount*(1+this.scrollAcceleration*a))},__resetVScroll:function(){this.__isAutoscrollUp=
this.__isAutoscrollDown=!1;this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null},__resetHScroll:function(){this.__isAutoscrollLeft=this.__isAutoscrollRight=!1;this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null},__doAutoScrollAdj:function(a,b){var c=this;c["__isAuto"+a]&&(c.getInnerDomElement()["scrollUp"===a||"scrollDown"===a?"scrollTop":"scrollLeft"]+=b*c["__amount"+a],c["__timerIdAuto"+a]=setTimeout(function(){c.__doAutoScrollAdj(a,b)},c.scrollFrequency))}});
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Constrainable],initialize:function(a,b){if(b)for(var c=0,d=b.length,e;d>c;)(e=b[c++])?this.extend(e):console.warn("Missing mixin in:"+this.klass.__displayName);this.inited=!1;this.init(a||{})},init:function(a){this.callSetters(a);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(function(a){var b=a.Geometry.degreesToRadians,c=function(c){a.Annulus.draw(c.__path,b(c.startAngle),b(c.endAngle),c.thickness,c.radius,c.width/2,c.color,c.startCapRounding,c.endCapRounding)},d=function(a){var b=2*(a.radius+a.thickness),d=a.__svg;a.setWidth(b);a.setHeight(b);d.setAttribute("viewBox","0 0 "+b+" "+b);d.setAttribute("width",b);d.setAttribute("height",b);c(a)};a.Annulus=new JS.Class("Annulus",a.View,{extend:{draw:function(a,b,c,d,k,l,m,n,p){if(b>c){var e=b;b=c;c=e}e=k+d;var f=Math.PI,
g=c-b,h=g+1E-4>=2*f;h&&(b=0,c=f);var z=Math.cos,B=Math.sin;b=[[l+e*z(b),l+e*B(b)],[l+e*z(c),l+e*B(c)],[l+k*z(c),l+k*B(c)],[l+k*z(b),l+k*B(b)]];c=[];c.push("M"+b[0].join());h?(c.push("A"+[e,e,0,1,1,b[1]].join()),c.push("A"+[e,e,0,1,1,b[0]].join()),c.push("L"+b[2].join()),c.push("A"+[k,k,0,1,0,b[3]].join()),c.push("A"+[k,k,0,1,0,b[2]].join())):(f=g%(2*f)>f?1:0,c.push("A"+[e,e,0,f,1,b[1]].join()),p?c.push("A"+[d/2,d/2,0,0,1,b[2]].join()):c.push("L"+b[2].join()),c.push("A"+[k,k,0,f,0,b[3]].join()),n&&
c.push("A"+[d/2,d/2,0,0,1,b[0]].join()));c.push("z");a.setAttribute("d",c.join(" "));a.setAttribute("fill",m)},makeSVG:function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg",a);b&&b.appendChild(a);return a}},initNode:function(a,b){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(a,b);d(this)},createOurDomElement:function(b){b=this.callSuper(b);var c=a.Annulus.makeSVG;var d=Array.isArray(b)?b[1]:b;d=this.__svg=c("svg",
d);this.__path=c("path",d);d.style.pointerEvents="none";return b},setRadius:function(a){this.radius!==a&&(this.radius=a=Math.max(0,a),this.inited&&(d(this),this.fireEvent("radius",a)))},setThickness:function(a){this.thickness!==a&&(this.thickness=a=Math.max(0,a),this.inited&&(d(this),this.fireEvent("thickness",a)))},setStartAngle:function(a){this.startAngle!==a&&(this.startAngle=a,this.inited&&(c(this),this.fireEvent("startAngle",a)))},setEndAngle:function(a){this.endAngle!==a&&(this.endAngle=a,this.inited&&
(c(this),this.fireEvent("endAngle",a)))},setStartCapRounding:function(a){this.startCapRounding!==a&&(this.startCapRounding=a,this.inited&&(c(this),this.fireEvent("startCapRounding",a)))},setEndCapRounding:function(a){this.endCapRounding!==a&&(this.endCapRounding=a,this.inited&&(c(this),this.fireEvent("endCapRounding",a)))},setColor:function(a){this.color!==a&&(this.color=a,this.inited&&(c(this),this.fireEvent("color",a)))},sendSubviewToBack:function(a){if(a.parent===this){var b=this.getInnerDomElement(),
c=b.childNodes[1];a.getOuterDomElement()!==c&&(a=b.removeChild(a.getOuterDomElement()))&&b.insertBefore(a,c)}},isColorAttr:function(a){return"color"===a||this.callSuper(a)}})})(myt);
myt.WebSocket=new JS.Class("WebSocket",myt.Node,{initNode:function(a,b){this.status="closed";this.useJSON=!0;this.callSuper()},destroy:function(){this.close(1E3,"destroyed");this.callSuper()},setUseJSON:function(a){this.useJSON!==a&&(this.useJSON=a,this.inited&&this.fireEvent("useJSON",a))},setStatus:function(a){this.status!==a&&(this.status=a,this.inited&&this.fireEvent("status",a))},setUrl:function(a){"object"===typeof a&&"function"===typeof a.isA&&a.isA(myt.URI)&&(a=a.toString());this.url=a},setProtocols:function(a){this.protocols=
a},connect:function(a){if(!this._ws&&this.url)try{var b=this._ws=new WebSocket(this.url,this.protocols),c=this.onOpen.bind(this);b.onopen=a?function(d){c(d);a(d);b.onopen=c}:c;b.onerror=this.onError.bind(this);b.onmessage=this.onMessage.bind(this);b.onclose=this.onClose.bind(this)}catch(d){this.onError(d)}},send:function(a,b){var c=this._ws;if(c&&"open"===this.status){if(this.useJSON)try{a=JSON.stringify(a)}catch(e){this.onError(e)}c.send(a);return!0}if(b)return!1;var d=this;this.connect(function(b){d.send(a,
!0)})},close:function(a,b){this._ws&&this._ws.close(a||1E3,b||"close")},onOpen:function(a){this.setStatus("open")},onError:function(a){console.error(a);(a=this._ws)&&1!==a.readyState&&this.close()},onMessage:function(a){a=a.data;if(this.useJSON)try{a=JSON.parse(a)}catch(b){this.onError(b)}return a},onClose:function(a){this._ws&&delete this._ws;this.setStatus("closed")}});
myt.MessageTypeWebSocket=new JS.Class("MessageTypeWebSocket",myt.WebSocket,{extend:{MATCH_ANYTHING:function(a){return!0},matcherFunctionsByKey:{}},initNode:function(a,b){this._listeners=[];null==b.protocols&&(b.protocols="typedMessage");this.callSuper()},registerListener:function(a,b){if(a&&(b=this._makeMatcherFunction(b))){for(var c=this._listeners,d=c.length,e;d;)if(e=c[--d],e.func===a){a=e.patternMatchers;for(c=a.length;c;)if(a[--c]===b)return;a.push(b);return}c.push({func:a,patternMatchers:[b]})}},
unregisterListener:function(a,b){if(a&&(b=this._makeMatcherFunction(b)))for(var c=this._listeners,d=c.length,e;d;)if(e=c[--d],e.func===a){a=e.patternMatchers;for(e=a.length;e;)if(a[--e]===b){a.splice(e,1);break}0===a.length&&c.splice(d,1);break}},_makeMatcherFunction:function(a){if("string"===typeof a){var b=myt.MessageTypeWebSocket.matcherFunctionsByKey;b=b[a]||(b[a]=function(b){return b===a})}else"function"===typeof a?b=a:null==a&&(b=myt.MessageTypeWebSocket.MATCH_ANYTHING);return b},_getListenersForType:function(a){for(var b=
[],c=this._listeners,d=c.length,e,f,g;d;)for(e=c[--d],f=e.patternMatchers,g=f.length;g;)f[--g](a)&&b.push(e.func);return b},sendTypedMessage:function(a,b,c){if(b=this.createMessage(a,b))return this.send(b,c)},createMessage:function(a,b){try{var c=JSON.stringify(b)}catch(d){console.error(d);return}return{type:a||"",msg:c,date:Date.now()}},onMessage:function(a){a=this.callSuper(a);try{a.msg=JSON.parse(a.msg)}catch(d){this.onError(a);return}for(var b=this._getListenersForType(a.type),c=b.length;c;)b[--c](a);
return a}});
myt.BaseTooltip=new JS.Class("BaseTooltip",myt.View,{include:[myt.RootView],extend:{DEFAULT_TIP_DELAY:500,DEFAULT_TIP_HIDE_DELAY:100},initNode:function(a,b){var c=myt.BaseTooltip;this.tipDelay=this.nextTipDelay=c.DEFAULT_TIP_DELAY;this.tipHideDelay=c.DEFAULT_TIP_HIDE_DELAY;null==b.visible&&(b.visible=!1);this.callSuper(a,b)},setTooltip:function(a){this.inited&&(this.tooltip=a)&&(this.attachToDom(myt.global.mouse,"__checkMouseMovement","mousemove",!0),a=a.parent,this.attachToDom(a,"hideTip","mousedown",
!0),this.attachToDom(a,"hideTip","mouseup",!0))},__checkMouseMovement:function(a){var b=this;b._lastPos=myt.MouseObservable.getMouseFromEvent(a);b.__checkIn()&&(b.__clearTimeout(),b.__checkTipTimerId=setTimeout(function(){delete b.__checkTipTimerId;b.__checkIn()&&b.showTip()},b.nextTipDelay))},__clearTimeout:function(){this.__checkTipTimerId&&(clearTimeout(this.__checkTipTimerId),delete this.__checkTipTimerId)},__checkIn:function(){var a=this.tooltip;if(a){var b=this._lastPos;if(a.parent.containsPoint(b.x,
b.y))return!0}this.hideTip();return!1},hideTip:function(a){this.__clearTimeout();a=this.tooltip.parent;this.detachFromDom(a,"hideTip","mousedown",!0);this.detachFromDom(a,"hideTip","mouseup",!0);this.detachFromDom(myt.global.mouse,"__checkMouseMovement","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){myt.global.dragManager.dragView||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}});
myt.Tooltip=new JS.Class("Tooltip",myt.BaseTooltip,{extend:{DEFAULT_POINTER_WIDTH:7,DEFAULT_POINTER_HEIGHT:4,DEFAULT_EDGE_WIDTH:1,DEFAULT_POINTER_INSET:2,DEFAULT_HORIZONTAL_INSET:4,DEFAULT_TOP_INSET:2,DEFAULT_BOTTOM_INSET:3,DEFAULT_SHADOW_WIDTH:2,DEFAULT_MAX_TEXT_WIDTH:280,DEFAULT_TIP_BG_COLOR:"#dddddd",DEFAULT_EDGE_COLOR:"#666666",DEFAULT_SHADOW_COLOR:"#000000"},initNode:function(a,b){var c=myt,d=c.Tooltip;null==b.pointerWidth&&(b.pointerWidth=d.DEFAULT_POINTER_WIDTH);null==b.pointerHeight&&(b.pointerHeight=
d.DEFAULT_POINTER_HEIGHT);null==b.edgeWidth&&(b.edgeWidth=d.DEFAULT_EDGE_WIDTH);null==b.pointerInset&&(b.pointerInset=d.DEFAULT_POINTER_INSET);null==b.insetH&&(b.insetH=d.DEFAULT_HORIZONTAL_INSET);null==b.insetTop&&(b.insetTop=d.DEFAULT_TOP_INSET);null==b.insetBottom&&(b.insetBottom=d.DEFAULT_BOTTOM_INSET);null==b.shadowWidth&&(b.shadowWidth=d.DEFAULT_SHADOW_WIDTH);null==b.maxTextWidth&&(b.maxTextWidth=d.DEFAULT_MAX_TEXT_WIDTH);null==b.tipBgColor&&(b.tipBgColor=d.DEFAULT_TIP_BG_COLOR);null==b.edgeColor&&
(b.edgeColor=d.DEFAULT_EDGE_COLOR);null==b.shadowColor&&(b.shadowColor=d.DEFAULT_SHADOW_COLOR);this.__tipWidth=0;this.callSuper(a,b);new c.Canvas(this,{name:"_bg",percentOfParentWidth:100,percentOfParentHeight:100},[c.SizeToParent]);new c.Text(this,{name:"_tipText",fontSize:"12px",x:this.edgeWidth+this.insetH,whiteSpace:"inherit"})},setPointerWidth:function(a){this.pointerWidth=a},setPointerHeight:function(a){this.pointerHeight=a},setEdgeWidth:function(a){this.edgeWidth=a},setPointerInset:function(a){this.pointerInset=
a},setInsetH:function(a){this.insetH=a},setInsetTop:function(a){this.insetTop=a},setInsetBottom:function(a){this.insetBottom=a},setShadowWidth:function(a){this.shadowWidth=a},setMaxTextWidth:function(a){this.maxTextWidth=a},setTipBgColor:function(a){this.tipBgColor=a},setEdgeColor:function(a){this.edgeColor=a},setShadowColor:function(a){this.shadowColor=a},showTip:function(){var a=this.tooltip,b=a.text,c=a.parent,d=this._tipText,e=this.insetTop,f=this.shadowWidth;d.text!==b&&d.setText(b);b=myt.global.windowResize;
var g=b.getWidth();b=b.getHeight();var h=c.getPagePosition(),k=h.x;h=h.y;d.setWidth("auto");var l=Math.min(d.measureNoWrapWidth(),this.maxTextWidth),m=d.x;this.__tipWidth=2*m+l;d.setWidth(l);d.sizeViewToDom();"right"===a.tipalign?(k+=c.width-this.__tipWidth,m+=d.width-this.pointerInset-this.pointerWidth):m+=this.pointerInset;0>k&&(l=0-k,k+=l,m-=l);k+this.__tipWidth>0+g&&(l=k+this.__tipWidth-(0+g),k-=l,m+=l);g=2*this.edgeWidth+e+this.insetBottom+d.height+this.pointerHeight;c=c.height;switch(a.tipvalign){case "below":l=
h+c;a=!0;l+g>0+b&&(l=h-g,a=!1);break;default:l=h-g,a=!1,0>l&&(l=h+c,a=!0)}this.setX(Math.round(k));this.setY(Math.round(l));d.setY(e+this.edgeWidth+(a?this.pointerHeight:0));this.setWidth(this.__tipWidth+f);this.setHeight(g+f);this.__redraw(m,a);this.callSuper()},__redraw:function(a,b){var c=this._bg,d=this.__tipWidth,e=b?this.pointerHeight:0,f=2*this.edgeWidth+this.insetTop+this.insetBottom+this._tipText.height+e,g=this.pointerWidth,h=a+g/2;g=a+g;var k=this.pointerHeight,l=this.shadowWidth,m=this.edgeWidth,
n=c.lineTo.bind(c);c.clear();c.beginPath();c.moveTo(l,e+l);n(d+l,e+l);n(d+l,f+l);n(l,f+l);c.closePath();c.setGlobalAlpha(.3);c.setFillStyle(this.shadowColor);c.fill();c.setGlobalAlpha(1);c.beginPath();c.moveTo(0,e);b&&(n(a,e),n(h,e-k),n(g,e));n(d,e);n(d,f);b||(n(g,f),n(h,f+k),n(a,f));n(0,f);c.closePath();c.setFillStyle(this.edgeColor);c.fill();d-=m;e+=m;f-=m;c.beginPath();c.moveTo(m,e);b&&(n(a,e),n(h,e-k),n(g,e));n(d,e);n(d,f);b||(n(g,f),n(h,f+k),n(a,f));n(m,f);c.closePath();c.setFillStyle(this.tipBgColor);
c.fill()}});
myt.TooltipMixin=new JS.Module("TooltipMixin",{extend:{DEFAULT_TIP_CLASS:myt.Tooltip},setTooltip:function(a){this.callSuper("");this.set("tooltip",a,!0)},setTipAlign:function(a){this.set("tipAlign",a,!0)},setTipValign:function(a){this.set("tipValign",a,!0)},setTipClass:function(a){this.set("tipClass",a,!0)},doSmoothMouseOver:function(a){var b=myt,c=b.global,d=this.tooltip;this.callSuper(a);if(a&&d){a=this.tipClass||b.TooltipMixin.DEFAULT_TIP_CLASS;var e=c.tooltipView;!e||e instanceof a||(c.unregister("tooltipView"),
e.destroy(),e=null);e||(e=document.getElementById("tooltipDiv"),e||(e=b.DomElementProxy.createDomElement("div",{position:"absolute"}),b.getElement().appendChild(e)),c.register("tooltipView",e=new a(e,{domId:"tooltipDiv"})));e.setTooltip({parent:this,text:d,tipalign:this.tipAlign||"left",tipvalign:this.tipValign||"above"})}}});myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

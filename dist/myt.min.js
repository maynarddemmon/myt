var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findLastInternal=function(p,v,u){p instanceof String&&(p=String(p));for(var t=p.length-1;0<=t;t--){var g=p[t];if(v.call(u,g,t,p))return{i:t,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(p,v,u){if(p==Array.prototype||p==Object.prototype)return p;p[v]=u.value;return p};$jscomp.getGlobal=function(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var v=0;v<p.length;++v){var u=p[v];if(u&&u.Math==Math)return u}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(p,v,u){if(!u||null!=p){u=$jscomp.propertyToPolyfillSymbol[v];if(null==u)return p[v];u=p[u];return void 0!==u?u:p[v]}};
$jscomp.polyfill=function(p,v,u,t){v&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(p,v,u,t):$jscomp.polyfillUnisolated(p,v,u,t))};$jscomp.polyfillUnisolated=function(p,v,u,t){u=$jscomp.global;p=p.split(".");for(t=0;t<p.length-1;t++){var g=p[t];if(!(g in u))return;u=u[g]}p=p[p.length-1];t=u[p];v=v(t);v!=t&&null!=v&&$jscomp.defineProperty(u,p,{configurable:!0,writable:!0,value:v})};
$jscomp.polyfillIsolated=function(p,v,u,t){var g=p.split(".");p=1===g.length;t=g[0];t=!p&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var h=0;h<g.length-1;h++){var c=g[h];if(!(c in t))return;t=t[c]}g=g[g.length-1];u=$jscomp.IS_SYMBOL_NATIVE&&"es6"===u?t[g]:null;v=v(u);null!=v&&(p?$jscomp.defineProperty($jscomp.polyfills,g,{configurable:!0,writable:!0,value:v}):v!==u&&(void 0===$jscomp.propertyToPolyfillSymbol[g]&&(u=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[g]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(g):$jscomp.POLYFILL_PREFIX+u+"$"+g),$jscomp.defineProperty(t,$jscomp.propertyToPolyfillSymbol[g],{configurable:!0,writable:!0,value:v})))};$jscomp.polyfill("Array.prototype.findLast",function(p){return p?p:function(v,u){return $jscomp.findLastInternal(this,v,u).v}},"es_next","es3");$jscomp.typedArrayFindLast=function(p){return p?p:function(v,u){return $jscomp.findLastInternal(this,v,u).v}};$jscomp.polyfill("Int8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float64Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
(p=>{let v;var u=c=>{let n=c.length;for(;n;){const m=c[--n];v=m.ver??m.id;if(m.str?.includes(m.sub)||m.prop)return m.id}};var t=c=>{const n=c.indexOf(v);if(0<=n)return parseFloat(c.slice(n+v.length+1))};const g=navigator.userAgent,h=navigator.platform;t=p.BrowserDetect={browser:u([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:g,sub:"Firefox",id:"Firefox"},{str:g,sub:"Chrome",id:"Chrome"},{str:g,sub:"MSIE",id:"Explorer",ver:"MSIE"}])??
"UNKNOWN",version:t(g)||t(navigator.appVersion)||"UNKNOWN",os:u([{str:g,sub:"iPhone",id:"iPhone/iPod"},{str:h,sub:"Linux",id:"Linux"},{str:h,sub:"Mac",id:"Mac"},{str:h,sub:"Win",id:"Windows"}])??"UNKNOWN"};switch(t.browser){case "Chrome":case "Safari":p="WebKit";break;case "Explorer":p="MS";break;case "Firefox":p="Moz";break;case "Opera":p="O";break;default:p="UNKNOWN"}u=p.toLowerCase();t.prefix={dom:p,lowercase:u,css:"-"+u+"-",js:u[0].toUpperCase()+u.substr(1)}})(global);
Date.prototype.format=Date.prototype.format??(()=>{const {abs:p,floor:v,ceil:u}=Math,t="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g="January February March April May June July August September October November December".split(" "),h="Sun Mon Tue Wed Thu Fri Sat".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n=a=>(10>a?"0":"")+a,m=(a,d)=>{a=a.getTimezoneOffset();return(0<a?"-":"+")+n(v(p(a/60)))+(d?":":"")+(0==p(a%60)?"00":n(p(a%60)))},k={d:a=>
n(a.getDate()),D:a=>h[a.getDay()],j:a=>a.getDate(),l:a=>c[a.getDay()],N:a=>0==a.getDay()?7:a.getDay(),S:a=>{a=a.getDate();return 1==a%10&&11!=a?"st":2==a%10&&12!=a?"nd":3==a%10&&13!=a?"rd":"th"},w:a=>a.getDay(),z:a=>{const d=new Date(a.getFullYear(),0,1);return u((a-d)/864E5)},W:a=>{const d=new Date(a.valueOf());a=(a.getDay()+6)%7;d.setDate(d.getDate()-a+3);a=d.valueOf();d.setMonth(0,1);4!==d.getDay()&&d.setMonth(0,1+(4-d.getDay()+7)%7);return n(1+u((a-d)/6048E5))},F:a=>g[a.getMonth()],m:a=>n(a.getMonth()+
1),M:a=>t[a.getMonth()],n:a=>a.getMonth()+1,t:a=>{let d=a.getFullYear();a=a.getMonth()+1;12===a&&(d=d++,a=0);return(new Date(d,a,0)).getDate()},L:a=>{a=a.getFullYear();return 0==a%400||0!=a%100&&0==a%4},o:a=>{const d=new Date(a.valueOf());d.setDate(d.getDate()-(a.getDay()+6)%7+3);return d.getFullYear()},Y:a=>a.getFullYear(),y:a=>(""+a.getFullYear()).substr(2),a:a=>12>a.getHours()?"am":"pm",A:a=>12>a.getHours()?"AM":"PM",B:a=>v(1E3*((a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/3600)/
24),g:a=>a.getHours()%12||12,G:a=>a.getHours(),h:a=>n(a.getHours()%12||12),H:a=>n(a.getHours()),i:a=>n(a.getMinutes()),s:a=>n(a.getSeconds()),e:a=>/\((.*)\)/.exec((new Date).toString())[1],I:a=>{let d=null,b=0;for(;12>b;){const e=(new Date(a.getFullYear(),b++,1)).getTimezoneOffset();if(null===d)d=e;else if(e<d){d=e;break}else if(e>d)break}return a.getTimezoneOffset()==d|0},O:a=>m(a,!1),P:a=>m(a,!0),T:a=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:a=>60*-a.getTimezoneOffset(),c:a=>a.format("Y-m-d\\TH:i:sP"),
r:a=>a.toString(),U:a=>a.getTime()/1E3,x:a=>a.toLocaleDateString(),X:a=>a.toLocaleTimeString()};return function(a){return a.replace(/(\\?)(.)/g,(d,b,e)=>""===b&&k[e]?k[e](this):e)}})();
(p=>{const v=(b,e)=>{var f=b.__mct__.get(e);if(f)return f.slice();const r=[];if(f=b.__anc__){const x=f.length;for(let l=0;l<x;){const y=f[l++].__fns__;y.has(e)&&r.push(y.get(e))}}else{const x=b.__anc__=[],l=y=>{const E=y.__inc__,P=E.length;for(let B=0;B<P;)l(E[B++]);x.includes(y)||(x.push(y),y=y.__fns__,y.has(e)&&r.push(y.get(e)))};l(b)}b.__mct__.set(e,r.slice());return r},u=(b,e)=>{const f=b.callable;return b.__hs?function(...r){const x=this.callSuper,l=v(e,b.name);let y=l.length-1;if(0===y)x&&delete this.callSuper;
else{const P=r.length,B=this.callSuper=(...D)=>{for(let N=D.length;N<P;)D[N]=r[N++];0===--y&&delete this.callSuper;D=l[y].callable.call(this,...D);this.callSuper=B;y++;return D}}const E=f.call(this,...r);x?this.callSuper=x:delete this.callSuper;return E}:f},t=(b,e)=>{e=e??b;if(e===b){b.__anc__=null;b.__mct__=new Map;var f=b.__dep__;for(var r=f.length;0<r;)t(f[--r])}f=e.__tgt__;r=b.__inc__;const x=r.length;for(let l=0;l<x;)t(r[l++],e);for(const [l,y]of b.__fns__)b=y instanceof c?u(y,e):y,f[l]!==b&&
(f[l]=b)},g=b=>b.__meta__??(b.__meta__=new n(null,null,b)).include(b.klass,!0),h=b=>{const e=function(...f){return this.initialize(...f)??this};e.prototype=Object.create(b.prototype);return e},c=h(Object),n=p.Module=h(Object);c.prototype.initialize=function(b,e,f){this.module=b;this.name=e;this.callable=f;this.__hs=f.toString().includes("callSuper")};var m=n.prototype;m.initialize=function(b,e,f){this.__inc__=[];this.__dep__=[];this.__fns__=new Map;this.__mct__=new Map;this.__tgt__=f;b&&(this.__displayName=
b);this.include(e,!0)};m.include=function(b,e){if(b){if(b.__fns__)this.__inc__.push(b),b.__dep__.push(this);else{var f=b.extend,r=b.include;f&&(f.__fns__||"function"!==typeof f)&&this.extend(f);if(r&&(r.__fns__||"function"!==typeof r)){f=r.length;for(let x=0;x<f;)this.include(r[x++],!0)}for(const x of Object.keys(b))if(r=b[x],"extend"!==x&&"include"!==x||!r.__fns__&&"function"===typeof r)this.__fns__.has(x)?(console.warn('JS.Module already has field: "'+x+'" auto generating a JS.Module from the field for inclusion.'),
this.include(new n("Auto_"+x,{[x]:r}),!1)):this.__fns__.set(x,r?.__fns__||"function"!==typeof r?r:new c(this,x,r))}!0!==e&&t(this)}return this};m.includes=function(b){if(b===this)return!0;const e=this.__inc__,f=e.length;for(let r=0;r<f;)if(e[r++].includes(b))return!0;return!1};m.instanceMethod=function(b){return v(this,b).pop()};const k=new n("Kernel",{extend:function(b){g(this).include(b)},isA:function(b){return"function"===typeof b&&this instanceof b||g(this).includes(b)}}),a=p.Class=h(n),d=a.prototype;
d.initialize=function(b,e,f){"function"!==typeof e&&(f=e,e=Object);n.prototype.initialize.call(this,b);b=h(e);for(const r in this)b[r]===this[r]||b.hasOwnProperty(r)||(b[r]=this[r]);b.prototype.constructor=b.prototype.klass=b;g(b).include(e.__meta__);b.__tgt__=b.prototype;e=e===Object?{}:e.__fns__?e:new n(e.prototype,!0);b.include(k,!0).include(e,!0).include(f,!0);t(b);return b};m=(b,e)=>{b.__inc__=[];b.__dep__=[];const f=b.__tgt__=b.prototype,r=b.__fns__=new Map;for(const B of Object.keys(f)){var x=
r,l=x.set;var y=b;var E=B,P=f[B];y=P?.__fns__||"function"!==typeof P?P:new c(y,E,P);l.call(x,B,y)}f.constructor=f.klass=b;for(const B in d)b[B]===d[B]||b.hasOwnProperty(B)||(b[B]=d[B]);b.include(e);b.constructor=b.klass=a};m(c,k);m(n,k);m(a,n);t(g(c));t(g(n));g(a).include(n.__meta__);p.Singleton=new a("Singleton",{initialize:(b,e,f)=>new (new a(b,e,f))})})(global.JS={});
(p=>{class v extends Error{constructor(A,C,...G){super(...G);this.name="FetchError";this.status=A;this.url=C}}let u=0,t,g={},h={};const c=console.warn,n=Math,{abs:m,min:k,max:a,pow:d}=n,b=Array.isArray,e=document,f=e.head,r=e.createElement.bind(e),x={},l={},y=(A,C,G,J,L)=>{if(C){var T=x[C],R=l[C];if(!0===T)G?.(!0);else if(!1===T)G?.(!1);else if(b(T))G&&T.push(G);else{T=x[C]=[];G&&T.push(G);let X;switch(A){case "script":R=r("script");R.type="text/javascript";R.async=!1;X="src";break;case "css":R=r("link"),
R.rel="stylesheet",X="href"}L&&(R.integrity=L,R.crossOrigin="anonymous",R.referrerpolicy="no-referrer");const aa=ca=>{R.onload=R.onerror=null;for(const ta of T)ta(ca);x[C]=ca};R.onerror=()=>{aa(!1)};R.onload=()=>{aa(!0)};R[X]=C+(J?"":(C.includes("?")?"&":"?")+"cacheBust="+Date.now());f.appendChild(R);l[C]=R}return R}},E={},P={"":!0},B=e.fonts,D=A=>{const C=A.family.split('"').join("");for(const G of[C,C+" "+A.weight])if(!P[G]){P[G]=!0;const J=E[G]??[];for(;J.length;)(A=J.pop())&&!A.destroyed&&A.isVisible()&&
(A.sizeViewToDom(),A.notifyFontLoaded?.(C))}},N={},Q={},w=/\{\{plural:\$(\d+)\|([^|]+)\|([^}]+)\}\}/g,q=/\$(\d+)/g,z=(A,C=JSON.stringify,G=Infinity)=>{const J=new Map;return(...L)=>{var T=C(L);if(J.has(T))return J.get(T);L=A(...L);J.set(T,L);J.size>G&&(T=J.keys().next().value,J.delete(T));return L}},I=(A,C,G=new WeakMap,J=new WeakMap)=>{if(A!==C){if(A instanceof Date&&C instanceof Date)return A.getTime()===C.getTime();if(null===A||null===C||"object"!==typeof A||"object"!==typeof C)return!1;if(G.has(A))return J.get(C)===
G.get(A);G.set(A,C);J.set(C,A);var L=b(A),T=b(C);if(L!==T)return!1;if(L){var R=A.length;if(R!==C.length)return!1;for(L=0;L<R;L++)if(!I(A[L],C[L],G,J))return!1;return!0}L=Object.keys(A);T=Object.keys(C);if(L.length!==T.length)return!1;for(R of L)if(!Object.prototype.hasOwnProperty.call(C,R)||!I(A[R],C[R],G,J))return!1}return!0},O=/\\([{}])|\{([^{}]+)\}/g,M=/(,|\r?\n|\r|^)(?:"((?:\\.|""|[^\\"])*)"|([^,"\r\n]*))/gi,S=/[\\"](.)/g,U=p.myt={version:2.02507281019E7,generateGuid:()=>++u,TRUE_FUNC:()=>!0,
FALSE_FUNC:()=>!1,NOOP:()=>{},theme:{TextButtonActive:"#ddd",TextButtonHover:"#eee",TextButtonReady:"#fff",DialogRadius:12,DialogBgColor:"#fff",DialogInputFgColor:"#333",DialogShadow:[0,4,20,"#666"],DialogBorder:[1,"solid","#fff"],DialogDayBtnBorder:[1,"solid","#fff"],DialogDayBtnBorderColor:"#fff",DialogDayBtnBorderColorToday:"#090",DimmerOpacity:.35,DimmerColor:"#000",ModalPanelPaddingX:20,ModalPanelPaddingY:15,ModalPanelMarginTop:40,ModalPanelMarginLeft:40,ModalPanelMarginBottom:40,ModalPanelMarginRight:40,
TabSliderContainerSpacing:1,TabInset:8,TabOutset:8,TabContainerInset:0,TabContainerSpacing:1,BaseTooltipDelay:500,BaseTooltipHideDelay:100,TooltipEdgeColor:"#444",TooltipBgColor:"#444",TooltipTextColor:"#eee",TooltipShadowColor:"#00000033",TooltipEdgeSize:0,TooltipShadowSize:2,TooltipHInset:6,TooltipVInset:3,focusShadow:[0,0,7,"#666"],disabledOpacity:.5,border1s3:[1,"solid","#333"],border1s9:[1,"solid","#999"]},resolveName:(A,C)=>{if(A&&0!==A.length){C=C??global;var G=b(A)?A:A.split("."),J=G.length;
for(let L=0;L<J;L++)if(C=C[G[L]],null==C){c("resolveName failed for",A,"at part",L,G[L]);return}return C}},resolveClassname:A=>{"string"===typeof A&&(A=U.resolveName(A));return A&&"function"===typeof A.isA&&A.isA(JS.Class)?A:null},setDeepValue:(A,C,G)=>{if(A&&C){C=b(C)?C:String(C??"").split(".");const J=C.length-1;for(let L=0;L<J;L++){const T=C[L];let R,X;(R=A)[X=T]??(R[X]={});A=A[T]}return A[C[J]]=G}},stableStringify:A=>JSON.stringify(A,(C,G)=>{if(G&&"object"===typeof G&&!b(G)){C={};for(const J of Object.keys(G).sort())C[J]=
G[J];return C}return G}),areFloatsEqual:(A,C,G)=>{const J=m(A),L=m(C);return m(A-C)<=(J>L?L:J)*(null==G?1E-6:m(G))},areArraysEqual:(A,C)=>{if(A!==C){if(null===A||null===C||"object"!==typeof A||"object"!==typeof C)return!1;let G=A.length;if(G!==C.length)return!1;for(;G;)if(A[--G]!==C[G])return!1}return!0},shallowEqual:(A,C)=>{if(A!==C){if(null===A||null===C||"object"!==typeof A||"object"!==typeof C)return!1;const G=Object.keys(A),J=Object.keys(C);if(G.length!==J.length)return!1;for(const L of G)if(A[L]!==
C[L])return!1}return!0},deepEqual:I,getRandom:A=>{const C=n.random();return A?a(0,k(A(C),.9999999999)):C},getRandomArbitrary:(A,C,G)=>{const J=k(A,C);return U.getRandom(G)*(a(A,C)-J)+J},getRandomInt:(A,C,G)=>{const J=k(A,C);return n.floor(U.getRandom(G)*(a(A,C)-J+1)+J)},getElement:(A,C)=>e.getElementsByTagName(A||"body")[0<C?C:0],addEventListener:(A,C,G,J,L)=>{A.addEventListener(C,G,{capture:J||!1,passive:L||!1})},removeEventListener:(A,C,G,J)=>{A.removeEventListener(C,G,J||!1)},loadFontFaces:(A,
C)=>{Promise.all(A.map(({family:G,url:J,options:L})=>(new FontFace(G,"url("+J+")",L)).load())).then(G=>{if(B){for(const J of G)B.add(J),D(J);C?.(G)}})},loadFontFace:(A,C,G={},J)=>{A=new FontFace(A,"url("+C+")",G);A.loaded.then(L=>{B&&(B.add(L),D(L),J?.(L))});A.load()},registerForFontNotification:(A,C)=>{P[C]?A&&!A.destroyed&&A.isVisible()&&(A.sizeViewToDom(),A.notifyFontLoaded?.(C)):(E[C]??(E[C]=[])).push(A)},createBaseFontCSSRule:A=>{U.addCSSRule(U.createStylesheet(),"body, input","font-family:"+
A)},loadCSSFonts:A=>{A?.forEach(U.loadCSS)},loadScript:(...A)=>y("script",...A),loadCSS:(...A)=>y("css",...A),createStylesheet:()=>{const A=r("style");f.appendChild(A);return A.sheet},addCSSRule:(A,C,G,J)=>{A.insertRule(C+"{"+G+"}",J??0)},removeCSSRules:A=>{let C=A.cssRules.length;for(;C;)A.deleteRule(--C)},createInputPlaceholderCSSRule:(A,C,G,J=1)=>{let L=A.__sheet;L?U.removeCSSRules(L):L=A.__sheet=U.createStylesheet();A=A.getODE();A=A.id||(A.id="id"+ ++u);const T=[];C&&T.push("color:"+C);G&&T.push("font-family:"+
G);J&&T.push("opacity:"+J);U.addCSSRule(L,"#"+A+"::placeholder",T.join("; "))},isSorted:(A,C)=>{const G=A.length;for(let J=1;J<G;J++)if(0<C(A[J-1],A[J]))return!1;return!0},chainSortFunc:(...A)=>(C,G)=>{for(const J of A){const L=J(C,G);if(0!==L)return L}return 0},getAlphaObjSortFunc:z((A,C,G,J)=>{const L=C?1:-1,T=U.I18N.getLocale(),R={sensitivity:G?"accent":"variant"};return(X,aa)=>{X=X[A];aa=aa[A];J?("string"!==typeof X&&(X=""+X),"string"!==typeof aa&&(aa=""+aa)):(X=X||"",aa=aa||"");return X.localeCompare(aa,
T,R)*L}}),getNumericObjSortFunc:z((A,C)=>{const G=C?1:-1;return(J,L)=>{J=J[A]||0;L=L[A]||0;return(J-L)*G}}),hash:A=>A.split("").reduce((C,G)=>{C=(C<<5)-C+G.charCodeAt(0);return C&C},0),getExtension:A=>A?(A=A.split("."),1<A.length?A.pop():null):null,formatAsPercentage:(A,C=2)=>{switch(typeof A){case "number":return C=k(16,a(0,C)),A=n.round(a(0,k(1,A))*d(10,2+C))/d(10,C),(0===A%1?A:A.toFixed(C))+"%";case "string":return A;default:return c("formatAsPercentage expects a number"),A}},interpolateString:(A,
C={})=>A?A.replace(O,(G,J,L)=>J?J:U.resolveName(L,C)??G):"",leftPadNumber:(A,C,G="0",J=10)=>{A=A.toString(J);return G.repeat(a(C-A.length,0))+A},removeMarkup:(A,C)=>{if(!A)return"";C?.brToLineFeed&&(A=A.replace(/<br\s*\/?>/gi,"\n"));return A.replace(/<\/?[^>]+(>|$)/g,"")},escapeMarkup:(()=>{const A=RegExp("[&<>\"']","g"),C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},G=J=>C[J];return J=>J.replace(A,G)})(),memoize:z,debounce:(A,C,G=!1)=>{let J;return function(...L){const T=this,R=
G&&!J;clearTimeout(J);J=setTimeout(()=>{J=null;G||A.apply(T,L)},C);R&&A.apply(T,L)}},dataURIToBlob:A=>{var C=A.indexOf(",");const G=A.slice(0,C).split(":")[1].split(";")[0];A=A.slice(C+1);if(G.startsWith("text/"))A=decodeURIComponent(A);else{A=atob(A);C=A.length;const J=new Uint8Array(C);for(;C;)J[--C]=A.charCodeAt(C);A=J}return new Blob([A],{type:G})},runInWorker:(A,C,G="data")=>new Promise((J,L)=>{const T=URL.createObjectURL(new Blob(["self.onmessage=e=>{try{const result=(function("+G+'){"use strict";'+
A+"})(e.data);self.postMessage({result});}catch(e){self.postMessage({error:e.message});}};"],{type:"application/javascript"})),R=new Worker(T);R.onmessage=X=>{const {result:aa,error:ca}=X.data;ca?L(Error(ca)):J(aa);R.terminate();URL.revokeObjectURL(T)};R.onerror=X=>{L(X);R.terminate();URL.revokeObjectURL(T)};R.postMessage(C)}),dumpStack:(A,C)=>{let G;"string"===typeof A&&(G=A,A=null);U.global.error.notify(C||"error",null,G,A)},createFixedThresholdCounter:(A,C,G,J)=>{var L=U.AccessorSupport.generateName;
const T="function"===typeof A||A instanceof JS.Module,R={};J=J||L("counter",G);const X=L(J,"increment");L=L(J,"decrement");if(void 0!==(T?A.instanceMethod(X):A[X]))return c("Increment: Abort clobber",X,A),!1;if(void 0!==(T?A.instanceMethod(L):A[L]))return c("Decrement: Abort clobber",L,A),!1;R[X]=function(){const aa=this[J]+1;this[J]=aa;this.fireEvent(J,aa);aa===C&&this.set(G,!0)};R[L]=function(){const aa=this[J];if(0!==aa){var ca=aa-1;this[J]=ca;this.fireEvent(J,ca);aa===C&&this.set(G,!1)}};A[T?
"include":"extend"](R);return!0},csvStringToArray:(A,C)=>{if(!A)return[];const G=[[]];let J;for(;J=M.exec(A);)J[1].length&&","!==J[1]&&G.push([]),G[G.length-1].push(void 0!==J[2]?J[2].replace(S,"$1"):J[3]);if(C){const L=G.shift();return G.map(T=>{let R=0;return L.reduce((X,aa)=>{X[aa]=T[R++];return X},{})})}return G},prepareCSVDataURI:(A,C)=>{const G=T=>{if(T&&b(T)){const R=[],X=T.length;for(let aa=0,ca;X>aa;aa++)ca=T[aa],ca=null==ca?"":ca.toString(),ca=ca.replace(/"/g,'""'),0<=ca.search(/("|,|\n)/g)&&
(ca='"'+ca+'"'),R.push(ca);return R.join(",")}c("Unexpected row",T);return null},J=[];if(C){var L=G(C);L&&J.push(L)}if(A)if(b(A)){L=A.length;for(let T=0;L>T;T++){const R=G(A[T]);R&&J.push(R)}}else c("Rows were not an array");return U.encodeCSVDataURI(J.join("\r\n"),C)},encodeCSVDataURI:(A,C)=>"data:text/csv;charset=utf-8"+(null==C?"":";header="+(C?"present":"absent"))+","+encodeURIComponent(A),makeURLSearchParams:(A={})=>{const C=new URLSearchParams;for(const G in A){const J=A[G];void 0!==J&&C.set(G,
J)}return C},doFetch:(A,C,G,J,L,T)=>fetch(A,C).then(R=>{if(!R.ok)throw new v(R.status,A,R.statusText);return R}).then(R=>G?R.text():R.json()).then(R=>{if(J)try{if(G)J(R);else{if(!1===R.success)throw new v(200,A,R.message??R.data?.message);J(R.data)}}catch(X){throw R=new v(200,A,X.message),R.stack=X.stack,R;}}).catch(R=>{if(L){if("FetchError"!==R.name){const X=new v(0,A,R.message);X.stack=R.stack;R=X}L(R)}}).finally(()=>{T?.()}),toNameCase:(A,C)=>{if(!A)return"";A=A.trim().toLowerCase().split(/([\s\-'\u2019"\u201c\u201d().,\/])/).reduce((G,
J)=>G+(J[0]??"").toUpperCase()+J.slice(1),"");if(/\bMac[A-Za-z]{2,}[^aciozj]\b/.test(A)||/\bMc/.test(A))A=A.replace(/\b(Ma?c)([A-Za-z]+)/,(G,J,L)=>J+(L[0]??"").toUpperCase()+L.slice(1)),A=A.replace(/\bMacEvicius\b/,"Macevicius").replace(/\bMacHado\b/,"Machado").replace(/\bMacHar\b/,"Machar").replace(/\bMacHin\b/,"Machin").replace(/\bMacHlin\b/,"Machlin").replace(/\bMacIas\b/,"Macias").replace(/\bMacIulis\b/,"Maciulis").replace(/\bMacKie\b/,"Mackie").replace(/\bMacKle\b/,"Mackle").replace(/\bMacKlin\b/,
"Macklin").replace(/\bMacQuarie\b/,"Macquarie").replace(/\bMacOmber\b/,"Macomber").replace(/\bMacIn\b/,"Macin").replace(/\bMacKintosh\b/,"Mackintosh").replace(/\bMacKen\b/,"Macken").replace(/\bMacHen\b/,"Machen").replace(/\bMacHiel\b/,"Machiel").replace(/\bMacIol\b/,"Maciol").replace(/\bMacKell\b/,"Mackell").replace(/\bMacKlem\b/,"Macklem").replace(/\bMacKrell\b/,"Mackrell").replace(/\bMacLin\b/,"Maclin").replace(/\bMacKey\b/,"Mackey").replace(/\bMacKley\b/,"Mackley").replace(/\bMacHell\b/,"Machell").replace(/\bMacHon\b/,
"Machon").replace(/\bMacAyla\b/,"Macayla");A=A.replace(/\bMacmurdo/,"MacMurdo").replace(/\bMacisaac/,"MacIsaac").replace(/\bAl(?=\s+\w)\b/g,"al").replace(/\bAp\b/g,"ap").replace(/\bBen(?=\s+\w)\b/g,"ben").replace(/\bDell([ae])\b/g,"dell$1").replace(/\bD([aeiu])\b/g,"d$1").replace(/\bDe([lr])\b/g,"de$1").replace(/\bEl\b/g,"el").replace(/\bLa\b/g,"la").replace(/\bLe(?=\s+\w)\b/g,"le").replace(/\bLo\b/g,"lo").replace(/\bVan(?=\s+\w)\b/g,"van").replace(/\bVon\b/g,"von").replace(/\bD['\u2019]/g,"d'").replace(/\b(?:\d{4}|(?:[IVX])(?:X{0,3}I{0,3}|X{0,2}VI{0,3}|X{0,2}I?[VX]))$/i,
G=>G.toUpperCase()).replace(/\b[0-9](x)\b/,G=>G.toUpperCase()).replace(/(?:^|\\s)[bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ]{2}\s/,G=>G.toUpperCase()).replace(/\bMR\.?\b/,"Mr").replace(/\bMS\.?\b/,"Ms").replace(/\bDR\.?\b/,"Dr").replace(/\bST\.?\b/,"St").replace(/\bJR\.?\b/,"Jr").replace(/\bSR\.?\b/,"Sr").replace(/\bLT\.?\b/,"Lt").replace(/\bThe\b/g,"the").replace(/\bOf\b/g,"of").replace(/\bAnd\b/g,"and").replace(/\bY\s/g,"y").replace(/\s{2,}/g," ");return C?A:(A[0]??"").toUpperCase()+A.slice(1)},
I18N:{setLocale:A=>{t=A??(navigator.language||"en").split("-")[0].toLowerCase();g=N[t];h=Q[t]},getLocale:()=>t,addDictionary:(A,C)=>{N[C]=Object.assign(N[C]??{},A);C===t&&(g=N[C])},setDictionary:(A,C)=>{N[C]=A??{};C===t&&(g=N[C])},addResourceDictionary:(A,C)=>{Q[C]=Object.assign(Q[C]??{},A);C===t&&(h=Q[C])},setResourceDictionary:(A,C)=>{Q[C]=A??{};C===t&&(h=Q[C])},get:(A,...C)=>{const G=g[A];return null!=G?0<C.length?G.replaceAll(w,(J,L,T,R)=>T&&R?1==C[parseInt(L)]?T:R:"").replaceAll(q,(J,L)=>C[L]):
G:A},getRaw:A=>g[A]??A,getResource:A=>h[A]}};B&&(B.onloadingdone=A=>{for(const C of A.fontfaces)D(C)})})(global);
(p=>{const v=(t,g)=>{t.startsWith('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return g?JSON.parse(t):t}catch(h){}},u=p.Cookie={defaults:{raw:!1,json:!1},read:(t,g)=>{g={...u.defaults,...g};const h=g.raw?a=>a:a=>decodeURIComponent(a.split("+").join(" "));g=g.json;const c=document.cookie.split("; "),n=c.length,m=t?void 0:{};for(let a=0;a<n;){var k=c[a++].split("=");const d=h(k.shift());k=h(k.join("="));if(t){if(t===d)return v(k,g)}else m[d]=v(k,g)}return m},write:(t,g,h)=>
{h={...u.defaults,...h};if("number"===typeof h.expires){const d=h.expires,b=h.expires=new Date;b.setDate(b.getDate()+d)}g=h.json?JSON.stringify(g):String(g);const {raw:c,expires:n,path:m,domain:k,samesite:a}=h;return document.cookie=[c?t:encodeURIComponent(t),"=",c?g:encodeURIComponent(g),n?"; expires="+n.toUTCString():"",m?"; path="+m:"",k?"; domain="+k:"",a?"; samesite="+a:"",h.secure?"; secure":""].join("")},remove:(t,g)=>void 0!==u.read(t,g)?(u.write(t,"",{...g,expires:-1}),!0):!1}})(myt);
(p=>{const v=console.error,u=JSON.parse,t=global.localStorage,g=t.getItem.bind(t),h=t.setItem.bind(t),c=t.removeItem.bind(t),n=t.clear.bind(t),m=(a,d,b)=>{if(0<d){const e="__timerId_"+b;(b=k[e])&&clearTimeout(b);k[e]=setTimeout(()=>{a();delete k[e]},d)}else a()},k=p.LocalStorage={hasDatum:(a,d)=>{if(a&&(d=g(d??"myt")))try{return null!=u(d)[a]}catch(b){v(b)}return!1},getDatum:(a,d)=>{if(a&&(d=g(d??"myt")))try{const b=u(d);if("object"===typeof b)return b[a]}catch(b){v(b)}},setDatum:(a,d,b,e)=>{b=b??
"myt";m(()=>{const f=k.getData(b);f[a]=d;h(b,JSON.stringify(f))},e,b+"___"+a)},removeDatum:(a,d,b)=>{d=d??"myt";m(()=>{const e=k.getData(d);delete e[a];h(d,JSON.stringify(e))},b,d+"___"+a)},hasData:a=>null!=g(a??"myt"),getData:a=>{if(a=g(a??"myt"))try{return u(a)}catch(d){v(d)}return{}},setData:(a,d,b)=>{d=d??"myt";a??={};return"object"===typeof a?(m(()=>{h(d,JSON.stringify(a))},b,d),!0):!1},removeData:(a,d)=>{a=a??"myt";m(()=>{c(a)},d,a)},getLength:()=>t.length,getKey:t.key.bind(t),getItem:g,setItem:h,
removeItem:c,clear:n,get:g,set:h,remove:c,clearAll:n}})(myt);
(p=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,u=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;p.URI=new JS.Class("URI",{initialize:function(g,h){g&&this.parse(g,h)},setSource:function(g){this.source=g},setProtocol:function(g){this.protocol=
g},setAuthority:function(g){this.authority=g},setUserInfo:function(g){this.userInfo=g},setUser:function(g){this.user=g},setPassword:function(g){this.password=g},setHost:function(g){this.host=g},setPort:function(g){this.port=g},setRelative:function(g){this.relative=g},setPath:function(g){this.path=g},setDirectory:function(g){this.directory=g},setFile:function(g){this.file=g},setQuery:function(g){this.query=g},setAnchor:function(g){this.anchor=g},parse:function(g,h){const c=this,[n,m,k,a,d,b,e,f,r,
x,l,y,E,P]=(h?t:u).exec(g)??[];c.setSource(n??"");c.setProtocol(m??"");c.setAuthority(k??"");c.setUserInfo(a??"");c.setUser(d??"");c.setPassword(b??"");c.setHost(e??"");c.setPort(f??"");c.setRelative(r??"");c.setPath(x??"");c.setDirectory(l??"");c.setFile(y??"");c.setQuery(E??"");c.setAnchor(P??"");c.queryPairs={};c.query.replace(v,(B,D,N)=>{D&&(c.queryPairs[D]=N)})},decodeQueryParam:g=>decodeURIComponent(g).split("+").join(" "),getQuery:function(){var g=this.queryPairs;const h=[];for(const c in g)h.push(c+
"="+encodeURIComponent(this.getQueryParam(c)));g=h.join("&");return 0<g.length?"?"+g:g},getQueryParam:function(g){g=this.queryPairs[g];return null==g?void 0:this.decodeQueryParam(g)},setQueryParam:function(g,h){this.queryPairs[encodeURIComponent(g)]=encodeURIComponent(h)},removeQueryParam:function(g){delete this.queryPairs[g]},getPathParts:function(g){const h=this.path.split("/");if(!g)for(g=h.length;g;)0===h[--g].length&&h.splice(g,1);return h},toString:function(g){const h=this.path;g=g?this.query?
"?"+this.query:"":this.getQuery();const c=this.anchor;let n=this.toStringThroughPort();h?n+=h:this.host&&(g||c)&&(n+="/");g&&(n+=g);c&&(n+="#"+c);return n},toStringThroughPort:function(){const g=this.protocol,h=this.host,c=this.userInfo,n=this.port;let m="";g&&(m+=g+"://");c&&h&&(m+=c+"@");h&&(m+=h,n&&(m+=":"+n));return m}})})(myt);
(p=>{const v=Math,{PI:u,cos:t,sin:g,sqrt:h,abs:c}=v,n=(d,b,e,f,r,x)=>{"object"===typeof d&&(x=r,r=f,f=e,e=b,b=d.y,d=d.x);"object"===typeof e&&(x=e.height,r=e.width,f=e.y,e=e.x);return d>=e&&b>=f&&d<=e+r&&b<=f+x},m=(d,b,e,f,r)=>{d=e-d;b=f-b;b=d*d+b*b;return r?b:h(b)},k=(d,b,e,f,r)=>{null==r&&(r=6371);d=d*u/180;e=e*u/180;return r*v.acos(g(d)*g(e)+t(d)*t(e)*t(f*u/180-b*u/180))},a=(d,b=!0,e="x",f="y")=>{let r=d?.length;if(3>r||!Array.isArray(d))return 0;d[0][e]===d[r-1][e]&&d[0][f]===d[r-1][f]&&r--;let x=
0,l=d[r-1];for(let y=0;y<r;y++){const E=d[y];x+=l[e]*E[f]-E[e]*l[f];l=E}return(b?c(x):x)/2};p.Geometry={getClosestPointOnALineToAPoint:(d,b,e,f,r,x,l)=>{e-=d;f-=b;r=(e*(r-d)+f*(x-b))/(e*e+f*f);l&&(r=v.min(1,v.max(0,r)));return{x:d+e*r,y:b+f*r}},isPointInPath:(d,b,e,f)=>{"object"===typeof d&&(f=e,e=b,b=d.y,d=d.x);if(n(d,b,e)&&(e=f.length,6<=e)){let r=!1,x=f[0],l=f[1],y,E;for(;e;)E=f[--e],y=f[--e],E>b!==l>b&&d<(x-y)*(b-E)/(l-E)+y&&(r=!r),x=y,l=E;return r}return!1},measureDistance:m,measureLatLngDistance:k,
degreesToRadians:d=>d*u/180,radiansToDegrees:d=>180*d/u,rectContainsPoint:n,circleContainsPoint:(d,b,e,f,r)=>m(d,b,e,f,!0)<=r*r,circleContainsLatLng:(d,b,e,f,r,x)=>k(d,b,e,f,x)<=r,polarToCartesian:(d,b,e,f)=>{e??=0;f??=0;b%=360;if(0===b)b=d,d=0;else if(90===b)b=0;else if(180===b)b=-d,d=0;else if(270===b)b=0,d=-d;else{const r=b*u/180;b=d*t(r);d*=g(r)}return[e+b,f+d]},cartesianToPolar:(d,b,e,f,r)=>{e??=0;f??=0;d-=e;f=b-f;b=h(d*d+f*f);f=v.atan2(f,d);0>f&&(f+=2*u);return[b,r?f:180*f/u]},getAreaOfPolygon:a,
isClockwisePolygon:(d,b,e)=>0>a(d,!1,b,e),intervalsOverlap:(d,b,e,f,r=!1,x=!1)=>{x&&(d>b&&(b=d),e>f&&(f=e));return r?d<=f&&e<=b:d<f&&e<b}}})(myt);
(p=>{const v=JS.Module,u=console.log,t=p.dumpStack;p.Observable=new v("Observable",{attachObserver:function(g,h,c){return g&&h&&c?(this.getObservers(c).push(h,g),!0):!1},detachObserver:function(g,h,c){if(g&&h&&c){var n=this.__obsbt;if(n&&(c=n[c])){n=!1;let m=c.length;for(;2<=m;){const k=c[--m],a=c[--m];g===k&&h===a&&(c.splice(m,2),n=!0)}return n}}return!1},detachAllObservers:function(){const g=this.__obsbt;if(g)for(const h in g){const c=g[h];let n=c.length;for(;2<=n;){const m=c[--n],k=c[--n];m&&k&&
("function"===typeof m.detachFrom&&m.detachFrom(this,k,h)||c.splice(n,2))}}},getObservers:function(g){let h;return(h=this.__obsbt??(this.__obsbt={}))[g]??(h[g]=[])},hasObservers:function(g){const h=this.__obsbt;return h?0<h[g]?.length:!1},createEvent:function(g,h){return{source:this,type:g,value:h}},fireEvent:function(g,h,c){if(null==c){var n=this.__obsbt;n&&(c=n[g])}if(c){n={source:this,type:g,value:h};const m=this.__aet??(this.__aet={});if(m[g])p.global.error.notify("warn","eventLoop","Abort refiring event:"+
g,null,{observable:this,type:g,value:h});else{m[g]=!0;for(h=c.length;2<=h;){const k=c[--h],a=c[--h];if(k&&a)try{if("function"===typeof a){if(a.call(k,n))break}else if(k[a]?.(n))break}catch(d){t(d),u("Additional context",a,k)}}m[g]=!1}}}});p.Observer=new v("Observer",{valueFromEvent:g=>g&&"object"===typeof g&&g.type?g.value:g,syncTo:function(g,h,c,n,m){n??=c;try{this[h](g.createEvent(c,g.get(n)))}catch(k){t(k)}m||this.attachTo(g,h,c,m)},isAttachedTo:function(g,h,c){if(g&&h&&c){var n=this.__obt;if(n&&
(c=n[c]))for(n=c.length;2<=n;){const m=c[--n],k=c[--n];if(g===m&&h===k)return!0}}return!1},getObservables:function(g){let h;return(h=this.__obt??(this.__obt={}))[g]??(h[g]=[])},hasObservables:function(g){const h=this.__obt;return h?0<h[g]?.length:!1},attachTo:function(g,h,c,n){if(g&&h&&c){const m=this.getObservables(c);if(n){const k=this,a=h;this.__methodNameCounter??(this.__methodNameCounter=0);h="__DO_ONCE_"+this.__methodNameCounter++;this[h]=d=>{k.detachFrom(g,h,c);delete k[h];return k[a](d)}}if(g.attachObserver(this,
h,c))return m.push(h,g),!0}return!1},detachFrom:function(g,h,c){if(g&&h&&c){var n=this.__obt;if(n&&(n=n[c])){let m=!1,k=n.length;for(;2<=k;){const a=n[--k],d=n[--k];g===a&&h===d&&g.detachObserver(this,h,c)&&(n.splice(k,2),m=!0)}return m}}return!1},detachFromAllObservables:function(){var g=this.__obt;if(g)for(const [h,c]of Object.entries(g)){for(g=c.length;2<=g;){const n=c[--g],m=c[--g];n.detachObserver(this,m,h)}c.length=0}},constrain:function(g,h){if(g&&h){const n=h.length;if(0!==n%2)u("Observables uneven",
this);else{var c;const m=(c=this.__cbmn??(this.__cbmn={}))[g]??(c[g]=[]);if(0<m.length)u("Constraint exists for "+g+" on",this);else{for(c=0;c<n;){const k=h[c++],a=h[c++];k&&a&&(this.attachTo(k,g,a),m.push(k,a))}try{this[g]()}catch(k){t(k)}}}}},releaseConstraint:function(g){if(g){var h=this.__cbmn;if(h&&(h=h[g])){let c=h.length;for(;2<=c;){const n=h[c--],m=h[c--];this.detachFrom(m,g,n)}h.length=0}}},releaseAllConstraints:function(){const g=this.__cbmn;if(g)for(const h in g)this.releaseConstraint(h)}})})(myt);
(p=>{const v=console.warn,u=p.global=new JS.Singleton("Global",{include:[p.Observable],initialize:p.NOOP,register:(t,g)=>{u.hasOwnProperty(t)&&(v("Global key in use",t),u.unregister(t));u[t]=g;u.fireEvent("register"+t,g)},unregister:t=>{if(u.hasOwnProperty(t)){const g=u[t];delete u[t];u.fireEvent("unregister"+t,g)}else v("Global key not in use",t)}})})(myt);
(p=>{let v;new JS.Singleton("GlobalError",{include:[p.Observable],initialize:function(){v=this;v.setStackTraceLimit(50);v.setConsoleLogging(!0);p.global.register("error",v)},setConsoleLogging:u=>{v.consoleLogging=u},setStackTraceLimit:u=>{Error.stackTraceLimit=v.stackTraceLimit=u},notify:(u,t,g,h,c)=>{h??=Error(g??t);h=h.stack??h.stacktrace;v.fireEvent(t??"error",{msg:g,stacktrace:h,...c});if(v.consoleLogging&&u)console[u](h)}})})(myt);
(p=>{const v=global,u=v.getComputedStyle,t=document,g=Math.max,h=m=>{const {zIndex:k,opacity:a}=u(m);if("auto"===k){if(1===parseInt(a,10)){let d=0;m=m.childNodes;let b=m.length;for(;b;){const e=m[--b];1===e.nodeType&&(d=g(d,h(e)))}return d}return 0}return parseInt(k,10)},c=(m,k)=>{const a=[];for(;m;){a.push(m);if(m===k)break;m=m.parentNode}return a},n=p.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(m,k,a)=>{m=t.createElement(m);for(const d in a)m[d]=a[d];for(const d in k)m.style[d]=
k[d];return m},isDomElementVisible:m=>{if("INPUT"!==m.nodeName||"hidden"!==m.type)for(;m;){if(m===t)return!0;const {display:k,visibility:a}=u(m);if("none"===k||"hidden"===a)break;m=m.parentNode}return!1},getZIndexRelativeToAncestor:(m,k)=>{if(m&&k)for(m=c(m,k),k=m.length-1;k;){const a=u(m[--k]),d=a.zIndex,b="auto"===d;if(0===k||!b||1!==parseInt(a.opacity,10))return b?0:parseInt(d,10)}return 0},getAncestorArray:c,getHighestZIndex:h,getRelativePosition:(m,k)=>{if(m){let a=0,d=0;for(;m&&"BODY"!==m.nodeName&&
m!==k;)if(a+=m.offsetLeft,d+=m.offsetTop,(m=m.offsetParent)&&"BODY"!==m.nodeName){const {borderLeftWidth:b,borderTopWidth:e}=u(m);a+=parseInt(b,10)-m.scrollLeft;d+=parseInt(e,10)-m.scrollTop}return{x:a,y:d}}},getTruePosition:m=>{if(m)return m=m.getBoundingClientRect(),m.left+=v.scrollX,m.top+=v.scrollY,m},simulateDomEvent:(m,k,a)=>{if(m){const d={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},b={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(a)for(const f in a)d[f]=a[f];let e;for(const f in b)if(b[f].test(k)){e=f;break}if(!e)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(t.createEvent)a=t.createEvent(e),"HTMLEvents"===e?a.initEvent(k,d.bubbles,d.cancelable):a.initMouseEvent(k,d.bubbles,d.cancelable,t.defaultView,d.button,d.pointerX,d.pointerY,d.pointerX,d.pointerY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,null),m.dispatchEvent(a);
else{d.clientX=d.pointerX;d.clientY=d.pointerY;a=t.createEventObject();for(const f in d)a[f]=d[f];m.fireEvent("on"+k,a)}}},getScrollbarSize:p.memoize(()=>{const m=t.body,k=n.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});m.appendChild(k);const a=k.offsetWidth-k.clientWidth;m.removeChild(k);return a})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(m){if(Array.isArray(m)){const [k,
a]=m;this.__oE=k;this.__iE=a;this.__iS=a.style;this.__oS=k.style;a.model=k.model=this}else this.__oE=this.__iE=m,this.__iS=this.__oS=m.style,m.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(m,k){k||(this.__iE.className=m);this.domClass=m},addDomClass:function(...m){m=m.filter(k=>k&&"string"===typeof k);
m.length&&(this.__iE.classList.add(...m),this.setDomClass(this.__iE.className,!0))},hasDomClass:function(m){return this.__iE.classList.contains(m)},removeDomClass:function(...m){m=m.filter(k=>k&&"string"===typeof k);m.length&&(this.__iE.classList.remove(...m),this.setDomClass(this.__iE.className,!0))},setDomId:function(m){this.__iE.id=this.domId=m},setZIndex:function(m){this.__oS.zIndex=m},setStyleProperty:function(m,k){this.__iS[m]=k},getPagePosition:function(m){return n["get"+(m?"True":"Relative")+
"Position"](this.__iE)},simulateClick:function(){n.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return h(this.__iE)},getHighestChildZIndex:function(m){const k=this.__iE.childNodes;let a=k.length,d=0;for(;a;){const b=k[--a];1===b.nodeType&&b!==m&&(d=g(d,h(b)))}return d},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(m,k){(k?this.__iE:this.__oE).scrollTop=m||0}})})(myt);
(p=>{let v;const u=g=>{for(;g.lastChild;)g=g.lastChild;return g},t=(g,h)=>{v.lastTraversalWasForward=g;let c=document.body,n=c;var m=document.activeElement;let k=n,a;const d=g?"getNextFocus":"getPrevFocus";m&&(k=n=m,(m=n.model)??(m=v.findModelForDomElement(n)),m&&(h=m.getFocusTrap(h))&&(c=h.getIDE()));for(;k;){if(k.model&&k.model[d]&&(a=k.model[d]()))k=a.getIDE();else if(g)if(k.firstChild)k=k.firstChild;else{if(k===c)return n.model;if(k.nextSibling)k=k.nextSibling;else for(;k&&(k=k.parentNode,k!==
c);)if(k.nextSibling){k=k.nextSibling;break}}else k=k===c?u(c):k.previousSibling?u(k.previousSibling):k.parentNode;if(k===n)return n.model;if(1===k.nodeType)if((m=k.model)&&m instanceof p.View){if(m.isFocusable())return m}else if(h=k.nodeName,!("A"!==h&&"AREA"!==h&&"INPUT"!==h&&"TEXTAREA"!==h&&"SELECT"!==h&&"BUTTON"!==h||k.disabled||isNaN(k.tabIndex))&&p.DomElementProxy.isDomElementVisible(k)&&(m=v.findModelForDomElement(k),!m?.searchAncestorsOrSelf(b=>!0===b.maskFocus))){k.focus();v.focusedDom=k;
break}}};new JS.Singleton("GlobalFocus",{include:[p.Observable],initialize:function(){v=this;v.lastTraversalWasForward=!0;p.global.register("focus",v)},setFocusedView:g=>{if(v.focusedView!==g){v.prevFocusedView=v.focusedView;if(v.focusedView=g)v.focusedDom=null;v.fireEvent("focused",g)}},notifyFocus:g=>{v.focusedView!==g&&v.setFocusedView(g)},notifyBlur:g=>{v.focusedView===g&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:g=>{t(!0,g)?.focus()},prev:g=>{t(!1,g)?.focus()},findModelForDomElement:g=>{for(;g;){let h=g.model;if(h&&h instanceof p.View)return h;g=g.parentNode}}})})(myt);
(p=>{const v=JS.Module,u=p.global,t=u.focus,g=()=>({source:null,type:null,value:null}),h=e=>{e=e.value??e;return(e.target??e.srcElement).model},c=p.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:g(),getKeyFromEvent:e=>e.value.key,getCodeFromEvent:e=>e.value.code,isEnterKeyEvent:e=>e.value.code===u.keys.CODE_ENTER,isEscKeyEvent:e=>e.value.code===u.keys.CODE_ESC,isShiftKeyEvent:e=>u.keys.isShiftCode(e.value.code)},createDomHandler:function(e,f,r){return this.createStandardDomHandler(e,
f,r,c)??this.callSuper(e,f,r)}}),n=p.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:g(),getMouseFromEvent:e=>({x:e.value.pageX,y:e.value.pageY}),getMouseFromEventRelativeToView:(e,f)=>{f=f.getPagePosition();e=n.getMouseFromEvent(e);e.x-=f.x;e.y-=f.y;return e}},createDomHandler:function(e,f,r){return this.createStandardDomHandler(e,f,r,n,!0)??this.callSuper(e,f,r)}}),m=p.ScrollObservable=
new v("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:g(),getScrollFromEvent:e=>{const {scrollLeft:f,scrollTop:r}=h(e)?.getIDE();return{x:f,y:r}}},createDomHandler:function(e,f,r){return this.createStandardDomHandler(e,f,r,m)??this.callSuper(e,f,r)}}),k=p.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:g()},createDomHandler:function(e,f,r){return this.createStandardDomHandler(e,f,r,k,!1)??this.callSuper(e,f,r)}}),
a=p.FocusObservable=new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:g()},initNode:function(e,f){this.focusable=!1;this.focusIndicator=!0;this.callSuper(e,f)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(e){this.focused!==e&&(this.focused=e,this.inited&&(this.fireEvent("focused",e),e?t.notifyFocus(this):t.notifyBlur(this)))},setFocusable:function(e){if(this.focusable!==e){const f=this.focusable;(this.focusable=e)?(this.getIDE().tabIndex=0,this.attachToDom(this,
"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):f&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",e)}},setFocusIndicator:function(e){this.focusIndicator!==e&&(this.focusIndicator=e,this.focused&&(e?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(t.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(e=>!0===e.maskFocus)},focus:function(e){this.isFocusable()&&this.getIDE().focus({preventScroll:e})},blur:function(){this.getIDE().blur()},__doFocus:function(e){this.focused||this.setFocused(!0);this.doFocus()},__doBlur:function(e){this.doBlur();this.focused&&this.setFocused(!1)},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const e=this.getIDS();e.outlineWidth="thin";e.outlineColor="#8bf";e.outlineStyle="solid";e.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(e,f,r){if(a.EVENT_TYPES[r]){const x=this;return l=>{l??=window.event;if(x._ignoreFocus)l.cancelBubble=!0,l.stopPropagation?.(),l.preventDefault();
else{var y=a.EVENT;y.source=x;y.type=l.type;y.value=l;e[f](y)||(l.cancelBubble=!0,l.stopPropagation?.());y.source=void 0}}}return this.callSuper(e,f,r)}}),d=p.InputObservable=new v("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:g()},createDomHandler:function(e,f,r){return this.createStandardDomHandler(e,f,r,d)??this.callSuper(e,f,r)}}),b=p.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:g()},
createDomHandler:function(e,f,r){return this.createStandardDomHandler(e,f,r,b,!0)??this.callSuper(e,f,r)}});p.DomObservable=new v("DomObservable",{attachDomObserver:function(e,f,r,x,l){if(e&&f&&r){const y=this.createDomHandler(e,f,r);if(y){x=!!x;const E=this.__dobsbt??(this.__dobsbt={}),P=E[r];P?P.push(e,f,y,x):E[r]=[e,f,y,x];p.addEventListener(this.getDomElementForDomObservable(r),r,y,x,l);return!0}}return!1},getDomElementForDomObservable:function(e){return this.getIDE()},createDomHandler:(e,f,r)=>
null,createStandardDomHandler:function(e,f,r,x,l){if(x.EVENT_TYPES[r]){const y=this,E=x.EVENT;return P=>{P??=window.event;E.source=y;E.type=P.type;E.value=P;e[f](E)||(P.cancelBubble=!0,P.stopPropagation?.(),l&&P.preventDefault());E.source=void 0}}},detachDomObserver:function(e,f,r,x){if(e&&f&&r){var l=this.__dobsbt;if(l&&(l=l[r])){x=!!x;const y=this.getDomElementForDomObservable(r);let E=!1,P=l.length;for(;4<=P;){const B=l[--P],D=l[--P],N=l[--P],Q=l[--P];e===Q&&f===N&&x===B&&(y&&p.removeEventListener(y,
r,D,x),l.splice(P,4),E=!0)}return E}}return!1},detachAllDomObservers:function(){var e=this.__dobsbt;if(e)for(const [f,r]of Object.entries(e)){for(e=r.length+2;4<=e;){const x=r[e-=3],l=r[--e];p.removeEventListener(this.getDomElementForDomObservable(f),f,l,x)}r.length=0}}});p.DomObserver=new v("DomObserver",{extend:{getSourceViewFromEvent:h},attachToDom:function(e,f,r,x,l){if(e&&f&&r){x=!!x;let y;const E=(y=this.__dobt??(this.__dobt={}))[r]??(y[r]=[]);e.attachDomObserver(this,f,r,x,l)&&E.push(x,f,e)}},
detachFromDom:function(e,f,r,x){if(e&&f&&r){var l=this.__dobt;if(l&&(l=l[r])){x=!!x;let y=!1,E=l.length;for(;3<=E;){const P=l[--E],B=l[--E],D=l[--E];e===P&&f===B&&x===D&&e.detachDomObserver(this,f,r,x)&&(l.splice(E,3),y=!0)}return y}}return!1},detachFromAllDomSources:function(){var e=this.__dobt;if(e)for(const [f,r]of Object.entries(e)){for(e=r.length;3<=e;){const x=r[--e],l=r[--e],y=r[--e];x.detachDomObserver(this,l,f,y)}r.length=0}}})})(myt);
(p=>{let v;const {KeyObservable:u,global:t}=p,g=t.focus,h=u.getCodeFromEvent,c=new Set,n="Firefox"===BrowserDetect.browser,m=n?"OSLeft":"MetaLeft",k=n?"OSRight":"MetaRight",a=()=>c.has("ShiftLeft")||c.has("ShiftRight"),d=()=>c.has("ControlLeft")||c.has("ControlRight"),b=()=>c.has("AltLeft")||c.has("AltRight"),e=()=>c.has(m)||c.has(k),f=(x,l)=>{switch(x){case "Backspace":return x=l.nodeName,!("TEXTAREA"===x||"INPUT"===x&&("text"===l.type||"number"===l.type||"password"===l.type)||"DIV"===x&&"true"===
l.contentEditable&&l.firstChild);case "Tab":return!0}return!1},r=(x,l)=>{for(const y of["keydown","keypress","keyup"])v[l](x,"__hndl_"+y,y)};new JS.Singleton("GlobalKeys",{include:[p.DomElementProxy,p.DomObservable,p.DomObserver,u,p.Observable,p.Observer],initialize:function(){t.register("keys",v=this);v.CODE_ENTER="Enter";v.CODE_ESC="Escape";v.CODE_SPACE="Space";v.CODE_ARROW_LEFT="ArrowLeft";v.CODE_ARROW_UP="ArrowUp";v.CODE_ARROW_RIGHT="ArrowRight";v.CODE_ARROW_DOWN="ArrowDown";v.CODE_DELETE="Delete";
v.CODE_BACKSPACE="Backspace";for(const x of"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""))v["CODE_"+x]="Key"+x;for(const x of"1234567890".split(""))v["CODE_"+x]="Digit"+x;v.ARROW_KEYS=[v.CODE_ARROW_LEFT,v.CODE_ARROW_UP,v.CODE_ARROW_RIGHT,v.CODE_ARROW_DOWN];v.LIST_KEYS=[v.CODE_ENTER,v.CODE_SPACE,v.CODE_ESC,...v.ARROW_KEYS];v.setDomElement(document);v.attachTo(g,"__hndl_focused","focused");r(v,"attachToDom");global.onblur=()=>{c.clear()}},isShiftKeyDown:a,isControlKeyDown:d,isAltKeyDown:b,isMetaKeyDown:e,isShiftCode:x=>
"ShiftLeft"===x||"ShiftRight"===x,isControlCode:x=>"ControlLeft"===x||"ControlRight"===x,isAltCode:x=>"AltLeft"===x||"AltRight"===x,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?e():d(),ignoreFocusTrap:()=>b(),__hndl_focused:x=>{(x=x.value)?(r(v,"detachFromDom"),r(x,"attachToDom")):((x=g.prevFocusedView)&&r(x,"detachFromDom"),r(v,"attachToDom"))},__hndl_keydown:x=>{const l=h(x);x=x.value;f(l,x.target)&&x.preventDefault();e()&&"ShiftLeft"!==l&&"ShiftRight"!==l&&"ControlLeft"!==l&&"ControlRight"!==
l&&"AltLeft"!==l&&"AltRight"!==l?(v.fireEvent("keydown",l),v.fireEvent("keyup",l)):(c.add(l),"Tab"===l&&(x=b(),a()?g.prev(x):g.next(x)),v.fireEvent("keydown",l))},__hndl_keypress:x=>{v.fireEvent("keypress",h(x))},__hndl_keyup:x=>{const l=h(x);x=x.value;f(l,x.target)&&x.preventDefault();c.delete(l);v.fireEvent("keyup",l)}})})(myt);
(p=>{const v=JS.Module,u=Math.max,t=p.FALSE_FUNC,g=(a,d,b,e,f=0)=>{const r=a.length;for(let x=b;f<r;f++)m(a[f],d,x),e&&(x+=b)},h=(a,d,b,e=0)=>{const f=a.length;for(let r=d;e<f;)a[e++].crossPos+=r,b&&(r+=d)},c=(a,d,b,e)=>{var f=a[d?"setWidthViaFlex":"setHeightViaFlex"];d=e?d?a.getFlexBasisWidth():a.getFlexBasisHeight():0;f.call(a,d+b)},n=(a,d,b)=>{a[d?"setXViaFlex":"setYViaFlex"](b,!1)},m=(a,d,b)=>{a[d?"setXViaFlex":"setYViaFlex"](b,!0)},k=(a,d,b)=>{a[d]!==b&&(a[d]=b,a.inited&&a.fireEvent(d,b),a.updateFlexboxLayout())};
p.FlexboxSupport=new v("FlexboxSupport",{initNode:function(a,d){this.__IS_FLEXBOX_SUPPORT=!0;this.rowGap=this.columnGap=0;this.direction??(this.direction="row");this.wrap="nowrap";this.justifyContent=this.alignContent="start";this.alignItems="stretch";this.callSuper(a,d);this.updateFlexboxLayout()},setWidth:function(a){const d=this.width;this.callSuper(a);d!==this.width&&this.updateFlexboxLayout()},setHeight:function(a){const d=this.height;this.callSuper(a);d!==this.height&&this.updateFlexboxLayout()},
setDirection:function(a){k(this,"direction",a)},setWrap:function(a){k(this,"wrap",a)},setJustifyContent:function(a){k(this,"justifyContent",a)},setAlignItems:function(a){k(this,"alignItems",a)},setAlignContent:function(a){k(this,"alignContent",a)},setRowGap:function(a){k(this,"rowGap",u(0,a))},setColumnGap:function(a){k(this,"columnGap",u(0,a))},getWidthForFlexboxLayout:function(){return this.width},getHeightForFlexboxLayout:function(){return this.height},setTotalBasisWidth:function(a){this.set("totalBasisWidth",
a,!0)},setTotalBasisHeight:function(a){this.set("totalBasisHeight",a,!0)},ignoreSubviewForFlex:function(a){return a&&"function"===typeof a.ignoreFlex?a.ignoreFlex():!0},setFlexboxPaused:function(a,d){this.__flexboxPaused!==a&&((this.__flexboxPaused=a)||d||this.updateFlexboxLayout())},isFlexboxPaused:function(){return!!this.__flexboxPaused},subviewAdded:function(a){this.callSuper(a);a&&!this.ignoreSubviewForFlex(a)&&this.updateFlexboxLayout()},subviewRemoved:function(a){this.callSuper(a);!a||this.ignoreSubviewForFlex(a)||
this.isBeingDestroyed||this.updateFlexboxLayout()},doSubviewsReorderedInDom:function(a){this.callSuper(a);a&&this.ignoreSubviewForFlex(a)||this.updateFlexboxLayout()},isOKToUpdateLayout:function(){return this.inited&&!this.__isUpdatingFlexboxLayout&&!this.isFlexboxPaused()},isCompactWidth:t,isCompactHeight:t,isCompactOnMainAxis:function(a){return a?this.isCompactWidth():this.isCompactHeight()},isCompactOnCrossAxis:function(a){return a?this.isCompactHeight():this.isCompactWidth()},isWrapNotAllowed:function(){return"nowrap"===
this.wrap},setUpdateAgain:function(a){this._updateAgain=a},isUpdateAgain:function(){return this._updateAgain},updateFlexboxLayout:function(){const a=this;if(a.isOKToUpdateLayout()){var d=a.getSubviewsInLexicalOrder().filter(B=>!0!==a.ignoreSubviewForFlex(B)&&!0===B.visible);const P=d.length;if(0<P){a.__isUpdatingFlexboxLayout=!0;var b=a.direction;const B=b.startsWith("row"),D=!B;var e=a.getWidthForFlexboxLayout(),f=a.getHeightForFlexboxLayout();const N=B?a.columnGap:a.rowGap,Q=B?e:f;var r=B?a.rowGap:
a.columnGap;const w=B?f:e,q=a.isWrapNotAllowed();e=a.justifyContent;f=a.alignItems;var x=q?"stretch":a.alignContent;b.endsWith("Reverse")&&d.reverse();let z=0,I=0,O=0,M=0,S={items:[],shrinkCount:0,shrinkBasis:0,growCount:0,extraSize:0,crossPos:O,crossSize:0};b=[S];for(let U=0;U<P;){const A=d[U++],C=B?A.getFlexBasisWidth():A.getFlexBasisHeight(),G=A.getShrink(),J=A.getGrow();!q&&0<S.items.length&&z+(0===M?0:N)+C>Q&&(S.extraSize=Q-z,O+=S.crossSize+r,I=u(I,z),M=z=0,S={items:[],shrinkCount:0,shrinkBasis:0,
growCount:0,extraSize:0,crossPos:O,crossSize:0},b.push(S));0!==M&&(z+=N);0<G&&0<C&&(S.shrinkCount+=G,S.shrinkBasis+=C*G);0<J&&(S.growCount+=J);S.crossSize=u(S.crossSize,D?A.getFlexBasisWidth():A.getFlexBasisHeight());n(A,B,z);c(A,B,C);z+=C;S.items.push(A);M++}S.extraSize=Q-z;O+=S.crossSize;I=u(I,z);if(a.isCompactOnMainAxis(B)&&(d=b.reduce((U,A)=>null==U?A.extraSize:Math.min(U,A.extraSize),null),0!==d))for(var l of b)l.extraSize-=d;a[B?"setTotalBasisWidth":"setTotalBasisHeight"](I);a[B?"setTotalBasisHeight":
"setTotalBasisWidth"](O);l=b.length;if(1<l&&"wrapReverse"===a.wrap){for(var y of b)y.crossPos=O-(y.crossPos+y.crossSize);b.reverse()}if(!a.isCompactOnCrossAxis(B))switch(y=w-O,x){default:case "start":break;case "end":h(b,y,!1);break;case "center":h(b,y/2,!1);break;case "spaceBetween":1<l&&h(b,y/(l-1),!0,1);break;case "spaceAround":y<=r?h(b,y/2,!1):(h(b,r/2,!1),y-=r,h(b,y/(2*l),!0),h(b,y/(2*l),!0,1));break;case "spaceEvenly":y<=2*r?h(b,y/2,!1):(h(b,r,!1),h(b,(y-2*r)/(l+1),!0));break;case "stretch":r=
y/l;y=0;for(var E of b)E.crossSize+=r,E.crossPos+=y,y+=r}for(const U of b){E=U.items;r=U.extraSize;if(0<r)if(0<U.growCount){r/=U.growCount;b=0;for(const G of E)0<b&&m(G,B,b),y=G.getGrow()*r,0<y&&(c(G,B,y,!0),b+=y)}else switch(b=E.length,e){default:case "start":break;case "end":g(E,B,r,!1);break;case "center":g(E,B,r/2,!1);break;case "spaceBetween":1<b&&g(E,B,r/(b-1),!0,1);break;case "spaceAround":r<=N?g(E,B,r/2,!1):(g(E,B,N/2,!1),r-=N,g(E,B,r/(2*b),!0),g(E,B,r/(2*b),!0,1));break;case "spaceEvenly":r<=
2*N?g(E,B,r/2,!1):(g(E,B,N,!1),r-=2*N,g(E,B,r/(b+1),!0))}else if(0>r&&0<U.shrinkCount){b=U.shrinkBasis;y=0;for(const G of E)0>y&&m(G,B,y),x=G.getShrink()*(B?G.getFlexBasisWidth():G.getFlexBasisHeight())/b*u(r,-b),0>x&&(c(G,B,x,!0),y+=x)}r=!1;const {crossSize:A,crossPos:C}=U;for(const G of E)switch(G.getAlignSelf()||f){case "start":n(G,D,C);c(G,D,D?G.getFlexBasisWidth():G.getFlexBasisHeight(),!1);break;case "end":n(G,D,C+A-(D?G.getFlexBasisWidth():G.getFlexBasisHeight()));c(G,D,D?G.getFlexBasisWidth():
G.getFlexBasisHeight(),!1);break;case "center":n(G,D,C+(A-(D?G.getFlexBasisWidth():G.getFlexBasisHeight()))/2);c(G,D,D?G.getFlexBasisWidth():G.getFlexBasisHeight(),!1);break;case "baseline":r=!0;n(G,D,C+(A-(D?G.getFlexBasisWidth():G.getFlexBasisHeight()))/2+G.getFlexBaselineOffset(B));c(G,D,D?G.getFlexBasisWidth():G.getFlexBasisHeight(),!1);break;default:n(G,D,C),c(G,D,A,!1)}r&&a.updateFlexboxLayoutBaselineAdjustment(E,B,C)}a.__isUpdatingFlexboxLayout=!1;a.isUpdateAgain()&&!a.__UPDATE_AGAIN_LOOP_PROTECTION&&
(a.setUpdateAgain(!1),a.__UPDATE_AGAIN_LOOP_PROTECTION=!0,a.updateFlexboxLayout(),a.__UPDATE_AGAIN_LOOP_PROTECTION=!1)}else a.setTotalBasisWidth(0),a.setTotalBasisHeight(0)}},updateFlexboxLayoutBaselineAdjustment:p.NOOP});p.FlexboxChildSupport=new v("FlexboxChildSupport",{setVisible:function(a){this.visible!==a&&(this.callSuper(a),this.updateFlexboxLayoutFromChild())},setXViaFlex(a,d){d&&(a+=this.x);this.x!==a&&(this.__isFlexUpdate=!0,this.setX(a),this.__isFlexUpdate=!1)},setYViaFlex(a,d){d&&(a+=
this.y);this.y!==a&&(this.__isFlexUpdate=!0,this.setY(a),this.__isFlexUpdate=!1)},setWidth:function(a){const d=this.width!==a;d&&!this.__isFlexUpdate&&(this.__basisWidth=null);this.callSuper(a);d&&this.updateFlexboxLayoutFromChild()},setWidthViaFlex(a){this.width!==a&&(this.__basisWidth??(this.__basisWidth=this.width),this.__isFlexUpdate=!0,this.setWidth(a),this.__isFlexUpdate=!1)},getFlexBasisWidth:function(){return this.__basisWidth??this.width},setHeight:function(a){const d=this.height!==a;d&&
!this.__isFlexUpdate&&(this.__basisHeight=null);this.callSuper(a);d&&this.updateFlexboxLayoutFromChild()},setHeightViaFlex(a){this.height!==a&&(this.__basisHeight??(this.__basisHeight=this.height),this.__isFlexUpdate=!0,this.setHeight(a),this.__isFlexUpdate=!1)},getFlexBasisHeight:function(){return this.__basisHeight??this.height},getFlexBaselineOffset:a=>0,setIgnoreFlex:function(a){this.__ignoreFlex!==a&&(this.__ignoreFlex=a,this.inited&&(this.fireEvent("ignoreFlex",a),this.isChildOfFlexbox()&&this.parent.updateFlexboxLayout()))},
ignoreFlex:function(){return this.__ignoreFlex},setGrow:function(a){a=u(0,a);this.grow!==a&&(this.grow=a,this.inited&&(this.fireEvent("grow",a),this.updateFlexboxLayoutFromChild()))},getGrow:function(){return this.grow},setShrink:function(a){a=u(0,a);this.shrink!==a&&(this.shrink=a,this.inited&&(this.fireEvent("shrink",a),this.updateFlexboxLayoutFromChild()))},getShrink:function(){return this.shrink},setAlignSelf:function(a){this.alignSelf!==a&&(this.alignSelf=a,this.inited&&(this.fireEvent("alignSelf",
a),this.updateFlexboxLayoutFromChild()))},getAlignSelf:function(){const a=this.alignSelf;return"auto"===a||""===a?null:a},isChildOfFlexbox:function(){return!(!this.parent||!this.parent.__IS_FLEXBOX_SUPPORT)},isFlexUpdateInProgress:function(){return this.__isFlexUpdate},updateFlexboxLayoutFromChild:function(){this.inited&&!this.ignoreFlex()&&this.isChildOfFlexbox()&&(this.isFlexUpdateInProgress()?this.parent.setUpdateAgain(!0):this.parent.updateFlexboxLayout())}})})(myt);
(p=>{const v=console.log,u=new Map,t=new Map,g=(a,d)=>d+(a[0]??"").toUpperCase()+a.slice(1),h=a=>t.get(a)??(t.set(a,g(a,"set")),t.get(a)),c=a=>u.get(a)??(u.set(a,g(a,"get")),u.get(a)),n=(a,d)=>{let b;for(const e in d){const f=d[e],r=h(e);if(r in a)a[r](f);else a[e]!==f&&(a[e]=f,(b??=!1!==a.inited&&a.fireEvent)&&a.fireEvent(e,f))}},m=(a,d)=>{const b=c(d);a[b]&&v("Overwriting getter",b);a[b]=function(){return this[d]}},k=(a,d)=>{const b=h(d);a[b]&&v("Overwriting setter",b);a[b]=function(e){this[d]!==
e&&(this[d]=e,this.inited&&this.fireEvent(d,e))}};p.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:h,generateGetterName:c,generateName:g,createSetterFunction:k,createGetterFunction:m,createSetterMixin:(a,d)=>{const b={};for(const e of a)k(b,e),d&&m(b,e);return b}},appendToEarlyAttrs:function(){(this.earlyAttrs??(this.earlyAttrs=[])).push(...arguments)},prependToEarlyAttrs:function(){(this.earlyAttrs??(this.earlyAttrs=[])).unshift(...arguments)},appendToLateAttrs:function(){(this.lateAttrs??
(this.lateAttrs=[])).push(...arguments)},prependToLateAttrs:function(){(this.lateAttrs??(this.lateAttrs=[])).unshift(...arguments)},quickSet:function(a,d){if(a)for(const b of a)this[b]=d[b],delete d[b]},callSetters:function(a){var d=this.earlyAttrs,b=this.lateAttrs;if(d||b){a={...a};if(d){var e=d.length;for(var f=0;f<e;){const x=d[f++];x in a&&(this.set(x,a[x]),delete a[x])}}let r;if(b)for(r=[],d=b.length,e=0;e<d;)f=b[e++],f in a&&(r.push(f,a[f]),delete a[f]);n(this,a);if(r)for(b=r.length,a=0;a<b;)this.set(r[a++],
r[a++])}else n(this,a)},get:function(a){const d=c(a);return"function"===typeof this[d]?this[d]():this[a]},set:function(a,d,b){if(!b&&(b=h(a),"function"===typeof this[b]))return this[b](d);this[a]!==d&&(this[a]=d,!1!==this.inited&&this?.fireEvent(a,d))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{const p=this.__meta__;if(p)for(const v of Object.keys(p))p[v]=null;for(const v of Object.keys(this))this[v]=null;this.destroyed=!0}}});
(p=>{const {Class:v,Module:u}=JS,t=p.NOOP,g=console.warn;let h;const c=(e,f)=>f?(h=e).__op??(h.__op=[]):e.__op;let n;const m=(e,f)=>f?(n=e).__actives??(n.__actives=[]):e.__actives,k=new v("AbstractPool",{include:[p.Destructible],initialize:t,destroy:function(){const e=c(this);e&&(e.length=0);this.callSuper()},getInstance:function(){const e=c(this,!0);return e.length?e.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(e){c(this,!0).push(this.cleanInstance(e))},
cleanInstance:e=>{"function"===typeof e.clean&&e.clean();return e},destroyPooledInstances:function(){var e=c(this);if(e){let f=e.length;for(;f;){const r=e[--f];"function"===typeof r.destroy&&r.destroy()}e.length=0}}}),a=p.SimplePool=new v("SimplePool",k,{initialize:function(e,f){this.callSuper();this.instanceClass=e??Object;this.instanceParent=f},createInstance:function(e){var f=this.instanceParent,r=this.instanceClass;return f?new r(f,e):new r}}),d=new u("TrackActives",{destroy:function(){const e=
m(this);e&&(e.length=0);this.callSuper()},getInstance:function(){const e=this.callSuper();m(this,!0).push(e);return e},putInstance:function(e){var f=m(this);if(f){const r=f.indexOf(e);if(-1<r){f.splice(r,1);this.callSuper(e);return}f="inactive"}else f="missing";g("Tried to put a "+f+" instance",e,this)},getActives:function(e){const f=m(this);if(f){if(e){const r=[],x=f.length;for(let l=0;x>l;){const y=f[l++];e.call(this,y)&&r.push(y)}return r}return f.slice()}return[]},putActives:function(){const e=
m(this);if(e){let f=e.length;for(;f;)this.putInstance(e[--f])}}}),b=p.TrackActivesPool=new v("TrackActivesPool",a,{include:[d]});p.TrackActivesMultiPool=new v("TrackActivesMultiPool",k,{initialize:function(e,f){this.callSuper();this.instanceClassesByKey=e;const r=this._poolsByClassName={},x=this.__pbk={};for(const l in e){const y=e[l];x[l]=r[y.__displayName]=new b(y,f)}},destroy:function(){const e=this.__pbk;for(const f in e)e[f].destroy();this.callSuper()},getInstance:function(){const e=arguments[0],
f=this.__pbk[e];if(f)return f.getInstance(arguments);g("No pool for key",e)},putInstance:function(e){const f=this._poolsByClassName[e.klass.__displayName];f?f.putInstance(e):g("No pool for obj",e)},destroyPooledInstances:function(){const e=this.__pbk;for(const f in e)e[f].destroyPooledInstances()},getActives:function(e){let f=[];const r=this.__pbk;for(const x in r)f.push(...r[x].getActives(e));return f},putActives:function(){const e=this.__pbk;for(const f in e)e[f].putActives()}});p.Reusable=new u("Reusable",
{clean:t})})(myt);
(p=>{const v=JS.Class,u=p.NOOP,t=console.warn,g=[p.AccessorSupport,p.Destructible,p.Observable,p.Observer],h=(b,e)=>{if(e){const f=e.length;for(let r=0,x;f>r;)(x=e[r++])?b.extend(x):t("Missing mixin in",b.klass.__displayName)}b.inited=!1},c=(b,e)=>{if(e)for(;b;){if(e(b))return b;b=b.parent}},n=(b,e)=>{const f=e.name;void 0===b[f]?b[f]=e:t("Name in use",f)},m=(b,e)=>{const f=e.name;b[f]===e?delete b[f]:t("Name not in use",f)};let k;const a=b=>(k=b).__animPool??(k.__animPool=new p.TrackActivesPool(p.Animator,b));
let d;p.Eventable=new v("Eventable",{include:g,initialize:function(b,e){h(this,e);this.init(b??{})},init:function(b){this.callSetters(b);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});p.Node=new v("Node",{include:g,extend:{getMatchingAncestorOrSelf:c,getMatchingAncestor:(b,e)=>c(b?b.parent:null,e),DEFAULT_PLACEMENT:"*"},initialize:function(b,e,f){h(this,f);this.initNode(b,e??{})},initNode:function(b,e){this.callSetters(e);
this.setParent(b);this.inited=!0},destroy:function(){const b=this.subnodes;this.isBeingDestroyed=!0;if(b)for(let e=b.length;0<e;)b[--e].destroy();this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:u,setPlacement:function(b){this.placement=b},setDefaultPlacement:function(b){this.defaultPlacement=
b},setIgnorePlacement:function(b){this.ignorePlacement=b},setParent:function(b){if(b&&!this.ignorePlacement){var e=this.placement??b.defaultPlacement;e&&(b=b.determinePlacement(e,this))}if(this.parent!==b&&!b?.destroyed){if(e=this.parent){const f=e.getSubnodes().indexOf(this);-1<f&&(this.name&&m(e,this),e.subnodes.splice(f,1),e.subnodeRemoved(this))}if(this.parent=b)b.getSubnodes().push(this),this.name&&n(b,this),b.subnodeAdded(this);this.inited&&this.fireEvent("parent",b)}},setName:function(b){if(this.name!==
b){const e=this.parent;e&&this.name&&m(e,this);this.name=b;e&&b&&n(e,this)}},determinePlacement:function(b,e){let f=b.indexOf("."),r;0<=f&&(r=b.slice(f+1),b=b.slice(0,f));"*"===b&&(b=this.defaultPlacement)&&(f=b.indexOf("."),0<=f&&(r=b.slice(f+1)+(r?"."+r:""),b=b.slice(0,f)));return(b=this[b])?r?b.determinePlacement(r,e):b:this},getRoot:function(){return this.parent?.getRoot()??this},isRoot:function(){return null==this.parent},isDescendantOf:function(b){if(b){if(b===this)return!0;if(this.parent)return this.getIDE&&
b.getIDE?b.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(b)}return!1},isAncestorOf:function(b){return b?b.isDescendantOf(this):!1},getLeastCommonAncestor:function(b){for(;b;){if(this.isDescendantOf(b))return b;b=b.parent}},searchAncestorsForClass:function(b){if(b)return this.searchAncestors(e=>e instanceof b)},searchAncestorsForModule:function(b){if(b)return this.searchAncestors(e=>e.isA(b))},searchAncestors:function(b){return c(this?this.parent:null,b)},searchAncestorsOrSelf:function(b){return c(this,
b)},getAncestors:function(){const b=[];let e=this;for(;e;)b.push(e),e=e.parent;return b},getSubnodes:function(){return this.subnodes??(this.subnodes=[])},subnodeAdded:u,subnodeRemoved:u,animate:function(b){if(b){const e=a(this),f=e.getInstance({ignorePlacement:!0}),r=b.callback;delete b.callback;f.callSetters(b);f.next(x=>{e.putInstance(f)});r&&f.next(r);f.setRunning(!0);return f}},getActiveAnimators:function(b){if("string"===typeof b){const e=b;b=f=>f.attribute===e}return a(this).getActives(b)},
stopActiveAnimators:function(b,e=!1){b=this.getActiveAnimators(b);let f=b.length;if(0<f){const r=a(this);for(;f;){const x=b[--f];x.reset(e);e||r.putInstance(x)}}},doOnceOnIdle:function(b){this.attachTo(p.global.idle,b,"idle",!0)},addRef:function(b,e){return((d=this).__REFS??(d.__REFS={}))[b]=e},getRef:function(b){return((d=this).__REFS??(d.__REFS={}))[b]},removeRef:function(b){const e=(d=this).__REFS??(d.__REFS={}),f=e[b];delete e[b];return f}})})(myt);
(p=>{let v=0,u=!1;const t=JS.Class,g=p.NOOP,h=[],c=b=>{if(u!==b&&(u=b,!b)){for(b=h.length;b;){const e=h[--b];e.__deferredLayout=!1;e.update()}h.length=0}},n=(b,e,f,r)=>{const x=b.getSubviewIndex(e),l=b.subviews;-1<x&&(b=b.getSubviewIndex(f),l.splice(x,1),-1<b?(x<b&&--b,l.splice(b+(r?1:0),0,e)):r?l.push(e):l.unshift(e))},m=(b,e,f)=>{b[e]!==f&&(b[e]=f,b.inited&&(b.fireEvent(e,f),b.update()))},k=p.Layout=new t("Layout",p.Node,{extend:{incrementGlobalLock:()=>{1===++v&&c(!0)},decrementGlobalLock:()=>
{0<v&&0===--v&&c(!1)}},initNode:function(b,e){this.subviews=[];this.locked=!0;this.lockedCounter=1;const f=!0===e.locked;delete e.locked;this.callSuper(b,e);f||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(b){var e=this.parent;if(e!==b){const x=!this.locked;x&&(this.locked=!0);if(e){for(var f=this.subviews,r=f.length;r;)this.removeSubview(f[--r]);this.detachFrom(e,"__hndlPSA","subviewAdded");this.detachFrom(e,"__hndlPSR",
"subviewRemoved")}this.callSuper(b);if(b=this.parent){e=b.getSubviews();f=e.length;for(r=0;f>r;)this.addSubview(e[r++]);this.attachTo(b,"__hndlPSA","subviewAdded");this.attachTo(b,"__hndlPSR","subviewRemoved")}x&&(this.locked=!1,this.inited&&b&&this.update())}},canUpdate:function(){return u?(this.__deferredLayout||(h.push(this),this.__deferredLayout=!0),!1):!this.locked},update:g,hasSubview:function(b){return this.subviews.includes(b)},getSubviewIndex:function(b){return this.subviews.indexOf(b)},
addSubview:function(b){this.ignore(b)||(this.subviews.push(b),this.startMonitoringSubview(b),this.locked||this.update())},startMonitoringSubview:g,startMonitoringAllSubviews:function(){const b=this.subviews;let e=b.length;for(;e;)this.startMonitoringSubview(b[--e])},removeSubview:function(b){if(this.ignore(b))return-1;const e=this.getSubviewIndex(b);-1<e&&(this.stopMonitoringSubview(b),this.subviews.splice(e,1),this.locked||this.update());return e},stopMonitoringSubview:g,stopMonitoringAllSubviews:function(){const b=
this.subviews;let e=b.length;for(;e;)this.stopMonitoringSubview(b[--e])},ignore:b=>b.ignoreLayout,__hndlPSA:function(b){b=b.value;b.parent===this.parent&&this.addSubview(b)},__hndlPSR:function(b){b=b.value;b.parent===this.parent&&this.removeSubview(b)},sortSubviews:function(b){this.subviews.sort(b)},moveSubviewBefore:function(b,e){n(this,b,e,!1)},moveSubviewAfter:function(b,e){n(this,b,e,!0)}});var a=p.ConstantLayout=new t("ConstantLayout",k,{setTargetAttrName:function(b){this.setterName=p.AccessorSupport.generateSetterName(b);
m(this,"targetAttrName",b)},setTargetValue:function(b){m(this,"targetValue",b)},update:function(){if(this.canUpdate()){const b=this.setterName,e=this.targetValue,f=this.subviews,r=f.length;if(b)for(let x=0;r>x;)f[x++][b](e)}}});a=p.VariableLayout=new t("VariableLayout",a,{initNode:function(b,e){this.collapseParent=this.reverse=!1;this.callSuper(b,e)},setCollapseParent:function(b){m(this,"collapseParent",b)},setReverse:function(b){m(this,"reverse",b)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const e=this.setterName,f=this.subviews;var b=f.length;let r=this.targetValue,x,l=0;if(this.reverse)for(x=b;x;)b=f[--x],this.skipSubview(b)||(r=this.updateSubview(++l,b,e,r));else for(x=0;b>x;){const y=f[x++];this.skipSubview(y)||(r=this.updateSubview(++l,y,e,r))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(e,r);this.decrementLockedCounter()}},doBeforeUpdate:g,doAfterUpdate:g,startMonitoringSubview:function(b){this.attachTo(b,"update",
"visible")},stopMonitoringSubview:function(b){this.detachFrom(b,"update","visible")},updateSubview:(b,e,f,r)=>{e[f](r);return r},skipSubview:b=>!b.visible,updateParent:g});const d=p.SpacedLayout=new t("SpacedLayout",a,{initNode:function(b,e){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(b,e)},setTargetAttrName:function(b){if(this.targetAttrName!==
b){const e="y"===b,f=this.inited;f&&this.stopMonitoringAllSubviews();this.measureAttrName=e?"boundsHeight":"boundsWidth";this.measureAttrBaseName=e?"height":"width";this.parentSetterName=e?"setHeight":"setWidth";f&&this.startMonitoringAllSubviews();this.callSuper(b)}},setNoAddSubviewOptimization:function(b){this.noAddSubviewOptimization=b},setAxis:function(b){this.setTargetAttrName(this.axis=b)},setInset:function(b){this.setTargetValue(this.inset=b)},setSpacing:function(b){m(this,"spacing",b)},setOutset:function(b){m(this,
"outset",b)},addSubview:function(b){const e=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(b);this.locked=e},startMonitoringSubview:function(b){this.attachTo(b,"update",this.measureAttrName);this.callSuper(b)},stopMonitoringSubview:function(b){this.detachFrom(b,"update",this.measureAttrName);this.callSuper(b)},updateSubview:function(b,e,f,r){b=e[this.measureAttrName];e[f](r+(b-e[this.measureAttrBaseName])/2);return r+b+this.spacing},updateParent:function(b,e){this.parent[this.parentSetterName](e+
this.outset-this.spacing)}});p.ResizeLayout=new t("ResizeLayout",d,{setCollapseParent:g,setTargetAttrName:function(b){if(this.targetAttrName!==b){if(this.inited){const e="x"===b;this.stopMonitoringParent(e?"height":"width");this.startMonitoringParent(e?"width":"height")}this.callSuper(b)}},setParent:function(b){if(this.parent!==b){const e="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(e);this.callSuper(b);this.parent&&this.startMonitoringParent(e)}},startMonitoringParent:function(b){this.attachTo(this.parent,
"update",b)},stopMonitoringParent:function(b){this.detachFrom(this.parent,"update",b)},doBeforeUpdate:function(){const b=this.measureAttrName,e=this.subviews;let f=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,r=e.length,x=0,l=0;for(;r;){const y=e[--r];this.skipSubview(y)||(++x,0<y.layoutHint?l+=y.layoutHint:f-=y[b])}0!==x&&(this.remainder=f-=(x-1)*this.spacing,this.resizeSum=l,this.scalingFactor=f/l,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===b?
"setWidth":"setHeight")},updateSubview:function(b,e,f,r){var x=e.layoutHint;0<x&&(this.resizeSumUsed+=x,x=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(x*this.scalingFactor),this.remainderUsed+=x,e[this.measureSetter](x));return this.callSuper(b,e,f,r)},startMonitoringSubview:function(b){0<b.layoutHint||this.attachTo(b,"update",this.measureAttrName);this.attachTo(b,"update","visible")},stopMonitoringSubview:function(b){0<b.layoutHint||this.detachFrom(b,"update",
this.measureAttrName);this.detachFrom(b,"update","visible")},updateParent:g});p.AlignedLayout=new t("AlignedLayout",a,{initNode:function(b,e){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(b,e)},setTargetAttrName:function(b){if(this.targetAttrName!==b){const e="y"===b,f=this.inited;f&&this.stopMonitoringAllSubviews();this.measureAttrName=e?"boundsHeight":
"boundsWidth";this.measureAttrBaseName=e?"height":"width";this.parentSetterName=e?"setHeight":"setWidth";f&&this.startMonitoringAllSubviews();this.callSuper(b)}},setAlign:function(b){if(this.align!==b){this.align=b;const e=this.locked;this.locked=!0;this.setTargetAttrName("middle"===b||"bottom"===b||"top"===b?"y":"x");this.locked=e;this.inited&&(this.fireEvent("align",b),this.update())}},startMonitoringSubview:function(b){this.attachTo(b,"update",this.measureAttrName);this.callSuper(b)},stopMonitoringSubview:function(b){this.detachFrom(b,
"update",this.measureAttrName);this.callSuper(b)},doBeforeUpdate:function(){const b=this.measureAttrName,e=this.subviews;let f=0,r=e.length;for(;r;){const x=e[--r];this.skipSubview(x)||(f=f>x[b]?f:x[b])}this.setTargetValue(f)},updateSubview:function(b,e,f,r){switch(this.align){case "center":case "middle":e[f]((r-e[this.measureAttrName])/2);break;case "right":case "bottom":e[f](r-e[this.measureAttrName]);break;default:e[f](0)}return r},updateParent:function(b,e){this.parent[this.parentSetterName](e)}});
p.WrappingLayout=new t("WrappingLayout",a,{initNode:function(b,e){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(b,e)},setTargetAttrName:function(b){if(this.targetAttrName!==
b){const e="y"===b,f=this.inited;f&&this.stopMonitoringAllSubviews();this.measureAttrName=e?"boundsHeight":"boundsWidth";const r=this.measureAttrBaseName=e?"height":"width";this.otherMeasureAttrName=e?"boundsWidth":"boundsHeight";const x=this.otherMeasureAttrBaseName=e?"width":"height";this.parentSetterName=e?"setWidth":"setHeight";this.otherSetterName=e?"setX":"setY";f&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(x),this.startMonitoringParent(r));this.callSuper(b)}},setParent:function(b){if(this.parent!==
b){const e="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(e?"height":"width");this.callSuper(b);this.parent&&this.startMonitoringParent(e?"height":"width")}},setAxis:function(b){this.setTargetAttrName(this.axis=b)},setInset:function(b){this.setTargetValue(this.inset=b)},setSpacing:function(b){m(this,"spacing",b)},setOutset:function(b){m(this,"outset",b)},setLineSpacing:function(b){m(this,"lineSpacing",b)},setLineInset:function(b){m(this,"lineInset",b)},setLineOutset:function(b){m(this,
"lineOutset",b)},startMonitoringParent:function(b){this.attachTo(this.parent,"update",b)},stopMonitoringParent:function(b){this.detachFrom(this.parent,"update",b)},startMonitoringSubview:function(b){this.attachTo(b,"update",this.measureAttrName);this.attachTo(b,"update",this.otherMeasureAttrName);this.callSuper(b)},stopMonitoringSubview:function(b){this.detachFrom(b,"update",this.measureAttrName);this.detachFrom(b,"update",this.otherMeasureAttrName);this.callSuper(b)},doBeforeUpdate:function(){this.lineCount=
1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(b,e,f,r){b=e[this.measureAttrName];const x=e[this.otherMeasureAttrName];r+b>this.parentSizeLessOutset||"break"===e.layoutHint?(r=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=x,++this.lineCount):x>this.lineSize&&(this.lineSize=x);e[this.otherSetterName](this.linePos+(x-e[this.otherMeasureAttrBaseName])/2);e[f](r+(b-
e[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,r+b+this.outset);return r+b+this.spacing},updateParent:function(b,e){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});p.createFixedThresholdCounter(k,1,"locked")})(myt);
(p=>{const v=Math.round,{NOOP:u,DomElementProxy:t,Geometry:{rectContainsPoint:g}}=p,h=(f,r)=>{const x=p.global.focus.focusedView,l=f.getIDE();if(x===f||x?.isDescendantOf(f))x._ignoreFocus=!0;const {scrollTop:y,scrollLeft:E}=l;r();x&&(x._ignoreFocus=!1,x.focus(!0));l.scrollTop=y;l.scrollLeft=E},c=(f,r,x)=>{const l=f.getODE(),y=l.parentNode;if(y){const E=()=>{const P=l.nextElementSibling;y.removeChild(l);r();y.insertBefore(l,P)};x?h(f,E):E()}else r()},n=(f,r,x,l)=>{if(r&&"object"===typeof r){if(l){var y=
f.getLeastCommonAncestor(r)?.getIDE();if(y){const E=t.getZIndexRelativeToAncestor,P=x?-1:1;l=P*E(f.getODE(),y);y=P*E(r.getODE(),y);if(l<y)return!0;if(y<l)return!1}}f=f.getODE().compareDocumentPosition(r.getODE());return x?2===f||10===f:4===f||20===f}return!1},m=f=>{f=f.getAncestors();let r=f.length,x=1,l=1;for(;r;){const y=f[--r];x*=y.scaleX||1;l*=y.scaleY||1;y.__effectiveScaleX=x;y.__effectiveScaleY=l}return{scaleX:x,scaleY:l}},k=(f,r,x)=>{const l=f.getODE();if(g(r,x,0,0,l.offsetWidth*f.__effectiveScaleX,
l.offsetHeight*f.__effectiveScaleY)){if(f=f.parent){const y=f.getIDE();return k(f,r+(l.offsetLeft-y.scrollLeft)*f.__effectiveScaleX,x+(l.offsetTop-y.scrollTop)*f.__effectiveScaleY)}return!0}return!1},a=f=>{switch(f.align){case "center":f.releaseConstraint("__doAlignCenter");break;case "right":f.releaseConstraint("__doAlignRight")}},d=f=>{const r=f.parent;if(r)switch(f.align){case "center":f.constrain("__doAlignCenter",[f,"width",f,"alignOffset",r,"width"]);break;case "right":f.constrain("__doAlignRight",
[f,"width",f,"alignOffset",r,"width"]);break;case "left":f.setX(f.alignOffset||0)}},b=f=>{switch(f.valign){case "middle":f.releaseConstraint("__doValignMiddle");break;case "bottom":f.releaseConstraint("__doValignBottom")}},e=f=>{const r=f.parent;if(r)switch(f.valign){case "middle":f.constrain("__doValignMiddle",[f,"height",f,"valignOffset",r,"height"]);break;case "bottom":f.constrain("__doValignBottom",[f,"height",f,"valignOffset",r,"height"]);break;case "top":f.setY(f.valignOffset||0)}};p.View=new JS.Class("View",
p.Node,{include:[t,p.DomObservable,p.DomObserver,p.ScrollObservable,p.FocusObservable,p.KeyObservable,p.MouseObservable],extend:{retainFocusDuringDomUpdate:h,doWhileRemovedFromDom:c},initNode:function(f,r){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;r.tagName&&(this.tagName=r.tagName,delete r.tagName);this.setDomElement(this.createOurDomElement(f));const x=this.getODS();x.left=x.top="0px";this.callSuper(f,r);this.__updateBounds(this.width,this.height)},createOurDomElement:function(f){f=
document.createElement(this.tagName??"div");f.style.position="absolute";let r;f.className=(r=this.klass).__cssClassName??(r.__cssClassName="myt-"+this.klass.__displayName.split(".").join("-"));return f},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(f){this.parent!==f&&(this.inited&&(a(this),b(this)),this.callSuper(f),this.align&&d(this),this.valign&&e(this))},getSubviews:function(){return this.subviews??
(this.subviews=[])},getSubviewsInLexicalOrder:function(){const f=[],r=this.getIDE().children,x=r.length;for(let l=0;l<x;){const y=r[l++].model;y?.parent===this&&f.push(y)}return f},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(f=>f!==this)},setFocusTrap:function(f){this.focusTrap=f},setFocusCage:function(f){this.focusCage=f},setMaskFocus:function(f){this.maskFocus=f},setLayoutHint:function(f){this.layoutHint=f},getLayouts:function(){return this.layouts??(this.layouts=
[])},getFirstLayout:function(){return this.getLayouts()[0]},setIgnoreLayout:function(f){if(this.ignoreLayout!==f){var r=this.inited&&this.parent;let x;if(f){if(r)for(r=this.parent.getLayouts(),x=r.length;x;)r[--x].removeSubview(this);this.ignoreLayout=f}else if(this.ignoreLayout=f,r)for(r=this.parent.getLayouts(),x=r.length;x;)r[--x].addSubview(this)}},setDomClass:function(f,r){this.domClass!==f&&(this.callSuper(f,r),this.inited&&this.fireEvent("domClass",f))},setDomId:function(f){this.domId!==f&&
(this.callSuper(f),this.inited&&this.fireEvent("domId",f))},setAlignOffset:function(f){this.alignOffset!==f&&(this.alignOffset=f,this.inited&&this.fireEvent("alignOffset",f),this.parent&&"left"===this.align&&this.setX(f))},setAlign:function(f){this.align!==f&&(this.inited&&a(this),this.align=f,this.inited&&(this.fireEvent("align",f),d(this)))},__doAlignCenter:function(f){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(f){this.setX(this.parent.width-this.width-
(this.alignOffset||0))},setValignOffset:function(f){this.valignOffset!==f&&(this.valignOffset=f,this.inited&&this.fireEvent("valignOffset",f),this.parent&&"top"===this.valign&&this.setY(f))},setValign:function(f){this.valign!==f&&(this.inited&&b(this),this.valign=f,this.inited&&(this.fireEvent("valign",f),e(this)))},__doValignMiddle:function(f){this.setY(v((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(f){this.setY(this.parent.height-this.height-(this.valignOffset||
0))},setX:function(f){this.x!==f&&(this.x=f,this.visible&&(this.getODS().left=f+"px"),this.inited&&this.fireEvent("x",f))},setY:function(f){this.y!==f&&(this.y=f,this.visible&&(this.getODS().top=f+"px"),this.inited&&this.fireEvent("y",f))},setWidth:function(f){0>f&&(f=0);this.width!==f&&(this.width=f,this.getODS().width=f+"px",this.inited&&(this.__updateBounds(f,this.height),this.fireEvent("width",f)))},setHeight:function(f){0>f&&(f=0);this.height!==f&&(this.height=f,this.getODS().height=f+"px",this.inited&&
(this.__updateBounds(this.width,f),this.fireEvent("height",f)))},setDomMinWidth:function(f,r){(r?this.getIDS():this.getODS()).minWidth=null!=f?f+"px":null},getDomMinWidth:function(f){f=(f?this.getIDS():this.getODS()).minWidth;return null!=f?Number.parseInt(f):null},setDomMinHeight:function(f,r){(r?this.getIDS():this.getODS()).minHeight=null!=f?f+"px":null},getDomMinHeight:function(f){f=(f?this.getIDS():this.getODS()).minHeight;return null!=f?Number.parseInt(f):null},setTextColor:function(f){this.textColor!==
f&&(this.textColor=f,this.getODS().color=f||"inherit",this.inited&&this.fireEvent("textColor",f))},setBgColor:function(f){this.bgColor!==f&&(this.getODS().backgroundColor=this.bgColor=f,this.inited&&this.fireEvent("bgColor",f))},isColorAttr:f=>"bgColor"===f||"textColor"===f,setOpacity:function(f){this.opacity!==f&&(this.getODS().opacity=this.opacity=f,this.inited&&this.fireEvent("opacity",f))},setOverflow:function(f){const r=this.overflow;if(r!==f){this.overflow=f;const x=this.getIDS();if("autox"===
f)x.overflowX="auto",x.overflowY="hidden";else if("autoy"===f)x.overflowY="auto",x.overflowX="hidden";else{if("autox"===r||"autoy"===r)x.overflowX=x.overflowY=null;x.overflow=f||"visible"}this.inited&&this.fireEvent("overflow",f)}},setVisible:function(f){if(this.visible!==f){this.visible=f;const r=this.getODS();r.visibility=f?"inherit":"hidden";r.left=f?this.x+"px":"-100000px";r.top=f?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",f)}},setPointerEvents:function(f){this.pointerEvents!==
f&&(this.pointerEvents=f,this.getODS().pointerEvents=f||"auto",this.inited&&this.fireEvent("pointerEvents",f))},setCursor:function(f){this.cursor!==f&&(this.cursor=f,this.getODS().cursor=f||"auto",this.inited&&this.fireEvent("cursor",f))},__updateBounds:function(f,r){this.boundsWidth!==f&&this.fireEvent("boundsWidth",this.boundsWidth=f);this.boundsHeight!==r&&this.fireEvent("boundsHeight",this.boundsHeight=r)},setOutline:function(f){const [r,x,l]=f??[];this.setOutlineWidth(r);this.setOutlineStyle(x);
this.setOutlineColor(l)},setOutlineWidth:function(f){this.getODS().outlineWidth=(this.outlineWidth=f||0)+"px"},setOutlineStyle:function(f){this.getODS().outlineStyle=this.outlineStyle=f||"none"},setOutlineColor:function(f){this.getODS().outlineColor=this.outlineColor=f||"#000"},setBorder:function(f){const [r,x,l]=f??[];this.setBorderWidth(r);this.setBorderStyle(x);this.setBorderColor(l)},setBorderWidth:function(f){this.getODS().borderWidth=(this.borderWidth=f||0)+"px"},setBorderStyle:function(f){this.getODS().borderStyle=
this.borderStyle=f||"none"},setBorderColor:function(f){this.getODS().borderColor=this.borderColor=f||"#000"},setRoundedCorners:function(f){this.getODS().borderRadius=f+"px"},setRoundedTopLeftCorner:function(f){this.getODS().borderTopLeftRadius=f+"px"},setRoundedTopRightCorner:function(f){this.getODS().borderTopRightRadius=f+"px"},setRoundedBottomLeftCorner:function(f){this.getODS().borderBottomLeftRadius=f+"px"},setRoundedBottomRightCorner:function(f){this.getODS().borderBottomRightRadius=f+"px"},
setBoxShadow:function(f){const [r,x,l,y]=f??[];this.getODS().boxShadow=f?(r||0)+"px "+(x||0)+"px "+(l||7)+"px "+(y||"#000"):"none"},setGradient:function(f){const r=this.getODS();if(f){let l=f[0];"linear"===l||"radial"===l?f.shift():l="linear";let y=f[0];if("radial"===l){void 0===y?y="closest-side":f.shift();var x=f[0];if(void 0===x)x="circle";else{switch(x){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",x),x="circle"}f.shift()}let E=f[0];void 0===E?E="center":
(E=E.replaceAll("middle","center"),f.shift());y=x+" "+y+" at "+E}else"number"===typeof y?(y+="deg",f.shift()):y?(y="to "+y,f.shift()):y="0deg";x=E=>{f.push(E&&"inherit"!==E?E:"transparent")};2>f.length&&x(this.textColor);2>f.length&&x(this.bgColor);r.background=l+"-gradient("+y+","+f.join(",")+")"}else r.background="none";this.bgColor=void 0},setTooltip:function(f){this.tooltip!==f&&(this.tooltip=this.getODE().title=f,this.inited&&this.fireEvent("tooltip",f))},isVisible:function(){return null==this.searchAncestorsOrSelf(f=>
!f.visible)},getFocusTrap:function(f){return this.searchAncestorsOrSelf(r=>r.focusCage||r.focusTrap&&!f)},subnodeAdded:function(f){f instanceof p.View?(this.getIDE().appendChild(f.getODE()),this.getSubviews().push(f),this.fireEvent("subviewAdded",f),this.subviewAdded(f)):f instanceof p.Layout&&(this.getLayouts().push(f),this.fireEvent("layoutAdded",f),this.layoutAdded(f))},subnodeRemoved:function(f){let r;f instanceof p.View?(r=this.getSubviewIndex(f),-1<r&&(this.fireEvent("subviewRemoved",f),f.removeDomElement(),
this.subviews.splice(r,1),this.subviewRemoved(f))):f instanceof p.Layout&&(r=this.getLayoutIndex(f),-1<r&&(this.fireEvent("layoutRemoved",f),this.layouts.splice(r,1),this.layoutRemoved(f)))},hasSubview:function(f){return this.getSubviews().includes(f)},getSubviewIndex:function(f){return this.getSubviews().indexOf(f)},subviewAdded:u,subviewRemoved:u,getNextSibling:function(){if(this.parent)return this.getODE().nextElementSibling?.model},getPrevSibling:function(){if(this.parent)return this.getODE().previousElementSibling?.model},
destroyAllSubviews:function(f){const r=this.getSubviews();for(let x=r.length;0<x;){const l=r[--x];f&&!f(l)||l.destroy()}},hasLayout:function(f){return this.getLayouts().includes(f)},getLayoutIndex:function(f){return this.getLayouts().indexOf(f)},layoutAdded:u,layoutRemoved:u,isBehind:function(f,r){return n(this,f,!1,r)},isInFrontOf:function(f,r){return n(this,f,!0,r)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(f,
r){this.parent.sendSubviewBehind(this,f,r)},sendInFrontOf:function(f,r){this.parent.sendSubviewInFrontOf(this,f,r)},doSubviewsReorderedInDom:u,bringSubviewToFront:function(f){const r=this;if(f?.parent===r){const x=r.getIDE(),l=f.getODE();l!==x.lastElementChild&&h(f,()=>{x.appendChild(l);r.doSubviewsReorderedInDom(f)})}},sendSubviewToBack:function(f){const r=this;if(f?.parent===r){const x=r.getIDE(),l=x.firstElementChild,y=f.getODE();y!==l&&h(f,()=>{x.insertBefore(y,l);r.doSubviewsReorderedInDom(f)})}},
sendSubviewBehind:function(f,r,x){x?.moveSubviewBefore(f,r);const l=this;if(f?.parent===l&&r?.parent===l){const y=f.getODE(),E=r.getODE();if(y!==E.previousElementSibling){const P=l.getIDE();h(f,()=>{P.insertBefore(y,E);l.doSubviewsReorderedInDom(f)})}}x?.update()},sendSubviewInFrontOf:function(f,r,x){x?.moveSubviewAfter(f,r);const l=this;if(f?.parent===l&&r?.parent===l){const y=f.getODE(),E=r.getODE().nextElementSibling;if(y!==E){const P=l.getIDE();h(f,()=>{P.insertBefore(y,E);l.doSubviewsReorderedInDom(f)})}}x?.update()},
sortSubviews:function(f){const r=this,x=r.getSubviews();p.isSorted(x,f)||(x.sort(f),c(r,()=>{const l=document.createDocumentFragment(),y=x.length;for(let E=0;y>E;)l.appendChild(x[E++].getODE());r.getIDE().appendChild(l)},!0),r.doSubviewsReorderedInDom(null))},containsPoint:function(f,r,x){const l=this.getODE();if(!l)return!1;const {x:y,y:E}=t.getRelativePosition(l,x);return g(f,r,y,E,this.width,this.height)},isPointVisible:function(f,r){const {x,y:l}=this.getPagePosition(!0);m(this);return k(this,
f-x,r-l)},intersectsWithSibling:function(f){return f.parent===this.parent&&!(f.x>this.x+this.width||f.x+f.width<this.x||f.y>this.y+this.height||f.y+f.height<this.y)},getEffectiveScale:function(){return m(this)},getEffectiveScaleX:function(){return m(this).scaleX},getEffectiveScaleY:function(){return m(this).scaleY}})})(myt);
(p=>{const v=(t,g,h)=>{const c=u(t,g);t.getODS().transform=c+(0===c.length?"":" ")+g+"("+h+")"},u=(t,g)=>{t=t.getODS();var h=t.transform;if(!h||0===h.length)return"";h=h.split(" ");let c=h.length;for(;c;)if(h[--c].startsWith(g)){h.splice(c,1);break}return t.transform=h.join(" ")};p.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(t){this.transformOrigin!==t&&(this.transformOrigin=t,this.getODS().transformOrigin=t||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",t)))},setRotation:function(t){this.rotation!==t&&(this.rotation=t,v(this,"rotate",(t||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",t)))},setScale:function(t){const g=this.scaleX!==t,h=this.scaleY!==t;if(g){var c=this.scaleX=t;null==c?u(this,"scaleX"):v(this,"scaleX",c||1)}h&&(c=this.scaleY=t,null==c?u(this,"scaleY"):v(this,"scaleY",c||1));this.inited&&((g||h)&&this.__updateBounds(this.width,this.height),
g&&this.fireEvent("scaleX",t),h&&this.fireEvent("scaleY",t))},setScaleX:function(t){if(this.scaleX!==t){var g=this.scaleX=t;null==g?u(this,"scaleX"):v(this,"scaleX",g||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",t))}},setScaleY:function(t){if(this.scaleY!==t){var g=this.scaleY=t;null==g?u(this,"scaleY"):v(this,"scaleY",g||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",t))}},setSkewX:function(t){this.skewX!==t&&(this.skewX=
t,v(this,"skewX",t||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",t)))},setSkewY:function(t){this.skewY!==t&&(this.skewY=t,v(this,"skewY",t||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",t)))},__updateBounds:function(t,g){const {rotation:h,scaleX:c,scaleY:n}=this,m=(null==c||1===c)&&(null==n||1===n);if(!m||null!=h&&0!==h&&180!==h)!m||90!==h&&270!==h?{width:t,height:g}=this.getODE().getBoundingClientRect():{width:g,height:t}=
this;this.callSuper(t,g)}})})(myt);
(p=>{const v=JS.Module,u=(c,n)=>{if("auto"===n)c.__hasSetWidth=!1,c.getODS().width="auto",c.sizeViewToDom();else return c.__hasSetWidth=!0},t=(c,n)=>{if("auto"===n)c.__hasSetHeight=!1,c.getODS().height="auto",c.sizeViewToDom();else return c.__hasSetHeight=!0},g=c=>{if(!c.__hasSetWidth){const n=c.getODE().offsetWidth/c.getEffectiveScaleX();c.width!==n&&(c.width=n,c.inited&&c.__updateBounds(n,c.height),c.fireEvent("width",n))}},h=c=>{if(!c.__hasSetHeight){const n=c.getODE().offsetHeight/c.getEffectiveScaleY();
c.height!==n&&(c.height=n,c.inited&&c.__updateBounds(c.width,n),c.fireEvent("height",n))}};p.SizeToDom=new v("SizeToDom",{extend:{sizeWidth:g,sizeHeight:h},initNode:function(c,n){this.callSuper(c,n);this.sizeViewToDom()},setWidth:function(c){u(this,c)&&this.callSuper(c)},setHeight:function(c){t(this,c)&&this.callSuper(c)},sizeViewToDom:function(){g(this);h(this)}});p.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(c,n){this.callSuper(c,n);this.sizeViewToDom()},setWidth:function(c){u(this,
c)&&this.callSuper(c)},sizeViewToDom:function(){g(this)}});p.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(c,n){this.callSuper(c,n);this.sizeViewToDom()},setHeight:function(c){t(this,c)&&this.callSuper(c)},sizeViewToDom:function(){h(this)}})})(myt);
(p=>{const v=JS.Module,u=(c,n,m,k)=>{c[m]!==n&&(c[m]=n,c.getIDS()[m]=n||k||"inherit",c.inited&&(c.fireEvent(m,n),c.sizeViewToDom?.()))};p.TextSupport=new v("TextSupport",{setWidth:function(c){this.callSuper(c);"auto"!==c&&(c=this.whiteSpace,"normal"!==c&&"pre-line"!==c&&"pre-wrap"!==c&&"break-spaces"!==c||this.sizeViewToDom())},setText:function(c){c||="";c=this.valueFromEvent(c);this.text!==c&&(this.getIDE().innerHTML=this.text=c,this.inited&&(this.fireEvent("text",c),this.sizeViewToDom()))},setTextOverflow:function(c){this.textOverflow!==
c&&(this.textOverflow=c,this.getIDS().textOverflow=c||"inherit",this.inited&&this.fireEvent("textOverflow",c))},setTextAlign:function(c){this.textAlign!==c&&(this.textAlign=c,this.getIDS().textAlign=c||"inherit",this.inited&&this.fireEvent("textAlign",c))},setWhiteSpace:function(c){u(this,c,"whiteSpace")},setWordWrap:function(c){u(this,c,"wordWrap","normal")},setWordBreak:function(c){u(this,c,"wordBreak","normal")},setTextIndent:function(c){u(this,c,"textIndent")},setTextTransform:function(c){u(this,
c,"textTransform")},setTextDecoration:function(c){u(this,c,"textDecoration")},setLineHeight:function(c){u(this,c,"lineHeight")},setLetterSpacing:function(c){u(this,c,"letterSpacing")},setWordSpacing:function(c){u(this,c,"wordSpacing")},setFontFamily:function(c){u(this,c,"fontFamily")},setFontStyle:function(c){u(this,c,"fontStyle")},setFontVariant:function(c){u(this,c,"fontVariant")},setFontWeight:function(c){u(this,c,"fontWeight")},setFontSize:function(c){u(this,c,"fontSize")},setUserUnselectable:function(c){this.userUnselectable!==
c&&(this.userUnselectable=c,this[c?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(c?"default":"text"),this.inited&&this.fireEvent("userUnselectable",c))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(c,n,m,k){this.getIDS().textShadow=(c||0)+"px "+(n||0)+"px "+(null!=m?m:2)+"px "+(k||"#000")},
hideTextShadow:function(){this.getIDS().textShadow="none"}});const t=(c,n,m)=>{const k="padding"+m;n=Math.max(n,0);c[k]!==n&&(c[k]=n,c.getIDS()[k]=n+"px",c.fireEvent(k,n),"Left"===m||"Right"===m?g(c):h(c))},g=c=>{c.__hasSetWidth&&(c.getODS().width=c.width-(c.paddingLeft||0)-(c.paddingRight||0)+"px",c.inited&&c.sizeViewToDom())},h=c=>{c.__hasSetHeight&&(c.getODS().height=c.height-(c.paddingTop||0)-(c.paddingBottom||0)+"px",c.inited&&c.sizeViewToDom())};p.PaddedTextSupport=new v("PaddedTextSupport",
{setWidth:function(c){this.callSuper(c);g(this)},setHeight:function(c){this.callSuper(c);h(this)},setPadding:function(c){let n,m,k;c||=0;"object"===typeof c?(n=c.top||0,m=c.right||0,k=c.bottom||0,c=c.left||0):n=m=k=c;this.setPaddingTop(n);this.setPaddingRight(m);this.setPaddingBottom(k);this.setPaddingLeft(c)},setPaddingTop:function(c){t(this,c,"Top")},setPaddingRight:function(c){t(this,c,"Right")},setPaddingBottom:function(c){t(this,c,"Bottom")},setPaddingLeft:function(c){t(this,c,"Left")}})})(myt);
(p=>{const v={},u={},t=g=>{const h=g.imageUrl;if(g.calculateNaturalSize&&h){var c=v[h];if(c)g.setNaturalWidth(c.width),g.setNaturalHeight(c.height);else{c=u[h];if(!c){u[h]=c=[];const n=new Image;n.onerror=m=>{if(m=u[h]){let k=m.length;for(;k;)m[--k].setImageLoadingError(!0);m.length=0;delete u[h]}};n.onload=()=>{const m=n.width,k=n.height,a=u[h];if(a){let d=a.length;for(;d;){const b=a[--d];b.imageUrl===h&&(b.setNaturalWidth(m),b.setNaturalHeight(k))}a.length=0;delete u[h]}v[h]={width:m,height:k}};
n.src=h}c.push(g)}}};p.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:g=>v[g]},initNode:function(g,h){h.imageRepeat??(h.imageRepeat="no-repeat");h.imageAttachment??(h.imageAttachment="scroll");this.callSuper(g,h)},setImageUrl:function(g){this.imageUrl!==g&&(this.imageUrl=g,this.getIDS().backgroundImage=g?'url("'+g+'")':"none",this.inited&&(this.fireEvent("imageUrl",g),this.setNaturalWidth(),this.setNaturalHeight(),!g&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
t(this))},setImageLoadingError:function(g){this.set("imageLoadingError",g,!0)},setImageSize:function(g){this.imageSize!==g&&(this.imageSize=g,this.getIDS().backgroundSize=g||"auto",this.inited&&this.fireEvent("imageSize",g))},setImageRepeat:function(g){this.imageRepeat!==g&&(this.getIDS().backgroundRepeat=this.imageRepeat=g,this.inited&&this.fireEvent("imageRepeat",g))},setImagePosition:function(g){this.imagePosition!==g&&(this.getIDS().backgroundPosition=this.imagePosition=g,this.inited&&this.fireEvent("imagePosition",
g))},setImageAttachment:function(g){this.imageAttachment!==g&&(this.getIDS().backgroundAttachment=this.imageAttachment=g,this.inited&&this.fireEvent("imageAttachment",g))},setCalculateNaturalSize:function(g){this.calculateNaturalSize!==g&&(this.calculateNaturalSize=g,this.inited&&this.fireEvent("calculateNaturalSize",g),t(this))},setNaturalWidth:function(g){this.naturalWidth!==g&&(this.naturalWidth=g,this.inited&&this.fireEvent("naturalWidth",g),this.useNaturalSize&&g&&this.setWidth(g))},setNaturalHeight:function(g){this.naturalHeight!==
g&&(this.naturalHeight=g,this.inited&&this.fireEvent("naturalHeight",g),this.useNaturalSize&&g&&this.setHeight(g))},setUseNaturalSize:function(g){this.useNaturalSize!==g&&(this.useNaturalSize=g,this.inited&&this.fireEvent("useNaturalSize",g),g&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),g&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(p=>{const v=JS.Class,{View:u,SizeToDom:t}=p;p.Flexbox=new v("Flexbox",u,{include:[p.FlexboxSupport]});p.Frame=new v("Frame",u,{initNode:function(g,h){h.tagName??(h.tagName="iframe");this.callSuper(g,h);g=p.global.mouse;this.attachToDom(g,"__doMouseDown","mousedown",!0);this.attachToDom(g,"__doMouseUp","mouseup",!0)},createOurDomElement:function(g){g=this.callSuper(g);(Array.isArray(g)?g[1]:g).style.border="0px";return g},setSrc:function(g){this.src!==g&&(this.src=this.getIDE().src=g,this.inited&&
this.fireEvent("src",g))},__doMouseDown:function(g){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(g){this.setPointerEvents(this.__restorePointerEvents);return!0}});p.Markup=new v("Markup",u,{include:[t],setHtml:function(g){this.html!==g&&(this.getIDE().innerHTML=this.html=g,this.inited&&(this.fireEvent("html",g),this.sizeViewToDom()))}});p.Text=new v("Text",u,{include:[t,p.TextSupport],initNode:function(g,h){h.whiteSpace??(h.whiteSpace=
"nowrap");h.userUnselectable??(h.userUnselectable=!0);this.callSuper(g,h)},measureNoWrapWidth:function(){const g=this.__hasSetWidth,h=this.width;if(!g&&"nowrap"===this.whiteSpace)return h;const c=this.getIDS(),n=c.whiteSpace;g&&(c.width="auto");c.whiteSpace="nowrap";const m=this.getODE().getBoundingClientRect().width;c.whiteSpace=n;g&&(c.width=h);return m}});p.PaddedText=new v("PaddedText",p.Text,{include:[p.PaddedTextSupport]});p.Image=new v("Image",u,{include:[p.ImageSupport],initNode:function(g,
h){h.useNaturalSize??(h.useNaturalSize=!0);this.callSuper(g,h)}});p.BackView=new v("BackView",u,{sendSubviewToBack:function(g){if(g.parent===this){const h=this.getIDE(),c=h.childNodes[1];g=g.getODE();g!==c&&(g=h.removeChild(g))&&h.insertBefore(g,c)}}})})(myt);
(p=>{const v=Math.round,u=c=>{c.parent&&0<=c.percentOfParentWidth&&c.syncTo(c.parent,"__doPOPW","width")},t=c=>{0<=c.percentOfParentWidth&&c.detachFrom(c.parent,"__doPOPW","width")},g=c=>{c.parent&&0<=c.percentOfParentHeight&&c.syncTo(c.parent,"__doPOPH","height")},h=c=>{0<=c.percentOfParentHeight&&c.detachFrom(c.parent,"__doPOPH","height")};p.SizeToParent=new JS.Module("SizeToParent",{setParent:function(c){this.parent!==c&&(this.inited&&(t(this),h(this)),this.callSuper(c),u(this),g(this))},setPercentOfParentWidthOffset:function(c){this.percentOfParentWidthOffset!==
c&&(this.percentOfParentWidthOffset=c,this.inited&&(this.fireEvent("percentOfParentWidthOffset",c),this.__doPOPW()))},setPercentOfParentWidth:function(c){this.percentOfParentWidth!==c&&(this.inited&&t(this),this.percentOfParentWidth=c,this.inited&&(this.fireEvent("percentOfParentWidth",c),u(this)))},setPercentOfParentHeightOffset:function(c){this.percentOfParentHeightOffset!==c&&(this.percentOfParentHeightOffset=c,this.inited&&(this.fireEvent("percentOfParentHeightOffset",c),this.__doPOPH()))},setPercentOfParentHeight:function(c){this.percentOfParentHeight!==
c&&(this.inited&&h(this),this.percentOfParentHeight=c,this.inited&&(this.fireEvent("percentOfParentHeight",c),g(this)))},__doPOPW:function(c){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(c){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(p=>{let v;const u=[];new JS.Singleton("GlobalRootViewRegistry",{include:[p.Observable],initialize:function(){p.global.register("roots",v=this)},getRoots:()=>u,addRoot:t=>{u.push(t);v.fireEvent("rootAdded",t)},removeRoot:t=>{const g=u.indexOf(t);-1<g&&(u.splice(g,1),v.fireEvent("rootRemoved",t))}})})(myt);
(p=>{const {addEventListener:v,removeEventListener:u,global:{roots:t}}=p,g=p.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:h=>{const c=h.getIDE();h=h.__captureDrop=n=>{n.preventDefault()};v(c,"drop",h);v(c,"dragover",h)},teardownCaptureDrop:h=>{const c=h.getIDE();h=h.__captureDrop;u(c,"drop",h);u(c,"dragover",h)}},initNode:function(h,c){this.callSuper(h,c);this.setZIndex(0);this.addDomClass("myt");t.addRoot(this);g.setupCaptureDrop(this)},createOurDomElement:function(h){h||(h=this.callSuper(h),
p.getElement().appendChild(h));return h},destroy:function(){g.teardownCaptureDrop(this);t.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(h){this.keepDomElementWhenDestroyed=h},setParent:p.NOOP,bringToFront:function(){var h=this.getIDE();const c=h.parentNode;h!==c.lastChild&&(h=c.removeChild(h))&&c.appendChild(h)},sendToBack:function(){var h=this.getIDE();const c=h.parentNode;h!==c.firstChild&&(h=c.removeChild(h))&&
c.insertBefore(h,c.firstChild)},sendBehind:function(h,c){c=this.getIDE();h=h.getIDE();const n=c.parentNode;h.parentNode===n&&(c=n.removeChild(c))&&n.insertBefore(c,h)},sendInFrontOf:function(h,c){h.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(h,c),h.sendBehind(this,c))}})})(myt);
(p=>{let v,u,t=!1;const {requestAnimationFrame:g,cancelAnimationFrame:h}=window,c={},n=k=>{v=g(n);k=Math.round(k);-1!==u&&(c.delta=k-u,c.time=k,m.fireEvent("idle",c));u=k},m=new JS.Singleton("GlobalIdle",{include:[p.Observable],initialize:function(){p.global.register("idle",this)},attachObserver:(k,a,d)=>{k=m.callSuper(k,a,d);!t&&m.hasObservers("idle")&&(t=!0,u=-1,v=g(n));return k},detachObserver:(k,a,d)=>{k=m.callSuper(k,a,d);t&&!m.hasObservers("idle")&&(h(v),t=!1);return k}})})(myt);
(p=>{let v,u,t;const g=p.global,h=g.idle,c=window.document;new JS.Singleton("GlobalWindowResize",{include:[p.Observable,p.Observer],initialize:function(){v=this;v.attachTo(h,"__setup","idle");g.register("windowResize",v)},__setup:n=>{const m=c.body;m&&(v.detachFrom(h,"__setup","idle"),(new ResizeObserver(()=>{v.fireEvent("resize",{w:u=m.clientWidth,h:t=m.clientHeight})})).observe(m))},getWidth:()=>u??=c.body.clientWidth,getHeight:()=>t??=c.body.clientHeight})})(myt);
(p=>{const v=JS.Module,u=p.global.windowResize,t=Math.max,g=c=>{const n=c.resizeDimension;"both"!==n&&"width"!==n||c.setWidth(t(c.minWidth,u.getWidth()));"both"!==n&&"height"!==n||c.setHeight(t(c.minHeight,u.getHeight()))},h=p.SizeToWindow=new v("SizeToWindow",{include:[p.RootView],initNode:function(c,n){this.minWidth=this.minHeight=0;n.resizeDimension??(n.resizeDimension="both");this.attachTo(u,"__hndlResize","resize");this.callSuper(c,n)},setResizeDimension:function(c){this.resizeDimension!==c&&
(this.resizeDimension=c,g(this))},setMinWidth:function(c){this.minWidth!==c&&(this.minWidth=c,g(this))},setMinHeight:function(c){this.minHeight!==c&&(this.minHeight=c,g(this))},__hndlResize:function(c){g(this)}});p.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[h],initNode:function(c,n){n.resizeDimension??(n.resizeDimension="width");this.callSuper(c,n)}});p.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[h],initNode:function(c,n){n.resizeDimension??(n.resizeDimension="height");this.callSuper(c,
n)}})})(myt);
(p=>{const v=Math,{min:u,max:t}=v,g=b=>u(255,t(0,v.round(b))),h=b=>g(b).toString(16).padStart(2,"0"),c=(b,e,f,r)=>(r?"#":"")+h(b)+h(e)+h(f),n=b=>new d((16711680&b)>>16,(65280&b)>>8,255&b),m=(b,e)=>{if("string"===typeof b)if(b.endsWith("%"))b=parseFloat(b.slice(0,-1))*e/100;else return 0;b=u(e,t(0,b))/e;return 1E-6>v.abs(1-b)?1:b},k=(b,e,f)=>{b=m(b,255);e=m(e,255);f=m(f,255);const r=t(b,e,f),x=r-u(b,e,f);if(0===x)return{h:0,s:0,v:r};let l;switch(r){case b:l=(e-f)/x+(e<f?6:0);break;case e:l=(f-b)/x+
2;break;case f:l=(b-e)/x+4}return{h:60*l,s:0===r?0:x/r,v:r}},a=(b,e,f)=>{b=6*m(b,360);e=m(e,100);f=m(f,100);var r=v.floor(b);const x=b-r;b=f*(1-e);const l=f*(1-x*e);e=f*(1-(1-x)*e);r%=6;return{red:255*[f,l,b,b,e,f][r],green:255*[e,f,f,l,b,b][r],blue:255*[b,b,e,f,f,l][r]}},d=p.Color=new JS.Class("Color",{extend:{toUnitRange:m,rgbToHsv:k,hsvToRgb:a,toHex:h,rgbToHex:c,cleanChannelValue:g,getRedChannel:b=>(16711680&b)>>16,getGreenChannel:b=>(65280&b)>>8,getBlueChannel:b=>255&b,makeColorFromNumber:n,makeColorFromHexString:b=>
{if(b)switch(b.startsWith("#")&&(b=b.slice(1)),b.length){case 0:b+="0";case 1:b+="0";case 2:b+="0";case 3:case 4:case 5:const [e,f,r]=b;return new d(parseInt(e+e,16),parseInt(f+f,16),parseInt(r+r,16));case 6:return n(parseInt(b,16));default:return n(parseInt(b.slice(0,6),16))}},makeColorFromHSV:(b,e,f)=>{const {red:r,green:x,blue:l}=a(b,e,f);return new d(r,x,l)},getLighterColor:(b,e)=>n(b).isLighterThan(n(e))?b:e,makeColorNumberFromChannels:(b,e,f)=>(g(b)<<16)+(g(e)<<8)+g(f),makeBlendedColor:(b,e,
f)=>new d(b.red+f*(e.red-b.red),b.green+f*(e.green-b.green),b.blue+f*(e.blue-b.blue))},initialize:function(b,e,f){this.setRed(b);this.setGreen(e);this.setBlue(f)},setRed:function(b){this.red=g(b)},setGreen:function(b){this.green=g(b)},setBlue:function(b){this.blue=g(b)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return c(this.red,this.green,this.blue,!0)},getHSV:function(){return k(this.red,this.green,this.blue)},isLighterThan:function(b){b=
this.getDiffFrom(b);return 0>b.red+b.green+b.blue},getDiffFrom:function(b){return{red:b.red-this.red,green:b.green-this.green,blue:b.blue-this.blue}},applyDiff:function(b){return this.add(b)},add:function(b){this.setRed(this.red+b.red);this.setGreen(this.green+b.green);this.setBlue(this.blue+b.blue);return this},subtract:function(b){this.setRed(this.red-b.red);this.setGreen(this.green-b.green);this.setBlue(this.blue-b.blue);return this},multiply:function(b){this.setRed(this.red*b);this.setGreen(this.green*
b);this.setBlue(this.blue*b);return this},divide:function(b){this.setRed(this.red/b);this.setGreen(this.green/b);this.setBlue(this.blue/b);return this},clone:function(){return new d(this.red,this.green,this.blue)},equals:function(b){return b===this||b?.isA?.(d)&&b.red===this.red&&b.green===this.green&&b.blue===this.blue}})})(myt);
(p=>{const {max:v,sin:u,cos:t,pow:g,sqrt:h,PI:c}=Math,n=2*c,m=c/2,k=p.global.idle,a=p.Color.makeColorFromHexString,d=(l,y)=>y*(1>(l*=2)?l*l/2:-(--l*(l-2)-1)/2),b={linear:l=>l,inQuad:l=>l*l,outQuad:l=>-l*(l-2),inOutQuad:l=>1>(l*=2)?l*l/2:-(--l*(l-2)-1)/2,inCubic:l=>l*l*l,outCubic:l=>--l*l*l+1,inOutCubic:l=>1>(l*=2)?l*l*l/2:((l-=2)*l*l+2)/2,inQuart:l=>l*l*l*l,outQuart:l=>-(--l*l*l*l-1),inOutQuart:l=>1>(l*=2)?l*l*l*l/2:-((l-=2)*l*l*l-2)/2,inQuint:l=>l*l*l*l*l,outQuint:l=>--l*l*l*l*l+1,inOutQuint:l=>
1>(l*=2)?l*l*l*l*l/2:((l-=2)*l*l*l*l+2)/2,inSine:l=>-t(l*m)+1,outSine:l=>u(l*m),inOutSine:l=>-(t(l*c)-1)/2,inCirc:l=>-(h(1-l*l)-1),outCirc:l=>h(1- --l*l),inOutCirc:l=>1>(l*=2)?-(h(1-l*l)-1)/2:(h(1-(l-=2)*l)+1)/2,inExpo:l=>0===l?0:g(2,10*(l-1)),outExpo:l=>1===l?1:-g(2,-10*l)+1,inOutExpo:l=>0===l||1===l?l:1>(l*=2)?g(2,10*(l-1))/2:(-g(2,-10*--l)+2)/2,inElastic:l=>0===l||1===l?l:-(g(2,10*--l)*u((1*l-.075)*n/.3)),outElastic:l=>0===l||1===l?l:g(2,-10*l)*u((1*l-.075)*n/.3)+1,inOutElastic:l=>0===l||1===l?
l:1>(l*=2)?-(g(2,10*--l)*u((1*l-.1125)*n/.45))/2:g(2,-10*--l)*u((1*l-.1125)*n/.45)/2+1,inBack:(l,y=1.70158)=>(l/=1)*l*((y+1)*l-y),outBack:(l,y=1.70158)=>(l=l/1-1)*l*((y+1)*l+y)+1,inOutBack:(l,y=1.70158)=>1>(l*=2)?l*l*(((y*=1.525)+1)*l-y)/2:((l-=2)*l*(((y*=1.525)+1)*l+y)+2)/2,inBounce:l=>1-b.outBounce(1-l),outBounce:l=>l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375,inOutBounce:l=>1>(l*=2)?b.inBounce(l)/2:(b.outBounce(l-
1)+1)/2,wiggle:l=>{l*=6;return 1>l?d(l-0,1):2>l?d(2-l,1):3>l?d(l-2,.5):4>l?d(4-l,.5):5>l?d(l-4,.25):d(6-l,.25)}},e=b.inOutQuad,f=l=>{l.__tmpFrom=!1;l.__loopCnt=l.reverse?l.repeat-1:0;l.__prog=l.reverse?l.duration:0},r=(l,y)=>{const {running:E,paused:P,reverse:B,duration:D,repeat:N,__prog:Q,easingFunction:w,callback:q}=l;if(E&&!P){B&&(y*=-1);y=Q+y;let U=0;y>D?(U=y-D,y=D,++l.__loopCnt===N&&(U=0)):0>y&&(U=-y,y=0,0>--l.__loopCnt&&0<N&&(U=0));var z=l.target??l.parent;if(z){const {relative:A,attribute:C,
__isColorAnim:G,__loopCnt:J,to:L}=l;var I=v(0,y/D),O=v(0,Q/D);null==l.from&&(l.__tmpFrom=!0,l.from=A?G?"#000":0:z.get(C));O=w(I)-(A?w(O):0);var M=l.from,S=A?z.get(C):M;I=z.set;if(G){M=a(M);const T=a(L);S=A?a(S):M;S.setRed(S.red+(T.red-M.red)*O);S.setGreen(S.green+(T.green-M.green)*O);S.setBlue(S.blue+(T.blue-M.blue)*O);O=S.getHtmlHexString()}else O=S+(L-M)*O;I.call(z,C,O);!B&&J===N||B&&0>J&&0<N?(l.setRunning(!1),q?.call(l,!0)):0<U?(l.fireEvent("repeat",J),l.__prog=B?D:0,r(l,U)):l.__prog=y}else console.log("No target for animator",
l),l.setRunning(!1),q?.call(l,!1)}},x=(l,y,E,P)=>{l.stopActiveAnimators(P,!0);const B=l[P];l.animate({attribute:P,from:B,to:B+y,duration:E,easingFunction:"wiggle"}).next(()=>{l.set(P,B)})};p.Animator=new JS.Class("Animator",p.Node,{include:[p.Reusable],extend:{easings:b,bounceView:(l,y=-6,E=900)=>{x(l,y,E,"y")},shakeView:(l,y=10,E=300)=>{x(l,y,E,"x")},wiggleView:x},initNode:function(l,y){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=e;this.callSuper(l,
y);f(this)},setRunning:function(l){if(this.running!==l&&(this.running=l,this.inited&&this.fireEvent("running",l),!this.paused)){if(l){const y=this.target??this.parent;this.__isColorAnim=y&&"function"===typeof y.isColorAttr?y.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),f(this);this[l?"attachTo":"detachFrom"](k,"__updateAnim","idle")}},setPaused:function(l){if(this.paused!==l&&(this.paused=l,this.inited&&this.fireEvent("paused",l),this.running))this[l?"detachFrom":"attachTo"](k,
"__updateAnim","idle")},setReverse:function(l){this.set("reverse",l,!0);this.inited&&!this.running&&f(this)},setRepeat:function(l){this.set("repeat",l,!0);this.inited&&!this.running&&f(this)},setDuration:function(l){this.set("duration",l,!0);this.inited&&!this.running&&f(this)},setEasingFunction:function(l){"string"===typeof l&&(l=b[l]);this.set("easingFunction",l??e,!0)},setFrom:function(l){this.set("from",l,!0)},setTo:function(l){this.set("to",l,!0)},setCallback:function(l){this.callback=l},next:function(l,
y){const E=this,P=E.callback;P&&!y?E.setCallback(B=>{P.call(E,B);l.call(E,B)}):E.setCallback(l)},reset:function(l){f(this);this.setRunning(!1);this.setPaused(!1);l&&this.callback?.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=1;this.easingFunction=e;this.reset(!1)},__updateAnim:function(l){r(this,l.value.delta)}})})(myt);
(p=>{const v=Array.isArray,u=p.NOOP,t=c=>{c.__additionalArgs=[];c.__pendingTransition="";c.__transDestinationState="";c.__transStage="leaveState"},g=(c,n)=>{if(c.__transInProgress){var m=c.__deferredTransitions;m??=c.__deferredTransitions=[];m.unshift(n)}else{c.__transInProgress=!0;m=n.shift();const k=n.shift();if(c.__pendingTransition)return 3;if(c.isFinished())return c.__transInProgress=!1,5;let a=c.map[c.current][k];a??=c.map["*"][k];if(a)return c.__pendingTransition=k,c.__transDestinationState=
a,c.__additionalArgs=n,c.resumeTransition(m);c.__transInProgress=!1;return 5}},h=c=>{c.__transInProgress=!1;const n=c.__deferredTransitions;if(n)for(;0<n.length;)g(c,n.pop())};p.StateMachine=new JS.Class("StateMachine",p.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(c,n){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";t(this);this.callSuper(c,n)},setInitialState:function(c){if(""===this.current){if(v(c)){var n=c;c=n.shift()}else n=
[];this.current=this.initial=c;this.doEnterState("","",c,n);n={name:"",from:"",to:c,args:n};this.fireEvent("enter"+c,n);this.fireEvent("enter",n);this.isFinished()&&this.fireEvent("finished",n)}},setTerminalState:function(c){this.terminal=c},addTransitions:function(c){for(const n of c)this.addTransition(...n)},addTransition:function(c,n,m){n=n?v(n)?n:[n]:["*"];const k=this.map;let a=n.length;for(;a;){let d,b;((d=k)[b=n[--a]]??(d[b]={}))[c]=m}},doTransition:function(...c){c.unshift("sync");return g(this,
c)},doAsyncTransition:function(...c){c.unshift("async");return g(this,c)},resumeTransition:function(c){const n=this.__pendingTransition;if(!n)return 4;const m=this.current,k=this.__transDestinationState,a=this.__additionalArgs,d={name:n,from:m,to:k,args:a},b=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const e=this.doLeaveState(n,m,k,a);if(!1===e)return t(this),h(this),2;if("async"===e||"async"===c)return this.__transStage="enterState",b("start"+n,d),b("start",d),b("leave"+
m,d),b("leave",d),h(this),3;b("start"+n,d);b("start",d);b("leave"+m,d);b("leave",d);case "enterState":this.current=k,t(this),this.doEnterState(n,m,k,a),b("enter"+k,d),b("enter",d),b("end"+n,d),b("end",d),this.isFinished()&&b("finished",d)}h(this);return 1},doLeaveState:u,doEnterState:u,isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(c){return v(c)?c.includes(this.current):this.current===c},can:function(c){return void 0!==this.map[this.current][c]?
!0:void 0!==this.map["*"][c]}})})(myt);
(p=>{const v=(h,c)=>h.replicationIndex-c.replicationIndex,u=(h,c)=>{let n=h.length;for(;n;){const m=h[--n];m.decrementLockedCounter();c&&m.update()}},t=h=>{g(h);const c=h.template;c&&(h.__pool=new p.TrackActivesPool(c,h.parent))},g=h=>{const c=h.__pool;if(c){h=h.parent.getLayouts();let n=h.length;for(;n;)h[--n].incrementLockedCounter();c.putActives();c.destroyPooledInstances();u(h,!1);c.destroy()}};p.Replicable=new JS.Module("Replicable",{include:[p.Reusable],replicate:function(h,c){this.replicationData=
h;this.replicationIndex=c},notify:p.NOOP,clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(h,c){return c===this.replicationIndex&&h===this.replicationData}});p.Replicator=new JS.Class("Replicator",p.Node,{initNode:function(h,c){this.callSuper(h,c);t(this);this.doReplication()},destroy:function(){g(this);this.callSuper()},setTemplate:function(h){(this.template=h.includes(p.Replicable)?h:null)||p.dumpStack("Template not replicable");this.inited&&
(t(this),this.doReplication())},setData:function(h){this.data=h;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const h=this.__pool;let c;if(h){c=this.parent.getLayouts();for(var n=c.length;n;)c[--n].incrementLockedCounter();const m=(n=this.data)?n.length:0,k=h.getActives(),a=k.length,d=[];let b=a,e,f;for(k.sort(v);b;)if(e=k[--b],f=e.replicationIndex,f>=m||!e.alreadyHasReplicationData(n[f],f))d[f]=e;for(b=d.length;b;)(e=d[--b])&&
h.putInstance(e);for(b=0;m>b;++b)(b>=a||null!=d[b])&&h.getInstance().replicate(n[b],b);for(b=c.length;b;)c[--b].sortSubviews(v);u(c,!0)}},notify:function(h,c){var n=this.__pool;if(n){n=n.getActives();let m=n.length;for(;m;)n[--m].notify(h,c)}}})})(myt);
(p=>{const v=JS.Singleton,u=document,{DomElementProxy:t,DomObservable:g,global:{register:h}}=p;new v("GlobalMouse",{include:[t,g,p.MouseObservable],initialize:function(){this.setDomElement(u);h("mouse",this)}});new v("GlobalTouch",{include:[t,g,p.TouchObservable],initialize:function(){this.setDomElement(u);h("touch",this)}})})(myt);
(p=>{let v,u,t;const g=[],h=[],c=k=>{const a=t;a!==k&&(a&&(a.notifyDragLeave(u),u.destroyed||u.notifyDragLeaving(a),v("dragLeave",a)),t=k)&&(k.notifyDragEnter(u),u.destroyed||u.notifyDragEntering(k),v("dragEnter",a))},n=k=>{let a=u;if(a!==k)if(u=k){a=k;for(const d of m(a,h))d.notifyDragStart(a);for(const d of m(a,g))d.notifyAutoScrollerDragStart(a);v("startDrag",k)}else{for(const d of m(a,h))d.notifyDragStop(a);for(const d of m(a,g))d.notifyAutoScrollerDragStop(a);v("stopDrag",k)}},m=(k,a)=>{if(k.destroyed)return[];
if(k.isAnyDragGroup())return a;const d=[];k=k.getDragGroups();let b=a.length;for(;b;){const e=a[--b];if(e.isAnyDropGroup())d.push(e);else{const f=e.getDropGroups();for(const r in k)if(f[r]){d.push(e);break}}}return d};new JS.Singleton("GlobalDragManager",{include:[p.Observable],initialize:function(){p.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>u,registerAutoScroller:k=>{g.push(k)},unregisterAutoScroller:k=>{k=g.indexOf(k);-1<k&&g.splice(k,1)},registerDropTarget:k=>
{h.push(k)},unregisterDropTarget:k=>{k=h.indexOf(k);-1<k&&h.splice(k,1)},startDrag:k=>{n(k)},stopDrag:(k,a,d)=>{a.notifyDropped(t,d);d||t?.notifyDrop(a);c();n();t&&!d&&v("drop",[a,t])},updateDrag:(k,a)=>{const d=m(a,h);let b=d.length,e;if(0<b){const {pageX:f,pageY:r}=k.value;for(;b;)k=d[--b],k.willAcceptDrop(a)&&a.willPermitDrop(k)&&k.isPointVisible(f,r)&&(!e||k.isInFrontOf(e))&&(e=k)}c(e)}})})(myt);
(p=>{const v=JS.Module,u=p.NOOP,{mouse:t,keys:g,idle:h}=p.global;p.Activateable=new v("Activateable",{doActivated:u});p.UpdateableUI=new v("UpdateableUI",{initNode:function(c,n){this.callSuper(c,n);this.updateUI()},updateUI:u});p.Disableable=new v("Disableable",{initNode:function(c,n){n.disabled??(n.disabled=!1);this.callSuper(c,n)},setDisabled:function(c){c=this.valueFromEvent(c);this.disabled!==c&&(this.disabled=c,this.inited&&this.fireEvent("disabled",c),this.doDisabled())},doDisabled:function(){this.inited&&
(this.disabled&&this.giveAwayFocus?.(),this.updateUI?.())}});p.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[g.CODE_ENTER,g.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(c,n){this.activateKeyDown="";n.activationKeys??(n.activationKeys=p.KeyActivation.ACTIVATION_KEYS);this.callSuper(c,n);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(c){this.activationKeys=
c??[]},setRepeatKeyDown:function(c){this.repeatKeyDown=c},__hndlKeyDown:function(c){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const n=p.KeyObservable.getCodeFromEvent(c);this.activationKeys.includes(n)&&(this.activateKeyDown===n?this.doActivationKeyDown(n,!0):(this.activateKeyDown=n,this.doActivationKeyDown(n,!1)),c.value.preventDefault())}},__hndlKeyPress:function(c){if(!this.disabled){const n=p.KeyObservable.getCodeFromEvent(c);this.activateKeyDown===n&&this.activationKeys.includes(n)&&
c.value.preventDefault()}},__hndlKeyUp:function(c){if(!this.disabled){const n=p.KeyObservable.getCodeFromEvent(c);this.activateKeyDown===n&&this.activationKeys.includes(n)&&(this.activateKeyDown="",this.doActivationKeyUp(n),c.value.preventDefault())}},__doDomBlur:function(c){this.disabled||(c=this.activateKeyDown,""!==c&&(this.activateKeyDown="",this.doActivationKeyAborted(c)))},doActivationKeyDown:u,doActivationKeyUp:function(c){this.doActivated()},doActivationKeyAborted:u});p.ArrowKeyActivation=
new v("KeyActivation",{doActivationKeyDown:function(c,n){switch(c){case g.CODE_ARROW_LEFT:if(this.doKeyArrowLeftOrUp(!0,n))return;break;case g.CODE_ARROW_UP:if(this.doKeyArrowLeftOrUp(!1,n))return;break;case g.CODE_ARROW_RIGHT:if(this.doKeyArrowRightOrDown(!0,n))return;break;case g.CODE_ARROW_DOWN:if(this.doKeyArrowRightOrDown(!1,n))return}this.callSuper(c,n)},doKeyArrowLeftOrUp:u,doKeyArrowRightOrDown:u});p.MouseOver=new v("MouseOver",{initNode:function(c,n){n.mouseOver??(n.mouseOver=!1);this.callSuper(c,
n);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(c){this.mouseOver!==c&&(this.mouseOver=c,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(h,"__doMouseOverOnIdle","idle")))},setDisabled:function(c){this.callSuper(c);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(h,"__doMouseOverOnIdle",
"idle");this.__attachedToOverIdle=!1;const c=this.mouseOver;this.__lastOverIdleValue!==c&&(this.__lastOverIdleValue=c,this.doSmoothMouseOver(c))},doSmoothMouseOver:function(c){this.inited&&this.updateUI?.()},doMouseOver:function(c){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(c){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});p.MouseDown=new v("MouseDown",{initNode:function(c,n){n.mouseDown??(n.mouseDown=!1);this.callSuper(c,n);this.attachToDom(this,
"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(c){this.mouseDown!==c&&(this.mouseDown=c,this.inited&&(c&&this.isFocusable()&&this.focus(!0),this.updateUI?.()))},setDisabled:function(c){c&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(c)},doMouseOver:function(c){this.callSuper(c);this.mouseDown&&this.detachFromDom(t,"doMouseUp","mouseup",!0)},doMouseOut:function(c){this.callSuper(c);!this.disabled&&this.mouseDown&&this.attachToDom(t,"doMouseUp",
"mouseup",!0)},doMouseDown:function(c){this.disabled?this.doMouseDownWhenDisabled():this.setMouseDown(!0)},doMouseDownWhenDisabled:u,doMouseUp:function(c){this.mouseOver||this.detachFromDom(t,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(c))},doMouseUpInside:function(c){this.doActivated?.()}});p.MouseOverAndDown=new v("MouseOverAndDown",{include:[p.MouseOver,p.MouseDown]});p.MouseEventsBubbleUp=new v("MouseEventsBubbleUp",{doMouseOver:function(c){this.callSuper(c);
return!0},doMouseOut:function(c){this.callSuper(c);return!0},doMouseDown:function(c){this.callSuper(c);return!0},doMouseUp:function(c){this.callSuper(c);return!0}});p.Draggable=new v("Draggable",{initNode:function(c,n){this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;let m=!0;null!=n.isDraggable&&(m=n.isDraggable,delete n.isDraggable);this.callSuper(c,n);this.setIsDraggable(m)},setIsDraggable:function(c){if(this.isDraggable!==
c){this.isDraggable=c;let n;c?n=this.attachToDom:this.inited&&(n=this.detachFromDom);if(n){c=this.getDragViews();let m=c.length;for(;m;){const k=c[--m];n.call(this,k,"__doMouseDown","mousedown");n.call(this,k,"__doContextMenu","contextmenu")}}}},setIsDragging:function(c){this.set("isDragging",c,!0)},setDragOffsetX:function(c,n){this.dragOffsetX!==c&&(this.dragOffsetX=c,this.inited&&this.isDragging&&!n&&this.reRequestDragPosition())},setDragOffsetY:function(c,n){this.dragOffsetY!==c&&(this.dragOffsetY=
c,this.inited&&this.isDragging&&!n&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(c){this.distanceBeforeDrag=c},setDraggableAllowBubble:function(c){this.draggableAllowBubble=c},setCenterOnMouse:function(c){this.centerOnMouse=c},setAllowAbort:function(c){this.allowAbort=c},getDragViews:function(){return[this]},__doContextMenu:u,__doMouseDown:function(c){const n=p.MouseObservable.getMouseFromEvent(c),m=this.getODE();this.dragInitX=n.x-m.offsetLeft;this.dragInitY=n.y-m.offsetTop;this.attachToDom(t,
"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(t,"__doDragCheck","mousemove",!0):this.startDrag(c);c.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(c){this.isDragging?this.stopDrag(c,!1):(this.detachFromDom(t,"__doMouseUp","mouseup",!0),this.detachFromDom(t,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(c){c.value===g.CODE_ESC&&this.stopDrag(c,!0)},__doDragCheck:function(c){const n=p.MouseObservable.getMouseFromEvent(c);
p.Geometry.measureDistance(n.x,n.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(t,"__doDragCheck","mousemove",!0),this.startDrag(c))},startDrag:function(c){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(g,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(t,"updateDrag","mousemove",!0);this.updateDrag(c)},updateDrag:function(c){this.__lastMousePosition=
p.MouseObservable.getMouseFromEvent(c);this.reRequestDragPosition()},__updateDragInitX:function(c){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(c){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(c,n){this.detachFromDom(t,"__doMouseUp","mouseup",!0);this.detachFromDom(t,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(g,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(c,n){this.disabled||(this.setX(c),this.setY(n))},reRequestDragPosition:function(){const c=this.__lastMousePosition;this.requestDragPosition(c.x-this.dragInitX+this.dragOffsetX,c.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(p=>{const {Class:v,Module:u}=JS,{NOOP:t,View:g,KeyActivation:h,theme:c}=p;var n=p.Button=new u("Button",{include:[p.Activateable,p.UpdateableUI,p.Disableable,p.MouseOverAndDown,h],initNode:function(k,a){a.focusable??(a.focusable=!0);a.cursor??(a.cursor="pointer");this.callSuper(k,a)},setFocused:function(k){const a=this.focused;this.callSuper(k);this.inited&&this.focused!==a&&this.updateUI()},doActivationKeyDown:function(k,a){a||this.updateUI()},doActivationKeyUp:function(k){this.callSuper(k);this.updateUI()},
doActivationKeyAborted:function(k){this.callSuper(k);this.updateUI()},updateUI:function(){if(this.disabled)this.__restoreCursor??(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const k=this.__restoreCursor;k&&(this.setCursor(k),this.__restoreCursor=null);this.activateKeyDown!==h.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},
drawHoverState:t,drawActiveState:t,drawReadyState:t,drawDisabledState:t,showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});n=p.SimpleButtonStyle=new u("SimpleButtonStyle",{include:[n],setActiveColor:function(k){this.activeColor!==k&&(this.activeColor=k,this.inited&&this.updateUI())},setHoverColor:function(k){this.hoverColor!==k&&(this.hoverColor=k,this.inited&&this.updateUI())},setReadyColor:function(k){this.readyColor!==
k&&(this.readyColor=k,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,c.disabledOpacity)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(k,a=1){this.setOpacity(a);this.setBgColor(k)}});const m=p.SimpleButton=new v("SimpleButton",g,{include:[n],initNode:function(k,a){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(k,
a)}});p.SimpleTextButton=new v("SimpleTextButton",m,{initNode:function(k,a){this.inset=this.outset=0;a.shrinkToFit??(a.shrinkToFit=!1);a.height??(a.height=24);a.textY??(a.textY="middle");this.callSuper(k,a);k=this.textY;a={whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof k?a.valign=k:a.y=k;k=this.textView=new p.Text(this,a);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",k,"visible",k,"width",
k,"height",k,"y"])},setInset:function(k){this.set("inset",this.valueFromEvent(k),!0)},setOutset:function(k){this.set("outset",this.valueFromEvent(k),!0)},setText:function(k){this.text!==k&&(this.text=k,this.inited&&(this.textView.setText(k),this.fireEvent("text",k)))},setShrinkToFit:function(k){this.shrinkToFit!==k&&(this.shrinkToFit=k,this.inited&&(this.textView.setWhiteSpace(k?"nowrap":"normal"),this.fireEvent("shrinkToFit",k)))},setTextY:function(k){if(this.textY!==k&&(this.textY=k,this.inited)){const a=
this.textView;this.fireEvent("textY",k);"string"===typeof k?a.setValign(k):(a.setValign(""),a.setY(k))}},__updateContent:function(k){if(!this.__updateContentLoopBlock&&!this.destroyed){const {inset:a,outset:d,textView:b}=this;this.__updateContentLoopBlock=!0;b.setX(a);this.shrinkToFit?this.setWidth(a+(b.visible&&this.text?b.width:0)+d):b.setWidth(this.width-a-d);this.__updateContentLoopBlock=!1}}});p.TextButton=new v("TextButton",p.PaddedText,{include:[n],initNode:function(k,a){a.focusIndicator??
(a.focusIndicator=!1);a.roundedCorners??(a.roundedCorners=3);a.textAlign??(a.textAlign="center");a.paddingTop??(a.paddingTop=1);a.height??(a.height=23-(a.paddingTop??0));a.activeColor??(a.activeColor=c.TextButtonActive);a.hoverColor??(a.hoverColor=c.TextButtonHover);a.readyColor??(a.readyColor=c.TextButtonReady);this.callSuper(k,a)}})})(myt);
(p=>{const v=console.warn,{focus:u,mouse:t,windowResize:g}=p.global,h={};p.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:c=>h[c]},initNode:function(c,n){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.keepInWindow=!1;this.floatingAlignOffset=this.floatingValignOffset=this.keepInWindowBorder=0;this.callSuper(c,n)},setLastFloatingPanelShown:function(c){this.lastFloatingPanelShown=c},setLastFloatingPanelId:function(c){this.floatingPanelId=
c},setFloatingAlign:function(c){this.set("floatingAlign",c,!0)},setFloatingValign:function(c){this.set("floatingValign",c,!0)},setFloatingAlignOffset:function(c){this.set("floatingAlignOffset",c,!0)},setFloatingValignOffset:function(c){this.set("floatingValignOffset",c,!0)},setKeepInWindow:function(c){this.set("keepInWindow",c,!0)},setKeepInWindowBorder:function(c){this.set("keepInWindowBorder",c,!0)},createFloatingPanel:function(c,n,m){c=c??this.floatingPanelId;m=m??{};m.panelId=c;return h[c]=new n(null,
m)},getFloatingPanel:function(c){return h[c??this.floatingPanelId]},toggleFloatingPanel:function(c){this.getFloatingPanel(c??=this.floatingPanelId)?.isShown()?this.hideFloatingPanel(c):this.showFloatingPanel(c)},showFloatingPanel:function(c){if(c=this.getFloatingPanel(c??this.floatingPanelId))c.show(this),this.setLastFloatingPanelShown(c)},hideFloatingPanel:function(c){if(c=this.getFloatingPanel(c??this.floatingPanelId))c.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(c){this.callSuper?.()},
notifyPanelHidden:function(c){this.callSuper?.()},getFloatingAlignForPanel:function(c){return this.floatingAlign},getFloatingValignForPanel:function(c){return this.floatingValign},getFloatingAlignOffsetForPanel:function(c){return this.floatingAlignOffset},getFloatingValignOffsetForPanel:function(c){return this.floatingValignOffset},getNextFocus:function(){const c=this.lastFloatingPanelShown;return c?.isShown()?c:this.callSuper?.()},getNextFocusAfterPanel:function(c){return this},getPrevFocusAfterPanel:function(c){return this}});
p.FloatingPanel=new JS.Class("FloatingPanel",p.View,{include:[p.RootView],initNode:function(c,n){this.ignoreOwnerForHideOnMouseDown=this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;n.visible=n.focusIndicator=!1;n.focusable=n.focusCage=!0;this.callSuper(c,n)},setOwner:function(c){this.owner=c},setPanelId:function(c){this.panelId=c},setIgnoreOwnerForHideOnMouseDown:function(c){this.ignoreOwnerForHideOnMouseDown=c},setHideOnBlur:function(c){this.hideOnBlur=c},setHideOnMouseDown:function(c){this.hideOnMouseDown=
c},setWidth:function(c){const n=this.width;this.callSuper(c);this.isShown()&&n!==this.width&&this.owner?.keepInWindow&&this.updateLocationX(this.owner)},setHeight:function(c){const n=this.height;this.callSuper(c);this.isShown()&&n!==this.height&&this.owner?.keepInWindow&&this.updateLocationY(this.owner)},__doMouseDown:function(c){var n=c.value;c=n.pageX;n=n.pageY;this.containsPoint(c,n)||this.ignoreOwnerForHideOnMouseDown&&this.owner.containsPoint(c,n)||this.doMouseDownOutside(!0);return!0},doMouseDownOutside:function(c){this.hideOnMouseDown&&
this.hide(c)},focus:function(c){if(this.owner&&this.isAncestorOf(u.focusedView))this.owner[(u.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(c);else{const n=this.getFirstFocusableDescendant();n===this?this.callSuper(c):n.focus(c)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(c){(c=c.value)&&!this.isAncestorOf(c)&&this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&u.focusedView===this.owner||
this.hide(!0)},isShown:function(){return this.visible},show:function(c){this.isShown()||(this.bringToFront(),this.updateLocation(c),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(t,"__doMouseDown","mousedown",!0),this.attachTo(u,"__doFocusChange","focused"))},hide:function(c){this.isShown()&&(this.detachFromDom(t,"__doMouseDown","mousedown",!0),this.detachFrom(u,"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),c||this.restoreFocus(),this.setOwner())},
restoreFocus:function(){this.owner?.focus()},updateLocation:function(c){this.setOwner(c);this.updateLocationX(c);this.updateLocationY(c)},updateLocationX:function(c){const n=c.getFloatingAlignForPanel(this),m=typeof n;let k;if("string"===m){k=c.getPagePosition().x+c.getFloatingAlignOffsetForPanel(this);switch(n){case "outsideRight":k+=c.width;break;case "insideRight":k+=c.width-this.width;break;case "outsideLeft":k-=this.width;break;case "insideLeft":break;default:v("Invalid align value",m,n)}c.keepInWindow&&
(c=k+this.width+(c.keepInWindowBorder||0)-g.getWidth(),0<c&&(k-=c))}else"number"===m?k=n:v("Invalid align type",m,n);this.setX(k)},updateLocationY:function(c){const n=c.getFloatingValignForPanel(this),m=typeof n;let k;if("string"===m){k=c.getPagePosition().y+c.getFloatingValignOffsetForPanel(this);switch(n){case "outsideBottom":k+=c.height;break;case "insideBottom":k+=c.height-this.height;break;case "outsideTop":k-=this.height;break;case "insideTop":break;default:v("Invalid valign value",m,n)}c.keepInWindow&&
(c=k+this.height+(c.keepInWindowBorder||0)-g.getHeight(),0<c&&(k-=c))}else"number"===m?k=n:v("Invalid valign type",m,n);this.setY(k)}})})(myt);
(p=>{const {Class:v,Module:u}=JS,t=Math,{View:g,global:h}=p,c=h.focus,n=h.keys,{LIST_KEYS:m,CODE_ESC:k}=n,a=b=>{const e=b.itemConfig??[],f=e.length,{items:r,defaultItemClass:x,fixedWidth:l}=b,y=r.length,E=0<l,P=b.getContentView(),B=P.getLayouts();let D=0;for(var N of B)N.incrementLockedCounter();g.doWhileRemovedFromDom(P,()=>{const Q={listView:b};E&&(Q.width=l,Q.enableEllipsis=!0);for(;f>D;++D){const w=e[D];let q=r[D],z,I;w&&(z=w.klass??x,I=w.attrs??{});q&&!q.isA(z)&&(q.destroy(),q=null);z&&(q??=
r[D]=new z(P,{...Q}),q&&(q.callSetters(I),q.__LAYOUT_IDX=D))}});if(E)N=l;else for(N=b.minWidth,D=0;f>D;){const Q=r[D++];Q&&(Q.syncToDom(),N=t.max(N,Q.getMinimumWidth()))}for(;y>D;)r[D++].destroy();r.length=f;if(!E)for(D=0;f>D;)b.updateItemWidth(r[D++],N);b.updateContentWidth(P,N);for(const Q of B)Q.sortSubviews((w,q)=>w.__LAYOUT_IDX-q.__LAYOUT_IDX),Q.decrementLockedCounter(),Q.update()},d=p.ListViewItemMixin=new u("ListViewItemMixin",{setListView:function(b){this.listView=b},getMinimumWidth:()=>0,
syncToDom:p.NOOP});p.ListView=new v("ListView",p.FloatingPanel,{initNode:function(b,e){this.items=[];this.maxHeight=-1;this.minWidth=0;e.defaultItemClass??(e.defaultItemClass=p.ListViewItem);e.overflow??(e.overflow="autoy");e.bgColor??(e.bgColor="#ccc");e.boxShadow??(e.boxShadow=p.theme.focusShadow);this.callSuper(b,e);a(this);this.buildLayout(this.getContentView())},buildLayout:b=>{new p.SpacedLayout(b,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(b){this.minWidth=b},setDefaultItemClass:function(b){this.defaultItemClass=
b},setItemConfig:function(b){this.itemConfig=b;this.inited&&a(this)},getContentView:function(){return this},setMaxHeight:function(b){this.maxHeight!==b&&(this.maxHeight=b,this.inited&&(this.fireEvent("maxHeight",b),this.setHeight(this.height)))},setHeight:function(b){this.callSuper(0<=this.maxHeight?t.min(this.maxHeight,b):b);this.inited&&this.owner&&this.updateLocationY(this.owner)},doItemActivated:function(b){this?.owner.doItemActivated(b)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()??
this.callSuper()},getFirstFocusableItem:function(){return this.items.find(b=>b.isFocusable())},getLastFocusableItem:function(){return this.items.findLast(b=>b.isFocusable())},focusToLastItem:function(){this.getLastFocusableItem()?.focus()},focusToFirstItem:function(){this.getFirstFocusableItem()?.focus()},updateItemWidth:(b,e)=>{b?.setWidth(e)},updateContentWidth:(b,e)=>{b.setWidth(e)}});p.ListViewAnchor=new u("ListViewAnchor",{include:[p.FloatingPanelAnchor,p.ArrowKeyActivation],initNode:function(b,
e){e.listViewClass??(e.listViewClass=p.ListView);e.listViewAttrs??(e.listViewAttrs={});e.itemConfig??(e.itemConfig=[]);e.activationKeys??(e.activationKeys=m);this.callSuper(b,e)},setListViewClass:function(b){this.listViewClass=b},setListViewAttrs:function(b){this.listViewAttrs=b},setItemConfig:function(b){this.itemConfig=b},getFloatingValignForPanel:function(b){var e=b.height,f=this.getPagePosition().y,r=h.windowResize.getHeight()-this.getPagePosition().y-this.height;b=f-e;e=r-e;f=f>r;r=this.floatingValign;
switch(r){case "outsideBottom":0>e&&f&&(r="outsideTop");break;case "insideBottom":0>e&&f&&(r="insideTop");break;case "outsideTop":0>b&&!f&&(r="outsideBottom");break;case "insideTop":0>b&&!f&&(r="insideBottom")}return r},doItemActivated:function(b){this.hideFloatingPanel()},getFloatingPanel:function(b){return this.callSuper(b)??this.createFloatingPanel(b,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(b){const e=this.getFloatingPanel(b);e&&(e.setItemConfig(this.itemConfig),this.callSuper(b))},
doActivationKeyDown:function(b,e){b===k?this.hideFloatingPanel():this.callSuper(b,e)},doKeyArrowLeftOrUp:function(b,e){this.focusToLastItem()},doKeyArrowRightOrDown:function(b,e){this.focusToFirstItem()},doActivationKeyUp:function(b){if(b!==k)switch(this.callSuper(b),b){case n.CODE_ARROW_LEFT:case n.CODE_ARROW_UP:this.focusToLastItem();break;case n.CODE_ARROW_RIGHT:case n.CODE_ARROW_DOWN:this.focusToFirstItem()}},focusToLastItem:function(){const b=this.getFloatingPanel();b?.isShown()&&b.focusToLastItem()},
focusToFirstItem:function(){const b=this.getFloatingPanel();b?.isShown()&&b.focusToFirstItem()},updateEntryAttr:function(b,e,f){(b=this.getEntryByValue(b))&&(b.attrs[e]=f);return b},getEntryByValue:function(b){return this.itemConfig.find(e=>e?.attrs&&e.attrs.value===b)}});p.ListViewItem=new v("ListViewItem",p.TextButton,{include:[d,p.ArrowKeyActivation],initNode:function(b,e){e.activeColor??(e.activeColor="#bbb");e.hoverColor??(e.hoverColor="#fff");e.readyColor??(e.readyColor="#eee");e.paddingLeft??
(e.paddingLeft=8);e.paddingRight??(e.paddingRight=8);e.textAlign??(e.textAlign="left");e.roundedCorners??(e.roundedCorners=0);e.activationKeys??(e.activationKeys=m);e.focusIndicator??(e.focusIndicator=!0);const f=this.__enableEllipsis=e.enableEllipsis;delete e.enableEllipsis;this.callSuper(b,e);this.addDomClass("mytButtonText");f&&this.enableEllipsis()},setText:function(b){this.callSuper(b);this.__enableEllipsis&&this.setTooltip(this.text)},syncToDom:function(){this.getIDS().width="auto";this.sizeViewToDom()},
getMinimumWidth:function(){return t.ceil(this.measureNoWrapWidth())},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(b,e){b===k?this.listView.owner.hideFloatingPanel():this.callSuper(b,e)},doKeyArrowLeftOrUp:function(b,e){c.prev()},doKeyArrowRightOrDown:function(b,e){c.next()}});p.ListViewSeparator=new v("ListViewSeparator",g,{include:[d],initNode:function(b,e){e.height??(e.height=1);e.bgColor??(e.bgColor="#666");this.callSuper(b,e)}})})(myt);
(p=>{const v=p.AccessorSupport,u=v.generateSetterName,t={},g=p.BAG=new JS.Class("BAG",{include:[v,p.Destructible,p.Observable],extend:{getGroup:(h,c)=>{if(h&&c){let n;return(n=t[h]??(t[h]={}))[c]??(n[c]=new g(h,c))}},removeGroup:(h,c)=>{if(h&&c&&(h=t[h])){const n=h[c];n&&delete h[c];return n}}},initialize:function(h,c){this.__nodes=[];this.trueNode=null;this.attrName=h;this.groupId=c},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&g.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(h){this.set("groupId",h,!0)},setAttrName:function(h){this.set("attrName",h,!0)},setTrueNode:function(h){this.set("trueNode",h,!0)},getNodes:function(){return this.__nodes},register:function(h){h&&!this.isRegistered(h)&&(this.__nodes.push(h),h[this.attrName]&&this.setTrue(h))},unregister:function(h){if(h){const c=this.__nodes,n=c.indexOf(h);-1<n&&c.splice(n,1);this.trueNode===h&&this.setTrueNode(null);0===c.length&&
this.destroy()}},setTrue:function(h){if(h&&this.trueNode!==h&&this.isRegistered(h)){const c=this.attrName,n=u(c),m=this.__nodes;let k=m.length;for(this.setTrueNode(h);k;){const a=m[--k];if(h===a){if(!a[c])a[n](!0)}else if(a[c])a[n](!1)}}},setFalse:function(h){h&&this.trueNode===h&&(h[u(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(h){return this.__nodes.includes(h)}});p.BAGMembership=new JS.Module("BAGMembership",{initNode:function(h,c){this.__bags=[];this.callSuper(h,c)},destroy:function(){const h=
this.__bags;let c=h.length;for(;c;){const n=h[--c];this.removeFromBAG(n.attrName,n.groupId)}this.callSuper()},isRegisteredWithBAG:function(h){return this.__bags.includes(h)},getBAG:(h,c)=>g.getGroup(h,c),addToBAG:function(h,c){c=this.getBAG(h,c);this.isRegisteredWithBAG(c)||(this.__bags.push(c),c.register(this),this.isAttachedTo(this,"__updateForBAG",h)||this.attachTo(this,"__updateForBAG",h))},removeFromBAG:function(h,c){c=this.getBAG(h,c);if(this.isRegisteredWithBAG(c)){const n=this.__bags;let m=
n.length,k=!0;for(;m;){const a=n[--m];a===c?(n.splice(m,1),c.unregister(this)):a.attrName===h&&(k=!1)}k&&this.detachFrom(this,"__updateForBAG",h)}},__updateForBAG:function(h){for(const c of this.__bags)if(c.attrName===h.type)c[h.value?"setTrue":"setFalse"](this)}})})(myt);
(p=>{const v=u=>{const t=u.label||"";u.setText('<i class="far fa-'+(!0===u.selected?"dot-":"")+'circle"></i>'+(0<t.length?" ":"")+t)};p.Radio=new JS.Class("Radio",p.Text,{include:[p.SimpleButtonStyle,p.BAGMembership],initNode:function(u,t){t.selected??(t.selected=!1);t.groupId??(t.groupId=p.generateGuid());t.focusIndicator??(t.focusIndicator=!1);t.activeColor??(t.activeColor="inherit");t.hoverColor??(t.hoverColor="inherit");t.readyColor??(t.readyColor="inherit");const g=t.value;delete t.value;this.callSuper(u,
t);this.setValue(g);this.selected&&this.getBAG("selected",this.groupId)?.setTrue(this);p.FontAwesome.registerForNotification(this);v(this)},setOptionValue:function(u){this.set("optionValue",u,!0)},setValue:function(u){if(this.inited){const t=this.getBAG("selected",this.groupId);if(t){const g=t.getNodes();let h=g.length;for(;h;){const c=g[--h];if(c.optionValue===u){t.setTrue(c);break}}}}},getValue:function(){var u=this.getBAG("selected",this.groupId);return(u=u?u.trueNode:null)?u.optionValue:null},
setSelected:function(u){this.selected!==u&&(this.selected=u,this.inited&&(this.fireEvent("selected",u),v(this)))},setGroupId:function(u){if(this.groupId!==u){const t=this.groupId;this.groupId=u;t&&this.removeFromBAG("selected",t);u&&this.addToBAG("selected",u);this.inited&&this.fireEvent("groupId",u)}},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&v(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(u,t=1){this.setOpacity(t);this.setTextColor(u)}})})(myt);
(p=>{const v=JS.Module,{NOOP:u,TRUE_FUNC:t,global:{keys:g}}=p,h=p.Selectable=new v("Selectable",{setSelected:function(n){n=this.valueFromEvent(n);this.selected!==n&&(this.selected=n,this.inited&&this.fireEvent?.("selected",n))},isSelected:function(){return!!this.selected},canSelect:t,canDeselect:t}),c=p.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>g.isShiftKeyDown(),isToggleMode:()=>g.isAcceleratorKeyDown()},initNode:function(n,m){this.__selected={};this.__lastSelectedItem=null;
m.selectedCount=0;m.itemSelectionId??(m.itemSelectionId="id");m.maxSelected??(m.maxSelected=-1);m.minSelected??(m.minSelected=0);this.callSuper(n,m)},setItemSelectionId:function(n){this.itemSelectionId=n},setMaxSelected:function(n){this.maxSelected=n},setSelectedCount:function(n){this.selectedCount!==n&&(this.selectedCount=n,this.inited&&this.fireEvent("selectedCount",n))},isAddMode:()=>c.isAddMode(),isToggleMode:()=>c.isToggleMode(),getSelected:function(){return Object.values(this.__selected)},select:function(n){n&&
!this.isSelectedItem(n)&&this.canSelectItem(n)&&(n.setSelected(!0),this.__selected[n[this.itemSelectionId]]=n,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=n,this.doSelected(n),this.fireEvent("itemSelected",n))},doSelected:u,selectById:function(n){this.select(this.getSelectableItem(n))},canSelectItem:function(n){const {maxSelected:m,selectedCount:k}=this;if(0===m)return!1;if(1===m){if(0<k&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<m&&k>=m)return!1;return n.canSelect(this)},
selectAll:function(){const n=this.getSelectableItems();let m=n.length;for(;m;)this.select(n[--m])},deselect:function(n){this.isSelectedItem(n)&&this.canDeselectItem(n)&&(n.setSelected(!1),delete this.__selected[n[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===n&&(this.__lastSelectedItem=null),this.doDeselected(n),this.fireEvent("itemDeselected",n))},doDeselected:u,deselectById:function(n){this.deselect(this.getSelectableItem(n))},canDeselectItem:function(n){return this.selectedCount<=
this.minSelected?!1:n.canDeselect(this)},deselectAll:function(){const n=this.__selected;for(const m in n)this.deselect(n[m])},isSelectedItem:n=>n?n.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const n=[],m=this.getSubviews();let k=m.length;for(;k;){const a=m[--k];a.isA(h)&&n.push(a)}return n},getSelectableItems:function(){const n=this.getManagedItems();let m=n.length;for(;m;)n[--m].canSelect(this)||n.splice(m,1);
return n},getSelectableItem:function(n){const m=this.getSelectableItems(),k=this.itemSelectionId;let a=m.length;for(;a;){const d=m[--a];if(d[k]===n)return d}}})})(myt);
(p=>{const v=JS.Class,{View:u,SizeToParent:t,LocalStorage:g,debounce:h}=p,c=p.TabSlider=new v("TabSlider",u,{include:[p.Selectable,p.Disableable,t],extend:{STATE_EXPANDED:"expanded",STATE_EXPANDING:"expanding",STATE_COLLAPSED:"collapsed",STATE_COLLAPSING:"collapsing"},initNode:function(m,k){const a=this;let d;const b=k.noWrapperContainer;delete k.noWrapperContainer;k.defaultPlacement=b?"wrapper":"wrapper.container";k.percentOfParentWidth=100;k.expansionState="collapsed";k.tabId??(k.tabId=p.generateGuid());
k.tabContainer??(k.tabContainer=m);k.selected??(k.selected=!1);k.buttonClass??(k.buttonClass=p.SimpleButton);k.zIndex??(k.zIndex=0);k.buttonHeight??(k.buttonHeight=30);k.fillColorSelected??(k.fillColorSelected="#666");k.fillColorHover??(k.fillColorHover="#eee");k.fillColorActive??(k.fillColorActive="#ccc");k.fillColorReady??(k.fillColorReady="#fff");k.minContainerHeight??(k.minContainerHeight=100);k.layoutPaddingY??(k.layoutPaddingY=0);k.wrapperExpandedOverflow??(k.wrapperExpandedOverflow="autoy");
k.selected&&(d=!0,delete k.selected);a.callSuper(m,k);a.button=new a.buttonClass(a,{ignorePlacement:!0,zIndex:1,height:a.buttonHeight,focusIndicator:!0,groupId:a.parent.parent.groupId,percentOfParentWidth:100,hoverColor:a.fillColorHover,activeColor:a.fillColorActive,readyColor:a.fillColorReady},[t,{doActivated:()=>{const e=a.tabContainer;a.isSelected()&&1!==e.maxSelected?e.deselect(a):e.select(a)},updateUI:function(){this.callSuper();a.selected&&-1!==a.tabContainer.maxSelected&&this.setBgColor(a.fillColorSelected);
a.notifyButtonRedraw()}}]);m=a.wrapper=new u(a,{ignorePlacement:!0,y:a.buttonHeight,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[t,{setHeight:function(e){this.callSuper(Math.round(e))},setWidth:function(e){this.callSuper(e);this.inited&&this.container?.setWidth(e)}}]);b||(a._wrapperLayout=new p.SizeToChildren(m.container=new u(m),{axis:"y",paddingY:a.layoutPaddingY}));a.constrain("__updateHeight",[m,"y",m,"height"]);d&&a.tabContainer.select(a);!0===k.disabled&&a.setDisabled(!0);
a.setHeight(a.getCollapsedHeight())},setSelected:function(m){this.callSuper(m);this.button?.updateUI()},setTabId:function(m){this.tabId=m},setTabContainer:function(m){this.tabContainer=m},setLayoutPaddingY:function(m){this.layoutPaddingY=m;this.inited&&this._wrapperLayout?.setPaddingY(m)},setMinContainerHeight:function(m){this.minContainerHeight=m},setButtonClass:function(m){this.buttonClass=m},setFillColorSelected:function(m){this.fillColorSelected=m},setFillColorHover:function(m){this.fillColorHover=
m},setFillColorActive:function(m){this.fillColorActive=m},setFillColorReady:function(m){this.fillColorReady=m},setWrapperExpandedOverflow:function(m){this.wrapperExpandedOverflow=m},setButtonHeight:function(m){this.buttonHeight!==m&&(this.buttonHeight=m,this.button&&(this.button.setHeight(m),this.wrapper.setY(m)))},setExpansionState:function(m){if(this.expansionState!==m){this.expansionState=m;this.inited&&this.fireEvent("expansionState",m);const k=this.wrapper;k&&("expanded"===m?(k.setMaskFocus(!1),
k.setOverflow(this.wrapperExpandedOverflow),this.tabContainer?.saveState()):"expanding"===m?k.setVisible(!0):"collapsed"===m?(k.setVisible(!1),this.tabContainer?.saveState()):"collapsing"===m&&(k.setMaskFocus(!0),k.setOverflow("hidden")))}},doDisabled:function(){this.button?.setDisabled(this.disabled)},notifyButtonRedraw:p.NOOP,__updateHeight:function(m){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(m){const k=this,a=k.wrapper;m-=k.getCollapsedHeight();k.setExpansionState("expanding");
a.stopActiveAnimators();if(a.height!==m){const d=k.tabContainer.duration;1===d?(a.setHeight(m),k.setExpansionState("expanded")):a.animate({attribute:"height",to:m,duration:d}).next(b=>{k.setExpansionState("expanded")})}else k.setExpansionState("expanded")},collapse:function(){const m=this,k=m.wrapper;m.setExpansionState("collapsing");k.stopActiveAnimators();if(0!==k.height){const a=m.tabContainer.duration;1===a?(k.setHeight(0),m.setExpansionState("collapsed")):k.animate({attribute:"height",to:0,duration:a}).next(d=>
{m.setExpansionState("collapsed")})}else m.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container?.height}}),n=(m,k,a,d)=>{m[k]!==d&&(m[k]=d,m.button?.label?.set(labelAttrName,d))};p.TextTabSlider=new v("TextTabSlider",c,{initNode:function(m,k){this.labelTextColorChecked=
"#fff";this.labelTextColor="#333";this.labelAlign="center";this.labelValign="middle";this.labelFontSize="16px";this.labelFontWeight="bold";k.labelTextColorChecked??(k.labelTextColorChecked="#fff");k.labelTextColor??(k.labelTextColor="#333");k.labelAlign??(k.labelAlign="center");k.labelValign??(k.labelValign="middle");k.labelFontSize??(k.labelFontSize="16px");k.labelFontWeight??(k.labelFontWeight="bold");this.callSuper(m,k);this.button.label=new p.Text(this.button,{ignorePlacement:!0,fontSize:this.labelFontSize,
fontWeight:this.labelFontWeight,text:this.text,align:this.labelAlign,valign:this.labelValign,textColor:this.__getTextColor()})},setLabelTextColorChecked:function(m){this.labelTextColorChecked!==m&&(this.labelTextColorChecked=m,this.notifyButtonRedraw())},setLabelTextColor:function(m){this.labelTextColor!==m&&(this.labelTextColor=m,this.notifyButtonRedraw())},setLabelAlign:function(m){n(this,"labelAlign","align",m)},setLabelValign:function(m){n(this,"labelValign","valign",m)},setLabelFontSize:function(m){n(this,
"labelFontSize","fontSize",m)},setLabelFontWeight:function(m){n(this,"labelFontWeight","fontWeight",m)},setText:function(m){n(this,"text","text",m)},notifyButtonRedraw:function(){this.button?.label?.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});p.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[p.SelectionManager],initNode:function(m,k){const a=this;a._tabSliders=
[];k.defaultPlacement="container";k.spacing??(k.spacing=p.theme.TabSliderContainerSpacing);k.overflow??(k.overflow="autoy");k.itemSelectionId??(k.itemSelectionId="tabId");k.maxSelected??(k.maxSelected=1);k.duration??(k.duration=500);a.updateLayout=h(a.updateLayout);a.callSuper(m,k);m=a.container=new u(a,{ignorePlacement:!0,percentOfParentWidth:100},[t,{subnodeAdded:function(d){this.callSuper(d);d instanceof c&&(a._tabSliders.push(d),a.attachTo(d,"updateLayout","selected"))},subnodeRemoved:function(d){if(d instanceof
c){const b=a._tabSliders,e=b.indexOf(d);-1<e&&(a.detachFrom(d,"updateLayout","selected"),b.splice(e,1))}this.callSuper(d)}}]);m.layout=new p.SpacedLayout(m,{axis:"y",spacing:a.spacing,collapseParent:!0});a.attachTo(a,"updateLayout","height")},setPersistenceId:function(m){this.persistenceId=m},getTabSliders:function(){return this._tabSliders},getTabSliderById:function(m){for(const k of this._tabSliders)if(k.tabId===m)return k},setSpacing:function(m){this.spacing!==m&&(this.spacing=m,this.layout?.setSpacing(m))},
setDuration:function(m){this.duration=m},updateLayout:function(m,k){m=this._tabSliders;for(var a=m.length,d=a,b=0,e=0,f=0;d;){var r=m[--d];r.visible&&(++f,r.selected?(b+=r.getMinimumExpandedHeight(),e+=r.getPreferredExpandedHeight()):(r=r.getCollapsedHeight(),b+=r,e+=r))}d=this.container.layout;f=d.inset+d.outset+d.spacing*(f-1);e+=f;d=this.height;b=b+f>d;f=e>d;r=this.duration;e-=d;0<k&&this.setDuration(k);for(d=a;d;)if(a=m[--d],a.visible)if(a.selected){let x;if(b)x=a.getMinimumExpandedHeight();else if(f){const l=
a.getPreferredExpandedHeight(),y=a.getMinimumExpandedHeight();x=l-e;y>x?(e-=l-y,x=y):e=0}else x=a.getPreferredExpandedHeight();a.expand(x)}else a.collapse();0<k&&this.setDuration(r)},readState:m=>g.getDatum(m),writeState:(m,k)=>{g.setDatum(m,k)},saveState:h(function(){const m=[];for(const k of this.getTabSliders())"expanded"===k.expansionState&&m.push(k.tabId);this.writeState(this.persistenceId,m)},1E3),restoreState:function(m){for(const k of this.readState(this.persistenceId)||m)this.select(this.getTabSliderById(k))}})})(myt);
(p=>{const v=p.theme,u=g=>{const h=[];switch(g.tabContainer.location){case "top":h.push("TopLeft","TopRight");break;case "bottom":h.push("BottomLeft","BottomRight");break;case "left":h.push("TopLeft","BottomLeft");break;case "right":h.push("TopRight","BottomRight")}for(const c of h)g["setRounded"+c+"Corner"](g.cornerRadius||0)},t=p.Tab=new JS.Class("Tab",p.SimpleTextButton,{include:[p.Selectable],initNode:function(g,h){h.tabId??(h.tabId=p.generateGuid());h.tabContainer??(h.tabContainer=g);let c;h.selected&&
(c=!0,delete h.selected);h.inset??(h.inset=v.TabInset);h.outset??(h.outset=v.TabOutset);h.selectedColor??(h.selectedColor="#fff");h.hoverColor??(h.hoverColor="#eee");h.activeColor??(h.activeColor="#aaa");h.readyColor??(h.readyColor="#ccc");h.labelTextSelectedColor??(h.labelTextSelectedColor="#333");h.height??(h.height=24);h.focusIndicator??(h.focusIndicator=!1);h.cornerRadius??(h.cornerRadius=6);this.callSuper(g,h);c&&this.tabContainer.select(this);u(this);this.textView.setTextColor(this.selected?
this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(g){this.tabId=g},setTabContainer:function(g){this.tabContainer=g},setSelectedColor:function(g){this.selectedColor=g},setLabelTextColor:function(g){this.labelTextColor=g},setCornerRadius:function(g){this.cornerRadius=g;this.inited&&u(this)},setLabelTextSelectedColor:function(g){this.labelTextSelectedColor=g;this.inited&&this.selected&&this.textView.setTextColor(g)},setSelected:function(g){this.callSuper(g);this.inited&&(this.updateUI(),
this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}});p.TabContainer=new JS.Module("TabContainer",{include:[p.SelectionManager],initNode:function(g,h){this.__tabs=[];h.spacing??(h.spacing=v.TabContainerSpacing);h.inset??(h.inset=v.TabContainerInset);h.location??(h.location="top");h.itemSelectionId??(h.itemSelectionId=
"tabId");h.maxSelected??(h.maxSelected=1);const c=h.collapse??!0;delete h.collapse;this.callSuper(g,h);this.layout=new p.SpacedLayout(this,{axis:"left"===this.location||"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:c})},setLocation:function(g){this.location=g},setSpacing:function(g){this.spacing!==g&&(this.spacing=g,this.layout?.setSpacing(g))},setInset:function(g){this.inset!==g&&(this.inset=g,this.layout?.setInset(g))},getFirstTab:function(){return this.__tabs[0]},
getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(g){this.callSuper(g);if(g.isA(t))switch(this.__tabs.push(g),this.location){case "top":g.setValign("bottom");break;case "bottom":g.setValign("top");break;case "left":g.setAlign("right");break;case "right":g.setAlign("left")}},subnodeRemoved:function(g){if(g.isA(t)){const h=this.__tabs,c=h.indexOf(g);-1<c&&h.splice(c,1)}this.callSuper(g)}})})(myt);
(p=>{const v=JS.Class,u=Math.min,t=Array.isArray,{NOOP:g,SizeToDom:h,View:c,Disableable:n,KeyObservable:m,theme:k,global:{keys:a}}=p,d=(l,y,E)=>{l[E]!==y&&(l[E]=y,l.getIDS()[E]=y+"px",l.inited&&(l.fireEvent(E,y),l.sizeViewToDom()))},b=(l,y,E)=>{l[y]!==E&&(l.getIDE()[y]=l[y]=E,l.inited&&l.fireEvent(y,E))},e=p.NativeInputWrapper=new v("NativeInputWrapper",c,{include:[n,p.InputObservable],initNode:function(l,y){y.tagName??(y.tagName="input");y.focusable??(y.focusable=!0);this.callSuper(l,y);this.addDomClass("mytNativeInput")},
createOurDomElement:function(l){l=this.callSuper(l);this.inputType&&((t(l)?l[1]:l).type=this.inputType);return l},setDisabled:function(l){this.disabled!==l&&(this.getIDE().disabled=l,this.callSuper(l))},setValue:function(l){this.value!==l&&(this.value=l,this.setDomValue(l),this.inited&&this.fireEvent("value",l))},getDomValue:function(){return this.getIDE().value},setDomValue:function(l){const y=this.getIDE();y.value!==l&&(y.value=l)}}),f=p.InputSelectOption=new v("InputSelectOption",c,{include:[n,
p.Selectable],createOurDomElement:l=>document.createElement("option"),setSelected:function(l){l=this.valueFromEvent(l);const y=this.getIDE();y.selected!==l&&(y.selected=l)},setDisabled:function(l){this.disabled!==l&&(this.getIDE().disabled=l,this.callSuper(l))},setValue:function(l){b(this,"value",l)},setLabel:function(l){this.label!==l&&(this.getIDE().textContent=this.label=l,this.inited&&this.fireEvent("label",l))},isSelected:function(){return this.getIDE().selected},canSelect:function(l){return!this.disabled&&
!this.getIDE().selected&&this.parent===l},canDeselect:function(l){return!this.disabled&&this.getIDE().selected&&this.parent===l}}),r=p.BaseInputText=new v("BaseInputText",e,{include:[p.TextSupport],initNode:function(l,y){y.bgColor??(y.bgColor="transparent");y.spellcheck??(y.spellcheck=!1);this.callSuper(l,y);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(l){this.callSuper(l);this.setValue(l)},
setSpellcheck:function(l){b(this,"spellcheck",l)},setMaxLength:function(l){b(this,"maxLength",null==l||0>l?void 0:l)},setAllowedChars:function(l){this.allowedChars=l},setPlaceholder:function(l){b(this,"placeholder",l)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(k.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(l){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(l){const y=
l.value,E=this.allowedChars;E&&!E.includes(m.getKeyFromEvent(l))&&y.preventDefault();this.filterInputPress(y)},filterInput:l=>l,filterInputPress:g,__syncToDom:function(l){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const l=document.selection.createRange();l.moveStart("character",-this.getDomValue().length);return l.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(l,y){if(null==y||l===y){if(this.getCaretPosition()===l)return;y=
l}var E=this.getIDE();E.setSelectionRange?E.setSelectionRange(l,y):E.createTextRange&&(E=E.createTextRange(),E.collapse(!0),E.moveEnd("character",y),E.moveStart("character",l),E.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const l=this.getIDE();return{start:l.selectionStart,startElem:l,end:l.selectionEnd,endElem:l}},setSelection:function(l){l&&
this.setCaretPosition(l.start,l.end)},saveSelection:function(l){this._selRange=l||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}}),x=p.InputText=new v("InputText",r,{include:[p.SizeHeightToDom],initNode:function(l,y){this.inputType=!0===y.password?"password":"text";this.callSuper(l,y);this.setCaretToEnd()},setPassword:function(l){this.set("password",l,!0);this.inited&&(this.getIDE().type=l?"password":"text")}});p.InputTextMouseFixMixin=new JS.Module("InputTextMouseFixMixin",
{initNode:function(l,y){this.callSuper(l,y);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},createDomHandler:function(l,y,E){return"mousedown"===E||"mouseup"===E?this.createStandardDomHandler(l,y,E,p.MouseObservable,!1):this.callSuper(l,y,E)},doMouseDown:g,doMouseUp:g});p.EditableText=new v("EditableText",r,{include:[h],initNode:function(l,y){y.tagName??(y.tagName="div");y.inputType=null;y.whiteSpace??(y.whiteSpace="pre");y.contentEditable??(y.contentEditable=
!0);this.callSuper(l,y);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(l){d(this,l,"minWidth")},setMinHeight:function(l){d(this,l,"minHeight")},setPadding:function(l){this.setPaddingTop(l);this.setPaddingRight(l);this.setPaddingBottom(l);this.setPaddingLeft(l)},setPaddingTop:function(l){d(this,l,"paddingTop")},setPaddingRight:function(l){d(this,l,"paddingRight")},
setPaddingBottom:function(l){d(this,l,"paddingBottom")},setPaddingLeft:function(l){d(this,l,"paddingLeft")},setContentEditable:function(l){b(this,"contentEditable",l)},filterInputPress:function(l){const y=this.maxLength;0<=y&&this.getCharacterCount()===y&&l.preventDefault();this.callSuper(l)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(l){const y=this.getIDE();y.innerHTML!==l&&(y.innerHTML=l,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(l){m.isEnterKeyEvent(l)&&
(l.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(l){this.callSuper(l);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){return this.getIDE().firstChild?.length??0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){return this.getSelection()?.end??0},setCaretPosition:function(l,y){if(null==y||l===
y){if(this.getCaretPosition()===l)return;y=l}this.saveSelection({start:l,startElem:this.getIDE().firstChild,end:y,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(l){this.saveSelection();return!0},getSelection:function(){let l;if(window.getSelection){const y=window.getSelection();if(0<y.rangeCount){if(y.extentNode===this.getIDE())return;l=y.getRangeAt(0)}}else document.selection&&(l=document.selection.createRange());return{start:l?
l.startOffset:0,startElem:l?l.startContainer:this.getIDE().firstChild,end:l?l.endOffset:0,endElem:l?l.endContainer:this.getIDE().firstChild}},setSelection:function(l){if(l){const {startElem:y,endElem:E}=l;if(y&&y.parentNode&&E&&E.parentNode){const P=document.createRange();P.setStart(y,u(l.start,y.length));P.setEnd(E,u(l.end,E.length));window.getSelection?(l=window.getSelection(),0<l.rangeCount&&l.removeAllRanges(),l.addRange(P)):document.selection&&P.select()}}}});p.InputTextArea=new v("InputTextArea",
r,{initNode:function(l,y){y.tagName??(y.tagName="textarea");y.inputType=null;y.resize??(y.resize="none");y.wrap??(y.wrap="soft");this.callSuper(l,y)},destroy:function(){this.__resizeObserver?.unobserve(this.getIDE());this.callSuper()},setResize:function(l){const y=this;y.resize!==l&&(l=y.resize=y.getIDS().resize=l||"none",y.inited&&y.fireEvent("resize",l),"none"!==l&&(y.__resizeObserver??(y.__resizeObserver=new ResizeObserver(()=>{y.doResize()}))).observe(y.getIDE()))},setWrap:function(l){b(this,
"wrap",l)},doResize:function(){const l=this.resize;"both"!==l&&"horizontal"!==l||h.sizeWidth(this);"both"!==l&&"vertical"!==l||h.sizeHeight(this)}});p.ComboBox=new v("ComboBox",x,{include:[p.Activateable,p.KeyActivation,p.ListViewAnchor],initNode:function(l,y){this.filterItems=!0;y.activationKeys??(y.activationKeys=[a.CODE_ENTER,a.CODE_ESC,a.CODE_ARROW_UP,a.CODE_ARROW_DOWN]);y.bgColor??(y.bgColor="#fff");y.borderWidth??(y.borderWidth=1);y.borderStyle??(y.borderStyle="solid");y.floatingAlignOffset??
(y.floatingAlignOffset=y.borderWidth);y.fullItemConfig??(y.fullItemConfig=[]);y.listViewAttrs={...y.listViewAttrs,maxHeight:y.listViewAttrs?.maxHeight??99};this.callSuper(l,y)},setFullItemConfig:function(l){this.fullItemConfig=l},setFilterItems:function(l){this.filterItems=l},__syncToDom:function(l){const y=this.value;this.callSuper(l);y!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(l){const y=this.getFloatingPanel(l);if(y){let P;if(this.filterItems){P=[];var E=this.value;E=null==
E?"":(""+E).toLowerCase();const B=this.fullItemConfig,D=B.length;for(let N=0;D>N;){const Q=B[N++],w=Q.attrs.text.toLowerCase(),q=w.indexOf(E);0===q?w!==E&&P.push(Q):0<q&&P.push(Q)}}else P=this.fullItemConfig;0<P.length?(y.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(P),this.callSuper(l)):this.hideFloatingPanel(l)}},doItemActivated:function(l){this.setValue(null==l.value?l.text:l.value);this.callSuper(l)},doActivated:function(){this.toggleFloatingPanel()}});p.InputSelect=new v("InputSelect",
e,{include:[h],initNode:function(l,y){y.tagName??(y.tagName="select");y.inputType=null;y.multiple??(y.multiple=!1);y.size??(y.size=y.multiple?4:1);this.callSuper(l,y);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(l){b(this,"multiple",l)},setSize:function(l){b(this,"size",l)},setOptions:function(l){this.destroyAllOptions();if(t(l))for(const y of l)this.addOption(y)},getOptions:function(){return this.getSubviews().slice()},setValue:function(l){t(l)&&p.areArraysEqual(l,
this.value)||this.value===l||(this.value=l,this.inited&&this.fireEvent("value",l))},subviewAdded:function(l){l instanceof f||(p.dumpStack("Subview unsupported. Destroying it"),l.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(k.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(l=>l.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(l=>
l.value)},getOptionForValue:function(l){return this.getOptions().find(y=>y.value===l)},addOption:function(l){return new f(this,l)},destroyAllOptions:function(){for(const l of this.getOptions())l.destroy()},destroyOptionWithValue:function(l){if(l=this.getOptionForValue(l))if(l.destroy(),l.destroyed)return!0;return!1},deselectAll:function(){let l=!1;for(const y of this.getOptions())y.isSelected()&&(y.setSelected(!1),l=!0);l&&this.__doChanged()},selectValues:function(l){t(l)||(l=[l]);for(const y of l)this.selectValue(y)},
selectValue:function(l){this.select(this.getOptionForValue(l))},select:function(l){l?.canSelect(this)&&(l.setSelected(!0),this.__syncToDom())},deselectValue:function(l){this.deselect(this.getOptionForValue(l))},deselect:function(l){l?.canDeselect(this)&&(l.setSelected(!1),this.__syncToDom())},__doChanged:function(l){this.__syncToDom();this.doChanged()},doChanged:g,__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(p=>{const v=JS.Module,u=Math.round;var t=p.ValueComponent=new v("ValueComponent",{initNode:function(h,c){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(h,c)},setValueFilter:function(h){this.valueFilter=h;this.inited&&h&&this.setValue(this.value)},setValue:function(h){this.valueFilter&&(h=this.valueFilter(h));this.value!==h&&(this.value=h,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(h,c){const n=this.valueFilter;
this.setValueFilter(n?"last"===c?m=>h(n(m)):m=>n(h(m)):h)}});const g=p.RangeComponent=new v("RangeComponent",{include:[t],setLowerValue:function(h){this.setValue({lower:h,upper:this.value&&void 0!==this.value.upper?this.value.upper:h})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(h){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:h,upper:h})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(h){if(h){var c=
this.value;const k=c?c.lower:void 0;c=c?c.upper:void 0;this.valueFilter&&(h=this.valueFilter(h));if(h.lower!==k||h.upper!==c){var n;(n=h).lower??(n.lower=h.upper);var m;(m=h).upper??(m.upper=h.lower);void 0!==h.lower&&void 0!==h.upper&&h.lower>h.upper&&(n=h.lower,h.lower=h.upper,h.upper=n);this.value=h;this.inited&&(this.fireEvent("value",this.getValue()),h.lower!==k&&this.fireEvent("lowerValue",h.lower),h.upper!==c&&this.fireEvent("upperValue",h.upper))}}else this.callSuper(h)},getValueCopy:function(){const h=
this.value;return{lower:h.lower,upper:h.upper}}});t=p.BoundedValueComponent=new v("BoundedValueComponent",{include:[t],initNode:function(h,c){const n=this;n.appendToEarlyAttrs("snapToInt","minValue","maxValue");c.snapToInt??(c.snapToInt=!0);c.valueFilter||(c.valueFilter=m=>{var k=n.maxValue;if(null!=k&&m>k)return k;k=n.minValue;return null!=k&&m<k?k:m});n.callSuper(h,c)},setSnapToInt:function(h){this.snapToInt!==h&&(this.snapToInt=h,this.inited&&(this.fireEvent("snapToInt",h),h&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(h){this.snapToInt&&null!=h&&(h=u(h));if(this.minValue!==h){const c=this.maxValue;null!=c&&h>c&&(h=c);this.minValue!==h&&(this.minValue=h,this.inited&&(this.fireEvent("minValue",h),this.setValue(this.value)))}},setMaxValue:function(h){this.snapToInt&&null!=h&&(h=u(h));if(this.maxValue!==h){const c=this.minValue;null!=c&&h<c&&(h=c);this.maxValue!==h&&(this.maxValue=h,this.inited&&(this.fireEvent("maxValue",h),this.setValue(this.value)))}},
setValue:function(h){this.callSuper(this.snapToInt&&null!=h&&!isNaN(h)?u(h):h)}});p.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[t,g],initNode:function(h,c){const n=this;c.valueFilter||(c.valueFilter=m=>{if(m){const k=n.maxValue,a=n.minValue;null!=k&&m.upper>k&&(m.upper=k);null!=a&&m.lower<a&&(m.lower=a)}return m});n.callSuper(h,c)},setValue:function(h){this.snapToInt&&null!=h&&(null==h.lower||isNaN(h.lower)||(h.lower=u(h.lower)),null==h.upper||isNaN(h.upper)||(h.upper=u(h.upper)));
this.callSuper(h)}})})(myt);
(p=>{const v=u=>{const t=u.label??"";u.setText('<i class="'+("solid"===u.checkboxStyle?"fas":"far")+" fa-"+(u.isChecked()?"check-":"")+'square"></i>'+(0<t.length?" "+t:""))};p.Checkbox=new JS.Class("Checkbox",p.Text,{include:[p.SimpleButtonStyle,p.ValueComponent],initNode:function(u,t){this.appendToEarlyAttrs("userUnselectable");t.value??(t.value=!1);t.focusIndicator??(t.focusIndicator=!1);t.checkboxStyle??(t.checkboxStyle="outline");t.activeColor??(t.activeColor="inherit");t.hoverColor??(t.hoverColor=
"inherit");t.readyColor??(t.readyColor="inherit");this.callSuper(u,t);p.FontAwesome.registerForNotification(this);v(this)},setValue:function(u){this.value!==u&&(this.callSuper(u),this.inited&&v(this))},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&v(this))},setCheckboxStyle:function(u){this.checkboxStyle!==u&&(this.set("checkboxStyle",u,!0),this.inited&&v(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(u,
t=1){this.setOpacity(t);this.setTextColor(u)}})})(myt);
(p=>{let v;const {Class:u,Module:t}=JS,g=console.warn,{NOOP:h,KeyObservable:c,UpdateableUI:n,dumpStack:m,global:k}=p,a=k.focus,d=k.keys,b={},e=(q,z)=>{if(q){const I=q.id;q.id?z(I):m("No ID")}else m("No processor")},f=q=>{e(q,z=>{b[z]=q})},r=q=>{const z=p.BAG.getGroup("selected",q.groupId);if(z){const I=z.getNodes();q=q.value;let O=I.length;for(;O;){const M=I[--O];if(M.optionValue===q){z.setTrue(M);break}}}},x=q=>{if(q.groupId){const z=p.BAG.getGroup("selected",q.groupId);z&&q.syncTo(z,"__syncValue",
"trueNode")}},l=(q,z)=>{const I=[],O=q.__v;if(O)for(const M of O)z=M.isFormValid(q,null,I)&&z;q.setErrorMessages(I);q.setIsValid(z);return z},y=(q,z,I)=>{if(q=q.__vp)for(const O of q)O[I]&&(z=O.process(z));return z},E=p.ValueProcessor=new u("ValueProcessor",{initialize:function(q,z,I,O){this.id=q;this.runForDefault=!!z;this.runForRollback=!!I;this.runForCurrent=!!O},process:q=>q}),P=p.ToNumberValueProcessor=new u("ToNumberValueProcessor",E,{process:q=>{if(null==q||""===q||"-"===q)return q;const z=
Number(q);return isNaN(z)?q:z}}),B=p.TrimValueProcessor=new u("TrimValueProcessor",E,{initialize:function(q,z,I,O,M){this.callSuper(q,z,I,O);this.trim=M},process:function(q){q+="";switch(this.trim){case "start":case "left":return q.trimStart();case "end":case "right":return q.trimEnd();default:return q.trim()}}}),D=p.UndefinedValueProcessor=new u("UndefinedValueProcessor",E,{initialize:function(q,z,I,O,M){this.callSuper(q,z,I,O);this.defaultValue=M},process:function(q){return void 0===q?this.defaultValue:
q}}),N=p.Form=new t("Form",{extend:{ACCELERATOR_SCOPE_ROOT:"root",ACCELERATOR_SCOPE_ELEMENT:"element",ACCELERATOR_SCOPE_NONE:"none"},initNode:function(q,z){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(q,z);this.form?.isA(N)&&this.form.addSubForm(this)},destroy:function(){this.form?.isA(N)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(q){this.set("errorMessages",q,!0)},getFullId:function(){const q=[this.id];
let z=this.form;for(;z&&z.id;)q.unshift(z.id),z=z.form;return q.join(".")},setId:function(q){if(this.id!==q){const z=this.id;this.id=q;(q=this.form)&&this.inited&&(q.removeSubForm(z),q.addSubForm(this))}},setForm:function(q){if(this.form!==q){const z=this.form;this.form=q;z?.removeSubForm(this.id);this.inited&&q?.addSubForm(this)}},setIsValid:function(q){this.isValid=q;this.inited&&this.fireEvent("isValid",q);const z=this.form;z&&!this._lockCascade&&(q?z.verifyValidState(this):z.notifySubFormInvalid())},
setIsChanged:function(q){if(this.isChanged!==q){this.isChanged=q;this.inited&&this.fireEvent("isChanged",q);const z=this.form;z&&!this._lockCascade&&(q?z.notifySubFormChanged():z.verifyChangedState(this))}},setValidators:function(q){let z=q.length;for(;z;){const I=q[--z];"string"===typeof I&&(q[z]=k.validators.getValidator(I),q[z]||q.splice(z,1))}this.__v=q},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(Q))return this.value;const q={},z=this.__sf;for(const I in z)q[I]=
z[I].getValue();return q},setValue:function(q){this.callSuper?.(q);if("object"===typeof q&&!this.isA(Q))for(const z in q){const I=this.getSubForm(z);I?q[z]=I.setValue(q[z]):g("ID in setValue for missing subform",z)}this.form?.notifyValueChanged(this);return q},getDefaultValue:function(){const q={};let z=this.__sf;for(const I in z)q[I]=z[I].getDefaultValue();return q},setDefaultValue:function(q){if("object"===typeof q)for(const z in q){const I=this.getSubForm(z);I?q[z]=I.setDefaultValue(q[z]):g("ID in setDefaultValue for missing subform",
z)}return q},getRollbackValue:function(){const q={},z=this.__sf;for(const I in z)q[I]=z[I].getRollbackValue();return q},setRollbackValue:function(q){if("object"===typeof q)for(const z in q){const I=this.getSubForm(z);I?q[z]=I.setRollbackValue(q[z]):g("ID in setRollbackValue for missing subform",z)}return q},addAccelerator:function(q,z){this.__acc[q]=z},removeAccelerator:function(q){delete this.__acc[q]},invokeAccelerator:function(q,z){this.__acc[q]?.call(this,z??null)},addValidator:function(q){q&&
this.__v.push(q)},removeValidator:function(q){if(q){const z=this.__v;let I=z.length;for(;I;){const O=z[--I];if(O.id===q)return z.splice(I,1),O}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(q){const z=q.id;null!=this.getSubForm(z)?g("ID in use for subform, add aborted",z,q):(q.setForm(this),this.__sf[z]=q,q.isChanged&&this.notifySubFormChanged(),q.isValid||this.notifySubFormInvalid())},removeSubForm:function(q){const z=this.getSubForm(q);z&&(z.setForm(null),
delete this.__sf[q],this.verifyChangedState(),this.verifyValidState());return z},getSubForm:function(q){return this.__sf[q]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(q){q&&this.doValidation();const z=[];(function M(O){if(O.isA(Q))O.isValid||z.push(O.getFullId());else{O=O.getSubForms();for(const S in O)M(O[S])}})(this);return z},getAllErrorMessages:function(){const q=this.__sf;let z=(this.errorMessages??[]).slice();for(const I in q)z.push(...q[I].getAllErrorMessages());
return z},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(q){const z=this.__sf;let I=!0;for(const O in z){const M=z[O];M!==q&&(I=M.isValid&&I)}return l(this,I)},doValidation:function(){const q=this.__sf;let z=!0;for(const I in q)z=q[I].doValidation()&&z;this._lockCascade=!0;z=l(this,z);this._lockCascade=!1;return z},notifyValueChanged:function(q){this.form?.notifyValueChanged(q)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(q){const z=
this.__sf;let I=!1;for(const O in z){const M=z[O];M!==q&&(I=M.isChanged||I)}this.setIsChanged(I);return I},setup:function(q,z,I){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;q??={};z??={};I??={};const O=this.__sf;for(const M in O)O[M].setup(q[M],z[M],I[M])},resetForm:function(){this._lockCascade=!0;const q=this.__sf;for(const z in q)q[z].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=
!1},rollbackForm:function(){this._lockCascade=!0;const q=this.__sf;for(const z in q)q[z].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const q={},z=this.__sf;for(const I in z){const O=z[I];O.isChanged&&(q[I]=O.getChangedValue())}return q}}),Q=p.FormElement=new t("FormElement",{include:[N],initNode:function(q,z){this.__vp=[];this.callSuper(q,z)},getValue:function(){return y(this,this.callSuper?this.callSuper():this.value,
"runForCurrent")},setValue:function(q){void 0===q&&(q=this.getRollbackValue());this.value!==q&&(this.callSuper(q),this.verifyChangedState());return q},getDefaultValue:function(){return y(this,this.defaultValue,"runForDefault")},setDefaultValue:function(q){this.defaultValue!==q&&(this.defaultValue=q,this.inited&&this.fireEvent("defaultValue",q),this.verifyChangedState());return q},getRollbackValue:function(){return y(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(q){void 0===
q&&(q=this.getDefaultValue());this.rollbackValue!==q&&(this.rollbackValue=q,this.inited&&this.fireEvent("rollbackValue",q),this.verifyChangedState());return q},setValueProcessors:function(q){let z=q.length;for(;z;){const I=q[--z];"string"===typeof I&&(q[z]=b[I],q[z]||q.splice(z,1))}this.__vp=q},addValueProcessor:function(q){this.__vp.push(q)},removeValueProcessor:function(q){if(q){const z=this.__vp;let I=z.length;for(;I;){const O=z[--I];if(O.id===q)return z.splice(I,1),O}}},addSubForm:q=>{m("addSubForm unsupported on FormElement")},
getSubForm:q=>{m("getSubForm unsupported on FormElement")},removeSubForm:q=>{m("removeSubForm unsupported on FormElement")},verifyChangedState:function(q){q=this.getValue()!==this.getRollbackValue();this.setIsChanged(q);return q},setup:function(q,z,I){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(q);this.setRollbackValue(z);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(I)},resetForm:function(){this._lockCascade=
!0;const q=this.getDefaultValue();this.setRollbackValue(q);this.setValue(q);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),w=p.FormInputTextMixin=new t("FormInputTextMixin",{include:[Q,n],initNode:function(q,z){this.acceleratorScope=
"element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";z.bgColor??(z.bgColor="#fff");z.borderWidth??(z.borderWidth=1);z.borderStyle??(z.borderStyle="solid");this.callSuper(q,z);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(q){this.validateWhen=q},setAcceleratorScope:function(q){this.acceleratorScope=
q},setErrorColor:function(q){this.errorColor=q},setActionRequiredColor:function(q){this.actionRequiredColor=q},setNormalColor:function(q){this.normalColor=q},setIsChanged:function(q){this.callSuper(q);this.inited&&this.updateUI()},setIsValid:function(q){this.callSuper(q);this.inited&&this.updateUI()},setValue:function(q){q=this.callSuper(q);const z=this.validateWhen;"key"!==z&&"blurWithKeyFix"!==z||this.verifyValidState();return q},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},__hndlKeyDown:function(q){c.isEnterKeyEvent(q)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(q){c.isEscKeyEvent(q)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const q=this.validateWhen;"blur"!==
q&&"blurWithKeyFix"!==q||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});p.RootForm=new t("RootForm",{include:[N],initNode:function(q,z){this.callSuper(q,z);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:h,doInvalidSubmit:h,
doCancel:function(){this.rollbackForm();this.doValidation()}});p.FormCheckbox=new u("FormCheckbox",p.Checkbox,{include:[Q],initNode:function(q,z){this.rollbackValue=this.defaultValue=!1;this.callSuper(q,z)}});p.FormComboBox=new u("FormComboBox",p.ComboBox,{include:[Q,n],initNode:function(q,z){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(q,z);this.addValueProcessor(v);this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(q){this.validateWhen=q},setAcceleratorScope:function(q){this.acceleratorScope=q},setErrorColor:function(q){this.errorColor=q},setActionRequiredColor:function(q){this.actionRequiredColor=q},setNormalColor:function(q){this.normalColor=q},setIsChanged:function(q){this.callSuper(q);this.inited&&this.updateUI()},setIsValid:function(q){this.callSuper(q);this.inited&&this.updateUI()},setValue:function(q){q=this.callSuper(q);
const z=this.validateWhen;"key"!==z&&"blurWithKeyFix"!==z||this.verifyValidState();return q},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},notifyPanelShown:function(q){this._isShown=
!0},notifyPanelHidden:function(q){this._isShown=!1},doActivationKeyDown:function(q,z){q!==d.CODE_ESC||this._isShown?this.callSuper(q,z):this.invokeAccelerator("reject")},doActivationKeyUp:function(q){q!==d.CODE_ENTER||this._isShown?this.callSuper(q):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const q=this.validateWhen;"blur"!==q&&"blurWithKeyFix"!==q||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:
this.actionRequiredColor)}});p.FormEditableText=new u("FormEditableText",p.EditableText,{include:[w],__hndlKeyDown:function(q){"nowrap"===this.whitespace&&this.callSuper(q)}});p.FormInputText=new u("FormInputText",p.InputText,{include:[w]});p.FormInputTextArea=new u("FormInputTextArea",p.InputTextArea,{include:[w],__hndlKeyDown:h});p.FormInputSelect=new u("FormInputSelect",p.InputSelect,{include:[Q],setValue:function(q){if(!this.__abortSetValue)return q=this.callSuper(q),this.__abortSetValue=!0,this.deselectAll(),
this.selectValues(q),this.__abortSetValue=!1,this.verifyValidState(),q}});p.FormRadioGroup=new u("FormRadioGroup",p.Node,{include:[p.ValueComponent,Q],initNode:function(q,z){z.groupId??(z.groupId=p.generateGuid());this.callSuper(q,z);void 0!==this.value&&r(this);x(this)},setValue:function(q){q=this.callSuper(q);this.inited&&r(this);return q},setGroupId:function(q){if(this.groupId!==q){if(this.groupId){const z=p.BAG.getGroup("selected",this.groupId);z&&this.detachFrom(z,"__syncValue","trueNode")}this.groupId=
q;this.inited&&x(this)}},__syncValue:function(q){q=q.value;this.setValue(q?q.optionValue:null)}});p.UseOtherFieldIfEmptyValueProcessor=new u("UseOtherFieldIfEmptyValueProcessor",E,{initialize:function(q,z,I,O,M){this.callSuper(q,z,I,O);this.otherField=M},process:function(q){return null==q||""===q?this.otherField.getValue():q}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){f(v=new D("undefToEmpty",!0,!0,!0,""));f(new P("toNumber",!0,!0,!0));f(new B("trimLeft",!0,!0,!0,"left"));
f(new B("trimRight",!0,!0,!0,"right"));f(new B("trimBoth",!0,!0,!0,"both"));k.register("valueProcessors",this)},getValueProcessor:q=>b[q],register:f,unregister:q=>{e(q,z=>{b[z]&&delete b[z]})}})})(myt);
(p=>{const v=JS.Class,{NOOP:u,dumpStack:t}=p,g={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",ico:"image/vnd.microsoft.icon"},h=(a,d)=>{a[d](a,"doDragOver","dragover",!1);a[d](a,"doDragEnter","dragenter",!1);a[d](a,"doDragLeave","dragleave",!1);a[d](a,"doDrop","drop",!1)},c=p.DragDropSupport=new JS.Module("DragDropSupport",{include:[p.DragDropObservable],initNode:function(a,d){this.callSuper(a,d);this.disabled||this.setupDragListeners()},
setDisabled:function(a){this.disabled!==a&&(this.getIDE().disabled=a,this.callSuper(a),this.inited&&(a?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){h(this,"attachToDom")},teardownDragListeners:function(){h(this,"detachFromDom")},doDragOver:u,doDragEnter:u,doDragLeave:u,doDrop:function(a){this.handleFiles(a.value.dataTransfer.files,a)},handleFiles:function(a,d){if(void 0!==a){let b=a.length;for(;b;){const e=this.filterFiles(a[--b]);e&&this.handleDroppedFile(e,
d)}}else t("No File API")},filterFiles:a=>a,handleDroppedFile:u}),n=p.FileInput=new v("FileInput",p.NativeInputWrapper,{initNode:function(a,d){this.inputType="file";this.callSuper(a,d);this.attachToDom(this,"_onChange","change")},setAccept:function(a){this.set("accept",a,!0);this.getIDE().accept=this.accept},setMaxFiles:function(a){this.maxFiles!==a&&(this.set("maxFiles",a,!0),this.getIDE().multiple=1<this.maxFiles)},clearValue:function(){this.getIDE().value=""},_onChange:u}),m=p.Uploader=new v("Uploader",
p.View,{include:[c,p.Disableable,p.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(a,d,b)=>{if(void 0!==FileReader){const e=new FileReader;e.onload=f=>{d(f.target.result)};switch(b){case "text":e.readAsText(a);break;case "arrayBuffer":e.readAsArrayBuffer(a);break;default:e.readAsDataURL(a)}}},isSameFile:(a,d)=>null!=a&&null!=d&&a.name===d.name&&a.type===d.type&&a.size===d.size,createFile:a=>{const d=(new p.URI(a)).file;return{name:d,serverPath:a,size:-1,type:g[p.getExtension(d)]}}},
initNode:function(a,d){const b=this;b.files=[];d.requestFileParam??(d.requestFileParam="file");d.maxFiles??(d.maxFiles=-1);d.responseIsRaw??(d.responseIsRaw=!1);const e=d.accept;delete d.accept;b.callSuper(a,d);b.fileInput=new n(b,{maxFiles:b.maxFiles,accept:e,percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:b.disabled,overflow:"hidden"},[p.SizeToParent,{_onChange:function(f){b.handleFiles(this.getIDE().files,f)}}])},setAccept:function(a){this.fileInput?.setAccept(this.accept)},
getAccept:function(){return this.fileInput?.accept},setMaxFiles:function(a){this.fileInput?.setMaxFiles(this.maxFiles)},getMaxFiles:function(){return this.fileInput?.maxFiles},setValue:function(a){this.clearFiles();if(a){Array.isArray(a)||(a=[a]);for(const d of a)this.addFile(m.createFile(d))}return this.callSuper?this.callSuper(a):a},getValue:function(){return this.value},setDisabled:function(a){this.callSuper(a);this.fileInput?.setDisabled(a)},setUploadUrl:function(a){this.set("uploadUrl",a,!0)},
setRequestFileParam:function(a){this.set("requestFileParam",a,!0)},setResponseIsRaw:function(a){this.set("responseIsRaw",a,!0)},bringSubviewToFront:function(a){a===this.fileInput?this.callSuper(a):this.sendSubviewBehind(a,this.fileInput)},subviewAdded:function(a){this.callSuper(a);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(a,d){this.addFile(a)},filterFiles:function(a){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:a},uploadFiles:function(a,
d){a??=this.uploadUrl;const b=this.files;let e=b.length;for(;e;)this.uploadFile(b[--e],a,d)},makeFetchOptionsForUpload:a=>({method:"POST",body:a}),uploadFile:function(a,d,b){const e=this,f=new FormData;f.append(b??e.requestFileParam,a,a.name.replaceAll("%20"," "));p.doFetch(d??e.uploadUrl,e.makeFetchOptionsForUpload(f),e.responseIsRaw,r=>{e.handleUploadSuccess(a,r)},r=>{e.handleUploadFailure(a,r)})},handleUploadSuccess:function(a,d){a[m.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(a,d);
this.updateValueFromFiles()},handleUploadFailure:(a,d)=>{t("Upload failure:"+d.status+":"+d.message)},parseServerPathFromResponse:(a,d)=>null,addFile:function(a){this.files.push(a);this.updateValueFromFiles();this.fireEvent("addFile",a)},removeFile:function(a){const d=this.files;let b=d.length;for(;b;)if(m.isSameFile(d[--b],a)){d.splice(b,1);this.updateValueFromFiles();this.fireEvent("removeFile",a);break}},updateValueFromFiles:function(){const a=[];var d=this.files;let b=d.length;for(;b;){const e=
d[--b][m.FILE_ATTR_SERVER_PATH];e&&a.push(e)}d=a.length;(this.value=1===d?a[0]:0===d?void 0:a)||this.fileInput.clearValue();this.verifyChangedState();this.form?.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const a=this.files;let d=a.length;for(;d;)this.removeFile(a[--d])}}),k=p.ImageUploader=new v("ImageUploader",m,{extend:{isImageFile:a=>/image/i.test(a.type)},initNode:function(a,d){d.maxFiles=1;this.callSuper(a,d)},filterFiles:function(a){if(k.isImageFile(a)||
this.allowNonImages){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(a)}},addFile:function(a){const d=this,b=k.isImageFile(a);d.callSuper(a);const e=d.imageView=new p.Image(d,{percentOfParentWidth:100,percentOfParentHeight:100,useNaturalSize:!1,imageSize:"contain",imagePosition:"center"},[p.SizeToParent]);e.file=a;const f=r=>{const x=new Image;x.onload=()=>{a.width=x.width;a.height=x.height;e&&!e.destroyed&&d.updateImage(a,e,x.src)};x.src=r};b?-1===a.size?f(a.serverPath):
k.isImageFile(a)&&m.readFile(a,f):-1===a.size?d.updateImage(a,e,a.serverPath):m.readFile(a,r=>{d.updateImage(a,e,r)});return e},removeFile:function(a){this.callSuper(a);const d=this.getSubviews();let b=d.length;for(;b;){const e=d[--b];if(m.isSameFile(e.file,a)){e.destroy();break}}},handleDroppedFile:function(a,d){this.callSuper(a,d);this.uploadFile(a,this.uploadUrl)},updateImage:function(a,d,b){this.nativeWidth=a.width;this.nativeHeight=a.height;d.setImageUrl(b)},getImageSize:function(){return this.files.length?
{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(p=>{const v=(u,t,g,h)=>{g=g.bind(u);"y"!==u.axis&&(g(t,h,"x"),g(t,h,"boundsWidth"));"x"!==u.axis&&(g(t,h,"y"),g(t,h,"boundsHeight"));g(t,h,"visible")};p.SizeToChildren=new JS.Class("SizeToChildren",p.Layout,{initNode:function(u,t){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(u,t)},setAxis:function(u){this.axis!==u&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=u,this.startMonitoringAllSubviews(),this.fireEvent("axis",u),this.update()):this.axis=u)},setPaddingX:function(u){this.paddingX!==
u&&(this.paddingX=u,this.inited&&(this.fireEvent("paddingX",u),this.update()))},setPaddingY:function(u){this.paddingY!==u&&(this.paddingY=u,this.inited&&(this.fireEvent("paddingY",u),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const t=this.parent;if(!t.isBeingDestroyed){const g=this.subviews;var u=g.length;const h=this.axis,c=Math.max;let n,m;if("y"!==h){n=u;for(m=0;n;){const k=g[--n];k.visible&&(m=c(m,k.x+(0<k.boundsWidth?k.boundsWidth:0)))}t.setWidth(m+
this.paddingX)}if("x"!==h){n=u;for(m=0;n;)u=g[--n],u.visible&&(m=c(m,u.y+(0<u.boundsHeight?u.boundsHeight:0)));t.setHeight(m+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(u){v(this,u,this.attachTo,"update")},stopMonitoringSubview:function(u){v(this,u,this.detachFrom,"update")}})})(myt);
(p=>{let v=0;const u=JS.Class,{View:t,SizeToParent:g,RootView:h,theme:c}=p,n=p.Dimmer=new u("Dimmer",t,{include:[g],initNode:function(m,k){this.restoreFocus=!0;k.focusable=k.focusCage=!0;k.percentOfParentWidth??(k.percentOfParentWidth=100);k.percentOfParentHeight??(k.percentOfParentHeight=100);k.visible??(k.visible=!1);k.ignoreLayout??(k.ignoreLayout=!0);this.callSuper(m,k);this.overlay=new t(this,{ignorePlacement:!0,opacity:c.DimmerOpacity,bgColor:c.DimmerColor,percentOfParentWidth:100,percentOfParentHeight:100},
[g]);for(const a of"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" "))this.attachDomObserver(this,"eatMouseEvent",a);h.setupCaptureDrop(this)},destroy:function(){h.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(m){this.restoreFocus=m},eatMouseEvent:p.TRUE_FUNC,show:function(){const m=p.global.focus;this.prevFocus=m.focusedView??m.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(m){this.visible&&(this.setVisible(!1),
!m&&this.restoreFocus&&this.prevFocus?.focus())}});p.ModalPanel=new u("ModalPanel",n,{extend:{getOpenModalPanelCount:()=>v,hasOpenModalPanels:()=>0<v},initNode:function(m,k){const a={name:"content",ignorePlacement:!0},d={...a,align:"center",valign:"middle"};this.defaultPlacement="content";k.sizingStrategy??(k.sizingStrategy="children");k.marginTop??(k.marginTop=c.ModalPanelMarginTop);k.marginLeft??(k.marginLeft=c.ModalPanelMarginLeft);k.marginBottom??(k.marginBottom=c.ModalPanelMarginBottom);k.marginRight??
(k.marginRight=c.ModalPanelMarginRight);k.paddingX??(k.paddingX=c.ModalPanelPaddingX);k.paddingY??(k.paddingY=c.ModalPanelPaddingY);this.callSuper(m,k);switch(this.sizingStrategy){case "children":new p.SizeToChildren(new t(this,d),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new t(this,{...a,x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,
percentOfParentWidth:100,percentOfParentHeight:100},[g]);break;case "basic":new t(this,d);break;default:new t(this,a)}},setSizingStrategy:function(m){this.sizingStrategy=m},setMarginTop:function(m){this.marginTop=m},setMarginLeft:function(m){this.marginLeft=m},setMarginBottom:function(m){this.marginBottom=m},setMarginRight:function(m){this.marginRight=m},setPaddingX:function(m){this.paddingX=m},setPaddingY:function(m){this.paddingY=m},show:function(){this.callSuper();v++},hide:function(m){this.callSuper(m);
v=Math.max(0,v-1)}})})(myt);
(p=>{const v=t=>{t[t.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},u=t=>{const g=t.size,h=t.getIDS();t.setWidth(g);t.setHeight(g);h.width=h.height=g-2*t.borderWidth+"px"};p.Spinner=new JS.Class("Spinner",p.View,{initNode:function(t,g){this.lateAttrs=["spinColor"];g.visible??(g.visible=!1);g.borderWidth??(g.borderWidth=5);g.borderColor??(g.borderColor="#fff");g.borderStyle??(g.borderStyle="solid");g.spinColor??(g.spinColor="#000");this.callSuper(t,g);this.getIDS().borderRadius="50%";u(this);
v(this)},setSize:function(t){this.size!==t&&(this.size=t,this.inited&&u(this))},setSpinColor:function(t){this.spinColor!==t&&(this.getIDS().borderTopColor=this.spinColor=t,this.inited&&this.fireEvent("spinColor",t))},setBorderWidth:function(t){this.borderWidth!==t&&(this.callSuper(t),this.inited&&u(this))},setVisible:function(t){this.visible!==t&&(this.callSuper(t),this.inited&&v(this))}})})(myt);
(p=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),u=h=>{if(Array.isArray(h)){let c=h.length;if(0<c){h.unshift("fa");c++;h[1].startsWith("fa-")||(h[1]="fa-"+h[1]);3<=c&&(h[2]=v[h[2]]??"");if(3<c)for(let n=3;c>n;n++)h[n].startsWith("fa-")||(h[n]="fa-"+h[n]);return'<i class="'+h.join(" ")+'"></i>'}}p.dumpStack("Error making tag");console.error(h);return""},t=h=>{let c=h.properties;c=c?"string"===typeof c?c.split(" "):c.slice():[];c.unshift(h.icon,h.size);h.setHtml(u(c))},g=h=>{for(const c of["Free 400",
"Free 900","Brands 400"])p.registerForFontNotification(h,"Font Awesome 5 "+c)};p.FontAwesome=new JS.Class("FontAwesome",p.Markup,{extend:{makeTag:u,registerForNotification:g},initNode:function(h,c){this.size=0;this.icon="";this.callSuper(h,c);t(this);g(this)},setIcon:function(h){const c=this.icon;this.set("icon",h,!0);this.inited&&c!==h&&t(this)},setSize:function(h){const c=this.size;this.set("size",h,!0);this.inited&&c!==h&&t(this)},setProperties:function(h){this.properties=h;this.fireEvent("properties",
h);this.inited&&t(this)}});p.loadCSSFonts(["https://use.fontawesome.com/releases/v5.15.4/css/all.css"])})(myt);
(p=>{let v,u,t,g,h=0,c=0,n=0,m=255,k=[],a,d,b,e,f,r,x,l,y,E,P,B,D,N,Q,w,q,z,I,O,M,S,U,A,C,G;const J=JS.Class,{View:L,Text:T,ModalPanel:R,SizeToChildren:X,SpacedLayout:aa,WrappingLayout:ca,SelectionManager:ta,Color:ua,LocalStorage:Da,Button:za,TextButton:qa,Draggable:Ea,FontAwesome:{makeTag:ra},theme:Z}=p,{min:la,max:ma}=Math,Ia=new J("DialogButton",qa,{initNode:function(F,H){H.height??(H.height=17);H.paddingTop??(H.paddingTop=3);H.paddingLeft??(H.paddingLeft=10);H.paddingRight??(H.paddingRight=10);
H.activeColor??(H.activeColor="#bbb");H.hoverColor??(H.hoverColor="#ddd");H.readyColor??(H.readyColor="#ccc");H.domClass="mytButtonText";this.callSuper(F,H)}}),Ja=ra(["check"]),Ga=F=>{for(let H of F)7===H?.length&&(H+="ff"),Fa[H]=!0},Fa={},Ka=new J("Swatch",L,{include:[za],initNode:function(F,H){const K=H.width=H.height=16;H.border=Z.border1s9;H.domClass="mytCheckerboardPattern";const V=H.bgColor;this.callSuper(F,H);this.colorView=new L(this,{width:K,height:K,bgColor:V});V===g&&(F=ua.makeColorFromHexString(g),
new T(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>F.red+F.green+F.blue?"#fff":"#000"}))},setBgColor:function(F){this.colorView?.setBgColor(F);this.setTooltip(F)},doActivated:function(){v.setColor(this.colorView.bgColor)},drawHoverState:function(){this.setBorder(Z.border1s3)},drawReadyState:function(){this.setBorder(Z.border1s9)}}),La=p.ColorPicker=new J("ColorPicker",L,{initNode:function(F,H){v=this;v._isReady=!1;let K=H.color??"transparent";delete H.color;t=H.alphaChannel??!1;delete H.alphaChannel;
a=H.palette??[];Ga(a);delete H.palette;u="transparent"===K;v.callSuper(F,H);d=new L(v,{width:160,height:170});new ca(d,{spacing:4,lineSpacing:4});b=new L(v,{x:170,width:139,height:139,border:Z.border1s3},[Ea,{requestDragPosition:function(V,W){b.callSuper(b.x,b.y);const ba=this.getPagePosition();c=parseFloat(ma(0,la(1,(V+this.dragInitX-ba.x)/this.width)));n=parseFloat(1-ma(0,la(1,(W+this.dragInitY-ba.y)/this.height)));u=!1;v.updateUI()}}]);F=new L(b,{width:139,height:139});H=new L(F,{width:139,height:139});
F.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";H.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";e=new L(H,{width:6,height:6,bgColor:"#000",border:[1,"solid","#fff"],roundedCorners:4});f=new L(v,{x:315,y:30,width:24,height:109,border:Z.border1s3},[Ea,{requestDragPosition:function(V,W){this.callSuper(f.x,f.y);h=parseFloat(ma(0,la(1,(W+this.dragInitY-this.getPagePosition().y)/this.height)));u=!1;v.updateUI()}}]);f.getIDS().background=
"linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";r=new L(f,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new L(v,{x:315,width:24,height:24,border:Z.border1s3,tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[za,{doActivated:()=>{v.setColor("transparent")}}]);F=146;t&&(y=new p.LabelSlider(v,{x:170,y:F,width:171,minValue:0,maxValue:255,flipThreshold:55,labelColor:"#fff"},[{setText:function(V,W){W=V.value;if(null==W||
isNaN(W))W=0;V.value=p.formatAsPercentage(W/255,0);this.callSuper(V,!0);m=W;v._isReady&&(u=!1,v.updateUI())}}]),F+=23);x=new p.InputText(v,{x:236,y:F,width:105,height:25,roundedCorners:3,textColor:Z.DialogInputFgColor,border:Z.border1s3,maxLength:11,fontFamily:"monospace"});v.attachToDom(x,"_submitInput","blur");v.attachToDom(x,"_handleKeyDown","keydown");x.getIDS().paddingLeft="6px";F=new L(v,{x:170,y:F,width:60,height:23,border:Z.border1s3,domClass:"mytCheckerboardPattern"});new L(F,{width:30,height:23,
focusIndicator:!1,bgColor:K},[za,{doActivated:()=>{v.setColor(K)}}]);l=new L(F,{x:30,width:30,height:23});if(F=Da.getItem("myt.default"))k=F.split(";"),Ga(k);v.setColor(K);v._isReady=!0},_handleKeyDown:F=>{p.KeyObservable.isEnterKeyEvent(F)&&v._submitInput()},_submitInput:()=>{v.setColor(x.value)},addToPalette:F=>{F&&"transparent"!==F&&!Fa[F]&&(k.unshift(F),k.length=la(k.length,56),Da.setItem("myt.default",k.join(";")))},setColor:F=>{const H=F&&"transparent"!==F;if(t){let K="ff";H&&7<F.length&&(K=
F.slice(7,9),F=F.slice(0,7));y.setValue(parseInt(K,16))}else H&&7<F.length&&(F=F.slice(0,7));H?(F=ua.makeColorFromHexString(F).getHSV(),h=F.h/360,c=F.s,n=F.v,u=!1):u=!0;v.updateUI()},getColor:()=>{if(u)return"transparent";let F="";t&&(F=m.toString(16),2>F.length&&(F="0"+F));return ua.makeColorFromHSV(360*h,100*c,100*n).getHtmlHexString()+F},updateUI:()=>{const F=!u;r.setVisible(F);e.setVisible(F);F&&(e.setX(ma(0,la(1,c)*(b.width+2))-5),e.setY(ma(0,la(1,1-n)*(b.height+2))-5),r.setY(h*(f.height-2)-
1));b.setBgColor(ua.makeColorFromHSV(360*h,100,100).getHtmlHexString());g=v.getColor();x.setValue(g);l.setBgColor(g);v.redrawPalette()},redrawPalette:p.debounce(()=>{d.destroyAllSubviews();const F=new Set;a.push(...k);for(let H of a)if(t||7===H.length)7===H.length&&(H+="ff"),F.has(H)||(new Ka(d,{bgColor:H}),F.add(H))},50)}),Aa=F=>{F=F.split(":");return[ma(0,la(23,parseInt(F[0]))),ma(0,la(60,parseInt(F[1])))]},Ha=new J("SelectableBtn",qa,{include:[p.Selectable],setSelected:function(F){this.callSuper(F);
this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),this.setTextColor("#fff")):this.setTextColor()}}),Ma=new J("TimeBtn",Ha,{initNode:function(F,H){H.width=D?175:49;this.callSuper(F,H)},doActivated:function(){this.callSuper();const F=this.text,H=Aa(F);G.selectById(F);M.setHours(H[0]);M.setMinutes(H[1])}}),Na=new J("DayBtn",Ha,{initNode:function(F,H){H.width=23;H.border=Z.DialogDayBtnBorder;this.callSuper(F,H)},setData:function(F){this.data=F},setIsAnotherMonth:function(F){this.isAnotherMonth=
F},setIsToday:function(F){this.isToday=F},setIsSunday:function(F){this.isSunday=F},setIsSaturday:function(F){this.isSaturday=F},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?Z.DialogDayBtnBorderColorToday:Z.DialogDayBtnBorderColor))},doActivated:function(){this.callSuper();const F=new Date(this.data);F.setHours(M.getHours());F.setMinutes(M.getMinutes());
sa(F)}}),sa=F=>{F.setSeconds(0);F.setMilliseconds(0);var H=6>=Q.length,K;if(H)for(K=7;K--&&!Q.includes(F.getDay());)F.setDate(F.getDate()+1);M=F;const V=G.getODE().scrollTop;var W=new Date,ba=W.getFullYear(),Y=W.getMonth(),da=W.getDate();W.getHours();W.getMinutes();const ha=F.getFullYear(),ia=F.getMonth(),oa=F.getDate();var ja=F.getTime();W=F.getHours();F=F.getMinutes();const va=(new Date(ha,ia,1)).getDay()-N,wa=(new Date(ha,ia+1,0)).getDate(),Ba=(new Date(ha,ia,0)).getDate(),xa=new Date(ha,ia,0),
ya=new Date(ha,ia+2,0);ba=ba==ha&&Y==ia;if(!D){Y=C;Y.deselectAll();Y.destroyAllSubviews();K=new Date(ja);const na=7+N;Y=P.days;U.setText(ha+" "+P.sep+" "+P.months[ia]);K.setMinutes(59);K.setHours(23);K.setSeconds(59);K.setDate(0);S.setVisible(null==w||w<K.getTime());K.setMinutes(0);K.setHours(0);K.setSeconds(0);K.setDate(1);K.setMonth(ia+1);A.setVisible(null==q||q>K.getTime());for(K=0;7>K;K++)new T(C,{width:23,height:20,textAlign:"center",text:Y[(K+na)%7],textColor:"#999"});K=0;let ka=42;0>va&&(K=
-7,ka=35);Y=new Date(ja);Y.setHours(0);Y.setMinutes(0);for(Y.setSeconds(0);K<ka;K++){var ea=K+1-va;const Ca=(K+na)%7,fa=new Na(C);va>K?(fa.setText(Ba+ea),fa.setData(xa.getFullYear()+"/"+(xa.getMonth()+1)+"/"+(Ba+ea)),fa.setIsAnotherMonth(!0),Y.setDate(Ba+ea),Y.setMonth(xa.getMonth()),Y.setYear(xa.getFullYear())):K<va+wa?(fa.setText(ea),fa.setData(ha+"/"+(ia+1)+"/"+ea),Y.setDate(ea),Y.setMonth(ia),Y.setYear(ha)):(fa.setText(ea-wa),fa.setData(ya.getFullYear()+"/"+(ya.getMonth()+1)+"/"+(ea-wa)),fa.setIsAnotherMonth(!0),
Y.setDate(ea-wa),Y.setMonth(ya.getMonth()),Y.setYear(ya.getFullYear()));H&&!Q.includes(Ca)?fa.setDisabled(!0):(0===Ca?fa.setIsSunday(!0):6===Ca&&fa.setIsSaturday(!0),ea===oa&&(C.select(fa),fa.focus()),ba&&ea===da&&fa.setIsToday(!0),ea=new Date(Y.getTime()),ea.setHours(23),ea.setMinutes(59),ea.setSeconds(59),(null!=w&&w>ea.getTime()||null!=q&&q<Y.getTime())&&fa.setDisabled(!0));fa.updateUI()}}if(!B){H=60*I[0]+I[1];da=G;da.deselectAll();da.destroyAllSubviews();let [na,ka]=z;for(Y=new Date(ja);60*na+
ka<H;)ja=new Ma(G,{text:("0"+na).slice(-2)+":"+("0"+ka).slice(-2)}),na===W&&ka===F&&G.select(ja),Y.setHours(na),Y.setMinutes(ka),da=Y.getTime(),(null!=w&&w>da||null!=q&&q<da)&&ja.setDisabled(!0),ka+=O,60<=ka&&(ka-=60,na++);G.scrollYTo(V)}},Oa=p.DatePicker=new J("DatePicker",L,{initNode:function(F,H){E=this;const K={current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null,
...H.opt};delete H.opt;E.callSuper(F,H);P=K.locales[K.locale??"en"];B=K.dateOnly;D=K.timeOnly;N=K.firstDayOfWeek;O=ma(5,la(30,K.minuteInterval));Q=K.allowedDays;Array.isArray(Q)&&0!==Q.length||(Q=[0,1,2,3,4,5,6]);w=Date.parse(K.minDate);w=isNaN(w)?null:w;q=Date.parse(K.maxDate);q=isNaN(q)?null:q;z=Aa(K.minTime);I=Aa(K.maxTime);F=new L(E,{visible:!D});K.showTodayButton&&new qa(F,{width:24,text:ra(["home"]),tooltip:P.today},[{doActivated:()=>{sa(new Date)}}]);S=new qa(F,{width:24,x:28,text:ra(["chevron-left"]),
tooltip:P.prevMonth},[{doActivated:()=>{const V=(new Date(M.getFullYear(),M.getMonth(),0)).getDate();V<M.getDate()&&M.setDate(V);M.setMonth(M.getMonth()-1);sa(M);S.focus()}}]);U=new T(F,{width:100,x:52,textAlign:"center"});A=new qa(F,{width:24,x:152,text:ra(["chevron-right"]),tooltip:P.nextMonth},[{doActivated:()=>{var V=(new Date(M.getFullYear(),M.getMonth()+1,0)).getDate();V<M.getDate()&&M.setDate(V);V=(new Date(M.getFullYear(),M.getMonth()+2,0)).getDate();V<M.getDate()&&M.setDate(V);M.setMonth(M.getMonth()+
1);sa(M);A.focus()}}]);C=new L(E,{y:25,width:175,height:175,visible:!D,maxSelected:1,itemSelectionId:"data"},[ta]);new ca(C,{spacing:2,lineInset:2,lineSpacing:3});G=new L(E,{x:D?0:195,y:D?0:25,width:(D?175:49)+p.DomElementProxy.getScrollbarSize(),height:D?200:175,overflow:"autoy",visible:!B,maxSelected:1,itemSelectionId:"text"},[ta]);new aa(G,{axis:"y",inset:1,spacing:3});E.setWidth(G.visible?G.x+G.width:C.width);sa(K.current??new Date)},getPickedDate:()=>M}),pa=p.Dialog=new J("Dialog",R,{extend:{BUTTON_CLASS:Ia,
WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000",alphaChannel:!1},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",
color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}},locale:"en"}},initNode:function(F,H){H.buttonClass??(H.buttonClass=pa.BUTTON_CLASS);this.callSuper(F,H);F=this.content;F.setRoundedCorners(Z.DialogRadius);F.setBgColor(Z.DialogBgColor);F.setBoxShadow(Z.DialogShadow);F.setBorder(Z.DialogBorder);F.setFocusCage(!0);this.makeCloseButton(F)},setButtonClass:function(F){this.buttonClass=
F},setCallbackFunction:function(F){this.callbackFunction=F},makeButton:function(F,H){const K=this;return new K.buttonClass(F,H,[{doActivated:function(){K.doCallback(this)}}])},makeCloseButton:function(F){return F.closeBtn=this.makeButton(F,{ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ra(["times"]),tooltip:"Close Dialog."})},hide:function(F){this.spinner&&
(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(F)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const F=this.content,H=F.sizeToChildren;F.destroyAllSubviews(K=>"closeBtn"!==K.name);F.setVisible(!0);this.overlay.setBgColor(Z.DimmerColor);this.setCallbackFunction();H.setPaddingY(Z.ModalPanelPaddingY);H.setPaddingX(Z.ModalPanelPaddingX);F.setRoundedCorners(Z.DialogRadius);F.setBgColor(Z.DialogBgColor);F.setBoxShadow(Z.DialogShadow);F.setBorder(Z.DialogBorder)},
doCallback:function(F){const H=this.callbackFunction;H&&H.call(this,F.name)||this.hide()},showBlank:function(F){this.destroyContent();this.content.setVisible(!1);F?.bgColor&&this.overlay.setBgColor(F.bgColor);this.show()},showMessage:function(F,H,K){const V=this.content,W=V.closeBtn;K={...pa.WRAP_TEXT_DEFAULTS,...K};this.destroyContent();this.setCallbackFunction(H);F=V.msg=new T(V,{text:F,whiteSpace:K.whiteSpace,wordWrap:K.wordWrap,fontWeight:K.fontWeight,x:null==K.msgX?Z.ModalPanelPaddingX:K.msgX,
y:null==K.msgY?Z.ModalPanelPaddingY:K.msgY,width:K.width});K.titleText&&(this.setupTitle(V,K.titleText),F.setY(F.y+24));this.show();!1===K.showClose?W.destroyed||W.setVisible(!1):(W.setVisible(!0),W.focus())},showSimple:function(F,H,K,V){K=K??{};const W=this.content,ba=W.closeBtn,Y=K.maxContainerHeight;this.destroyContent();K.bgColor&&W.setBgColor(K.bgColor);K.roundedCorners&&W.setRoundedCorners(K.roundedCorners);K.boxShadow&&W.setBoxShadow(K.boxShadow);K.border&&W.setBorder(K.border);W.sizeToChildren.setPaddingX(1);
this.setCallbackFunction(H);H=W.contentContainer=new L(W,{x:1,y:25,overflow:"auto"},[{setHeight:function(da){da>Y&&(da=Y);this.callSuper(da)}}]);F.call(this,H);new X(H,{axis:"both"});this.show();ba.setVisible(!0);ba.focus();K.titleText&&(this.setupTitle(W,K.titleText),H.setY(this.header.height+1));H.initialFocus?.focus();V?.(this)},showConfirm:function(F,H,K){K={...pa.CONFIRM_DEFAULTS,...K};this.showMessage(F,H,K);this.setupFooterButtons(this.content.msg,K)},showContentConfirm:function(F,H,K,V){K=
{...pa.CONFIRM_DEFAULTS,...K};const W=this.content,ba=W.closeBtn,Y=K.maxContainerHeight;this.destroyContent();W.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=W.contentContainer=new L(W,{x:1,y:25,overflow:"auto"},[{setHeight:function(da){this.callSuper(da>Y?Y:da)}}]);F.call(this,H);new X(H,{axis:"both"});this.show();!1===K.showClose?ba.destroyed||ba.setVisible(!1):(ba.setVisible(!0),ba.focus());this.setupTitle(W,K.titleText);H.setY(this.header.height+1);this.setupFooterButtons(H,K);H.initialFocus?.focus();
V?.(this)},showSpinner:function(F,H){const K=this.content;H={...pa.NO_WRAP_TEXT_DEFAULTS,...H};this.destroyContent();const V=this.spinner=new p.Spinner(K,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==H.msgY?Z.ModalPanelPaddingY:H.msgY});F&&(this.msgTxt=new T(K,{text:F,whiteSpace:H.whiteSpace,wordWrap:H.wordWrap,fontWeight:H.fontWeight,x:null==H.msgX?Z.ModalPanelPaddingX:H.msgX,y:V.y+V.size+Z.ModalPanelPaddingY,width:H.width}));this.show();K.closeBtn.setVisible(!1);this.focus()},updateMessage:function(F){this.msgTxt?.setText(F)},
showColorPicker:function(F,H){const K=this,V=K.content,W=V.closeBtn;H={...pa.COLOR_PICKER_DEFAULTS,...H};K.destroyContent();K.setCallbackFunction(ba=>{switch(ba){case "closeBtn":case "cancelBtn":F.call(K,ba);break;case "confirmBtn":const Y=v.getColor();v.addToPalette(Y);F.call(K,ba,Y)}v.destroy()});v=new La(V,{x:Z.ModalPanelPaddingX,y:Z.ModalPanelPaddingY+24,width:337,height:177+(H.alphaChannel?23:0),color:H.color,alphaChannel:H.alphaChannel,palette:"#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777 #888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")});
K.show();W.setVisible(!0);W.focus();K.setupFooterButtons(v,H);K.setupTitle(V,H.titleText)},showDatePicker:function(F,H){const K=this,V=K.content,W=V.closeBtn;H={...pa.DATE_PICKER_DEFAULTS,...H};K.destroyContent();K.setCallbackFunction(ba=>{switch(ba){case "closeBtn":case "cancelBtn":F.call(K,ba);break;case "confirmBtn":F.call(K,ba,E.getPickedDate())}E.destroy()});E=new Oa(V,{x:Z.ModalPanelPaddingX,y:Z.ModalPanelPaddingY+24,height:195,opt:{current:new Date(H.initialDate??Date.now()),dateOnly:H.dateOnly||
!1,timeOnly:H.timeOnly||!1,locales:H.locales,locale:H.locale}});K.show();W.setVisible(!0);W.focus();K.setupFooterButtons(E,H);K.setupTitle(V,H.timeOnly?H.timeOnlyTitleText:H.titleText)},setupTitle:function(F,H){const K=Z.DialogRadius;(this.header=new L(F,{ignoreLayout:!0,width:F.width,height:24,bgColor:"#eee",roundedTopLeftCorner:K,roundedTopRightCorner:K})).sendToBack();F.title=new T(F,{x:K,y:4,text:H,fontWeight:"bold"})},setupFooterButtons:function(F,H){const K=this.content;var V=Z.ModalPanelPaddingY,
W=V/2;F=K.btnContainer=new L(K,{y:F.y+F.height+V,align:"center"});const ba=["active","hover","ready","text"];V=H.cancelAttrs??{};var Y;(Y=V).name??(Y.name="cancelBtn");let da;(da=V).text??(da.text=H.cancelTxt);for(let ja of ba)ja+="Color",null!=H[ja]&&(V[ja]=H[ja]);Y=this.makeButton(F,V);V=H.confirmAttrs??{};var ha;(ha=V).name??(ha.name="confirmBtn");let ia;(ia=V).text??(ia.text=H.confirmTxt);for(var oa of ba)oa+="Color",ha=oa+"Confirm",null!=H[ha]&&(V[oa]=H[ha]);this.makeButton(F,V);if(oa=H.button)for(const ja of oa)this.makeButton(F,
ja);new X(F,{axis:"y"});new aa(F,{spacing:4,collapseParent:!0});K.sizeToChildren.setPaddingY(W);W=F.y-W;(new L(K,{ignoreLayout:!0,y:W,width:K.width,height:K.height-W,bgColor:"#eee"})).sendToBack();!1===H.showClose&&Y.focus()}})})(myt);
(p=>{const v=JS.Class,u=p.dumpStack,t={},g=(d,b)=>{if(d){const e=d.id;d.id?b(e):u("No ID")}else u("No validator")},h=d=>{g(d,b=>{t[b]=d})},c=p.Validator=new v("Validator",{initialize:function(d){this.id=d},isValid:p.TRUE_FUNC,isFormValid:function(d,b,e){b??={};b.form=d;return this.isValid(d.getValue(),b,e)}}),n=p.RequiredFieldValidator=new v("RequiredFieldValidator",c,{isValid:(d,b,e)=>null==d||""===d||"string"===typeof d&&""===d.trim()?(e?.push("This value is required."),!1):!0}),m=p.EqualsIgnoreCaseValidator=
new v("EqualsIgnoreCaseValidator",c,{isValid:(d,b,e)=>{b=b.form.getRollbackValue();return d&&b&&d.toLowerCase()===b.toLowerCase()?(e?.push("Value must differ by more than just case."),!1):!0}}),k=p.URLValidator=new v("URLValidator",c,{initialize:function(d,b){this.callSuper(d);this.originalRawQuery=b},isValid:function(d,b,e){return(new p.URI(d)).toString(this.originalRawQuery)!==d?(e?.push("Invalid URL."),!1):!0}}),a=p.JSONValidator=new v("JSONValidator",c,{isValid:(d,b,e)=>{try{return JSON.parse(d),
!0}catch(f){return e?.push(f),!1}}});p.RegexValidator=new v("RegexValidator",c,{initialize:function(d,b,e){this.callSuper(d);this.regex=new RegExp(b);this.errorMsg=e},isValid:function(d,b,e){d=this.regex.test(d);!d&&this.errorMsg&&e?.push(this.errorMsg);return d}});p.EqualFieldsValidator=new v("EqualFieldsValidator",c,{initialize:function(d,b,e){this.callSuper(d);this.fieldA=b;this.fieldB=e},isValid:function(d,b,e){const {fieldA:f,fieldB:r}=this;if(f?.inited&&r?.inited){if(d&&f.getValue()===r.getValue())return!0;
e?.push('The field "'+f.key+'" must be equal to the field "'+r.key+'".')}return!1}});p.LengthValidator=new v("LengthValidator",c,{initialize:function(d,b,e){this.callSuper(d);this.min=b;this.max=e},isValid:function(d,b,e){d=d?d.length:0;b=this.min;const f=this.max;return void 0!==b&&b>d?(e?.push("The value must not be less than "+b+" characters long."),!1):void 0!==f&&f<d?(e?.push("The value must not be greater than "+f+" characters long."),!1):!0}});p.NumericRangeValidator=new v("NumericRangeValidator",
c,{initialize:function(d,b,e){this.callSuper(d);this.min=b;this.max=e},isValid:function(d,b,e){if(""===d)return!0;d=Number(d);b=this.min;const f=this.max;return isNaN(d)?(e?.push("Value is not a number."),!1):void 0!==b&&b>d?(e?.push("Value must not be less than "+b+"."),!1):void 0!==f&&f<d?(e?.push("Value must not be greater than "+f+"."),!1):!0}});p.CompoundValidator=new v("CompoundValidator",c,{initialize:function(d,...b){this.callSuper(d);for(d=b.length;d;){let e=b[--d];"string"===typeof e&&((b[d]=
e=t[e])||b.splice(d,1))}this.__v=b},addValidator:function(d){"string"===typeof d&&(d=t[d]);d&&this.__v.push(d)},isValid:function(d,b,e){const f=this.__v,r=f.length;let x=!0,l=0;for(;r>l;)x=f[l++].isValid(d,b,e)&&x;return x}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){h(new n("required"));h(new m("equalsIgnoreCase"));h(new k("url"));h(new a("json"));p.global.register("validators",this)},getValidator:d=>t[d],register:h,unregister:d=>{g(d,b=>{t[b]&&delete t[b]})}})})(myt);
(p=>{const v=JS.Class,{min:u,max:t,round:g,abs:h}=Math,{NOOP:c,View:n}=p,m=new v("SliderThumb",p.SimpleButton,{include:[p.Draggable,p.ArrowKeyActivation],initNode:function(a,d){const b=d.width=a.thumbWidth,e=d.height=a.thumbHeight;d.roundedCorners=u(e,b)/2;d.repeatKeyDown=!0;d.activationKeys=p.global.keys.ARROW_KEYS;d.activeColor="#bbb";d.readyColor="#ccc";d.hoverColor="#ddd";d.boxShadow=[0,0,4,"#666"];this.callSuper(a,d);this["x"===a.axis?"setY":"setX"](a.thumbOffset);this.syncTo(a,"setDisabled",
"disabled");a._syncThumbToValue(this,a.getValue())},setDisabled:function(a){this.callSuper(this.valueFromEvent(a))},setFocused:function(a){this.callSuper(a);a&&this.makeHighestZIndex()},setX:function(a){this.x!==a&&(this.callSuper(a),a=this.parent,"x"===a.axis&&a.syncValueToThumb(this))},setY:function(a){this.y!==a&&(this.callSuper(a),a=this.parent,"y"===a.axis&&a.syncValueToThumb(this))},requestDragPosition:function(a,d){if(!this.disabled){const b=this.parent,e=b.getMinPixelValueForThumb(this),f=
b.getMaxPixelValueForThumb(this),r=b.snapThreshold;let x;"x"===b.axis?(x=this.width/2,d="setX"):(x=this.height/2,a=d,d="setY");if(b.allowSnap(this))for(let l of b.getSnapValuesAsPx())if(l-=x,h(a-l)<=r){a=l;break}this[d](u(t(a,e-x),f-x))}},doKeyArrowLeftOrUp:function(a,d){a?this.parent.nudgeValueLeft(this):this.parent.nudgeValueUp(this);return!0},doKeyArrowRightOrDown:function(a,d){a?this.parent.nudgeValueRight(this):this.parent.nudgeValueDown(this);return!0}}),k=p.BaseSlider=new v("BaseSlider",n,
{include:[p.Disableable],initNode:function(a,d){d.axis??(d.axis="x");"x"===d.axis?(d.width??(d.width=100),d.height??(d.height=18)):(d.width??(d.width=18),d.height??(d.height=100));d.bgColor??(d.bgColor="#999");d.roundedCorners??(d.roundedCorners=9);d.trackInset??(d.trackInset=9);d.trackOutset??(d.trackOutset=9);d.thumbWidth??(d.thumbWidth=16);d.thumbHeight??(d.thumbHeight=16);d.thumbOffset??(d.thumbOffset=1);d.nudgeAmount??(d.nudgeAmount=1);d.snapThreshold??(d.snapThreshold=8);d.snapValues??(d.snapValues=
[]);this.callSuper(a,d)},setAxis:function(a){this.axis=a},setTrackInset:function(a){this.trackInset=a},setTrackOutset:function(a){this.trackOutset=a},setThumbWidth:function(a){this.thumbWidth=a},setThumbHeight:function(a){this.thumbHeight=a},setThumbOffset:function(a){this.thumbOffset=a},setNudgeAmount:function(a){this.nudgeAmount=a},setSnapThreshold:function(a){this.snapThreshold=a},setSnapValues:function(a){this.snapValues=a},getSnapValuesAsPx:function(){const a=[];for(const d of this.snapValues)a.push(this.convertValueToPixels(d));
return a},allowSnap:function(a){var d=a.__lastMousePosition;const b=p.DomElementProxy.getRelativePosition(a.getODE()),e="x"===this.axis;a=e?a.height:a.width;d=e?d.y-b.y:d.x-b.x;return 0<d&&d<a},convertValueToPixels:function(a){const d=this.minValue,b=this.trackInset;return b+(("x"===this.axis?this.width:this.height)-b-this.trackOutset)/(this.maxValue-d)*(a-d)},convertPixelsToValue:function(a){const d=this.minValue,b=this.trackInset;return(this.maxValue-d)/(("x"===this.axis?this.width:this.height)-
b-this.trackOutset)*(a-b)+d},nudgeValueLeft:function(a){this._nudge(a,!1)},nudgeValueUp:function(a){this._nudge(a,!1)},nudgeValueRight:function(a){this._nudge(a,!0)},nudgeValueDown:function(a){this._nudge(a,!0)},_nudge:c,_syncThumbToValue:function(a,d){d=this.convertValueToPixels(d);"x"===this.axis?a.setX(d-a.width/2):a.setY(d-a.height/2)},syncValueToThumb:function(a){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(a,this.convertPixelsToValue("x"===this.axis?a.x+a.width/
2:a.y+a.height/2)),this.__lockSync=!1)},_syncValueToThumb:c,getMinPixelValueForThumb:function(a){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(this.maxValue)}});p.RangeSlider=new v("RangeSlider",k,{include:[p.BoundedRangeComponent],initNode:function(a,d){let b=d.rangeFillSize;const e=d.rangeFillOffset??0,f=d.rangeFillColor??"#666";delete d.rangeFillSize;delete d.rangeFillOffset;delete d.rangeFillColor;this.callSuper(a,d);a=this.rangeFill=
new n(this,{bgColor:f});"x"===this.axis?(b??=this.thumbHeight,a.setY(e+this.thumbOffset),a.setHeight(b)):(b??=this.thumbWidth,a.setX(e+this.thumbOffset),a.setWidth(b));a.setRoundedCorners(b/2);this.thumbLower=new m(this);this.thumbUpper=new m(this);this._syncRangeFillToValue()},setValue:function(a){this.callSuper(a);this.inited&&(this.__lockSync||(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a)),this._syncRangeFillToValue())},setWidth:function(a){const d=
this.width;this.callSuper(a);this.inited&&"x"===this.axis&&this.width!==d&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},setHeight:function(a){const d=this.height;this.callSuper(a);this.inited&&"y"===this.axis&&this.height!==d&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},_syncRangeFillToValue:function(){const a=this.rangeFill;var d=this.getValue();const b=this.convertValueToPixels(d.lower);
d=this.convertValueToPixels(d.upper)-b;"x"===this.axis?(a.setX(b),a.setWidth(d)):(a.setY(b),a.setHeight(d))},_syncThumbToValue:function(a,d){this.callSuper(a,a===this.thumbLower?d.lower:d.upper)},_syncValueToThumb:function(a,d){let b=this.getValueCopy();b[a===this.thumbLower?"lower":"upper"]=d;this.setValue(b);b=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,b);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,b)},_nudge:function(a,d){const b=this.getValueCopy();d=this.nudgeAmount*
(d?1:-1);a===this.thumbLower?b.lower=u(b.lower+d,b.upper):b.upper=t(b.upper+d,b.lower);this.setValue(b)},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(a===this.thumbLower?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(a===this.thumbLower?this.getValue().upper:this.maxValue)}});p.Slider=new v("Slider",k,{include:[p.BoundedValueComponent],initNode:function(a,d){this.callSuper(a,d);this.thumb=new m(this)},setValue:function(a){this.callSuper(a);
this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(a){const d=this.width;this.callSuper(a);this.inited&&"x"===this.axis&&this.width!==d&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(a){const d=this.height;this.callSuper(a);this.inited&&"y"===this.axis&&this.height!==d&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(a,d){this.setValue(d);this._syncThumbToValue(a,this.getValue())},_nudge:function(a,
d){this.setValue(this.getValue()+this.nudgeAmount*(d?1:-1))}});p.LabelSlider=new v("LabelSlider",p.Slider,{initNode:function(a,d){const b=this;d.labelX??(d.labelX=8);d.labelY??(d.labelY=2);d.labelFontSize??(d.labelFontSize="12px");d.labelColor??(d.labelColor="#000");d.flipThreshold??(d.flipThreshold=g((d.maxValue-d.minValue)/2)||0);b.quickSet(["labelX","labelY","labelFontSize","labelColor","flipThreshold"],d);b.callSuper(a,d);const e=b.labelX;b.labelTxt=new p.Text(b,{x:e,y:b.labelY,textColor:b.labelColor,
fontSize:b.labelFontSize},[{initNode:function(f,r){this.targetX=e;this.callSuper(f,r)},updateX:function(f){const r=b.getValue()>=b.flipThreshold?e:b.width-this.width-e;this.targetX!==r&&(this.targetX=r,this.stopActiveAnimators("x"),f?this.setX(r):this.animate({attribute:"x",to:r,duration:250}))}}]);b.syncTo(b,"setText","value")},setWidth:function(a){this.callSuper(a);this.labelTxt?.updateX(!0)},setText:function(a,d){const b=this.labelTxt;b&&(b.setText(a.value),b.updateX(d))}})})(myt);
(p=>{const v=JS.Class,{abs:u,min:t}=Math,{CODE_ENTER:g,CODE_SPACE:h,ARROW_KEYS:c}=p.global.keys,n=k=>{const a="y"===k.axis?"height":"width";k.constrain("__limitToParent",[k,"limitToParent",k,a,k.parent,a])};var m=p.NudgeMixin=new JS.Module("NudgeMixin",{initNode:function(k,a){a.nudgeTargetValue??(a.nudgeTargetValue="value");a.nudgeIncrement??(a.nudgeIncrement=1);a.nudgeMin??(a.nudgeMin=1);a.nudgeMax??(a.nudgeMax=64);this.__nudgeAcc=a.nudgeMin;this.callSuper(k,a)},setNudgeIncrement:function(k){this.set("nudgeIncrement",
u(k),!0)},setNudgeMin:function(k){this.set("nudgeMin",u(k),!0)},setNudgeMax:function(k){this.set("nudgeMax",u(k),!0)},setNudgeTargetValue:function(k){this.set("nudgeTargetValue",k,!0)},nudge:function(k,a){const d=this.nudgeTargetValue;a=this.__nudgeAcc=a?t(this.__nudgeAcc+this.nudgeIncrement,this.nudgeMax):this.nudgeMin;this.set(d,(this.get(d)||0)+(k?1:-1)*a);return!0}});m=new v("BaseDivider",p.SimpleButton,{include:[p.BoundedValueComponent,p.Draggable,p.ArrowKeyActivation,m],initNode:function(k,
a){a.activeColor??(a.activeColor="#bbb");a.hoverColor??(a.hoverColor="#ddd");a.readyColor??(a.readyColor="#ccc");a.axis??(a.axis="x");a.minValue??(a.minValue=0);a.value??(a.value=a.minValue);a.expansionState??(a.expansionState=2);a.focusIndicator??(a.focusIndicator=!1);a.repeatKeyDown??(a.repeatKeyDown=!0);a.activationKeys??(a.activationKeys=[g,h,...c]);"y"===a.axis?(a.height??(a.height=6),a.cursor??(a.cursor="row-resize")):(a.width??(a.width=6),a.cursor??(a.cursor="col-resize"));this.quickSet(["axis"],
a);this.callSuper(k,a);null==a.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&n(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(k){this.expansionState=k},setRestoreValue:function(k){this.restoreValue=k},setLimitToParent:function(k){this.limitToParent!==k&&(this.limitToParent=k,this.inited&&(this.fireEvent("limitToParent",k),null==k?this.releaseConstraint("__limitToParent"):n(this)))},setAxis:function(k){this.inited?console.warn("Axis not updatable after instantiation"):
this.axis=k},setValue:function(k){this.callSuper(k);k=this.value;"y"===this.axis?this.setY(k):this.setX(k)},__limitToParent:function(k){k="y"===this.axis?"height":"width";this.setMaxValue(this.parent[k]-this.limitToParent-this[k])},doActivationKeyDown:function(k,a){this.callSuper(k,a);switch(k){case g:case h:this.doPrimaryAction()}},doKeyArrowLeftOrUp:function(k,a){return this.nudge(!1,a)},doKeyArrowRightOrDown:function(k,a){return this.nudge(!0,a)},nudge:function(k,a){k=this.callSuper(k,a);this.setExpansionState(2);
this.setRestoreValue(this.value);return k},doPrimaryAction:function(){const {restoreValue:k,maxValue:a,minValue:d}=this;let b;switch(this.expansionState){case 0:null!=k&&(this.setExpansionState(1),k===d?k!==a&&this.doPrimaryAction():b=k);break;case 1:null!=a&&(this.setExpansionState(3),this.value===a?this.doPrimaryAction():b=a);break;case 2:null!=d&&(this.setExpansionState(0),this.value===d?this.doPrimaryAction():b=d);break;case 3:null!=k&&(this.setExpansionState(2),k===a?this.doPrimaryAction():b=
k)}this.animateToValue(b)},animateToValue:function(k,a=250){null!=k&&(this.stopActiveAnimators("value"),this.animate({attribute:"value",to:k,duration:a}))},requestDragPosition:function(k,a){this.disabled||(k="y"===this.axis?a:k,a=this.value,k!==a&&(this.setValue(k),this.setRestoreValue(k),this.setExpansionState(a>k?2:1)))}});p.HorizontalDivider=new v("HorizontalDivider",m,{initNode:function(k,a){a.axis="x";this.callSuper(k,a)}});p.VerticalDivider=new v("VerticalDivider",m,{initNode:function(k,a){a.axis=
"y";this.callSuper(k,a)}})})(myt);
(p=>{let v=0;const {Class:u,Module:t}=JS,{min:g,max:h}=Math,{View:c,SpacedLayout:n,Node:{DEFAULT_PLACEMENT:m}}=p,k=w=>{const q=w.columnHeaders,[z,I]=w.sort??["",""];let O=q.length;for(;O;){const M=q[--O];M.columnId===z?M.sortable&&M.setSortState(I):M.setSortState("none")}w.locked||w.doSort()},a=(w,q,z,I)=>{if(0!==q){const U=0<q,A=[];for(var O=w.length;O;){var M=w[--O];M.resizable&&(z?0<M.flex:0===M.flex)&&A.push({hdr:M,limit:(U?M.maxValue:M.minValue)-M.value,amt:0})}w=A.length;if(0<w){for(O=0;0!==
q;){v>=w&&(O=v=0);M=A[v];var S=M.hdr;M.full?++O:(U?(S=g(z?S.flex:1,q),M.amt+S>M.limit&&(S=M.limit-M.amt,M.full=!0)):(S=h(z?-S.flex:-1,q),M.amt+S<M.limit&&(S=M.limit-M.amt,M.full=!0)),M.amt+=S,q-=S);if(O===w)break;++v}for(const C of A)C.hdr.setValue(C.hdr.value+C.amt);I?.(q)}}},d=w=>(w=w.gridController?.getPrevHdr(w))?w.maxValue-w.value+d(w):0,b=w=>(w=w.gridController?.getNextHdr(w))?w.maxValue-w.value+b(w):0,e=w=>(w=w.gridController?.getPrevHdr(w))?w.minValue-w.value+e(w):0,f=w=>(w=w.gridController?.getNextHdr(w))?
w.minValue-w.value+f(w):0,r=(w,q)=>{w=w.gridController?.getPrevHdr(w);var z=0;if(w){z=w.value+q;w.resizable&&w.setValue(z);const I=z-w.value;z=q-I;0>I&&(z+=r(w,I))}return z},x=(w,q)=>{w=w.gridController?.getPrevHdr(w);var z=0;if(w){z=w.value+q;w.resizable&&w.setValue(z);const I=z-w.value;z=q-I;0<I&&(z+=x(w,I))}return z},l=(w,q)=>{if(w=w.gridController?.getNextHdr(w))q=w.value+q,w.resizable&&w.setValue(q),q-=w.value,0>q&&l(w,q)},y=(w,q)=>{if(w=w.gridController?.getNextHdr(w))q=w.value+q,w.resizable&&
w.setValue(q),q-=w.value,0<q&&y(w,q)},E=w=>{let q="";if(w.sortable)switch(w.sortState){case Q.SORT_ORDER_ASC:q="chevron-up";break;case Q.SORT_ORDER_DESC:q="chevron-down"}w.sortIcon.setIcon(q)},P=w=>{const q=w.textView;q?.setWidth(w.width-w.outset-q.x)},B=p.GridController=new t("GridController",{initNode:function(w,q){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(w,q);this.fitHeadersToWidth();k(this)},setMaxWidth:function(w){this.set("maxWidth",
w,!0)},setMinWidth:function(w){this.set("minWidth",w,!0)},setFitToWidth:function(w){this.fitToWidth=w},setSort:function(w){p.areArraysEqual(w,this.sort)||(this.sort=w,this.inited&&(this.fireEvent("sort",w),k(this)))},setLastColumn:function(w){const q=this.lastColumn;q!==w&&(q?.setLast(!1),this.lastColumn=w,w?.setLast(!0))},setLocked:function(w){this.locked=w;if(this.inited&&!w){this.__tempLock=!0;this.fitHeadersToWidth();this.__tempLock=!1;this.setMaxWidth(0);this.setMinWidth(0);this.__skipInvisibleHeaders=
!0;for(const q of this.columnHeaders)this.notifyHdrXChange(q),this.notifyHdrWidthChange(q),this.notifyHdrVisibilityChange(q);this.__skipInvisibleHeaders=!1;this.doSort()}},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(w){w=this.valueFromEvent(w);this.gridWidth!==w&&(this.gridWidth=w,this.inited&&this.fitHeadersToWidth())},setHdrChangeListener:function(w){this.hdrChangeListener=w},doSort:p.NOOP,getPrevHdr:function(w){const q=this.columnHeaders;w=this.getHdrIndex(w);
if(0<w)for(;w;){const z=q[--w];if(z.visible)return z}},getNextHdr:function(w){const q=this.columnHeaders,z=q.length;w=this.getHdrIndex(w)+1;if(0<w&&w<z)for(;z>w;){const I=q[w++];if(I.visible)return I}},hasHdr:function(w){return this.columnHeaders.includes(w)},getHdrIndex:function(w){return this.columnHeaders.indexOf(w)},getHdrById:function(w){for(const q of this.columnHeaders)if(q.columnId===w)return q},getVisibleHdrs:function(){return this.columnHeaders.filter(w=>w.visible)},notifyAddHdr:function(w){this.hasHdr(w)||
(this.columnHeaders.push(w),w.visible&&this.setLastColumn(w),this.fixupResizerCursors())},notifyRemoveHdr:function(w){const q=this.getHdrIndex(w);-1<q&&(this.columnHeaders.splice(q,1),w.visible&&w.last&&this.setLastColumn(this.getPrevHdr(w)),this.fixupResizerCursors())},notifyHdrXChange:function(w){if(!this.isLocked()){for(const q of this.rows)q.notifyHdrXChange(w);this._notifyHdrChange("X",w)}},notifyHdrWidthChange:function(w){if(!this.isLocked()){for(const q of this.rows)q.notifyHdrWidthChange(w);
this._notifyHdrChange("Width",w)}},notifyHdrVisibilityChange:function(w){if((!this.__skipInvisibleHeaders||w.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(w);var q=this.setLastColumn;a:{var z=this.columnHeaders;let I=z.length;for(;I;){const O=z[--I];if(O.visible){z=O;break a}}z=void 0}q.call(this,z);q=w.visible?1:-1;this.setMaxWidth(this.maxWidth+w.maxValue*q);this.setMinWidth(this.minWidth+w.minValue*q);this.fitHeadersToWidth();this.fixupResizerCursors();this._notifyHdrChange("Visibility",
w)}},_notifyHdrChange:function(w,q){const z=this.hdrChangeListener;if(z)z["notifyHdr"+w+"Change"](q)},updateRowsForVisibilityChange:function(w){for(const q of this.rows)q.notifyHdrVisibilityChange(w)},hasRow:function(w){return this.rows.includes(w)},getRowIndex:function(w){return this.rows.indexOf(w)},getRowById:function(w,q=z=>z.model.id===w){return this.rows.find(q)},getPrevRow:function(w){w=this.getRowIndex(w)-1;return this.rows[0>w?this.rows.length-1:w]},getNextRow:function(w){w=this.getRowIndex(w)+
1;return this.rows[w<this.rows.length?w:0]},notifyAddRow:function(w,q){if(!this.hasRow(w)&&(this.rows.push(w),!this.locked)){const z=this.width;for(const I of this.columnHeaders)w.setWidth(z),w.notifyHdrXChange(I),w.notifyHdrWidthChange(I),w.notifyHdrVisibilityChange(I);q||this.doSort()}},notifyRemoveRow:function(w){w=this.getRowIndex(w);-1<w&&this.rows.splice(w,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const w=this.getVisibleHdrs();let q=0;for(const z of w)q=h(q,z.x+z.width);
a(w,this.gridWidth-q,!0,z=>{a(w,z,!1,null)})}},fixupResizerCursors:function(){const w=this.getVisibleHdrs();let q=!0,z=0;w.forEach((S,U)=>{q&&S.isFixed()?S.setResizerCursor("",!0):(q&&(z=U),q=!1,S.restoreResizerCursor())});let I=!0,O=w.length,M=O-1;for(;O>z;){const S=w[--O];I?S.setResizerCursor("",!0):S.restoreResizerCursor();S.isFixed()||(I&&(M=O),I=!1)}z===M&&w[z].setResizerCursor("",!0)}}),D=p.GridColHdr=new t("GridColHdr",{include:[p.BoundedValueComponent],initNode:function(w,q){const z=this,
I=q.resizerCursor??"col-resize";delete q.resizerCursor;q.minValue??(q.minValue=16);q.maxValue??(q.maxValue=1E3);q.value??(q.value=q.minValue);q.resizable??(q.resizable=!0);q.flex??(q.flex=0);q.cellXAdj??(q.cellXAdj=0);q.cellWidthAdj??(q.cellWidthAdj=0);q.sortable??(q.sortable=!0);q.sortState??(q.sortState="none");q.placement??(q.placement=m);z.callSuper(w,q);const O=z.gridController;z.resizer=new c(z,{cursor:I,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},
[p.SizeToParent,p.Draggable,{requestDragPosition:function(M,S){S=M-this.x;if(O.fitToWidth&&(0<S?S=g(S,-f(z),z.maxValue-z.value+d(z)):0>S&&(S=h(S,-b(z),z.minValue-z.value+e(z))),0===S))return;M=z.value+S;z.resizable&&z.setValue(M);M-=z.value;S=M-S;let U=0;0>M?U=r(z,M):0<M&&(U=x(z,M));this.dragInitX+=U;S-=U;O.fitToWidth&&(0>S?l(z,S):0<S&&y(z,S))}}]);O&&(O.notifyAddHdr(z),O.notifyHdrXChange(z),O.notifyHdrVisibilityChange(z));z.setWidth(z.value);z.resizer.setVisible(!(z.last&&z.gridController.fitToWidth))},
destroy:function(w){this.setGridController();this.callSuper(w)},setSortable:function(w){this.set("sortable",w,!0)},setSortState:function(w){this.set("sortState",w,!0)},setResizable:function(w){this.set("resizable",w,!0)},setCellWidthAdj:function(w){this.cellWidthAdj=w},setCellXAdj:function(w){this.cellXAdj=w},setFlex:function(w){this.flex=w},setColumnId:function(w){this.columnId=w},setResizerCursor:function(w,q){const z=this.resizer,I=z.cursor;w!==I&&(q&&(this.__rrc=I),z.setCursor(w))},restoreResizerCursor:function(){const w=
this.__rrc;w&&(this.setResizerCursor(w),this.__rrc=null)},isFixed:function(){return this.minValue===this.maxValue},setLast:function(w){this.last=w;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(w){const q=this.gridController;q!==w&&(q?.notifyRemoveHdr(this),this.gridController=w,this.inited&&w&&(w.notifyAddHdr(this),w.notifyHdrXChange(this),w.notifyHdrWidthChange(this),w.notifyHdrVisibilityChange(this)))},setValue:function(w){this.callSuper(w);
this.inited&&this.setWidth(this.value)},setMinValue:function(w){const q=this.minValue??0,z=this.gridController;this.callSuper(w);this.inited&&q!==this.minValue&&z?.setMinWidth(z.minWidth+this.minValue-q)},setMaxValue:function(w){const q=this.maxValue??0,z=this.gridController;w??=1E3;this.callSuper(w);this.inited&&q!==this.maxValue&&z?.setMaxWidth(z.maxWidth+this.maxValue-q)},setWidth:function(w){const q=this.width;this.callSuper(w);this.inited&&q!==this.width&&this.gridController?.notifyHdrWidthChange(this)},
setX:function(w){const q=this.x;this.callSuper(w);this.inited&&q!==this.x&&this.gridController?.notifyHdrXChange(this)},setVisible:function(w){const q=this.visible;this.callSuper(w);this.inited&&q!==this.visible&&this.gridController?.notifyHdrVisibilityChange(this)}}),N=p.GridRow=new t("GridRow",{initNode:function(w,q){q.placement??(q.placement=m);this.callSuper(w,q);this.gridController?.notifyAddRow(this)},destroy:function(w){this.setGridController();this.callSuper(w)},setGridController:function(w){const q=
this.gridController;q!==w&&(q?.notifyRemoveRow(this),this.gridController=w,this.inited&&w?.notifyAddRow(this))},notifyHdrXChange:function(w){this.getRef(w.columnId)?.setX(w.x+w.cellXAdj)},notifyHdrWidthChange:function(w){this.getRef(w.columnId)?.setWidth(w.width+w.cellWidthAdj)},notifyHdrVisibilityChange:function(w){this.getRef(w.columnId)?.setVisible(w.visible)}}),Q=p.Grid=new u("Grid",c,{include:[B],extend:{SORT_ORDER_ASC:"ascending",SORT_ORDER_DESC:"descending"},initNode:function(w,q){q.overflow??
(q.overflow="autox");q.bgColor??(q.bgColor="#ccc");q.rowSpacing??(q.rowSpacing=1);q.columnSpacing??(q.columnSpacing=1);var z=q.isAutoScrolling;delete q.isAutoScrolling;this.callSuper(w,q);w=this.header=new c(this,{overflow:"hidden"});w.xLayout=new n(w,{locked:!0,collapseParent:!0,spacing:this.columnSpacing});w.yLayout=new p.SizeToChildren(w,{locked:!0,axis:"y"});q=this.sizeHeightToRows;z=this.content=new c(this,{overflow:q?"hidden":"autoy"},z?[p.AutoScroller]:[]);z.yLayout=new n(z,{locked:!0,axis:"y",
spacing:this.rowSpacing,collapseParent:q});this.syncTo(this,"setGridWidth","width");this.syncTo(w,"_updateContentWidth","width");this.constrain("_updateContentHeight",[q?z:this,"height",w,"height",w,"y"])},setSizeHeightToRows:function(w){this.sizeHeightToRows=w},setRowSpacing:function(w){this.rowSpacing!==w&&(this.rowSpacing=w,this.inited&&this.content.yLayout.setSpacing(w))},setColumnSpacing:function(w){this.columnSpacing!==w&&(this.columnSpacing=w,this.inited&&this.header.xLayout.setSpacing(w))},
setLocked:function(w){if(this.inited)for(const q of[this.header.xLayout,this.header.yLayout,this.content.yLayout])w?q.incrementLockedCounter():(q.decrementLockedCounter(),q.update());this.callSuper(w)},_updateContentWidth:function(w){const q=this.content;w=w.value;q.setWidth(w);for(const z of q.getSubviews())z.setWidth(w)},_updateContentHeight:function(w){const {header:q,content:z}=this;w=q.y+q.height;z.setY(w);this.sizeHeightToRows?this.setHeight(w+z.height):z.setHeight(this.height-w)},determinePlacement:function(w,
q){if(w===m){let z;q.isA(N)?z=this.content:q.isA(D)&&(z=this.header);if(z)return q.gridController!==this&&q.setGridController(this),z}return this.callSuper(w,q)},doSort:function(){const [w,q]=this.sort??["",""],z=this.getSortFunction(w,q);if(z){const I=this.content,O=I.yLayout;this.rows.sort(z);I.sortSubviews(z);O.sortSubviews(z);O.update()}},getSortFunction:(w,q)=>{if(w){const z=q===Q.SORT_ORDER_ASC?1:-1;return(I,O)=>{I=I.getRef(w).text;O=O.getRef(w).text;return I>O?z:O>I?-z:0}}}});p.SimpleGridColHdr=
new u("SimpleGridColHdr",p.SimpleTextButton,{include:[D],initNode:function(w,q){q.activeColor??(q.activeColor="#999");q.hoverColor??(q.hoverColor="#bbb");q.readyColor??(q.readyColor="#aaa");q.inset??(q.inset=2);q.sortIconColor??(q.sortIconColor="#666");const z=q.textAlign;delete q.textAlign;q.outset??(q.outset="right"===z||(q.sortable??!0)?14:2);this.callSuper(w,q);this.sortIcon=new p.FontAwesome(this,{align:"right",alignOffset:3,valign:"middle",textColor:this.sortIconColor},[{initNode:function(I,
O){this.callSuper(I,O);this.getIDS().fontSize="0.7em"}}]);this.textView.enableEllipsis();z&&this.textView.setTextAlign(z);this.setDisabled(!this.sortable);P(this);E(this)},setSortIconColor:function(w){this.sortIconColor=w;this.sortIcon?.setTextColor(w)},setSortable:function(w){this.callSuper(w);this.inited&&(w&&this.setOutset(14),this.setDisabled(!w),E(this))},setSortState:function(w){this.callSuper(w);this.inited&&E(this)},setWidth:function(w){this.callSuper(w);this.inited&&P(this)},doActivated:function(){this.disabled||
(this.setSortState(this.sortState===Q.SORT_ORDER_ASC?Q.SORT_ORDER_DESC:Q.SORT_ORDER_ASC),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(p=>{const {Class:v,Module:u}=JS,t=Math,g=t.max,{NOOP:h,View:c,LocalStorage:{setDatum:n,getDatum:m},global:{focus:k,keys:a},getAlphaObjSortFunc:d}=p,b=B=>{const D=B.selectedRow;D&&(D.setSelected(!1),B.set("selectedRow",null,!0))},e=B=>B.__ssk??(B.__ssk="InfiniteGridMixin.sort."+p.hash(B.columnHeaders.map(D=>D.columnId).sort().join(","))),f=p.InfiniteListRow=new u("InfiniteListRow",{include:[p.Reusable],setInfiniteOwner:function(B){this.infiniteOwner=B},setModel:function(B){this.model=B},setClassKey:function(B){this.classKey=
B},notifyRefreshed:h}),r=p.SelectableInfiniteListRow=new u("SelectableInfiniteListRow",{include:[f,p.Selectable]}),x=p.InfiniteList=new v("InfiniteList",c,{initNode:function(B,D){let N=D.rowClasses;delete D.rowClasses;if("function"===typeof N){const Q={};Q["default"]=N;N=Q}D.modelIDName??(D.modelIDName="id");D.numericSort??(D.numericSort=!0);D.ascendingSort??(D.ascendingSort=!0);D.overflow??(D.overflow="autoy");D.bgColor??(D.bgColor="#ccc");D.rowSpacing??(D.rowSpacing=1);D.rowInset??(D.rowInset=0);
D.rowOutset??(D.rowOutset=0);D.rowHeight??(D.rowHeight=30);D.overscrollBehavior??(D.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(B,D);B=this._listView=new c(this);this._scrollAnchorView=new c(B,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(N,B);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(B,D)=>new p.TrackActivesMultiPool(B,
D),setOverscrollBehavior:function(B){this.overscrollBehavior=B;this.getIDS().overscrollBehavior=B},setCollectionModel:function(B){this.collectionModel=B},setModelIDName:function(B){this.modelIDName=B},setRowSpacing:function(B){this.rowSpacing=B;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(B){this.rowHeight=B;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(B){if(0<B&&(this.callSuper(B),this.inited)){B=this._listView;
const D=this.width;B.setWidth(D);for(const N of B.getSubviews())N.setWidth(D)}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx??{})},getVisibleRowForModel:function(B){const D=this.getVisibleRows();let N=D.length;for(;N;){const Q=D[--N];if(Q.model===B)return Q}},getListViewHeight:function(){return this._listView.height},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},getSortFunction:function(){const B=this.modelIDName,D=this.ascendingSort;
return this.numericSort?p.getNumericObjSortFunc(B,D):d(B,D,!1)},getFilterFunction:h,scrollModelIntoView:function(B,D){var N=this.getIndexOfModelInData(B);let Q=!1;if(0<=N){var w=this._rowExtent;const q=this.getIDE().scrollTop,z=q+this.height;N=this.rowInset+N*w;w=N+w;N<=q?(this.scrollYTo(N,!0),Q=!0):w>=z&&(this.scrollYTo(w-this.height,!0),Q=!0);D&&((D=this.getVisibleRowForModel(B))?D.focus():this._focusToModel=B)}return Q},isModelInData:function(B){return 0<=this.getIndexOfModelInData(B)},getNextModel:function(B,
D=!0,N=!0){const Q=this.getListData(),w=Q.length;B=this.getIndexOfModelInData(B);if(0<=B)return B+=1,B>=w?D?Q[0]:Q[w-1]:Q[B];if(N&&0<w)return Q[w-1]},getPrevModel:function(B,D=!0,N=!0){const Q=this.getListData(),w=Q.length;B=this.getIndexOfModelInData(B);if(0<=B)return--B,0>B?D?Q[w-1]:Q[0]:Q[B];if(N&&0<w)return Q[0]},getIndexOfModelInData:function(B){if(B){const D=this.getListData();let N=D.length;for(;N;)if(this.areModelsEqual(D[--N],B))return N}return-1},areModelsEqual:function(B,D){const N=this.modelIDName;
return B[N]===D[N]},getActiveRowForModel:function(B){if(B){const D=this._itemPool.getActives();let N=D.length;for(;N;){const Q=D[--N];if(this.areModelsEqual(Q.model,B))return Q}}},refreshListData:function(B,D){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(B,D)},resetListUI:function(B,D){const N=this.getListData().length,Q=this._listView,w=this._scrollAnchorView;Q.setHeight(N*this._rowExtent-(0<N?this.rowSpacing:0)+this.rowInset+
this.rowOutset);w.setY(Q.height-w.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=D;B||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(B){if(k.focusedView?.isDescendantOf(B)){const D=this.getFocusTrap();D?D.focus():k.clear()}B.setVisible(!1);this._itemPool.putInstance(B)},refreshListUI:function(B){B=this._rowExtent;const D=this.rowInset,N=this.forceFullResetOnNextRefresh;var Q=this.getIDE().scrollTop;const w=this.getListData()??
[];var q=g(0,t.floor((Q-D)/B));Q=t.min(w.length,t.ceil((Q-D+this.height)/B));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==q||this._endIdx!==Q||N){const I=this.width,O=this.rowHeight,M=this._visibleRowsByIdx,S=this._focusToModel;this._startIdx=q;this._endIdx=Q;for(var z in M)if(z<q||z>=Q)this.putRowBackInPool(M[z]),delete M[z];for(z=q;z<Q;z++){q=M[z];const U=w[z],A=this.getClassKey(U);let C=!1;q&&q.classKey===A||(q&&this.putRowBackInPool(q),M[z]=q=this._itemPool.getInstance(A),
q.setInfiniteOwner(this),q.setClassKey(A),q.setWidth(I),q.setHeight(O),q.setY(D+z*B),q.setVisible(!0),C=!0);!N&&q.model&&this.areModelsEqual(q.model,U)?C&&this.updateRow(q):(q.setModel(U),this.updateRow(q));q.notifyRefreshed();q.bringToFront();S&&this.areModelsEqual(S,U)&&(q.focus(),this._focusToModel=null)}}},getClassKey:B=>"default",updateRow:h}),l=p.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",p.SimpleButton,{include:[r,p.ArrowKeyActivation],initNode:function(B,D){D.selectedColor??
(D.selectedColor="#ccf");D.activeColor??(D.activeColor="#f8f8f8");D.hoverColor??(D.hoverColor="#eee");D.readyColor??(D.readyColor="#fff");D.focusIndicator??(D.focusIndicator=!1);D.activationKeys??(D.activationKeys=a.LIST_KEYS);this.callSuper(B,D)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(B){this.callSuper(B);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(B,D){B===a.CODE_ESC?this.selected&&this.infiniteOwner.setSelectedRow():this.callSuper(B,D)},doKeyArrowLeftOrUp:function(B,D){this.infiniteOwner.selectPrevRowForModel(this.model);return!0},doKeyArrowRightOrDown:function(B,D){this.infiniteOwner.selectNextRowForModel(this.model);return!0},doActivationKeyUp:function(B){switch(B){case a.CODE_ENTER:case a.CODE_SPACE:this.doActivated()}}}),
y=p.SelectableInfiniteList=new v("SelectableInfiniteList",x,{setSelectedRow:function(B){const D=this.selectedRow;B!==D&&(D?.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",B,!0),B&&(this.setSelectedRowModel(B.model),B.setSelected(!0)))},setSelectedRowModel:function(B){this.set("selectedRowModel",B,!0);this.scrollModelIntoView(this.selectedRowModel,!1)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(B,D,N){B&&(b(this),
this.setSelectedRowModel(B),this.refreshListUI(),D&&this.getActiveSelectedRow()?.focus())},selectNextRowForModel:function(B,D=!0){this.selectRowForModel(this.getNextModel(B),D,!0)},selectPrevRowForModel:function(B,D=!0){this.selectRowForModel(this.getPrevModel(B),D,!1)},resetListUI:function(B,D){this.isModelInData(this.selectedRowModel)?b(this):this.setSelectedRow();this.callSuper(B,D)},putRowBackInPool:function(B){B.selected&&b(this);this.callSuper(B)},refreshListUI:function(B){B=k.focusedView;this.callSuper();
const D=this.getActiveSelectedRow();D&&(this.set("selectedRow",D,!0),D.setSelected(!0),B&&B!==D||D.focus(!0))}}),E=new u("InfiniteGridRowMixin",{notifyXChange:function(B){this.getRef(B.columnId)?.setX(B.x+B.cellXAdj)},notifyWidthChange:function(B){this.getRef(B.columnId)?.setWidth(B.width+B.cellWidthAdj)},notifyVisibilityChange:function(B){this.getRef(B.columnId)?.setVisible(B.visible)}}),P=new u("InfiniteGridMixin",{setGridHeader:function(B){(this.gridHeader=B)?.setGrid(this)},makeReady:function(B,
D){const N=this.gridHeader;N?(this.forceFullResetOnNextRefresh=D,D=N.persistSortOrder?m(e(N)):void 0,N.setSort(D??B),N.setLocked(!1)):this.refreshListData(!1,D)},getSortFunction:function(){const [B,D]=this.gridHeader.sort??["",""];return B?d(B,D===p.Grid.SORT_ORDER_ASC,!1):this.callSuper()},updateRow:function(B){const D=this.gridHeader;if(D)for(const N of D.columnHeaders)B.notifyXChange(N),B.notifyWidthChange(N),B.notifyVisibilityChange(N)},notifyXChange:function(B){for(const D of this.getVisibleRows())D.notifyXChange(B)},
notifyWidthChange:function(B){for(const D of this.getVisibleRows())D.notifyWidthChange(B)},notifyVisibilityChange:function(B){for(const D of this.getVisibleRows())D.notifyVisibilityChange(B)}});p.InfiniteGridRow=new u("InfiniteGridRow",{include:[f,E]});p.SelectableInfiniteGridRow=new u("SelectableInfiniteGridRow",{include:[r,E]});p.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",l,{include:[E]});p.InfiniteGrid=new v("InfiniteGrid",x,{include:[P]});p.SelectableInfiniteGrid=
new v("InfiniteGrid",y,{include:[P]});p.InfiniteGridHeader=new v("InfiniteGridHeader",c,{include:[p.GridController],initNode:function(B,D){D.columnSpacing??(D.columnSpacing=1);D.persistSortOrder??(D.persistSortOrder=!0);D.overflow="hidden";this.callSuper(B,D);new p.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(B){this.grid=B},setColumnSpacing:function(B){this.columnSpacing=B},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:g(0,this.getVisibleHdrs().length-1)*this.columnSpacing},
setPersistSortOrder:function(B){this.persistSortOrder=B},setHeight:function(B){this.callSuper(B);if(this.inited){B=this.height;for(const D of this.columnHeaders)D.setHeight(B)}},setWidth:function(B){this.callSuper(g(this.minWidth,B));this.inited&&(B=this.width,this.setGridWidth(B),this.grid.setWidth(B))},subviewAdded:function(B){this.callSuper(B);B.isA(p.GridColHdr)&&(B.setGridController(this),B.setHeight(this.height))},doSort:function(){this.persistSort();this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},
persistSort:function(){this.persistSortOrder&&n(e(this),this.sort)},notifyHdrXChange:function(B){this.isLocked()||(this.grid.notifyXChange(B),this._notifyHdrChange("X",B))},notifyHdrWidthChange:function(B){this.isLocked()||(this.grid.notifyWidthChange(B),this._notifyHdrChange("Width",B))},updateRowsForVisibilityChange:function(B){this.grid.notifyVisibilityChange(B);this.isLocked()||this._notifyHdrChange("Visibility",B)}})})(myt);
(p=>{const v=JS.Class,u=p.NOOP,t=p.PanelStackTransition=new v("PanelStackTransition",p.Node,{to:g=>Promise.resolve(g),from:g=>Promise.resolve(g)});p.PanelStack=new v("PanelStack",p.View,{include:[p.SelectionManager],initNode:function(g,h){h.overflow="hidden";h.itemSelectionId??(h.itemSelectionId="panelId");h.maxSelected??(h.maxSelected=1);this.callSuper(g,h);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(g){this.set("transition",g,!0)},
__updateWidth:function(g){this.getActivePanel()?.setWidth(g.value)},__updateHeight:function(g){this.getActivePanel()?.setHeight(g.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(g){return this.getSelectableItem(g)},selectPanel:function(g){this.selectById(g)},doSelected:function(g){g.setWidth(this.width);g.setHeight(this.height)},doStackTransition:function(g){this["doStackTransition"+(g.selected?"To":"From")](g)},doStackTransitionTo:function(g){const h=this;h.doBeforeTransitionTo(g);
const c=h.transition;c?c.to(g).then(n=>{h.doAfterTransitionTo(n)}):(g.makeHighestZIndex(),g.setVisible(!0),h.doAfterTransitionTo(g))},doBeforeTransitionTo:u,doAfterTransitionTo:u,doStackTransitionFrom:function(g){const h=this;h.doBeforeTransitionFrom(g);const c=h.transition;c?c.from(g).then(n=>{h.doAfterTransitionFrom(n)}):(g.setVisible(!1),h.doAfterTransitionFrom(g))},doBeforeTransitionFrom:u,doAfterTransitionFrom:u});p.StackablePanel=new JS.Module("StackablePanel",{include:[p.Selectable],initNode:function(g,
h){h.visible=h.selected=!1;h.bgColor??(h.bgColor="#fff");h.panelId??(h.panelId=h.name);this.callSuper(g,h);this.selected&&this.doStackTransition()},setPanelStack:function(g){this.panelStack=g},getPanelStack:function(){return this.panelStack??this.parent},setPanelId:function(g){this.panelId=g},setSelected:function(g){this.selected!==g&&(this.callSuper(g),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});p.PanelStackFadeTransition=new v("PanelStackFadeTransition",
t,{initNode:function(g,h){h.duration??(h.duration=1E3);this.callSuper(g,h)},setDuration:function(g){this.duration=g},to:function(g){return new Promise((h,c)=>{g.stopActiveAnimators("opacity");g.setVisible(!0);g.animate({attribute:"opacity",to:1,duration:this.duration}).next(n=>{g.makeHighestZIndex();h(g)})})},from:function(g){return new Promise((h,c)=>{g.stopActiveAnimators("opacity");g.animate({attribute:"opacity",to:0,duration:this.duration}).next(n=>{g.setVisible(!1);h(g)})})}});p.PanelStackSlideTransition=
new v("PanelStackSlideTransition",t,{initNode:function(g,h){h.duration??(h.duration=1E3);h.direction??(h.direction="right");this.callSuper(g,h)},setDuration:function(g){this.duration=g},setDirection:function(g){this.direction=g},to:function(g){const h=g.getPanelStack(),c=this.duration;let n,m;switch(this.direction){case "left":m="x";n=h.width;break;case "right":m="x";n=-h.width;break;case "up":m="y";n=h.height;break;case "down":m="y",n=-h.height}g.stopActiveAnimators(m);g.set(m,n);g.setVisible(!0);
return new Promise((k,a)=>{a=d=>{g.makeHighestZIndex();k(g)};0<c?g.animate({attribute:m,to:0,duration:c}).next(a):(g.set(m,0),g.makeHighestZIndex(),k(g))})},from:function(g){const h=g.getPanelStack(),c=this.duration;let n,m;switch(this.direction){case "left":m="x";n=-h.width;break;case "right":m="x";n=h.width;break;case "up":m="y";n=-h.height;break;case "down":m="y",n=h.height}g.stopActiveAnimators(m);return new Promise((k,a)=>{a=d=>{g.setVisible(!1);k(g)};0<c?g.animate({attribute:m,to:n,duration:c}).next(a):
(g.set(m,n),g.setVisible(!1),k(g))})}})})(myt);
(p=>{const v=JS.Module,{NOOP:u,Draggable:t,global:{dragManager:g,mouse:h}}=p,c=(m,k,a)=>{for(const d of[k,a])m["__is"+d]=!1,m["__tmrId"+d]=null},n=p.DragGroupSupport=new v("DragGroupSupport",{initNode:function(m,k){this.__dgs={"*":!0};this.__drpgs={"*":!0};this.__anyDG=this.__anyDRPG=!0;this.callSuper(m,k)},setDragGroups:function(m){const k=this.__dgs={};for(const a in m)k[a]=!0;this.__anyDG=k.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},setDropGroups:function(m){const k=this.__drpgs=
{};for(const a in m)k[a]=!0;this.__anyDRPG=k.hasOwnProperty("*")},getDropGroups:function(){return this.__drpgs},addDragGroup:function(m){m&&(this.__dgs[m]=!0,"*"===m&&(this.__anyDG=!0))},removeDragGroup:function(m){m&&(delete this.__dgs[m],"*"===m&&(this.__anyDG=!1))},isAnyDragGroup:function(){return this.__anyDG},addDropGroup:function(m){m&&(this.__drpgs[m]=!0,"*"===m&&(this.__anyDRPG=!0))},removeDropGroup:function(m){m&&(delete this.__drpgs[m],"*"===m&&(this.__anyDRPG=!1))},isAnyDropGroup:function(){return this.__anyDRPG}});
p.DropSource=new v("DropSource",{include:[t],initNode:function(m,k){k.distanceBeforeDrag??(k.distanceBeforeDrag=2);k.dropParent??(k.dropParent=m.getRoot());this.callSuper(m,k)},setDropClass:function(m){this.dropClass=p.resolveClassname(m)},setDropClassAttrs:function(m){this.dropClassAttrs=m},setDropParent:function(m){this.dropParent=m},startDrag:function(m){const k=this.dropable=this.makeDropable();if(k){const a=k.distanceBeforeDrag;k.distanceBeforeDrag=0;k.doMouseDown(m);k.__doMouseDown(m);k.distanceBeforeDrag=
a}},doMouseUp:function(m){this.callSuper(m);const k=this.dropable;k&&(k.__doMouseUp(m),k.doMouseUp(m),this.dropable=null)},makeDropable:function(){const m=this.dropClass,k=this.dropParent;if(m&&k){const a=p.DomElementProxy.getRelativePosition(this.getIDE(),k.getIDE());return new m(k,{...this.dropClassAttrs,x:a.x??0,y:a.y??0})}}});p.DropTarget=new v("DropTarget",{include:[n],initNode:function(m,k){this.callSuper(m,k);g.registerDropTarget(this)},destroy:function(){g.unregisterDropTarget(this);this.callSuper()},
willAcceptDrop:function(m){return!this.disabled&&this.isVisible()},notifyDragStart:u,notifyDragStop:u,notifyDragEnter:u,notifyDragLeave:u,notifyDrop:u});p.Dropable=new v("Dropable",{include:[t,n],setDropTarget:function(m){this.dropTarget=m},setDropped:function(m){this.dropped=m},setDropFailed:function(m){this.dropFailed=m},willPermitDrop:p.TRUE_FUNC,startDrag:function(m){this.setDropped(!1);this.setDropFailed(!1);g.startDrag(this);this.callSuper(m)},updateDrag:function(m){g.updateDrag(m,this);this.callSuper(m)},
stopDrag:function(m,k){g.stopDrag(m,this,k);this.callSuper(m,k);k?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEntering:function(m){this.setDropTarget(m)},notifyDragLeaving:function(m){this.setDropTarget()},notifyDropped:function(m,k){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:u,notifyDropAborted:u});p.AutoScroller=new v("AutoScroller",{include:[n],initNode:function(m,k){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=
2;this.scrollAcceleration=7;k.overflow??(k.overflow="auto");this.callSuper(m,k);g.registerAutoScroller(this)},destroy:function(){g.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(m){this.scrollBorder=Math.max(1,m)},setScrollFrequency:function(m){this.scrollFrequency=m},setScrollAmount:function(m){this.scrollAmount=m},setScrollAcceleration:function(m){this.scrollAcceleration=m},notifyAutoScrollerDragStart:function(m){m=this.getIDE();(m.scrollHeight>m.clientHeight||m.scrollWidth>
m.clientWidth)&&this.attachToDom(h,"__hndlMove","mousemove",!0)},notifyAutoScrollerDragStop:function(m){this.detachFromDom(h,"__hndlMove","mousemove",!0);c(this,"Up","Down");c(this,"Left","Right")},__hndlMove:function(m){const k=this;let {pageX:a,pageY:d}=m.value;if(k.containsPoint(a,d)){m=k.getPagePosition();const b=k.scrollBorder,e=(f,r)=>{k["__is"+f]&&(k.getIDE()["scroll"+("Up"===f||"Down"===f?"Top":"Left")]+=r*k["__amt"+f],k["__tmrId"+f]=setTimeout(()=>{e(f,r)},k.scrollFrequency))};a-=m.x;d-=
m.y;d<b?(k.__isUp=!0,k.__amtUp=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-d/b))),k.__tmrIdUp||e("Up",-1)):k.height-d<b?(k.__isDown=!0,k.__amtDown=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-(k.height-d)/b))),k.__tmrIdDown||e("Down",1)):c(k,"Up","Down");a<b?(k.__isLeft=!0,k.__amtLeft=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-a/b))),k.__tmrIdLeft||e("Left",-1)):k.width-a<b?(k.__isRight=!0,k.__amtRight=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-(k.width-a)/b))),
k.__tmrIdRight||e("Right",1)):c(k,"Left","Right")}else c(k,"Up","Down"),c(k,"Left","Right")}})})(myt);
(p=>{const {max:v,cos:u,sin:t,PI:g}=Math,h=p.Geometry.degreesToRadians,c=d=>{var b=h(d.startAngle),e=h(d.endAngle);if(b>e){var f=b;b=e;e=f}f=d.__path;var r=d.width/2,x=d.thickness;const l=d.radius,y=l+x;var E=e-b;const P=E+1E-4>=2*g;P&&(b=0,e=g);const B=[r+y*u(b),r+y*t(b)],D=[r+y*u(e),r+y*t(e)];e=[r+l*u(e),r+l*t(e)];b=[r+l*u(b),r+l*t(b)];r=["M"+B.join()];P?r.push("A"+[y,y,0,1,1,D].join(),"A"+[y,y,0,1,1,B].join(),"L"+e.join(),"A"+[l,l,0,1,0,b].join(),"A"+[l,l,0,1,0,e].join()):(E=E%(2*g)>g?1:0,x/=2,
r.push("A"+[y,y,0,E,1,D].join(),d.endCapRounding?"A"+[x,x,0,0,1,e].join():"L"+e.join(),"A"+[l,l,0,E,0,b].join(),d.startCapRounding?"A"+[x,x,0,0,1,B].join():""));r.push("z");f.setAttribute("d",r.join(" "));f.setAttribute("fill",d.color)},n=d=>{const b=2*(d.radius+d.thickness),e=d.__svg;d.setWidth(b);d.setHeight(b);e.setAttribute("viewBox","0 0 "+b+" "+b);e.setAttribute("width",b);e.setAttribute("height",b);c(d)},m=(d,b,e)=>{d[b]!==e&&(d[b]=e,d.inited&&(c(d),d.fireEvent(b,e)))},k=(d,b,e)=>{d[b]!==e&&
(d[b]=e=v(0,e),d.inited&&(n(d),d.fireEvent(b,e)))},a=(d,b)=>{d=document.createElementNS("http://www.w3.org/2000/svg",d);b?.appendChild(d);return d};p.Annulus=new JS.Class("Annulus",p.BackView,{initNode:function(d,b){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(d,b);n(this)},createOurDomElement:function(d){d=this.callSuper(d);var b=Array.isArray(d)?d[1]:d;b=this.__svg=a("svg",b);this.__path=a("path",b);b.style.pointerEvents=
"none";return d},setRadius:function(d){k(this,"radius",d)},setThickness:function(d){k(this,"thickness",d)},setStartAngle:function(d){m(this,"startAngle",d)},setEndAngle:function(d){m(this,"endAngle",d)},setStartCapRounding:function(d){m(this,"startCapRounding",d)},setEndCapRounding:function(d){m(this,"endCapRounding",d)},setColor:function(d){m(this,"color",d)},isColorAttr:function(d){return"color"===d||this.callSuper(d)}})})(myt);
(p=>{const v=JS.Class,u=p.RadialGuage=new v("RadialGuage",p.View,{include:[p.BoundedValueComponent],initNode:function(t,g){g.radius??(g.radius=32);g.thickness??(g.thickness=4);g.startAngle??(g.startAngle=270);g.color??(g.color="#666");const h=g.fontSize??g.radius;this.quickSet(["radius","thickness","startAngle","color"],g);const c=this.thickness,n=this.radius;g.width=g.height=2*n;g.minValue??(g.minValue=0);g.maxValue??(g.maxValue=100);g.value??(g.value=0);g.bgColor??(g.bgColor="#fff");g.roundedCorners=
n+c;g.borderWidth??(g.borderWidth=c);g.borderStyle??(g.borderStyle="solid");g.borderColor??(g.borderColor="#ccc");this.callSuper(t,g);this._progressView=new p.Annulus(this,{x:-c,y:-c,radius:n,thickness:c,startAngle:this.startAngle});this._valueView=new p.Text(this,{fontSize:h+"px",align:"center",valign:"middle"});this.redraw()},setMinValue:function(t){this.callSuper(t);this.inited&&this.redraw()},setMaxValue:function(t){this.callSuper(t);this.inited&&this.redraw()},setValue:function(t){this.callSuper(t);
this.inited&&this.redraw()},redraw:function(){const t=this._progressView,g=this._valueView,h=this.value,c=h/(this.maxValue-this.minValue),n=this.getColorByValue(h,c);t.setEndAngle(this.startAngle+360*c);t.setColor(n);g.setText(this.getTextByValue(h));g.setTextColor(n);this.setTooltip(this.getTooltipByValue(h))},getColorByValue:function(t,g){return this.color},getTooltipByValue:function(t){return this.getTextByValue(t)},getTextByValue:function(t){return""+t}});p.ColorThresholdRadialGuage=new v("ColorThresholdRadialGuage",
u,{initNode:function(t,g){g.thresholdType??(g.thresholdType="percent");g.thresholds??(g.thresholds=[]);this.quickSet(["thresholdType","thresholds"],g);this.thresholds.sort((h,c)=>c.value-h.value);this.callSuper(t,g)},getColorByValue:function(t,g){const h="percent"===this.thresholdType?g:t;for(const c of this.thresholds)if(h>=c.value)return c.color;return this.callSuper(t,g)}})})(myt);
(p=>{let v;var u=JS.Class;const {global:{mouse:t,windowResize:g,dragManager:h},theme:c}=p,{min:n,max:m,round:k}=Math,a=e=>{if(e.tooltip){const f=e._lastPos;if(e.tooltip.parent.containsPoint(f.x,f.y))return!0}e.hideTip();return!1},d=p.BaseTooltip=new u("BaseTooltip",p.View,{include:[p.RootView],initNode:function(e,f){this.tipDelay=this.nextTipDelay=c.BaseTooltipDelay;this.tipHideDelay=c.BaseTooltipHideDelay;f.visible??(f.visible=!1);this.callSuper(e,f)},setTooltip:function(e){this.inited&&(this.tooltip=
e)&&(this.attachToDom(t,"__hndl_mousemove","mousemove",!0),this.attachToDom(e.parent,"hideTip","mousedown",!0),this.attachToDom(e.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(e){const f=this;f._lastPos=p.MouseObservable.getMouseFromEvent(e);a(f)&&(f.__checkTID&&(clearTimeout(f.__checkTID),delete f.__checkTID),f.__checkTID=setTimeout(()=>{delete f.__checkTID;a(f)&&f.showTip()},f.nextTipDelay))},hideTip:function(e){this.__checkTID&&(clearTimeout(this.__checkTID),delete this.__checkTID);
if(e=this.tooltip?.parent)this.detachFromDom(e,"hideTip","mousedown",!0),this.detachFromDom(e,"hideTip","mouseup",!0),this.detachFromDom(t,"__hndl_mousemove","mousemove",!0),this.nextTipDelay=this.tipDelay,this.setVisible(!1);return!0},showTip:function(){h.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}});u=p.Tooltip=new u("Tooltip",d,{initNode:function(e,f){f.edgeSize??(f.edgeSize=c.TooltipEdgeSize);f.edgeColor??(f.edgeColor=c.TooltipEdgeColor);f.shadowSize??
(f.shadowSize=c.TooltipShadowSize);f.shadowColor??(f.shadowColor=c.TooltipShadowColor);f.insetH??(f.insetH=c.TooltipHInset);f.insetV??(f.insetV=c.TooltipVInset);f.tipBgColor??(f.tipBgColor=c.TooltipBgColor);f.tipTextColor??(f.tipTextColor=c.TooltipTextColor);this.callSuper(e,f);this._tipText=new p.Text(this,{fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(e){this.edgeSize=e},setEdgeColor:function(e){this.edgeColor=e},setShadowSize:function(e){this.shadowSize=
e},setShadowColor:function(e){this.shadowColor=e},setInsetH:function(e){this.insetH=e},setInsetV:function(e){this.insetV=e},setTipBgColor:function(e){this.tipBgColor=e},setTipTextColor:function(e){this.tipTextColor=e},showTip:function(){const e=this.tooltip;var f=e.text;const r=e.parent;var x=this._tipText;const l=this.edgeSize,y=this.shadowSize;x.text!==f&&x.setText(f);x.setWidth("auto");var E=n(x.measureNoWrapWidth(),e.maxTextWidth);f=E+2*x.x;const P=f+2*l;x.setWidth(E);x.sizeViewToDom();E=r.getPagePosition();
x=x.height+2*x.y;const B=x+2*l,D=E.y-B+("below"===e.tipvalign?r.height+B:0);E=E.x;switch(e.tipalign){case "right":E-=P;case "farright":E+=r.width;break;case "farleft":E-=P}this.setX(k(n(m(E,0),g.getWidth()-P)));this.setY(k(n(m(D,0),g.getHeight()-B)));this.setWidth(f);this.setHeight(x);this.setBgColor(this.tipBgColor);this.setBorder([l,"solid",this.edgeColor]);this.setBoxShadow([y,y,y,this.shadowColor]);this.callSuper()}});const b=p.TooltipMixin=new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},
setTooltip:function(e){this.callSuper("");this.set("tooltip",e,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(e){this.set("tipAlign",e,!0)},setTipValign:function(e){this.set("tipValign",e,!0)},setMaxTextWidth:function(e){this.set("maxTextWidth",e,!0)},setTipClass:function(e){this.set("tipClass",e,!0)},doSmoothMouseOver:function(e){const f=this.getTooltip();this.callSuper(e);if(e&&f){e=this.tipClass??b.TIP_CLASS;!v||v instanceof e||(v.destroy(),v=null);if(!v){let r=document.getElementById("tooltipDiv");
r||(r=p.DomElementProxy.createElement("div",{position:"absolute"}),p.getElement().appendChild(r));v=new e(r,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:f,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||b.MAX_TEXT_WIDTH})}}})})(myt);
(p=>{const v=Math,{min:u,max:t}=v;p.Path=new JS.Class("Path",{initialize:function(g){this.setVectors(g??[])},setVectors:function(g){this._boundingBox=null;this.vectors=g},copyFrom:function(g){this.vectors=g.vectors.slice();this._boundingBox=null},drawInto:function(g){g.beginPath();const h=this.vectors;let c=h.length,n=0;for(g.moveTo(h[n++],h[n++]);c>n;)g.lineTo(h[n++],h[n++]);g.closePath()},translate:function(g,h){const c=this.vectors;let n=c.length;for(;n;)c[--n]+=h,c[--n]+=g;this._boundingBox=null},
scale:function(g){const h=this.vectors;let c=h.length;for(;c;)h[--c]*=g,h[--c]*=g;this._boundingBox=null},rotate:function(g){const h=v.cos(g);g=v.sin(g);const c=this.vectors,n=c.length;for(let m=0;n>m;){const k=c[m]*h-c[m+1]*g,a=c[m]*g+c[m+1]*h;c[m++]=k;c[m++]=a}this._boundingBox=null},rotateAroundOrigin:function(g,h,c){this.translate(-h,-c);this.rotate(g);this.translate(h,c)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const g=this.vectors;let h=g.length,c,n,m,k;if(2<=
h){m=k=g[--h];for(c=n=g[--h];h;){const a=g[--h],d=g[--h];m=u(a,m);k=t(a,k);c=u(d,c);n=t(d,n)}return this._boundingBox={x:c,y:m,width:n-c,height:k-m}}return this._boundingBox=null},getCenter:function(){const g=this.getBoundingBox();return g?{x:g.x+g.width/2,y:g.y+g.height/2}:null},isPointInPath:function(g,h){"object"===typeof g&&(h=g.y,g=g.x);return p.Geometry.isPointInPath(g,h,this.getBoundingBox(),this.vectors)}})})(myt);
(p=>{const v=console.warn,u=Math.PI,t=u/2,g=3*u/2,h=p.AccessorSupport,c={};for(const n of"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" "))c[n]=function(...m){this.__ctx[n](...m)};for(const n of["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"])c[n]=
function(...m){return this.__ctx[n](...m)};for(const n of"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" "))c[h.generateSetterName(n)]=function(m){this.__ctx[n]=m},c[h.generateGetterName(n)]=function(){return this.__ctx[n]};p.Canvas=new JS.Class("Canvas",p.BackView,{include:[c],initNode:function(n,m){this.quickSet(["willReadFrequently"],m);this.callSuper(n,m)},
createOurDomElement:function(n){n=this.callSuper(n);var m=Array.isArray(n)?n[1]:n;const k=this.__cvs=document.createElement("canvas");k.className="mytUnselectable";m.appendChild(k);k.style.position="absolute";m={};this.willReadFrequently&&(m.willReadFrequently=!0);this.__ctx=k.getContext("2d",m);return n},setWidth:function(n){0>n&&(n=0);this.__cvs.setAttribute("width",n);this.callSuper(n)},setHeight:function(n){0>n&&(n=0);this.__cvs.setAttribute("height",n);this.callSuper(n)},clear:function(){const n=
this.__ctx;n.save();n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,this.width,this.height);n.restore()},dataURItoBlob:function(n,m){n=atob(n.split(",")[1]);const k=n.length,a=[];for(let d=0;d<k;)a.push(n.charCodeAt(d++));return new Blob([new Uint8Array(a)],{type:m})},getDataURL:function(n,m){return this.__cvs.toDataURL(n,m)},getImageFile:function(n,m,k){switch(n){case "png":case "PNG":n="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":n="jpeg";k??=.5;break;default:v("Unexpected image type",
n),n=n.toLowerCase()}const a="image/"+n;k=this.dataURItoBlob(this.getDataURL(a,k),a);m&&(k.name=m+"."+n);return k},circle:function(n,m,k){this.__ctx.arc(n,m,k,0,2*u)},drawRoundedRect:function(n,m,k,a,d,b){const e=this.lineTo.bind(this),f=this.arc.bind(this);b=a+b;d=k+d;this.beginPath();this.moveTo(k,a+n);e(k,b-n);f(k+n,b-n,n,u,t,!0);e(d-n,b);f(d-n,b-n,n,t,0,!0);e(d,a+n);f(d-n,a+n,n,0,g,!0);e(k+n,a);f(k+n,a+n,n,g,u,!0);this.closePath();0<m&&(n-=m,k+=m,d-=m,a+=m,b-=m,this.moveTo(k,a+n),f(k+n,a+n,n,
u,g),e(d-n,a),f(d-n,a+n,n,g,0),e(d,b-n),f(d-n,b-n,n,0,t),e(k+n,b),f(k+n,b-n,n,t,u),this.closePath());return this},drawRectOutline:function(n,m,k,a,d){d=k+d;a=m+a;const b=m+n,e=a-n,f=k+n;n=d-n;const r=this.lineTo.bind(this);this.beginPath();this.moveTo(m,k);r(m,d);r(a,d);r(a,k);r(m,k);r(b,f);r(e,f);r(e,n);r(b,n);r(b,f);this.closePath();return this},drawPartiallyRoundedRect:function(n,m,k,a,d,b,e,f){f=b+f;e=d+e;const r=this.lineTo.bind(this),x=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(d,
b+n);r(d,f-k);0<k&&x(d,f,d+k,f);r(e-a,f);0<a&&x(e,f,e,f-a);r(e,b+m);0<m&&x(e,b,e-m,b);r(d+n,b);0<n&&x(d,b,d,b+n);this.closePath();return this},drawAnnulus:function(n,m,k,a,d,b,e,f=60){const r=p.Color;for(var x of e)"string"===typeof x.color&&(x.color=r.makeColorFromHexString(x.color));1>f&&(v("Invalid segements",f),f=60);f=u/f;x=0;for(var l=e.length-1;x<l;){var y=e[x++];const {angle:z,color:I}=y,{angle:O,color:M}=e[x];var E=Math.round((O-z)/f),P=I.getDiffFrom(M);y.colorDelta={red:P.red/E,green:P.green/
E,blue:P.blue/E}}k=new p.Path([n+k,m,n+a,m]);k.rotateAroundOrigin(d,n,m);a=k.vectors;let [B,D,N,Q]=a,w=0,q=u/360;for(x=0;b>d;){E=B;P=D;l=N;y=Q;d+=f;d>b&&(f+=b-d,q=0,d=b);k.rotateAroundOrigin(f+q,n,m);[B,D,N,Q]=a;this.beginPath();this.moveTo(E,P);this.lineTo(l,y);this.lineTo(N,Q);this.lineTo(B,D);this.closePath();const {color:z,colorDelta:I}=e[x];this.setFillStyle(r.rgbToHex(z.red+w*I.red,z.green+w*I.green,z.blue+w*I.blue,!0));this.fill();0<q&&(k.rotateAroundOrigin(-q,n,m),[B,D,N,Q]=a);w++;d>=e[x+
1].angle&&(w=0,x++)}return this}})})(myt);
(p=>{const {Class:v,Module:u}=JS,{View:t,Text:g,FontAwesome:{makeTag:h}}=p,c=h(["times"]);p.GrowlManager=new v("GrowlManager",t,{include:[p.SizeToWindowHeight],initNode:function(a,d){const b=this;b.growlCount=0;d.overflow??(d.overflow="visible autoy");d.margin??(d.margin=8);d.spacing??(d.spacing=4);d.reverse??(d.reverse=!0);d.width??(d.width=300);d.visible??(d.visible=!1);d.pointerEvents??(d.pointerEvents="none");d.moveDuration??(d.moveDuration=300);d.dedupe??(d.dedupe=!0);d.clearAllThreshold??(d.clearAllThreshold=
0);d.simpleGrowlClass??(d.simpleGrowlClass=p.SimpleGrowl);b.quickSet(["moveDuration","dedupe"],d);b.callSuper(a,d);b.doAlignment();const e=b.moveDuration;new p.SpacedLayout(b,{axis:"y",reverse:b.reverse,spacing:b.spacing},[{updateParent:function(f,r){0<e?(b.stopActiveAnimators("height"),b.animate({attribute:"height",to:r+this.outset-this.spacing,duration:e})):this.callSuper(f,r)},updateSubview:function(f,r,x,l){return 0<e?(r.stopActiveAnimators("y"),r.animate({attribute:"y",to:l,duration:e}),l+r.height+
this.spacing):this.callSuper(f,r,x,l)}}])},setHeight:function(a){this.callSuper(a-2*this.margin)},setVisible:function(a){this.visible!==a&&(this.visible=a,this.getODS().display=a?"block":"none",this.inited&&this.fireEvent("visible",a))},setMargin:function(a){this.set("margin",a,!0);this.getODS().margin=a+"px"},setSpacing:function(a){this.set("spacing",a,!0)},setReverse:function(a){this.set("reverse",a,!0)},doAlignment:function(){const a=this.getODS();a.left=null;a.right="0px"},notifyChanged:function(){this.setVisible(0<
this.getSubviews().length)},subviewAdded:function(a){this.callSuper(a);this.notifyChanged()},subviewRemoved:function(a){this.callSuper(a);this.notifyChanged()},addGrowl:function(a){if(this.dedupe){const d=a.getHash(),b=this.getSubviews();let e=b.length;for(;e;){const f=b[--e];if(f!==a&&f.getHash?.()===d){this.removeGrowl(f);break}}}this.growlCount++;a.setVisible(!0);this.updateClearAll()},removeGrowl:function(a){a.destroy();this.growlCount--;this.updateClearAll()},updateClearAll:function(){const a=
this.clearAllThreshold;0<a&&this.growlCount>=a?(this._clearAllBtn??(this._clearAllBtn=this.makeClearAll()),this._clearAllBtn.setVisible(!0)):this._clearAllBtn?.setVisible(!1)},makeClearAll:function(){const a=this;return new p.TextButton(a,{width:a.width,height:28,text:c+" Dismiss All",fontWeight:"bold",paddingTop:5,zIndex:1,visible:!1,ignoreLayout:!0,pointerEvents:"auto"},[{setVisible:function(d){this.callSuper(d);a.getFirstLayout().setInset(this.visible?this.height+a.spacing:0)},doActivated:function(){const d=
a.getFirstLayout();d.incrementLockedCounter();a.growlCount=0;delete a._clearAllBtn;d.setInset(0);a.destroyAllSubviews();d.decrementLockedCounter()}}])},addSimpleGrowl:function(a,d){this.addGrowl(new this.simpleGrowlClass(this,{text:a,...(d??{})}))}});p.KeepShowingMixin=new u("KeepShowingMixin",{include:[p.MouseOver],initNode:function(a,d){d.initialKeepDuration??(d.initialKeepDuration=-1);d.keepDuration??(d.keepDuration=-1);this.quickSet(["initialKeepDuration","keepDuration"],d);this.callSuper(a,d);
a=this.initialKeepDuration;0<=a&&this.keepShowing(!1,a)},keepShowing:function(a,d){const b=this;d??=b.keepDuration;(b.__keepShowing=a)&&b.__timerIdKS&&clearTimeout(b.__timerIdKS);0<=d&&!a&&(b.__timerIdKS=setTimeout(()=>{("function"===typeof b.isShown?b.isShown():b.visible)&&!b.__keepShowing&&("function"===typeof b.hide?b.hide(!0):b.setVisible(!1))},d))},doMouseOver:function(a){this.keepShowing(!0);this.callSuper(a)},doMouseOut:function(a){this.keepShowing(!1);this.callSuper(a)}});p.KeepShowingChildMixin=
new u("KeepShowingChildMixin",{doMouseOver:function(a){this.callSuper(a);return!0},doMouseOut:function(a){this.callSuper(a);return!0}});p.GrowlMixin=new u("GrowlMixin",{include:[p.SizeToParent,p.KeepShowingMixin],initNode:function(a,d){d.percentOfParentWidth??(d.percentOfParentWidth=100);d.pointerEvents??(d.pointerEvents="auto");d.bgColor??(d.bgColor="#fff");d.roundedCorners??(d.roundedCorners=3);d.boxShadow??(d.boxShadow=[0,0,8,"#00000088"]);d.initialKeepDuration??(d.initialKeepDuration=5E3);d.keepDuration??
(d.keepDuration=1E3);d.showDuration??(d.showDuration=300);d.hideDuration??(d.hideDuration=300);this.quickSet(["showDuration","hideDuration"],d);d.opacity=0;d.visible=!1;this.callSuper(a,d)},setVisible:function(a){const d=this;d.inited?(d.stopActiveAnimators("opacity"),a?(d.animate({attribute:"opacity",to:1,duration:d.showDuration}),d.callSuper(a)):d.animate({attribute:"opacity",to:0,duration:d.hideDuration}).next(b=>{d.parent.removeGrowl(d)})):d.callSuper(a)},getHash:function(){return this.hash??
(this.hash=p.hash(this.getHashableString()))},getHashableString:()=>""+p.generateGuid()});const n=h(["clipboard-check"]),m="maxHeight icon iconSize text padding spacing whiteSpace showCloseButton closeIcon closeOnly showCopyButton copyIcon activeColor hoverColor readyColor".split(" "),k=new v("LocalTxtBtn",p.TextButton,{include:[p.KeepShowingChildMixin],initNode:function(a,d){d.width??(d.width=24);d.height??(d.height=24);d.paddingTop??(d.paddingTop=4);d.activeColor??(d.activeColor="#ccc");d.hoverColor??
(d.hoverColor="#ddd");d.readyColor??(d.readyColor="#eee");this.callSuper(a,d)}});p.SimpleGrowl=new v("SimpleGrowl",t,{include:[p.GrowlMixin],initNode:function(a,d){const b={};d.maxHeight??(d.maxHeight=100);d.spacing??(d.spacing=6);d.padding??(d.padding=12);d.whiteSpace??(d.whiteSpace="normal");d.iconSize??(d.iconSize="24px");d.showCloseButton??(d.showCloseButton=!1);d.showCloseButton&&(d.closeIcon??(d.closeIcon=c),d.closeOnly??(d.closeOnly=!1));d.showCopyButton??(d.showCopyButton=!1);d.showCopyButton&&
(d.copyIcon??(d.copyIcon=n));for(const x of m)b[x]=d[x],delete d[x];b.closeOnly&&(d.initialKeepDuration=d.keepDuration=-1);this.callSuper(a,d);const {maxHeight:e,padding:f,icon:r}=b;r&&(this.iconTxt=new g(this,{y:f,text:r,fontSize:b.iconSize}));a=this.msgTxt=new g(this,{y:f,text:b.text,whiteSpace:b.whiteSpace,layoutHint:1});0<e&&(a.setOverflow("auto"),a.getIDS().maxHeight=e+"px");b.showCopyButton&&(this.copyBtn=this.makeCopyButton(b),a.setUserUnselectable(!1));b.showCloseButton&&(this.closeBtn=this.makeCloseButton(b));
new p.ResizeLayout(this,{inset:f,spacing:b.spacing,outset:f});new p.SizeToChildren(this,{axis:"y",paddingY:f})},makeCloseButton:function(a){const d=this;new k(d,{y:a.padding,text:a.closeIcon,tooltip:"Dismiss this notification.",activeColor:a.activeColor,hoverColor:a.hoverColor,readyColor:a.readyColor},[{doActivated:()=>{d.parent.removeGrowl(d)}}])},makeCopyButton:function(a){const d=this;new k(d,{y:a.padding,text:a.copyIcon,tooltip:"Copy to system clipboard.",activeColor:a.activeColor,hoverColor:a.hoverColor,
readyColor:a.readyColor},[{doActivated:()=>{global.isSecureContext?navigator.clipboard.writeText(p.removeMarkup(d.msgTxt.text,{brToLineFeed:!0})):console.warn("access to clipboard blocked because of insecure context.")}}])},getHashableString:function(){return this.iconTxt?.text+" | "+this.msgTxt.text}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

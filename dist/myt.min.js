var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findLastInternal=function(q,w,u){q instanceof String&&(q=String(q));for(var r=q.length-1;0<=r;r--){var h=q[r];if(w.call(u,h,r,q))return{i:r,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(q,w,u){if(q==Array.prototype||q==Object.prototype)return q;q[w]=u.value;return q};$jscomp.getGlobal=function(q){q=["object"==typeof globalThis&&globalThis,q,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var w=0;w<q.length;++w){var u=q[w];if(u&&u.Math==Math)return u}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(q,w,u){if(!u||null!=q){u=$jscomp.propertyToPolyfillSymbol[w];if(null==u)return q[w];u=q[u];return void 0!==u?u:q[w]}};
$jscomp.polyfill=function(q,w,u,r){w&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(q,w,u,r):$jscomp.polyfillUnisolated(q,w,u,r))};$jscomp.polyfillUnisolated=function(q,w,u,r){u=$jscomp.global;q=q.split(".");for(r=0;r<q.length-1;r++){var h=q[r];if(!(h in u))return;u=u[h]}q=q[q.length-1];r=u[q];w=w(r);w!=r&&null!=w&&$jscomp.defineProperty(u,q,{configurable:!0,writable:!0,value:w})};
$jscomp.polyfillIsolated=function(q,w,u,r){var h=q.split(".");q=1===h.length;r=h[0];r=!q&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var d=0;d<h.length-1;d++){var e=h[d];if(!(e in r))return;r=r[e]}h=h[h.length-1];u=$jscomp.IS_SYMBOL_NATIVE&&"es6"===u?r[h]:null;w=w(u);null!=w&&(q?$jscomp.defineProperty($jscomp.polyfills,h,{configurable:!0,writable:!0,value:w}):w!==u&&(void 0===$jscomp.propertyToPolyfillSymbol[h]&&(u=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[h]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(h):$jscomp.POLYFILL_PREFIX+u+"$"+h),$jscomp.defineProperty(r,$jscomp.propertyToPolyfillSymbol[h],{configurable:!0,writable:!0,value:w})))};$jscomp.polyfill("Array.prototype.findLast",function(q){return q?q:function(w,u){return $jscomp.findLastInternal(this,w,u).v}},"es_next","es3");$jscomp.typedArrayFindLast=function(q){return q?q:function(w,u){return $jscomp.findLastInternal(this,w,u).v}};$jscomp.polyfill("Int8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float64Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
(q=>{let w;var u=e=>{let l=e.length;for(;l;){const k=e[--l];w=k.ver??k.id;if(k.str?.includes(k.sub)||k.prop)return k.id}};var r=e=>{const l=e.indexOf(w);if(0<=l)return parseFloat(e.slice(l+w.length+1))};const h=navigator.userAgent,d=navigator.platform;r=q.BrowserDetect={browser:u([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:h,sub:"Firefox",id:"Firefox"},{str:h,sub:"Chrome",id:"Chrome"},{str:h,sub:"MSIE",id:"Explorer",ver:"MSIE"}])??
"UNKNOWN",version:r(h)||r(navigator.appVersion)||"UNKNOWN",os:u([{str:h,sub:"iPhone",id:"iPhone/iPod"},{str:d,sub:"Linux",id:"Linux"},{str:d,sub:"Mac",id:"Mac"},{str:d,sub:"Win",id:"Windows"}])??"UNKNOWN"};switch(r.browser){case "Chrome":case "Safari":q="WebKit";break;case "Explorer":q="MS";break;case "Firefox":q="Moz";break;case "Opera":q="O";break;default:q="UNKNOWN"}u=q.toLowerCase();r.prefix={dom:q,lowercase:u,css:"-"+u+"-",js:u[0].toUpperCase()+u.substr(1)}})(global);
Date.prototype.format=Date.prototype.format??(()=>{const {abs:q,floor:w,ceil:u}=Math,r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h="January February March April May June July August September October November December".split(" "),d="Sun Mon Tue Wed Thu Fri Sat".split(" "),e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l=g=>(10>g?"0":"")+g,k=(g,a)=>{g=g.getTimezoneOffset();return(0<g?"-":"+")+l(w(q(g/60)))+(a?":":"")+(0==q(g%60)?"00":l(q(g%60)))},b={d:g=>
l(g.getDate()),D:g=>d[g.getDay()],j:g=>g.getDate(),l:g=>e[g.getDay()],N:g=>0==g.getDay()?7:g.getDay(),S:g=>{g=g.getDate();return 1==g%10&&11!=g?"st":2==g%10&&12!=g?"nd":3==g%10&&13!=g?"rd":"th"},w:g=>g.getDay(),z:g=>{const a=new Date(g.getFullYear(),0,1);return u((g-a)/864E5)},W:g=>{const a=new Date(g.valueOf());g=(g.getDay()+6)%7;a.setDate(a.getDate()-g+3);g=a.valueOf();a.setMonth(0,1);4!==a.getDay()&&a.setMonth(0,1+(4-a.getDay()+7)%7);return l(1+u((g-a)/6048E5))},F:g=>h[g.getMonth()],m:g=>l(g.getMonth()+
1),M:g=>r[g.getMonth()],n:g=>g.getMonth()+1,t:g=>{let a=g.getFullYear();g=g.getMonth()+1;12===g&&(a=a++,g=0);return(new Date(a,g,0)).getDate()},L:g=>{g=g.getFullYear();return 0==g%400||0!=g%100&&0==g%4},o:g=>{const a=new Date(g.valueOf());a.setDate(a.getDate()-(g.getDay()+6)%7+3);return a.getFullYear()},Y:g=>g.getFullYear(),y:g=>(""+g.getFullYear()).substr(2),a:g=>12>g.getHours()?"am":"pm",A:g=>12>g.getHours()?"AM":"PM",B:g=>w(1E3*((g.getUTCHours()+1)%24+g.getUTCMinutes()/60+g.getUTCSeconds()/3600)/
24),g:g=>g.getHours()%12||12,G:g=>g.getHours(),h:g=>l(g.getHours()%12||12),H:g=>l(g.getHours()),i:g=>l(g.getMinutes()),s:g=>l(g.getSeconds()),e:g=>/\((.*)\)/.exec((new Date).toString())[1],I:g=>{let a=null,f=0;for(;12>f;){const c=(new Date(g.getFullYear(),f++,1)).getTimezoneOffset();if(null===a)a=c;else if(c<a){a=c;break}else if(c>a)break}return g.getTimezoneOffset()==a|0},O:g=>k(g,!1),P:g=>k(g,!0),T:g=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:g=>60*-g.getTimezoneOffset(),c:g=>g.format("Y-m-d\\TH:i:sP"),
r:g=>g.toString(),U:g=>g.getTime()/1E3,x:g=>g.toLocaleDateString(),X:g=>g.toLocaleTimeString()};return function(g){return g.replace(/(\\?)(.)/g,(a,f,c)=>""===f&&b[c]?b[c](this):c)}})();
(q=>{const w=(f,c)=>{var n=f.__mct__.get(c);if(n)return n.slice();const v=[];if(n=f.__anc__){const t=n.length;for(let p=0;p<t;){const A=n[p++].__fns__;A.has(c)&&v.push(A.get(c))}}else{const t=f.__anc__=[],p=A=>{const I=A.__inc__,z=I.length;for(let D=0;D<z;)p(I[D++]);t.includes(A)||(t.push(A),A=A.__fns__,A.has(c)&&v.push(A.get(c)))};p(f)}f.__mct__.set(c,v.slice());return v},u=(f,c)=>{const n=f.callable;return f.__hs?function(...v){const t=this.callSuper,p=w(c,f.name);let A=p.length-1;if(0===A)t&&delete this.callSuper;
else{const z=v.length,D=this.callSuper=(...J)=>{for(let P=J.length;P<z;)J[P]=v[P++];0===--A&&delete this.callSuper;J=p[A].callable.call(this,...J);this.callSuper=D;A++;return J}}const I=n.call(this,...v);t?this.callSuper=t:delete this.callSuper;return I}:n},r=(f,c)=>{c=c??f;if(c===f){f.__anc__=null;f.__mct__=new Map;var n=f.__dep__;for(var v=n.length;0<v;)r(n[--v])}n=c.__tgt__;v=f.__inc__;const t=v.length;for(let p=0;p<t;)r(v[p++],c);for(const [p,A]of f.__fns__)f=A instanceof e?u(A,c):A,n[p]!==f&&
(n[p]=f)},h=f=>f.__meta__??(f.__meta__=new l(null,null,f)).include(f.klass,!0),d=f=>{const c=function(...n){return this.initialize(...n)??this};c.prototype=Object.create(f.prototype);return c},e=d(Object),l=q.Module=d(Object);e.prototype.initialize=function(f,c,n){this.module=f;this.name=c;this.callable=n;this.__hs=n.toString().includes("callSuper")};var k=l.prototype;k.initialize=function(f,c,n){this.__inc__=[];this.__dep__=[];this.__fns__=new Map;this.__mct__=new Map;this.__tgt__=n;f&&(this.__displayName=
f);this.include(c,!0)};k.include=function(f,c){if(f){if(f.__fns__)this.__inc__.push(f),f.__dep__.push(this);else{var n=f.extend,v=f.include;n&&(n.__fns__||"function"!==typeof n)&&this.extend(n);if(v&&(v.__fns__||"function"!==typeof v)){n=v.length;for(let t=0;t<n;)this.include(v[t++],!0)}for(const t of Object.keys(f))if(v=f[t],"extend"!==t&&"include"!==t||!v.__fns__&&"function"===typeof v)this.__fns__.has(t)?(console.warn('JS.Module already has field: "'+t+'" auto generating a JS.Module from the field for inclusion.'),
this.include(new l("Auto_"+t,{[t]:v}),!1)):this.__fns__.set(t,v?.__fns__||"function"!==typeof v?v:new e(this,t,v))}!0!==c&&r(this)}return this};k.includes=function(f){if(f===this)return!0;const c=this.__inc__,n=c.length;for(let v=0;v<n;)if(c[v++].includes(f))return!0;return!1};k.instanceMethod=function(f){return w(this,f).pop()};const b=new l("Kernel",{extend:function(f){h(this).include(f)},isA:function(f){return"function"===typeof f&&this instanceof f||h(this).includes(f)}}),g=q.Class=d(l),a=g.prototype;
a.initialize=function(f,c,n){"function"!==typeof c&&(n=c,c=Object);l.prototype.initialize.call(this,f);f=d(c);for(const v in this)f[v]===this[v]||f.hasOwnProperty(v)||(f[v]=this[v]);f.prototype.constructor=f.prototype.klass=f;h(f).include(c.__meta__);f.__tgt__=f.prototype;c=c===Object?{}:c.__fns__?c:new l(c.prototype,!0);f.include(b,!0).include(c,!0).include(n,!0);r(f);return f};k=(f,c)=>{f.__inc__=[];f.__dep__=[];const n=f.__tgt__=f.prototype,v=f.__fns__=new Map;for(const D of Object.keys(n)){var t=
v,p=t.set;var A=f;var I=D,z=n[D];A=z?.__fns__||"function"!==typeof z?z:new e(A,I,z);p.call(t,D,A)}n.constructor=n.klass=f;for(const D in a)f[D]===a[D]||f.hasOwnProperty(D)||(f[D]=a[D]);f.include(c);f.constructor=f.klass=g};k(e,b);k(l,b);k(g,l);r(h(e));r(h(l));h(g).include(l.__meta__);q.Singleton=new g("Singleton",{initialize:(f,c,n)=>new (new g(f,c,n))})})(global.JS={});
(q=>{class w extends Error{constructor(y,B,...G){super(...G);this.name="FetchError";this.status=y;this.url=B}}let u=0,r,h={},d={},e={};const l=console.warn,k=Math,{abs:b,min:g,max:a,pow:f}=k,c=Array.isArray,n=document,v=n.head,t=n.createElement.bind(n),p={},A={"":!0},I=n.fonts,z=y=>{const B=y.family.split('"').join("");for(const G of[B,B+" "+y.weight])if(!A[G]){A[G]=!0;const F=p[G]??[];for(;F.length;)(y=F.pop())&&!y.destroyed&&y.isVisible()&&(y.sizeViewToDom(),y.notifyFontLoaded?.(B))}},D={},J={},
P=/\{\{plural:\$(\d+)\|([^|]+)\|([^}]+)\}\}/g,R=/\$(\d+)/g,m=(y,B=JSON.stringify,G=Infinity)=>{const F=new Map;return(...N)=>{var S=B(N);if(F.has(S))return F.get(S);N=y(...N);F.set(S,N);F.size>G&&(S=F.keys().next().value,F.delete(S));return N}},x=(y,B,G=new WeakMap,F=new WeakMap)=>{if(y!==B){if(y instanceof Date&&B instanceof Date)return y.getTime()===B.getTime();if(null===y||null===B||"object"!==typeof y||"object"!==typeof B)return!1;if(G.has(y))return F.get(B)===G.get(y);G.set(y,B);F.set(B,y);var N=
Array.isArray(y),S=Array.isArray(B);if(N!==S)return!1;if(N){var O=y.length;if(O!==B.length)return!1;for(N=0;N<O;N++)if(!x(y[N],B[N],G,F))return!1;return!0}N=Object.keys(y);S=Object.keys(B);if(N.length!==S.length)return!1;for(O of N)if(!Object.prototype.hasOwnProperty.call(B,O)||!x(y[O],B[O],G,F))return!1}return!0},C=/\\([{}])|\{([^{}]+)\}/g,M=/(,|\r?\n|\r|^)(?:"((?:\\.|""|[^\\"])*)"|([^,"\r\n]*))/gi,Q=/[\\"](.)/g,L=q.myt={version:2.02306021558E7,generateGuid:()=>++u,theme:{TextButtonActive:"#ddd",
TextButtonHover:"#eee",TextButtonReady:"#fff",DialogRadius:12,DialogBgColor:"#fff",DialogInputFgColor:"#333",DialogShadow:[0,4,20,"#666"],DialogBorder:[1,"solid","#fff"],DialogDayBtnBorder:[1,"solid","#fff"],DialogDayBtnBorderColor:"#fff",DialogDayBtnBorderColorToday:"#090",DimmerOpacity:.35,DimmerColor:"#000",ModalPanelPaddingX:20,ModalPanelPaddingY:15,ModalPanelMarginTop:40,ModalPanelMarginLeft:40,ModalPanelMarginBottom:40,ModalPanelMarginRight:40,TabSliderContainerSpacing:1,TabInset:8,TabOutset:8,
TabContainerInset:0,TabContainerSpacing:1,BaseTooltipDelay:500,BaseTooltipHideDelay:100,TooltipEdgeColor:"#444",TooltipBgColor:"#444",TooltipTextColor:"#eee",TooltipShadowColor:"#00000033",TooltipEdgeSize:0,TooltipShadowSize:2,TooltipHInset:6,TooltipVInset:3,focusShadow:[0,0,7,"#666"],disabledOpacity:.5,border1s3:[1,"solid","#333"],border1s9:[1,"solid","#999"]},hash:y=>y.split("").reduce((B,G)=>{B=(B<<5)-B+G.charCodeAt(0);return B&B},0),addEventListener:(y,B,G,F,N)=>{y.addEventListener(B,G,{capture:F||
!1,passive:N||!1})},removeEventListener:(y,B,G,F)=>{y.removeEventListener(B,G,F||!1)},resolveName:(y,B)=>{if(y&&0!==y.length){B=B??global;var G=c(y)?y:y.split("."),F=G.length;for(let N=0;N<F;N++)if(B=B[G[N]],null==B){l("resolveName failed for",y,"at part",N,G[N]);return}return B}},resolveClassname:y=>{"string"===typeof y&&(y=L.resolveName(y));return y&&"function"===typeof y.isA&&y.isA(JS.Class)?y:null},getExtension:y=>y?(y=y.split("."),1<y.length?y.pop():null):null,loadScript:function(y,B,G,F){const N=
this._loadedScripts??(this._loadedScripts={});let S=N[y];if(!0===S)B?.(!0);else if(!1===S)B?.(!1);else if(Array.isArray(S))B&&S.push(B);else{S=N[y]=[];B&&S.push(B);const O=t("script");O.type="text/javascript";O.async=!1;F&&(O.integrity=F,O.crossOrigin="anonymous");const W=Y=>{O.onload=O.onreadystatechange=O.onerror=null;for(const aa of S)aa(Y);N[y]=Y};O.onerror=()=>{W(!1)};O.onload=O.onreadystatechange=()=>{O.readyState&&"complete"!==O.readyState||W(!0)};O.src=y+(G?"":(y.includes("?")?"&":"?")+"cacheBust="+
Date.now());v.appendChild(O)}},dumpStack:(y,B)=>{let G;"string"===typeof y&&(G=y,y=null);L.global.error.notify(B||"error",null,G,y)},getRandom:y=>{const B=k.random();return y?a(0,g(y(B),.9999999999)):B},getRandomArbitrary:(y,B,G)=>{const F=g(y,B);return L.getRandom(G)*(a(y,B)-F)+F},getRandomInt:(y,B,G)=>{const F=g(y,B);return k.floor(L.getRandom(G)*(a(y,B)-F+1)+F)},areFloatsEqual:(y,B,G)=>{const F=b(y),N=b(B);return b(y-B)<=(F>N?N:F)*(null==G?1E-6:b(G))},areArraysEqual:(y,B)=>{if(y!==B){if(null===
y||null===B||"object"!==typeof y||"object"!==typeof B)return!1;let G=y.length;if(G!==B.length)return!1;for(;G;)if(y[--G]!==B[G])return!1}return!0},shallowEqual:(y,B)=>{if(y!==B){if(null===y||null===B||"object"!==typeof y||"object"!==typeof B)return!1;const G=Object.keys(y),F=Object.keys(B);if(G.length!==F.length)return!1;for(const N of G)if(y[N]!==B[N])return!1}return!0},deepEqual:x,stableStringify:y=>JSON.stringify(y,(B,G)=>{if(G&&"object"===typeof G&&!Array.isArray(G)){B={};for(const F of Object.keys(G).sort())B[F]=
G[F];return B}return G}),getElement:(y,B)=>n.getElementsByTagName(y||"body")[0<B?B:0],loadFontFaces:(y,B)=>{Promise.all(y.map(({family:G,url:F,options:N})=>(new FontFace(G,"url("+F+")",N)).load())).then(G=>{if(I){for(const F of G)I.add(F),z(F);B?.(G)}})},loadFontFace:(y,B,G={},F)=>{y=new FontFace(y,"url("+B+")",G);y.loaded.then(N=>{I&&(I.add(N),z(N),F?.(N))});y.load()},registerForFontNotification:(y,B)=>{A[B]?y&&!y.destroyed&&y.isVisible()&&(y.sizeViewToDom(),y.notifyFontLoaded?.(B)):(p[B]??(p[B]=
[])).push(y)},createBaseFontCSSRule:y=>{L.addCSSRule(L.createStylesheet(),"body, input","font-family:"+y)},loadCSSFonts:y=>{y?.forEach(L.createStylesheetLink)},createStylesheetLink:y=>{if(y){let B=e[y];B?console.warn("stylesheet already exists",y):(B=e[y]=t("link"),B.rel="stylesheet",B.href=y,v.appendChild(B));return B}},createStylesheet:()=>{const y=t("style");v.appendChild(y);return y.sheet},addCSSRule:(y,B,G,F)=>{y.insertRule(B+"{"+G+"}",F??0)},removeCSSRules:y=>{let B=y.cssRules.length;for(;B;)y.deleteRule(--B)},
createInputPlaceholderCSSRule:(y,B,G,F=1)=>{let N=y.__sheet;N?L.removeCSSRules(N):N=y.__sheet=L.createStylesheet();y=y.getODE();y=y.id||(y.id="id"+ ++u);const S=[];B&&S.push("color:"+B);G&&S.push("font-family:"+G);F&&S.push("opacity:"+F);L.addCSSRule(N,"#"+y+"::placeholder",S.join("; "))},isSorted:(y,B)=>{const G=y.length;for(let F=1;F<G;F++)if(0<B(y[F-1],y[F]))return!1;return!0},chainSortFunc:(...y)=>(B,G)=>{for(const F of y){const N=F(B,G);if(0!==N)return N}return 0},getAlphaObjSortFunc:m((y,B,
G,F)=>{const N=B?1:-1,S=L.I18N.getLocale(),O={sensitivity:G?"accent":"variant"};return(W,Y)=>{W=W[y];Y=Y[y];F?("string"!==typeof W&&(W=""+W),"string"!==typeof Y&&(Y=""+Y)):(W=W||"",Y=Y||"");return W.localeCompare(Y,S,O)*N}}),getNumericObjSortFunc:m((y,B)=>{const G=B?1:-1;return(F,N)=>{F=F[y]||0;N=N[y]||0;return(F-N)*G}}),csvStringToArray:(y,B)=>{if(!y)return[];const G=[[]];let F;for(;F=M.exec(y);)F[1].length&&","!==F[1]&&G.push([]),G[G.length-1].push(void 0!==F[2]?F[2].replace(Q,"$1"):F[3]);if(B){const N=
G.shift();return G.map(S=>{let O=0;return N.reduce((W,Y)=>{W[Y]=S[O++];return W},{})})}return G},prepareCSVDataURI:(y,B)=>{const G=S=>{if(S&&c(S)){const O=[],W=S.length;for(let Y=0,aa;W>Y;Y++)aa=S[Y],aa=null==aa?"":aa.toString(),aa=aa.replace(/"/g,'""'),0<=aa.search(/("|,|\n)/g)&&(aa='"'+aa+'"'),O.push(aa);return O.join(",")}l("Unexpected row",S);return null},F=[];if(B){var N=G(B);N&&F.push(N)}if(y)if(c(y)){N=y.length;for(let S=0;N>S;S++){const O=G(y[S]);O&&F.push(O)}}else l("Rows were not an array");
return L.encodeCSVDataURI(F.join("\r\n"),B)},encodeCSVDataURI:(y,B)=>"data:text/csv;charset=utf-8"+(null==B?"":";header="+(B?"present":"absent"))+","+encodeURIComponent(y),dataURIToBlob:y=>{var B=y.indexOf(",");const G=y.slice(0,B).split(":")[1].split(";")[0];y=y.slice(B+1);if(G.startsWith("text/"))y=decodeURIComponent(y);else{y=atob(y);B=y.length;const F=new Uint8Array(B);for(;B;)F[--B]=y.charCodeAt(B);y=F}return new Blob([y],{type:G})},formatAsPercentage:(y,B=2)=>{switch(typeof y){case "number":return B=
g(16,a(0,B)),y=k.round(a(0,g(1,y))*f(10,2+B))/f(10,B),(0===y%1?y:y.toFixed(B))+"%";case "string":return y;default:return l("formatAsPercentage expects a number"),y}},interpolateString:(y,B={})=>y?y.replace(C,(G,F,N)=>F?F:L.resolveName(N,B)??G):"",leftPadNumber:(y,B,G="0",F=10)=>{y=y.toString(F);return G.repeat(a(B-y.length,0))+y},removeMarkup:(y,B)=>{if(!y)return"";B?.brToLineFeed&&(y=y.replace(/<br\s*\/?>/gi,"\n"));return y.replace(/<\/?[^>]+(>|$)/g,"")},escapeMarkup:(()=>{const y=RegExp("[&<>\"']",
"g"),B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},G=F=>B[F];return F=>F.replace(y,G)})(),memoize:m,debounce:(y,B,G=!1)=>{let F;return function(...N){const S=this,O=G&&!F;clearTimeout(F);F=setTimeout(()=>{F=null;G||y.apply(S,N)},B);O&&y.apply(S,N)}},createFixedThresholdCounter:(y,B,G,F)=>{var N=L.AccessorSupport.generateName;const S="function"===typeof y||y instanceof JS.Module,O={};F=F||N("counter",G);const W=N(F,"increment");N=N(F,"decrement");if(void 0!==(S?y.instanceMethod(W):
y[W]))return l("Increment: Abort clobber",W,y),!1;if(void 0!==(S?y.instanceMethod(N):y[N]))return l("Decrement: Abort clobber",N,y),!1;O[W]=function(){const Y=this[F]+1;this[F]=Y;this.fireEvent(F,Y);Y===B&&this.set(G,!0)};O[N]=function(){const Y=this[F];if(0!==Y){var aa=Y-1;this[F]=aa;this.fireEvent(F,aa);Y===B&&this.set(G,!1)}};y[S?"include":"extend"](O);return!0},makeURLSearchParams:(y={})=>{const B=new URLSearchParams;for(const G in y){const F=y[G];void 0!==F&&B.set(G,F)}return B},doFetch:(y,B,
G,F,N,S)=>fetch(y,B).then(O=>{if(!O.ok)throw new w(O.status,y,O.statusText);return O}).then(O=>G?O.text():O.json()).then(O=>{if(F)try{if(G)F(O);else{if(!1===O.success)throw new w(200,y,O.message??O.data?.message);F(O.data)}}catch(W){throw O=new w(200,y,W.message),O.stack=W.stack,O;}}).catch(O=>{if(N){if("FetchError"!==O.name){const W=new w(0,y,O.message);W.stack=O.stack;O=W}N(O)}}).finally(()=>{S?.()}),toNameCase:(y,B)=>{if(!y)return"";y=y.trim().toLowerCase().split(/([\s\-'\u2019"\u201c\u201d().,\/])/).reduce((G,
F)=>G+(F[0]??"").toUpperCase()+F.slice(1),"");if(/\bMac[A-Za-z]{2,}[^aciozj]\b/.test(y)||/\bMc/.test(y))y=y.replace(/\b(Ma?c)([A-Za-z]+)/,(G,F,N)=>F+(N[0]??"").toUpperCase()+N.slice(1)),y=y.replace(/\bMacEvicius\b/,"Macevicius").replace(/\bMacHado\b/,"Machado").replace(/\bMacHar\b/,"Machar").replace(/\bMacHin\b/,"Machin").replace(/\bMacHlin\b/,"Machlin").replace(/\bMacIas\b/,"Macias").replace(/\bMacIulis\b/,"Maciulis").replace(/\bMacKie\b/,"Mackie").replace(/\bMacKle\b/,"Mackle").replace(/\bMacKlin\b/,
"Macklin").replace(/\bMacQuarie\b/,"Macquarie").replace(/\bMacOmber\b/,"Macomber").replace(/\bMacIn\b/,"Macin").replace(/\bMacKintosh\b/,"Mackintosh").replace(/\bMacKen\b/,"Macken").replace(/\bMacHen\b/,"Machen").replace(/\bMacHiel\b/,"Machiel").replace(/\bMacIol\b/,"Maciol").replace(/\bMacKell\b/,"Mackell").replace(/\bMacKlem\b/,"Macklem").replace(/\bMacKrell\b/,"Mackrell").replace(/\bMacLin\b/,"Maclin").replace(/\bMacKey\b/,"Mackey").replace(/\bMacKley\b/,"Mackley").replace(/\bMacHell\b/,"Machell").replace(/\bMacHon\b/,
"Machon").replace(/\bMacAyla\b/,"Macayla");y=y.replace(/\bMacmurdo/,"MacMurdo").replace(/\bMacisaac/,"MacIsaac").replace(/\bAl(?=\s+\w)\b/g,"al").replace(/\bAp\b/g,"ap").replace(/\bBen(?=\s+\w)\b/g,"ben").replace(/\bDell([ae])\b/g,"dell$1").replace(/\bD([aeiu])\b/g,"d$1").replace(/\bDe([lr])\b/g,"de$1").replace(/\bEl\b/g,"el").replace(/\bLa\b/g,"la").replace(/\bLe(?=\s+\w)\b/g,"le").replace(/\bLo\b/g,"lo").replace(/\bVan(?=\s+\w)\b/g,"van").replace(/\bVon\b/g,"von").replace(/\bD['\u2019]/g,"d'").replace(/\b(?:\d{4}|(?:[IVX])(?:X{0,3}I{0,3}|X{0,2}VI{0,3}|X{0,2}I?[VX]))$/i,
G=>G.toUpperCase()).replace(/\b[0-9](x)\b/,G=>G.toUpperCase()).replace(/(?:^|\\s)[bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ]{2}\s/,G=>G.toUpperCase()).replace(/\bMR\.?\b/,"Mr").replace(/\bMS\.?\b/,"Ms").replace(/\bDR\.?\b/,"Dr").replace(/\bST\.?\b/,"St").replace(/\bJR\.?\b/,"Jr").replace(/\bSR\.?\b/,"Sr").replace(/\bLT\.?\b/,"Lt").replace(/\bThe\b/g,"the").replace(/\bOf\b/g,"of").replace(/\bAnd\b/g,"and").replace(/\bY\s/g,"y").replace(/\s{2,}/g," ");return B?y:(y[0]??"").toUpperCase()+y.slice(1)},
I18N:{setLocale:y=>{r=y??(navigator.language||"en").split("-")[0].toLowerCase();h=D[r];d=J[r]},getLocale:()=>r,addDictionary:(y,B)=>{D[B]=Object.assign(D[B]??{},y);B===r&&(h=D[B])},setDictionary:(y,B)=>{D[B]=y??{};B===r&&(h=D[B])},addResourceDictionary:(y,B)=>{J[B]=Object.assign(J[B]??{},y);B===r&&(d=J[B])},setResourceDictionary:(y,B)=>{J[B]=y??{};B===r&&(d=J[B])},get:(y,...B)=>{const G=h[y];return null!=G?0<B.length?G.replaceAll(P,(F,N,S,O)=>S&&O?1==B[parseInt(N)]?S:O:"").replaceAll(R,(F,N)=>B[N]):
G:y},getRaw:y=>h[y]??y,getResource:y=>d[y]}};I&&(I.onloadingdone=y=>{for(const B of y.fontfaces)z(B)})})(global);
(q=>{const w=(r,h)=>{r.startsWith('"')&&(r=r.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return h?JSON.parse(r):r}catch(d){}},u=q.Cookie={defaults:{raw:!1,json:!1},read:(r,h)=>{h={...u.defaults,...h};const d=h.raw?g=>g:g=>decodeURIComponent(g.split("+").join(" "));h=h.json;const e=document.cookie.split("; "),l=e.length,k=r?void 0:{};for(let g=0;g<l;){var b=e[g++].split("=");const a=d(b.shift());b=d(b.join("="));if(r){if(r===a)return w(b,h)}else k[a]=w(b,h)}return k},write:(r,h,d)=>
{d={...u.defaults,...d};if("number"===typeof d.expires){const a=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+a)}h=d.json?JSON.stringify(h):String(h);const {raw:e,expires:l,path:k,domain:b,samesite:g}=d;return document.cookie=[e?r:encodeURIComponent(r),"=",e?h:encodeURIComponent(h),l?"; expires="+l.toUTCString():"",k?"; path="+k:"",b?"; domain="+b:"",g?"; samesite="+g:"",d.secure?"; secure":""].join("")},remove:(r,h)=>void 0!==u.read(r,h)?(u.write(r,"",{...h,expires:-1}),!0):!1}})(myt);
(q=>{const w=console.error,u=JSON.parse,r=global.localStorage,h=r.getItem.bind(r),d=r.setItem.bind(r),e=r.removeItem.bind(r),l=r.clear.bind(r),k=(g,a,f)=>{if(0<a){const c="__timerId_"+f;(f=b[c])&&clearTimeout(f);b[c]=setTimeout(()=>{g();delete b[c]},a)}else g()},b=q.LocalStorage={hasDatum:(g,a)=>{if(g&&(a=h(a??"myt")))try{return null!=u(a)[g]}catch(f){w(f)}return!1},getDatum:(g,a)=>{if(g&&(a=h(a??"myt")))try{const f=u(a);if("object"===typeof f)return f[g]}catch(f){w(f)}},setDatum:(g,a,f,c)=>{f=f??
"myt";k(()=>{const n=b.getData(f);n[g]=a;d(f,JSON.stringify(n))},c,f+"___"+g)},removeDatum:(g,a,f)=>{a=a??"myt";k(()=>{const c=b.getData(a);delete c[g];d(a,JSON.stringify(c))},f,a+"___"+g)},hasData:g=>null!=h(g??"myt"),getData:g=>{if(g=h(g??"myt"))try{return u(g)}catch(a){w(a)}return{}},setData:(g,a,f)=>{a=a??"myt";g??={};return"object"===typeof g?(k(()=>{d(a,JSON.stringify(g))},f,a),!0):!1},removeData:(g,a)=>{g=g??"myt";k(()=>{e(g)},a,g)},getLength:()=>r.length,getKey:r.key.bind(r),getItem:h,setItem:d,
removeItem:e,clear:l,get:h,set:d,remove:e,clearAll:l}})(myt);
(q=>{const w=/(?:^|&)([^&=]*)=?([^&]*)/g,u=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;q.URI=new JS.Class("URI",{initialize:function(h,d){h&&this.parse(h,d)},setSource:function(h){this.source=h},setProtocol:function(h){this.protocol=
h},setAuthority:function(h){this.authority=h},setUserInfo:function(h){this.userInfo=h},setUser:function(h){this.user=h},setPassword:function(h){this.password=h},setHost:function(h){this.host=h},setPort:function(h){this.port=h},setRelative:function(h){this.relative=h},setPath:function(h){this.path=h},setDirectory:function(h){this.directory=h},setFile:function(h){this.file=h},setQuery:function(h){this.query=h},setAnchor:function(h){this.anchor=h},parse:function(h,d){const e=this,[l,k,b,g,a,f,c,n,v,
t,p,A,I,z]=(d?r:u).exec(h)??[];e.setSource(l??"");e.setProtocol(k??"");e.setAuthority(b??"");e.setUserInfo(g??"");e.setUser(a??"");e.setPassword(f??"");e.setHost(c??"");e.setPort(n??"");e.setRelative(v??"");e.setPath(t??"");e.setDirectory(p??"");e.setFile(A??"");e.setQuery(I??"");e.setAnchor(z??"");e.queryPairs={};e.query.replace(w,(D,J,P)=>{J&&(e.queryPairs[J]=P)})},decodeQueryParam:h=>decodeURIComponent(h).split("+").join(" "),getQuery:function(){var h=this.queryPairs;const d=[];for(const e in h)d.push(e+
"="+encodeURIComponent(this.getQueryParam(e)));h=d.join("&");return 0<h.length?"?"+h:h},getQueryParam:function(h){h=this.queryPairs[h];return null==h?void 0:this.decodeQueryParam(h)},setQueryParam:function(h,d){this.queryPairs[encodeURIComponent(h)]=encodeURIComponent(d)},removeQueryParam:function(h){delete this.queryPairs[h]},getPathParts:function(h){const d=this.path.split("/");if(!h)for(h=d.length;h;)0===d[--h].length&&d.splice(h,1);return d},toString:function(h){const d=this.path;h=h?this.query?
"?"+this.query:"":this.getQuery();const e=this.anchor;let l=this.toStringThroughPort();d?l+=d:this.host&&(h||e)&&(l+="/");h&&(l+=h);e&&(l+="#"+e);return l},toStringThroughPort:function(){const h=this.protocol,d=this.host,e=this.userInfo,l=this.port;let k="";h&&(k+=h+"://");e&&d&&(k+=e+"@");d&&(k+=d,l&&(k+=":"+l));return k}})})(myt);
(q=>{const w=Math,{PI:u,cos:r,sin:h,sqrt:d,abs:e}=w,l=(a,f,c,n,v,t)=>{"object"===typeof a&&(t=v,v=n,n=c,c=f,f=a.y,a=a.x);"object"===typeof c&&(t=c.height,v=c.width,n=c.y,c=c.x);return a>=c&&f>=n&&a<=c+v&&f<=n+t},k=(a,f,c,n,v)=>{a=c-a;f=n-f;f=a*a+f*f;return v?f:d(f)},b=(a,f,c,n,v)=>{null==v&&(v=6371);a=a*u/180;c=c*u/180;return v*w.acos(h(a)*h(c)+r(a)*r(c)*r(n*u/180-f*u/180))},g=(a,f=!0,c="x",n="y")=>{let v=a?.length;if(3>v||!Array.isArray(a))return 0;a[0][c]===a[v-1][c]&&a[0][n]===a[v-1][n]&&v--;let t=
0,p=a[v-1];for(let A=0;A<v;A++){const I=a[A];t+=p[c]*I[n]-I[c]*p[n];p=I}return(f?e(t):t)/2};q.Geometry={getClosestPointOnALineToAPoint:(a,f,c,n,v,t,p)=>{c-=a;n-=f;v=(c*(v-a)+n*(t-f))/(c*c+n*n);p&&(v=w.min(1,w.max(0,v)));return{x:a+c*v,y:f+n*v}},isPointInPath:(a,f,c,n)=>{"object"===typeof a&&(n=c,c=f,f=a.y,a=a.x);if(l(a,f,c)&&(c=n.length,6<=c)){let v=!1,t=n[0],p=n[1],A,I;for(;c;)I=n[--c],A=n[--c],I>f!==p>f&&a<(t-A)*(f-I)/(p-I)+A&&(v=!v),t=A,p=I;return v}return!1},measureDistance:k,measureLatLngDistance:b,
degreesToRadians:a=>a*u/180,radiansToDegrees:a=>180*a/u,rectContainsPoint:l,circleContainsPoint:(a,f,c,n,v)=>k(a,f,c,n,!0)<=v*v,circleContainsLatLng:(a,f,c,n,v,t)=>b(a,f,c,n,t)<=v,polarToCartesian:(a,f,c,n)=>{c??=0;n??=0;f%=360;if(0===f)f=a,a=0;else if(90===f)f=0;else if(180===f)f=-a,a=0;else if(270===f)f=0,a=-a;else{const v=f*u/180;f=a*r(v);a*=h(v)}return[c+f,n+a]},cartesianToPolar:(a,f,c,n,v)=>{c??=0;n??=0;a-=c;n=f-n;f=d(a*a+n*n);n=w.atan2(n,a);0>n&&(n+=2*u);return[f,v?n:180*n/u]},getAreaOfPolygon:g,
isClockwisePolygon:(a,f,c)=>0>g(a,!1,f,c),intervalsOverlap:(a,f,c,n,v=!1,t=!1)=>{t&&(a>f&&(f=a),c>n&&(n=c));return v?a<=n&&c<=f:a<n&&c<f}}})(myt);
(q=>{const w=JS.Module,u=console.log,r=q.dumpStack;q.Observable=new w("Observable",{attachObserver:function(h,d,e){return h&&d&&e?(this.getObservers(e).push(d,h),!0):!1},detachObserver:function(h,d,e){if(h&&d&&e){var l=this.__obsbt;if(l&&(e=l[e])){l=!1;let k=e.length;for(;2<=k;){const b=e[--k],g=e[--k];h===b&&d===g&&(e.splice(k,2),l=!0)}return l}}return!1},detachAllObservers:function(){const h=this.__obsbt;if(h)for(const d in h){const e=h[d];let l=e.length;for(;2<=l;){const k=e[--l],b=e[--l];k&&b&&
("function"===typeof k.detachFrom&&k.detachFrom(this,b,d)||e.splice(l,2))}}},getObservers:function(h){let d;return(d=this.__obsbt??(this.__obsbt={}))[h]??(d[h]=[])},hasObservers:function(h){const d=this.__obsbt;return d?0<d[h]?.length:!1},createEvent:function(h,d){return{source:this,type:h,value:d}},fireEvent:function(h,d,e){if(null==e){var l=this.__obsbt;l&&(e=l[h])}if(e){l={source:this,type:h,value:d};const k=this.__aet??(this.__aet={});if(k[h])q.global.error.notify("warn","eventLoop","Abort refiring event:"+
h,null,{observable:this,type:h,value:d});else{k[h]=!0;for(d=e.length;2<=d;){const b=e[--d],g=e[--d];if(b&&g)try{if("function"===typeof g){if(g.call(b,l))break}else if(b[g]?.(l))break}catch(a){r(a),u("Additional context",g,b)}}k[h]=!1}}}});q.Observer=new w("Observer",{valueFromEvent:h=>h&&"object"===typeof h&&h.type?h.value:h,syncTo:function(h,d,e,l,k){l??=e;try{this[d](h.createEvent(e,h.get(l)))}catch(b){r(b)}k||this.attachTo(h,d,e,k)},isAttachedTo:function(h,d,e){if(h&&d&&e){var l=this.__obt;if(l&&
(e=l[e]))for(l=e.length;2<=l;){const k=e[--l],b=e[--l];if(h===k&&d===b)return!0}}return!1},getObservables:function(h){let d;return(d=this.__obt??(this.__obt={}))[h]??(d[h]=[])},hasObservables:function(h){const d=this.__obt;return d?0<d[h]?.length:!1},attachTo:function(h,d,e,l){if(h&&d&&e){const k=this.getObservables(e);if(l){const b=this,g=d;this.__methodNameCounter??(this.__methodNameCounter=0);d="__DO_ONCE_"+this.__methodNameCounter++;this[d]=a=>{b.detachFrom(h,d,e);delete b[d];return b[g](a)}}if(h.attachObserver(this,
d,e))return k.push(d,h),!0}return!1},detachFrom:function(h,d,e){if(h&&d&&e){var l=this.__obt;if(l&&(l=l[e])){let k=!1,b=l.length;for(;2<=b;){const g=l[--b],a=l[--b];h===g&&d===a&&h.detachObserver(this,d,e)&&(l.splice(b,2),k=!0)}return k}}return!1},detachFromAllObservables:function(){var h=this.__obt;if(h)for(const [d,e]of Object.entries(h)){for(h=e.length;2<=h;){const l=e[--h],k=e[--h];l.detachObserver(this,k,d)}e.length=0}},constrain:function(h,d){if(h&&d){const l=d.length;if(0!==l%2)u("Observables uneven",
this);else{var e;const k=(e=this.__cbmn??(this.__cbmn={}))[h]??(e[h]=[]);if(0<k.length)u("Constraint exists for "+h+" on",this);else{for(e=0;e<l;){const b=d[e++],g=d[e++];b&&g&&(this.attachTo(b,h,g),k.push(b,g))}try{this[h]()}catch(b){r(b)}}}}},releaseConstraint:function(h){if(h){var d=this.__cbmn;if(d&&(d=d[h])){let e=d.length;for(;2<=e;){const l=d[e--],k=d[e--];this.detachFrom(k,h,l)}d.length=0}}},releaseAllConstraints:function(){const h=this.__cbmn;if(h)for(const d in h)this.releaseConstraint(d)}})})(myt);
(q=>{const w=console.warn,u=q.global=new JS.Singleton("Global",{include:[q.Observable],initialize:()=>{},register:(r,h)=>{u.hasOwnProperty(r)&&(w("Global key in use",r),u.unregister(r));u[r]=h;u.fireEvent("register"+r,h)},unregister:r=>{if(u.hasOwnProperty(r)){const h=u[r];delete u[r];u.fireEvent("unregister"+r,h)}else w("Global key not in use",r)}})})(myt);
(q=>{let w;new JS.Singleton("GlobalError",{include:[q.Observable],initialize:function(){w=this;w.setStackTraceLimit(50);w.setConsoleLogging(!0);q.global.register("error",w)},setConsoleLogging:u=>{w.consoleLogging=u},setStackTraceLimit:u=>{Error.stackTraceLimit=w.stackTraceLimit=u},notify:(u,r,h,d,e)=>{d??=Error(h??r);d=d.stack??d.stacktrace;w.fireEvent(r??"error",{msg:h,stacktrace:d,...e});if(w.consoleLogging&&u)console[u](d)}})})(myt);
(q=>{const w=global,u=w.getComputedStyle,r=document,h=Math.max,d=k=>{const {zIndex:b,opacity:g}=u(k);if("auto"===b){if(1===parseInt(g,10)){let a=0;k=k.childNodes;let f=k.length;for(;f;){const c=k[--f];1===c.nodeType&&(a=h(a,d(c)))}return a}return 0}return parseInt(b,10)},e=(k,b)=>{const g=[];for(;k;){g.push(k);if(k===b)break;k=k.parentNode}return g},l=q.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(k,b,g)=>{k=r.createElement(k);for(const a in g)k[a]=g[a];for(const a in b)k.style[a]=
b[a];return k},isDomElementVisible:k=>{if("INPUT"!==k.nodeName||"hidden"!==k.type)for(;k;){if(k===r)return!0;const {display:b,visibility:g}=u(k);if("none"===b||"hidden"===g)break;k=k.parentNode}return!1},getZIndexRelativeToAncestor:(k,b)=>{if(k&&b)for(k=e(k,b),b=k.length-1;b;){const g=u(k[--b]),a=g.zIndex,f="auto"===a;if(0===b||!f||1!==parseInt(g.opacity,10))return f?0:parseInt(a,10)}return 0},getAncestorArray:e,getHighestZIndex:d,getRelativePosition:(k,b)=>{if(k){let g=0,a=0;for(;k&&"BODY"!==k.nodeName&&
k!==b;)if(g+=k.offsetLeft,a+=k.offsetTop,(k=k.offsetParent)&&"BODY"!==k.nodeName){const {borderLeftWidth:f,borderTopWidth:c}=u(k);g+=parseInt(f,10)-k.scrollLeft;a+=parseInt(c,10)-k.scrollTop}return{x:g,y:a}}},getTruePosition:k=>{if(k)return k=k.getBoundingClientRect(),k.left+=w.scrollX,k.top+=w.scrollY,k},simulateDomEvent:(k,b,g)=>{if(k){const a={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},f={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(g)for(const n in g)a[n]=g[n];let c;for(const n in f)if(f[n].test(b)){c=n;break}if(!c)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(r.createEvent)g=r.createEvent(c),"HTMLEvents"===c?g.initEvent(b,a.bubbles,a.cancelable):g.initMouseEvent(b,a.bubbles,a.cancelable,r.defaultView,a.button,a.pointerX,a.pointerY,a.pointerX,a.pointerY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,null),k.dispatchEvent(g);
else{a.clientX=a.pointerX;a.clientY=a.pointerY;g=r.createEventObject();for(const n in a)g[n]=a[n];k.fireEvent("on"+b,g)}}},getScrollbarSize:q.memoize(()=>{const k=r.body,b=l.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});k.appendChild(b);const g=b.offsetWidth-b.clientWidth;k.removeChild(b);return g})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(k){if(Array.isArray(k)){const [b,
g]=k;this.__oE=b;this.__iE=g;this.__iS=g.style;this.__oS=b.style;g.model=b.model=this}else this.__oE=this.__iE=k,this.__iS=this.__oS=k.style,k.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(k){this.__iE.className=this.domClass=k},addDomClass:function(k){const b=this.__iE.className;this.setDomClass((b?
b+" ":"")+k)},removeDomClass:function(k){var b=this.__iE.className;if(b){b=b.split(" ");let g=b.length;for(;g;)b[--g]===k&&b.splice(g,1);this.setDomClass(b.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(k){this.__iE.id=this.domId=k},setZIndex:function(k){this.__oS.zIndex=k},setStyleProperty:function(k,b){this.__iS[k]=b},getPagePosition:function(k){return l["get"+(k?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){l.simulateDomEvent(this.__iE,"click")},
getHighestZIndex:function(){return d(this.__iE)},getHighestChildZIndex:function(k){const b=this.__iE.childNodes;let g=b.length,a=0;for(;g;){const f=b[--g];1===f.nodeType&&f!==k&&(a=h(a,d(f)))}return a},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(k,b){(b?this.__iE:this.__oE).scrollTop=k||0}})})(myt);
(q=>{let w;const u=h=>{for(;h.lastChild;)h=h.lastChild;return h},r=(h,d)=>{w.lastTraversalWasForward=h;let e=document.body,l=e;var k=document.activeElement;let b=l,g;const a=h?"getNextFocus":"getPrevFocus";k&&(b=l=k,(k=l.model)??(k=w.findModelForDomElement(l)),k&&(d=k.getFocusTrap(d))&&(e=d.getIDE()));for(;b;){if(b.model&&b.model[a]&&(g=b.model[a]()))b=g.getIDE();else if(h)if(b.firstChild)b=b.firstChild;else{if(b===e)return l.model;if(b.nextSibling)b=b.nextSibling;else for(;b&&(b=b.parentNode,b!==
e);)if(b.nextSibling){b=b.nextSibling;break}}else b=b===e?u(e):b.previousSibling?u(b.previousSibling):b.parentNode;if(b===l)return l.model;if(1===b.nodeType)if((k=b.model)&&k instanceof q.View){if(k.isFocusable())return k}else if(d=b.nodeName,!("A"!==d&&"AREA"!==d&&"INPUT"!==d&&"TEXTAREA"!==d&&"SELECT"!==d&&"BUTTON"!==d||b.disabled||isNaN(b.tabIndex))&&q.DomElementProxy.isDomElementVisible(b)&&(k=w.findModelForDomElement(b),!k?.searchAncestorsOrSelf(f=>!0===f.maskFocus))){b.focus();w.focusedDom=b;
break}}};new JS.Singleton("GlobalFocus",{include:[q.Observable],initialize:function(){w=this;w.lastTraversalWasForward=!0;q.global.register("focus",w)},setFocusedView:h=>{if(w.focusedView!==h){w.prevFocusedView=w.focusedView;if(w.focusedView=h)w.focusedDom=null;w.fireEvent("focused",h)}},notifyFocus:h=>{w.focusedView!==h&&w.setFocusedView(h)},notifyBlur:h=>{w.focusedView===h&&w.setFocusedView(null)},clear:()=>{w.focusedView?w.focusedView.blur():w.focusedDom&&(w.focusedDom.blur(),w.focusedDom=null)},
next:h=>{r(!0,h)?.focus()},prev:h=>{r(!1,h)?.focus()},findModelForDomElement:h=>{for(;h;){let d=h.model;if(d&&d instanceof q.View)return d;h=h.parentNode}}})})(myt);
(q=>{const w=JS.Module,u=q.global,r=u.focus,h=()=>({source:null,type:null,value:null}),d=c=>{c=c.value??c;return(c.target??c.srcElement).model},e=q.KeyObservable=new w("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:h(),getKeyFromEvent:c=>c.value.key,getCodeFromEvent:c=>c.value.code,isEnterKeyEvent:c=>c.value.code===u.keys.CODE_ENTER,isEscKeyEvent:c=>c.value.code===u.keys.CODE_ESC,isShiftKeyEvent:c=>u.keys.isShiftCode(c.value.code)},createDomHandler:function(c,n,v){return this.createStandardDomHandler(c,
n,v,e)??this.callSuper(c,n,v)}}),l=q.MouseObservable=new w("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:h(),getMouseFromEvent:c=>({x:c.value.pageX,y:c.value.pageY}),getMouseFromEventRelativeToView:(c,n)=>{n=n.getPagePosition();c=l.getMouseFromEvent(c);c.x-=n.x;c.y-=n.y;return c}},createDomHandler:function(c,n,v){return this.createStandardDomHandler(c,n,v,l,!0)??this.callSuper(c,n,v)}}),k=q.ScrollObservable=
new w("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:h(),getScrollFromEvent:c=>{const {scrollLeft:n,scrollTop:v}=d(c)?.getIDE();return{x:n,y:v}}},createDomHandler:function(c,n,v){return this.createStandardDomHandler(c,n,v,k)??this.callSuper(c,n,v)}}),b=q.TouchObservable=new w("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:h()},createDomHandler:function(c,n,v){return this.createStandardDomHandler(c,n,v,b,!1)??this.callSuper(c,n,v)}}),
g=q.FocusObservable=new w("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:h()},initNode:function(c,n){this.focusable=!1;this.focusIndicator=!0;this.callSuper(c,n)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(c){this.focused!==c&&(this.focused=c,this.inited&&(this.fireEvent("focused",c),c?r.notifyFocus(this):r.notifyBlur(this)))},setFocusable:function(c){if(this.focusable!==c){const n=this.focusable;(this.focusable=c)?(this.getIDE().tabIndex=0,this.attachToDom(this,
"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):n&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",c)}},setFocusIndicator:function(c){this.focusIndicator!==c&&(this.focusIndicator=c,this.focused&&(c?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(r.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(c=>!0===c.maskFocus)},focus:function(c){this.isFocusable()&&this.getIDE().focus({preventScroll:c})},blur:function(){this.getIDE().blur()},__doFocus:function(c){this.focused||this.setFocused(!0);this.doFocus()},__doBlur:function(c){this.doBlur();this.focused&&this.setFocused(!1)},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const c=this.getIDS();c.outlineWidth="thin";c.outlineColor="#8bf";c.outlineStyle="solid";c.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(c,n,v){if(g.EVENT_TYPES[v]){const t=this;return p=>{p??=window.event;if(t._ignoreFocus)p.cancelBubble=!0,p.stopPropagation?.(),p.preventDefault();
else{var A=g.EVENT;A.source=t;A.type=p.type;A.value=p;c[n](A)||(p.cancelBubble=!0,p.stopPropagation?.());A.source=void 0}}}return this.callSuper(c,n,v)}}),a=q.InputObservable=new w("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:h()},createDomHandler:function(c,n,v){return this.createStandardDomHandler(c,n,v,a)??this.callSuper(c,n,v)}}),f=q.DragDropObservable=new w("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:h()},
createDomHandler:function(c,n,v){return this.createStandardDomHandler(c,n,v,f,!0)??this.callSuper(c,n,v)}});q.DomObservable=new w("DomObservable",{attachDomObserver:function(c,n,v,t,p){if(c&&n&&v){const A=this.createDomHandler(c,n,v);if(A){t=!!t;const I=this.__dobsbt??(this.__dobsbt={}),z=I[v];z?z.push(c,n,A,t):I[v]=[c,n,A,t];q.addEventListener(this.getDomElementForDomObservable(v),v,A,t,p);return!0}}return!1},getDomElementForDomObservable:function(c){return this.getIDE()},createDomHandler:(c,n,v)=>
null,createStandardDomHandler:function(c,n,v,t,p){if(t.EVENT_TYPES[v]){const A=this,I=t.EVENT;return z=>{z??=window.event;I.source=A;I.type=z.type;I.value=z;c[n](I)||(z.cancelBubble=!0,z.stopPropagation?.(),p&&z.preventDefault());I.source=void 0}}},detachDomObserver:function(c,n,v,t){if(c&&n&&v){var p=this.__dobsbt;if(p&&(p=p[v])){t=!!t;const A=this.getDomElementForDomObservable(v);let I=!1,z=p.length;for(;4<=z;){const D=p[--z],J=p[--z],P=p[--z],R=p[--z];c===R&&n===P&&t===D&&(A&&q.removeEventListener(A,
v,J,t),p.splice(z,4),I=!0)}return I}}return!1},detachAllDomObservers:function(){var c=this.__dobsbt;if(c)for(const [n,v]of Object.entries(c)){for(c=v.length+2;4<=c;){const t=v[c-=3],p=v[--c];q.removeEventListener(this.getDomElementForDomObservable(n),n,p,t)}v.length=0}}});q.DomObserver=new w("DomObserver",{extend:{getSourceViewFromEvent:d},attachToDom:function(c,n,v,t,p){if(c&&n&&v){t=!!t;let A;const I=(A=this.__dobt??(this.__dobt={}))[v]??(A[v]=[]);c.attachDomObserver(this,n,v,t,p)&&I.push(t,n,c)}},
detachFromDom:function(c,n,v,t){if(c&&n&&v){var p=this.__dobt;if(p&&(p=p[v])){t=!!t;let A=!1,I=p.length;for(;3<=I;){const z=p[--I],D=p[--I],J=p[--I];c===z&&n===D&&t===J&&c.detachDomObserver(this,n,v,t)&&(p.splice(I,3),A=!0)}return A}}return!1},detachFromAllDomSources:function(){var c=this.__dobt;if(c)for(const [n,v]of Object.entries(c)){for(c=v.length;3<=c;){const t=v[--c],p=v[--c],A=v[--c];t.detachDomObserver(this,p,n,A)}v.length=0}}})})(myt);
(q=>{let w;const {KeyObservable:u,global:r}=q,h=r.focus,d=u.getCodeFromEvent,e=new Set,l="Firefox"===BrowserDetect.browser,k=l?"OSLeft":"MetaLeft",b=l?"OSRight":"MetaRight",g=()=>e.has("ShiftLeft")||e.has("ShiftRight"),a=()=>e.has("ControlLeft")||e.has("ControlRight"),f=()=>e.has("AltLeft")||e.has("AltRight"),c=()=>e.has(k)||e.has(b),n=(t,p)=>{switch(t){case "Backspace":return t=p.nodeName,!("TEXTAREA"===t||"INPUT"===t&&("text"===p.type||"number"===p.type||"password"===p.type)||"DIV"===t&&"true"===
p.contentEditable&&p.firstChild);case "Tab":return!0}return!1},v=(t,p)=>{for(const A of["keydown","keypress","keyup"])w[p](t,"__hndl_"+A,A)};new JS.Singleton("GlobalKeys",{include:[q.DomElementProxy,q.DomObservable,q.DomObserver,u,q.Observable,q.Observer],initialize:function(){r.register("keys",w=this);w.CODE_ENTER="Enter";w.CODE_ESC="Escape";w.CODE_SPACE="Space";w.CODE_ARROW_LEFT="ArrowLeft";w.CODE_ARROW_UP="ArrowUp";w.CODE_ARROW_RIGHT="ArrowRight";w.CODE_ARROW_DOWN="ArrowDown";w.CODE_DELETE="Delete";
w.CODE_BACKSPACE="Backspace";for(const t of"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""))w["CODE_"+t]="Key"+t;for(const t of"1234567890".split(""))w["CODE_"+t]="Digit"+t;w.ARROW_KEYS=[w.CODE_ARROW_LEFT,w.CODE_ARROW_UP,w.CODE_ARROW_RIGHT,w.CODE_ARROW_DOWN];w.LIST_KEYS=[w.CODE_ENTER,w.CODE_SPACE,w.CODE_ESC,...w.ARROW_KEYS];w.setDomElement(document);w.attachTo(h,"__hndl_focused","focused");v(w,"attachToDom");global.onblur=()=>{e.clear()}},isShiftKeyDown:g,isControlKeyDown:a,isAltKeyDown:f,isMetaKeyDown:c,isShiftCode:t=>
"ShiftLeft"===t||"ShiftRight"===t,isControlCode:t=>"ControlLeft"===t||"ControlRight"===t,isAltCode:t=>"AltLeft"===t||"AltRight"===t,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?c():a(),ignoreFocusTrap:()=>f(),__hndl_focused:t=>{(t=t.value)?(v(w,"detachFromDom"),v(t,"attachToDom")):((t=h.prevFocusedView)&&v(t,"detachFromDom"),v(w,"attachToDom"))},__hndl_keydown:t=>{const p=d(t);t=t.value;n(p,t.target)&&t.preventDefault();c()&&"ShiftLeft"!==p&&"ShiftRight"!==p&&"ControlLeft"!==p&&"ControlRight"!==
p&&"AltLeft"!==p&&"AltRight"!==p?(w.fireEvent("keydown",p),w.fireEvent("keyup",p)):(e.add(p),"Tab"===p&&(t=f(),g()?h.prev(t):h.next(t)),w.fireEvent("keydown",p))},__hndl_keypress:t=>{w.fireEvent("keypress",d(t))},__hndl_keyup:t=>{const p=d(t);t=t.value;n(p,t.target)&&t.preventDefault();e.delete(p);w.fireEvent("keyup",p)}})})(myt);
(q=>{const w=JS.Module,u=Math.max,r=(b,g,a,f,c=0)=>{const n=b.length;for(let v=a;c<n;c++)l(b[c],g,v),f&&(v+=a)},h=(b,g,a,f=0)=>{const c=b.length;for(let n=g;f<c;)b[f++].crossPos+=n,a&&(n+=g)},d=(b,g,a,f)=>{var c=b[g?"setWidthViaFlex":"setHeightViaFlex"];g=f?g?b.getFlexBasisWidth():b.getFlexBasisHeight():0;c.call(b,g+a)},e=(b,g,a)=>{b[g?"setXViaFlex":"setYViaFlex"](a,!1)},l=(b,g,a)=>{b[g?"setXViaFlex":"setYViaFlex"](a,!0)},k=(b,g,a)=>{b[g]!==a&&(b[g]=a,b.inited&&b.fireEvent(g,a),b.updateFlexboxLayout())};
q.FlexboxSupport=new w("FlexboxSupport",{initNode:function(b,g){this.__IS_FLEXBOX_SUPPORT=!0;this.rowGap=this.columnGap=0;this.direction??(this.direction="row");this.wrap="nowrap";this.justifyContent=this.alignContent="start";this.alignItems="stretch";this.callSuper(b,g);this.updateFlexboxLayout()},setWidth:function(b){const g=this.width;this.callSuper(b);g!==this.width&&this.updateFlexboxLayout()},setHeight:function(b){const g=this.height;this.callSuper(b);g!==this.height&&this.updateFlexboxLayout()},
setDirection:function(b){k(this,"direction",b)},setWrap:function(b){k(this,"wrap",b)},setJustifyContent:function(b){k(this,"justifyContent",b)},setAlignItems:function(b){k(this,"alignItems",b)},setAlignContent:function(b){k(this,"alignContent",b)},setRowGap:function(b){k(this,"rowGap",u(0,b))},setColumnGap:function(b){k(this,"columnGap",u(0,b))},getWidthForFlexboxLayout:function(){return this.width},getHeightForFlexboxLayout:function(){return this.height},setTotalBasisWidth:function(b){this.set("totalBasisWidth",
b,!0)},setTotalBasisHeight:function(b){this.set("totalBasisHeight",b,!0)},ignoreSubviewForFlex:function(b){return b&&"function"===typeof b.ignoreFlex?b.ignoreFlex():!0},setFlexboxPaused:function(b,g){this.__flexboxPaused!==b&&((this.__flexboxPaused=b)||g||this.updateFlexboxLayout())},isFlexboxPaused:function(){return!!this.__flexboxPaused},subviewAdded:function(b){this.callSuper(b);b&&!this.ignoreSubviewForFlex(b)&&this.updateFlexboxLayout()},subviewRemoved:function(b){this.callSuper(b);!b||this.ignoreSubviewForFlex(b)||
this.isBeingDestroyed||this.updateFlexboxLayout()},doSubviewsReorderedInDom:function(b){this.callSuper(b);b&&this.ignoreSubviewForFlex(b)||this.updateFlexboxLayout()},isOKToUpdateLayout:function(){return this.inited&&!this.__isUpdatingFlexboxLayout&&!this.isFlexboxPaused()},isCompactWidth:()=>!1,isCompactHeight:()=>!1,isCompactOnMainAxis:function(b){return b?this.isCompactWidth():this.isCompactHeight()},isCompactOnCrossAxis:function(b){return b?this.isCompactHeight():this.isCompactWidth()},isWrapNotAllowed:function(){return"nowrap"===
this.wrap},setUpdateAgain:function(b){this._updateAgain=b},isUpdateAgain:function(){return this._updateAgain},updateFlexboxLayout:function(){const b=this;if(b.isOKToUpdateLayout()){var g=b.getSubviewsInLexicalOrder().filter(z=>!0!==b.ignoreSubviewForFlex(z)&&!0===z.visible);const I=g.length;if(0<I){b.__isUpdatingFlexboxLayout=!0;var a=b.direction;const z=a.startsWith("row"),D=!z;var f=b.getWidthForFlexboxLayout(),c=b.getHeightForFlexboxLayout();const J=z?b.columnGap:b.rowGap,P=z?f:c;var n=z?b.rowGap:
b.columnGap;const R=z?c:f,m=b.isWrapNotAllowed();f=b.justifyContent;c=b.alignItems;var v=m?"stretch":b.alignContent;a.endsWith("Reverse")&&g.reverse();let x=0,C=0,M=0,Q=0,L={items:[],shrinkCount:0,shrinkBasis:0,growCount:0,extraSize:0,crossPos:M,crossSize:0};a=[L];for(let y=0;y<I;){const B=g[y++],G=z?B.getFlexBasisWidth():B.getFlexBasisHeight(),F=B.getShrink(),N=B.getGrow();!m&&0<L.items.length&&x+(0===Q?0:J)+G>P&&(L.extraSize=P-x,M+=L.crossSize+n,C=u(C,x),Q=x=0,L={items:[],shrinkCount:0,shrinkBasis:0,
growCount:0,extraSize:0,crossPos:M,crossSize:0},a.push(L));0!==Q&&(x+=J);0<F&&0<G&&(L.shrinkCount+=F,L.shrinkBasis+=G*F);0<N&&(L.growCount+=N);L.crossSize=u(L.crossSize,D?B.getFlexBasisWidth():B.getFlexBasisHeight());e(B,z,x);d(B,z,G);x+=G;L.items.push(B);Q++}L.extraSize=P-x;M+=L.crossSize;C=u(C,x);if(b.isCompactOnMainAxis(z)&&(g=a.reduce((y,B)=>null==y?B.extraSize:Math.min(y,B.extraSize),null),0!==g))for(var t of a)t.extraSize-=g;b[z?"setTotalBasisWidth":"setTotalBasisHeight"](C);b[z?"setTotalBasisHeight":
"setTotalBasisWidth"](M);t=a.length;if(1<t&&"wrapReverse"===b.wrap){for(var p of a)p.crossPos=M-(p.crossPos+p.crossSize);a.reverse()}if(!b.isCompactOnCrossAxis(z))switch(p=R-M,v){default:case "start":break;case "end":h(a,p,!1);break;case "center":h(a,p/2,!1);break;case "spaceBetween":1<t&&h(a,p/(t-1),!0,1);break;case "spaceAround":p<=n?h(a,p/2,!1):(h(a,n/2,!1),p-=n,h(a,p/(2*t),!0),h(a,p/(2*t),!0,1));break;case "spaceEvenly":p<=2*n?h(a,p/2,!1):(h(a,n,!1),h(a,(p-2*n)/(t+1),!0));break;case "stretch":n=
p/t;p=0;for(var A of a)A.crossSize+=n,A.crossPos+=p,p+=n}for(const y of a){A=y.items;n=y.extraSize;if(0<n)if(0<y.growCount){n/=y.growCount;a=0;for(const F of A)0<a&&l(F,z,a),p=F.getGrow()*n,0<p&&(d(F,z,p,!0),a+=p)}else switch(a=A.length,f){default:case "start":break;case "end":r(A,z,n,!1);break;case "center":r(A,z,n/2,!1);break;case "spaceBetween":1<a&&r(A,z,n/(a-1),!0,1);break;case "spaceAround":n<=J?r(A,z,n/2,!1):(r(A,z,J/2,!1),n-=J,r(A,z,n/(2*a),!0),r(A,z,n/(2*a),!0,1));break;case "spaceEvenly":n<=
2*J?r(A,z,n/2,!1):(r(A,z,J,!1),n-=2*J,r(A,z,n/(a+1),!0))}else if(0>n&&0<y.shrinkCount){a=y.shrinkBasis;p=0;for(const F of A)0>p&&l(F,z,p),v=F.getShrink()*(z?F.getFlexBasisWidth():F.getFlexBasisHeight())/a*u(n,-a),0>v&&(d(F,z,v,!0),p+=v)}n=!1;const {crossSize:B,crossPos:G}=y;for(const F of A)switch(F.getAlignSelf()||c){case "start":e(F,D,G);d(F,D,D?F.getFlexBasisWidth():F.getFlexBasisHeight(),!1);break;case "end":e(F,D,G+B-(D?F.getFlexBasisWidth():F.getFlexBasisHeight()));d(F,D,D?F.getFlexBasisWidth():
F.getFlexBasisHeight(),!1);break;case "center":e(F,D,G+(B-(D?F.getFlexBasisWidth():F.getFlexBasisHeight()))/2);d(F,D,D?F.getFlexBasisWidth():F.getFlexBasisHeight(),!1);break;case "baseline":n=!0;e(F,D,G+(B-(D?F.getFlexBasisWidth():F.getFlexBasisHeight()))/2+F.getFlexBaselineOffset(z));d(F,D,D?F.getFlexBasisWidth():F.getFlexBasisHeight(),!1);break;default:e(F,D,G),d(F,D,B,!1)}n&&b.updateFlexboxLayoutBaselineAdjustment(A,z,G)}b.__isUpdatingFlexboxLayout=!1;b.isUpdateAgain()&&!b.__UPDATE_AGAIN_LOOP_PROTECTION&&
(b.setUpdateAgain(!1),b.__UPDATE_AGAIN_LOOP_PROTECTION=!0,b.updateFlexboxLayout(),b.__UPDATE_AGAIN_LOOP_PROTECTION=!1)}else b.setTotalBasisWidth(0),b.setTotalBasisHeight(0)}},updateFlexboxLayoutBaselineAdjustment:(b,g,a)=>{}});q.FlexboxChildSupport=new w("FlexboxChildSupport",{setVisible:function(b){this.visible!==b&&(this.callSuper(b),this.updateFlexboxLayoutFromChild())},setXViaFlex(b,g){g&&(b+=this.x);this.x!==b&&(this.__isFlexUpdate=!0,this.setX(b),this.__isFlexUpdate=!1)},setYViaFlex(b,g){g&&
(b+=this.y);this.y!==b&&(this.__isFlexUpdate=!0,this.setY(b),this.__isFlexUpdate=!1)},setWidth:function(b){const g=this.width!==b;g&&!this.__isFlexUpdate&&(this.__basisWidth=null);this.callSuper(b);g&&this.updateFlexboxLayoutFromChild()},setWidthViaFlex(b){this.width!==b&&(this.__basisWidth??(this.__basisWidth=this.width),this.__isFlexUpdate=!0,this.setWidth(b),this.__isFlexUpdate=!1)},getFlexBasisWidth:function(){return this.__basisWidth??this.width},setHeight:function(b){const g=this.height!==b;
g&&!this.__isFlexUpdate&&(this.__basisHeight=null);this.callSuper(b);g&&this.updateFlexboxLayoutFromChild()},setHeightViaFlex(b){this.height!==b&&(this.__basisHeight??(this.__basisHeight=this.height),this.__isFlexUpdate=!0,this.setHeight(b),this.__isFlexUpdate=!1)},getFlexBasisHeight:function(){return this.__basisHeight??this.height},getFlexBaselineOffset:b=>0,setIgnoreFlex:function(b){this.__ignoreFlex!==b&&(this.__ignoreFlex=b,this.inited&&(this.fireEvent("ignoreFlex",b),this.isChildOfFlexbox()&&
this.parent.updateFlexboxLayout()))},ignoreFlex:function(){return this.__ignoreFlex},setGrow:function(b){b=u(0,b);this.grow!==b&&(this.grow=b,this.inited&&(this.fireEvent("grow",b),this.updateFlexboxLayoutFromChild()))},getGrow:function(){return this.grow},setShrink:function(b){b=u(0,b);this.shrink!==b&&(this.shrink=b,this.inited&&(this.fireEvent("shrink",b),this.updateFlexboxLayoutFromChild()))},getShrink:function(){return this.shrink},setAlignSelf:function(b){this.alignSelf!==b&&(this.alignSelf=
b,this.inited&&(this.fireEvent("alignSelf",b),this.updateFlexboxLayoutFromChild()))},getAlignSelf:function(){const b=this.alignSelf;return"auto"===b||""===b?null:b},isChildOfFlexbox:function(){return!(!this.parent||!this.parent.__IS_FLEXBOX_SUPPORT)},isFlexUpdateInProgress:function(){return this.__isFlexUpdate},updateFlexboxLayoutFromChild:function(){this.inited&&!this.ignoreFlex()&&this.isChildOfFlexbox()&&(this.isFlexUpdateInProgress()?this.parent.setUpdateAgain(!0):this.parent.updateFlexboxLayout())}})})(myt);
(q=>{const w=console.log,u=new Map,r=new Map,h=(g,a)=>a+(g[0]??"").toUpperCase()+g.slice(1),d=g=>r.get(g)??(r.set(g,h(g,"set")),r.get(g)),e=g=>u.get(g)??(u.set(g,h(g,"get")),u.get(g)),l=(g,a)=>{let f;for(const c in a){const n=a[c],v=d(c);if(v in g)g[v](n);else g[c]!==n&&(g[c]=n,(f??=!1!==g.inited&&g.fireEvent)&&g.fireEvent(c,n))}},k=(g,a)=>{const f=e(a);g[f]&&w("Overwriting getter",f);g[f]=function(){return this[a]}},b=(g,a)=>{const f=d(a);g[f]&&w("Overwriting setter",f);g[f]=function(c){this[a]!==
c&&(this[a]=c,this.inited&&this.fireEvent(a,c))}};q.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:d,generateGetterName:e,generateName:h,createSetterFunction:b,createGetterFunction:k,createSetterMixin:(g,a)=>{const f={};for(const c of g)b(f,c),a&&k(f,c);return f}},appendToEarlyAttrs:function(){(this.earlyAttrs??(this.earlyAttrs=[])).push(...arguments)},prependToEarlyAttrs:function(){(this.earlyAttrs??(this.earlyAttrs=[])).unshift(...arguments)},appendToLateAttrs:function(){(this.lateAttrs??
(this.lateAttrs=[])).push(...arguments)},prependToLateAttrs:function(){(this.lateAttrs??(this.lateAttrs=[])).unshift(...arguments)},quickSet:function(g,a){if(g)for(const f of g)this[f]=a[f],delete a[f]},callSetters:function(g){var a=this.earlyAttrs,f=this.lateAttrs;if(a||f){g={...g};if(a){var c=a.length;for(var n=0;n<c;){const t=a[n++];t in g&&(this.set(t,g[t]),delete g[t])}}let v;if(f)for(v=[],a=f.length,c=0;c<a;)n=f[c++],n in g&&(v.push(n,g[n]),delete g[n]);l(this,g);if(v)for(f=v.length,g=0;g<f;)this.set(v[g++],
v[g++])}else l(this,g)},get:function(g){const a=e(g);return"function"===typeof this[a]?this[a]():this[g]},set:function(g,a,f){if(!f&&(f=d(g),"function"===typeof this[f]))return this[f](a);this[g]!==a&&(this[g]=a,!1!==this.inited&&this?.fireEvent(g,a))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{const q=this.__meta__;if(q)for(const w of Object.keys(q))q[w]=null;for(const w of Object.keys(this))this[w]=null;this.destroyed=!0}}});
(q=>{const {Class:w,Module:u}=JS,r=console.warn;let h;const d=(f,c)=>c?(h=f).__op??(h.__op=[]):f.__op;let e;const l=(f,c)=>c?(e=f).__actives??(e.__actives=[]):f.__actives,k=new w("AbstractPool",{include:[q.Destructible],initialize:()=>{},destroy:function(){const f=d(this);f&&(f.length=0);this.callSuper()},getInstance:function(){const f=d(this,!0);return f.length?f.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(f){d(this,!0).push(this.cleanInstance(f))},
cleanInstance:f=>{"function"===typeof f.clean&&f.clean();return f},destroyPooledInstances:function(){var f=d(this);if(f){let c=f.length;for(;c;){const n=f[--c];"function"===typeof n.destroy&&n.destroy()}f.length=0}}}),b=q.SimplePool=new w("SimplePool",k,{initialize:function(f,c){this.callSuper();this.instanceClass=f??Object;this.instanceParent=c},createInstance:function(f){var c=this.instanceParent,n=this.instanceClass;return c?new n(c,f):new n}}),g=new u("TrackActives",{destroy:function(){const f=
l(this);f&&(f.length=0);this.callSuper()},getInstance:function(){const f=this.callSuper();l(this,!0).push(f);return f},putInstance:function(f){var c=l(this);if(c){const n=c.indexOf(f);if(-1<n){c.splice(n,1);this.callSuper(f);return}c="inactive"}else c="missing";r("Tried to put a "+c+" instance",f,this)},getActives:function(f){const c=l(this);if(c){if(f){const n=[],v=c.length;for(let t=0;v>t;){const p=c[t++];f.call(this,p)&&n.push(p)}return n}return c.slice()}return[]},putActives:function(){const f=
l(this);if(f){let c=f.length;for(;c;)this.putInstance(f[--c])}}}),a=q.TrackActivesPool=new w("TrackActivesPool",b,{include:[g]});q.TrackActivesMultiPool=new w("TrackActivesMultiPool",k,{initialize:function(f,c){this.callSuper();this.instanceClassesByKey=f;const n=this._poolsByClassName={},v=this.__pbk={};for(const t in f){const p=f[t];v[t]=n[p.__displayName]=new a(p,c)}},destroy:function(){const f=this.__pbk;for(const c in f)f[c].destroy();this.callSuper()},getInstance:function(){const f=arguments[0],
c=this.__pbk[f];if(c)return c.getInstance(arguments);r("No pool for key",f)},putInstance:function(f){const c=this._poolsByClassName[f.klass.__displayName];c?c.putInstance(f):r("No pool for obj",f)},destroyPooledInstances:function(){const f=this.__pbk;for(const c in f)f[c].destroyPooledInstances()},getActives:function(f){let c=[];const n=this.__pbk;for(const v in n)c.push(...n[v].getActives(f));return c},putActives:function(){const f=this.__pbk;for(const c in f)f[c].putActives()}});q.Reusable=new u("Reusable",
{clean:()=>{}})})(myt);
(q=>{const w=JS.Class,u=console.warn,r=[q.AccessorSupport,q.Destructible,q.Observable,q.Observer],h=(a,f)=>{if(f){const c=f.length;for(let n=0,v;c>n;)(v=f[n++])?a.extend(v):u("Missing mixin in",a.klass.__displayName)}a.inited=!1},d=(a,f)=>{if(f)for(;a;){if(f(a))return a;a=a.parent}},e=(a,f)=>{const c=f.name;void 0===a[c]?a[c]=f:u("Name in use",c)},l=(a,f)=>{const c=f.name;a[c]===f?delete a[c]:u("Name not in use",c)};let k;const b=a=>(k=a).__animPool??(k.__animPool=new q.TrackActivesPool(q.Animator,a));
let g;q.Eventable=new w("Eventable",{include:r,initialize:function(a,f){h(this,f);this.init(a??{})},init:function(a){this.callSetters(a);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});q.Node=new w("Node",{include:r,extend:{getMatchingAncestorOrSelf:d,getMatchingAncestor:(a,f)=>d(a?a.parent:null,f),DEFAULT_PLACEMENT:"*"},initialize:function(a,f,c){h(this,c);this.initNode(a,f??{})},initNode:function(a,f){this.callSetters(f);
this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a)for(let f=a.length;0<f;)a[--f].destroy();this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=
a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var f=this.placement??a.defaultPlacement;f&&(a=a.determinePlacement(f,this))}if(this.parent!==a&&!a?.destroyed){if(f=this.parent){const c=f.getSubnodes().indexOf(this);-1<c&&(this.name&&l(f,this),f.subnodes.splice(c,1),f.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&e(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==
a){const f=this.parent;f&&this.name&&l(f,this);this.name=a;f&&a&&e(f,this)}},determinePlacement:function(a,f){let c=a.indexOf("."),n;0<=c&&(n=a.slice(c+1),a=a.slice(0,c));"*"===a&&(a=this.defaultPlacement)&&(c=a.indexOf("."),0<=c&&(n=a.slice(c+1)+(n?"."+n:""),a=a.slice(0,c)));return(a=this[a])?n?a.determinePlacement(n,f):a:this},getRoot:function(){return this.parent?.getRoot()??this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&
a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(f=>f instanceof a)},searchAncestorsForModule:function(a){if(a)return this.searchAncestors(f=>f.isA(a))},searchAncestors:function(a){return d(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return d(this,
a)},getAncestors:function(){const a=[];let f=this;for(;f;)a.push(f),f=f.parent;return a},getSubnodes:function(){return this.subnodes??(this.subnodes=[])},subnodeAdded:a=>{},subnodeRemoved:a=>{},animate:function(a){if(a){const f=b(this),c=f.getInstance({ignorePlacement:!0}),n=a.callback;delete a.callback;c.callSetters(a);c.next(v=>{f.putInstance(c)});n&&c.next(n);c.setRunning(!0);return c}},getActiveAnimators:function(a){if("string"===typeof a){const f=a;a=c=>c.attribute===f}return b(this).getActives(a)},
stopActiveAnimators:function(a,f=!1){a=this.getActiveAnimators(a);let c=a.length;if(0<c){const n=b(this);for(;c;){const v=a[--c];v.reset(f);f||n.putInstance(v)}}},doOnceOnIdle:function(a){this.attachTo(q.global.idle,a,"idle",!0)},addRef:function(a,f){return((g=this).__REFS??(g.__REFS={}))[a]=f},getRef:function(a){return((g=this).__REFS??(g.__REFS={}))[a]},removeRef:function(a){const f=(g=this).__REFS??(g.__REFS={}),c=f[a];delete f[a];return c}})})(myt);
(q=>{let w=0,u=!1;const r=JS.Class,h=[],d=a=>{if(u!==a&&(u=a,!a)){for(a=h.length;a;){const f=h[--a];f.__deferredLayout=!1;f.update()}h.length=0}},e=(a,f,c,n)=>{const v=a.getSubviewIndex(f),t=a.subviews;-1<v&&(a=a.getSubviewIndex(c),t.splice(v,1),-1<a?(v<a&&--a,t.splice(a+(n?1:0),0,f)):n?t.push(f):t.unshift(f))},l=(a,f,c)=>{a[f]!==c&&(a[f]=c,a.inited&&(a.fireEvent(f,c),a.update()))},k=q.Layout=new r("Layout",q.Node,{extend:{incrementGlobalLock:()=>{1===++w&&d(!0)},decrementGlobalLock:()=>{0<w&&0===
--w&&d(!1)}},initNode:function(a,f){this.subviews=[];this.locked=!0;this.lockedCounter=1;const c=!0===f.locked;delete f.locked;this.callSuper(a,f);c||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(a){var f=this.parent;if(f!==a){const v=!this.locked;v&&(this.locked=!0);if(f){for(var c=this.subviews,n=c.length;n;)this.removeSubview(c[--n]);this.detachFrom(f,"__hndlPSA","subviewAdded");this.detachFrom(f,"__hndlPSR","subviewRemoved")}this.callSuper(a);
if(a=this.parent){f=a.getSubviews();c=f.length;for(n=0;c>n;)this.addSubview(f[n++]);this.attachTo(a,"__hndlPSA","subviewAdded");this.attachTo(a,"__hndlPSR","subviewRemoved")}v&&(this.locked=!1,this.inited&&a&&this.update())}},canUpdate:function(){return u?(this.__deferredLayout||(h.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(a){return this.subviews.includes(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},addSubview:function(a){this.ignore(a)||
(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:a=>{},startMonitoringAllSubviews:function(){const a=this.subviews;let f=a.length;for(;f;)this.startMonitoringSubview(a[--f])},removeSubview:function(a){if(this.ignore(a))return-1;const f=this.getSubviewIndex(a);-1<f&&(this.stopMonitoringSubview(a),this.subviews.splice(f,1),this.locked||this.update());return f},stopMonitoringSubview:a=>{},stopMonitoringAllSubviews:function(){const a=this.subviews;
let f=a.length;for(;f;)this.stopMonitoringSubview(a[--f])},ignore:a=>a.ignoreLayout,__hndlPSA:function(a){a=a.value;a.parent===this.parent&&this.addSubview(a)},__hndlPSR:function(a){a=a.value;a.parent===this.parent&&this.removeSubview(a)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,f){e(this,a,f,!1)},moveSubviewAfter:function(a,f){e(this,a,f,!0)}});var b=q.ConstantLayout=new r("ConstantLayout",k,{setTargetAttrName:function(a){this.setterName=q.AccessorSupport.generateSetterName(a);
l(this,"targetAttrName",a)},setTargetValue:function(a){l(this,"targetValue",a)},update:function(){if(this.canUpdate()){const a=this.setterName,f=this.targetValue,c=this.subviews,n=c.length;if(a)for(let v=0;n>v;)c[v++][a](f)}}});b=q.VariableLayout=new r("VariableLayout",b,{initNode:function(a,f){this.collapseParent=this.reverse=!1;this.callSuper(a,f)},setCollapseParent:function(a){l(this,"collapseParent",a)},setReverse:function(a){l(this,"reverse",a)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const f=this.setterName,c=this.subviews;var a=c.length;let n=this.targetValue,v,t=0;if(this.reverse)for(v=a;v;)a=c[--v],this.skipSubview(a)||(n=this.updateSubview(++t,a,f,n));else for(v=0;a>v;){const p=c[v++];this.skipSubview(p)||(n=this.updateSubview(++t,p,f,n))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(f,n);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(a){this.attachTo(a,
"update","visible")},stopMonitoringSubview:function(a){this.detachFrom(a,"update","visible")},updateSubview:(a,f,c,n)=>{f[c](n);return n},skipSubview:a=>!a.visible,updateParent:(a,f)=>{}});const g=q.SpacedLayout=new r("SpacedLayout",b,{initNode:function(a,f){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,f)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const f="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=f?"boundsHeight":"boundsWidth";this.measureAttrBaseName=f?"height":"width";this.parentSetterName=f?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){l(this,"spacing",a)},setOutset:function(a){l(this,
"outset",a)},addSubview:function(a){const f=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=f},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,f,c,n){a=f[this.measureAttrName];f[c](n+(a-f[this.measureAttrBaseName])/2);return n+a+this.spacing},updateParent:function(a,f){this.parent[this.parentSetterName](f+
this.outset-this.spacing)}});q.ResizeLayout=new r("ResizeLayout",g,{setCollapseParent:a=>{},setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){const f="x"===a;this.stopMonitoringParent(f?"height":"width");this.startMonitoringParent(f?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const f="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(f);this.callSuper(a);this.parent&&this.startMonitoringParent(f)}},startMonitoringParent:function(a){this.attachTo(this.parent,
"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){const a=this.measureAttrName,f=this.subviews;let c=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,n=f.length,v=0,t=0;for(;n;){const p=f[--n];this.skipSubview(p)||(++v,0<p.layoutHint?t+=p.layoutHint:c-=p[a])}0!==v&&(this.remainder=c-=(v-1)*this.spacing,this.resizeSum=t,this.scalingFactor=c/t,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===a?
"setWidth":"setHeight")},updateSubview:function(a,f,c,n){var v=f.layoutHint;0<v&&(this.resizeSumUsed+=v,v=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(v*this.scalingFactor),this.remainderUsed+=v,f[this.measureSetter](v));return this.callSuper(a,f,c,n)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<a.layoutHint||this.detachFrom(a,"update",
this.measureAttrName);this.detachFrom(a,"update","visible")},updateParent:(a,f)=>{}});q.AlignedLayout=new r("AlignedLayout",b,{initNode:function(a,f){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,f)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const f="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=
f?"boundsHeight":"boundsWidth";this.measureAttrBaseName=f?"height":"width";this.parentSetterName=f?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;const f=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=f;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},
stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){const a=this.measureAttrName,f=this.subviews;let c=0,n=f.length;for(;n;){const v=f[--n];this.skipSubview(v)||(c=c>v[a]?c:v[a])}this.setTargetValue(c)},updateSubview:function(a,f,c,n){switch(this.align){case "center":case "middle":f[c]((n-f[this.measureAttrName])/2);break;case "right":case "bottom":f[c](n-f[this.measureAttrName]);break;default:f[c](0)}return n},updateParent:function(a,
f){this.parent[this.parentSetterName](f)}});q.WrappingLayout=new r("WrappingLayout",b,{initNode:function(a,f){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(a,f)},
setTargetAttrName:function(a){if(this.targetAttrName!==a){const f="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=f?"boundsHeight":"boundsWidth";const n=this.measureAttrBaseName=f?"height":"width";this.otherMeasureAttrName=f?"boundsWidth":"boundsHeight";const v=this.otherMeasureAttrBaseName=f?"width":"height";this.parentSetterName=f?"setWidth":"setHeight";this.otherSetterName=f?"setX":"setY";c&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(v),this.startMonitoringParent(n));
this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const f="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(f?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(f?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){l(this,"spacing",a)},setOutset:function(a){l(this,"outset",a)},setLineSpacing:function(a){l(this,"lineSpacing",a)},setLineInset:function(a){l(this,
"lineInset",a)},setLineOutset:function(a){l(this,"lineOutset",a)},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update",this.otherMeasureAttrName);
this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,f,c,n){a=f[this.measureAttrName];const v=f[this.otherMeasureAttrName];n+a>this.parentSizeLessOutset||"break"===f.layoutHint?(n=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=v,++this.lineCount):v>this.lineSize&&(this.lineSize=v);f[this.otherSetterName](this.linePos+
(v-f[this.otherMeasureAttrBaseName])/2);f[c](n+(a-f[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,n+a+this.outset);return n+a+this.spacing},updateParent:function(a,f){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});q.createFixedThresholdCounter(k,1,"locked")})(myt);
(q=>{const w=Math.round,u=q.DomElementProxy,r=q.Geometry.rectContainsPoint,h=(c,n)=>{const v=q.global.focus.focusedView,t=c.getIDE();if(v===c||v?.isDescendantOf(c))v._ignoreFocus=!0;const {scrollTop:p,scrollLeft:A}=t;n();v&&(v._ignoreFocus=!1,v.focus(!0));t.scrollTop=p;t.scrollLeft=A},d=(c,n,v)=>{const t=c.getODE(),p=t.parentNode;if(p){const A=()=>{const I=t.nextElementSibling;p.removeChild(t);n();p.insertBefore(t,I)};v?h(c,A):A()}else n()},e=(c,n,v,t)=>{if(n&&"object"===typeof n){if(t){var p=c.getLeastCommonAncestor(n)?.getIDE();
if(p){const A=u.getZIndexRelativeToAncestor,I=v?-1:1;t=I*A(c.getODE(),p);p=I*A(n.getODE(),p);if(t<p)return!0;if(p<t)return!1}}c=c.getODE().compareDocumentPosition(n.getODE());return v?2===c||10===c:4===c||20===c}return!1},l=c=>{c=c.getAncestors();let n=c.length,v=1,t=1;for(;n;){const p=c[--n];v*=p.scaleX||1;t*=p.scaleY||1;p.__effectiveScaleX=v;p.__effectiveScaleY=t}return{scaleX:v,scaleY:t}},k=(c,n,v)=>{const t=c.getODE();if(r(n,v,0,0,t.offsetWidth*c.__effectiveScaleX,t.offsetHeight*c.__effectiveScaleY)){if(c=
c.parent){const p=c.getIDE();return k(c,n+(t.offsetLeft-p.scrollLeft)*c.__effectiveScaleX,v+(t.offsetTop-p.scrollTop)*c.__effectiveScaleY)}return!0}return!1},b=c=>{switch(c.align){case "center":c.releaseConstraint("__doAlignCenter");break;case "right":c.releaseConstraint("__doAlignRight")}},g=c=>{const n=c.parent;if(n)switch(c.align){case "center":c.constrain("__doAlignCenter",[c,"width",c,"alignOffset",n,"width"]);break;case "right":c.constrain("__doAlignRight",[c,"width",c,"alignOffset",n,"width"]);
break;case "left":c.setX(c.alignOffset||0)}},a=c=>{switch(c.valign){case "middle":c.releaseConstraint("__doValignMiddle");break;case "bottom":c.releaseConstraint("__doValignBottom")}},f=c=>{const n=c.parent;if(n)switch(c.valign){case "middle":c.constrain("__doValignMiddle",[c,"height",c,"valignOffset",n,"height"]);break;case "bottom":c.constrain("__doValignBottom",[c,"height",c,"valignOffset",n,"height"]);break;case "top":c.setY(c.valignOffset||0)}};q.View=new JS.Class("View",q.Node,{include:[u,q.DomObservable,
q.DomObserver,q.ScrollObservable,q.FocusObservable,q.KeyObservable,q.MouseObservable],extend:{retainFocusDuringDomUpdate:h,doWhileRemovedFromDom:d},initNode:function(c,n){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;n.tagName&&(this.tagName=n.tagName,delete n.tagName);this.setDomElement(this.createOurDomElement(c));const v=this.getODS();v.left=v.top="0px";this.callSuper(c,n);this.__updateBounds(this.width,this.height)},createOurDomElement:function(c){c=document.createElement(this.tagName??
"div");c.style.position="absolute";let n;c.className=(n=this.klass).__cssClassName??(n.__cssClassName="myt-"+this.klass.__displayName.split(".").join("-"));return c},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(c){this.parent!==c&&(this.inited&&(b(this),a(this)),this.callSuper(c),this.align&&g(this),this.valign&&f(this))},getSubviews:function(){return this.subviews??(this.subviews=[])},
getSubviewsInLexicalOrder:function(){const c=[],n=this.getIDE().children,v=n.length;for(let t=0;t<v;){const p=n[t++].model;p?.parent===this&&c.push(p)}return c},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(c=>c!==this)},setFocusTrap:function(c){this.focusTrap=c},setFocusCage:function(c){this.focusCage=c},setMaskFocus:function(c){this.maskFocus=c},setLayoutHint:function(c){this.layoutHint=c},getLayouts:function(){return this.layouts??(this.layouts=[])},getFirstLayout:function(){return this.getLayouts()[0]},
setIgnoreLayout:function(c){if(this.ignoreLayout!==c){var n=this.inited&&this.parent;let v;if(c){if(n)for(n=this.parent.getLayouts(),v=n.length;v;)n[--v].removeSubview(this);this.ignoreLayout=c}else if(this.ignoreLayout=c,n)for(n=this.parent.getLayouts(),v=n.length;v;)n[--v].addSubview(this)}},setDomClass:function(c){this.domClass!==c&&(this.callSuper(c),this.inited&&this.fireEvent("domClass",c))},setDomId:function(c){this.domId!==c&&(this.callSuper(c),this.inited&&this.fireEvent("domId",c))},setAlignOffset:function(c){this.alignOffset!==
c&&(this.alignOffset=c,this.inited&&this.fireEvent("alignOffset",c),this.parent&&"left"===this.align&&this.setX(c))},setAlign:function(c){this.align!==c&&(this.inited&&b(this),this.align=c,this.inited&&(this.fireEvent("align",c),g(this)))},__doAlignCenter:function(c){this.setX(w((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(c){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(c){this.valignOffset!==c&&(this.valignOffset=c,this.inited&&
this.fireEvent("valignOffset",c),this.parent&&"top"===this.valign&&this.setY(c))},setValign:function(c){this.valign!==c&&(this.inited&&a(this),this.valign=c,this.inited&&(this.fireEvent("valign",c),f(this)))},__doValignMiddle:function(c){this.setY(w((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(c){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(c){this.x!==c&&(this.x=c,this.visible&&(this.getODS().left=c+"px"),this.inited&&this.fireEvent("x",
c))},setY:function(c){this.y!==c&&(this.y=c,this.visible&&(this.getODS().top=c+"px"),this.inited&&this.fireEvent("y",c))},setWidth:function(c){0>c&&(c=0);this.width!==c&&(this.width=c,this.getODS().width=c+"px",this.inited&&(this.__updateBounds(c,this.height),this.fireEvent("width",c)))},setHeight:function(c){0>c&&(c=0);this.height!==c&&(this.height=c,this.getODS().height=c+"px",this.inited&&(this.__updateBounds(this.width,c),this.fireEvent("height",c)))},setDomMinWidth:function(c,n){(n?this.getIDS():
this.getODS()).minWidth=null!=c?c+"px":null},getDomMinWidth:function(c){c=(c?this.getIDS():this.getODS()).minWidth;return null!=c?Number.parseInt(c):null},setDomMinHeight:function(c,n){(n?this.getIDS():this.getODS()).minHeight=null!=c?c+"px":null},getDomMinHeight:function(c){c=(c?this.getIDS():this.getODS()).minHeight;return null!=c?Number.parseInt(c):null},setTextColor:function(c){this.textColor!==c&&(this.textColor=c,this.getODS().color=c||"inherit",this.inited&&this.fireEvent("textColor",c))},
setBgColor:function(c){this.bgColor!==c&&(this.getODS().backgroundColor=this.bgColor=c,this.inited&&this.fireEvent("bgColor",c))},isColorAttr:c=>"bgColor"===c||"textColor"===c,setOpacity:function(c){this.opacity!==c&&(this.getODS().opacity=this.opacity=c,this.inited&&this.fireEvent("opacity",c))},setOverflow:function(c){const n=this.overflow;if(n!==c){this.overflow=c;const v=this.getIDS();if("autox"===c)v.overflowX="auto",v.overflowY="hidden";else if("autoy"===c)v.overflowY="auto",v.overflowX="hidden";
else{if("autox"===n||"autoy"===n)v.overflowX=v.overflowY=null;v.overflow=c||"visible"}this.inited&&this.fireEvent("overflow",c)}},setVisible:function(c){if(this.visible!==c){this.visible=c;const n=this.getODS();n.visibility=c?"inherit":"hidden";n.left=c?this.x+"px":"-100000px";n.top=c?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",c)}},setPointerEvents:function(c){this.pointerEvents!==c&&(this.pointerEvents=c,this.getODS().pointerEvents=c||"auto",this.inited&&this.fireEvent("pointerEvents",
c))},setCursor:function(c){this.cursor!==c&&(this.cursor=c,this.getODS().cursor=c||"auto",this.inited&&this.fireEvent("cursor",c))},__updateBounds:function(c,n){this.boundsWidth!==c&&this.fireEvent("boundsWidth",this.boundsWidth=c);this.boundsHeight!==n&&this.fireEvent("boundsHeight",this.boundsHeight=n)},setOutline:function(c){const [n,v,t]=c??[];this.setOutlineWidth(n);this.setOutlineStyle(v);this.setOutlineColor(t)},setOutlineWidth:function(c){this.getODS().outlineWidth=(this.outlineWidth=c||0)+
"px"},setOutlineStyle:function(c){this.getODS().outlineStyle=this.outlineStyle=c||"none"},setOutlineColor:function(c){this.getODS().outlineColor=this.outlineColor=c||"#000"},setBorder:function(c){const [n,v,t]=c??[];this.setBorderWidth(n);this.setBorderStyle(v);this.setBorderColor(t)},setBorderWidth:function(c){this.getODS().borderWidth=(this.borderWidth=c||0)+"px"},setBorderStyle:function(c){this.getODS().borderStyle=this.borderStyle=c||"none"},setBorderColor:function(c){this.getODS().borderColor=
this.borderColor=c||"#000"},setRoundedCorners:function(c){this.getODS().borderRadius=c+"px"},setRoundedTopLeftCorner:function(c){this.getODS().borderTopLeftRadius=c+"px"},setRoundedTopRightCorner:function(c){this.getODS().borderTopRightRadius=c+"px"},setRoundedBottomLeftCorner:function(c){this.getODS().borderBottomLeftRadius=c+"px"},setRoundedBottomRightCorner:function(c){this.getODS().borderBottomRightRadius=c+"px"},setBoxShadow:function(c){const [n,v,t,p]=c??[];this.getODS().boxShadow=c?(n||0)+
"px "+(v||0)+"px "+(t||7)+"px "+(p||"#000"):"none"},setGradient:function(c){const n=this.getODS();if(c){let t=c[0];"linear"===t||"radial"===t?c.shift():t="linear";let p=c[0];if("radial"===t){void 0===p?p="closest-side":c.shift();var v=c[0];if(void 0===v)v="circle";else{switch(v){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",v),v="circle"}c.shift()}let A=c[0];void 0===A?A="center":(A=A.replaceAll("middle","center"),c.shift());p=v+" "+p+" at "+A}else"number"===
typeof p?(p+="deg",c.shift()):p?(p="to "+p,c.shift()):p="0deg";v=A=>{c.push(A&&"inherit"!==A?A:"transparent")};2>c.length&&v(this.textColor);2>c.length&&v(this.bgColor);n.background=t+"-gradient("+p+","+c.join(",")+")"}else n.background="none";this.bgColor=void 0},setTooltip:function(c){this.tooltip!==c&&(this.tooltip=this.getODE().title=c,this.inited&&this.fireEvent("tooltip",c))},isVisible:function(){return null==this.searchAncestorsOrSelf(c=>!c.visible)},getFocusTrap:function(c){return this.searchAncestorsOrSelf(n=>
n.focusCage||n.focusTrap&&!c)},subnodeAdded:function(c){c instanceof q.View?(this.getIDE().appendChild(c.getODE()),this.getSubviews().push(c),this.fireEvent("subviewAdded",c),this.subviewAdded(c)):c instanceof q.Layout&&(this.getLayouts().push(c),this.fireEvent("layoutAdded",c),this.layoutAdded(c))},subnodeRemoved:function(c){let n;c instanceof q.View?(n=this.getSubviewIndex(c),-1<n&&(this.fireEvent("subviewRemoved",c),c.removeDomElement(),this.subviews.splice(n,1),this.subviewRemoved(c))):c instanceof
q.Layout&&(n=this.getLayoutIndex(c),-1<n&&(this.fireEvent("layoutRemoved",c),this.layouts.splice(n,1),this.layoutRemoved(c)))},hasSubview:function(c){return this.getSubviews().includes(c)},getSubviewIndex:function(c){return this.getSubviews().indexOf(c)},subviewAdded:c=>{},subviewRemoved:c=>{},getNextSibling:function(){if(this.parent)return this.getODE().nextElementSibling?.model},getPrevSibling:function(){if(this.parent)return this.getODE().previousElementSibling?.model},destroyAllSubviews:function(c){const n=
this.getSubviews();for(let v=n.length;0<v;){const t=n[--v];c&&!c(t)||t.destroy()}},hasLayout:function(c){return this.getLayouts().includes(c)},getLayoutIndex:function(c){return this.getLayouts().indexOf(c)},layoutAdded:c=>{},layoutRemoved:c=>{},isBehind:function(c,n){return e(this,c,!1,n)},isInFrontOf:function(c,n){return e(this,c,!0,n)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(c,n){this.parent.sendSubviewBehind(this,
c,n)},sendInFrontOf:function(c,n){this.parent.sendSubviewInFrontOf(this,c,n)},doSubviewsReorderedInDom:c=>{},bringSubviewToFront:function(c){const n=this;if(c?.parent===n){const v=n.getIDE(),t=c.getODE();t!==v.lastElementChild&&h(c,()=>{v.appendChild(t);n.doSubviewsReorderedInDom(c)})}},sendSubviewToBack:function(c){const n=this;if(c?.parent===n){const v=n.getIDE(),t=v.firstElementChild,p=c.getODE();p!==t&&h(c,()=>{v.insertBefore(p,t);n.doSubviewsReorderedInDom(c)})}},sendSubviewBehind:function(c,
n,v){v?.moveSubviewBefore(c,n);const t=this;if(c?.parent===t&&n?.parent===t){const p=c.getODE(),A=n.getODE();if(p!==A.previousElementSibling){const I=t.getIDE();h(c,()=>{I.insertBefore(p,A);t.doSubviewsReorderedInDom(c)})}}v?.update()},sendSubviewInFrontOf:function(c,n,v){v?.moveSubviewAfter(c,n);const t=this;if(c?.parent===t&&n?.parent===t){const p=c.getODE(),A=n.getODE().nextElementSibling;if(p!==A){const I=t.getIDE();h(c,()=>{I.insertBefore(p,A);t.doSubviewsReorderedInDom(c)})}}v?.update()},sortSubviews:function(c){const n=
this,v=n.getSubviews();q.isSorted(v,c)||(v.sort(c),d(n,()=>{const t=document.createDocumentFragment(),p=v.length;for(let A=0;p>A;)t.appendChild(v[A++].getODE());n.getIDE().appendChild(t)},!0),n.doSubviewsReorderedInDom(null))},containsPoint:function(c,n,v){const t=this.getODE();if(!t)return!1;const {x:p,y:A}=u.getRelativePosition(t,v);return r(c,n,p,A,this.width,this.height)},isPointVisible:function(c,n){const {x:v,y:t}=this.getPagePosition(!0);l(this);return k(this,c-v,n-t)},intersectsWithSibling:function(c){return c.parent===
this.parent&&!(c.x>this.x+this.width||c.x+c.width<this.x||c.y>this.y+this.height||c.y+c.height<this.y)},getEffectiveScale:function(){return l(this)},getEffectiveScaleX:function(){return l(this).scaleX},getEffectiveScaleY:function(){return l(this).scaleY}})})(myt);
(q=>{const w=(r,h,d)=>{const e=u(r,h);r.getODS().transform=e+(0===e.length?"":" ")+h+"("+d+")"},u=(r,h)=>{r=r.getODS();var d=r.transform;if(!d||0===d.length)return"";d=d.split(" ");let e=d.length;for(;e;)if(d[--e].startsWith(h)){d.splice(e,1);break}return r.transform=d.join(" ")};q.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(r){this.transformOrigin!==r&&(this.transformOrigin=r,this.getODS().transformOrigin=r||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",r)))},setRotation:function(r){this.rotation!==r&&(this.rotation=r,w(this,"rotate",(r||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",r)))},setScale:function(r){const h=this.scaleX!==r,d=this.scaleY!==r;if(h){var e=this.scaleX=r;null==e?u(this,"scaleX"):w(this,"scaleX",e||1)}d&&(e=this.scaleY=r,null==e?u(this,"scaleY"):w(this,"scaleY",e||1));this.inited&&((h||d)&&this.__updateBounds(this.width,this.height),
h&&this.fireEvent("scaleX",r),d&&this.fireEvent("scaleY",r))},setScaleX:function(r){if(this.scaleX!==r){var h=this.scaleX=r;null==h?u(this,"scaleX"):w(this,"scaleX",h||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",r))}},setScaleY:function(r){if(this.scaleY!==r){var h=this.scaleY=r;null==h?u(this,"scaleY"):w(this,"scaleY",h||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",r))}},setSkewX:function(r){this.skewX!==r&&(this.skewX=
r,w(this,"skewX",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",r)))},setSkewY:function(r){this.skewY!==r&&(this.skewY=r,w(this,"skewY",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",r)))},__updateBounds:function(r,h){const {rotation:d,scaleX:e,scaleY:l}=this,k=(null==e||1===e)&&(null==l||1===l);if(!k||null!=d&&0!==d&&180!==d)!k||90!==d&&270!==d?{width:r,height:h}=this.getODE().getBoundingClientRect():{width:h,height:r}=
this;this.callSuper(r,h)}})})(myt);
(q=>{const w=JS.Module,u=(e,l)=>{if("auto"===l)e.__hasSetWidth=!1,e.getODS().width="auto",e.sizeViewToDom();else return e.__hasSetWidth=!0},r=(e,l)=>{if("auto"===l)e.__hasSetHeight=!1,e.getODS().height="auto",e.sizeViewToDom();else return e.__hasSetHeight=!0},h=e=>{if(!e.__hasSetWidth){const l=e.getODE().offsetWidth/e.getEffectiveScaleX();e.width!==l&&(e.width=l,e.inited&&e.__updateBounds(l,e.height),e.fireEvent("width",l))}},d=e=>{if(!e.__hasSetHeight){const l=e.getODE().offsetHeight/e.getEffectiveScaleY();
e.height!==l&&(e.height=l,e.inited&&e.__updateBounds(e.width,l),e.fireEvent("height",l))}};q.SizeToDom=new w("SizeToDom",{extend:{sizeWidth:h,sizeHeight:d},initNode:function(e,l){this.callSuper(e,l);this.sizeViewToDom()},setWidth:function(e){u(this,e)&&this.callSuper(e)},setHeight:function(e){r(this,e)&&this.callSuper(e)},sizeViewToDom:function(){h(this);d(this)}});q.SizeWidthToDom=new w("SizeWidthToDom",{initNode:function(e,l){this.callSuper(e,l);this.sizeViewToDom()},setWidth:function(e){u(this,
e)&&this.callSuper(e)},sizeViewToDom:function(){h(this)}});q.SizeHeightToDom=new w("SizeHeightToDom",{initNode:function(e,l){this.callSuper(e,l);this.sizeViewToDom()},setHeight:function(e){r(this,e)&&this.callSuper(e)},sizeViewToDom:function(){d(this)}})})(myt);
(q=>{const w=JS.Module,u=(e,l,k,b)=>{e[k]!==l&&(e[k]=l,e.getIDS()[k]=l||b||"inherit",e.inited&&(e.fireEvent(k,l),e.sizeViewToDom?.()))};q.TextSupport=new w("TextSupport",{setWidth:function(e){this.callSuper(e);"auto"!==e&&(e=this.whiteSpace,"normal"!==e&&"pre-line"!==e&&"pre-wrap"!==e&&"break-spaces"!==e||this.sizeViewToDom())},setText:function(e){e||="";e=this.valueFromEvent(e);this.text!==e&&(this.getIDE().innerHTML=this.text=e,this.inited&&(this.fireEvent("text",e),this.sizeViewToDom()))},setTextOverflow:function(e){this.textOverflow!==
e&&(this.textOverflow=e,this.getIDS().textOverflow=e||"inherit",this.inited&&this.fireEvent("textOverflow",e))},setTextAlign:function(e){this.textAlign!==e&&(this.textAlign=e,this.getIDS().textAlign=e||"inherit",this.inited&&this.fireEvent("textAlign",e))},setWhiteSpace:function(e){u(this,e,"whiteSpace")},setWordWrap:function(e){u(this,e,"wordWrap","normal")},setTextIndent:function(e){u(this,e,"textIndent")},setTextTransform:function(e){u(this,e,"textTransform")},setTextDecoration:function(e){u(this,
e,"textDecoration")},setLineHeight:function(e){u(this,e,"lineHeight")},setLetterSpacing:function(e){u(this,e,"letterSpacing")},setWordSpacing:function(e){u(this,e,"wordSpacing")},setFontFamily:function(e){u(this,e,"fontFamily")},setFontStyle:function(e){u(this,e,"fontStyle")},setFontVariant:function(e){u(this,e,"fontVariant")},setFontWeight:function(e){u(this,e,"fontWeight")},setFontSize:function(e){u(this,e,"fontSize")},setUserUnselectable:function(e){this.userUnselectable!==e&&(this.userUnselectable=
e,this[e?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(e?"default":"text"),this.inited&&this.fireEvent("userUnselectable",e))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(e,l,k,b){this.getIDS().textShadow=(e||0)+"px "+(l||0)+"px "+(null!=k?k:2)+"px "+(b||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}});const r=(e,l,k)=>{const b="padding"+k;l=Math.max(l,0);e[b]!==l&&(e[b]=l,e.getIDS()[b]=l+"px",e.fireEvent(b,l),"Left"===k||"Right"===k?h(e):d(e))},h=e=>{e.__hasSetWidth&&(e.getODS().width=e.width-(e.paddingLeft||0)-(e.paddingRight||0)+"px",e.inited&&e.sizeViewToDom())},d=e=>{e.__hasSetHeight&&(e.getODS().height=e.height-(e.paddingTop||0)-(e.paddingBottom||0)+"px",e.inited&&e.sizeViewToDom())};q.PaddedTextSupport=new w("PaddedTextSupport",{setWidth:function(e){this.callSuper(e);h(this)},setHeight:function(e){this.callSuper(e);
d(this)},setPadding:function(e){let l,k,b;e||=0;"object"===typeof e?(l=e.top||0,k=e.right||0,b=e.bottom||0,e=e.left||0):l=k=b=e;this.setPaddingTop(l);this.setPaddingRight(k);this.setPaddingBottom(b);this.setPaddingLeft(e)},setPaddingTop:function(e){r(this,e,"Top")},setPaddingRight:function(e){r(this,e,"Right")},setPaddingBottom:function(e){r(this,e,"Bottom")},setPaddingLeft:function(e){r(this,e,"Left")}})})(myt);
(q=>{const w={},u={},r=h=>{const d=h.imageUrl;if(h.calculateNaturalSize&&d){var e=w[d];if(e)h.setNaturalWidth(e.width),h.setNaturalHeight(e.height);else{e=u[d];if(!e){u[d]=e=[];const l=new Image;l.onerror=k=>{if(k=u[d]){let b=k.length;for(;b;)k[--b].setImageLoadingError(!0);k.length=0;delete u[d]}};l.onload=()=>{const k=l.width,b=l.height,g=u[d];if(g){let a=g.length;for(;a;){const f=g[--a];f.imageUrl===d&&(f.setNaturalWidth(k),f.setNaturalHeight(b))}g.length=0;delete u[d]}w[d]={width:k,height:b}};
l.src=d}e.push(h)}}};q.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:h=>w[h]},initNode:function(h,d){d.imageRepeat??(d.imageRepeat="no-repeat");d.imageAttachment??(d.imageAttachment="scroll");this.callSuper(h,d)},setImageUrl:function(h){this.imageUrl!==h&&(this.imageUrl=h,this.getIDS().backgroundImage=h?'url("'+h+'")':"none",this.inited&&(this.fireEvent("imageUrl",h),this.setNaturalWidth(),this.setNaturalHeight(),!h&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
r(this))},setImageLoadingError:function(h){this.set("imageLoadingError",h,!0)},setImageSize:function(h){this.imageSize!==h&&(this.imageSize=h,this.getIDS().backgroundSize=h||"auto",this.inited&&this.fireEvent("imageSize",h))},setImageRepeat:function(h){this.imageRepeat!==h&&(this.getIDS().backgroundRepeat=this.imageRepeat=h,this.inited&&this.fireEvent("imageRepeat",h))},setImagePosition:function(h){this.imagePosition!==h&&(this.getIDS().backgroundPosition=this.imagePosition=h,this.inited&&this.fireEvent("imagePosition",
h))},setImageAttachment:function(h){this.imageAttachment!==h&&(this.getIDS().backgroundAttachment=this.imageAttachment=h,this.inited&&this.fireEvent("imageAttachment",h))},setCalculateNaturalSize:function(h){this.calculateNaturalSize!==h&&(this.calculateNaturalSize=h,this.inited&&this.fireEvent("calculateNaturalSize",h),r(this))},setNaturalWidth:function(h){this.naturalWidth!==h&&(this.naturalWidth=h,this.inited&&this.fireEvent("naturalWidth",h),this.useNaturalSize&&h&&this.setWidth(h))},setNaturalHeight:function(h){this.naturalHeight!==
h&&(this.naturalHeight=h,this.inited&&this.fireEvent("naturalHeight",h),this.useNaturalSize&&h&&this.setHeight(h))},setUseNaturalSize:function(h){this.useNaturalSize!==h&&(this.useNaturalSize=h,this.inited&&this.fireEvent("useNaturalSize",h),h&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),h&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(q=>{const w=JS.Class,{View:u,SizeToDom:r}=q;q.Flexbox=new w("Flexbox",u,{include:[q.FlexboxSupport]});q.Frame=new w("Frame",u,{initNode:function(h,d){d.tagName??(d.tagName="iframe");this.callSuper(h,d);h=q.global.mouse;this.attachToDom(h,"__doMouseDown","mousedown",!0);this.attachToDom(h,"__doMouseUp","mouseup",!0)},createOurDomElement:function(h){h=this.callSuper(h);(Array.isArray(h)?h[1]:h).style.border="0px";return h},setSrc:function(h){this.src!==h&&(this.src=this.getIDE().src=h,this.inited&&
this.fireEvent("src",h))},__doMouseDown:function(h){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(h){this.setPointerEvents(this.__restorePointerEvents);return!0}});q.Markup=new w("Markup",u,{include:[r],setHtml:function(h){this.html!==h&&(this.getIDE().innerHTML=this.html=h,this.inited&&(this.fireEvent("html",h),this.sizeViewToDom()))}});q.Text=new w("Text",u,{include:[r,q.TextSupport],initNode:function(h,d){d.whiteSpace??(d.whiteSpace=
"nowrap");d.userUnselectable??(d.userUnselectable=!0);this.callSuper(h,d)},measureNoWrapWidth:function(){const h=this.__hasSetWidth,d=this.width;if(!h&&"nowrap"===this.whiteSpace)return d;const e=this.getIDS(),l=e.whiteSpace;h&&(e.width="auto");e.whiteSpace="nowrap";const k=this.getODE().getBoundingClientRect().width;e.whiteSpace=l;h&&(e.width=d);return k}});q.PaddedText=new w("PaddedText",q.Text,{include:[q.PaddedTextSupport]});q.Image=new w("Image",u,{include:[q.ImageSupport],initNode:function(h,
d){d.useNaturalSize??(d.useNaturalSize=!0);this.callSuper(h,d)}});q.BackView=new w("BackView",u,{sendSubviewToBack:function(h){if(h.parent===this){const d=this.getIDE(),e=d.childNodes[1];h=h.getODE();h!==e&&(h=d.removeChild(h))&&d.insertBefore(h,e)}}})})(myt);
(q=>{const w=Math.round,u=e=>{e.parent&&0<=e.percentOfParentWidth&&e.syncTo(e.parent,"__doPOPW","width")},r=e=>{0<=e.percentOfParentWidth&&e.detachFrom(e.parent,"__doPOPW","width")},h=e=>{e.parent&&0<=e.percentOfParentHeight&&e.syncTo(e.parent,"__doPOPH","height")},d=e=>{0<=e.percentOfParentHeight&&e.detachFrom(e.parent,"__doPOPH","height")};q.SizeToParent=new JS.Module("SizeToParent",{setParent:function(e){this.parent!==e&&(this.inited&&(r(this),d(this)),this.callSuper(e),u(this),h(this))},setPercentOfParentWidthOffset:function(e){this.percentOfParentWidthOffset!==
e&&(this.percentOfParentWidthOffset=e,this.inited&&(this.fireEvent("percentOfParentWidthOffset",e),this.__doPOPW()))},setPercentOfParentWidth:function(e){this.percentOfParentWidth!==e&&(this.inited&&r(this),this.percentOfParentWidth=e,this.inited&&(this.fireEvent("percentOfParentWidth",e),u(this)))},setPercentOfParentHeightOffset:function(e){this.percentOfParentHeightOffset!==e&&(this.percentOfParentHeightOffset=e,this.inited&&(this.fireEvent("percentOfParentHeightOffset",e),this.__doPOPH()))},setPercentOfParentHeight:function(e){this.percentOfParentHeight!==
e&&(this.inited&&d(this),this.percentOfParentHeight=e,this.inited&&(this.fireEvent("percentOfParentHeight",e),h(this)))},__doPOPW:function(e){this.setWidth((this.percentOfParentWidthOffset||0)+w(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(e){this.setHeight((this.percentOfParentHeightOffset||0)+w(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(q=>{let w;const u=[];new JS.Singleton("GlobalRootViewRegistry",{include:[q.Observable],initialize:function(){q.global.register("roots",w=this)},getRoots:()=>u,addRoot:r=>{u.push(r);w.fireEvent("rootAdded",r)},removeRoot:r=>{const h=u.indexOf(r);-1<h&&(u.splice(h,1),w.fireEvent("rootRemoved",r))}})})(myt);
(q=>{const {addEventListener:w,removeEventListener:u,global:{roots:r}}=q,h=q.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:d=>{const e=d.getIDE();d=d.__captureDrop=l=>{l.preventDefault()};w(e,"drop",d);w(e,"dragover",d)},teardownCaptureDrop:d=>{const e=d.getIDE();d=d.__captureDrop;u(e,"drop",d);u(e,"dragover",d)}},initNode:function(d,e){this.callSuper(d,e);this.setZIndex(0);this.addDomClass("myt");r.addRoot(this);h.setupCaptureDrop(this)},createOurDomElement:function(d){d||(d=this.callSuper(d),
q.getElement().appendChild(d));return d},destroy:function(){h.teardownCaptureDrop(this);r.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(d){this.keepDomElementWhenDestroyed=d},setParent:d=>{},bringToFront:function(){var d=this.getIDE();const e=d.parentNode;d!==e.lastChild&&(d=e.removeChild(d))&&e.appendChild(d)},sendToBack:function(){var d=this.getIDE();const e=d.parentNode;d!==e.firstChild&&(d=e.removeChild(d))&&
e.insertBefore(d,e.firstChild)},sendBehind:function(d,e){e=this.getIDE();d=d.getIDE();const l=e.parentNode;d.parentNode===l&&(e=l.removeChild(e))&&l.insertBefore(e,d)},sendInFrontOf:function(d,e){d.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(d,e),d.sendBehind(this,e))}})})(myt);
(q=>{let w,u,r=!1;const {requestAnimationFrame:h,cancelAnimationFrame:d}=window,e={},l=b=>{w=h(l);b=Math.round(b);-1!==u&&(e.delta=b-u,e.time=b,k.fireEvent("idle",e));u=b},k=new JS.Singleton("GlobalIdle",{include:[q.Observable],initialize:function(){q.global.register("idle",this)},attachObserver:(b,g,a)=>{b=k.callSuper(b,g,a);!r&&k.hasObservers("idle")&&(r=!0,u=-1,w=h(l));return b},detachObserver:(b,g,a)=>{b=k.callSuper(b,g,a);r&&!k.hasObservers("idle")&&(d(w),r=!1);return b}})})(myt);
(q=>{let w,u,r;const h=q.global,d=h.idle,e=window.document;new JS.Singleton("GlobalWindowResize",{include:[q.Observable,q.Observer],initialize:function(){w=this;w.attachTo(d,"__setup","idle");h.register("windowResize",w)},__setup:l=>{const k=e.body;k&&(w.detachFrom(d,"__setup","idle"),(new ResizeObserver(()=>{w.fireEvent("resize",{w:u=k.clientWidth,h:r=k.clientHeight})})).observe(k))},getWidth:()=>u??=e.body.clientWidth,getHeight:()=>r??=e.body.clientHeight})})(myt);
(q=>{const w=JS.Module,u=q.global.windowResize,r=Math.max,h=e=>{const l=e.resizeDimension;"both"!==l&&"width"!==l||e.setWidth(r(e.minWidth,u.getWidth()));"both"!==l&&"height"!==l||e.setHeight(r(e.minHeight,u.getHeight()))},d=q.SizeToWindow=new w("SizeToWindow",{include:[q.RootView],initNode:function(e,l){this.minWidth=this.minHeight=0;l.resizeDimension??(l.resizeDimension="both");this.attachTo(u,"__hndlResize","resize");this.callSuper(e,l)},setResizeDimension:function(e){this.resizeDimension!==e&&
(this.resizeDimension=e,h(this))},setMinWidth:function(e){this.minWidth!==e&&(this.minWidth=e,h(this))},setMinHeight:function(e){this.minHeight!==e&&(this.minHeight=e,h(this))},__hndlResize:function(e){h(this)}});q.SizeToWindowWidth=new w("SizeToWindowWidth",{include:[d],initNode:function(e,l){l.resizeDimension??(l.resizeDimension="width");this.callSuper(e,l)}});q.SizeToWindowHeight=new w("SizeToWindowHeight",{include:[d],initNode:function(e,l){l.resizeDimension??(l.resizeDimension="height");this.callSuper(e,
l)}})})(myt);
(q=>{const w=Math,{min:u,max:r}=w,h=f=>u(255,r(0,w.round(f))),d=f=>h(f).toString(16).padStart(2,"0"),e=(f,c,n,v)=>(v?"#":"")+d(f)+d(c)+d(n),l=f=>new a((16711680&f)>>16,(65280&f)>>8,255&f),k=(f,c)=>{if("string"===typeof f)if(f.endsWith("%"))f=parseFloat(f.slice(0,-1))*c/100;else return 0;f=u(c,r(0,f))/c;return 1E-6>w.abs(1-f)?1:f},b=(f,c,n)=>{f=k(f,255);c=k(c,255);n=k(n,255);const v=r(f,c,n),t=v-u(f,c,n);if(0===t)return{h:0,s:0,v};let p;switch(v){case f:p=(c-n)/t+(c<n?6:0);break;case c:p=(n-f)/t+2;
break;case n:p=(f-c)/t+4}return{h:60*p,s:0===v?0:t/v,v}},g=(f,c,n)=>{f=6*k(f,360);c=k(c,100);n=k(n,100);var v=w.floor(f);const t=f-v;f=n*(1-c);const p=n*(1-t*c);c=n*(1-(1-t)*c);v%=6;return{red:255*[n,p,f,f,c,n][v],green:255*[c,n,n,p,f,f][v],blue:255*[f,f,c,n,n,p][v]}},a=q.Color=new JS.Class("Color",{extend:{toUnitRange:k,rgbToHsv:b,hsvToRgb:g,toHex:d,rgbToHex:e,cleanChannelValue:h,getRedChannel:f=>(16711680&f)>>16,getGreenChannel:f=>(65280&f)>>8,getBlueChannel:f=>255&f,makeColorFromNumber:l,makeColorFromHexString:f=>
{if(f)switch(f.startsWith("#")&&(f=f.slice(1)),f.length){case 0:f+="0";case 1:f+="0";case 2:f+="0";case 3:case 4:case 5:const [c,n,v]=f;return new a(parseInt(c+c,16),parseInt(n+n,16),parseInt(v+v,16));case 6:return l(parseInt(f,16));default:return l(parseInt(f.slice(0,6),16))}},makeColorFromHSV:(f,c,n)=>{const {red:v,green:t,blue:p}=g(f,c,n);return new a(v,t,p)},getLighterColor:(f,c)=>l(f).isLighterThan(l(c))?f:c,makeColorNumberFromChannels:(f,c,n)=>(h(f)<<16)+(h(c)<<8)+h(n),makeBlendedColor:(f,c,
n)=>new a(f.red+n*(c.red-f.red),f.green+n*(c.green-f.green),f.blue+n*(c.blue-f.blue))},initialize:function(f,c,n){this.setRed(f);this.setGreen(c);this.setBlue(n)},setRed:function(f){this.red=h(f)},setGreen:function(f){this.green=h(f)},setBlue:function(f){this.blue=h(f)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return e(this.red,this.green,this.blue,!0)},getHSV:function(){return b(this.red,this.green,this.blue)},isLighterThan:function(f){f=
this.getDiffFrom(f);return 0>f.red+f.green+f.blue},getDiffFrom:function(f){return{red:f.red-this.red,green:f.green-this.green,blue:f.blue-this.blue}},applyDiff:function(f){return this.add(f)},add:function(f){this.setRed(this.red+f.red);this.setGreen(this.green+f.green);this.setBlue(this.blue+f.blue);return this},subtract:function(f){this.setRed(this.red-f.red);this.setGreen(this.green-f.green);this.setBlue(this.blue-f.blue);return this},multiply:function(f){this.setRed(this.red*f);this.setGreen(this.green*
f);this.setBlue(this.blue*f);return this},divide:function(f){this.setRed(this.red/f);this.setGreen(this.green/f);this.setBlue(this.blue/f);return this},clone:function(){return new a(this.red,this.green,this.blue)},equals:function(f){return f===this||f?.isA?.(a)&&f.red===this.red&&f.green===this.green&&f.blue===this.blue}})})(myt);
(q=>{const {max:w,sin:u,cos:r,pow:h,sqrt:d,PI:e}=Math,l=2*e,k=e/2,b=q.global.idle,g=q.Color.makeColorFromHexString,a=(p,A)=>A*(1>(p*=2)?p*p/2:-(--p*(p-2)-1)/2),f={linear:p=>p,inQuad:p=>p*p,outQuad:p=>-p*(p-2),inOutQuad:p=>1>(p*=2)?p*p/2:-(--p*(p-2)-1)/2,inCubic:p=>p*p*p,outCubic:p=>--p*p*p+1,inOutCubic:p=>1>(p*=2)?p*p*p/2:((p-=2)*p*p+2)/2,inQuart:p=>p*p*p*p,outQuart:p=>-(--p*p*p*p-1),inOutQuart:p=>1>(p*=2)?p*p*p*p/2:-((p-=2)*p*p*p-2)/2,inQuint:p=>p*p*p*p*p,outQuint:p=>--p*p*p*p*p+1,inOutQuint:p=>
1>(p*=2)?p*p*p*p*p/2:((p-=2)*p*p*p*p+2)/2,inSine:p=>-r(p*k)+1,outSine:p=>u(p*k),inOutSine:p=>-(r(p*e)-1)/2,inCirc:p=>-(d(1-p*p)-1),outCirc:p=>d(1- --p*p),inOutCirc:p=>1>(p*=2)?-(d(1-p*p)-1)/2:(d(1-(p-=2)*p)+1)/2,inExpo:p=>0===p?0:h(2,10*(p-1)),outExpo:p=>1===p?1:-h(2,-10*p)+1,inOutExpo:p=>0===p||1===p?p:1>(p*=2)?h(2,10*(p-1))/2:(-h(2,-10*--p)+2)/2,inElastic:p=>0===p||1===p?p:-(h(2,10*--p)*u((1*p-.075)*l/.3)),outElastic:p=>0===p||1===p?p:h(2,-10*p)*u((1*p-.075)*l/.3)+1,inOutElastic:p=>0===p||1===p?
p:1>(p*=2)?-(h(2,10*--p)*u((1*p-.1125)*l/.45))/2:h(2,-10*--p)*u((1*p-.1125)*l/.45)/2+1,inBack:(p,A=1.70158)=>(p/=1)*p*((A+1)*p-A),outBack:(p,A=1.70158)=>(p=p/1-1)*p*((A+1)*p+A)+1,inOutBack:(p,A=1.70158)=>1>(p*=2)?p*p*(((A*=1.525)+1)*p-A)/2:((p-=2)*p*(((A*=1.525)+1)*p+A)+2)/2,inBounce:p=>1-f.outBounce(1-p),outBounce:p=>p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,inOutBounce:p=>1>(p*=2)?f.inBounce(p)/2:(f.outBounce(p-
1)+1)/2,wiggle:p=>{p*=6;return 1>p?a(p-0,1):2>p?a(2-p,1):3>p?a(p-2,.5):4>p?a(4-p,.5):5>p?a(p-4,.25):a(6-p,.25)}},c=f.inOutQuad,n=p=>{p.__tmpFrom=!1;p.__loopCnt=p.reverse?p.repeat-1:0;p.__prog=p.reverse?p.duration:0},v=(p,A)=>{const {running:I,paused:z,reverse:D,duration:J,repeat:P,__prog:R,easingFunction:m,callback:x}=p;if(I&&!z){D&&(A*=-1);A=R+A;let B=0;A>J?(B=A-J,A=J,++p.__loopCnt===P&&(B=0)):0>A&&(B=-A,A=0,0>--p.__loopCnt&&0<P&&(B=0));var C=p.target??p.parent;if(C){const {relative:G,attribute:F,
__isColorAnim:N,__loopCnt:S,to:O}=p;var M=w(0,A/J),Q=w(0,R/J);null==p.from&&(p.__tmpFrom=!0,p.from=G?N?"#000":0:C.get(F));Q=m(M)-(G?m(Q):0);var L=p.from,y=G?C.get(F):L;M=C.set;if(N){L=g(L);const W=g(O);y=G?g(y):L;y.setRed(y.red+(W.red-L.red)*Q);y.setGreen(y.green+(W.green-L.green)*Q);y.setBlue(y.blue+(W.blue-L.blue)*Q);Q=y.getHtmlHexString()}else Q=y+(O-L)*Q;M.call(C,F,Q);!D&&S===P||D&&0>S&&0<P?(p.setRunning(!1),x?.call(p,!0)):0<B?(p.fireEvent("repeat",S),p.__prog=D?J:0,v(p,B)):p.__prog=A}else console.log("No target for animator",
p),p.setRunning(!1),x?.call(p,!1)}},t=(p,A,I,z)=>{p.stopActiveAnimators(z,!0);const D=p[z];p.animate({attribute:z,from:D,to:D+A,duration:I,easingFunction:"wiggle"}).next(()=>{p.set(z,D)})};q.Animator=new JS.Class("Animator",q.Node,{include:[q.Reusable],extend:{easings:f,bounceView:(p,A=-6,I=900)=>{t(p,A,I,"y")},shakeView:(p,A=10,I=300)=>{t(p,A,I,"x")},wiggleView:t},initNode:function(p,A){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=c;this.callSuper(p,
A);n(this)},setRunning:function(p){if(this.running!==p&&(this.running=p,this.inited&&this.fireEvent("running",p),!this.paused)){if(p){const A=this.target??this.parent;this.__isColorAnim=A&&"function"===typeof A.isColorAttr?A.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),n(this);this[p?"attachTo":"detachFrom"](b,"__updateAnim","idle")}},setPaused:function(p){if(this.paused!==p&&(this.paused=p,this.inited&&this.fireEvent("paused",p),this.running))this[p?"detachFrom":"attachTo"](b,
"__updateAnim","idle")},setReverse:function(p){this.set("reverse",p,!0);this.inited&&!this.running&&n(this)},setRepeat:function(p){this.set("repeat",p,!0);this.inited&&!this.running&&n(this)},setDuration:function(p){this.set("duration",p,!0);this.inited&&!this.running&&n(this)},setEasingFunction:function(p){"string"===typeof p&&(p=f[p]);this.set("easingFunction",p??c,!0)},setFrom:function(p){this.set("from",p,!0)},setTo:function(p){this.set("to",p,!0)},setCallback:function(p){this.callback=p},next:function(p,
A){const I=this,z=I.callback;z&&!A?I.setCallback(D=>{z.call(I,D);p.call(I,D)}):I.setCallback(p)},reset:function(p){n(this);this.setRunning(!1);this.setPaused(!1);p&&this.callback?.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=1;this.easingFunction=c;this.reset(!1)},__updateAnim:function(p){v(this,p.value.delta)}})})(myt);
(q=>{const w=Array.isArray,u=d=>{d.__additionalArgs=[];d.__pendingTransition="";d.__transDestinationState="";d.__transStage="leaveState"},r=(d,e)=>{if(d.__transInProgress){var l=d.__deferredTransitions;l??=d.__deferredTransitions=[];l.unshift(e)}else{d.__transInProgress=!0;l=e.shift();const k=e.shift();if(d.__pendingTransition)return 3;if(d.isFinished())return d.__transInProgress=!1,5;let b=d.map[d.current][k];b??=d.map["*"][k];if(b)return d.__pendingTransition=k,d.__transDestinationState=b,d.__additionalArgs=
e,d.resumeTransition(l);d.__transInProgress=!1;return 5}},h=d=>{d.__transInProgress=!1;const e=d.__deferredTransitions;if(e)for(;0<e.length;)r(d,e.pop())};q.StateMachine=new JS.Class("StateMachine",q.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(d,e){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";u(this);this.callSuper(d,e)},setInitialState:function(d){if(""===this.current){if(w(d)){var e=d;d=e.shift()}else e=[];this.current=
this.initial=d;this.doEnterState("","",d,e);e={name:"",from:"",to:d,args:e};this.fireEvent("enter"+d,e);this.fireEvent("enter",e);this.isFinished()&&this.fireEvent("finished",e)}},setTerminalState:function(d){this.terminal=d},addTransitions:function(d){for(const e of d)this.addTransition(...e)},addTransition:function(d,e,l){e=e?w(e)?e:[e]:["*"];const k=this.map;let b=e.length;for(;b;){let g,a;((g=k)[a=e[--b]]??(g[a]={}))[d]=l}},doTransition:function(...d){d.unshift("sync");return r(this,d)},doAsyncTransition:function(...d){d.unshift("async");
return r(this,d)},resumeTransition:function(d){const e=this.__pendingTransition;if(!e)return 4;const l=this.current,k=this.__transDestinationState,b=this.__additionalArgs,g={name:e,from:l,to:k,args:b},a=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const f=this.doLeaveState(e,l,k,b);if(!1===f)return u(this),h(this),2;if("async"===f||"async"===d)return this.__transStage="enterState",a("start"+e,g),a("start",g),a("leave"+l,g),a("leave",g),h(this),3;a("start"+e,g);a("start",g);
a("leave"+l,g);a("leave",g);case "enterState":this.current=k,u(this),this.doEnterState(e,l,k,b),a("enter"+k,g),a("enter",g),a("end"+e,g),a("end",g),this.isFinished()&&a("finished",g)}h(this);return 1},doLeaveState:(d,e,l,k)=>{},doEnterState:(d,e,l,k)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(d){return w(d)?d.includes(this.current):this.current===d},can:function(d){return void 0!==this.map[this.current][d]?!0:void 0!==this.map["*"][d]}})})(myt);
(q=>{const w=(d,e)=>d.replicationIndex-e.replicationIndex,u=(d,e)=>{let l=d.length;for(;l;){const k=d[--l];k.decrementLockedCounter();e&&k.update()}},r=d=>{h(d);const e=d.template;e&&(d.__pool=new q.TrackActivesPool(e,d.parent))},h=d=>{const e=d.__pool;if(e){d=d.parent.getLayouts();let l=d.length;for(;l;)d[--l].incrementLockedCounter();e.putActives();e.destroyPooledInstances();u(d,!1);e.destroy()}};q.Replicable=new JS.Module("Replicable",{include:[q.Reusable],replicate:function(d,e){this.replicationData=
d;this.replicationIndex=e},notify:(d,e)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(d,e){return e===this.replicationIndex&&d===this.replicationData}});q.Replicator=new JS.Class("Replicator",q.Node,{initNode:function(d,e){this.callSuper(d,e);r(this);this.doReplication()},destroy:function(){h(this);this.callSuper()},setTemplate:function(d){(this.template=d.includes(q.Replicable)?d:null)||q.dumpStack("Template not replicable");this.inited&&
(r(this),this.doReplication())},setData:function(d){this.data=d;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const d=this.__pool;let e;if(d){e=this.parent.getLayouts();for(var l=e.length;l;)e[--l].incrementLockedCounter();const k=(l=this.data)?l.length:0,b=d.getActives(),g=b.length,a=[];let f=g,c,n;for(b.sort(w);f;)if(c=b[--f],n=c.replicationIndex,n>=k||!c.alreadyHasReplicationData(l[n],n))a[n]=c;for(f=a.length;f;)(c=a[--f])&&
d.putInstance(c);for(f=0;k>f;++f)(f>=g||null!=a[f])&&d.getInstance().replicate(l[f],f);for(f=e.length;f;)e[--f].sortSubviews(w);u(e,!0)}},notify:function(d,e){var l=this.__pool;if(l){l=l.getActives();let k=l.length;for(;k;)l[--k].notify(d,e)}}})})(myt);
(q=>{const w=JS.Singleton,u=document,{DomElementProxy:r,DomObservable:h,global:{register:d}}=q;new w("GlobalMouse",{include:[r,h,q.MouseObservable],initialize:function(){this.setDomElement(u);d("mouse",this)}});new w("GlobalTouch",{include:[r,h,q.TouchObservable],initialize:function(){this.setDomElement(u);d("touch",this)}})})(myt);
(q=>{let w,u,r;const h=[],d=[],e=b=>{const g=r;g!==b&&(g&&(g.notifyDragLeave(u),u.destroyed||u.notifyDragLeaving(g),w("dragLeave",g)),r=b)&&(b.notifyDragEnter(u),u.destroyed||u.notifyDragEntering(b),w("dragEnter",g))},l=b=>{let g=u;if(g!==b)if(u=b){g=b;for(const a of k(g,d))a.notifyDragStart(g);for(const a of k(g,h))a.notifyAutoScrollerDragStart(g);w("startDrag",b)}else{for(const a of k(g,d))a.notifyDragStop(g);for(const a of k(g,h))a.notifyAutoScrollerDragStop(g);w("stopDrag",b)}},k=(b,g)=>{if(b.destroyed)return[];
if(b.isAnyDragGroup())return g;const a=[];b=b.getDragGroups();let f=g.length;for(;f;){const c=g[--f];if(c.isAnyDropGroup())a.push(c);else{const n=c.getDropGroups();for(const v in b)if(n[v]){a.push(c);break}}}return a};new JS.Singleton("GlobalDragManager",{include:[q.Observable],initialize:function(){q.global.register("dragManager",this);w=this.fireEvent.bind(this)},getDragView:()=>u,registerAutoScroller:b=>{h.push(b)},unregisterAutoScroller:b=>{b=h.indexOf(b);-1<b&&h.splice(b,1)},registerDropTarget:b=>
{d.push(b)},unregisterDropTarget:b=>{b=d.indexOf(b);-1<b&&d.splice(b,1)},startDrag:b=>{l(b)},stopDrag:(b,g,a)=>{g.notifyDropped(r,a);a||r?.notifyDrop(g);e();l();r&&!a&&w("drop",[g,r])},updateDrag:(b,g)=>{const a=k(g,d);let f=a.length,c;if(0<f){const {pageX:n,pageY:v}=b.value;for(;f;)b=a[--f],b.willAcceptDrop(g)&&g.willPermitDrop(b)&&b.isPointVisible(n,v)&&(!c||b.isInFrontOf(c))&&(c=b)}e(c)}})})(myt);
(q=>{const w=JS.Module,{mouse:u,keys:r,idle:h}=q.global;q.Activateable=new w("Activateable",{doActivated:()=>{}});q.UpdateableUI=new w("UpdateableUI",{initNode:function(d,e){this.callSuper(d,e);this.updateUI()},updateUI:()=>{}});q.Disableable=new w("Disableable",{initNode:function(d,e){e.disabled??(e.disabled=!1);this.callSuper(d,e)},setDisabled:function(d){d=this.valueFromEvent(d);this.disabled!==d&&(this.disabled=d,this.inited&&this.fireEvent("disabled",d),this.doDisabled())},doDisabled:function(){this.inited&&
(this.disabled&&this.giveAwayFocus?.(),this.updateUI?.())}});q.KeyActivation=new w("KeyActivation",{extend:{ACTIVATION_KEYS:[r.CODE_ENTER,r.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(d,e){this.activateKeyDown="";e.activationKeys??(e.activationKeys=q.KeyActivation.ACTIVATION_KEYS);this.callSuper(d,e);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(d){this.activationKeys=
d??[]},setRepeatKeyDown:function(d){this.repeatKeyDown=d},__hndlKeyDown:function(d){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const e=q.KeyObservable.getCodeFromEvent(d);this.activationKeys.includes(e)&&(this.activateKeyDown===e?this.doActivationKeyDown(e,!0):(this.activateKeyDown=e,this.doActivationKeyDown(e,!1)),d.value.preventDefault())}},__hndlKeyPress:function(d){if(!this.disabled){const e=q.KeyObservable.getCodeFromEvent(d);this.activateKeyDown===e&&this.activationKeys.includes(e)&&
d.value.preventDefault()}},__hndlKeyUp:function(d){if(!this.disabled){const e=q.KeyObservable.getCodeFromEvent(d);this.activateKeyDown===e&&this.activationKeys.includes(e)&&(this.activateKeyDown="",this.doActivationKeyUp(e),d.value.preventDefault())}},__doDomBlur:function(d){this.disabled||(d=this.activateKeyDown,""!==d&&(this.activateKeyDown="",this.doActivationKeyAborted(d)))},doActivationKeyDown:(d,e)=>{},doActivationKeyUp:function(d){this.doActivated()},doActivationKeyAborted:d=>{}});q.ArrowKeyActivation=
new w("KeyActivation",{doActivationKeyDown:function(d,e){switch(d){case r.CODE_ARROW_LEFT:if(this.doKeyArrowLeftOrUp(!0,e))return;break;case r.CODE_ARROW_UP:if(this.doKeyArrowLeftOrUp(!1,e))return;break;case r.CODE_ARROW_RIGHT:if(this.doKeyArrowRightOrDown(!0,e))return;break;case r.CODE_ARROW_DOWN:if(this.doKeyArrowRightOrDown(!1,e))return}this.callSuper(d,e)},doKeyArrowLeftOrUp:(d,e)=>{},doKeyArrowRightOrDown:(d,e)=>{}});q.MouseOver=new w("MouseOver",{initNode:function(d,e){e.mouseOver??(e.mouseOver=
!1);this.callSuper(d,e);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(d){this.mouseOver!==d&&(this.mouseOver=d,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(h,"__doMouseOverOnIdle","idle")))},setDisabled:function(d){this.callSuper(d);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(h,
"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const d=this.mouseOver;this.__lastOverIdleValue!==d&&(this.__lastOverIdleValue=d,this.doSmoothMouseOver(d))},doSmoothMouseOver:function(d){this.inited&&this.updateUI?.()},doMouseOver:function(d){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(d){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});q.MouseDown=new w("MouseDown",{initNode:function(d,e){e.mouseDown??(e.mouseDown=!1);this.callSuper(d,
e);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(d){this.mouseDown!==d&&(this.mouseDown=d,this.inited&&(d&&this.isFocusable()&&this.focus(!0),this.updateUI?.()))},setDisabled:function(d){d&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(d)},doMouseOver:function(d){this.callSuper(d);this.mouseDown&&this.detachFromDom(u,"doMouseUp","mouseup",!0)},doMouseOut:function(d){this.callSuper(d);!this.disabled&&this.mouseDown&&this.attachToDom(u,
"doMouseUp","mouseup",!0)},doMouseDown:function(d){this.disabled?this.doMouseDownWhenDisabled():this.setMouseDown(!0)},doMouseDownWhenDisabled:()=>{},doMouseUp:function(d){this.mouseOver||this.detachFromDom(u,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(d))},doMouseUpInside:function(d){this.doActivated?.()}});q.MouseOverAndDown=new w("MouseOverAndDown",{include:[q.MouseOver,q.MouseDown]});q.MouseEventsBubbleUp=new w("MouseEventsBubbleUp",
{doMouseOver:function(d){this.callSuper(d);return!0},doMouseOut:function(d){this.callSuper(d);return!0},doMouseDown:function(d){this.callSuper(d);return!0},doMouseUp:function(d){this.callSuper(d);return!0}});q.Draggable=new w("Draggable",{initNode:function(d,e){this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;let l=!0;null!=e.isDraggable&&(l=e.isDraggable,delete e.isDraggable);this.callSuper(d,e);this.setIsDraggable(l)},setIsDraggable:function(d){if(this.isDraggable!==
d){this.isDraggable=d;let e;d?e=this.attachToDom:this.inited&&(e=this.detachFromDom);if(e){d=this.getDragViews();let l=d.length;for(;l;){const k=d[--l];e.call(this,k,"__doMouseDown","mousedown");e.call(this,k,"__doContextMenu","contextmenu")}}}},setIsDragging:function(d){this.set("isDragging",d,!0)},setDragOffsetX:function(d,e){this.dragOffsetX!==d&&(this.dragOffsetX=d,this.inited&&this.isDragging&&!e&&this.reRequestDragPosition())},setDragOffsetY:function(d,e){this.dragOffsetY!==d&&(this.dragOffsetY=
d,this.inited&&this.isDragging&&!e&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(d){this.distanceBeforeDrag=d},setDraggableAllowBubble:function(d){this.draggableAllowBubble=d},setCenterOnMouse:function(d){this.centerOnMouse=d},setAllowAbort:function(d){this.allowAbort=d},getDragViews:function(){return[this]},__doContextMenu:d=>{},__doMouseDown:function(d){const e=q.MouseObservable.getMouseFromEvent(d),l=this.getODE();this.dragInitX=e.x-l.offsetLeft;this.dragInitY=e.y-l.offsetTop;
this.attachToDom(u,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(u,"__doDragCheck","mousemove",!0):this.startDrag(d);d.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(d){this.isDragging?this.stopDrag(d,!1):(this.detachFromDom(u,"__doMouseUp","mouseup",!0),this.detachFromDom(u,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(d){d.value===r.CODE_ESC&&this.stopDrag(d,!0)},__doDragCheck:function(d){const e=
q.MouseObservable.getMouseFromEvent(d);q.Geometry.measureDistance(e.x,e.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(u,"__doDragCheck","mousemove",!0),this.startDrag(d))},startDrag:function(d){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(r,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(u,"updateDrag","mousemove",!0);this.updateDrag(d)},
updateDrag:function(d){this.__lastMousePosition=q.MouseObservable.getMouseFromEvent(d);this.reRequestDragPosition()},__updateDragInitX:function(d){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(d){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(d,e){this.detachFromDom(u,"__doMouseUp","mouseup",!0);this.detachFromDom(u,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY",
"height"));this.allowAbort&&this.detachFrom(r,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(d,e){this.disabled||(this.setX(d),this.setY(e))},reRequestDragPosition:function(){const d=this.__lastMousePosition;this.requestDragPosition(d.x-this.dragInitX+this.dragOffsetX,d.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(q=>{const {Class:w,Module:u}=JS,{View:r,KeyActivation:h,theme:d}=q;var e=q.Button=new u("Button",{include:[q.Activateable,q.UpdateableUI,q.Disableable,q.MouseOverAndDown,h],initNode:function(k,b){b.focusable??(b.focusable=!0);b.cursor??(b.cursor="pointer");this.callSuper(k,b)},setFocused:function(k){const b=this.focused;this.callSuper(k);this.inited&&this.focused!==b&&this.updateUI()},doActivationKeyDown:function(k,b){b||this.updateUI()},doActivationKeyUp:function(k){this.callSuper(k);this.updateUI()},
doActivationKeyAborted:function(k){this.callSuper(k);this.updateUI()},updateUI:function(){if(this.disabled)this.__restoreCursor??(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const k=this.__restoreCursor;k&&(this.setCursor(k),this.__restoreCursor=null);this.activateKeyDown!==h.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},
drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});e=q.SimpleButtonStyle=new u("SimpleButtonStyle",{include:[e],setActiveColor:function(k){this.activeColor!==k&&(this.activeColor=k,this.inited&&this.updateUI())},setHoverColor:function(k){this.hoverColor!==k&&(this.hoverColor=k,this.inited&&this.updateUI())},setReadyColor:function(k){this.readyColor!==
k&&(this.readyColor=k,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,d.disabledOpacity)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(k,b=1){this.setOpacity(b);this.setBgColor(k)}});const l=q.SimpleButton=new w("SimpleButton",r,{include:[e],initNode:function(k,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(k,
b)}});q.SimpleTextButton=new w("SimpleTextButton",l,{initNode:function(k,b){this.inset=this.outset=0;b.shrinkToFit??(b.shrinkToFit=!1);b.height??(b.height=24);b.textY??(b.textY="middle");this.callSuper(k,b);k=this.textY;b={whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof k?b.valign=k:b.y=k;k=this.textView=new q.Text(this,b);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",k,"visible",k,"width",
k,"height",k,"y"])},setInset:function(k){this.set("inset",this.valueFromEvent(k),!0)},setOutset:function(k){this.set("outset",this.valueFromEvent(k),!0)},setText:function(k){this.text!==k&&(this.text=k,this.inited&&(this.textView.setText(k),this.fireEvent("text",k)))},setShrinkToFit:function(k){this.shrinkToFit!==k&&(this.shrinkToFit=k,this.inited&&(this.textView.setWhiteSpace(k?"nowrap":"normal"),this.fireEvent("shrinkToFit",k)))},setTextY:function(k){if(this.textY!==k&&(this.textY=k,this.inited)){const b=
this.textView;this.fireEvent("textY",k);"string"===typeof k?b.setValign(k):(b.setValign(""),b.setY(k))}},__updateContent:function(k){if(!this.__updateContentLoopBlock&&!this.destroyed){const {inset:b,outset:g,textView:a}=this;this.__updateContentLoopBlock=!0;a.setX(b);this.shrinkToFit?this.setWidth(b+(a.visible&&this.text?a.width:0)+g):a.setWidth(this.width-b-g);this.__updateContentLoopBlock=!1}}});q.TextButton=new w("TextButton",q.PaddedText,{include:[e],initNode:function(k,b){b.focusIndicator??
(b.focusIndicator=!1);b.roundedCorners??(b.roundedCorners=3);b.textAlign??(b.textAlign="center");b.paddingTop??(b.paddingTop=1);b.height??(b.height=23-(b.paddingTop??0));b.activeColor??(b.activeColor=d.TextButtonActive);b.hoverColor??(b.hoverColor=d.TextButtonHover);b.readyColor??(b.readyColor=d.TextButtonReady);this.callSuper(k,b)}})})(myt);
(q=>{const w=console.warn,{focus:u,mouse:r,windowResize:h}=q.global,d={};q.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:e=>d[e]},initNode:function(e,l){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.keepInWindow=!1;this.floatingAlignOffset=this.floatingValignOffset=this.keepInWindowBorder=0;this.callSuper(e,l)},setLastFloatingPanelShown:function(e){this.lastFloatingPanelShown=e},setLastFloatingPanelId:function(e){this.floatingPanelId=
e},setFloatingAlign:function(e){this.set("floatingAlign",e,!0)},setFloatingValign:function(e){this.set("floatingValign",e,!0)},setFloatingAlignOffset:function(e){this.set("floatingAlignOffset",e,!0)},setFloatingValignOffset:function(e){this.set("floatingValignOffset",e,!0)},setKeepInWindow:function(e){this.set("keepInWindow",e,!0)},setKeepInWindowBorder:function(e){this.set("keepInWindowBorder",e,!0)},createFloatingPanel:function(e,l,k){e=e??this.floatingPanelId;k=k??{};k.panelId=e;return d[e]=new l(null,
k)},getFloatingPanel:function(e){return d[e??this.floatingPanelId]},toggleFloatingPanel:function(e){this.getFloatingPanel(e??=this.floatingPanelId)?.isShown()?this.hideFloatingPanel(e):this.showFloatingPanel(e)},showFloatingPanel:function(e){if(e=this.getFloatingPanel(e??this.floatingPanelId))e.show(this),this.setLastFloatingPanelShown(e)},hideFloatingPanel:function(e){if(e=this.getFloatingPanel(e??this.floatingPanelId))e.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(e){this.callSuper?.()},
notifyPanelHidden:function(e){this.callSuper?.()},getFloatingAlignForPanel:function(e){return this.floatingAlign},getFloatingValignForPanel:function(e){return this.floatingValign},getFloatingAlignOffsetForPanel:function(e){return this.floatingAlignOffset},getFloatingValignOffsetForPanel:function(e){return this.floatingValignOffset},getNextFocus:function(){const e=this.lastFloatingPanelShown;return e?.isShown()?e:this.callSuper?.()},getNextFocusAfterPanel:function(e){return this},getPrevFocusAfterPanel:function(e){return this}});
q.FloatingPanel=new JS.Class("FloatingPanel",q.View,{include:[q.RootView],initNode:function(e,l){this.ignoreOwnerForHideOnMouseDown=this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;l.visible=l.focusIndicator=!1;l.focusable=l.focusCage=!0;this.callSuper(e,l)},setOwner:function(e){this.owner=e},setPanelId:function(e){this.panelId=e},setIgnoreOwnerForHideOnMouseDown:function(e){this.ignoreOwnerForHideOnMouseDown=e},setHideOnBlur:function(e){this.hideOnBlur=e},setHideOnMouseDown:function(e){this.hideOnMouseDown=
e},setWidth:function(e){const l=this.width;this.callSuper(e);this.isShown()&&l!==this.width&&this.owner?.keepInWindow&&this.updateLocationX(this.owner)},setHeight:function(e){const l=this.height;this.callSuper(e);this.isShown()&&l!==this.height&&this.owner?.keepInWindow&&this.updateLocationY(this.owner)},__doMouseDown:function(e){var l=e.value;e=l.pageX;l=l.pageY;this.containsPoint(e,l)||this.ignoreOwnerForHideOnMouseDown&&this.owner.containsPoint(e,l)||this.doMouseDownOutside(!0);return!0},doMouseDownOutside:function(e){this.hideOnMouseDown&&
this.hide(e)},focus:function(e){if(this.owner&&this.isAncestorOf(u.focusedView))this.owner[(u.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(e);else{const l=this.getFirstFocusableDescendant();l===this?this.callSuper(e):l.focus(e)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(e){(e=e.value)&&!this.isAncestorOf(e)&&this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&u.focusedView===this.owner||
this.hide(!0)},isShown:function(){return this.visible},show:function(e){this.isShown()||(this.bringToFront(),this.updateLocation(e),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(r,"__doMouseDown","mousedown",!0),this.attachTo(u,"__doFocusChange","focused"))},hide:function(e){this.isShown()&&(this.detachFromDom(r,"__doMouseDown","mousedown",!0),this.detachFrom(u,"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),e||this.restoreFocus(),this.setOwner())},
restoreFocus:function(){this.owner?.focus()},updateLocation:function(e){this.setOwner(e);this.updateLocationX(e);this.updateLocationY(e)},updateLocationX:function(e){const l=e.getFloatingAlignForPanel(this),k=typeof l;let b;if("string"===k){b=e.getPagePosition().x+e.getFloatingAlignOffsetForPanel(this);switch(l){case "outsideRight":b+=e.width;break;case "insideRight":b+=e.width-this.width;break;case "outsideLeft":b-=this.width;break;case "insideLeft":break;default:w("Invalid align value",k,l)}e.keepInWindow&&
(e=b+this.width+(e.keepInWindowBorder||0)-h.getWidth(),0<e&&(b-=e))}else"number"===k?b=l:w("Invalid align type",k,l);this.setX(b)},updateLocationY:function(e){const l=e.getFloatingValignForPanel(this),k=typeof l;let b;if("string"===k){b=e.getPagePosition().y+e.getFloatingValignOffsetForPanel(this);switch(l){case "outsideBottom":b+=e.height;break;case "insideBottom":b+=e.height-this.height;break;case "outsideTop":b-=this.height;break;case "insideTop":break;default:w("Invalid valign value",k,l)}e.keepInWindow&&
(e=b+this.height+(e.keepInWindowBorder||0)-h.getHeight(),0<e&&(b-=e))}else"number"===k?b=l:w("Invalid valign type",k,l);this.setY(b)}})})(myt);
(q=>{const {Class:w,Module:u}=JS,r=Math,{View:h,global:d}=q,e=d.focus,l=d.keys,{LIST_KEYS:k,CODE_ESC:b}=l,g=f=>{const c=f.itemConfig??[],n=c.length,{items:v,defaultItemClass:t,fixedWidth:p}=f,A=v.length,I=0<p,z=f.getContentView(),D=z.getLayouts();let J=0;for(var P of D)P.incrementLockedCounter();h.doWhileRemovedFromDom(z,()=>{const R={listView:f};I&&(R.width=p,R.enableEllipsis=!0);for(;n>J;++J){var m=c[J];const x=m.klass??t;m=m.attrs??{};let C=v[J];C&&!C.isA(x)&&(C.destroy(),C=null);C??=v[J]=new x(z,
{...R});C&&(C.callSetters(m),C.__LAYOUT_IDX=J)}});if(I)P=p;else for(P=f.minWidth,J=0;n>J;){const R=v[J++];R.syncToDom();P=r.max(P,R.getMinimumWidth())}for(;A>J;)v[J++].destroy();v.length=n;if(!I)for(J=0;n>J;)f.updateItemWidth(v[J++],P);f.updateContentWidth(z,P);for(const R of D)R.sortSubviews((m,x)=>m.__LAYOUT_IDX-x.__LAYOUT_IDX),R.decrementLockedCounter(),R.update()},a=q.ListViewItemMixin=new u("ListViewItemMixin",{setListView:function(f){this.listView=f},getMinimumWidth:()=>0,syncToDom:()=>{}});
q.ListView=new w("ListView",q.FloatingPanel,{initNode:function(f,c){this.items=[];this.maxHeight=-1;this.minWidth=0;c.defaultItemClass??(c.defaultItemClass=q.ListViewItem);c.overflow??(c.overflow="autoy");c.bgColor??(c.bgColor="#ccc");c.boxShadow??(c.boxShadow=q.theme.focusShadow);this.callSuper(f,c);g(this);this.buildLayout(this.getContentView())},buildLayout:f=>{new q.SpacedLayout(f,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(f){this.minWidth=f},setDefaultItemClass:function(f){this.defaultItemClass=
f},setItemConfig:function(f){this.itemConfig=f;this.inited&&g(this)},getContentView:function(){return this},setMaxHeight:function(f){this.maxHeight!==f&&(this.maxHeight=f,this.inited&&(this.fireEvent("maxHeight",f),this.setHeight(this.height)))},setHeight:function(f){this.callSuper(0<=this.maxHeight?r.min(this.maxHeight,f):f);this.inited&&this.owner&&this.updateLocationY(this.owner)},doItemActivated:function(f){this?.owner.doItemActivated(f)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()??
this.callSuper()},getFirstFocusableItem:function(){return this.items.find(f=>f.isFocusable())},getLastFocusableItem:function(){return this.items.findLast(f=>f.isFocusable())},focusToLastItem:function(){this.getLastFocusableItem()?.focus()},focusToFirstItem:function(){this.getFirstFocusableItem()?.focus()},updateItemWidth:(f,c)=>{f.setWidth(c)},updateContentWidth:(f,c)=>{f.setWidth(c)}});q.ListViewAnchor=new u("ListViewAnchor",{include:[q.FloatingPanelAnchor,q.ArrowKeyActivation],initNode:function(f,
c){c.listViewClass??(c.listViewClass=q.ListView);c.listViewAttrs??(c.listViewAttrs={});c.itemConfig??(c.itemConfig=[]);c.activationKeys??(c.activationKeys=k);this.callSuper(f,c)},setListViewClass:function(f){this.listViewClass=f},setListViewAttrs:function(f){this.listViewAttrs=f},setItemConfig:function(f){this.itemConfig=f},getFloatingValignForPanel:function(f){var c=f.height,n=this.getPagePosition().y,v=d.windowResize.getHeight()-this.getPagePosition().y-this.height;f=n-c;c=v-c;n=n>v;v=this.floatingValign;
switch(v){case "outsideBottom":0>c&&n&&(v="outsideTop");break;case "insideBottom":0>c&&n&&(v="insideTop");break;case "outsideTop":0>f&&!n&&(v="outsideBottom");break;case "insideTop":0>f&&!n&&(v="insideBottom")}return v},doItemActivated:function(f){this.hideFloatingPanel()},getFloatingPanel:function(f){return this.callSuper(f)??this.createFloatingPanel(f,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(f){const c=this.getFloatingPanel(f);c&&(c.setItemConfig(this.itemConfig),this.callSuper(f))},
doActivationKeyDown:function(f,c){f===b?this.hideFloatingPanel():this.callSuper(f,c)},doKeyArrowLeftOrUp:function(f,c){this.focusToLastItem()},doKeyArrowRightOrDown:function(f,c){this.focusToFirstItem()},doActivationKeyUp:function(f){if(f!==b)switch(this.callSuper(f),f){case l.CODE_ARROW_LEFT:case l.CODE_ARROW_UP:this.focusToLastItem();break;case l.CODE_ARROW_RIGHT:case l.CODE_ARROW_DOWN:this.focusToFirstItem()}},focusToLastItem:function(){const f=this.getFloatingPanel();f?.isShown()&&f.focusToLastItem()},
focusToFirstItem:function(){const f=this.getFloatingPanel();f?.isShown()&&f.focusToFirstItem()},updateEntryAttr:function(f,c,n){(f=this.getEntryByValue(f))&&(f.attrs[c]=n);return f},getEntryByValue:function(f){return this.itemConfig.find(c=>c?.attrs&&c.attrs.value===f)}});q.ListViewItem=new w("ListViewItem",q.TextButton,{include:[a,q.ArrowKeyActivation],initNode:function(f,c){c.activeColor??(c.activeColor="#bbb");c.hoverColor??(c.hoverColor="#fff");c.readyColor??(c.readyColor="#eee");c.paddingLeft??
(c.paddingLeft=8);c.paddingRight??(c.paddingRight=8);c.textAlign??(c.textAlign="left");c.roundedCorners??(c.roundedCorners=0);c.activationKeys??(c.activationKeys=k);c.focusIndicator??(c.focusIndicator=!0);const n=this.__enableEllipsis=c.enableEllipsis;delete c.enableEllipsis;this.callSuper(f,c);this.addDomClass("mytButtonText");n&&this.enableEllipsis()},setText:function(f){this.callSuper(f);this.__enableEllipsis&&this.setTooltip(this.text)},syncToDom:function(){this.getIDS().width="auto";this.sizeViewToDom()},
getMinimumWidth:function(){return r.ceil(this.measureNoWrapWidth())},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(f,c){f===b?this.listView.owner.hideFloatingPanel():this.callSuper(f,c)},doKeyArrowLeftOrUp:function(f,c){e.prev()},doKeyArrowRightOrDown:function(f,c){e.next()}});q.ListViewSeparator=new w("ListViewSeparator",h,{include:[a],initNode:function(f,c){c.height??(c.height=1);c.bgColor??(c.bgColor="#666");this.callSuper(f,c)}})})(myt);
(q=>{const w=q.AccessorSupport,u=w.generateSetterName,r={},h=q.BAG=new JS.Class("BAG",{include:[w,q.Destructible,q.Observable],extend:{getGroup:(d,e)=>{if(d&&e){let l;return(l=r[d]??(r[d]={}))[e]??(l[e]=new h(d,e))}},removeGroup:(d,e)=>{if(d&&e&&(d=r[d])){const l=d[e];l&&delete d[e];return l}}},initialize:function(d,e){this.__nodes=[];this.trueNode=null;this.attrName=d;this.groupId=e},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&h.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(d){this.set("groupId",d,!0)},setAttrName:function(d){this.set("attrName",d,!0)},setTrueNode:function(d){this.set("trueNode",d,!0)},getNodes:function(){return this.__nodes},register:function(d){d&&!this.isRegistered(d)&&(this.__nodes.push(d),d[this.attrName]&&this.setTrue(d))},unregister:function(d){if(d){const e=this.__nodes,l=e.indexOf(d);-1<l&&e.splice(l,1);this.trueNode===d&&this.setTrueNode(null);0===e.length&&
this.destroy()}},setTrue:function(d){if(d&&this.trueNode!==d&&this.isRegistered(d)){const e=this.attrName,l=u(e),k=this.__nodes;let b=k.length;for(this.setTrueNode(d);b;){const g=k[--b];if(d===g){if(!g[e])g[l](!0)}else if(g[e])g[l](!1)}}},setFalse:function(d){d&&this.trueNode===d&&(d[u(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(d){return this.__nodes.includes(d)}});q.BAGMembership=new JS.Module("BAGMembership",{initNode:function(d,e){this.__bags=[];this.callSuper(d,e)},destroy:function(){const d=
this.__bags;let e=d.length;for(;e;){const l=d[--e];this.removeFromBAG(l.attrName,l.groupId)}this.callSuper()},isRegisteredWithBAG:function(d){return this.__bags.includes(d)},getBAG:(d,e)=>h.getGroup(d,e),addToBAG:function(d,e){e=this.getBAG(d,e);this.isRegisteredWithBAG(e)||(this.__bags.push(e),e.register(this),this.isAttachedTo(this,"__updateForBAG",d)||this.attachTo(this,"__updateForBAG",d))},removeFromBAG:function(d,e){e=this.getBAG(d,e);if(this.isRegisteredWithBAG(e)){const l=this.__bags;let k=
l.length,b=!0;for(;k;){const g=l[--k];g===e?(l.splice(k,1),e.unregister(this)):g.attrName===d&&(b=!1)}b&&this.detachFrom(this,"__updateForBAG",d)}},__updateForBAG:function(d){for(const e of this.__bags)if(e.attrName===d.type)e[d.value?"setTrue":"setFalse"](this)}})})(myt);
(q=>{const w=u=>{const r=u.label||"";u.setText('<i class="far fa-'+(!0===u.selected?"dot-":"")+'circle"></i>'+(0<r.length?" ":"")+r)};q.Radio=new JS.Class("Radio",q.Text,{include:[q.SimpleButtonStyle,q.BAGMembership],initNode:function(u,r){r.selected??(r.selected=!1);r.groupId??(r.groupId=q.generateGuid());r.focusIndicator??(r.focusIndicator=!1);r.activeColor??(r.activeColor="inherit");r.hoverColor??(r.hoverColor="inherit");r.readyColor??(r.readyColor="inherit");const h=r.value;delete r.value;this.callSuper(u,
r);this.setValue(h);this.selected&&this.getBAG("selected",this.groupId)?.setTrue(this);q.FontAwesome.registerForNotification(this);w(this)},setOptionValue:function(u){this.set("optionValue",u,!0)},setValue:function(u){if(this.inited){const r=this.getBAG("selected",this.groupId);if(r){const h=r.getNodes();let d=h.length;for(;d;){const e=h[--d];if(e.optionValue===u){r.setTrue(e);break}}}}},getValue:function(){var u=this.getBAG("selected",this.groupId);return(u=u?u.trueNode:null)?u.optionValue:null},
setSelected:function(u){this.selected!==u&&(this.selected=u,this.inited&&(this.fireEvent("selected",u),w(this)))},setGroupId:function(u){if(this.groupId!==u){const r=this.groupId;this.groupId=u;r&&this.removeFromBAG("selected",r);u&&this.addToBAG("selected",u);this.inited&&this.fireEvent("groupId",u)}},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&w(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(u,r=1){this.setOpacity(r);this.setTextColor(u)}})})(myt);
(q=>{const w=JS.Module,u=q.global.keys,r=q.Selectable=new w("Selectable",{setSelected:function(d){d=this.valueFromEvent(d);this.selected!==d&&(this.selected=d,this.inited&&this.fireEvent?.("selected",d))},isSelected:function(){return!!this.selected},canSelect:d=>!0,canDeselect:d=>!0}),h=q.SelectionManager=new w("SelectionManager",{extend:{isAddMode:()=>u.isShiftKeyDown(),isToggleMode:()=>u.isAcceleratorKeyDown()},initNode:function(d,e){this.__selected={};this.__lastSelectedItem=null;e.selectedCount=
0;e.itemSelectionId??(e.itemSelectionId="id");e.maxSelected??(e.maxSelected=-1);e.minSelected??(e.minSelected=0);this.callSuper(d,e)},setItemSelectionId:function(d){this.itemSelectionId=d},setMaxSelected:function(d){this.maxSelected=d},setSelectedCount:function(d){this.selectedCount!==d&&(this.selectedCount=d,this.inited&&this.fireEvent("selectedCount",d))},isAddMode:()=>h.isAddMode(),isToggleMode:()=>h.isToggleMode(),getSelected:function(){return Object.values(this.__selected)},select:function(d){d&&
!this.isSelectedItem(d)&&this.canSelectItem(d)&&(d.setSelected(!0),this.__selected[d[this.itemSelectionId]]=d,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=d,this.doSelected(d),this.fireEvent("itemSelected",d))},doSelected:d=>{},selectById:function(d){this.select(this.getSelectableItem(d))},canSelectItem:function(d){const {maxSelected:e,selectedCount:l}=this;if(0===e)return!1;if(1===e){if(0<l&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<e&&l>=e)return!1;return d.canSelect(this)},
selectAll:function(){const d=this.getSelectableItems();let e=d.length;for(;e;)this.select(d[--e])},deselect:function(d){this.isSelectedItem(d)&&this.canDeselectItem(d)&&(d.setSelected(!1),delete this.__selected[d[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===d&&(this.__lastSelectedItem=null),this.doDeselected(d),this.fireEvent("itemDeselected",d))},doDeselected:d=>{},deselectById:function(d){this.deselect(this.getSelectableItem(d))},canDeselectItem:function(d){return this.selectedCount<=
this.minSelected?!1:d.canDeselect(this)},deselectAll:function(){const d=this.__selected;for(const e in d)this.deselect(d[e])},isSelectedItem:d=>d?d.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const d=[],e=this.getSubviews();let l=e.length;for(;l;){const k=e[--l];k.isA(r)&&d.push(k)}return d},getSelectableItems:function(){const d=this.getManagedItems();let e=d.length;for(;e;)d[--e].canSelect(this)||d.splice(e,1);
return d},getSelectableItem:function(d){const e=this.getSelectableItems(),l=this.itemSelectionId;let k=e.length;for(;k;){const b=e[--k];if(b[l]===d)return b}}})})(myt);
(q=>{const w=JS.Class,{View:u,SizeToParent:r,LocalStorage:h,debounce:d}=q,e=q.TabSlider=new w("TabSlider",u,{include:[q.Selectable,q.Disableable,r],extend:{STATE_EXPANDED:"expanded",STATE_EXPANDING:"expanding",STATE_COLLAPSED:"collapsed",STATE_COLLAPSING:"collapsing"},initNode:function(k,b){const g=this;let a;const f=b.noWrapperContainer;delete b.noWrapperContainer;b.defaultPlacement=f?"wrapper":"wrapper.container";b.percentOfParentWidth=100;b.expansionState="collapsed";b.tabId??(b.tabId=q.generateGuid());
b.tabContainer??(b.tabContainer=k);b.selected??(b.selected=!1);b.buttonClass??(b.buttonClass=q.SimpleButton);b.zIndex??(b.zIndex=0);b.buttonHeight??(b.buttonHeight=30);b.fillColorSelected??(b.fillColorSelected="#666");b.fillColorHover??(b.fillColorHover="#eee");b.fillColorActive??(b.fillColorActive="#ccc");b.fillColorReady??(b.fillColorReady="#fff");b.minContainerHeight??(b.minContainerHeight=100);b.layoutPaddingY??(b.layoutPaddingY=0);b.wrapperExpandedOverflow??(b.wrapperExpandedOverflow="autoy");
b.selected&&(a=!0,delete b.selected);g.callSuper(k,b);g.button=new g.buttonClass(g,{ignorePlacement:!0,zIndex:1,height:g.buttonHeight,focusIndicator:!0,groupId:g.parent.parent.groupId,percentOfParentWidth:100,hoverColor:g.fillColorHover,activeColor:g.fillColorActive,readyColor:g.fillColorReady},[r,{doActivated:()=>{const c=g.tabContainer;g.isSelected()&&1!==c.maxSelected?c.deselect(g):c.select(g)},updateUI:function(){this.callSuper();g.selected&&-1!==g.tabContainer.maxSelected&&this.setBgColor(g.fillColorSelected);
g.notifyButtonRedraw()}}]);k=g.wrapper=new u(g,{ignorePlacement:!0,y:g.buttonHeight,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[r,{setHeight:function(c){this.callSuper(Math.round(c))},setWidth:function(c){this.callSuper(c);this.inited&&this.container?.setWidth(c)}}]);f||(g._wrapperLayout=new q.SizeToChildren(k.container=new u(k),{axis:"y",paddingY:g.layoutPaddingY}));g.constrain("__updateHeight",[k,"y",k,"height"]);a&&g.tabContainer.select(g);!0===b.disabled&&g.setDisabled(!0);
g.setHeight(g.getCollapsedHeight())},setSelected:function(k){this.callSuper(k);this.button?.updateUI()},setTabId:function(k){this.tabId=k},setTabContainer:function(k){this.tabContainer=k},setLayoutPaddingY:function(k){this.layoutPaddingY=k;this.inited&&this._wrapperLayout?.setPaddingY(k)},setMinContainerHeight:function(k){this.minContainerHeight=k},setButtonClass:function(k){this.buttonClass=k},setFillColorSelected:function(k){this.fillColorSelected=k},setFillColorHover:function(k){this.fillColorHover=
k},setFillColorActive:function(k){this.fillColorActive=k},setFillColorReady:function(k){this.fillColorReady=k},setWrapperExpandedOverflow:function(k){this.wrapperExpandedOverflow=k},setButtonHeight:function(k){this.buttonHeight!==k&&(this.buttonHeight=k,this.button&&(this.button.setHeight(k),this.wrapper.setY(k)))},setExpansionState:function(k){if(this.expansionState!==k){this.expansionState=k;this.inited&&this.fireEvent("expansionState",k);const b=this.wrapper;b&&("expanded"===k?(b.setMaskFocus(!1),
b.setOverflow(this.wrapperExpandedOverflow),this.tabContainer?.saveState()):"expanding"===k?b.setVisible(!0):"collapsed"===k?(b.setVisible(!1),this.tabContainer?.saveState()):"collapsing"===k&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){this.button?.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(k){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(k){const b=this,g=b.wrapper;k-=b.getCollapsedHeight();b.setExpansionState("expanding");
g.stopActiveAnimators();if(g.height!==k){const a=b.tabContainer.duration;1===a?(g.setHeight(k),b.setExpansionState("expanded")):g.animate({attribute:"height",to:k,duration:a}).next(f=>{b.setExpansionState("expanded")})}else b.setExpansionState("expanded")},collapse:function(){const k=this,b=k.wrapper;k.setExpansionState("collapsing");b.stopActiveAnimators();if(0!==b.height){const g=k.tabContainer.duration;1===g?(b.setHeight(0),k.setExpansionState("collapsed")):b.animate({attribute:"height",to:0,duration:g}).next(a=>
{k.setExpansionState("collapsed")})}else k.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container?.height}}),l=(k,b,g,a)=>{k[b]!==a&&(k[b]=a,k.button?.label?.set(labelAttrName,a))};q.TextTabSlider=new w("TextTabSlider",e,{initNode:function(k,b){this.labelTextColorChecked=
"#fff";this.labelTextColor="#333";this.labelAlign="center";this.labelValign="middle";this.labelFontSize="16px";this.labelFontWeight="bold";b.labelTextColorChecked??(b.labelTextColorChecked="#fff");b.labelTextColor??(b.labelTextColor="#333");b.labelAlign??(b.labelAlign="center");b.labelValign??(b.labelValign="middle");b.labelFontSize??(b.labelFontSize="16px");b.labelFontWeight??(b.labelFontWeight="bold");this.callSuper(k,b);this.button.label=new q.Text(this.button,{ignorePlacement:!0,fontSize:this.labelFontSize,
fontWeight:this.labelFontWeight,text:this.text,align:this.labelAlign,valign:this.labelValign,textColor:this.__getTextColor()})},setLabelTextColorChecked:function(k){this.labelTextColorChecked!==k&&(this.labelTextColorChecked=k,this.notifyButtonRedraw())},setLabelTextColor:function(k){this.labelTextColor!==k&&(this.labelTextColor=k,this.notifyButtonRedraw())},setLabelAlign:function(k){l(this,"labelAlign","align",k)},setLabelValign:function(k){l(this,"labelValign","valign",k)},setLabelFontSize:function(k){l(this,
"labelFontSize","fontSize",k)},setLabelFontWeight:function(k){l(this,"labelFontWeight","fontWeight",k)},setText:function(k){l(this,"text","text",k)},notifyButtonRedraw:function(){this.button?.label?.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});q.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[q.SelectionManager],initNode:function(k,b){const g=this;g._tabSliders=
[];b.defaultPlacement="container";b.spacing??(b.spacing=q.theme.TabSliderContainerSpacing);b.overflow??(b.overflow="autoy");b.itemSelectionId??(b.itemSelectionId="tabId");b.maxSelected??(b.maxSelected=1);b.duration??(b.duration=500);g.updateLayout=d(g.updateLayout);g.callSuper(k,b);k=g.container=new u(g,{ignorePlacement:!0,percentOfParentWidth:100},[r,{subnodeAdded:function(a){this.callSuper(a);a instanceof e&&(g._tabSliders.push(a),g.attachTo(a,"updateLayout","selected"))},subnodeRemoved:function(a){if(a instanceof
e){const f=g._tabSliders,c=f.indexOf(a);-1<c&&(g.detachFrom(a,"updateLayout","selected"),f.splice(c,1))}this.callSuper(a)}}]);k.layout=new q.SpacedLayout(k,{axis:"y",spacing:g.spacing,collapseParent:!0});g.attachTo(g,"updateLayout","height")},setPersistenceId:function(k){this.persistenceId=k},getTabSliders:function(){return this._tabSliders},getTabSliderById:function(k){for(const b of this._tabSliders)if(b.tabId===k)return b},setSpacing:function(k){this.spacing!==k&&(this.spacing=k,this.layout?.setSpacing(k))},
setDuration:function(k){this.duration=k},updateLayout:function(k,b){k=this._tabSliders;for(var g=k.length,a=g,f=0,c=0,n=0;a;){var v=k[--a];v.visible&&(++n,v.selected?(f+=v.getMinimumExpandedHeight(),c+=v.getPreferredExpandedHeight()):(v=v.getCollapsedHeight(),f+=v,c+=v))}a=this.container.layout;n=a.inset+a.outset+a.spacing*(n-1);c+=n;a=this.height;f=f+n>a;n=c>a;v=this.duration;c-=a;0<b&&this.setDuration(b);for(a=g;a;)if(g=k[--a],g.visible)if(g.selected){let t;if(f)t=g.getMinimumExpandedHeight();else if(n){const p=
g.getPreferredExpandedHeight(),A=g.getMinimumExpandedHeight();t=p-c;A>t?(c-=p-A,t=A):c=0}else t=g.getPreferredExpandedHeight();g.expand(t)}else g.collapse();0<b&&this.setDuration(v)},readState:k=>h.getDatum(k),writeState:(k,b)=>{h.setDatum(k,b)},saveState:d(function(){const k=[];for(const b of this.getTabSliders())"expanded"===b.expansionState&&k.push(b.tabId);this.writeState(this.persistenceId,k)},1E3),restoreState:function(k){for(const b of this.readState(this.persistenceId)||k)this.select(this.getTabSliderById(b))}})})(myt);
(q=>{const w=q.theme,u=h=>{const d=[];switch(h.tabContainer.location){case "top":d.push("TopLeft","TopRight");break;case "bottom":d.push("BottomLeft","BottomRight");break;case "left":d.push("TopLeft","BottomLeft");break;case "right":d.push("TopRight","BottomRight")}for(const e of d)h["setRounded"+e+"Corner"](h.cornerRadius||0)},r=q.Tab=new JS.Class("Tab",q.SimpleTextButton,{include:[q.Selectable],initNode:function(h,d){d.tabId??(d.tabId=q.generateGuid());d.tabContainer??(d.tabContainer=h);let e;d.selected&&
(e=!0,delete d.selected);d.inset??(d.inset=w.TabInset);d.outset??(d.outset=w.TabOutset);d.selectedColor??(d.selectedColor="#fff");d.hoverColor??(d.hoverColor="#eee");d.activeColor??(d.activeColor="#aaa");d.readyColor??(d.readyColor="#ccc");d.labelTextSelectedColor??(d.labelTextSelectedColor="#333");d.height??(d.height=24);d.focusIndicator??(d.focusIndicator=!1);d.cornerRadius??(d.cornerRadius=6);this.callSuper(h,d);e&&this.tabContainer.select(this);u(this);this.textView.setTextColor(this.selected?
this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(h){this.tabId=h},setTabContainer:function(h){this.tabContainer=h},setSelectedColor:function(h){this.selectedColor=h},setLabelTextColor:function(h){this.labelTextColor=h},setCornerRadius:function(h){this.cornerRadius=h;this.inited&&u(this)},setLabelTextSelectedColor:function(h){this.labelTextSelectedColor=h;this.inited&&this.selected&&this.textView.setTextColor(h)},setSelected:function(h){this.callSuper(h);this.inited&&(this.updateUI(),
this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}});q.TabContainer=new JS.Module("TabContainer",{include:[q.SelectionManager],initNode:function(h,d){this.__tabs=[];d.spacing??(d.spacing=w.TabContainerSpacing);d.inset??(d.inset=w.TabContainerInset);d.location??(d.location="top");d.itemSelectionId??(d.itemSelectionId=
"tabId");d.maxSelected??(d.maxSelected=1);const e=d.collapse??!0;delete d.collapse;this.callSuper(h,d);this.layout=new q.SpacedLayout(this,{axis:"left"===this.location||"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:e})},setLocation:function(h){this.location=h},setSpacing:function(h){this.spacing!==h&&(this.spacing=h,this.layout?.setSpacing(h))},setInset:function(h){this.inset!==h&&(this.inset=h,this.layout?.setInset(h))},getFirstTab:function(){return this.__tabs[0]},
getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(h){this.callSuper(h);if(h.isA(r))switch(this.__tabs.push(h),this.location){case "top":h.setValign("bottom");break;case "bottom":h.setValign("top");break;case "left":h.setAlign("right");break;case "right":h.setAlign("left")}},subnodeRemoved:function(h){if(h.isA(r)){const d=this.__tabs,e=d.indexOf(h);-1<e&&d.splice(e,1)}this.callSuper(h)}})})(myt);
(q=>{const w=JS.Class,u=Math.min,r=Array.isArray,{SizeToDom:h,View:d,Disableable:e,KeyObservable:l,theme:k,global:{keys:b}}=q,g=(t,p,A)=>{t[A]!==p&&(t[A]=p,t.getIDS()[A]=p+"px",t.inited&&(t.fireEvent(A,p),t.sizeViewToDom()))},a=(t,p,A)=>{t[p]!==A&&(t.getIDE()[p]=t[p]=A,t.inited&&t.fireEvent(p,A))},f=q.NativeInputWrapper=new w("NativeInputWrapper",d,{include:[e,q.InputObservable],initNode:function(t,p){p.tagName??(p.tagName="input");p.focusable??(p.focusable=!0);this.callSuper(t,p);this.addDomClass("mytNativeInput")},
createOurDomElement:function(t){t=this.callSuper(t);this.inputType&&((r(t)?t[1]:t).type=this.inputType);return t},setDisabled:function(t){this.disabled!==t&&(this.getIDE().disabled=t,this.callSuper(t))},setValue:function(t){this.value!==t&&(this.value=t,this.setDomValue(t),this.inited&&this.fireEvent("value",t))},getDomValue:function(){return this.getIDE().value},setDomValue:function(t){const p=this.getIDE();p.value!==t&&(p.value=t)}}),c=q.InputSelectOption=new w("InputSelectOption",d,{include:[e,
q.Selectable],createOurDomElement:t=>document.createElement("option"),setSelected:function(t){t=this.valueFromEvent(t);const p=this.getIDE();p.selected!==t&&(p.selected=t)},setDisabled:function(t){this.disabled!==t&&(this.getIDE().disabled=t,this.callSuper(t))},setValue:function(t){a(this,"value",t)},setLabel:function(t){this.label!==t&&(this.getIDE().textContent=this.label=t,this.inited&&this.fireEvent("label",t))},isSelected:function(){return this.getIDE().selected},canSelect:function(t){return!this.disabled&&
!this.getIDE().selected&&this.parent===t},canDeselect:function(t){return!this.disabled&&this.getIDE().selected&&this.parent===t}}),n=q.BaseInputText=new w("BaseInputText",f,{include:[q.TextSupport],initNode:function(t,p){p.bgColor??(p.bgColor="transparent");p.spellcheck??(p.spellcheck=!1);this.callSuper(t,p);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(t){this.callSuper(t);this.setValue(t)},
setSpellcheck:function(t){a(this,"spellcheck",t)},setMaxLength:function(t){a(this,"maxLength",null==t||0>t?void 0:t)},setAllowedChars:function(t){this.allowedChars=t},setPlaceholder:function(t){a(this,"placeholder",t)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(k.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(t){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(t){const p=
t.value,A=this.allowedChars;A&&!A.includes(l.getKeyFromEvent(t))&&p.preventDefault();this.filterInputPress(p)},filterInput:t=>t,filterInputPress:t=>{},__syncToDom:function(t){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const t=document.selection.createRange();t.moveStart("character",-this.getDomValue().length);return t.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(t,p){if(null==p||t===p){if(this.getCaretPosition()===t)return;
p=t}var A=this.getIDE();A.setSelectionRange?A.setSelectionRange(t,p):A.createTextRange&&(A=A.createTextRange(),A.collapse(!0),A.moveEnd("character",p),A.moveStart("character",t),A.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const t=this.getIDE();return{start:t.selectionStart,startElem:t,end:t.selectionEnd,endElem:t}},setSelection:function(t){t&&
this.setCaretPosition(t.start,t.end)},saveSelection:function(t){this._selRange=t||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}}),v=q.InputText=new w("InputText",n,{include:[q.SizeHeightToDom],initNode:function(t,p){this.inputType=!0===p.password?"password":"text";this.callSuper(t,p);this.setCaretToEnd()},setPassword:function(t){this.set("password",t,!0);this.inited&&(this.getIDE().type=t?"password":"text")}});q.InputTextMouseFixMixin=new JS.Module("InputTextMouseFixMixin",
{initNode:function(t,p){this.callSuper(t,p);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},createDomHandler:function(t,p,A){return"mousedown"===A||"mouseup"===A?this.createStandardDomHandler(t,p,A,q.MouseObservable,!1):this.callSuper(t,p,A)},doMouseDown:t=>{},doMouseUp:t=>{}});q.EditableText=new w("EditableText",n,{include:[h],initNode:function(t,p){p.tagName??(p.tagName="div");p.inputType=null;p.whiteSpace??(p.whiteSpace="pre");p.contentEditable??(p.contentEditable=
!0);this.callSuper(t,p);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(t){g(this,t,"minWidth")},setMinHeight:function(t){g(this,t,"minHeight")},setPadding:function(t){this.setPaddingTop(t);this.setPaddingRight(t);this.setPaddingBottom(t);this.setPaddingLeft(t)},setPaddingTop:function(t){g(this,t,"paddingTop")},setPaddingRight:function(t){g(this,t,"paddingRight")},
setPaddingBottom:function(t){g(this,t,"paddingBottom")},setPaddingLeft:function(t){g(this,t,"paddingLeft")},setContentEditable:function(t){a(this,"contentEditable",t)},filterInputPress:function(t){const p=this.maxLength;0<=p&&this.getCharacterCount()===p&&t.preventDefault();this.callSuper(t)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(t){const p=this.getIDE();p.innerHTML!==t&&(p.innerHTML=t,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(t){l.isEnterKeyEvent(t)&&
(t.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(t){this.callSuper(t);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){return this.getIDE().firstChild?.length??0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){return this.getSelection()?.end??0},setCaretPosition:function(t,p){if(null==p||t===
p){if(this.getCaretPosition()===t)return;p=t}this.saveSelection({start:t,startElem:this.getIDE().firstChild,end:p,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(t){this.saveSelection();return!0},getSelection:function(){let t;if(window.getSelection){const p=window.getSelection();if(0<p.rangeCount){if(p.extentNode===this.getIDE())return;t=p.getRangeAt(0)}}else document.selection&&(t=document.selection.createRange());return{start:t?
t.startOffset:0,startElem:t?t.startContainer:this.getIDE().firstChild,end:t?t.endOffset:0,endElem:t?t.endContainer:this.getIDE().firstChild}},setSelection:function(t){if(t){const {startElem:p,endElem:A}=t;if(p&&p.parentNode&&A&&A.parentNode){const I=document.createRange();I.setStart(p,u(t.start,p.length));I.setEnd(A,u(t.end,A.length));window.getSelection?(t=window.getSelection(),0<t.rangeCount&&t.removeAllRanges(),t.addRange(I)):document.selection&&I.select()}}}});q.InputTextArea=new w("InputTextArea",
n,{initNode:function(t,p){p.tagName??(p.tagName="textarea");p.inputType=null;p.resize??(p.resize="none");p.wrap??(p.wrap="soft");this.callSuper(t,p)},destroy:function(){this.__resizeObserver?.unobserve(this.getIDE());this.callSuper()},setResize:function(t){const p=this;p.resize!==t&&(t=p.resize=p.getIDS().resize=t||"none",p.inited&&p.fireEvent("resize",t),"none"!==t&&(p.__resizeObserver??(p.__resizeObserver=new ResizeObserver(()=>{p.doResize()}))).observe(p.getIDE()))},setWrap:function(t){a(this,
"wrap",t)},doResize:function(){const t=this.resize;"both"!==t&&"horizontal"!==t||h.sizeWidth(this);"both"!==t&&"vertical"!==t||h.sizeHeight(this)}});q.ComboBox=new w("ComboBox",v,{include:[q.Activateable,q.KeyActivation,q.ListViewAnchor],initNode:function(t,p){this.filterItems=!0;p.activationKeys??(p.activationKeys=[b.CODE_ENTER,b.CODE_ESC,b.CODE_ARROW_UP,b.CODE_ARROW_DOWN]);p.bgColor??(p.bgColor="#fff");p.borderWidth??(p.borderWidth=1);p.borderStyle??(p.borderStyle="solid");p.floatingAlignOffset??
(p.floatingAlignOffset=p.borderWidth);p.fullItemConfig??(p.fullItemConfig=[]);p.listViewAttrs={...p.listViewAttrs,maxHeight:p.listViewAttrs?.maxHeight??99};this.callSuper(t,p)},setFullItemConfig:function(t){this.fullItemConfig=t},setFilterItems:function(t){this.filterItems=t},__syncToDom:function(t){const p=this.value;this.callSuper(t);p!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(t){const p=this.getFloatingPanel(t);if(p){let I;if(this.filterItems){I=[];var A=this.value;A=null==
A?"":(""+A).toLowerCase();const z=this.fullItemConfig,D=z.length;for(let J=0;D>J;){const P=z[J++],R=P.attrs.text.toLowerCase(),m=R.indexOf(A);0===m?R!==A&&I.push(P):0<m&&I.push(P)}}else I=this.fullItemConfig;0<I.length?(p.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(I),this.callSuper(t)):this.hideFloatingPanel(t)}},doItemActivated:function(t){this.setValue(null==t.value?t.text:t.value);this.callSuper(t)},doActivated:function(){this.toggleFloatingPanel()}});q.InputSelect=new w("InputSelect",
f,{include:[h],initNode:function(t,p){p.tagName??(p.tagName="select");p.inputType=null;p.multiple??(p.multiple=!1);p.size??(p.size=p.multiple?4:1);this.callSuper(t,p);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(t){a(this,"multiple",t)},setSize:function(t){a(this,"size",t)},setOptions:function(t){this.destroyAllOptions();if(r(t))for(const p of t)this.addOption(p)},getOptions:function(){return this.getSubviews().slice()},setValue:function(t){r(t)&&q.areArraysEqual(t,
this.value)||this.value===t||(this.value=t,this.inited&&this.fireEvent("value",t))},subviewAdded:function(t){t instanceof c||(q.dumpStack("Subview unsupported. Destroying it"),t.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(k.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(t=>t.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(t=>
t.value)},getOptionForValue:function(t){return this.getOptions().find(p=>p.value===t)},addOption:function(t){return new c(this,t)},destroyAllOptions:function(){for(const t of this.getOptions())t.destroy()},destroyOptionWithValue:function(t){if(t=this.getOptionForValue(t))if(t.destroy(),t.destroyed)return!0;return!1},deselectAll:function(){let t=!1;for(const p of this.getOptions())p.isSelected()&&(p.setSelected(!1),t=!0);t&&this.__doChanged()},selectValues:function(t){r(t)||(t=[t]);for(const p of t)this.selectValue(p)},
selectValue:function(t){this.select(this.getOptionForValue(t))},select:function(t){t?.canSelect(this)&&(t.setSelected(!0),this.__syncToDom())},deselectValue:function(t){this.deselect(this.getOptionForValue(t))},deselect:function(t){t?.canDeselect(this)&&(t.setSelected(!1),this.__syncToDom())},__doChanged:function(t){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(q=>{const w=JS.Module,u=Math.round;var r=q.ValueComponent=new w("ValueComponent",{initNode:function(d,e){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(d,e)},setValueFilter:function(d){this.valueFilter=d;this.inited&&d&&this.setValue(this.value)},setValue:function(d){this.valueFilter&&(d=this.valueFilter(d));this.value!==d&&(this.value=d,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(d,e){const l=this.valueFilter;
this.setValueFilter(l?"last"===e?k=>d(l(k)):k=>l(d(k)):d)}});const h=q.RangeComponent=new w("RangeComponent",{include:[r],setLowerValue:function(d){this.setValue({lower:d,upper:this.value&&void 0!==this.value.upper?this.value.upper:d})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(d){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:d,upper:d})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(d){if(d){var e=
this.value;const b=e?e.lower:void 0;e=e?e.upper:void 0;this.valueFilter&&(d=this.valueFilter(d));if(d.lower!==b||d.upper!==e){var l;(l=d).lower??(l.lower=d.upper);var k;(k=d).upper??(k.upper=d.lower);void 0!==d.lower&&void 0!==d.upper&&d.lower>d.upper&&(l=d.lower,d.lower=d.upper,d.upper=l);this.value=d;this.inited&&(this.fireEvent("value",this.getValue()),d.lower!==b&&this.fireEvent("lowerValue",d.lower),d.upper!==e&&this.fireEvent("upperValue",d.upper))}}else this.callSuper(d)},getValueCopy:function(){const d=
this.value;return{lower:d.lower,upper:d.upper}}});r=q.BoundedValueComponent=new w("BoundedValueComponent",{include:[r],initNode:function(d,e){const l=this;l.appendToEarlyAttrs("snapToInt","minValue","maxValue");e.snapToInt??(e.snapToInt=!0);e.valueFilter||(e.valueFilter=k=>{var b=l.maxValue;if(null!=b&&k>b)return b;b=l.minValue;return null!=b&&k<b?b:k});l.callSuper(d,e)},setSnapToInt:function(d){this.snapToInt!==d&&(this.snapToInt=d,this.inited&&(this.fireEvent("snapToInt",d),d&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(d){this.snapToInt&&null!=d&&(d=u(d));if(this.minValue!==d){const e=this.maxValue;null!=e&&d>e&&(d=e);this.minValue!==d&&(this.minValue=d,this.inited&&(this.fireEvent("minValue",d),this.setValue(this.value)))}},setMaxValue:function(d){this.snapToInt&&null!=d&&(d=u(d));if(this.maxValue!==d){const e=this.minValue;null!=e&&d<e&&(d=e);this.maxValue!==d&&(this.maxValue=d,this.inited&&(this.fireEvent("maxValue",d),this.setValue(this.value)))}},
setValue:function(d){this.callSuper(this.snapToInt&&null!=d&&!isNaN(d)?u(d):d)}});q.BoundedRangeComponent=new w("BoundedRangeComponent",{include:[r,h],initNode:function(d,e){const l=this;e.valueFilter||(e.valueFilter=k=>{if(k){const b=l.maxValue,g=l.minValue;null!=b&&k.upper>b&&(k.upper=b);null!=g&&k.lower<g&&(k.lower=g)}return k});l.callSuper(d,e)},setValue:function(d){this.snapToInt&&null!=d&&(null==d.lower||isNaN(d.lower)||(d.lower=u(d.lower)),null==d.upper||isNaN(d.upper)||(d.upper=u(d.upper)));
this.callSuper(d)}})})(myt);
(q=>{const w=u=>{const r=u.label??"";u.setText('<i class="'+("solid"===u.checkboxStyle?"fas":"far")+" fa-"+(u.isChecked()?"check-":"")+'square"></i>'+(0<r.length?" "+r:""))};q.Checkbox=new JS.Class("Checkbox",q.Text,{include:[q.SimpleButtonStyle,q.ValueComponent],initNode:function(u,r){this.appendToEarlyAttrs("userUnselectable");r.value??(r.value=!1);r.focusIndicator??(r.focusIndicator=!1);r.checkboxStyle??(r.checkboxStyle="outline");r.activeColor??(r.activeColor="inherit");r.hoverColor??(r.hoverColor=
"inherit");r.readyColor??(r.readyColor="inherit");this.callSuper(u,r);q.FontAwesome.registerForNotification(this);w(this)},setValue:function(u){this.value!==u&&(this.callSuper(u),this.inited&&w(this))},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&w(this))},setCheckboxStyle:function(u){this.checkboxStyle!==u&&(this.set("checkboxStyle",u,!0),this.inited&&w(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(u,
r=1){this.setOpacity(r);this.setTextColor(u)}})})(myt);
(q=>{let w;const {Class:u,Module:r}=JS,h=console.warn,{KeyObservable:d,UpdateableUI:e,dumpStack:l,global:k}=q,b=k.focus,g=k.keys,a={},f=(m,x)=>{if(m){const C=m.id;m.id?x(C):l("No ID")}else l("No processor")},c=m=>{f(m,x=>{a[x]=m})},n=m=>{const x=q.BAG.getGroup("selected",m.groupId);if(x){const C=x.getNodes();m=m.value;let M=C.length;for(;M;){const Q=C[--M];if(Q.optionValue===m){x.setTrue(Q);break}}}},v=m=>{if(m.groupId){const x=q.BAG.getGroup("selected",m.groupId);x&&m.syncTo(x,"__syncValue","trueNode")}},
t=(m,x)=>{const C=[],M=m.__v;if(M)for(const Q of M)x=Q.isFormValid(m,null,C)&&x;m.setErrorMessages(C);m.setIsValid(x);return x},p=(m,x,C)=>{if(m=m.__vp)for(const M of m)M[C]&&(x=M.process(x));return x},A=q.ValueProcessor=new u("ValueProcessor",{initialize:function(m,x,C,M){this.id=m;this.runForDefault=!!x;this.runForRollback=!!C;this.runForCurrent=!!M},process:m=>m}),I=q.ToNumberValueProcessor=new u("ToNumberValueProcessor",A,{process:m=>{if(null==m||""===m||"-"===m)return m;const x=Number(m);return isNaN(x)?
m:x}}),z=q.TrimValueProcessor=new u("TrimValueProcessor",A,{initialize:function(m,x,C,M,Q){this.callSuper(m,x,C,M);this.trim=Q},process:function(m){m+="";switch(this.trim){case "start":case "left":return m.trimStart();case "end":case "right":return m.trimEnd();default:return m.trim()}}}),D=q.UndefinedValueProcessor=new u("UndefinedValueProcessor",A,{initialize:function(m,x,C,M,Q){this.callSuper(m,x,C,M);this.defaultValue=Q},process:function(m){return void 0===m?this.defaultValue:m}}),J=q.Form=new r("Form",
{extend:{ACCELERATOR_SCOPE_ROOT:"root",ACCELERATOR_SCOPE_ELEMENT:"element",ACCELERATOR_SCOPE_NONE:"none"},initNode:function(m,x){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(m,x);this.form?.isA(J)&&this.form.addSubForm(this)},destroy:function(){this.form?.isA(J)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(m){this.set("errorMessages",m,!0)},getFullId:function(){const m=[this.id];let x=this.form;for(;x&&x.id;)m.unshift(x.id),
x=x.form;return m.join(".")},setId:function(m){if(this.id!==m){const x=this.id;this.id=m;(m=this.form)&&this.inited&&(m.removeSubForm(x),m.addSubForm(this))}},setForm:function(m){if(this.form!==m){const x=this.form;this.form=m;x?.removeSubForm(this.id);this.inited&&m?.addSubForm(this)}},setIsValid:function(m){this.isValid=m;this.inited&&this.fireEvent("isValid",m);const x=this.form;x&&!this._lockCascade&&(m?x.verifyValidState(this):x.notifySubFormInvalid())},setIsChanged:function(m){if(this.isChanged!==
m){this.isChanged=m;this.inited&&this.fireEvent("isChanged",m);const x=this.form;x&&!this._lockCascade&&(m?x.notifySubFormChanged():x.verifyChangedState(this))}},setValidators:function(m){let x=m.length;for(;x;){const C=m[--x];"string"===typeof C&&(m[x]=k.validators.getValidator(C),m[x]||m.splice(x,1))}this.__v=m},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(P))return this.value;const m={},x=this.__sf;for(const C in x)m[C]=x[C].getValue();return m},setValue:function(m){this.callSuper?.(m);
if("object"===typeof m&&!this.isA(P))for(const x in m){const C=this.getSubForm(x);C?m[x]=C.setValue(m[x]):h("ID in setValue for missing subform",x)}this.form?.notifyValueChanged(this);return m},getDefaultValue:function(){const m={};let x=this.__sf;for(const C in x)m[C]=x[C].getDefaultValue();return m},setDefaultValue:function(m){if("object"===typeof m)for(const x in m){const C=this.getSubForm(x);C?m[x]=C.setDefaultValue(m[x]):h("ID in setDefaultValue for missing subform",x)}return m},getRollbackValue:function(){const m=
{},x=this.__sf;for(const C in x)m[C]=x[C].getRollbackValue();return m},setRollbackValue:function(m){if("object"===typeof m)for(const x in m){const C=this.getSubForm(x);C?m[x]=C.setRollbackValue(m[x]):h("ID in setRollbackValue for missing subform",x)}return m},addAccelerator:function(m,x){this.__acc[m]=x},removeAccelerator:function(m){delete this.__acc[m]},invokeAccelerator:function(m,x){this.__acc[m]?.call(this,x??null)},addValidator:function(m){m&&this.__v.push(m)},removeValidator:function(m){if(m){const x=
this.__v;let C=x.length;for(;C;){const M=x[--C];if(M.id===m)return x.splice(C,1),M}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(m){const x=m.id;null!=this.getSubForm(x)?h("ID in use for subform, add aborted",x,m):(m.setForm(this),this.__sf[x]=m,m.isChanged&&this.notifySubFormChanged(),m.isValid||this.notifySubFormInvalid())},removeSubForm:function(m){const x=this.getSubForm(m);x&&(x.setForm(null),delete this.__sf[m],this.verifyChangedState(),this.verifyValidState());
return x},getSubForm:function(m){return this.__sf[m]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(m){m&&this.doValidation();const x=[];(function Q(M){if(M.isA(P))M.isValid||x.push(M.getFullId());else{M=M.getSubForms();for(const L in M)Q(M[L])}})(this);return x},getAllErrorMessages:function(){const m=this.__sf;let x=(this.errorMessages??[]).slice();for(const C in m)x.push(...m[C].getAllErrorMessages());return x},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(m){const x=
this.__sf;let C=!0;for(const M in x){const Q=x[M];Q!==m&&(C=Q.isValid&&C)}return t(this,C)},doValidation:function(){const m=this.__sf;let x=!0;for(const C in m)x=m[C].doValidation()&&x;this._lockCascade=!0;x=t(this,x);this._lockCascade=!1;return x},notifyValueChanged:function(m){this.form?.notifyValueChanged(m)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(m){const x=this.__sf;let C=!1;for(const M in x){const Q=x[M];Q!==m&&(C=Q.isChanged||C)}this.setIsChanged(C);
return C},setup:function(m,x,C){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;m??={};x??={};C??={};const M=this.__sf;for(const Q in M)M[Q].setup(m[Q],x[Q],C[Q])},resetForm:function(){this._lockCascade=!0;const m=this.__sf;for(const x in m)m[x].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const m=this.__sf;for(const x in m)m[x].rollbackForm();
this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const m={},x=this.__sf;for(const C in x){const M=x[C];M.isChanged&&(m[C]=M.getChangedValue())}return m}}),P=q.FormElement=new r("FormElement",{include:[J],initNode:function(m,x){this.__vp=[];this.callSuper(m,x)},getValue:function(){return p(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(m){void 0===m&&(m=this.getRollbackValue());this.value!==m&&
(this.callSuper(m),this.verifyChangedState());return m},getDefaultValue:function(){return p(this,this.defaultValue,"runForDefault")},setDefaultValue:function(m){this.defaultValue!==m&&(this.defaultValue=m,this.inited&&this.fireEvent("defaultValue",m),this.verifyChangedState());return m},getRollbackValue:function(){return p(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(m){void 0===m&&(m=this.getDefaultValue());this.rollbackValue!==m&&(this.rollbackValue=m,this.inited&&this.fireEvent("rollbackValue",
m),this.verifyChangedState());return m},setValueProcessors:function(m){let x=m.length;for(;x;){const C=m[--x];"string"===typeof C&&(m[x]=a[C],m[x]||m.splice(x,1))}this.__vp=m},addValueProcessor:function(m){this.__vp.push(m)},removeValueProcessor:function(m){if(m){const x=this.__vp;let C=x.length;for(;C;){const M=x[--C];if(M.id===m)return x.splice(C,1),M}}},addSubForm:m=>{l("addSubForm unsupported on FormElement")},getSubForm:m=>{l("getSubForm unsupported on FormElement")},removeSubForm:m=>{l("removeSubForm unsupported on FormElement")},
verifyChangedState:function(m){m=this.getValue()!==this.getRollbackValue();this.setIsChanged(m);return m},setup:function(m,x,C){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(m);this.setRollbackValue(x);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(C)},resetForm:function(){this._lockCascade=!0;const m=this.getDefaultValue();this.setRollbackValue(m);this.setValue(m);this.setIsChanged(!1);this.setErrorMessages([]);
this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),R=q.FormInputTextMixin=new r("FormInputTextMixin",{include:[P,e],initNode:function(m,x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor=
"#999";x.bgColor??(x.bgColor="#fff");x.borderWidth??(x.borderWidth=1);x.borderStyle??(x.borderStyle="solid");this.callSuper(m,x);this.addValueProcessor(w);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(m){this.validateWhen=m},setAcceleratorScope:function(m){this.acceleratorScope=m},setErrorColor:function(m){this.errorColor=m},setActionRequiredColor:function(m){this.actionRequiredColor=
m},setNormalColor:function(m){this.normalColor=m},setIsChanged:function(m){this.callSuper(m);this.inited&&this.updateUI()},setIsValid:function(m){this.callSuper(m);this.inited&&this.updateUI()},setValue:function(m){m=this.callSuper(m);const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return m},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":b.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");
break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},__hndlKeyDown:function(m){d.isEnterKeyEvent(m)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(m){d.isEscKeyEvent(m)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const m=this.validateWhen;"blur"!==m&&"blurWithKeyFix"!==m||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
q.RootForm=new r("RootForm",{include:[J],initNode:function(m,x){this.callSuper(m,x);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:m=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();this.doValidation()}});q.FormCheckbox=new u("FormCheckbox",q.Checkbox,{include:[P],initNode:function(m,x){this.rollbackValue=this.defaultValue=
!1;this.callSuper(m,x)}});q.FormComboBox=new u("FormComboBox",q.ComboBox,{include:[P,e],initNode:function(m,x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(m,x);this.addValueProcessor(w);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(m){this.validateWhen=m},setAcceleratorScope:function(m){this.acceleratorScope=m},setErrorColor:function(m){this.errorColor=
m},setActionRequiredColor:function(m){this.actionRequiredColor=m},setNormalColor:function(m){this.normalColor=m},setIsChanged:function(m){this.callSuper(m);this.inited&&this.updateUI()},setIsValid:function(m){this.callSuper(m);this.inited&&this.updateUI()},setValue:function(m){m=this.callSuper(m);const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return m},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":b.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},notifyPanelShown:function(m){this._isShown=!0},notifyPanelHidden:function(m){this._isShown=!1},doActivationKeyDown:function(m,x){m!==g.CODE_ESC||this._isShown?this.callSuper(m,x):this.invokeAccelerator("reject")},doActivationKeyUp:function(m){m!==
g.CODE_ENTER||this._isShown?this.callSuper(m):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const m=this.validateWhen;"blur"!==m&&"blurWithKeyFix"!==m||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});q.FormEditableText=new u("FormEditableText",q.EditableText,{include:[R],__hndlKeyDown:function(m){"nowrap"===this.whitespace&&this.callSuper(m)}});q.FormInputText=new u("FormInputText",
q.InputText,{include:[R]});q.FormInputTextArea=new u("FormInputTextArea",q.InputTextArea,{include:[R],__hndlKeyDown:m=>{}});q.FormInputSelect=new u("FormInputSelect",q.InputSelect,{include:[P],setValue:function(m){if(!this.__abortSetValue)return m=this.callSuper(m),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(m),this.__abortSetValue=!1,this.verifyValidState(),m}});q.FormRadioGroup=new u("FormRadioGroup",q.Node,{include:[q.ValueComponent,P],initNode:function(m,x){x.groupId??(x.groupId=
q.generateGuid());this.callSuper(m,x);void 0!==this.value&&n(this);v(this)},setValue:function(m){m=this.callSuper(m);this.inited&&n(this);return m},setGroupId:function(m){if(this.groupId!==m){if(this.groupId){const x=q.BAG.getGroup("selected",this.groupId);x&&this.detachFrom(x,"__syncValue","trueNode")}this.groupId=m;this.inited&&v(this)}},__syncValue:function(m){m=m.value;this.setValue(m?m.optionValue:null)}});q.UseOtherFieldIfEmptyValueProcessor=new u("UseOtherFieldIfEmptyValueProcessor",A,{initialize:function(m,
x,C,M,Q){this.callSuper(m,x,C,M);this.otherField=Q},process:function(m){return null==m||""===m?this.otherField.getValue():m}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){c(w=new D("undefToEmpty",!0,!0,!0,""));c(new I("toNumber",!0,!0,!0));c(new z("trimLeft",!0,!0,!0,"left"));c(new z("trimRight",!0,!0,!0,"right"));c(new z("trimBoth",!0,!0,!0,"both"));k.register("valueProcessors",this)},getValueProcessor:m=>a[m],register:c,unregister:m=>{f(m,x=>{a[x]&&delete a[x]})}})})(myt);
(q=>{const w=JS.Class,u=q.dumpStack,r={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",ico:"image/vnd.microsoft.icon"},h=(b,g)=>{b[g](b,"doDragOver","dragover",!1);b[g](b,"doDragEnter","dragenter",!1);b[g](b,"doDragLeave","dragleave",!1);b[g](b,"doDrop","drop",!1)},d=q.DragDropSupport=new JS.Module("DragDropSupport",{include:[q.DragDropObservable],initNode:function(b,g){this.callSuper(b,g);this.disabled||this.setupDragListeners()},setDisabled:function(b){this.disabled!==
b&&(this.getIDE().disabled=b,this.callSuper(b),this.inited&&(b?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){h(this,"attachToDom")},teardownDragListeners:function(){h(this,"detachFromDom")},doDragOver:b=>{},doDragEnter:b=>{},doDragLeave:b=>{},doDrop:function(b){this.handleFiles(b.value.dataTransfer.files,b)},handleFiles:function(b,g){if(void 0!==b){let a=b.length;for(;a;){const f=this.filterFiles(b[--a]);f&&this.handleDroppedFile(f,g)}}else u("No File API")},
filterFiles:b=>b,handleDroppedFile:(b,g)=>{}}),e=q.FileInput=new w("FileInput",q.NativeInputWrapper,{initNode:function(b,g){this.inputType="file";this.callSuper(b,g);this.attachToDom(this,"_onChange","change")},setAccept:function(b){this.set("accept",b,!0);this.getIDE().accept=this.accept},setMaxFiles:function(b){this.maxFiles!==b&&(this.set("maxFiles",b,!0),this.getIDE().multiple=1<this.maxFiles)},clearValue:function(){this.getIDE().value=""},_onChange:b=>{}}),l=q.Uploader=new w("Uploader",q.View,
{include:[d,q.Disableable,q.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(b,g,a)=>{if(void 0!==FileReader){const f=new FileReader;f.onload=c=>{g(c.target.result)};switch(a){case "text":f.readAsText(b);break;case "arrayBuffer":f.readAsArrayBuffer(b);break;default:f.readAsDataURL(b)}}},isSameFile:(b,g)=>null!=b&&null!=g&&b.name===g.name&&b.type===g.type&&b.size===g.size,createFile:b=>{const g=(new q.URI(b)).file;return{name:g,serverPath:b,size:-1,type:r[q.getExtension(g)]}}},initNode:function(b,
g){const a=this;a.files=[];g.requestFileParam??(g.requestFileParam="file");g.maxFiles??(g.maxFiles=-1);g.responseIsRaw??(g.responseIsRaw=!1);const f=g.accept;delete g.accept;a.callSuper(b,g);a.fileInput=new e(a,{maxFiles:a.maxFiles,accept:f,percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:a.disabled,overflow:"hidden"},[q.SizeToParent,{_onChange:function(c){a.handleFiles(this.getIDE().files,c)}}])},setAccept:function(b){this.fileInput?.setAccept(this.accept)},getAccept:function(){return this.fileInput?.accept},
setMaxFiles:function(b){this.fileInput?.setMaxFiles(this.maxFiles)},getMaxFiles:function(){return this.fileInput?.maxFiles},setValue:function(b){this.clearFiles();if(b){Array.isArray(b)||(b=[b]);for(const g of b)this.addFile(l.createFile(g))}return this.callSuper?this.callSuper(b):b},getValue:function(){return this.value},setDisabled:function(b){this.callSuper(b);this.fileInput?.setDisabled(b)},setUploadUrl:function(b){this.set("uploadUrl",b,!0)},setRequestFileParam:function(b){this.set("requestFileParam",
b,!0)},setResponseIsRaw:function(b){this.set("responseIsRaw",b,!0)},bringSubviewToFront:function(b){b===this.fileInput?this.callSuper(b):this.sendSubviewBehind(b,this.fileInput)},subviewAdded:function(b){this.callSuper(b);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(b,g){this.addFile(b)},filterFiles:function(b){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:b},uploadFiles:function(b,g){b??=this.uploadUrl;const a=this.files;let f=a.length;for(;f;)this.uploadFile(a[--f],
b,g)},makeFetchOptionsForUpload:b=>({method:"POST",body:b}),uploadFile:function(b,g,a){const f=this,c=new FormData;c.append(a??f.requestFileParam,b,b.name.replaceAll("%20"," "));q.doFetch(g??f.uploadUrl,f.makeFetchOptionsForUpload(c),f.responseIsRaw,n=>{f.handleUploadSuccess(b,n)},n=>{f.handleUploadFailure(b,n)})},handleUploadSuccess:function(b,g){b[l.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(b,g);this.updateValueFromFiles()},handleUploadFailure:(b,g)=>{u("Upload failure:"+g.status+
":"+g.message)},parseServerPathFromResponse:(b,g)=>null,addFile:function(b){this.files.push(b);this.updateValueFromFiles();this.fireEvent("addFile",b)},removeFile:function(b){const g=this.files;let a=g.length;for(;a;)if(l.isSameFile(g[--a],b)){g.splice(a,1);this.updateValueFromFiles();this.fireEvent("removeFile",b);break}},updateValueFromFiles:function(){const b=[];var g=this.files;let a=g.length;for(;a;){const f=g[--a][l.FILE_ATTR_SERVER_PATH];f&&b.push(f)}g=b.length;(this.value=1===g?b[0]:0===g?
void 0:b)||this.fileInput.clearValue();this.verifyChangedState();this.form?.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const b=this.files;let g=b.length;for(;g;)this.removeFile(b[--g])}}),k=q.ImageUploader=new w("ImageUploader",l,{extend:{isImageFile:b=>/image/i.test(b.type)},initNode:function(b,g){g.maxFiles=1;this.callSuper(b,g)},filterFiles:function(b){if(k.isImageFile(b)||this.allowNonImages){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(b)}},
addFile:function(b){const g=this,a=k.isImageFile(b);g.callSuper(b);const f=g.imageView=new q.Image(g,{percentOfParentWidth:100,percentOfParentHeight:100,useNaturalSize:!1,imageSize:"contain",imagePosition:"center"},[q.SizeToParent]);f.file=b;const c=n=>{const v=new Image;v.onload=()=>{b.width=v.width;b.height=v.height;f&&!f.destroyed&&g.updateImage(b,f,v.src)};v.src=n};a?-1===b.size?c(b.serverPath):k.isImageFile(b)&&l.readFile(b,c):-1===b.size?g.updateImage(b,f,b.serverPath):l.readFile(b,n=>{g.updateImage(b,
f,n)});return f},removeFile:function(b){this.callSuper(b);const g=this.getSubviews();let a=g.length;for(;a;){const f=g[--a];if(l.isSameFile(f.file,b)){f.destroy();break}}},handleDroppedFile:function(b,g){this.callSuper(b,g);this.uploadFile(b,this.uploadUrl)},updateImage:function(b,g,a){this.nativeWidth=b.width;this.nativeHeight=b.height;g.setImageUrl(a)},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(q=>{const w=(u,r,h,d)=>{h=h.bind(u);"y"!==u.axis&&(h(r,d,"x"),h(r,d,"boundsWidth"));"x"!==u.axis&&(h(r,d,"y"),h(r,d,"boundsHeight"));h(r,d,"visible")};q.SizeToChildren=new JS.Class("SizeToChildren",q.Layout,{initNode:function(u,r){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(u,r)},setAxis:function(u){this.axis!==u&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=u,this.startMonitoringAllSubviews(),this.fireEvent("axis",u),this.update()):this.axis=u)},setPaddingX:function(u){this.paddingX!==
u&&(this.paddingX=u,this.inited&&(this.fireEvent("paddingX",u),this.update()))},setPaddingY:function(u){this.paddingY!==u&&(this.paddingY=u,this.inited&&(this.fireEvent("paddingY",u),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const r=this.parent;if(!r.isBeingDestroyed){const h=this.subviews;var u=h.length;const d=this.axis,e=Math.max;let l,k;if("y"!==d){l=u;for(k=0;l;){const b=h[--l];b.visible&&(k=e(k,b.x+(0<b.boundsWidth?b.boundsWidth:0)))}r.setWidth(k+
this.paddingX)}if("x"!==d){l=u;for(k=0;l;)u=h[--l],u.visible&&(k=e(k,u.y+(0<u.boundsHeight?u.boundsHeight:0)));r.setHeight(k+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(u){w(this,u,this.attachTo,"update")},stopMonitoringSubview:function(u){w(this,u,this.detachFrom,"update")}})})(myt);
(q=>{let w=0;const u=JS.Class,{View:r,SizeToParent:h,RootView:d,theme:e}=q,l=q.Dimmer=new u("Dimmer",r,{include:[h],initNode:function(k,b){this.restoreFocus=!0;b.focusable=b.focusCage=!0;b.percentOfParentWidth??(b.percentOfParentWidth=100);b.percentOfParentHeight??(b.percentOfParentHeight=100);b.visible??(b.visible=!1);b.ignoreLayout??(b.ignoreLayout=!0);this.callSuper(k,b);this.overlay=new r(this,{ignorePlacement:!0,opacity:e.DimmerOpacity,bgColor:e.DimmerColor,percentOfParentWidth:100,percentOfParentHeight:100},
[h]);for(const g of"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" "))this.attachDomObserver(this,"eatMouseEvent",g);d.setupCaptureDrop(this)},destroy:function(){d.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(k){this.restoreFocus=k},eatMouseEvent:k=>!0,show:function(){const k=q.global.focus;this.prevFocus=k.focusedView??k.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(k){this.visible&&(this.setVisible(!1),
!k&&this.restoreFocus&&this.prevFocus?.focus())}});q.ModalPanel=new u("ModalPanel",l,{extend:{getOpenModalPanelCount:()=>w,hasOpenModalPanels:()=>0<w},initNode:function(k,b){const g={name:"content",ignorePlacement:!0},a={...g,align:"center",valign:"middle"};this.defaultPlacement="content";b.sizingStrategy??(b.sizingStrategy="children");b.marginTop??(b.marginTop=e.ModalPanelMarginTop);b.marginLeft??(b.marginLeft=e.ModalPanelMarginLeft);b.marginBottom??(b.marginBottom=e.ModalPanelMarginBottom);b.marginRight??
(b.marginRight=e.ModalPanelMarginRight);b.paddingX??(b.paddingX=e.ModalPanelPaddingX);b.paddingY??(b.paddingY=e.ModalPanelPaddingY);this.callSuper(k,b);switch(this.sizingStrategy){case "children":new q.SizeToChildren(new r(this,a),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new r(this,{...g,x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,
percentOfParentWidth:100,percentOfParentHeight:100},[h]);break;case "basic":new r(this,a);break;default:new r(this,g)}},setSizingStrategy:function(k){this.sizingStrategy=k},setMarginTop:function(k){this.marginTop=k},setMarginLeft:function(k){this.marginLeft=k},setMarginBottom:function(k){this.marginBottom=k},setMarginRight:function(k){this.marginRight=k},setPaddingX:function(k){this.paddingX=k},setPaddingY:function(k){this.paddingY=k},show:function(){this.callSuper();w++},hide:function(k){this.callSuper(k);
w=Math.max(0,w-1)}})})(myt);
(q=>{const w=r=>{r[r.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},u=r=>{const h=r.size,d=r.getIDS();r.setWidth(h);r.setHeight(h);d.width=d.height=h-2*r.borderWidth+"px"};q.Spinner=new JS.Class("Spinner",q.View,{initNode:function(r,h){this.lateAttrs=["spinColor"];h.visible??(h.visible=!1);h.borderWidth??(h.borderWidth=5);h.borderColor??(h.borderColor="#fff");h.borderStyle??(h.borderStyle="solid");h.spinColor??(h.spinColor="#000");this.callSuper(r,h);this.getIDS().borderRadius="50%";u(this);
w(this)},setSize:function(r){this.size!==r&&(this.size=r,this.inited&&u(this))},setSpinColor:function(r){this.spinColor!==r&&(this.getIDS().borderTopColor=this.spinColor=r,this.inited&&this.fireEvent("spinColor",r))},setBorderWidth:function(r){this.borderWidth!==r&&(this.callSuper(r),this.inited&&u(this))},setVisible:function(r){this.visible!==r&&(this.callSuper(r),this.inited&&w(this))}})})(myt);
(q=>{const w=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),u=d=>{if(Array.isArray(d)){let e=d.length;if(0<e){d.unshift("fa");e++;d[1].startsWith("fa-")||(d[1]="fa-"+d[1]);3<=e&&(d[2]=w[d[2]]??"");if(3<e)for(let l=3;e>l;l++)d[l].startsWith("fa-")||(d[l]="fa-"+d[l]);return'<i class="'+d.join(" ")+'"></i>'}}q.dumpStack("Error making tag");console.error(d);return""},r=d=>{let e=d.properties;e=e?"string"===typeof e?e.split(" "):e.slice():[];e.unshift(d.icon,d.size);d.setHtml(u(e))},h=d=>{for(const e of["Free 400",
"Free 900","Brands 400"])q.registerForFontNotification(d,"Font Awesome 5 "+e)};q.FontAwesome=new JS.Class("FontAwesome",q.Markup,{extend:{makeTag:u,registerForNotification:h},initNode:function(d,e){this.size=0;this.icon="";this.callSuper(d,e);r(this);h(this)},setIcon:function(d){const e=this.icon;this.set("icon",d,!0);this.inited&&e!==d&&r(this)},setSize:function(d){const e=this.size;this.set("size",d,!0);this.inited&&e!==d&&r(this)},setProperties:function(d){this.properties=d;this.fireEvent("properties",
d);this.inited&&r(this)}});q.loadCSSFonts(["https://use.fontawesome.com/releases/v5.15.4/css/all.css"])})(myt);
(q=>{let w,u,r,h,d=0,e=0,l=0,k=255,b=[],g,a,f,c,n,v,t,p,A,I,z,D,J,P,R,m,x,C,M,Q,L,y,B,G,F,N;const S=JS.Class,{View:O,Text:W,ModalPanel:Y,SizeToChildren:aa,SpacedLayout:Aa,WrappingLayout:Ba,SelectionManager:Ca,Color:ra,LocalStorage:Da,Button:wa,TextButton:oa,Draggable:Ea,FontAwesome:{makeTag:pa},theme:X}=q,{min:ja,max:ka}=Math,Ia=new S("DialogButton",oa,{initNode:function(E,H){H.height??(H.height=17);H.paddingTop??(H.paddingTop=3);H.paddingLeft??(H.paddingLeft=10);H.paddingRight??(H.paddingRight=10);
H.activeColor??(H.activeColor="#bbb");H.hoverColor??(H.hoverColor="#ddd");H.readyColor??(H.readyColor="#ccc");H.domClass="mytButtonText";this.callSuper(E,H)}}),Ja=pa(["check"]),Ga=E=>{for(let H of E)7===H?.length&&(H+="ff"),Fa[H]=!0},Fa={},Ka=new S("Swatch",O,{include:[wa],initNode:function(E,H){const K=H.width=H.height=16;H.border=X.border1s9;H.domClass="mytCheckerboardPattern";const T=H.bgColor;this.callSuper(E,H);this.colorView=new O(this,{width:K,height:K,bgColor:T});T===h&&(E=ra.makeColorFromHexString(h),
new W(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>E.red+E.green+E.blue?"#fff":"#000"}))},setBgColor:function(E){this.colorView?.setBgColor(E);this.setTooltip(E)},doActivated:function(){w.setColor(this.colorView.bgColor)},drawHoverState:function(){this.setBorder(X.border1s3)},drawReadyState:function(){this.setBorder(X.border1s9)}}),La=q.ColorPicker=new S("ColorPicker",O,{initNode:function(E,H){w=this;w._isReady=!1;let K=H.color??"transparent";delete H.color;r=H.alphaChannel??!1;delete H.alphaChannel;
g=H.palette??[];Ga(g);delete H.palette;u="transparent"===K;w.callSuper(E,H);a=new O(w,{width:160,height:170});new Ba(a,{spacing:4,lineSpacing:4});f=new O(w,{x:170,width:139,height:139,border:X.border1s3},[Ea,{requestDragPosition:function(T,U){f.callSuper(f.x,f.y);const Z=this.getPagePosition();e=parseFloat(ka(0,ja(1,(T+this.dragInitX-Z.x)/this.width)));l=parseFloat(1-ka(0,ja(1,(U+this.dragInitY-Z.y)/this.height)));u=!1;w.updateUI()}}]);E=new O(f,{width:139,height:139});H=new O(E,{width:139,height:139});
E.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";H.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";c=new O(H,{width:6,height:6,bgColor:"#000",border:[1,"solid","#fff"],roundedCorners:4});n=new O(w,{x:315,y:30,width:24,height:109,border:X.border1s3},[Ea,{requestDragPosition:function(T,U){this.callSuper(n.x,n.y);d=parseFloat(ka(0,ja(1,(U+this.dragInitY-this.getPagePosition().y)/this.height)));u=!1;w.updateUI()}}]);n.getIDS().background=
"linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";v=new O(n,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new O(w,{x:315,width:24,height:24,border:X.border1s3,tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[wa,{doActivated:()=>{w.setColor("transparent")}}]);E=146;r&&(A=new q.LabelSlider(w,{x:170,y:E,width:171,minValue:0,maxValue:255,flipThreshold:55,labelColor:"#fff"},[{setText:function(T,U){U=T.value;if(null==U||
isNaN(U))U=0;T.value=q.formatAsPercentage(U/255,0);this.callSuper(T,!0);k=U;w._isReady&&(u=!1,w.updateUI())}}]),E+=23);t=new q.InputText(w,{x:236,y:E,width:105,height:25,roundedCorners:3,textColor:X.DialogInputFgColor,border:X.border1s3,maxLength:11,fontFamily:"monospace"});w.attachToDom(t,"_submitInput","blur");w.attachToDom(t,"_handleKeyDown","keydown");t.getIDS().paddingLeft="6px";E=new O(w,{x:170,y:E,width:60,height:23,border:X.border1s3,domClass:"mytCheckerboardPattern"});new O(E,{width:30,height:23,
focusIndicator:!1,bgColor:K},[wa,{doActivated:()=>{w.setColor(K)}}]);p=new O(E,{x:30,width:30,height:23});if(E=Da.getItem("myt.default"))b=E.split(";"),Ga(b);w.setColor(K);w._isReady=!0},_handleKeyDown:E=>{q.KeyObservable.isEnterKeyEvent(E)&&w._submitInput()},_submitInput:()=>{w.setColor(t.value)},addToPalette:E=>{E&&"transparent"!==E&&!Fa[E]&&(b.unshift(E),b.length=ja(b.length,56),Da.setItem("myt.default",b.join(";")))},setColor:E=>{const H=E&&"transparent"!==E;if(r){let K="ff";H&&7<E.length&&(K=
E.slice(7,9),E=E.slice(0,7));A.setValue(parseInt(K,16))}else H&&7<E.length&&(E=E.slice(0,7));H?(E=ra.makeColorFromHexString(E).getHSV(),d=E.h/360,e=E.s,l=E.v,u=!1):u=!0;w.updateUI()},getColor:()=>{if(u)return"transparent";let E="";r&&(E=k.toString(16),2>E.length&&(E="0"+E));return ra.makeColorFromHSV(360*d,100*e,100*l).getHtmlHexString()+E},updateUI:()=>{const E=!u;v.setVisible(E);c.setVisible(E);E&&(c.setX(ka(0,ja(1,e)*(f.width+2))-5),c.setY(ka(0,ja(1,1-l)*(f.height+2))-5),v.setY(d*(n.height-2)-
1));f.setBgColor(ra.makeColorFromHSV(360*d,100,100).getHtmlHexString());h=w.getColor();t.setValue(h);p.setBgColor(h);w.redrawPalette()},redrawPalette:q.debounce(()=>{a.destroyAllSubviews();const E=new Set;g.push(...b);for(let H of g)if(r||7===H.length)7===H.length&&(H+="ff"),E.has(H)||(new Ka(a,{bgColor:H}),E.add(H))},50)}),xa=E=>{E=E.split(":");return[ka(0,ja(23,parseInt(E[0]))),ka(0,ja(60,parseInt(E[1])))]},Ha=new S("SelectableBtn",oa,{include:[q.Selectable],setSelected:function(E){this.callSuper(E);
this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),this.setTextColor("#fff")):this.setTextColor()}}),Ma=new S("TimeBtn",Ha,{initNode:function(E,H){H.width=J?175:49;this.callSuper(E,H)},doActivated:function(){this.callSuper();const E=this.text,H=xa(E);N.selectById(E);L.setHours(H[0]);L.setMinutes(H[1])}}),Na=new S("DayBtn",Ha,{initNode:function(E,H){H.width=23;H.border=X.DialogDayBtnBorder;this.callSuper(E,H)},setData:function(E){this.data=E},setIsAnotherMonth:function(E){this.isAnotherMonth=
E},setIsToday:function(E){this.isToday=E},setIsSunday:function(E){this.isSunday=E},setIsSaturday:function(E){this.isSaturday=E},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?X.DialogDayBtnBorderColorToday:X.DialogDayBtnBorderColor))},doActivated:function(){this.callSuper();const E=new Date(this.data);E.setHours(L.getHours());E.setMinutes(L.getMinutes());
qa(E)}}),qa=E=>{E.setSeconds(0);E.setMilliseconds(0);var H=6>=R.length,K;if(H)for(K=7;K--&&!R.includes(E.getDay());)E.setDate(E.getDate()+1);L=E;const T=N.getODE().scrollTop;var U=new Date,Z=U.getFullYear(),V=U.getMonth(),ba=U.getDate();U.getHours();U.getMinutes();const ea=E.getFullYear(),fa=E.getMonth(),ma=E.getDate();var ha=E.getTime();U=E.getHours();E=E.getMinutes();const sa=(new Date(ea,fa,1)).getDay()-P,ta=(new Date(ea,fa+1,0)).getDate(),ya=(new Date(ea,fa,0)).getDate(),ua=new Date(ea,fa,0),
va=new Date(ea,fa+2,0);Z=Z==ea&&V==fa;if(!J){V=F;V.deselectAll();V.destroyAllSubviews();K=new Date(ha);const la=7+P;V=z.days;B.setText(ea+" "+z.sep+" "+z.months[fa]);K.setMinutes(59);K.setHours(23);K.setSeconds(59);K.setDate(0);y.setVisible(null==m||m<K.getTime());K.setMinutes(0);K.setHours(0);K.setSeconds(0);K.setDate(1);K.setMonth(fa+1);G.setVisible(null==x||x>K.getTime());for(K=0;7>K;K++)new W(F,{width:23,height:20,textAlign:"center",text:V[(K+la)%7],textColor:"#999"});K=0;let ia=42;0>sa&&(K=-7,
ia=35);V=new Date(ha);V.setHours(0);V.setMinutes(0);for(V.setSeconds(0);K<ia;K++){var ca=K+1-sa;const za=(K+la)%7,da=new Na(F);sa>K?(da.setText(ya+ca),da.setData(ua.getFullYear()+"/"+(ua.getMonth()+1)+"/"+(ya+ca)),da.setIsAnotherMonth(!0),V.setDate(ya+ca),V.setMonth(ua.getMonth()),V.setYear(ua.getFullYear())):K<sa+ta?(da.setText(ca),da.setData(ea+"/"+(fa+1)+"/"+ca),V.setDate(ca),V.setMonth(fa),V.setYear(ea)):(da.setText(ca-ta),da.setData(va.getFullYear()+"/"+(va.getMonth()+1)+"/"+(ca-ta)),da.setIsAnotherMonth(!0),
V.setDate(ca-ta),V.setMonth(va.getMonth()),V.setYear(va.getFullYear()));H&&!R.includes(za)?da.setDisabled(!0):(0===za?da.setIsSunday(!0):6===za&&da.setIsSaturday(!0),ca===ma&&(F.select(da),da.focus()),Z&&ca===ba&&da.setIsToday(!0),ca=new Date(V.getTime()),ca.setHours(23),ca.setMinutes(59),ca.setSeconds(59),(null!=m&&m>ca.getTime()||null!=x&&x<V.getTime())&&da.setDisabled(!0));da.updateUI()}}if(!D){H=60*M[0]+M[1];ba=N;ba.deselectAll();ba.destroyAllSubviews();let [la,ia]=C;for(V=new Date(ha);60*la+
ia<H;)ha=new Ma(N,{text:("0"+la).slice(-2)+":"+("0"+ia).slice(-2)}),la===U&&ia===E&&N.select(ha),V.setHours(la),V.setMinutes(ia),ba=V.getTime(),(null!=m&&m>ba||null!=x&&x<ba)&&ha.setDisabled(!0),ia+=Q,60<=ia&&(ia-=60,la++);N.scrollYTo(T)}},Oa=q.DatePicker=new S("DatePicker",O,{initNode:function(E,H){I=this;const K={current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null,
...H.opt};delete H.opt;I.callSuper(E,H);z=K.locales[K.locale??"en"];D=K.dateOnly;J=K.timeOnly;P=K.firstDayOfWeek;Q=ka(5,ja(30,K.minuteInterval));R=K.allowedDays;Array.isArray(R)&&0!==R.length||(R=[0,1,2,3,4,5,6]);m=Date.parse(K.minDate);m=isNaN(m)?null:m;x=Date.parse(K.maxDate);x=isNaN(x)?null:x;C=xa(K.minTime);M=xa(K.maxTime);E=new O(I,{visible:!J});K.showTodayButton&&new oa(E,{width:24,text:pa(["home"]),tooltip:z.today},[{doActivated:()=>{qa(new Date)}}]);y=new oa(E,{width:24,x:28,text:pa(["chevron-left"]),
tooltip:z.prevMonth},[{doActivated:()=>{const T=(new Date(L.getFullYear(),L.getMonth(),0)).getDate();T<L.getDate()&&L.setDate(T);L.setMonth(L.getMonth()-1);qa(L);y.focus()}}]);B=new W(E,{width:100,x:52,textAlign:"center"});G=new oa(E,{width:24,x:152,text:pa(["chevron-right"]),tooltip:z.nextMonth},[{doActivated:()=>{var T=(new Date(L.getFullYear(),L.getMonth()+1,0)).getDate();T<L.getDate()&&L.setDate(T);T=(new Date(L.getFullYear(),L.getMonth()+2,0)).getDate();T<L.getDate()&&L.setDate(T);L.setMonth(L.getMonth()+
1);qa(L);G.focus()}}]);F=new O(I,{y:25,width:175,height:175,visible:!J,maxSelected:1,itemSelectionId:"data"},[Ca]);new Ba(F,{spacing:2,lineInset:2,lineSpacing:3});N=new O(I,{x:J?0:195,y:J?0:25,width:(J?175:49)+q.DomElementProxy.getScrollbarSize(),height:J?200:175,overflow:"autoy",visible:!D,maxSelected:1,itemSelectionId:"text"},[Ca]);new Aa(N,{axis:"y",inset:1,spacing:3});I.setWidth(N.visible?N.x+N.width:F.width);qa(K.current??new Date)},getPickedDate:()=>L}),na=q.Dialog=new S("Dialog",Y,{extend:{BUTTON_CLASS:Ia,
WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000",alphaChannel:!1},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",
color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}},locale:"en"}},initNode:function(E,H){H.buttonClass??(H.buttonClass=na.BUTTON_CLASS);this.callSuper(E,H);E=this.content;E.setRoundedCorners(X.DialogRadius);E.setBgColor(X.DialogBgColor);E.setBoxShadow(X.DialogShadow);E.setBorder(X.DialogBorder);E.setFocusCage(!0);this.makeCloseButton(E)},setButtonClass:function(E){this.buttonClass=
E},setCallbackFunction:function(E){this.callbackFunction=E},makeButton:function(E,H){const K=this;return new K.buttonClass(E,H,[{doActivated:function(){K.doCallback(this)}}])},makeCloseButton:function(E){return E.closeBtn=this.makeButton(E,{ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:pa(["times"]),tooltip:"Close Dialog."})},hide:function(E){this.spinner&&
(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(E)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const E=this.content,H=E.sizeToChildren;E.destroyAllSubviews(K=>"closeBtn"!==K.name);E.setVisible(!0);this.overlay.setBgColor(X.DimmerColor);this.setCallbackFunction();H.setPaddingY(X.ModalPanelPaddingY);H.setPaddingX(X.ModalPanelPaddingX);E.setRoundedCorners(X.DialogRadius);E.setBgColor(X.DialogBgColor);E.setBoxShadow(X.DialogShadow);E.setBorder(X.DialogBorder)},
doCallback:function(E){const H=this.callbackFunction;H&&H.call(this,E.name)||this.hide()},showBlank:function(E){this.destroyContent();this.content.setVisible(!1);E?.bgColor&&this.overlay.setBgColor(E.bgColor);this.show()},showMessage:function(E,H,K){const T=this.content,U=T.closeBtn;K={...na.WRAP_TEXT_DEFAULTS,...K};this.destroyContent();this.setCallbackFunction(H);E=T.msg=new W(T,{text:E,whiteSpace:K.whiteSpace,wordWrap:K.wordWrap,fontWeight:K.fontWeight,x:null==K.msgX?X.ModalPanelPaddingX:K.msgX,
y:null==K.msgY?X.ModalPanelPaddingY:K.msgY,width:K.width});K.titleText&&(this.setupTitle(T,K.titleText),E.setY(E.y+24));this.show();!1===K.showClose?U.destroyed||U.setVisible(!1):(U.setVisible(!0),U.focus())},showSimple:function(E,H,K,T){K=K??{};const U=this.content,Z=U.closeBtn,V=K.maxContainerHeight;this.destroyContent();K.bgColor&&U.setBgColor(K.bgColor);K.roundedCorners&&U.setRoundedCorners(K.roundedCorners);K.boxShadow&&U.setBoxShadow(K.boxShadow);K.border&&U.setBorder(K.border);U.sizeToChildren.setPaddingX(1);
this.setCallbackFunction(H);H=U.contentContainer=new O(U,{x:1,y:25,overflow:"auto"},[{setHeight:function(ba){ba>V&&(ba=V);this.callSuper(ba)}}]);E.call(this,H);new aa(H,{axis:"both"});this.show();Z.setVisible(!0);Z.focus();K.titleText&&(this.setupTitle(U,K.titleText),H.setY(this.header.height+1));H.initialFocus?.focus();T?.(this)},showConfirm:function(E,H,K){K={...na.CONFIRM_DEFAULTS,...K};this.showMessage(E,H,K);this.setupFooterButtons(this.content.msg,K)},showContentConfirm:function(E,H,K,T){K=
{...na.CONFIRM_DEFAULTS,...K};const U=this.content,Z=U.closeBtn,V=K.maxContainerHeight;this.destroyContent();U.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=U.contentContainer=new O(U,{x:1,y:25,overflow:"auto"},[{setHeight:function(ba){this.callSuper(ba>V?V:ba)}}]);E.call(this,H);new aa(H,{axis:"both"});this.show();!1===K.showClose?Z.destroyed||Z.setVisible(!1):(Z.setVisible(!0),Z.focus());this.setupTitle(U,K.titleText);H.setY(this.header.height+1);this.setupFooterButtons(H,K);H.initialFocus?.focus();
T?.(this)},showSpinner:function(E,H){const K=this.content;H={...na.NO_WRAP_TEXT_DEFAULTS,...H};this.destroyContent();const T=this.spinner=new q.Spinner(K,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==H.msgY?X.ModalPanelPaddingY:H.msgY});E&&(this.msgTxt=new W(K,{text:E,whiteSpace:H.whiteSpace,wordWrap:H.wordWrap,fontWeight:H.fontWeight,x:null==H.msgX?X.ModalPanelPaddingX:H.msgX,y:T.y+T.size+X.ModalPanelPaddingY,width:H.width}));this.show();K.closeBtn.setVisible(!1);this.focus()},updateMessage:function(E){this.msgTxt?.setText(E)},
showColorPicker:function(E,H){const K=this,T=K.content,U=T.closeBtn;H={...na.COLOR_PICKER_DEFAULTS,...H};K.destroyContent();K.setCallbackFunction(Z=>{switch(Z){case "closeBtn":case "cancelBtn":E.call(K,Z);break;case "confirmBtn":const V=w.getColor();w.addToPalette(V);E.call(K,Z,V)}w.destroy()});w=new La(T,{x:X.ModalPanelPaddingX,y:X.ModalPanelPaddingY+24,width:337,height:177+(H.alphaChannel?23:0),color:H.color,alphaChannel:H.alphaChannel,palette:"#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777 #888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")});
K.show();U.setVisible(!0);U.focus();K.setupFooterButtons(w,H);K.setupTitle(T,H.titleText)},showDatePicker:function(E,H){const K=this,T=K.content,U=T.closeBtn;H={...na.DATE_PICKER_DEFAULTS,...H};K.destroyContent();K.setCallbackFunction(Z=>{switch(Z){case "closeBtn":case "cancelBtn":E.call(K,Z);break;case "confirmBtn":E.call(K,Z,I.getPickedDate())}I.destroy()});I=new Oa(T,{x:X.ModalPanelPaddingX,y:X.ModalPanelPaddingY+24,height:195,opt:{current:new Date(H.initialDate??Date.now()),dateOnly:H.dateOnly||
!1,timeOnly:H.timeOnly||!1,locales:H.locales,locale:H.locale}});K.show();U.setVisible(!0);U.focus();K.setupFooterButtons(I,H);K.setupTitle(T,H.timeOnly?H.timeOnlyTitleText:H.titleText)},setupTitle:function(E,H){const K=X.DialogRadius;(this.header=new O(E,{ignoreLayout:!0,width:E.width,height:24,bgColor:"#eee",roundedTopLeftCorner:K,roundedTopRightCorner:K})).sendToBack();E.title=new W(E,{x:K,y:4,text:H,fontWeight:"bold"})},setupFooterButtons:function(E,H){const K=this.content;var T=X.ModalPanelPaddingY,
U=T/2;E=K.btnContainer=new O(K,{y:E.y+E.height+T,align:"center"});const Z=["active","hover","ready","text"];T=H.cancelAttrs??{};var V;(V=T).name??(V.name="cancelBtn");let ba;(ba=T).text??(ba.text=H.cancelTxt);for(let ha of Z)ha+="Color",null!=H[ha]&&(T[ha]=H[ha]);V=this.makeButton(E,T);T=H.confirmAttrs??{};var ea;(ea=T).name??(ea.name="confirmBtn");let fa;(fa=T).text??(fa.text=H.confirmTxt);for(var ma of Z)ma+="Color",ea=ma+"Confirm",null!=H[ea]&&(T[ma]=H[ea]);this.makeButton(E,T);if(ma=H.button)for(const ha of ma)this.makeButton(E,
ha);new aa(E,{axis:"y"});new Aa(E,{spacing:4,collapseParent:!0});K.sizeToChildren.setPaddingY(U);U=E.y-U;(new O(K,{ignoreLayout:!0,y:U,width:K.width,height:K.height-U,bgColor:"#eee"})).sendToBack();!1===H.showClose&&V.focus()}})})(myt);
(q=>{const w=JS.Class,u=q.dumpStack,r={},h=(a,f)=>{if(a){const c=a.id;a.id?f(c):u("No ID")}else u("No validator")},d=a=>{h(a,f=>{r[f]=a})},e=q.Validator=new w("Validator",{initialize:function(a){this.id=a},isValid:(a,f,c)=>!0,isFormValid:function(a,f,c){f??={};f.form=a;return this.isValid(a.getValue(),f,c)}}),l=q.RequiredFieldValidator=new w("RequiredFieldValidator",e,{isValid:(a,f,c)=>null==a||""===a||"string"===typeof a&&""===a.trim()?(c?.push("This value is required."),!1):!0}),k=q.EqualsIgnoreCaseValidator=
new w("EqualsIgnoreCaseValidator",e,{isValid:(a,f,c)=>{f=f.form.getRollbackValue();return a&&f&&a.toLowerCase()===f.toLowerCase()?(c?.push("Value must differ by more than just case."),!1):!0}}),b=q.URLValidator=new w("URLValidator",e,{initialize:function(a,f){this.callSuper(a);this.originalRawQuery=f},isValid:function(a,f,c){return(new q.URI(a)).toString(this.originalRawQuery)!==a?(c?.push("Invalid URL."),!1):!0}}),g=q.JSONValidator=new w("JSONValidator",e,{isValid:(a,f,c)=>{try{return JSON.parse(a),
!0}catch(n){return c?.push(n),!1}}});q.RegexValidator=new w("RegexValidator",e,{initialize:function(a,f,c){this.callSuper(a);this.regex=new RegExp(f);this.errorMsg=c},isValid:function(a,f,c){a=this.regex.test(a);!a&&this.errorMsg&&c?.push(this.errorMsg);return a}});q.EqualFieldsValidator=new w("EqualFieldsValidator",e,{initialize:function(a,f,c){this.callSuper(a);this.fieldA=f;this.fieldB=c},isValid:function(a,f,c){const {fieldA:n,fieldB:v}=this;if(n?.inited&&v?.inited){if(a&&n.getValue()===v.getValue())return!0;
c?.push('The field "'+n.key+'" must be equal to the field "'+v.key+'".')}return!1}});q.LengthValidator=new w("LengthValidator",e,{initialize:function(a,f,c){this.callSuper(a);this.min=f;this.max=c},isValid:function(a,f,c){a=a?a.length:0;f=this.min;const n=this.max;return void 0!==f&&f>a?(c?.push("The value must not be less than "+f+" characters long."),!1):void 0!==n&&n<a?(c?.push("The value must not be greater than "+n+" characters long."),!1):!0}});q.NumericRangeValidator=new w("NumericRangeValidator",
e,{initialize:function(a,f,c){this.callSuper(a);this.min=f;this.max=c},isValid:function(a,f,c){if(""===a)return!0;a=Number(a);f=this.min;const n=this.max;return isNaN(a)?(c?.push("Value is not a number."),!1):void 0!==f&&f>a?(c?.push("Value must not be less than "+f+"."),!1):void 0!==n&&n<a?(c?.push("Value must not be greater than "+n+"."),!1):!0}});q.CompoundValidator=new w("CompoundValidator",e,{initialize:function(a,...f){this.callSuper(a);for(a=f.length;a;){let c=f[--a];"string"===typeof c&&((f[a]=
c=r[c])||f.splice(a,1))}this.__v=f},addValidator:function(a){"string"===typeof a&&(a=r[a]);a&&this.__v.push(a)},isValid:function(a,f,c){const n=this.__v,v=n.length;let t=!0,p=0;for(;v>p;)t=n[p++].isValid(a,f,c)&&t;return t}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){d(new l("required"));d(new k("equalsIgnoreCase"));d(new b("url"));d(new g("json"));q.global.register("validators",this)},getValidator:a=>r[a],register:d,unregister:a=>{h(a,f=>{r[f]&&delete r[f]})}})})(myt);
(q=>{const w=JS.Class,{min:u,max:r,round:h,abs:d}=Math,e=q.View,l=new w("SliderThumb",q.SimpleButton,{include:[q.Draggable,q.ArrowKeyActivation],initNode:function(b,g){const a=g.width=b.thumbWidth,f=g.height=b.thumbHeight;g.roundedCorners=u(f,a)/2;g.repeatKeyDown=!0;g.activationKeys=q.global.keys.ARROW_KEYS;g.activeColor="#bbb";g.readyColor="#ccc";g.hoverColor="#ddd";g.boxShadow=[0,0,4,"#666"];this.callSuper(b,g);this["x"===b.axis?"setY":"setX"](b.thumbOffset);this.syncTo(b,"setDisabled","disabled");
b._syncThumbToValue(this,b.getValue())},setDisabled:function(b){this.callSuper(this.valueFromEvent(b))},setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b.syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b.syncValueToThumb(this))},requestDragPosition:function(b,g){if(!this.disabled){const a=this.parent,f=a.getMinPixelValueForThumb(this),c=a.getMaxPixelValueForThumb(this),
n=a.snapThreshold;let v;"x"===a.axis?(v=this.width/2,g="setX"):(v=this.height/2,b=g,g="setY");if(a.allowSnap(this))for(let t of a.getSnapValuesAsPx())if(t-=v,d(b-t)<=n){b=t;break}this[g](u(r(b,f-v),c-v))}},doKeyArrowLeftOrUp:function(b,g){b?this.parent.nudgeValueLeft(this):this.parent.nudgeValueUp(this);return!0},doKeyArrowRightOrDown:function(b,g){b?this.parent.nudgeValueRight(this):this.parent.nudgeValueDown(this);return!0}}),k=q.BaseSlider=new w("BaseSlider",e,{include:[q.Disableable],initNode:function(b,
g){g.axis??(g.axis="x");"x"===g.axis?(g.width??(g.width=100),g.height??(g.height=18)):(g.width??(g.width=18),g.height??(g.height=100));g.bgColor??(g.bgColor="#999");g.roundedCorners??(g.roundedCorners=9);g.trackInset??(g.trackInset=9);g.trackOutset??(g.trackOutset=9);g.thumbWidth??(g.thumbWidth=16);g.thumbHeight??(g.thumbHeight=16);g.thumbOffset??(g.thumbOffset=1);g.nudgeAmount??(g.nudgeAmount=1);g.snapThreshold??(g.snapThreshold=8);g.snapValues??(g.snapValues=[]);this.callSuper(b,g)},setAxis:function(b){this.axis=
b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setNudgeAmount:function(b){this.nudgeAmount=b},setSnapThreshold:function(b){this.snapThreshold=b},setSnapValues:function(b){this.snapValues=b},getSnapValuesAsPx:function(){const b=[];for(const g of this.snapValues)b.push(this.convertValueToPixels(g));return b},allowSnap:function(b){var g=
b.__lastMousePosition;const a=q.DomElementProxy.getRelativePosition(b.getODE()),f="x"===this.axis;b=f?b.height:b.width;g=f?g.y-a.y:g.x-a.x;return 0<g&&g<b},convertValueToPixels:function(b){const g=this.minValue,a=this.trackInset;return a+(("x"===this.axis?this.width:this.height)-a-this.trackOutset)/(this.maxValue-g)*(b-g)},convertPixelsToValue:function(b){const g=this.minValue,a=this.trackInset;return(this.maxValue-g)/(("x"===this.axis?this.width:this.height)-a-this.trackOutset)*(b-a)+g},nudgeValueLeft:function(b){this._nudge(b,
!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,!0)},_nudge:(b,g)=>{},_syncThumbToValue:function(b,g){g=this.convertValueToPixels(g);"x"===this.axis?b.setX(g-b.width/2):b.setY(g-b.height/2)},syncValueToThumb:function(b){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(b,this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2)),this.__lockSync=!1)},_syncValueToThumb:(b,g)=>
{},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}});q.RangeSlider=new w("RangeSlider",k,{include:[q.BoundedRangeComponent],initNode:function(b,g){let a=g.rangeFillSize;const f=g.rangeFillOffset??0,c=g.rangeFillColor??"#666";delete g.rangeFillSize;delete g.rangeFillOffset;delete g.rangeFillColor;this.callSuper(b,g);b=this.rangeFill=new e(this,{bgColor:c});"x"===this.axis?(a??=
this.thumbHeight,b.setY(f+this.thumbOffset),b.setHeight(a)):(a??=this.thumbWidth,b.setX(f+this.thumbOffset),b.setWidth(a));b.setRoundedCorners(a/2);this.thumbLower=new l(this);this.thumbUpper=new l(this);this._syncRangeFillToValue()},setValue:function(b){this.callSuper(b);this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b){const g=this.width;this.callSuper(b);this.inited&&
"x"===this.axis&&this.width!==g&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},setHeight:function(b){const g=this.height;this.callSuper(b);this.inited&&"y"===this.axis&&this.height!==g&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var g=this.getValue();const a=this.convertValueToPixels(g.lower);g=this.convertValueToPixels(g.upper)-
a;"x"===this.axis?(b.setX(a),b.setWidth(g)):(b.setY(a),b.setHeight(g))},_syncThumbToValue:function(b,g){this.callSuper(b,b===this.thumbLower?g.lower:g.upper)},_syncValueToThumb:function(b,g){let a=this.getValueCopy();a[b===this.thumbLower?"lower":"upper"]=g;this.setValue(a);a=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,a);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,a)},_nudge:function(b,g){const a=this.getValueCopy();g=this.nudgeAmount*(g?1:-1);b===this.thumbLower?
a.lower=u(a.lower+g,a.upper):a.upper=r(a.upper+g,a.lower);this.setValue(a)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(b===this.thumbLower?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(b===this.thumbLower?this.getValue().upper:this.maxValue)}});q.Slider=new w("Slider",k,{include:[q.BoundedValueComponent],initNode:function(b,g){this.callSuper(b,g);this.thumb=new l(this)},setValue:function(b){this.callSuper(b);
this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b){const g=this.width;this.callSuper(b);this.inited&&"x"===this.axis&&this.width!==g&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b){const g=this.height;this.callSuper(b);this.inited&&"y"===this.axis&&this.height!==g&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b,g){this.setValue(g);this._syncThumbToValue(b,this.getValue())},_nudge:function(b,
g){this.setValue(this.getValue()+this.nudgeAmount*(g?1:-1))}});q.LabelSlider=new w("LabelSlider",q.Slider,{initNode:function(b,g){const a=this;g.labelX??(g.labelX=8);g.labelY??(g.labelY=2);g.labelFontSize??(g.labelFontSize="12px");g.labelColor??(g.labelColor="#000");g.flipThreshold??(g.flipThreshold=h((g.maxValue-g.minValue)/2)||0);a.quickSet(["labelX","labelY","labelFontSize","labelColor","flipThreshold"],g);a.callSuper(b,g);const f=a.labelX;a.labelTxt=new q.Text(a,{x:f,y:a.labelY,textColor:a.labelColor,
fontSize:a.labelFontSize},[{initNode:function(c,n){this.targetX=f;this.callSuper(c,n)},updateX:function(c){const n=a.getValue()>=a.flipThreshold?f:a.width-this.width-f;this.targetX!==n&&(this.targetX=n,this.stopActiveAnimators("x"),c?this.setX(n):this.animate({attribute:"x",to:n,duration:250}))}}]);a.syncTo(a,"setText","value")},setWidth:function(b){this.callSuper(b);this.labelTxt?.updateX(!0)},setText:function(b,g){const a=this.labelTxt;a&&(a.setText(b.value),a.updateX(g))}})})(myt);
(q=>{const w=JS.Class,{abs:u,min:r}=Math,{CODE_ENTER:h,CODE_SPACE:d,ARROW_KEYS:e}=q.global.keys,l=b=>{const g="y"===b.axis?"height":"width";b.constrain("__limitToParent",[b,"limitToParent",b,g,b.parent,g])};var k=q.NudgeMixin=new JS.Module("NudgeMixin",{initNode:function(b,g){g.nudgeTargetValue??(g.nudgeTargetValue="value");g.nudgeIncrement??(g.nudgeIncrement=1);g.nudgeMin??(g.nudgeMin=1);g.nudgeMax??(g.nudgeMax=64);this.__nudgeAcc=g.nudgeMin;this.callSuper(b,g)},setNudgeIncrement:function(b){this.set("nudgeIncrement",
u(b),!0)},setNudgeMin:function(b){this.set("nudgeMin",u(b),!0)},setNudgeMax:function(b){this.set("nudgeMax",u(b),!0)},setNudgeTargetValue:function(b){this.set("nudgeTargetValue",b,!0)},nudge:function(b,g){const a=this.nudgeTargetValue;g=this.__nudgeAcc=g?r(this.__nudgeAcc+this.nudgeIncrement,this.nudgeMax):this.nudgeMin;this.set(a,(this.get(a)||0)+(b?1:-1)*g);return!0}});k=new w("BaseDivider",q.SimpleButton,{include:[q.BoundedValueComponent,q.Draggable,q.ArrowKeyActivation,k],initNode:function(b,
g){g.activeColor??(g.activeColor="#bbb");g.hoverColor??(g.hoverColor="#ddd");g.readyColor??(g.readyColor="#ccc");g.axis??(g.axis="x");g.minValue??(g.minValue=0);g.value??(g.value=g.minValue);g.expansionState??(g.expansionState=2);g.focusIndicator??(g.focusIndicator=!1);g.repeatKeyDown??(g.repeatKeyDown=!0);g.activationKeys??(g.activationKeys=[h,d,...e]);"y"===g.axis?(g.height??(g.height=6),g.cursor??(g.cursor="row-resize")):(g.width??(g.width=6),g.cursor??(g.cursor="col-resize"));this.quickSet(["axis"],
g);this.callSuper(b,g);null==g.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&l(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(b){this.expansionState=b},setRestoreValue:function(b){this.restoreValue=b},setLimitToParent:function(b){this.limitToParent!==b&&(this.limitToParent=b,this.inited&&(this.fireEvent("limitToParent",b),null==b?this.releaseConstraint("__limitToParent"):l(this)))},setAxis:function(b){this.inited?console.warn("Axis not updatable after instantiation"):
this.axis=b},setValue:function(b){this.callSuper(b);b=this.value;"y"===this.axis?this.setY(b):this.setX(b)},__limitToParent:function(b){b="y"===this.axis?"height":"width";this.setMaxValue(this.parent[b]-this.limitToParent-this[b])},doActivationKeyDown:function(b,g){this.callSuper(b,g);switch(b){case h:case d:this.doPrimaryAction()}},doKeyArrowLeftOrUp:function(b,g){return this.nudge(!1,g)},doKeyArrowRightOrDown:function(b,g){return this.nudge(!0,g)},nudge:function(b,g){b=this.callSuper(b,g);this.setExpansionState(2);
this.setRestoreValue(this.value);return b},doPrimaryAction:function(){const {restoreValue:b,maxValue:g,minValue:a}=this;let f;switch(this.expansionState){case 0:null!=b&&(this.setExpansionState(1),b===a?b!==g&&this.doPrimaryAction():f=b);break;case 1:null!=g&&(this.setExpansionState(3),this.value===g?this.doPrimaryAction():f=g);break;case 2:null!=a&&(this.setExpansionState(0),this.value===a?this.doPrimaryAction():f=a);break;case 3:null!=b&&(this.setExpansionState(2),b===g?this.doPrimaryAction():f=
b)}this.animateToValue(f)},animateToValue:function(b,g=250){null!=b&&(this.stopActiveAnimators("value"),this.animate({attribute:"value",to:b,duration:g}))},requestDragPosition:function(b,g){this.disabled||(b="y"===this.axis?g:b,g=this.value,b!==g&&(this.setValue(b),this.setRestoreValue(b),this.setExpansionState(g>b?2:1)))}});q.HorizontalDivider=new w("HorizontalDivider",k,{initNode:function(b,g){g.axis="x";this.callSuper(b,g)}});q.VerticalDivider=new w("VerticalDivider",k,{initNode:function(b,g){g.axis=
"y";this.callSuper(b,g)}})})(myt);
(q=>{let w=0;const {Class:u,Module:r}=JS,{min:h,max:d}=Math,{View:e,SpacedLayout:l,Node:{DEFAULT_PLACEMENT:k}}=q,b=m=>{const x=m.columnHeaders,[C,M]=m.sort??["",""];let Q=x.length;for(;Q;){const L=x[--Q];L.columnId===C?L.sortable&&L.setSortState(M):L.setSortState("none")}m.locked||m.doSort()},g=(m,x,C,M)=>{if(0!==x){const B=0<x,G=[];for(var Q=m.length;Q;){var L=m[--Q];L.resizable&&(C?0<L.flex:0===L.flex)&&G.push({hdr:L,limit:(B?L.maxValue:L.minValue)-L.value,amt:0})}m=G.length;if(0<m){for(Q=0;0!==
x;){w>=m&&(Q=w=0);L=G[w];var y=L.hdr;L.full?++Q:(B?(y=h(C?y.flex:1,x),L.amt+y>L.limit&&(y=L.limit-L.amt,L.full=!0)):(y=d(C?-y.flex:-1,x),L.amt+y<L.limit&&(y=L.limit-L.amt,L.full=!0)),L.amt+=y,x-=y);if(Q===m)break;++w}for(const F of G)F.hdr.setValue(F.hdr.value+F.amt);M?.(x)}}},a=m=>(m=m.gridController?.getPrevHdr(m))?m.maxValue-m.value+a(m):0,f=m=>(m=m.gridController?.getNextHdr(m))?m.maxValue-m.value+f(m):0,c=m=>(m=m.gridController?.getPrevHdr(m))?m.minValue-m.value+c(m):0,n=m=>(m=m.gridController?.getNextHdr(m))?
m.minValue-m.value+n(m):0,v=(m,x)=>{m=m.gridController?.getPrevHdr(m);var C=0;if(m){C=m.value+x;m.resizable&&m.setValue(C);const M=C-m.value;C=x-M;0>M&&(C+=v(m,M))}return C},t=(m,x)=>{m=m.gridController?.getPrevHdr(m);var C=0;if(m){C=m.value+x;m.resizable&&m.setValue(C);const M=C-m.value;C=x-M;0<M&&(C+=t(m,M))}return C},p=(m,x)=>{if(m=m.gridController?.getNextHdr(m))x=m.value+x,m.resizable&&m.setValue(x),x-=m.value,0>x&&p(m,x)},A=(m,x)=>{if(m=m.gridController?.getNextHdr(m))x=m.value+x,m.resizable&&
m.setValue(x),x-=m.value,0<x&&A(m,x)},I=m=>{let x="";if(m.sortable)switch(m.sortState){case R.SORT_ORDER_ASC:x="chevron-up";break;case R.SORT_ORDER_DESC:x="chevron-down"}m.sortIcon.setIcon(x)},z=m=>{const x=m.textView;x?.setWidth(m.width-m.outset-x.x)},D=q.GridController=new r("GridController",{initNode:function(m,x){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(m,x);this.fitHeadersToWidth();b(this)},setMaxWidth:function(m){this.set("maxWidth",
m,!0)},setMinWidth:function(m){this.set("minWidth",m,!0)},setFitToWidth:function(m){this.fitToWidth=m},setSort:function(m){q.areArraysEqual(m,this.sort)||(this.sort=m,this.inited&&(this.fireEvent("sort",m),b(this)))},setLastColumn:function(m){const x=this.lastColumn;x!==m&&(x?.setLast(!1),this.lastColumn=m,m?.setLast(!0))},setLocked:function(m){this.locked=m;if(this.inited&&!m){this.__tempLock=!0;this.fitHeadersToWidth();this.__tempLock=!1;this.setMaxWidth(0);this.setMinWidth(0);this.__skipInvisibleHeaders=
!0;for(const x of this.columnHeaders)this.notifyHdrXChange(x),this.notifyHdrWidthChange(x),this.notifyHdrVisibilityChange(x);this.__skipInvisibleHeaders=!1;this.doSort()}},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(m){m=this.valueFromEvent(m);this.gridWidth!==m&&(this.gridWidth=m,this.inited&&this.fitHeadersToWidth())},setHdrChangeListener:function(m){this.hdrChangeListener=m},doSort:()=>{},getPrevHdr:function(m){const x=this.columnHeaders;m=this.getHdrIndex(m);
if(0<m)for(;m;){const C=x[--m];if(C.visible)return C}},getNextHdr:function(m){const x=this.columnHeaders,C=x.length;m=this.getHdrIndex(m)+1;if(0<m&&m<C)for(;C>m;){const M=x[m++];if(M.visible)return M}},hasHdr:function(m){return this.columnHeaders.includes(m)},getHdrIndex:function(m){return this.columnHeaders.indexOf(m)},getHdrById:function(m){for(const x of this.columnHeaders)if(x.columnId===m)return x},getVisibleHdrs:function(){return this.columnHeaders.filter(m=>m.visible)},notifyAddHdr:function(m){this.hasHdr(m)||
(this.columnHeaders.push(m),m.visible&&this.setLastColumn(m),this.fixupResizerCursors())},notifyRemoveHdr:function(m){const x=this.getHdrIndex(m);-1<x&&(this.columnHeaders.splice(x,1),m.visible&&m.last&&this.setLastColumn(this.getPrevHdr(m)),this.fixupResizerCursors())},notifyHdrXChange:function(m){if(!this.isLocked()){for(const x of this.rows)x.notifyHdrXChange(m);this._notifyHdrChange("X",m)}},notifyHdrWidthChange:function(m){if(!this.isLocked()){for(const x of this.rows)x.notifyHdrWidthChange(m);
this._notifyHdrChange("Width",m)}},notifyHdrVisibilityChange:function(m){if((!this.__skipInvisibleHeaders||m.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(m);var x=this.setLastColumn;a:{var C=this.columnHeaders;let M=C.length;for(;M;){const Q=C[--M];if(Q.visible){C=Q;break a}}C=void 0}x.call(this,C);x=m.visible?1:-1;this.setMaxWidth(this.maxWidth+m.maxValue*x);this.setMinWidth(this.minWidth+m.minValue*x);this.fitHeadersToWidth();this.fixupResizerCursors();this._notifyHdrChange("Visibility",
m)}},_notifyHdrChange:function(m,x){const C=this.hdrChangeListener;if(C)C["notifyHdr"+m+"Change"](x)},updateRowsForVisibilityChange:function(m){for(const x of this.rows)x.notifyHdrVisibilityChange(m)},hasRow:function(m){return this.rows.includes(m)},getRowIndex:function(m){return this.rows.indexOf(m)},getRowById:function(m,x=C=>C.model.id===m){return this.rows.find(x)},getPrevRow:function(m){m=this.getRowIndex(m)-1;return this.rows[0>m?this.rows.length-1:m]},getNextRow:function(m){m=this.getRowIndex(m)+
1;return this.rows[m<this.rows.length?m:0]},notifyAddRow:function(m,x){if(!this.hasRow(m)&&(this.rows.push(m),!this.locked)){const C=this.width;for(const M of this.columnHeaders)m.setWidth(C),m.notifyHdrXChange(M),m.notifyHdrWidthChange(M),m.notifyHdrVisibilityChange(M);x||this.doSort()}},notifyRemoveRow:function(m){m=this.getRowIndex(m);-1<m&&this.rows.splice(m,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const m=this.getVisibleHdrs();let x=0;for(const C of m)x=d(x,C.x+C.width);
g(m,this.gridWidth-x,!0,C=>{g(m,C,!1,null)})}},fixupResizerCursors:function(){const m=this.getVisibleHdrs();let x=!0,C=0;m.forEach((y,B)=>{x&&y.isFixed()?y.setResizerCursor("",!0):(x&&(C=B),x=!1,y.restoreResizerCursor())});let M=!0,Q=m.length,L=Q-1;for(;Q>C;){const y=m[--Q];M?y.setResizerCursor("",!0):y.restoreResizerCursor();y.isFixed()||(M&&(L=Q),M=!1)}C===L&&m[C].setResizerCursor("",!0)}}),J=q.GridColHdr=new r("GridColHdr",{include:[q.BoundedValueComponent],initNode:function(m,x){const C=this,
M=x.resizerCursor??"col-resize";delete x.resizerCursor;x.minValue??(x.minValue=16);x.maxValue??(x.maxValue=1E3);x.value??(x.value=x.minValue);x.resizable??(x.resizable=!0);x.flex??(x.flex=0);x.cellXAdj??(x.cellXAdj=0);x.cellWidthAdj??(x.cellWidthAdj=0);x.sortable??(x.sortable=!0);x.sortState??(x.sortState="none");x.placement??(x.placement=k);C.callSuper(m,x);const Q=C.gridController;C.resizer=new e(C,{cursor:M,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},
[q.SizeToParent,q.Draggable,{requestDragPosition:function(L,y){y=L-this.x;if(Q.fitToWidth&&(0<y?y=h(y,-n(C),C.maxValue-C.value+a(C)):0>y&&(y=d(y,-f(C),C.minValue-C.value+c(C))),0===y))return;L=C.value+y;C.resizable&&C.setValue(L);L-=C.value;y=L-y;let B=0;0>L?B=v(C,L):0<L&&(B=t(C,L));this.dragInitX+=B;y-=B;Q.fitToWidth&&(0>y?p(C,y):0<y&&A(C,y))}}]);Q&&(Q.notifyAddHdr(C),Q.notifyHdrXChange(C),Q.notifyHdrVisibilityChange(C));C.setWidth(C.value);C.resizer.setVisible(!(C.last&&C.gridController.fitToWidth))},
destroy:function(m){this.setGridController();this.callSuper(m)},setSortable:function(m){this.set("sortable",m,!0)},setSortState:function(m){this.set("sortState",m,!0)},setResizable:function(m){this.set("resizable",m,!0)},setCellWidthAdj:function(m){this.cellWidthAdj=m},setCellXAdj:function(m){this.cellXAdj=m},setFlex:function(m){this.flex=m},setColumnId:function(m){this.columnId=m},setResizerCursor:function(m,x){const C=this.resizer,M=C.cursor;m!==M&&(x&&(this.__rrc=M),C.setCursor(m))},restoreResizerCursor:function(){const m=
this.__rrc;m&&(this.setResizerCursor(m),this.__rrc=null)},isFixed:function(){return this.minValue===this.maxValue},setLast:function(m){this.last=m;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(m){const x=this.gridController;x!==m&&(x?.notifyRemoveHdr(this),this.gridController=m,this.inited&&m&&(m.notifyAddHdr(this),m.notifyHdrXChange(this),m.notifyHdrWidthChange(this),m.notifyHdrVisibilityChange(this)))},setValue:function(m){this.callSuper(m);
this.inited&&this.setWidth(this.value)},setMinValue:function(m){const x=this.minValue??0,C=this.gridController;this.callSuper(m);this.inited&&x!==this.minValue&&C?.setMinWidth(C.minWidth+this.minValue-x)},setMaxValue:function(m){const x=this.maxValue??0,C=this.gridController;m??=1E3;this.callSuper(m);this.inited&&x!==this.maxValue&&C?.setMaxWidth(C.maxWidth+this.maxValue-x)},setWidth:function(m){const x=this.width;this.callSuper(m);this.inited&&x!==this.width&&this.gridController?.notifyHdrWidthChange(this)},
setX:function(m){const x=this.x;this.callSuper(m);this.inited&&x!==this.x&&this.gridController?.notifyHdrXChange(this)},setVisible:function(m){const x=this.visible;this.callSuper(m);this.inited&&x!==this.visible&&this.gridController?.notifyHdrVisibilityChange(this)}}),P=q.GridRow=new r("GridRow",{initNode:function(m,x){x.placement??(x.placement=k);this.callSuper(m,x);this.gridController?.notifyAddRow(this)},destroy:function(m){this.setGridController();this.callSuper(m)},setGridController:function(m){const x=
this.gridController;x!==m&&(x?.notifyRemoveRow(this),this.gridController=m,this.inited&&m?.notifyAddRow(this))},notifyHdrXChange:function(m){this.getRef(m.columnId)?.setX(m.x+m.cellXAdj)},notifyHdrWidthChange:function(m){this.getRef(m.columnId)?.setWidth(m.width+m.cellWidthAdj)},notifyHdrVisibilityChange:function(m){this.getRef(m.columnId)?.setVisible(m.visible)}}),R=q.Grid=new u("Grid",e,{include:[D],extend:{SORT_ORDER_ASC:"ascending",SORT_ORDER_DESC:"descending"},initNode:function(m,x){x.overflow??
(x.overflow="autox");x.bgColor??(x.bgColor="#ccc");x.rowSpacing??(x.rowSpacing=1);x.columnSpacing??(x.columnSpacing=1);var C=x.isAutoScrolling;delete x.isAutoScrolling;this.callSuper(m,x);m=this.header=new e(this,{overflow:"hidden"});m.xLayout=new l(m,{locked:!0,collapseParent:!0,spacing:this.columnSpacing});m.yLayout=new q.SizeToChildren(m,{locked:!0,axis:"y"});x=this.sizeHeightToRows;C=this.content=new e(this,{overflow:x?"hidden":"autoy"},C?[q.AutoScroller]:[]);C.yLayout=new l(C,{locked:!0,axis:"y",
spacing:this.rowSpacing,collapseParent:x});this.syncTo(this,"setGridWidth","width");this.syncTo(m,"_updateContentWidth","width");this.constrain("_updateContentHeight",[x?C:this,"height",m,"height",m,"y"])},setSizeHeightToRows:function(m){this.sizeHeightToRows=m},setRowSpacing:function(m){this.rowSpacing!==m&&(this.rowSpacing=m,this.inited&&this.content.yLayout.setSpacing(m))},setColumnSpacing:function(m){this.columnSpacing!==m&&(this.columnSpacing=m,this.inited&&this.header.xLayout.setSpacing(m))},
setLocked:function(m){if(this.inited)for(const x of[this.header.xLayout,this.header.yLayout,this.content.yLayout])m?x.incrementLockedCounter():(x.decrementLockedCounter(),x.update());this.callSuper(m)},_updateContentWidth:function(m){const x=this.content;m=m.value;x.setWidth(m);for(const C of x.getSubviews())C.setWidth(m)},_updateContentHeight:function(m){const {header:x,content:C}=this;m=x.y+x.height;C.setY(m);this.sizeHeightToRows?this.setHeight(m+C.height):C.setHeight(this.height-m)},determinePlacement:function(m,
x){if(m===k){let C;x.isA(P)?C=this.content:x.isA(J)&&(C=this.header);if(C)return x.gridController!==this&&x.setGridController(this),C}return this.callSuper(m,x)},doSort:function(){const [m,x]=this.sort??["",""],C=this.getSortFunction(m,x);if(C){const M=this.content,Q=M.yLayout;this.rows.sort(C);M.sortSubviews(C);Q.sortSubviews(C);Q.update()}},getSortFunction:(m,x)=>{if(m){const C=x===R.SORT_ORDER_ASC?1:-1;return(M,Q)=>{M=M.getRef(m).text;Q=Q.getRef(m).text;return M>Q?C:Q>M?-C:0}}}});q.SimpleGridColHdr=
new u("SimpleGridColHdr",q.SimpleTextButton,{include:[J],initNode:function(m,x){x.activeColor??(x.activeColor="#999");x.hoverColor??(x.hoverColor="#bbb");x.readyColor??(x.readyColor="#aaa");x.inset??(x.inset=2);x.sortIconColor??(x.sortIconColor="#666");const C=x.textAlign;delete x.textAlign;x.outset??(x.outset="right"===C||(x.sortable??!0)?14:2);this.callSuper(m,x);this.sortIcon=new q.FontAwesome(this,{align:"right",alignOffset:3,valign:"middle",textColor:this.sortIconColor},[{initNode:function(M,
Q){this.callSuper(M,Q);this.getIDS().fontSize="0.7em"}}]);this.textView.enableEllipsis();C&&this.textView.setTextAlign(C);this.setDisabled(!this.sortable);z(this);I(this)},setSortIconColor:function(m){this.sortIconColor=m;this.sortIcon?.setTextColor(m)},setSortable:function(m){this.callSuper(m);this.inited&&(m&&this.setOutset(14),this.setDisabled(!m),I(this))},setSortState:function(m){this.callSuper(m);this.inited&&I(this)},setWidth:function(m){this.callSuper(m);this.inited&&z(this)},doActivated:function(){this.disabled||
(this.setSortState(this.sortState===R.SORT_ORDER_ASC?R.SORT_ORDER_DESC:R.SORT_ORDER_ASC),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(q=>{const {Class:w,Module:u}=JS,r=Math,h=r.max,{View:d,LocalStorage:{setDatum:e,getDatum:l},global:{focus:k,keys:b},getAlphaObjSortFunc:g}=q,a=z=>{const D=z.selectedRow;D&&(D.setSelected(!1),z.set("selectedRow",null,!0))},f=z=>z.__ssk??(z.__ssk="InfiniteGridMixin.sort."+q.hash(z.columnHeaders.map(D=>D.columnId).sort().join(","))),c=q.InfiniteListRow=new u("InfiniteListRow",{include:[q.Reusable],setInfiniteOwner:function(z){this.infiniteOwner=z},setModel:function(z){this.model=z},setClassKey:function(z){this.classKey=
z},notifyRefreshed:()=>{}}),n=q.SelectableInfiniteListRow=new u("SelectableInfiniteListRow",{include:[c,q.Selectable]}),v=q.InfiniteList=new w("InfiniteList",d,{initNode:function(z,D){let J=D.rowClasses;delete D.rowClasses;if("function"===typeof J){const P={};P["default"]=J;J=P}D.modelIDName??(D.modelIDName="id");D.numericSort??(D.numericSort=!0);D.ascendingSort??(D.ascendingSort=!0);D.overflow??(D.overflow="autoy");D.bgColor??(D.bgColor="#ccc");D.rowSpacing??(D.rowSpacing=1);D.rowInset??(D.rowInset=
0);D.rowOutset??(D.rowOutset=0);D.rowHeight??(D.rowHeight=30);D.overscrollBehavior??(D.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(z,D);z=this._listView=new d(this);this._scrollAnchorView=new d(z,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(J,z);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(z,D)=>new q.TrackActivesMultiPool(z,
D),setOverscrollBehavior:function(z){this.overscrollBehavior=z;this.getIDS().overscrollBehavior=z},setCollectionModel:function(z){this.collectionModel=z},setModelIDName:function(z){this.modelIDName=z},setRowSpacing:function(z){this.rowSpacing=z;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(z){this.rowHeight=z;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(z){if(0<z&&(this.callSuper(z),this.inited)){z=this._listView;
const D=this.width;z.setWidth(D);for(const J of z.getSubviews())J.setWidth(D)}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx??{})},getVisibleRowForModel:function(z){const D=this.getVisibleRows();let J=D.length;for(;J;){const P=D[--J];if(P.model===z)return P}},getListViewHeight:function(){return this._listView.height},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},getSortFunction:function(){const z=this.modelIDName,D=this.ascendingSort;
return this.numericSort?q.getNumericObjSortFunc(z,D):g(z,D,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(z,D){var J=this.getIndexOfModelInData(z);let P=!1;if(0<=J){var R=this._rowExtent;const m=this.getIDE().scrollTop,x=m+this.height;J=this.rowInset+J*R;R=J+R;J<=m?(this.scrollYTo(J,!0),P=!0):R>=x&&(this.scrollYTo(R-this.height,!0),P=!0);D&&((D=this.getVisibleRowForModel(z))?D.focus():this._focusToModel=z)}return P},isModelInData:function(z){return 0<=this.getIndexOfModelInData(z)},getNextModel:function(z,
D=!0,J=!0){const P=this.getListData(),R=P.length;z=this.getIndexOfModelInData(z);if(0<=z)return z+=1,z>=R?D?P[0]:P[R-1]:P[z];if(J&&0<R)return P[R-1]},getPrevModel:function(z,D=!0,J=!0){const P=this.getListData(),R=P.length;z=this.getIndexOfModelInData(z);if(0<=z)return--z,0>z?D?P[R-1]:P[0]:P[z];if(J&&0<R)return P[0]},getIndexOfModelInData:function(z){if(z){const D=this.getListData();let J=D.length;for(;J;)if(this.areModelsEqual(D[--J],z))return J}return-1},areModelsEqual:function(z,D){const J=this.modelIDName;
return z[J]===D[J]},getActiveRowForModel:function(z){if(z){const D=this._itemPool.getActives();let J=D.length;for(;J;){const P=D[--J];if(this.areModelsEqual(P.model,z))return P}}},refreshListData:function(z,D){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(z,D)},resetListUI:function(z,D){const J=this.getListData().length,P=this._listView,R=this._scrollAnchorView;P.setHeight(J*this._rowExtent-(0<J?this.rowSpacing:0)+this.rowInset+
this.rowOutset);R.setY(P.height-R.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=D;z||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(z){if(k.focusedView?.isDescendantOf(z)){const D=this.getFocusTrap();D?D.focus():k.clear()}z.setVisible(!1);this._itemPool.putInstance(z)},refreshListUI:function(z){z=this._rowExtent;const D=this.rowInset,J=this.forceFullResetOnNextRefresh;var P=this.getIDE().scrollTop;const R=this.getListData()??
[];var m=h(0,r.floor((P-D)/z));P=r.min(R.length,r.ceil((P-D+this.height)/z));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==m||this._endIdx!==P||J){const C=this.width,M=this.rowHeight,Q=this._visibleRowsByIdx,L=this._focusToModel;this._startIdx=m;this._endIdx=P;for(var x in Q)if(x<m||x>=P)this.putRowBackInPool(Q[x]),delete Q[x];for(x=m;x<P;x++){m=Q[x];const y=R[x],B=this.getClassKey(y);let G=!1;m&&m.classKey===B||(m&&this.putRowBackInPool(m),Q[x]=m=this._itemPool.getInstance(B),
m.setInfiniteOwner(this),m.setClassKey(B),m.setWidth(C),m.setHeight(M),m.setY(D+x*z),m.setVisible(!0),G=!0);!J&&m.model&&this.areModelsEqual(m.model,y)?G&&this.updateRow(m):(m.setModel(y),this.updateRow(m));m.notifyRefreshed();m.bringToFront();L&&this.areModelsEqual(L,y)&&(m.focus(),this._focusToModel=null)}}},getClassKey:z=>"default",updateRow:z=>{}}),t=q.SimpleSelectableInfiniteListRow=new w("SimpleSelectableInfiniteListRow",q.SimpleButton,{include:[n,q.ArrowKeyActivation],initNode:function(z,D){D.selectedColor??
(D.selectedColor="#ccf");D.activeColor??(D.activeColor="#f8f8f8");D.hoverColor??(D.hoverColor="#eee");D.readyColor??(D.readyColor="#fff");D.focusIndicator??(D.focusIndicator=!1);D.activationKeys??(D.activationKeys=b.LIST_KEYS);this.callSuper(z,D)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(z){this.callSuper(z);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(z,D){z===b.CODE_ESC?this.selected&&this.infiniteOwner.setSelectedRow():this.callSuper(z,D)},doKeyArrowLeftOrUp:function(z,D){this.infiniteOwner.selectPrevRowForModel(this.model);return!0},doKeyArrowRightOrDown:function(z,D){this.infiniteOwner.selectNextRowForModel(this.model);return!0},doActivationKeyUp:function(z){switch(z){case b.CODE_ENTER:case b.CODE_SPACE:this.doActivated()}}}),
p=q.SelectableInfiniteList=new w("SelectableInfiniteList",v,{setSelectedRow:function(z){const D=this.selectedRow;z!==D&&(D?.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",z,!0),z&&(this.setSelectedRowModel(z.model),z.setSelected(!0)))},setSelectedRowModel:function(z){this.set("selectedRowModel",z,!0);this.scrollModelIntoView(this.selectedRowModel,!1)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(z,D,J){z&&(a(this),
this.setSelectedRowModel(z),this.refreshListUI(),D&&this.getActiveSelectedRow()?.focus())},selectNextRowForModel:function(z,D=!0){this.selectRowForModel(this.getNextModel(z),D,!0)},selectPrevRowForModel:function(z,D=!0){this.selectRowForModel(this.getPrevModel(z),D,!1)},resetListUI:function(z,D){this.isModelInData(this.selectedRowModel)?a(this):this.setSelectedRow();this.callSuper(z,D)},putRowBackInPool:function(z){z.selected&&a(this);this.callSuper(z)},refreshListUI:function(z){z=k.focusedView;this.callSuper();
const D=this.getActiveSelectedRow();D&&(this.set("selectedRow",D,!0),D.setSelected(!0),z&&z!==D||D.focus(!0))}}),A=new u("InfiniteGridRowMixin",{notifyXChange:function(z){this.getRef(z.columnId)?.setX(z.x+z.cellXAdj)},notifyWidthChange:function(z){this.getRef(z.columnId)?.setWidth(z.width+z.cellWidthAdj)},notifyVisibilityChange:function(z){this.getRef(z.columnId)?.setVisible(z.visible)}}),I=new u("InfiniteGridMixin",{setGridHeader:function(z){(this.gridHeader=z)?.setGrid(this)},makeReady:function(z,
D){const J=this.gridHeader;J?(this.forceFullResetOnNextRefresh=D,D=J.persistSortOrder?l(f(J)):void 0,J.setSort(D??z),J.setLocked(!1)):this.refreshListData(!1,D)},getSortFunction:function(){const [z,D]=this.gridHeader.sort??["",""];return z?g(z,D===q.Grid.SORT_ORDER_ASC,!1):this.callSuper()},updateRow:function(z){const D=this.gridHeader;if(D)for(const J of D.columnHeaders)z.notifyXChange(J),z.notifyWidthChange(J),z.notifyVisibilityChange(J)},notifyXChange:function(z){for(const D of this.getVisibleRows())D.notifyXChange(z)},
notifyWidthChange:function(z){for(const D of this.getVisibleRows())D.notifyWidthChange(z)},notifyVisibilityChange:function(z){for(const D of this.getVisibleRows())D.notifyVisibilityChange(z)}});q.InfiniteGridRow=new u("InfiniteGridRow",{include:[c,A]});q.SelectableInfiniteGridRow=new u("SelectableInfiniteGridRow",{include:[n,A]});q.SimpleSelectableInfiniteGridRow=new w("SimpleSelectableInfiniteGridRow",t,{include:[A]});q.InfiniteGrid=new w("InfiniteGrid",v,{include:[I]});q.SelectableInfiniteGrid=
new w("InfiniteGrid",p,{include:[I]});q.InfiniteGridHeader=new w("InfiniteGridHeader",d,{include:[q.GridController],initNode:function(z,D){D.columnSpacing??(D.columnSpacing=1);D.persistSortOrder??(D.persistSortOrder=!0);D.overflow="hidden";this.callSuper(z,D);new q.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(z){this.grid=z},setColumnSpacing:function(z){this.columnSpacing=z},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:h(0,this.getVisibleHdrs().length-1)*this.columnSpacing},
setPersistSortOrder:function(z){this.persistSortOrder=z},setHeight:function(z){this.callSuper(z);if(this.inited){z=this.height;for(const D of this.columnHeaders)D.setHeight(z)}},setWidth:function(z){this.callSuper(h(this.minWidth,z));this.inited&&(z=this.width,this.setGridWidth(z),this.grid.setWidth(z))},subviewAdded:function(z){this.callSuper(z);z.isA(q.GridColHdr)&&(z.setGridController(this),z.setHeight(this.height))},doSort:function(){this.persistSort();this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},
persistSort:function(){this.persistSortOrder&&e(f(this),this.sort)},notifyHdrXChange:function(z){this.isLocked()||(this.grid.notifyXChange(z),this._notifyHdrChange("X",z))},notifyHdrWidthChange:function(z){this.isLocked()||(this.grid.notifyWidthChange(z),this._notifyHdrChange("Width",z))},updateRowsForVisibilityChange:function(z){this.grid.notifyVisibilityChange(z);this.isLocked()||this._notifyHdrChange("Visibility",z)}})})(myt);
(q=>{const w=JS.Class,u=q.PanelStackTransition=new w("PanelStackTransition",q.Node,{to:r=>Promise.resolve(r),from:r=>Promise.resolve(r)});q.PanelStack=new w("PanelStack",q.View,{include:[q.SelectionManager],initNode:function(r,h){h.overflow="hidden";h.itemSelectionId??(h.itemSelectionId="panelId");h.maxSelected??(h.maxSelected=1);this.callSuper(r,h);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(r){this.set("transition",r,!0)},__updateWidth:function(r){this.getActivePanel()?.setWidth(r.value)},
__updateHeight:function(r){this.getActivePanel()?.setHeight(r.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(r){return this.getSelectableItem(r)},selectPanel:function(r){this.selectById(r)},doSelected:function(r){r.setWidth(this.width);r.setHeight(this.height)},doStackTransition:function(r){this["doStackTransition"+(r.selected?"To":"From")](r)},doStackTransitionTo:function(r){const h=this;h.doBeforeTransitionTo(r);const d=h.transition;d?d.to(r).then(e=>{h.doAfterTransitionTo(e)}):
(r.makeHighestZIndex(),r.setVisible(!0),h.doAfterTransitionTo(r))},doBeforeTransitionTo:r=>{},doAfterTransitionTo:r=>{},doStackTransitionFrom:function(r){const h=this;h.doBeforeTransitionFrom(r);const d=h.transition;d?d.from(r).then(e=>{h.doAfterTransitionFrom(e)}):(r.setVisible(!1),h.doAfterTransitionFrom(r))},doBeforeTransitionFrom:r=>{},doAfterTransitionFrom:r=>{}});q.StackablePanel=new JS.Module("StackablePanel",{include:[q.Selectable],initNode:function(r,h){h.visible=h.selected=!1;h.bgColor??
(h.bgColor="#fff");h.panelId??(h.panelId=h.name);this.callSuper(r,h);this.selected&&this.doStackTransition()},setPanelStack:function(r){this.panelStack=r},getPanelStack:function(){return this.panelStack??this.parent},setPanelId:function(r){this.panelId=r},setSelected:function(r){this.selected!==r&&(this.callSuper(r),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});q.PanelStackFadeTransition=new w("PanelStackFadeTransition",u,{initNode:function(r,
h){h.duration??(h.duration=1E3);this.callSuper(r,h)},setDuration:function(r){this.duration=r},to:function(r){return new Promise((h,d)=>{r.stopActiveAnimators("opacity");r.setVisible(!0);r.animate({attribute:"opacity",to:1,duration:this.duration}).next(e=>{r.makeHighestZIndex();h(r)})})},from:function(r){return new Promise((h,d)=>{r.stopActiveAnimators("opacity");r.animate({attribute:"opacity",to:0,duration:this.duration}).next(e=>{r.setVisible(!1);h(r)})})}});q.PanelStackSlideTransition=new w("PanelStackSlideTransition",
u,{initNode:function(r,h){h.duration??(h.duration=1E3);h.direction??(h.direction="right");this.callSuper(r,h)},setDuration:function(r){this.duration=r},setDirection:function(r){this.direction=r},to:function(r){const h=r.getPanelStack(),d=this.duration;let e,l;switch(this.direction){case "left":l="x";e=h.width;break;case "right":l="x";e=-h.width;break;case "up":l="y";e=h.height;break;case "down":l="y",e=-h.height}r.stopActiveAnimators(l);r.set(l,e);r.setVisible(!0);return new Promise((k,b)=>{b=g=>
{r.makeHighestZIndex();k(r)};0<d?r.animate({attribute:l,to:0,duration:d}).next(b):(r.set(l,0),r.makeHighestZIndex(),k(r))})},from:function(r){const h=r.getPanelStack(),d=this.duration;let e,l;switch(this.direction){case "left":l="x";e=-h.width;break;case "right":l="x";e=h.width;break;case "up":l="y";e=-h.height;break;case "down":l="y",e=h.height}r.stopActiveAnimators(l);return new Promise((k,b)=>{b=g=>{r.setVisible(!1);k(r)};0<d?r.animate({attribute:l,to:e,duration:d}).next(b):(r.set(l,e),r.setVisible(!1),
k(r))})}})})(myt);
(q=>{const w=JS.Module,{Draggable:u,global:{dragManager:r,mouse:h}}=q,d=(l,k,b)=>{for(const g of[k,b])l["__is"+g]=!1,l["__tmrId"+g]=null},e=q.DragGroupSupport=new w("DragGroupSupport",{initNode:function(l,k){this.__dgs={"*":!0};this.__drpgs={"*":!0};this.__anyDG=this.__anyDRPG=!0;this.callSuper(l,k)},setDragGroups:function(l){const k=this.__dgs={};for(const b in l)k[b]=!0;this.__anyDG=k.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},setDropGroups:function(l){const k=this.__drpgs=
{};for(const b in l)k[b]=!0;this.__anyDRPG=k.hasOwnProperty("*")},getDropGroups:function(){return this.__drpgs},addDragGroup:function(l){l&&(this.__dgs[l]=!0,"*"===l&&(this.__anyDG=!0))},removeDragGroup:function(l){l&&(delete this.__dgs[l],"*"===l&&(this.__anyDG=!1))},isAnyDragGroup:function(){return this.__anyDG},addDropGroup:function(l){l&&(this.__drpgs[l]=!0,"*"===l&&(this.__anyDRPG=!0))},removeDropGroup:function(l){l&&(delete this.__drpgs[l],"*"===l&&(this.__anyDRPG=!1))},isAnyDropGroup:function(){return this.__anyDRPG}});
q.DropSource=new w("DropSource",{include:[u],initNode:function(l,k){k.distanceBeforeDrag??(k.distanceBeforeDrag=2);k.dropParent??(k.dropParent=l.getRoot());this.callSuper(l,k)},setDropClass:function(l){this.dropClass=q.resolveClassname(l)},setDropClassAttrs:function(l){this.dropClassAttrs=l},setDropParent:function(l){this.dropParent=l},startDrag:function(l){const k=this.dropable=this.makeDropable();if(k){const b=k.distanceBeforeDrag;k.distanceBeforeDrag=0;k.doMouseDown(l);k.__doMouseDown(l);k.distanceBeforeDrag=
b}},doMouseUp:function(l){this.callSuper(l);const k=this.dropable;k&&(k.__doMouseUp(l),k.doMouseUp(l),this.dropable=null)},makeDropable:function(){const l=this.dropClass,k=this.dropParent;if(l&&k){const b=q.DomElementProxy.getRelativePosition(this.getIDE(),k.getIDE());return new l(k,{...this.dropClassAttrs,x:b.x??0,y:b.y??0})}}});q.DropTarget=new w("DropTarget",{include:[e],initNode:function(l,k){this.callSuper(l,k);r.registerDropTarget(this)},destroy:function(){r.unregisterDropTarget(this);this.callSuper()},
willAcceptDrop:function(l){return!this.disabled&&this.isVisible()},notifyDragStart:l=>{},notifyDragStop:l=>{},notifyDragEnter:l=>{},notifyDragLeave:l=>{},notifyDrop:l=>{}});q.Dropable=new w("Dropable",{include:[u,e],setDropTarget:function(l){this.dropTarget=l},setDropped:function(l){this.dropped=l},setDropFailed:function(l){this.dropFailed=l},willPermitDrop:l=>!0,startDrag:function(l){this.setDropped(!1);this.setDropFailed(!1);r.startDrag(this);this.callSuper(l)},updateDrag:function(l){r.updateDrag(l,
this);this.callSuper(l)},stopDrag:function(l,k){r.stopDrag(l,this,k);this.callSuper(l,k);k?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEntering:function(l){this.setDropTarget(l)},notifyDragLeaving:function(l){this.setDropTarget()},notifyDropped:function(l,k){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});q.AutoScroller=new w("AutoScroller",{include:[e],initNode:function(l,k){this.scrollBorder=40;this.scrollFrequency=
50;this.scrollAmount=2;this.scrollAcceleration=7;k.overflow??(k.overflow="auto");this.callSuper(l,k);r.registerAutoScroller(this)},destroy:function(){r.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(l){this.scrollBorder=Math.max(1,l)},setScrollFrequency:function(l){this.scrollFrequency=l},setScrollAmount:function(l){this.scrollAmount=l},setScrollAcceleration:function(l){this.scrollAcceleration=l},notifyAutoScrollerDragStart:function(l){l=this.getIDE();(l.scrollHeight>l.clientHeight||
l.scrollWidth>l.clientWidth)&&this.attachToDom(h,"__hndlMove","mousemove",!0)},notifyAutoScrollerDragStop:function(l){this.detachFromDom(h,"__hndlMove","mousemove",!0);d(this,"Up","Down");d(this,"Left","Right")},__hndlMove:function(l){const k=this;let {pageX:b,pageY:g}=l.value;if(k.containsPoint(b,g)){l=k.getPagePosition();const a=k.scrollBorder,f=(c,n)=>{k["__is"+c]&&(k.getIDE()["scroll"+("Up"===c||"Down"===c?"Top":"Left")]+=n*k["__amt"+c],k["__tmrId"+c]=setTimeout(()=>{f(c,n)},k.scrollFrequency))};
b-=l.x;g-=l.y;g<a?(k.__isUp=!0,k.__amtUp=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-g/a))),k.__tmrIdUp||f("Up",-1)):k.height-g<a?(k.__isDown=!0,k.__amtDown=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-(k.height-g)/a))),k.__tmrIdDown||f("Down",1)):d(k,"Up","Down");b<a?(k.__isLeft=!0,k.__amtLeft=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-b/a))),k.__tmrIdLeft||f("Left",-1)):k.width-b<a?(k.__isRight=!0,k.__amtRight=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-(k.width-
b)/a))),k.__tmrIdRight||f("Right",1)):d(k,"Left","Right")}else d(k,"Up","Down"),d(k,"Left","Right")}})})(myt);
(q=>{const {max:w,cos:u,sin:r,PI:h}=Math,d=q.Geometry.degreesToRadians,e=a=>{var f=d(a.startAngle),c=d(a.endAngle);if(f>c){var n=f;f=c;c=n}n=a.__path;var v=a.width/2,t=a.thickness;const p=a.radius,A=p+t;var I=c-f;const z=I+1E-4>=2*h;z&&(f=0,c=h);const D=[v+A*u(f),v+A*r(f)],J=[v+A*u(c),v+A*r(c)];c=[v+p*u(c),v+p*r(c)];f=[v+p*u(f),v+p*r(f)];v=["M"+D.join()];z?v.push("A"+[A,A,0,1,1,J].join(),"A"+[A,A,0,1,1,D].join(),"L"+c.join(),"A"+[p,p,0,1,0,f].join(),"A"+[p,p,0,1,0,c].join()):(I=I%(2*h)>h?1:0,t/=2,
v.push("A"+[A,A,0,I,1,J].join(),a.endCapRounding?"A"+[t,t,0,0,1,c].join():"L"+c.join(),"A"+[p,p,0,I,0,f].join(),a.startCapRounding?"A"+[t,t,0,0,1,D].join():""));v.push("z");n.setAttribute("d",v.join(" "));n.setAttribute("fill",a.color)},l=a=>{const f=2*(a.radius+a.thickness),c=a.__svg;a.setWidth(f);a.setHeight(f);c.setAttribute("viewBox","0 0 "+f+" "+f);c.setAttribute("width",f);c.setAttribute("height",f);e(a)},k=(a,f,c)=>{a[f]!==c&&(a[f]=c,a.inited&&(e(a),a.fireEvent(f,c)))},b=(a,f,c)=>{a[f]!==c&&
(a[f]=c=w(0,c),a.inited&&(l(a),a.fireEvent(f,c)))},g=(a,f)=>{a=document.createElementNS("http://www.w3.org/2000/svg",a);f?.appendChild(a);return a};q.Annulus=new JS.Class("Annulus",q.BackView,{initNode:function(a,f){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(a,f);l(this)},createOurDomElement:function(a){a=this.callSuper(a);var f=Array.isArray(a)?a[1]:a;f=this.__svg=g("svg",f);this.__path=g("path",f);f.style.pointerEvents=
"none";return a},setRadius:function(a){b(this,"radius",a)},setThickness:function(a){b(this,"thickness",a)},setStartAngle:function(a){k(this,"startAngle",a)},setEndAngle:function(a){k(this,"endAngle",a)},setStartCapRounding:function(a){k(this,"startCapRounding",a)},setEndCapRounding:function(a){k(this,"endCapRounding",a)},setColor:function(a){k(this,"color",a)},isColorAttr:function(a){return"color"===a||this.callSuper(a)}})})(myt);
(q=>{const w=JS.Class,u=q.RadialGuage=new w("RadialGuage",q.View,{include:[q.BoundedValueComponent],initNode:function(r,h){h.radius??(h.radius=32);h.thickness??(h.thickness=4);h.startAngle??(h.startAngle=270);h.color??(h.color="#666");const d=h.fontSize??h.radius;this.quickSet(["radius","thickness","startAngle","color"],h);const e=this.thickness,l=this.radius;h.width=h.height=2*l;h.minValue??(h.minValue=0);h.maxValue??(h.maxValue=100);h.value??(h.value=0);h.bgColor??(h.bgColor="#fff");h.roundedCorners=
l+e;h.borderWidth??(h.borderWidth=e);h.borderStyle??(h.borderStyle="solid");h.borderColor??(h.borderColor="#ccc");this.callSuper(r,h);this._progressView=new q.Annulus(this,{x:-e,y:-e,radius:l,thickness:e,startAngle:this.startAngle});this._valueView=new q.Text(this,{fontSize:d+"px",align:"center",valign:"middle"});this.redraw()},setMinValue:function(r){this.callSuper(r);this.inited&&this.redraw()},setMaxValue:function(r){this.callSuper(r);this.inited&&this.redraw()},setValue:function(r){this.callSuper(r);
this.inited&&this.redraw()},redraw:function(){const r=this._progressView,h=this._valueView,d=this.value,e=d/(this.maxValue-this.minValue),l=this.getColorByValue(d,e);r.setEndAngle(this.startAngle+360*e);r.setColor(l);h.setText(this.getTextByValue(d));h.setTextColor(l);this.setTooltip(this.getTooltipByValue(d))},getColorByValue:function(r,h){return this.color},getTooltipByValue:function(r){return this.getTextByValue(r)},getTextByValue:function(r){return""+r}});q.ColorThresholdRadialGuage=new w("ColorThresholdRadialGuage",
u,{initNode:function(r,h){h.thresholdType??(h.thresholdType="percent");h.thresholds??(h.thresholds=[]);this.quickSet(["thresholdType","thresholds"],h);this.thresholds.sort((d,e)=>e.value-d.value);this.callSuper(r,h)},getColorByValue:function(r,h){const d="percent"===this.thresholdType?h:r;for(const e of this.thresholds)if(d>=e.value)return e.color;return this.callSuper(r,h)}})})(myt);
(q=>{let w;var u=JS.Class;const {global:{mouse:r,windowResize:h,dragManager:d},theme:e}=q,{min:l,max:k,round:b}=Math,g=c=>{if(c.tooltip){const n=c._lastPos;if(c.tooltip.parent.containsPoint(n.x,n.y))return!0}c.hideTip();return!1},a=q.BaseTooltip=new u("BaseTooltip",q.View,{include:[q.RootView],initNode:function(c,n){this.tipDelay=this.nextTipDelay=e.BaseTooltipDelay;this.tipHideDelay=e.BaseTooltipHideDelay;n.visible??(n.visible=!1);this.callSuper(c,n)},setTooltip:function(c){this.inited&&(this.tooltip=
c)&&(this.attachToDom(r,"__hndl_mousemove","mousemove",!0),this.attachToDom(c.parent,"hideTip","mousedown",!0),this.attachToDom(c.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(c){const n=this;n._lastPos=q.MouseObservable.getMouseFromEvent(c);g(n)&&(n.__checkTID&&(clearTimeout(n.__checkTID),delete n.__checkTID),n.__checkTID=setTimeout(()=>{delete n.__checkTID;g(n)&&n.showTip()},n.nextTipDelay))},hideTip:function(c){this.__checkTID&&(clearTimeout(this.__checkTID),delete this.__checkTID);
if(c=this.tooltip?.parent)this.detachFromDom(c,"hideTip","mousedown",!0),this.detachFromDom(c,"hideTip","mouseup",!0),this.detachFromDom(r,"__hndl_mousemove","mousemove",!0),this.nextTipDelay=this.tipDelay,this.setVisible(!1);return!0},showTip:function(){d.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}});u=q.Tooltip=new u("Tooltip",a,{initNode:function(c,n){n.edgeSize??(n.edgeSize=e.TooltipEdgeSize);n.edgeColor??(n.edgeColor=e.TooltipEdgeColor);n.shadowSize??
(n.shadowSize=e.TooltipShadowSize);n.shadowColor??(n.shadowColor=e.TooltipShadowColor);n.insetH??(n.insetH=e.TooltipHInset);n.insetV??(n.insetV=e.TooltipVInset);n.tipBgColor??(n.tipBgColor=e.TooltipBgColor);n.tipTextColor??(n.tipTextColor=e.TooltipTextColor);this.callSuper(c,n);this._tipText=new q.Text(this,{fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(c){this.edgeSize=c},setEdgeColor:function(c){this.edgeColor=c},setShadowSize:function(c){this.shadowSize=
c},setShadowColor:function(c){this.shadowColor=c},setInsetH:function(c){this.insetH=c},setInsetV:function(c){this.insetV=c},setTipBgColor:function(c){this.tipBgColor=c},setTipTextColor:function(c){this.tipTextColor=c},showTip:function(){const c=this.tooltip;var n=c.text;const v=c.parent;var t=this._tipText;const p=this.edgeSize,A=this.shadowSize;t.text!==n&&t.setText(n);t.setWidth("auto");var I=l(t.measureNoWrapWidth(),c.maxTextWidth);n=I+2*t.x;const z=n+2*p;t.setWidth(I);t.sizeViewToDom();I=v.getPagePosition();
t=t.height+2*t.y;const D=t+2*p,J=I.y-D+("below"===c.tipvalign?v.height+D:0);I=I.x;switch(c.tipalign){case "right":I-=z;case "farright":I+=v.width;break;case "farleft":I-=z}this.setX(b(l(k(I,0),h.getWidth()-z)));this.setY(b(l(k(J,0),h.getHeight()-D)));this.setWidth(n);this.setHeight(t);this.setBgColor(this.tipBgColor);this.setBorder([p,"solid",this.edgeColor]);this.setBoxShadow([A,A,A,this.shadowColor]);this.callSuper()}});const f=q.TooltipMixin=new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},
setTooltip:function(c){this.callSuper("");this.set("tooltip",c,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(c){this.set("tipAlign",c,!0)},setTipValign:function(c){this.set("tipValign",c,!0)},setMaxTextWidth:function(c){this.set("maxTextWidth",c,!0)},setTipClass:function(c){this.set("tipClass",c,!0)},doSmoothMouseOver:function(c){const n=this.getTooltip();this.callSuper(c);if(c&&n){c=this.tipClass??f.TIP_CLASS;!w||w instanceof c||(w.destroy(),w=null);if(!w){let v=document.getElementById("tooltipDiv");
v||(v=q.DomElementProxy.createElement("div",{position:"absolute"}),q.getElement().appendChild(v));w=new c(v,{domId:"tooltipDiv"})}w.setTooltip({parent:this,text:n,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||f.MAX_TEXT_WIDTH})}}})})(myt);
(q=>{const w=Math,{min:u,max:r}=w;q.Path=new JS.Class("Path",{initialize:function(h){this.setVectors(h??[])},setVectors:function(h){this._boundingBox=null;this.vectors=h},copyFrom:function(h){this.vectors=h.vectors.slice();this._boundingBox=null},drawInto:function(h){h.beginPath();const d=this.vectors;let e=d.length,l=0;for(h.moveTo(d[l++],d[l++]);e>l;)h.lineTo(d[l++],d[l++]);h.closePath()},translate:function(h,d){const e=this.vectors;let l=e.length;for(;l;)e[--l]+=d,e[--l]+=h;this._boundingBox=null},
scale:function(h){const d=this.vectors;let e=d.length;for(;e;)d[--e]*=h,d[--e]*=h;this._boundingBox=null},rotate:function(h){const d=w.cos(h);h=w.sin(h);const e=this.vectors,l=e.length;for(let k=0;l>k;){const b=e[k]*d-e[k+1]*h,g=e[k]*h+e[k+1]*d;e[k++]=b;e[k++]=g}this._boundingBox=null},rotateAroundOrigin:function(h,d,e){this.translate(-d,-e);this.rotate(h);this.translate(d,e)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const h=this.vectors;let d=h.length,e,l,k,b;if(2<=
d){k=b=h[--d];for(e=l=h[--d];d;){const g=h[--d],a=h[--d];k=u(g,k);b=r(g,b);e=u(a,e);l=r(a,l)}return this._boundingBox={x:e,y:k,width:l-e,height:b-k}}return this._boundingBox=null},getCenter:function(){const h=this.getBoundingBox();return h?{x:h.x+h.width/2,y:h.y+h.height/2}:null},isPointInPath:function(h,d){"object"===typeof h&&(d=h.y,h=h.x);return q.Geometry.isPointInPath(h,d,this.getBoundingBox(),this.vectors)}})})(myt);
(q=>{const w=console.warn,u=Math.PI,r=u/2,h=3*u/2,d=q.AccessorSupport,e={};for(const l of"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" "))e[l]=function(...k){this.__ctx[l](...k)};for(const l of["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"])e[l]=
function(...k){return this.__ctx[l](...k)};for(const l of"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" "))e[d.generateSetterName(l)]=function(k){this.__ctx[l]=k},e[d.generateGetterName(l)]=function(){return this.__ctx[l]};q.Canvas=new JS.Class("Canvas",q.BackView,{include:[e],initNode:function(l,k){this.quickSet(["willReadFrequently"],k);this.callSuper(l,k)},
createOurDomElement:function(l){l=this.callSuper(l);var k=Array.isArray(l)?l[1]:l;const b=this.__cvs=document.createElement("canvas");b.className="mytUnselectable";k.appendChild(b);b.style.position="absolute";k={};this.willReadFrequently&&(k.willReadFrequently=!0);this.__ctx=b.getContext("2d",k);return l},setWidth:function(l){0>l&&(l=0);this.__cvs.setAttribute("width",l);this.callSuper(l)},setHeight:function(l){0>l&&(l=0);this.__cvs.setAttribute("height",l);this.callSuper(l)},clear:function(){const l=
this.__ctx;l.save();l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,this.width,this.height);l.restore()},dataURItoBlob:function(l,k){l=atob(l.split(",")[1]);const b=l.length,g=[];for(let a=0;a<b;)g.push(l.charCodeAt(a++));return new Blob([new Uint8Array(g)],{type:k})},getDataURL:function(l,k){return this.__cvs.toDataURL(l,k)},getImageFile:function(l,k,b){switch(l){case "png":case "PNG":l="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":l="jpeg";b??=.5;break;default:w("Unexpected image type",
l),l=l.toLowerCase()}const g="image/"+l;b=this.dataURItoBlob(this.getDataURL(g,b),g);k&&(b.name=k+"."+l);return b},circle:function(l,k,b){this.__ctx.arc(l,k,b,0,2*u)},drawRoundedRect:function(l,k,b,g,a,f){const c=this.lineTo.bind(this),n=this.arc.bind(this);f=g+f;a=b+a;this.beginPath();this.moveTo(b,g+l);c(b,f-l);n(b+l,f-l,l,u,r,!0);c(a-l,f);n(a-l,f-l,l,r,0,!0);c(a,g+l);n(a-l,g+l,l,0,h,!0);c(b+l,g);n(b+l,g+l,l,h,u,!0);this.closePath();0<k&&(l-=k,b+=k,a-=k,g+=k,f-=k,this.moveTo(b,g+l),n(b+l,g+l,l,
u,h),c(a-l,g),n(a-l,g+l,l,h,0),c(a,f-l),n(a-l,f-l,l,0,r),c(b+l,f),n(b+l,f-l,l,r,u),this.closePath());return this},drawRectOutline:function(l,k,b,g,a){a=b+a;g=k+g;const f=k+l,c=g-l,n=b+l;l=a-l;const v=this.lineTo.bind(this);this.beginPath();this.moveTo(k,b);v(k,a);v(g,a);v(g,b);v(k,b);v(f,n);v(c,n);v(c,l);v(f,l);v(f,n);this.closePath();return this},drawPartiallyRoundedRect:function(l,k,b,g,a,f,c,n){n=f+n;c=a+c;const v=this.lineTo.bind(this),t=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(a,
f+l);v(a,n-b);0<b&&t(a,n,a+b,n);v(c-g,n);0<g&&t(c,n,c,n-g);v(c,f+k);0<k&&t(c,f,c-k,f);v(a+l,f);0<l&&t(a,f,a,f+l);this.closePath();return this},drawAnnulus:function(l,k,b,g,a,f,c,n=60){const v=q.Color;for(var t of c)"string"===typeof t.color&&(t.color=v.makeColorFromHexString(t.color));1>n&&(w("Invalid segements",n),n=60);n=u/n;t=0;for(var p=c.length-1;t<p;){var A=c[t++];const {angle:C,color:M}=A,{angle:Q,color:L}=c[t];var I=Math.round((Q-C)/n),z=M.getDiffFrom(L);A.colorDelta={red:z.red/I,green:z.green/
I,blue:z.blue/I}}b=new q.Path([l+b,k,l+g,k]);b.rotateAroundOrigin(a,l,k);g=b.vectors;let [D,J,P,R]=g,m=0,x=u/360;for(t=0;f>a;){I=D;z=J;p=P;A=R;a+=n;a>f&&(n+=f-a,x=0,a=f);b.rotateAroundOrigin(n+x,l,k);[D,J,P,R]=g;this.beginPath();this.moveTo(I,z);this.lineTo(p,A);this.lineTo(P,R);this.lineTo(D,J);this.closePath();const {color:C,colorDelta:M}=c[t];this.setFillStyle(v.rgbToHex(C.red+m*M.red,C.green+m*M.green,C.blue+m*M.blue,!0));this.fill();0<x&&(b.rotateAroundOrigin(-x,l,k),[D,J,P,R]=g);m++;a>=c[t+
1].angle&&(m=0,t++)}return this}})})(myt);
(q=>{const {Class:w,Module:u}=JS,{View:r,Text:h,FontAwesome:{makeTag:d}}=q,e=d(["times"]);q.GrowlManager=new w("GrowlManager",r,{include:[q.SizeToWindowHeight],initNode:function(g,a){const f=this;f.growlCount=0;a.overflow??(a.overflow="visible autoy");a.margin??(a.margin=8);a.spacing??(a.spacing=4);a.reverse??(a.reverse=!0);a.width??(a.width=300);a.visible??(a.visible=!1);a.pointerEvents??(a.pointerEvents="none");a.moveDuration??(a.moveDuration=300);a.dedupe??(a.dedupe=!0);a.clearAllThreshold??(a.clearAllThreshold=
0);a.simpleGrowlClass??(a.simpleGrowlClass=q.SimpleGrowl);f.quickSet(["moveDuration","dedupe"],a);f.callSuper(g,a);f.doAlignment();const c=f.moveDuration;new q.SpacedLayout(f,{axis:"y",reverse:f.reverse,spacing:f.spacing},[{updateParent:function(n,v){0<c?(f.stopActiveAnimators("height"),f.animate({attribute:"height",to:v+this.outset-this.spacing,duration:c})):this.callSuper(n,v)},updateSubview:function(n,v,t,p){return 0<c?(v.stopActiveAnimators("y"),v.animate({attribute:"y",to:p,duration:c}),p+v.height+
this.spacing):this.callSuper(n,v,t,p)}}])},setHeight:function(g){this.callSuper(g-2*this.margin)},setVisible:function(g){this.visible!==g&&(this.visible=g,this.getODS().display=g?"block":"none",this.inited&&this.fireEvent("visible",g))},setMargin:function(g){this.set("margin",g,!0);this.getODS().margin=g+"px"},setSpacing:function(g){this.set("spacing",g,!0)},setReverse:function(g){this.set("reverse",g,!0)},doAlignment:function(){const g=this.getODS();g.left=null;g.right="0px"},notifyChanged:function(){this.setVisible(0<
this.getSubviews().length)},subviewAdded:function(g){this.callSuper(g);this.notifyChanged()},subviewRemoved:function(g){this.callSuper(g);this.notifyChanged()},addGrowl:function(g){if(this.dedupe){const a=g.getHash(),f=this.getSubviews();let c=f.length;for(;c;){const n=f[--c];if(n!==g&&n.getHash?.()===a){this.removeGrowl(n);break}}}this.growlCount++;g.setVisible(!0);this.updateClearAll()},removeGrowl:function(g){g.destroy();this.growlCount--;this.updateClearAll()},updateClearAll:function(){const g=
this.clearAllThreshold;0<g&&this.growlCount>=g?(this._clearAllBtn??(this._clearAllBtn=this.makeClearAll()),this._clearAllBtn.setVisible(!0)):this._clearAllBtn?.setVisible(!1)},makeClearAll:function(){const g=this;return new q.TextButton(g,{width:g.width,height:28,text:e+" Dismiss All",fontWeight:"bold",paddingTop:5,zIndex:1,visible:!1,ignoreLayout:!0,pointerEvents:"auto"},[{setVisible:function(a){this.callSuper(a);g.getFirstLayout().setInset(this.visible?this.height+g.spacing:0)},doActivated:function(){const a=
g.getFirstLayout();a.incrementLockedCounter();g.growlCount=0;delete g._clearAllBtn;a.setInset(0);g.destroyAllSubviews();a.decrementLockedCounter()}}])},addSimpleGrowl:function(g,a){this.addGrowl(new this.simpleGrowlClass(this,{text:g,...(a??{})}))}});q.KeepShowingMixin=new u("KeepShowingMixin",{include:[q.MouseOver],initNode:function(g,a){a.initialKeepDuration??(a.initialKeepDuration=-1);a.keepDuration??(a.keepDuration=-1);this.quickSet(["initialKeepDuration","keepDuration"],a);this.callSuper(g,a);
g=this.initialKeepDuration;0<=g&&this.keepShowing(!1,g)},keepShowing:function(g,a){const f=this;a??=f.keepDuration;(f.__keepShowing=g)&&f.__timerIdKS&&clearTimeout(f.__timerIdKS);0<=a&&!g&&(f.__timerIdKS=setTimeout(()=>{("function"===typeof f.isShown?f.isShown():f.visible)&&!f.__keepShowing&&("function"===typeof f.hide?f.hide(!0):f.setVisible(!1))},a))},doMouseOver:function(g){this.keepShowing(!0);this.callSuper(g)},doMouseOut:function(g){this.keepShowing(!1);this.callSuper(g)}});q.KeepShowingChildMixin=
new u("KeepShowingChildMixin",{doMouseOver:function(g){this.callSuper(g);return!0},doMouseOut:function(g){this.callSuper(g);return!0}});q.GrowlMixin=new u("GrowlMixin",{include:[q.SizeToParent,q.KeepShowingMixin],initNode:function(g,a){a.percentOfParentWidth??(a.percentOfParentWidth=100);a.pointerEvents??(a.pointerEvents="auto");a.bgColor??(a.bgColor="#fff");a.roundedCorners??(a.roundedCorners=3);a.boxShadow??(a.boxShadow=[0,0,8,"#00000088"]);a.initialKeepDuration??(a.initialKeepDuration=5E3);a.keepDuration??
(a.keepDuration=1E3);a.showDuration??(a.showDuration=300);a.hideDuration??(a.hideDuration=300);this.quickSet(["showDuration","hideDuration"],a);a.opacity=0;a.visible=!1;this.callSuper(g,a)},setVisible:function(g){const a=this;a.inited?(a.stopActiveAnimators("opacity"),g?(a.animate({attribute:"opacity",to:1,duration:a.showDuration}),a.callSuper(g)):a.animate({attribute:"opacity",to:0,duration:a.hideDuration}).next(f=>{a.parent.removeGrowl(a)})):a.callSuper(g)},getHash:function(){return this.hash??
(this.hash=q.hash(this.getHashableString()))},getHashableString:()=>""+q.generateGuid()});const l=d(["clipboard-check"]),k="maxHeight icon iconSize text padding spacing whiteSpace showCloseButton closeIcon closeOnly showCopyButton copyIcon activeColor hoverColor readyColor".split(" "),b=new w("LocalTxtBtn",q.TextButton,{include:[q.KeepShowingChildMixin],initNode:function(g,a){a.width??(a.width=24);a.height??(a.height=24);a.paddingTop??(a.paddingTop=4);a.activeColor??(a.activeColor="#ccc");a.hoverColor??
(a.hoverColor="#ddd");a.readyColor??(a.readyColor="#eee");this.callSuper(g,a)}});q.SimpleGrowl=new w("SimpleGrowl",r,{include:[q.GrowlMixin],initNode:function(g,a){const f={};a.maxHeight??(a.maxHeight=100);a.spacing??(a.spacing=6);a.padding??(a.padding=12);a.whiteSpace??(a.whiteSpace="normal");a.iconSize??(a.iconSize="24px");a.showCloseButton??(a.showCloseButton=!1);a.showCloseButton&&(a.closeIcon??(a.closeIcon=e),a.closeOnly??(a.closeOnly=!1));a.showCopyButton??(a.showCopyButton=!1);a.showCopyButton&&
(a.copyIcon??(a.copyIcon=l));for(const t of k)f[t]=a[t],delete a[t];f.closeOnly&&(a.initialKeepDuration=a.keepDuration=-1);this.callSuper(g,a);const {maxHeight:c,padding:n,icon:v}=f;v&&(this.iconTxt=new h(this,{y:n,text:v,fontSize:f.iconSize}));g=this.msgTxt=new h(this,{y:n,text:f.text,whiteSpace:f.whiteSpace,layoutHint:1});0<c&&(g.setOverflow("auto"),g.getIDS().maxHeight=c+"px");f.showCopyButton&&(this.copyBtn=this.makeCopyButton(f),g.setUserUnselectable(!1));f.showCloseButton&&(this.closeBtn=this.makeCloseButton(f));
new q.ResizeLayout(this,{inset:n,spacing:f.spacing,outset:n});new q.SizeToChildren(this,{axis:"y",paddingY:n})},makeCloseButton:function(g){const a=this;new b(a,{y:g.padding,text:g.closeIcon,tooltip:"Dismiss this notification.",activeColor:g.activeColor,hoverColor:g.hoverColor,readyColor:g.readyColor},[{doActivated:()=>{a.parent.removeGrowl(a)}}])},makeCopyButton:function(g){const a=this;new b(a,{y:g.padding,text:g.copyIcon,tooltip:"Copy to system clipboard.",activeColor:g.activeColor,hoverColor:g.hoverColor,
readyColor:g.readyColor},[{doActivated:()=>{global.isSecureContext?navigator.clipboard.writeText(q.removeMarkup(a.msgTxt.text,{brToLineFeed:!0})):console.warn("access to clipboard blocked because of insecure context.")}}])},getHashableString:function(){return this.iconTxt?.text+" | "+this.msgTxt.text}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

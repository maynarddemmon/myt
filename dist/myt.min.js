'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,d,g){c!=Array.prototype&&c!=Object.prototype&&(c[d]=g.value)};
$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,c];for(var d=0;d<c.length;++d){var g=c[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,d,g,f){if(d){g=$jscomp.global;c=c.split(".");for(f=0;f<c.length-1;f++){var b=c[f];b in g||(g[b]={});g=g[b]}c=c[c.length-1];f=g[c];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(c,g){var f=this;f instanceof String&&(f=String(f));var b=f.length;g=g||0;for(0>g&&(g=Math.max(g+b,0));g<b;g++){var a=f[g];if(a===c||Object.is(a,c))return!0}return!1}},"es7","es3");
$jscomp.arrayIteratorImpl=function(c){var d=0;return function(){return d<c.length?{done:!1,value:c[d++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var d="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return d?d.call(c):$jscomp.arrayIterator(c)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise.prototype.finally",function(c){return c?c:function(c){return this.then(function(d){return Promise.resolve(c()).then(function(){return d})},function(d){return Promise.resolve(c()).then(function(){throw d;})})}},"es9","es3");$jscomp.polyfill("String.prototype.trimLeft",function(c){function d(){return this.replace(/^[\s\xa0]+/,"")}return c||d},"es_2019","es3");$jscomp.polyfill("String.prototype.trimStart",function(c){return c||String.prototype.trimLeft},"es_2019","es3");
$jscomp.polyfill("String.prototype.trimRight",function(c){function d(){return this.replace(/[\s\xa0]+$/,"")}return c||d},"es_2019","es3");$jscomp.polyfill("String.prototype.trimEnd",function(c){return c||String.prototype.trimRight},"es_2019","es3");$jscomp.owns=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)};$jscomp.polyfill("Object.values",function(c){return c?c:function(c){var d=[],f;for(f in c)$jscomp.owns(c,f)&&d.push(c[f]);return d}},"es8","es3");
(c=>{let d;var g=a=>{let b,e=a.length;for(;e;)if(b=a[--e],d=b.ver||b.id,b.str&&0<=b.str.indexOf(b.sub)||b.prop)return b.id};var f=a=>{const b=a.indexOf(d);if(0<=b)return parseFloat(a.substring(b+d.length+1))};const b=navigator.userAgent,a=navigator.platform;f=c.BrowserDetect={browser:g([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:b,sub:"Firefox",id:"Firefox"},{str:b,sub:"Chrome",id:"Chrome"},{str:b,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:f(b)||f(navigator.appVersion)||"UNKNOWN",os:g([{str:b,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(f.browser){case "Chrome":case "Safari":c="WebKit";break;case "Explorer":c="MS";break;case "Firefox":c="Moz";break;case "Opera":c="O";break;default:c="UNKNOWN"}g=c.toLowerCase();f.prefix={dom:c,lowercase:g,css:"-"+g+"-",js:g[0].toUpperCase()+g.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d="January February March April May June July August September October November December".split(" "),g="Sun Mon Tue Wed Thu Fri Sat".split(" "),f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b={d:a=>(10>a.getDate()?"0":"")+a.getDate(),D:a=>g[a.getDay()],j:a=>a.getDate(),l:a=>f[a.getDay()],N:a=>0==a.getDay()?7:a.getDay(),S:a=>1==a.getDate()%10&&11!=a.getDate()?
"st":2==a.getDate()%10&&12!=a.getDate()?"nd":3==a.getDate()%10&&13!=a.getDate()?"rd":"th",w:a=>a.getDay(),z:a=>{const b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864E5)},W:a=>{var b=new Date(a.valueOf());a=(a.getDay()+6)%7;b.setDate(b.getDate()-a+3);a=b.valueOf();b.setMonth(0,1);4!==b.getDay()&&b.setMonth(0,1+(4-b.getDay()+7)%7);b=1+Math.ceil((a-b)/6048E5);return 10>b?"0"+b:b},F:a=>d[a.getMonth()],m:a=>(9>a.getMonth()?"0":"")+(a.getMonth()+1),M:a=>c[a.getMonth()],n:a=>a.getMonth()+1,t:a=>
{let b=a.getFullYear();a=a.getMonth()+1;12===a&&(b=b++,a=0);return(new Date(b,a,0)).getDate()},L:a=>{a=a.getFullYear();return 0==a%400||0!=a%100&&0==a%4},o:a=>{const b=new Date(a.valueOf());b.setDate(b.getDate()-(a.getDay()+6)%7+3);return b.getFullYear()},Y:a=>a.getFullYear(),y:a=>(""+a.getFullYear()).substr(2),a:a=>12>a.getHours()?"am":"pm",A:a=>12>a.getHours()?"AM":"PM",B:a=>Math.floor(1E3*((a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/3600)/24),g:a=>a.getHours()%12||12,G:a=>a.getHours(),
h:a=>(10>(a.getHours()%12||12)?"0":"")+(a.getHours()%12||12),H:a=>(10>a.getHours()?"0":"")+a.getHours(),i:a=>(10>a.getMinutes()?"0":"")+a.getMinutes(),s:a=>(10>a.getSeconds()?"0":"")+a.getSeconds(),u:a=>{a=a.getMilliseconds();return(10>a?"00":100>a?"0":"")+a},e:a=>/\((.*)\)/.exec((new Date).toString())[1],I:a=>{let b=null,c=0;for(var k;12>c;)if(k=new Date(a.getFullYear(),c++,1),k=k.getTimezoneOffset(),null===b)b=k;else if(k<b){b=k;break}else if(k>b)break;return a.getTimezoneOffset()==b|0},O:a=>(0>
-a.getTimezoneOffset()?"-":"+")+(10>Math.abs(a.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(a.getTimezoneOffset()/60))+(0==Math.abs(a.getTimezoneOffset()%60)?"00":(10>Math.abs(a.getTimezoneOffset()%60)?"0":"")+Math.abs(a.getTimezoneOffset()%60)),P:a=>(0>-a.getTimezoneOffset()?"-":"+")+(10>Math.abs(a.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(a.getTimezoneOffset()/60))+":"+(0==Math.abs(a.getTimezoneOffset()%60)?"00":(10>Math.abs(a.getTimezoneOffset()%60)?"0":"")+Math.abs(a.getTimezoneOffset()%
60)),T:a=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:a=>60*-a.getTimezoneOffset(),c:a=>a.format("Y-m-d\\TH:i:sP"),r:a=>a.toString(),U:a=>a.getTime()/1E3};return function(a){const e=this;return a.replace(/(\\?)(.)/g,(a,c,f)=>""===c&&b[f]?b[f](e):f)}})();
(c=>{const d=(a,b)=>{if(a&&b)for(const e in b)a[e]===b[e]||a.hasOwnProperty(e)||(a[e]=b[e]);return a},g=a=>{const b=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},e=function(){};e.prototype=(a||Object).prototype;b.prototype=new e;return b},f=(a,b)=>{const e=!b;if(e&&a.__anc__)return a.__anc__.slice();b=b||[];const c=a.__inc__,k=c.length;for(let a=0;a<k;)f(c[a++],b);b.includes(a)||b.push(a);e&&(a.__anc__=b.slice());return b},b=(a,b)=>{var e=a.__mct__[b];if(e)return e.slice();
e=f(a);const c=e.length,k=[];for(let a=0;a<c;){const c=e[a++].__fns__;c.hasOwnProperty(b)&&k.push(c[b])}a.__mct__[b]=k.slice();return k},a=(a,e)=>{const c=a.callable;return a.__hs?function(){const k=this.callSuper,h=this.hasOwnProperty("callSuper"),l=b(e,a.name);let f=l.length-1;if(0===f)delete this.callSuper;else{const a=Array.from(arguments),b=this.callSuper=(...e)=>{let c=e.length;for(;c;)a[--c]=e[c];0===--f&&delete this.callSuper;e=l[f].apply(this,a);this.callSuper=b;f++;return e}}const m=c.apply(this,
arguments);h?this.callSuper=k:delete this.callSuper;return m}:c},e=(b,c)=>{c=c||b;if(c===b){b.__anc__=null;b.__mct__={};for(var k=b.__dep__.length;k;)e(b.__dep__[--k])}if(k=c.__tgt__){var h=b.__inc__;b=b.__fns__;const l=h.length;for(let a=0;a<l;)e(h[a++],c);for(const e in b)h=b[e],h=h instanceof m?a(h,c):h,k[e]!==h&&(k[e]=h)}},h=a=>a.__meta__?a.__meta__:(a.__meta__=new l("",null,{_target:a})).include(a.klass,{_rslv:!1}),k=a=>"function"!==typeof a||a.__fns__&&a.__inc__,m=c.Method=g(),n=(a,b,e)=>e&&
e.__inc__&&e.__fns__||"function"!==typeof e?e:new m(a,b,e),l=c.Module=g();d(m.prototype,{initialize:function(a,b,e){this.module=a;this.name=b;this.callable=e;this.__hs="function"===typeof e&&-1!==e.toString().indexOf("callSuper")},call:function(...a){return this.callable(...a)},apply:function(a,b){return this.callable.apply(a,b)}});d(l.prototype,{initialize:function(a,b,e){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(e||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
a;this.include(b,{_rslv:!1})},define:function(a,b,c){this.__fns__[a]=n(this,a,b);!1!==(c||{})._rslv&&e(this)},include:function(a,b){if(a){if(a.__fns__&&a.__inc__)this.__inc__.push(a),a.__dep__.push(this);else{var c=a.extend,h=a.include;const b={_rslv:!1};if(k(c)){c=[].concat(c);for(let a=0,b=c.length;a<b;)this.extend(c[a++])}if(k(h)){h=[].concat(h);for(let a=0,e=h.length;a<e;)this.include(h[a++],b)}for(const e in a)a.hasOwnProperty(e)&&(h=a[e],("extend"!==e&&"include"!==e||!k(h))&&this.define(e,h,
b))}!1!==(b||{})._rslv&&e(this)}return this},includes:function(a){if(a===this)return!0;const b=this.__inc__,e=b.length;for(let c=0;c<e;)if(b[c++].includes(a))return!0;return!1},instanceMethod:function(a){return b(this,a).pop()}});const p=new l("Kernel",{equals:function(a){return this===a},extend:function(a,b){a&&h(this).include(a,{_rslv:(b||{})._rslv});return this},isA:function(a){return"function"===typeof a&&this instanceof a||h(this).includes(a)}}),r=c.Class=g(l);d(r.prototype,{initialize:function(a,
b,c,k){"function"!==typeof b&&(k=c,c=b,b=Object);l.prototype.initialize.call(this,a);a=(k||{})._rslv;k={_rslv:!1};const f=g(b);d(f,this);f.prototype.constructor=f.prototype.klass=f;h(f).include(b.__meta__,{_rslv:a});f.__tgt__=f.prototype;b=b===Object?{}:b.__fns__?b:new l(b.prototype,k);f.include(p,k).include(b,k).include(c,k);!1!==a&&e(f);return f}});const t=(a,b)=>{a.__inc__=[];a.__dep__=[];const e=a.__tgt__=a.prototype,c=a.__fns__={};for(const b in e)e.hasOwnProperty(b)&&(c[b]=n(a,b,e[b]));e.constructor=
e.klass=a;d(a,r.prototype);a.include(b);a.constructor=a.klass=r};t(m,p);t(l,p);t(r,l);e(h(m));e(h(l));h(r).include(l.__meta__);c.Singleton=new r("Singleton",{initialize:(a,b,e)=>new (new r(a,b,e))})})(global.JS||(global.JS={}));
(c=>{class d extends Error{constructor(a,b,...e){super(...e);this.name="FetchError";this.status=a;this.url=b}}let g=0;const f={},b={"":!0},a=document.fonts,e=a=>{a=a.family+" "+a.weight;0<=a.indexOf("\\35 ")&&(a=a.replace(/\\35 /g,"5"));if(!b[a])for(b[a]=!0,a=f[a]||[];a.length;){var e=a.pop();e&&!e.destroyed&&e.sizeViewToDom()}},h=c.myt={version:2.02106282027E7,IMAGE_ROOT:global.MYT_IMAGE_ROOT||"",generateGuid:()=>++g,addEventListener:(a,b,e,c,h)=>{a.addEventListener(b,e,{capture:c||!1,passive:h||
!1})},removeEventListener:(a,b,e,c)=>{a.removeEventListener(b,e,c||!1)},resolveName:(a,b)=>{if(a&&0!==a.length){b=b||global;var e=Array.isArray(a)?a:a.split("."),c=e.length;for(let k=0;k<c;k++)if(b=b[e[k]],void 0===b){console.warn("resolveName failed for:",a,"at part:",k,e[k]);return}return b}},resolveClassname:a=>{"string"===typeof a&&(a=h.resolveName(a));return a&&"function"===typeof a.isA&&a.isA(JS.Class)?a:null},getExtension:a=>a?a.split(".")[1]:null,loadScript:function(a,b,e){const c=this._loadedScripts||
(this._loadedScripts={});if(c[a])return console.warn("script already loaded for src",a),null;{c[a]=!0;const k=document.createElement("script");k.type="text/javascript";k.async=!1;if(b){let a=!1;k.onload=k.onreadystatechange=function(){a||this.readyState&&"complete"!==this.readyState||(a=!0,k.onload=k.onreadystatechange=null,b())}}k.src=a+(e?"":(-1!==a.indexOf("?")?"&":"?")+"cacheBust="+Date.now());this.getElement("head").appendChild(k);return k}},dumpStack:(a,b)=>{let e;"string"===typeof a&&(e=a,
a=null);h.global.error.notify(b||"error",null,e,a)},getRandom:a=>{let b=Math.random();a&&(b=a(b),1<=b?b=.9999999999:0>b&&(b=0));return b},getRandomArbitrary:(a,b,e)=>{if(a>b){const e=a;a=b;b=e}return h.getRandom(e)*(b-a)+a},getRandomInt:(a,b,e)=>{if(a>b){const e=a;a=b;b=e}return Math.floor(h.getRandom(e)*(b-a+1)+a)},areFloatsEqual:(a,b,e)=>{const c=Math.abs(a),k=Math.abs(b);e=e?Math.abs(e):1E-6;return Math.abs(a-b)<=(c>k?k:c)*e},areArraysEqual:(a,b)=>{if(a!==b){if(null==a||null==b)return!1;let e=
a.length;if(e!==b.length)return!1;for(;e;)if(a[--e]!==b[e])return!1}return!0},areObjectsEqual:(a,b)=>{if(a!==b){if(null==a||null==b)return!1;let e;for(e in a)if(a[e]!==b[e])return!1;for(e in b)if(a[e]!==b[e])return!1}return!0},getElement:(a,b)=>document.getElementsByTagName(a||"body")[0<b?b:0],loadFontFaces:(b,c)=>{const k=[];b.forEach(a=>{a=new FontFace(a.family,"url("+a.url+")",a.options);k.push(a.load())});Promise.all(k).then(b=>{b.forEach(b=>{a.add(b);e(b)});c&&c(b)})},loadFontFace:(b,c,h={},
l)=>{b=new FontFace(b,"url("+c+")",h);b.loaded.then(b=>{a.add(b);e(b);l&&l(b)});b.load()},registerForFontNotification:(a,e)=>{b[e]?a&&!a.destroyed&&a.sizeViewToDom():(f[e]||(f[e]=[])).push(a)},createBaseFontCSSRule:a=>{h.addCSSRule(h.createStylesheet(),"body, input","font-family:"+a,0)},loadCSSFonts:a=>{(a||[]).forEach(a=>{const b=document.createElement("link");b.rel="stylesheet";b.href=a;document.head.appendChild(b)})},createStylesheet:()=>{const a=document.createElement("style");document.head.appendChild(a);
return a.sheet},addCSSRule:(a,b,e,c)=>{"insertRule"in a?a.insertRule(b+"{"+e+"}",c):"addRule"in a&&a.addRule(b,e,c)},removeCSSRules:a=>{let b=a.cssRules.length;for(;b;)b--,"deleteRule"in a?a.deleteRule(b):"removeRule"in a&&a.removeRule(b)},createInputPlaceholderCSSRule:(a,b,e)=>{const c=a.getOuterDomElement().id||(a.getOuterDomElement().id="id"+h.generateGuid());let k=a.__sheet,f=[];k?h.removeCSSRules(k):k=a.__sheet=h.createStylesheet();b&&f.push("color:"+b);e&&f.push("font-family:"+e);f=f.join("; ");
switch(BrowserDetect.browser){case "Chrome":case "Safari":h.addCSSRule(k,"#"+c+"::-webkit-input-placeholder",f,0);break;case "Firefox":h.addCSSRule(k,"#"+c+":-moz-placeholder","opacity:1; "+f,0);h.addCSSRule(k,"#"+c+"::-moz-placeholder","opacity:1; "+f,0);break;case "Explorer":h.addCSSRule(k,"#"+c+":-ms-input-placeholder",f,0)}},formatAsPercentage:(a,b=2)=>{if("number"===typeof a)return b=Math.max(16,Math.min(0,b)),a=Math.round(Math.max(0,Math.min(1,a))*Math.pow(10,2+b))/Math.pow(10,b),(0===a%1?a:
a.toFixed(b))+"%";"string"!==typeof a&&console.warn("formatAsPercentage: expects a number");return a},memoize:a=>function(){const b=JSON.stringify(arguments),e=a.__cache||(a.__cache={});return b in e?e[b]:e[b]=a.apply(this,arguments)},debounce:function(a,b,e){return function(){const c=this,k=c.__DBTO,h=arguments,f=e&&!k;clearTimeout(k);c.__DBTO=setTimeout(function(){c.__DBTO=null;e||a.apply(c,h)},b);f&&a.apply(c,h)}},createFixedThresholdCounter:(a,b,e,c)=>{var k=h.AccessorSupport.generateName;const f=
"function"===typeof a||a instanceof JS.Module,l={};c=c||k("counter",e);let d=k(c,"increment");k=k(c,"decrement");if(void 0!==(f?a.instanceMethod(d):a[d]))return console.warn("Can't clobber existing property during setup of increment function.",d,a),!1;if(void 0!==(f?a.instanceMethod(k):a[k]))return console.warn("Can't clobber existing property during setup of decrement function.",k,a),!1;l[d]=function(){const a=this[c]+1;this[c]=a;this.fireEvent(c,a);a===b&&this.set(e,!0)};l[k]=function(){const a=
this[c];if(0!==a){var k=a-1;this[c]=k;this.fireEvent(c,k);a===b&&this.set(e,!1)}};a[f?"include":"extend"](l);return!0},makeURLSearchParams:(a={})=>{const b=new URLSearchParams;for(const e in a){const c=a[e];void 0!==c&&b.set(e,c)}return b},doFetch:(a,b,e,c,h,f)=>fetch(a,b).then(b=>{if(!b.ok)throw new d(b.status,a,b.statusText);return b}).then(a=>e?a.text():a.json()).then(b=>{if(c)try{if(e)c(b);else{if(!1===b.success)throw new d(200,a,b.message);c(b.data)}}catch(v){throw b=new d(200,a,v.message),b.stack=
v.stack,b;}}).catch(b=>{if(h){if("FetchError"!==b.name){const e=new d(0,a,b.message);e.stack=b.stack;b=e}h(b)}}).finally(a=>{f&&f()})};a.onloadingdone=a=>{a.fontfaces.forEach(a=>{e(a)})}})(global);
(c=>{const d=/\+/g,g=a=>a,f=a=>decodeURIComponent(a.replace(d," ")),b=(a,b)=>{0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return b?JSON.parse(a):a}catch(k){}},a=c.Cookie={defaults:{raw:!1,json:!1},read:(e,c)=>{c=Object.assign({},a.defaults,c);const k=c.raw?g:f;c=c.json;const h=document.cookie.split("; "),d=h.length;let l=e?void 0:{},p=0;for(;p<d;){var r=h[p++].split("=");const a=k(r.shift());r=k(r.join("="));if(e&&e===a){l=b(r,c);break}e||(l[a]=b(r,c))}return l},
write:(b,c,k)=>{k=Object.assign({},a.defaults,k);if("number"===typeof k.expires){const a=k.expires,b=k.expires=new Date;b.setDate(b.getDate()+a)}c=k.json?JSON.stringify(c):String(c);return document.cookie=[k.raw?b:encodeURIComponent(b),"=",k.raw?c:encodeURIComponent(c),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join("")},remove:(b,c)=>void 0!==a.read(b,c)?(a.write(b,"",Object.assign({},c,{expires:-1})),!0):
!1}})(myt);
(c=>{const d=global.localStorage,g=(b,a,e)=>{if(0<a){const c="__timerId_"+e;(e=f[c])&&clearTimeout(e);f[c]=setTimeout(()=>{b();delete f[c]},a)}else b()},f=c.LocalStorage={hasDatum:(b,a)=>{if(b&&(a=f.getItem(a||"myt")))try{return null!=JSON.parse(a)[b]}catch(e){console.error(e)}return!1},getDatum:(b,a)=>{if(b&&(a=f.getItem(a||"myt")))try{const e=JSON.parse(a);if("object"===typeof e)return e[b]}catch(e){console.error(e)}},setDatum:(b,a,e,c)=>{e=e||"myt";g(()=>{const c=f.getData(e);c[b]=a;f.setItem(e,
JSON.stringify(c))},c,e+"___"+b)},removeDatum:(b,a,e)=>{a=a||"myt";g(()=>{const e=f.getData(a);delete e[b];f.setItem(a,JSON.stringify(e))},e,a+"___"+b)},hasData:b=>null!=f.getItem(b||"myt"),getData:b=>{if(b=f.getItem(b||"myt"))try{return JSON.parse(b)}catch(a){console.error(a)}return{}},setData:(b,a,e)=>{a=a||"myt";null==b&&(b={});return"object"===typeof b?(g(()=>{f.setItem(a,JSON.stringify(b))},e,a),!0):!1},removeData:(b,a)=>{b=b||"myt";g(()=>{f.removeItem(b)},a,b)},getLength:()=>d.length,getKey:b=>
d.key(b),getItem:b=>d.getItem(b),setItem:(b,a)=>{d.setItem(b,a)},removeItem:b=>{d.removeItem(b)},clear:()=>{d.clear()},get:b=>f.getItem(b),set:(b,a)=>{f.setItem(b,a)},remove:b=>{f.removeItem(b)},clearAll:()=>{f.clear()}}})(myt);
(c=>{const d=/(?:^|&)([^&=]*)=?([^&]*)/g,g=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;c.URI=new JS.Class("URI",{initialize:function(b,a){b&&this.parse(b,a)},setSource:function(b){this.source=b},setProtocol:function(b){this.protocol=
b},setAuthority:function(b){this.authority=b},setUserInfo:function(b){this.userInfo=b},setUser:function(b){this.user=b},setPassword:function(b){this.password=b},setHost:function(b){this.host=b},setPort:function(b){this.port=b},setRelative:function(b){this.relative=b},setPath:function(b){this.path=b},setDirectory:function(b){this.directory=b},setFile:function(b){this.file=b},setQuery:function(b){this.query=b},setAnchor:function(b){this.anchor=b},parse:function(b,a){const e=this;b=(a?f:g).exec(b);e.setSource(b[0]||
"");e.setProtocol(b[1]||"");e.setAuthority(b[2]||"");e.setUserInfo(b[3]||"");e.setUser(b[4]||"");e.setPassword(b[5]||"");e.setHost(b[6]||"");e.setPort(b[7]||"");e.setRelative(b[8]||"");e.setPath(b[9]||"");e.setDirectory(b[10]||"");e.setFile(b[11]||"");e.setQuery(b[12]||"");e.setAnchor(b[13]||"");e.queryPairs={};e.query.replace(d,(a,b,c)=>{b&&(e.queryPairs[b]=c)})},decodeQueryParam:b=>decodeURIComponent(b).replace("+"," "),getQuery:function(){var b=this.queryPairs;const a=[];for(const e in b)a.push(e+
"="+encodeURIComponent(this.getQueryParam(e)));b=a.join("&");return 0<b.length?"?"+b:b},getQueryParam:function(b){b=this.queryPairs[b];return null==b?void 0:this.decodeQueryParam(b)},getPathParts:function(b){const a=this.path.split("/");if(!b)for(b=a.length;b;)0===a[--b].length&&a.splice(b,1);return a},toString:function(b){const a=this.protocol,e=this.host,c=this.userInfo,k=this.port,f=this.path;b=b?this.query?"?"+this.query:"":this.getQuery();const d=this.anchor;let l="";a&&(l+=a+"://");c&&e&&(l+=
c+"@");e&&(l+=e,k&&(l+=":"+k));f?l+=f:e&&(b||d)&&(l+="/");b&&(l+=b);d&&(l+="#"+d);return l}})})(myt);
(c=>{const d=c.Geometry={getClosestPointOnALineToAPoint:(c,f,b,a,e,h)=>{b-=c;a-=f;e=(b*(e-c)+a*(h-f))/(b*b+a*a);return{x:c+b*e,y:f+a*e}},getClosestPointOnASegmentToAPoint:(c,f,b,a,e,h)=>{const k=b-c,d=a-f;e=(k*(e-c)+d*(h-f))/(k*k+d*d);return 0>e?{x:c,y:f}:1<e?{x:b,y:a}:{x:c+k*e,y:f+d*e}},isPointInPath:(c,f,b,a)=>{"object"===typeof c&&(a=b,b=f,f=c.y,c=c.x);if(d.rectContainsPoint(c,f,b)&&(b=a.length,6<=b)){let e=!1,h=a[0],k=a[1],d,g;for(;b;)g=a[--b],d=a[--b],g>f!==k>f&&c<(h-d)*(f-g)/(k-g)+d&&(e=!e),
h=d,k=g;return e}return!1},rectContainsPoint:(c,f,b,a,e,h)=>{"object"===typeof c&&(h=e,e=a,a=b,b=f,f=c.y,c=c.x);"object"===typeof b&&(h=b.height,e=b.width,a=b.y,b=b.x);return c>=b&&f>=a&&c<=b+e&&f<=a+h},circleContainsPoint:(c,f,b,a,e)=>d.measureDistance(c,f,b,a,!0)<=e*e,measureDistance:(c,f,b,a,e)=>{c=b-c;f=a-f;f=c*c+f*f;return e?f:Math.sqrt(f)},degreesToRadians:c=>c*Math.PI/180,radiansToDegrees:c=>180*c/Math.PI,circleContainsLatLng:(c,f,b,a,e,h)=>d.measureLatLngDistance(c,f,b,a,h)<=e,measureLatLngDistance:(c,
f,b,a,e)=>{void 0===e&&(e=6371);c=d.degreesToRadians(c);f=d.degreesToRadians(f);b=d.degreesToRadians(b);a=d.degreesToRadians(a);return e*Math.acos(Math.sin(c)*Math.sin(b)+Math.cos(c)*Math.cos(b)*Math.cos(a-f))},polarToCartesian:(c,f,b,a)=>{null==b&&(b=0);null==a&&(a=0);f%=360;let e;0===f?(f=c,c=0):90===f?f=0:180===f?(f=-c,c=0):270===f?(f=0,c=-c):(e=d.degreesToRadians(f),f=c*Math.cos(e),c*=Math.sin(e));return[b+f,a+c]},cartesianToPolar:(c,f,b,a,e)=>{null==b&&(b=0);null==a&&(a=0);c-=b;a=f-a;f=Math.sqrt(c*
c+a*a);a=Math.atan2(a,c);0>a&&(a+=2*Math.PI);return[f,e?a:d.radiansToDegrees(a)]}}})(myt);
(c=>{const d=JS.Module;c.Observable=new d("Observable",{attachObserver:function(c,f,b){return c&&f&&b?(this.getObservers(b).push(f,c),!0):!1},detachObserver:function(c,f,b){if(c&&f&&b){var a=this.__obsbt;if(a&&(b=a[b])){a=!1;let e=b.length;for(;e;)--e,c===b[e--]&&f===b[e]&&(b.splice(e,2),a=!0);return a}}return!1},detachAllObservers:function(){const c=this.__obsbt;if(c)for(const f in c){const b=c[f];let a=b.length;for(;a;){const c=b[--a],h=b[--a];c&&h&&("function"===typeof c.detachFrom&&c.detachFrom(this,
h,f)||b.splice(a,2))}}},getObservers:function(c){const f=this.__obsbt||(this.__obsbt={});return f[c]||(f[c]=[])},hasObservers:function(c){const f=this.__obsbt;return f?(c=f[c])&&0<c.length:!1},createEvent:function(c,f){return{source:this,type:c,value:f}},isFiringEvent:function(c){return(this.__aet||(this.__aet={}))[c]},fireEvent:function(d,f,b){if(b=b||(this.hasObservers(d)?this.__obsbt[d]:null)){f={source:this,type:d,value:f};const a=this.__aet||(this.__aet={});if(!0===a[d])c.global.error.notifyWarn("eventLoop",
"Attempt to refire active event: "+d);else{a[d]=!0;let e=b.length;for(;e;){const a=b[--e],k=b[--e];if(a&&k)try{if("function"===typeof k){if(k.call(a,f))break}else if(a[k](f))break}catch(m){c.dumpStack(m)}}a[d]=!1}}}});c.Observer=new d("Observer",{syncTo:function(d,f,b,a,e){void 0===a&&(a=b);try{this[f](d.createEvent(b,d.get(a)))}catch(h){c.dumpStack(h)}e||this.attachTo(d,f,b,e)},isAttachedTo:function(c,f,b){if(c&&f&&b){var a=this.__obt;if(a&&(b=a[b]))for(a=b.length;a;)if(--a,c===b[a--]&&f===b[a])return!0}return!1},
getObservables:function(c){const f=this.__obt||(this.__obt={});return f[c]||(f[c]=[])},hasObservables:function(c){const f=this.__obt;return f?(c=f[c])&&0<c.length:!1},attachTo:function(c,f,b,a){if(c&&f&&b){const e=this.getObservables(b);if(a){const a=this,e=f;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);f="__DO_ONCE_"+this.__methodNameCounter++;this[f]=k=>{a.detachFrom(c,f,b);delete a[f];return a[e](k)}}if(c.attachObserver(this,f,b))return e.push(f,c),!0}return!1},detachFrom:function(c,
f,b){if(c&&f&&b){var a=this.__obt;if(a&&(a=a[b])){let e=!1,h=a.length;for(;h;)--h,c===a[h--]&&f===a[h]&&c.detachObserver(this,f,b)&&(a.splice(h,2),e=!0);return e}}return!1},detachFromAllObservables:function(){const c=this.__obt;if(c)for(const f in c){const b=c[f];let a=b.length;for(;a;)b[--a].detachObserver(this,b[--a],f);b.length=0}},constrain:function(d,f){if(d&&f){const a=f.length;if(0!==a%2)console.log("Observables not even.",this);else{var b=this.__cbmn||(this.__cbmn={});b=b[d]||(b[d]=[]);if(0<
b.length)console.log("Constraint already exists for "+d+" on "+this);else{for(let c=0;a!==c;){const a=f[c++],e=f[c++];a&&e&&(this.attachTo(a,d,e),b.push(a,e))}try{this[d]()}catch(e){c.dumpStack(e)}}}}},releaseConstraint:function(c){if(c){var f=this.__cbmn;if(f&&(f=f[c])){let b=f.length;for(;b;){const a=f[--b],e=f[--b];this.detachFrom(e,c,a)}f.length=0}}},releaseAllConstraints:function(){const c=this.__cbmn;if(c)for(const f in c)this.releaseConstraint(f)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(c,d){this.hasOwnProperty(c)&&(console.log("Warning: myt.global key in use: ",c),this.unregister(c));this[c]=d;this.fireEvent("register"+c,d)},unregister:function(c){if(this.hasOwnProperty(c)){const d=this[c];delete this[c];this.fireEvent("unregister"+c,d)}else console.log("Warning: myt.global key not in use: ",c)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(c){this.consoleLogging=c},setStackTraceLimit:function(c){Error.stackTraceLimit=this.stackTraceLimit=c},notifyError:function(c,d,g){this.notify("error",c,d,g)},notifyWarn:function(c,d,g){this.notify("warn",c,d,g)},notifyMsg:function(c,d,g){this.notify("log",c,d,g)},notifyDebug:function(c,d,g){this.notify("debug",
c,d,g)},notify:function(c,d,g,f){f||(f=Error(g||d));f=f.stack||f.stacktrace;this.fireEvent(d||"error",{msg:g,stacktrace:f});if(this.consoleLogging&&c)console[c](f)}});
(c=>{const d=global,g=c.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createDomElement:(c,b,a)=>{c=document.createElement(c);let e;if(a)for(e in a)c[e]=a[e];if(b)for(e in b)c.style[e]=b[e];return c},isDomElementVisible:c=>{if("INPUT"===c.nodeName&&"hidden"===c.type)return!1;for(;c;){if(c===document)return!0;const b=d.getComputedStyle(c);if("none"===b.display||"hidden"===b.visibility)break;c=c.parentNode}return!1},getZIndexRelativeToAncestor:(c,b)=>{if(c&&b)for(c=g.getAncestorArray(c,b),
b=c.length-1;b;){const a=d.getComputedStyle(c[--b]),e=a.zIndex,h="auto"===e;if(0===b||!h||1!==parseInt(a.opacity,10))return h?0:parseInt(e,10)}return 0},getAncestorArray:(c,b)=>{const a=[];for(;c;){a.push(c);if(c===b)break;c=c.parentNode}return a},getHighestZIndex:c=>{var b=d.getComputedStyle(c);let a=b.zIndex;var e="auto"===a;if(e&&1===parseInt(b.opacity,10))for(a=0,c=c.childNodes,b=c.length;b;)e=c[--b],1===e.nodeType&&(a=Math.max(a,g.getHighestZIndex(e)));else a=e?0:parseInt(a,10);return a},getPagePosition:(c,
b)=>{if(!c)return null;const a="Firefox"===BrowserDetect.browser?2:1;let e=0,h=0;for(;c&&"BODY"!==c.nodeName&&c!==b;)if(e+=c.offsetLeft,h+=c.offsetTop,(c=c.offsetParent)&&"BODY"!==c.nodeName){const b=d.getComputedStyle(c);e+=a*parseInt(b.borderLeftWidth,10)-c.scrollLeft;h+=a*parseInt(b.borderTopWidth,10)-c.scrollTop}return{x:e,y:h}},getTruePagePosition:c=>{if(!c)return null;c=$(c).offset();return{x:c.left,y:c.top}},simulateDomEvent:(c,b,a)=>{if(c){const e={pointerX:0,pointerY:0,button:0,ctrlKey:!1,
altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},h={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(a)for(let b in a)e[b]=a[b];let k;for(let a in h)if(h[a].test(b)){k=a;break}if(!k)throw new SyntaxError("Only HTMLEvent and MouseEvent interfaces supported");if(document.createEvent)a=document.createEvent(k),"HTMLEvents"===k?a.initEvent(b,e.bubbles,e.cancelable):a.initMouseEvent(b,
e.bubbles,e.cancelable,document.defaultView,e.button,e.pointerX,e.pointerY,e.pointerX,e.pointerY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),c.dispatchEvent(a);else{e.clientX=e.pointerX;e.clientY=e.pointerY;a=document.createEventObject();for(let b in e)a[b]=e[b];c.fireEvent("on"+b,a)}}}},getInnerDomElement:function(){return this.domElement},getOuterDomElement:function(){return this.__oE},getInnerDomStyle:function(){return this.deStyle},getOuterDomStyle:function(){return this.__oS},setDomElement:function(c){let b;
Array.isArray(c)?(b=c[0],c=c[1]):b=c;this.domElement=c;this.__oE=b;this.deStyle=c.style;this.__oS=b.style;c.model=b.model=this},removeDomElement:function(){const c=this.getOuterDomElement();c.parentNode.removeChild(c)},disposeOfDomElement:function(){delete this.domElement.model;delete this.deStyle;delete this.domElement;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(c){this.domElement.className=this.domClass=c},addDomClass:function(c){const b=this.domElement.className;
this.setDomClass((b?b+" ":"")+c)},removeDomClass:function(c){var b=this.domElement.className;if(b){b=b.split(" ");let a=b.length;for(;a;)b[--a]===c&&b.splice(a,1);this.setDomClass(b.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(c){this.domElement.id=this.domId=c},setZIndex:function(c){this.deStyle.zIndex=c},setStyleProperty:function(c,b){this.deStyle[c]=b},getPagePosition:function(){return g.getPagePosition(this.domElement)},getTruePagePosition:function(){return g.getTruePagePosition(this.domElement)},
simulateClick:function(){g.simulateDomEvent(this.domElement,"click")},getHighestZIndex:function(){return g.getHighestZIndex(this.domElement)},getHighestChildZIndex:function(c){const b=this.domElement.childNodes;let a=b.length,e=0;for(;a;){const h=b[--a];1===h.nodeType&&h!==c&&(e=Math.max(e,g.getHighestZIndex(h)))}return e},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.domElement)+1)},scrollYTo:function(c,b){(b?this.getInnerDomElement():this.getOuterDomElement()).scrollTop=
c||0}})})(myt);
(c=>{let d;const g=b=>{for(;b.lastChild;)b=b.lastChild;return b},f=(b,a)=>{d.lastTraversalWasForward=b;let e=document.body,h=e;var k=document.activeElement;let f=h,n;const l=b?"getNextFocus":"getPrevFocus";k&&(f=h=k,(k=h.model)||(k=d.findModelForDomElement(h)),k&&(a=k.getFocusTrap(a)))&&(e=a.domElement);for(;f;){if(f.model&&f.model[l]&&(n=f.model[l]()))f=n.domElement;else if(b)if(f.firstChild)f=f.firstChild;else{if(f===e)return h.model;if(f.nextSibling)f=f.nextSibling;else for(;f&&(f=f.parentNode,
f!==e);)if(f.nextSibling){f=f.nextSibling;break}}else f=f===e?g(e):f.previousSibling?g(f.previousSibling):f.parentNode;if(f===h)return h.model;if(1===f.nodeType)if((k=f.model)&&k instanceof c.View){if(k.isFocusable())return k}else if(a=f.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||f.disabled||isNaN(f.tabIndex)||!c.DomElementProxy.isDomElementVisible(f)||(k=d.findModelForDomElement(f),k&&k.searchAncestorsOrSelf(a=>!0===a.maskFocus)))){f.focus();d.focusedDom=
f;break}}return null};new JS.Singleton("GlobalFocus",{include:[c.Observable],initialize:function(){this.lastTraversalWasForward=!0;c.global.register("focus",d=this)},setFocusedView:b=>{if(d.focusedView!==b){d.prevFocusedView=d.focusedView;if(d.focusedView=b)d.focusedDom=null;d.fireEvent("focused",b)}},notifyFocus:b=>{d.focusedView!==b&&d.setFocusedView(b)},notifyBlur:b=>{d.focusedView===b&&d.setFocusedView(null)},clear:()=>{d.focusedView?d.focusedView.blur():d.focusedDom&&(d.focusedDom.blur(),d.focusedDom=
null)},next:b=>{(b=f(!0,b))&&b.focus()},prev:b=>{(b=f(!1,b))&&b.focus()},findModelForDomElement:b=>{for(;b;){let a=b.model;if(a&&a instanceof c.View)return a;b=b.parentNode}return null}})})(myt);
(c=>{const d=JS.Module,g=c.global.focus,f=()=>({source:null,type:null,value:null});c.DomObservable=new d("DomObservable",{attachDomObserver:function(b,a,e,h,k){if(b&&a&&e){h=!!h;const f=this.createDomMethodRef(b,a,e);if(f){const d=this.__dobsbt||(this.__dobsbt={}),l=d[e];l?l.push(b,a,f,h):d[e]=[b,a,f,h];c.addEventListener(this.getInnerDomElement(),e,f,h,k);return!0}}return!1},createDomMethodRef:(b,a,c)=>null,createStandardDomMethodRef:function(b,a,c,h,k){if(h.EVENT_TYPES[c]){const c=this,e=h.EVENT;
return h=>{h||(h=window.event);e.source=c;e.type=h.type;e.value=h;b[a](e)||(h.cancelBubble=!0,h.stopPropagation&&h.stopPropagation(),k&&h.preventDefault());e.source=void 0}}},detachDomObserver:function(b,a,e,h){if(b&&a&&e){h=!!h;var k=this.__dobsbt;if(k&&(k=k[e])){const f=this.getInnerDomElement();let d=!1,l=k.length;for(;l;)l-=4,b===k[l]&&a===k[l+1]&&h===k[l+3]&&(f&&c.removeEventListener(f,e,k[l+2],h),k.splice(l,4),d=!0);return d}}return!1},detachAllDomObservers:function(){const b=this.getInnerDomElement();
if(b){const a=this.__dobsbt;if(a)for(const e in a){const h=a[e];let k=h.length;for(;k;){const a=h[--k],f=h[--k];k-=2;c.removeEventListener(b,e,f,a)}h.length=0}}}});c.DomObserver=new d("DomObserver",{attachToDom:function(b,a,c,h,k){if(b&&a&&c){h=!!h;var e=this.__dobt||(this.__dobt={});e=e[c]||(e[c]=[]);b.attachDomObserver(this,a,c,h,k)&&e.push(h,a,b)}},detachFromDom:function(b,a,c,h){if(b&&a&&c){h=!!h;var e=this.__dobt;if(e&&(e=e[c])){let k=!1,f=e.length;for(;f;)f-=3,b===e[f+2]&&a===e[f+1]&&h===e[f]&&
b.detachDomObserver(this,a,c,h)&&(e.splice(f,3),k=!0);return k}}return!1},detachFromAllDomSources:function(){const b=this.__dobt;if(b)for(const a in b){const c=b[a];let h=c.length;for(;h;)c[--h].detachDomObserver(this,c[--h],a,c[--h]);c.length=0}}});c.KeyObservable=new d("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:f(),getKeyCodeFromEvent:b=>b.value.keyCode||b.value.charCode},createDomMethodRef:function(b,a,e){return this.createStandardDomMethodRef(b,a,e,c.KeyObservable)||
this.callSuper(b,a,e)}});c.MouseObservable=new d("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:f(),getMouseFromEvent:b=>({x:b.value.pageX,y:b.value.pageY}),getMouseFromEventRelativeToView:function(b,a){a=a.getPagePosition();b=this.getMouseFromEvent(b);b.x-=a.x;b.y-=a.y;return b}},createDomMethodRef:function(b,a,e){return this.createStandardDomMethodRef(b,a,e,c.MouseObservable,!0)||this.callSuper(b,
a,e)}});c.ScrollObservable=new d("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:f(),getScrollFromEvent:b=>{b=b.value.target||b.value.srcElement;return{x:b.scrollLeft,y:b.scrollTop}}},createDomMethodRef:function(b,a,e){return this.createStandardDomMethodRef(b,a,e,c.ScrollObservable)||this.callSuper(b,a,e)}});c.TouchObservable=new d("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:f()},createDomMethodRef:function(b,a,e){return this.createStandardDomMethodRef(b,
a,e,c.TouchObservable,!1)||this.callSuper(b,a,e)}});c.FocusObservable=new d("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:f()},initNode:function(b,a){this.focusable=!1;this.focusEmbellishment=!0;this.callSuper(b,a)},destroyBeforeOrphaning:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(b){this.focused!==b&&(this.focused=b,this.inited&&(this.fireEvent("focused",b),b?g.notifyFocus(this):g.notifyBlur(this)))},setFocusable:function(b){if(this.focusable!==b){const a=
this.focusable;(this.focusable=b)?(this.getInnerDomElement().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):a&&(this.getInnerDomElement().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",b)}},setFocusEmbellishment:function(b){this.focusEmbellishment!==b&&(this.focusEmbellishment=b,this.focused&&(b?this.showFocusEmbellishment():this.hideFocusEmbellishment()))},
giveAwayFocus:function(){this.focused&&(g.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null===this.searchAncestorsOrSelf(b=>!0===b.maskFocus)},focus:function(b){this.isFocusable()&&this.getInnerDomElement().focus({preventScroll:b})},blur:function(){this.getInnerDomElement().blur()},__doFocus:function(b){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(b){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusEmbellishment?
this.showFocusEmbellishment():this.hideFocusEmbellishment()},doBlur:function(){this.focusEmbellishment&&this.hideFocusEmbellishment()},showFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!1;const b=this.getInnerDomStyle();b.outlineWidth="thin";b.outlineColor="#88bbff";b.outlineStyle="solid";b.outlineOffset="0px"},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideDefaultFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!0;this.getInnerDomStyle().outlineStyle=
"none"},createDomMethodRef:function(b,a,e){if(c.FocusObservable.EVENT_TYPES[e]){const e=this;return k=>{k||(k=window.event);if(e._ignoreFocus)k.cancelBubble=!0,k.stopPropagation&&k.stopPropagation(),k.preventDefault();else{var h=c.FocusObservable.EVENT;h.source=e;h.type=k.type;h.value=k;b[a](h)||(k.cancelBubble=!0,k.stopPropagation&&k.stopPropagation());h.source=void 0}}}return this.callSuper(b,a,e)}});c.InputObservable=new d("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:f()},
createDomMethodRef:function(b,a,e){return this.createStandardDomMethodRef(b,a,e,c.InputObservable)||this.callSuper(b,a,e)}});c.DragDropObservable=new d("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:f()},createDomMethodRef:function(b,a,e){return this.createStandardDomMethodRef(b,a,e,c.DragDropObservable,!0)||this.callSuper(b,a,e)}})})(myt);
(c=>{let d,g={};const f=c.global,b=f.focus,a="Firefox"===BrowserDetect.browser,e=a?224:91,h=a?224:93,k=()=>!!g[e]||!!g[h],m=(a,b)=>{switch(a){case 8:a=b.nodeName;if("TEXTAREA"===a||"INPUT"===a&&("text"===b.type||"password"===b.type)||"DIV"===a&&"true"===b.contentEditable&&b.firstChild)break;return!0;case 9:return!0}return!1};new JS.Singleton("GlobalKeys",{include:[c.DomElementProxy,c.DomObservable,c.DomObserver,c.KeyObservable,c.Observable,c.Observer],initialize:function(){f.register("keys",d=this);
d.KEYCODE_TAB=9;d.KEYCODE_SHIFT=16;d.KEYCODE_CONTROL=17;d.KEYCODE_ALT=18;d.KEYCODE_Z=90;d.KEYCODE_COMMAND=e;d.KEYCODE_RIGHT_COMMAND=h;d.setDomElement(document);d.attachTo(b,"__handleFocused","focused");d.__listenToDocument();global.onblur=()=>{g={}}},isKeyDown:a=>!!g[a],isShiftKeyDown:()=>!!g[16],isControlKeyDown:()=>!!g[17],isAltKeyDown:()=>!!g[18],isCommandKeyDown:k,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?k():!!g[17],ignoreFocusTrap:()=>!!g[18],__handleFocused:a=>{if(a=a.value)d.detachFromDom(d,
"__handleKeyDown","keydown"),d.detachFromDom(d,"__handleKeyPress","keypress"),d.detachFromDom(d,"__handleKeyUp","keyup"),d.attachToDom(a,"__handleKeyDown","keydown"),d.attachToDom(a,"__handleKeyPress","keypress"),d.attachToDom(a,"__handleKeyUp","keyup");else{if(a=b.prevFocusedView)d.detachFromDom(a,"__handleKeyDown","keydown"),d.detachFromDom(a,"__handleKeyPress","keypress"),d.detachFromDom(a,"__handleKeyUp","keyup");d.__listenToDocument()}},__listenToDocument:()=>{d.attachToDom(d,"__handleKeyDown",
"keydown");d.attachToDom(d,"__handleKeyPress","keypress");d.attachToDom(d,"__handleKeyUp","keyup")},__handleKeyDown:a=>{const e=c.KeyObservable.getKeyCodeFromEvent(a);a=a.value;m(e,a.target)&&a.preventDefault();k()&&16!==e&&17!==e&&18!==e?(d.fireEvent("keydown",e),d.fireEvent("keyup",e)):(g[e]=!0,9===e&&(a=!!g[18],g[16]?b.prev(a):b.next(a)),d.fireEvent("keydown",e))},__handleKeyPress:a=>{d.fireEvent("keypress",c.KeyObservable.getKeyCodeFromEvent(a))},__handleKeyUp:a=>{const b=c.KeyObservable.getKeyCodeFromEvent(a);
a=a.value;m(b,a.target)&&a.preventDefault();g[b]=!1;d.fireEvent("keyup",b)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
myt.FlexBoxChildSupport=new JS.Module("FlexBoxChildSupport",{setParent:function(c){const d=this.isChildOfFlexBox();this.callSuper(c);this._isChildOfFlexBox=this.parent&&this.parent.isA(myt.FlexBoxSupport);this.inited&&d&&!this.isChildOfFlexBox()&&this._syncDomToModel()},_syncDomToModel:function(){const c=this.getOuterDomStyle();"auto"!==c.width&&(c.width=this.width+"px");"auto"!==c.height&&(c.height=this.height+"px");this.syncInnerToOuter()},setWidth:function(c,d){null==c||""===c?(this.getOuterDomStyle().width=
"",this.__syncModelToOuterBoundsWidth()):this.callSuper(c,d);this.__syncInnerWidthToOuterWidth()},setHeight:function(c,d){null==c||""===c?(this.getOuterDomStyle().height="",this.__syncModelToOuterBoundsHeight()):this.callSuper(c,d);this.__syncInnerHeightToOuterHeight()},setFlexGrow:function(c){this.flexGrow!==c&&(this.getOuterDomStyle().flexGrow=this.flexGrow=c,this.inited&&(this.fireEvent("flexGrow",c),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setFlexShrink:function(c){this.flexShrink!==
c&&(this.getOuterDomStyle().flexShrink=this.flexShrink=c,this.inited&&(this.fireEvent("flexShrink",c),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setAlignSelf:function(c){if(this.alignSelf!==c){let d=this.alignSelf=c;switch(d){case "start":d="flex-start";break;case "end":d="flex-end"}this.getOuterDomStyle().alignSelf=d;this.inited&&this.fireEvent("alignSelf",c)}},isChildOfFlexBox:function(){return this._isChildOfFlexBox},syncModelToOuterBounds:function(){const c=this.getOuterDomElement();
this.__syncModelToOuterBoundsWidth(c);this.__syncModelToOuterBoundsHeight(c)},__syncModelToOuterBoundsWidth:function(c){const d=this.getInnerDomStyle();c||(c=this.getOuterDomElement());"auto"===d.width?this.getOuterDomStyle().width="auto":this.__setInnerWidth(c.clientWidth);this.fireEvent("width",this.width=c.clientWidth)},__syncModelToOuterBoundsHeight:function(c){const d=this.getInnerDomStyle();c||(c=this.getOuterDomElement());"auto"===d.height?this.getOuterDomStyle().height="auto":this.__setInnerHeight(c.clientHeight);
this.fireEvent("height",this.height=c.clientHeight)},syncInnerToOuter:function(){this.__syncInnerWidthToOuterWidth();this.__syncInnerHeightToOuterHeight()},__syncInnerWidthToOuterWidth:function(){"auto"!==this.getInnerDomStyle().width&&this.__setInnerWidth(this.getOuterDomElement().clientWidth)},__syncInnerHeightToOuterHeight:function(){"auto"!==this.getInnerDomStyle().height&&this.__setInnerHeight(this.getOuterDomElement().clientHeight)},__setInnerWidth:function(c){this.getInnerDomStyle().width=
c+"px"},__setInnerHeight:function(c){this.getInnerDomStyle().height=c+"px"},createOurDomElement:function(c){c=this.callSuper(c);const d=document.createElement("div");d.style.position="relative";c.appendChild(d);return[c,d]}});
(c=>{const d={},g={},f=(a,b)=>b+a.substring(0,1).toUpperCase()+a.substring(1),b=a=>g[a]||(g[a]=f(a,"set")),a=a=>d[a]||(d[a]=f(a,"get"));c.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:b,generateGetterName:a,generateName:f,createSetterFunction:(a,c)=>{const e=b(c);a[e]&&console.log("Overwriting setter",e);a[e]=b=>{a[c]!==b&&(a[c]=b,a.inited&&a.fireEvent(c,b))}},createGetterFunction:(b,c)=>{const e=a(c);b[e]&&console.log("Overwriting getter",e);b[e]=()=>b[c]}},appendToEarlyAttrs:function(){Array.prototype.push.apply(this.earlyAttrs||
(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){Array.prototype.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){Array.prototype.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){Array.prototype.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},quickSet:function(a,b){(a||[]).forEach(a=>{this[a]=b[a];delete b[a]})},callSetters:function(a){const b=this.earlyAttrs,c=this.lateAttrs;let e,f;let l;
if(b||c){var d={};for(e in a)d[e]=a[e];a=d;if(b)for(d=0,l=b.length;l>d;)e=b[d++],e in a&&(this.set(e,a[e]),delete a[e]);if(c)for(f=[],d=0,l=c.length;l>d;)e=c[d++],e in a&&(f.push(e,a[e]),delete a[e])}for(e in a)this.set(e,a[e]);if(f)for(d=0,l=f.length;l>d;)this.set(f[d++],f[d++])},get:function(b){const c=a(b);return this[c]?this[c]():this[b]},set:function(a,c,k){if(!k&&(k=b(a),this[k]))return this[k](c);this[a]!==c&&(this[a]=c,!1!==this.inited&&this.fireEvent&&this.fireEvent(a,c))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let c,d;const g=this.__meta__;if(g)for(c=Object.keys(g),d=c.length;d;)delete g[c[--d]];c=Object.keys(this);for(d=c.length;d;)delete this[c[--d]];this.destroyed=!0}}});
(c=>{const d=JS.Class,g=JS.Module,f=new d("AbstractPool",{include:[c.Destructible],initialize:()=>{},destroy:function(){const a=this.__op;a&&(a.length=0);this.callSuper()},getInstance:function(){const a=this.__op||(this.__op=[]);return a.length?a.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(a){(this.__op||(this.__op=[])).push(this.cleanInstance(a))},cleanInstance:a=>{"function"===typeof a.clean&&a.clean();return a},destroyPooledInstances:function(){var a=
this.__op;if(a){let b=a.length;for(;b;){const c=a[--b];"function"===typeof c.destroy&&c.destroy()}}}}),b=c.SimplePool=new d("SimplePool",f,{initialize:function(a,b){this.callSuper();this.instanceClass=a||Object;this.instanceParent=b},createInstance:function(a){var b=this.instanceParent,c=this.instanceClass;return b?new c(b,a):new c}}),a=new g("TrackActives",{destroy:function(){const a=this.__actives;a&&(a.length=0);this.callSuper()},getInstance:function(){const a=this.callSuper();(this.__actives||
(this.__actives=[])).push(a);return a},putInstance:function(a){var b=this.__actives;if(b){let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);this.callSuper(a);return}b="non-active"}else b="non-existant";console.warn("Attempt to put a "+b+" instance.",a,this)},getActives:function(a){const b=this.__actives;if(b){if(a){const c=[],e=b.length;for(let k=0;e>k;){const e=b[k++];a.call(this,e)&&c.push(e)}return c}return b.concat()}return[]},putActives:function(){const a=this.__actives;if(a){let b=a.length;
for(;b;)this.putInstance(a[--b])}}}),e=c.TrackActivesPool=new d("TrackActivesPool",b,{include:[a]});c.TrackActivesMultiPool=new d("TrackActivesMultiPool",f,{initialize:function(a,b){this.callSuper();this.instanceClassesByKey=a;const c=this._poolsByClassName={},k=this._poolsByKey={};for(let h in a){const f=a[h];k[h]=c[f.__displayName]=new e(f,b)}},destroy:function(){const a=this._poolsByKey;for(let b in a)a[b].destroy();this.callSuper()},getInstance:function(){const a=arguments[0],b=this._poolsByKey[a];
if(b)return b.getInstance(arguments);console.warn("No pool found for key:",a)},putInstance:function(a){const b=this._poolsByClassName[a.klass.__displayName];b?b.putInstance(a):console.warn("No pool found for obj:",a)},destroyPooledInstances:function(){const a=this._poolsByKey;for(let b in a)a[b].destroyPooledInstances()},getActives:function(a){let b=[];const c=this._poolsByKey;for(let e in c)b=b.concat(c[e].getActives(a));return b},putActives:function(){const a=this._poolsByKey;for(let b in a)a[b].putActives()}});
c.Reusable=new g("Reusable",{clean:()=>{}})})(myt);
(c=>{const d=(a,b)=>{if(b)for(;a;){if(b(a))return a;a=a.parent}return null},g=(a,b)=>{const c=b.name;void 0===a[c]?a[c]=b:console.log("Name in use:"+c)},f=(a,b)=>{const c=b.name;a[c]===b?delete a[c]:console.log("Name not in use:"+c)},b=a=>a.__animPool||(a.__animPool=new c.TrackActivesPool(c.Animator,a));c.Node=new JS.Class("Node",{include:[c.AccessorSupport,c.Destructible,c.Observable,c.Observer],extend:{getMatchingAncestorOrSelf:d,getMatchingAncestor:(a,b)=>d(a?a.parent:null,b)},initialize:function(a,
b,c){if(c){const a=c.length;for(let b=0,e;a>b;)(e=c[b++])?this.extend(e):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.initNode(a,b||{})},initNode:function(a,b){this.callSetters(b);this.doBeforeAdoption();this.setParent(a);this.doAfterAdoption();this.inited=!0},doBeforeAdoption:()=>{},doAfterAdoption:()=>{},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let b=a.length;for(;b;)a[--b].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());
this.destroyBeforeOrphaning();this.parent&&this.setParent(null);this.destroyAfterOrphaning();this.callSuper()},destroyBeforeOrphaning:()=>{},destroyAfterOrphaning:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers()},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var b=this.placement||a.defaultPlacement;
b&&(a=a.determinePlacement(b,this))}if(!(this.parent===a||a&&a.destroyed)){if(b=this.parent){let a=b.getSubnodeIndex(this);-1!==a&&(this.name&&f(b,this),b.subnodes.splice(a,1),b.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&g(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const b=this.parent;b&&this.name&&f(b,this);this.name=a;b&&a&&g(b,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},
determinePlacement:function(a,b){let c=a.indexOf("."),e;-1!==c&&(e=a.substring(c+1),a=a.substring(0,c));"*"===a&&(a=this.defaultPlacement)&&(c=a.indexOf("."),-1!==c&&(e=a.substring(c+1)+(e?"."+e:""),a=a.substring(0,c)));return(a=this[a])?e?a.determinePlacement(e,b):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.domElement&&a.domElement?a.domElement.contains(this.domElement):
this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;a=a.parent}return null},searchAncestorsForClass:function(a){return a?this.searchAncestors(b=>b instanceof a):null},searchAncestors:function(a){return d(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return d(this,a)},getAncestors:function(){const a=[];let b=this;for(;b;)a.push(b),b=b.parent;return a},hasSubnode:function(a){return-1!==
this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent!==this)return null;a.setParent(null);return a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,b,c,k,f){return this.animate(a,b,c,!1,null,k,!1,1,f)},animate:function(a,c,h,k,f,d,l,g,r){const e=b(this),n=e.getInstance({ignorePlacement:!0});"object"===typeof a?(f=a.callback,delete a.callback,n.callSetters(a)):(n.attribute=
a,n.setTo(c),n.setFrom(h),null!=d&&(n.duration=d),null!=k&&(n.relative=k),null!=g&&(n.repeat=g),null!=l&&n.setReverse(l),null!=r&&n.setEasingFunction(r));n.next(a=>{e.putInstance(n)});f&&n.next(f);n.setRunning(!0);return n},getActiveAnimators:function(a){if("string"===typeof a){const b=a;a=a=>a.attribute===b}return b(this).getActives(a)},stopActiveAnimators:function(a,c=!1){a=this.getActiveAnimators(a);let e=a.length;if(0<e){const k=b(this);for(;e;){const b=a[--e];b.reset(c);c||k.putInstance(b)}}},
doOnceOnIdle:function(a){this.attachTo(c.global.idle,a,"idle",!0)}})})(myt);
(c=>{let d=0,g=!1;const f=JS.Class,b=[],a=a=>{if(g!==a&&(g=a,!a)){a=b.length;let c;for(;a;)c=b[--a],c.__deferredLayout=!1,c.update();b.length=0}},e=(a,b,c,e)=>{const k=a.getSubviewIndex(b),h=a.subviews;0<=k&&(a=a.getSubviewIndex(c),h.splice(k,1),0<=a?(k<a&&--a,h.splice(a+(e?1:0),0,b)):e?h.push(b):h.unshift(b))},h=c.Layout=new f("Layout",c.Node,{extend:{incrementGlobalLock:()=>{1===++d&&a(!0)},decrementGlobalLock:()=>{0<d&&0===--d&&a(!1)}},initNode:function(a,b){this.subviews=[];this.locked=!0;this.lockedCounter=
1;const c=!0===b.locked;delete b.locked;this.callSuper(a,b);c||this.decrementLockedCounter();this.update()},destroyAfterOrphaning:function(){this.callSuper();this.subviews.length=0},setParent:function(a){if(this.parent!==a){const b=!this.locked;b&&(this.locked=!0);let c,e;if(this.parent){c=this.subviews;for(e=c.length;e;)this.removeSubview(c[--e]);this.detachFrom(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.detachFrom(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}this.callSuper(a);
if(this.parent){c=this.parent.getSubviews();e=0;for(a=c.length;a>e;)this.addSubview(c[e++]);this.attachTo(this.parent,"__handleParentSubviewAddedEvent","subviewAdded");this.attachTo(this.parent,"__handleParentSubviewRemovedEvent","subviewRemoved")}b&&(this.locked=!1,this.inited&&this.parent&&this.update())}},canUpdate:function(){return g?(this.__deferredLayout||(b.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},
addSubview:function(a){this.ignore(a)||(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:a=>{},startMonitoringAllSubviews:function(){const a=this.subviews;let b=a.length;for(;b;)this.startMonitoringSubview(a[--b])},removeSubview:function(a){if(this.ignore(a))return-1;const b=this.getSubviewIndex(a);-1!==b&&(this.stopMonitoringSubview(a),this.subviews.splice(b,1),this.locked||this.update());return b},stopMonitoringSubview:a=>{},stopMonitoringAllSubviews:function(){const a=
this.subviews;let b=a.length;for(;b;)this.stopMonitoringSubview(a[--b])},ignore:a=>a.ignoreLayout,__handleParentSubviewAddedEvent:function(a){a.value.parent===this.parent&&this.addSubview(a.value)},__handleParentSubviewRemovedEvent:function(a){a.value.parent===this.parent&&this.removeSubview(a.value)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,b){e(this,a,b,!1)},moveSubviewAfter:function(a,b){e(this,a,b,!0)}});c.createFixedThresholdCounter(h,1,"locked");c.ConstantLayout=
new f("ConstantLayout",h,{setTargetAttrName:function(a){this.targetAttrName!==a&&(this.targetAttrName=a,this.setterName=c.AccessorSupport.generateSetterName(a),this.inited&&(this.fireEvent("targetAttrName",a),this.update()))},setTargetValue:function(a){this.targetValue!==a&&(this.targetValue=a,this.inited&&(this.fireEvent("targetValue",a),this.update()))},update:function(){if(this.canUpdate()){const a=this.setterName,b=this.targetValue,c=this.subviews,e=c.length;if(a)for(let k=0;e>k;)c[k++][a](b)}}});
c.VariableLayout=new f("VariableLayout",c.ConstantLayout,{initNode:function(a,b){this.collapseParent=this.reverse=!1;this.callSuper(a,b)},setCollapseParent:function(a){this.collapseParent!==a&&(this.collapseParent=a,this.inited&&(this.fireEvent("collapseParent",a),this.update()))},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&(this.fireEvent("reverse",a),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();this.doBeforeUpdate();const b=this.setterName,
c=this.subviews;var a=c.length;let e=this.targetValue,k,h=0;if(this.reverse)for(k=a;k;)a=c[--k],this.skipSubview(a)||(e=this.updateSubview(++h,a,b,e));else for(k=0;a>k;){const a=c[k++];this.skipSubview(a)||(e=this.updateSubview(++h,a,b,e))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(b,e);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(a){this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){this.detachFrom(a,
"update","visible")},updateSubview:(a,b,c,e)=>{b[c](e);return e},skipSubview:a=>!a.visible,updateParent:(a,b)=>{}})})(myt);
(c=>{const d=c.DomElementProxy,g=(a,b)=>{const e=c.global.focus.focusedView,k=a.getInnerDomElement();if(e===a||e&&e.isDescendantOf(a))e._ignoreFocus=!0;a=k.scrollTop;const h=k.scrollLeft;b.call();e&&(e._ignoreFocus=!1,e.focus(!0));k.scrollTop=a;k.scrollLeft=h},f=(a,b,c,e)=>{if(b&&"object"===typeof b){if(e&&(e=a.getLeastCommonAncestor(b))){var k=e.getInnerDomElement();e=d.getZIndexRelativeToAncestor(a.getOuterDomElement(),k);k=d.getZIndexRelativeToAncestor(b.getOuterDomElement(),k);c&&(e*=-1,k*=-1);
if(e<k)return!0;if(k<e)return!1}a=a.getOuterDomElement().compareDocumentPosition(b.getOuterDomElement());return c?2===a||10===a:4===a||20===a}return!1},b=a=>{a=a.getAncestors();let b=a.length,c=1,e=1;for(;b;){const k=a[--b];c*=k.scaleX||1;e*=k.scaleY||1;k.__effectiveScaleX=c;k.__effectiveScaleY=e}return{scaleX:c,scaleY:e}},a=(b,e,k)=>{const h=b.getOuterDomElement();if(c.Geometry.rectContainsPoint(e,k,0,0,h.offsetWidth*b.__effectiveScaleX,h.offsetHeight*b.__effectiveScaleY)){if(b=b.parent){const c=
b.getOuterDomElement();return a(b,e+(h.offsetLeft-c.scrollLeft)*b.__effectiveScaleX,k+(h.offsetTop-c.scrollTop)*b.__effectiveScaleY)}return!0}return!1},e=a=>{switch(a.align){case "center":a.releaseConstraint("__doAlignCenter");break;case "right":a.releaseConstraint("__doAlignRight")}},h=a=>{const b=a.parent;if(b)switch(a.align){case "center":a.constrain("__doAlignCenter",[a,"width",a,"alignOffset",b,"width"]);break;case "right":a.constrain("__doAlignRight",[a,"width",a,"alignOffset",b,"width"]);break;
case "left":a.setX(a.alignOffset||0)}},k=a=>{switch(a.valign){case "middle":a.releaseConstraint("__doValignMiddle");break;case "bottom":a.releaseConstraint("__doValignBottom")}},m=a=>{const b=a.parent;if(b)switch(a.valign){case "middle":a.constrain("__doValignMiddle",[a,"height",a,"valignOffset",b,"height"]);break;case "bottom":a.constrain("__doValignBottom",[a,"height",a,"valignOffset",b,"height"]);break;case "top":a.setY(a.valignOffset||0)}},n=(a,b,c)=>{a.getOuterDomStyle()["border"+c+"Radius"]=
b+"px"};c.View=new JS.Class("View",c.Node,{include:[d,c.DomObservable,c.DomObserver,c.ScrollObservable,c.FocusObservable,c.KeyObservable,c.MouseObservable],extend:{retainFocusDuringDomUpdate:g},initNode:function(a,b){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=b.tagName;delete b.tagName;this.setDomElement(this.createOurDomElement(a));const c=this.getOuterDomStyle();c.left=c.top="0px";this.callSuper(a,b);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(a){a=
document.createElement(this.tagName||"div");a.style.position="absolute";const b=this.klass;a.className=b.__cssClassName||(b.__cssClassName="myt-"+b.__displayName.split(".").join("-"));return a},doAfterAdoption:function(){this.__updateBounds(this.width,this.height)},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(a){this.parent!==a&&(this.inited&&(e(this),k(this)),this.callSuper(a),this.align&&
h(this),this.valign&&m(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(a=>a!==this)},setFocusTrap:function(a){this.focusTrap=a},setFocusCage:function(a){this.focusCage=a},setMaskFocus:function(a){this.maskFocus=a},setLayoutHint:function(a){this.layoutHint=a},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(a){if(this.ignoreLayout!==a){var b=this.inited&&
this.parent;let c;if(a){if(b)for(b=this.parent.getLayouts(),c=b.length;c;)b[--c].removeSubview(this);this.ignoreLayout=a}else if(this.ignoreLayout=a,b)for(b=this.parent.getLayouts(),c=b.length;c;)b[--c].addSubview(this)}},setDomClass:function(a){this.domClass!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domClass",a))},setDomId:function(a){this.domId!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domId",a))},setAlignOffset:function(a){this.alignOffset!==a&&(this.alignOffset=a,this.inited&&
this.fireEvent("alignOffset",a),this.parent&&"left"===this.align&&this.setX(a))},setAlign:function(a){this.align!==a&&(this.inited&&e(this),this.align=a,this.inited&&(this.fireEvent("align",a),h(this)))},__doAlignCenter:function(a){this.setX(Math.round((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(a){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(a){this.valignOffset!==a&&(this.valignOffset=a,this.inited&&this.fireEvent("valignOffset",
a),this.parent&&"top"===this.valign&&this.setY(a))},setValign:function(a){this.valign!==a&&(this.inited&&k(this),this.valign=a,this.inited&&(this.fireEvent("valign",a),m(this)))},__doValignMiddle:function(a){this.setY(Math.round((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(a){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(a){this.x!==a&&(this.x=a,this.visible&&(this.getOuterDomStyle().left=a+"px"),this.inited&&this.fireEvent("x",
a))},setY:function(a){this.y!==a&&(this.y=a,this.visible&&(this.getOuterDomStyle().top=a+"px"),this.inited&&this.fireEvent("y",a))},setWidth:function(a,b){0>a&&(a=0);this.width!==a&&(this.width=a,this.getOuterDomStyle().width=a+"px",this.inited&&(this.__updateBounds(a,this.height),b||this.fireEvent("width",a)))},setHeight:function(a,b){0>a&&(a=0);this.height!==a&&(this.height=a,this.getOuterDomStyle().height=a+"px",this.inited&&(this.__updateBounds(this.width,a),b||this.fireEvent("height",a)))},setTextColor:function(a){this.textColor!==
a&&(this.textColor=a,this.getOuterDomStyle().color=a||"inherit",this.inited&&this.fireEvent("textColor",a))},setBgColor:function(a){this.bgColor!==a&&(this.getOuterDomStyle().backgroundColor=this.bgColor=a,this.inited&&this.fireEvent("bgColor",a))},isColorAttr:a=>"bgColor"===a||"textColor"===a,setOpacity:function(a){this.opacity!==a&&(this.getOuterDomStyle().opacity=this.opacity=a,this.inited&&this.fireEvent("opacity",a))},setOverflow:function(a){const b=this.overflow;if(b!==a){this.overflow=a;const c=
this.getInnerDomStyle();if("autox"===a)c.overflowX="auto",c.overflowY="hidden";else if("autoy"===a)c.overflowY="auto",c.overflowX="hidden";else{if("autox"===b||"autoy"===b)c.overflowX=c.overflowY=null;c.overflow=a||"visible"}this.inited&&this.fireEvent("overflow",a)}},setVisible:function(a){if(this.visible!==a){this.visible=a;const b=this.getOuterDomStyle();b.visibility=a?"inherit":"hidden";b.left=a?this.x+"px":"-100000px";b.top=a?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",a)}},
setPointerEvents:function(a){this.pointerEvents!==a&&(this.pointerEvents=a,this.getOuterDomStyle().pointerEvents=a||"auto",this.inited&&this.fireEvent("pointerEvents",a))},setCursor:function(a){this.cursor!==a&&(this.cursor=a,this.getOuterDomStyle().cursor=a||"auto",this.inited&&this.fireEvent("cursor",a))},__updateBounds:function(a,b){this.boundsWidth!==a&&this.fireEvent("boundsWidth",this.boundsWidth=a);this.boundsHeight!==b&&this.fireEvent("boundsHeight",this.boundsHeight=b)},setOutline:function(a){a=
a||[];this.setOutlineWidth(a[0]);this.setOutlineStyle(a[1]);this.setOutlineColor(a[2])},setOutlineWidth:function(a){this.outlineWidth=a||0;this.getOuterDomStyle().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(a){this.getOuterDomStyle().outlineStyle=this.outlineStyle=a||"none"},setOutlineColor:function(a){this.getOuterDomStyle().outlineColor=this.outlineColor=a||"#000000"},setBorder:function(a){a=a||[];this.setBorderWidth(a[0]);this.setBorderStyle(a[1]);this.setBorderColor(a[2])},setBorderWidth:function(a){this.borderWidth=
a||0;this.getOuterDomStyle().borderWidth=this.borderWidth+"px"},setBorderStyle:function(a){this.getOuterDomStyle().borderStyle=this.borderStyle=a||"none"},setBorderColor:function(a){this.getOuterDomStyle().borderColor=this.borderColor=a||"#000000"},setRoundedCorners:function(a){this.getOuterDomStyle().borderRadius=a+"px"},setRoundedTopLeftCorner:function(a){n(this,a,"TopLeft")},setRoundedTopRightCorner:function(a){n(this,a,"TopRight")},setRoundedBottomLeftCorner:function(a){n(this,a,"BottomLeft")},
setRoundedBottomRightCorner:function(a){n(this,a,"BottomRight")},setBoxShadow:function(a){a=a?(a[0]||0)+"px "+(a[1]||0)+"px "+(a[2]||7)+"px "+(a[3]||"#000000"):"none";this.getOuterDomStyle().boxShadow=a},setGradient:function(a){const b=this.getOuterDomStyle();if(a){let e=a[0];"linear"===e||"radial"===e?a.shift():e="linear";let k=a[0];if("radial"===e){void 0===k?k="closest-side":a.shift();var c=a[0];if(void 0===c)c="circle";else{switch(c){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape: "+
c),c="circle"}a.shift()}let b=a[0];void 0===b?b="center":(b=b.replaceAll("middle","center"),a.shift());k=c+" "+k+" at "+b}else"number"===typeof k?(k+="deg",a.shift()):k?(k="to "+k,a.shift()):k="0deg";c=b=>{a.push(b&&"inherit"!==b?b:"transparent")};2>a.length&&c(this.textColor);2>a.length&&c(this.bgColor);b.background=e+"-gradient("+k+","+a.join(",")+")"}else b.background="none";this.bgColor=void 0},setTooltip:function(a){this.tooltip!==a&&(this.tooltip=this.getOuterDomElement().title=a,this.inited&&
this.fireEvent("tooltip",a))},isVisible:function(){return null===this.searchAncestorsOrSelf(a=>!a.visible)},getFocusTrap:function(a){return this.searchAncestorsOrSelf(b=>b.focusCage||b.focusTrap&&!a)},subnodeAdded:function(a){a instanceof c.View?(this.getInnerDomElement().appendChild(a.getOuterDomElement()),this.getSubviews().push(a),this.fireEvent("subviewAdded",a),this.subviewAdded(a)):a instanceof c.Layout&&(this.getLayouts().push(a),this.fireEvent("layoutAdded",a),this.layoutAdded(a))},subnodeRemoved:function(a){let b;
a instanceof c.View?(b=this.getSubviewIndex(a),-1!==b&&(this.fireEvent("subviewRemoved",a),a.removeDomElement(),this.subviews.splice(b,1),this.subviewRemoved(a))):a instanceof c.Layout&&(b=this.getLayoutIndex(a),-1!==b&&(this.fireEvent("layoutRemoved",a),this.layouts.splice(b,1),this.layoutRemoved(a)))},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.getSubviews().indexOf(a)},subviewAdded:a=>{},subviewRemoved:a=>{},getNextSibling:function(){if(this.parent){const a=
this.getOuterDomElement().nextElementSibling;if(a)return a.model}return null},getPrevSibling:function(){if(this.parent){const a=this.getOuterDomElement().previousElementSibling;if(a)return a.model}return null},hasLayout:function(a){return-1!==this.getLayoutIndex(a)},getLayoutIndex:function(a){return this.getLayouts().indexOf(a)},layoutAdded:a=>{},layoutRemoved:a=>{},isBehind:function(a,b){return f(this,a,!1,b)},isInFrontOf:function(a,b){return f(this,a,!0,b)},bringToFront:function(){this.parent.bringSubviewToFront(this)},
sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(a){this.parent.sendSubviewBehind(this,a)},sendInFrontOf:function(a){this.parent.sendSubviewInFrontOf(this,a)},bringSubviewToFront:function(a){if(a&&a.parent===this){const b=this.getInnerDomElement();a.getOuterDomElement()!==b.lastChild&&g(a,()=>{b.appendChild(a.getOuterDomElement())})}},sendSubviewToBack:function(a){if(a&&a.parent===this){const b=this.getInnerDomElement();a.getOuterDomElement()!==b.firstChild&&g(a,()=>
{b.insertBefore(a.getOuterDomElement(),b.firstChild)})}},sendSubviewBehind:function(a,b){if(a&&b&&a.parent===this&&b.parent===this){const c=this.getInnerDomElement();g(a,()=>{c.insertBefore(a.getOuterDomElement(),b.getOuterDomElement())})}},sendSubviewInFrontOf:function(a,b){a&&b&&a.parent===this&&b.parent===this&&(this.sendSubviewBehind(a,b),this.sendSubviewBehind(b,a))},sortSubviews:function(a){const b=this,c=b.getSubviews().sort(a);g(b,()=>{const a=b.getOuterDomElement(),e=a.parentNode;let k;e&&
(k=a.nextSibling,e.removeChild(a));const h=document.createDocumentFragment(),f=c.length;for(let a=0;f>a;)h.appendChild(c[a++].getOuterDomElement());b.getInnerDomElement().appendChild(h);e&&e.insertBefore(a,k)})},containsPoint:function(a,b,e){const k=this.getOuterDomElement();if(!k)return!1;e=d.getPagePosition(k,e);return c.Geometry.rectContainsPoint(a,b,e.x,e.y,this.width,this.height)},isPointVisible:function(c,e){const k=this.getTruePagePosition();b(this);return a(this,c-k.x,e-k.y)},getEffectiveScale:function(){return b(this)},
getEffectiveScaleX:function(){return b(this).scaleX},getEffectiveScaleY:function(){return b(this).scaleY}})})(myt);
myt.FlexBoxSupport=new JS.Module("FlexBoxSupport",{initNode:function(c,d){this.callSuper(c,d);this.__syncSubviews()},setWidth:function(c,d){this.callSuper(c,d);this.inited&&this.__syncSubviews()},setHeight:function(c,d){this.callSuper(c,d);this.inited&&this.__syncSubviews()},setFlexDirection:function(c){if(this.flexDirection!==c){let d=this.flexDirection=c;switch(d){case "rowReverse":d="row-reverse";break;case "columnReverse":d="column-reverse"}this.getInnerDomStyle().flexDirection=d;this.inited&&
(this.fireEvent("flexDirection",c),this.__syncSubviews())}},setFlexWrap:function(c){if(this.flexWrap!==c){let d=this.flexWrap=c;switch(d){case "wrapReverse":case "reverse":d="wrap-reverse"}this.getInnerDomStyle().flexWrap=d;this.inited&&(this.fireEvent("flexWrap",c),this.__syncSubviews())}},setJustifyContent:function(c){if(this.justifyContent!==c){let d=this.justifyContent=c;switch(d){case "start":d="flex-start";break;case "end":d="flex-end";break;case "spaceBetween":case "between":d="space-between";
break;case "spaceAround":case "around":d="space-around";break;case "spaceEvenly":case "evenly":d="space-evenly"}this.getInnerDomStyle().justifyContent=d;this.inited&&(this.fireEvent("justifyContent",c),this.__syncSubviews())}},setAlignItems:function(c){if(this.alignItems!==c){let d=this.alignItems=c;switch(d){case "start":d="flex-start";break;case "end":d="flex-end"}this.getInnerDomStyle().alignItems=d;this.inited&&(this.fireEvent("alignItems",c),this.__syncSubviews())}},setAlignContent:function(c){if(this.alignContent!==
c){let d=this.alignContent=c;switch(d){case "start":d="flex-start";break;case "end":d="flex-end";break;case "spaceBetween":case "between":d="space-between";break;case "spaceAround":case "around":d="space-around"}this.getInnerDomStyle().alignContent=d;this.inited&&(this.fireEvent("alignContent",c),this.__syncSubviews())}},createOurDomElement:function(c){c=this.callSuper(c);(Array.isArray(c)?c[1]:c).style.display="flex";return c},subviewAdded:function(c){c&&!c.ignoreFlex&&(c.getOuterDomStyle().position=
"",this.inited&&this.__syncSubviews())},__syncSubviews:function(){this.getSubviews().forEach(c=>this.__syncSubview(c))},__syncSubview:function(c){c&&c.syncInnerToOuter&&!c.ignoreFlex&&(c.syncInnerToOuter(),c.syncModelToOuterBounds())},subviewRemoved:function(c){!c||c.destroyed||c.ignoreFlex||(c.getOuterDomStyle().position="absolute")}});myt.FlexBox=new JS.Class("FlexBox",myt.View,{include:[myt.FlexBoxSupport]});
(c=>{const d=(c,b,a)=>{const e=g(c,b);c.getOuterDomStyle().transform=e+(0===e.length?"":" ")+b+"("+a+")"},g=(c,b)=>{c=c.getOuterDomStyle();var a=c.transform;let e;if(!a||0===a.length)return"";a=a.split(" ");for(e=a.length;e;)if(0===a[--e].indexOf(b)){a.splice(e,1);break}return c.transform=a.join(" ")};c.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(c){this.transformOrigin!==c&&(this.transformOrigin=c,this.getOuterDomStyle().transformOrigin=c||"50% 50% 0",this.inited&&
(this.__updateBounds(this.width,this.height),this.fireEvent("transformOrigin",c)))},setRotation:function(c){this.rotation!==c&&(this.rotation=c,d(this,"rotate",(c||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",c)))},setScale:function(c){const b=this.scaleX!==c;if(b){var a=this.scaleX=c;null==a?g(this,"scaleX"):d(this,"scaleX",a||1)}if(a=this.scaleY!==c){var e=this.scaleY=c;null==e?g(this,"scaleY"):d(this,"scaleY",e||1)}this.inited&&((b||a)&&this.__updateBounds(this.width,
this.height),b&&this.fireEvent("scaleX",c),a&&this.fireEvent("scaleY",c))},setScaleX:function(c){if(this.scaleX!==c){var b=this.scaleX=c;null==b?g(this,"scaleX"):d(this,"scaleX",b||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",c))}},setScaleY:function(c){if(this.scaleY!==c){var b=this.scaleY=c;null==b?g(this,"scaleY"):d(this,"scaleY",b||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",c))}},setSkewX:function(c){this.skewX!==
c&&(this.skewX=c,d(this,"skewX",c||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",c)))},setSkewY:function(c){this.skewY!==c&&(this.skewY=c,d(this,"skewY",c||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",c)))},__updateBounds:function(c,b){const a=this.rotation,e=this.scaleX,h=this.scaleY;let k=!1;void 0!==e&&1!==e||void 0!==h&&1!==h||(k=!0);if(!k||void 0!==a&&0!==a&&180!==a)!k||90!==a&&270!==a?(b=this.getOuterDomElement().getBoundingClientRect(),
c=b.width,b=b.height):(c=this.height,b=this.width);this.callSuper(c,b)}})})(myt);
(c=>{const d=JS.Module,g=(a,b)=>{if("auto"===b)a.__hasSetWidth=!1,a.getOuterDomStyle().width="auto",a.sizeViewToDom();else return a.__hasSetWidth=!0},f=(a,b)=>{if("auto"===b)a.__hasSetHeight=!1,a.getOuterDomStyle().height="auto",a.sizeViewToDom();else return a.__hasSetHeight=!0},b=a=>{if(!a.__hasSetWidth){const b=a.getOuterDomElement().offsetWidth/a.getEffectiveScaleX();a.width!==b&&(a.width=b,a.inited&&a.__updateBounds(b,a.height),a.fireEvent("width",b))}},a=a=>{if(!a.__hasSetHeight){const b=a.getOuterDomElement().offsetHeight/
a.getEffectiveScaleY();a.height!==b&&(a.height=b,a.inited&&a.__updateBounds(a.width,b),a.fireEvent("height",b))}};c.SizeToDom=new d("SizeToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){g(this,a)&&this.callSuper(a,b)},setHeight:function(a,b){f(this,a)&&this.callSuper(a,b)},sizeViewToDom:function(){b(this);a(this)}});c.SizeWidthToDom=new d("SizeWidthToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){g(this,
a)&&this.callSuper(a,b)},sizeViewToDom:function(){b(this)}});c.SizeHeightToDom=new d("SizeHeightToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setHeight:function(a,b){f(this,a)&&this.callSuper(a,b)},sizeViewToDom:function(){a(this)}})})(myt);
myt.TextSupport=new JS.Module("TextSupport",{setWidth:function(c,d){this.callSuper(c,d);"auto"!==c&&(c=this.whiteSpace,"normal"!==c&&"pre-line"!==c&&"pre-wrap"!==c||this.sizeViewToDom())},setText:function(c){c||(c="");"object"===typeof c&&(c=c.value);this.text!==c&&(this.getInnerDomElement().innerHTML=this.text=c,this.inited&&(this.fireEvent("text",c),this.sizeViewToDom()))},setTextOverflow:function(c){this.textOverflow!==c&&(this.textOverflow=c,this.getInnerDomStyle().textOverflow=c||"inherit",this.inited&&
this.fireEvent("textOverflow",c))},setTextAlign:function(c){this.textAlign!==c&&(this.textAlign=c,this.getInnerDomStyle().textAlign=c||"inherit",this.inited&&this.fireEvent("textAlign",c))},setWhiteSpace:function(c){this.__s(c,"whiteSpace")},setWordWrap:function(c){this.__s(c,"wordWrap","normal")},setTextIndent:function(c){this.__s(c,"textIndent")},setTextTransform:function(c){this.__s(c,"textTransform")},setTextDecoration:function(c){this.__s(c,"textDecoration")},setLineHeight:function(c){this.__s(c,
"lineHeight")},setLetterSpacing:function(c){this.__s(c,"letterSpacing")},setWordSpacing:function(c){this.__s(c,"wordSpacing")},setFontFamily:function(c){this.__s(c,"fontFamily")},setFontStyle:function(c){this.__s(c,"fontStyle")},setFontVariant:function(c){this.__s(c,"fontVariant")},setFontWeight:function(c){this.__s(c,"fontWeight")},setFontSize:function(c){this.__s(c,"fontSize")},__s:function(c,d,g){this[d]!==c&&(this[d]=c,this.getInnerDomStyle()[d]=c||g||"inherit",this.inited&&(this.fireEvent(d,
c),this.sizeViewToDom()))},setUserUnselectable:function(c){this.userUnselectable!==c&&(this.userUnselectable=c,this[c?"addDomClass":"removeDomClass"]("mytUnselectable"),this.setCursor(c?"default":"text"),this.inited&&this.fireEvent("userUnselectable",c))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(c,d,g,f,b){c=(c||0)+"px "+(d||0)+"px "+(null!=g?g:
2)+"px "+(f||"#000000");if(0<b){for(d=[c];b--;)d.push(c);c=d.join(",")}this.getInnerDomStyle().textShadow=c},hideTextShadow:function(){this.getInnerDomStyle().textShadow="none"}});
myt.Text=new JS.Class("Text",myt.View,{include:[myt.SizeToDom,myt.TextSupport],initNode:function(c,d){null==d.whiteSpace&&(d.whiteSpace="nowrap");null==d.userUnselectable&&(d.userUnselectable=!0);this.callSuper(c,d)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const c=this.deStyle,d=c.whiteSpace;c.whiteSpace="nowrap";const g=this.getOuterDomElement().offsetWidth;c.whiteSpace=d;return g}});
myt.ImageSupport=new JS.Module("ImageSupport",{extend:{SIZE_CACHE:{},OPEN_SIZE_QUERIES:{}},initNode:function(c,d){null==d.imageRepeat&&(d.imageRepeat="no-repeat");null==d.imageAttachment&&(d.imageAttachment="scroll");this.callSuper(c,d)},setImageUrl:function(c){this.imageUrl!==c&&(this.imageUrl=c,this.deStyle.backgroundImage=c?'url("'+c+'")':"none",this.inited&&(this.fireEvent("imageUrl",c),this.setNaturalWidth(void 0),this.setNaturalHeight(void 0),!c&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
this.__calculateNaturalSize())},setImageLoadingError:function(c){this.set("imageLoadingError",c,!0)},setImageSize:function(c){this.imageSize!==c&&(this.imageSize=c,this.deStyle.backgroundSize=c||"auto",this.inited&&this.fireEvent("imageSize",c))},setImageRepeat:function(c){this.imageRepeat!==c&&(this.deStyle.backgroundRepeat=this.imageRepeat=c,this.inited&&this.fireEvent("imageRepeat",c))},setImagePosition:function(c){this.imagePosition!==c&&(this.deStyle.backgroundPosition=this.imagePosition=c,this.inited&&
this.fireEvent("imagePosition",c))},setImageAttachment:function(c){this.imageAttachment!==c&&(this.deStyle.backgroundAttachment=this.imageAttachment=c,this.inited&&this.fireEvent("imageAttachment",c))},setCalculateNaturalSize:function(c){this.calculateNaturalSize!==c&&(this.calculateNaturalSize=c,this.inited&&this.fireEvent("calculateNaturalSize",c),this.__calculateNaturalSize())},setNaturalWidth:function(c){this.naturalWidth!==c&&(this.naturalWidth=c,this.inited&&this.fireEvent("naturalWidth",c),
this.useNaturalSize&&c&&this.setWidth(c))},setNaturalHeight:function(c){this.naturalHeight!==c&&(this.naturalHeight=c,this.inited&&this.fireEvent("naturalHeight",c),this.useNaturalSize&&c&&this.setHeight(c))},setUseNaturalSize:function(c){this.useNaturalSize!==c&&(this.useNaturalSize=c,this.inited&&this.fireEvent("useNaturalSize",c),c&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),c&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))},
__calculateNaturalSize:function(){const c=this.imageUrl;if(this.calculateNaturalSize&&c){const g=myt.ImageSupport.SIZE_CACHE;var d=g[c];if(d)this.setNaturalWidth(d.width),this.setNaturalHeight(d.height);else{const f=myt.ImageSupport.OPEN_SIZE_QUERIES;d=f[c];if(!d){f[c]=d=[];const b=new Image;b.onerror=function(a){if(a=f[c]){let b=a.length;for(;b;)a[--b].setImageLoadingError(!0);a.length=0;delete f[c]}};b.onload=function(){const a=this.width,b=this.height,h=f[c];if(h){let e=h.length,d;for(;e;)d=h[--e],
d.imageUrl===c&&(d.setNaturalWidth(a),d.setNaturalHeight(b));h.length=0;delete f[c]}g[c]={width:a,height:b}};b.src=c}d.push(this)}}}});myt.Image=new JS.Class("Image",myt.View,{include:[myt.ImageSupport],initNode:function(c,d){null==d.useNaturalSize&&(d.useNaturalSize=!0);this.callSuper(c,d)}});myt.Markup=new JS.Class("Markup",myt.View,{include:[myt.SizeToDom],setHtml:function(c){this.html!==c&&(this.getInnerDomElement().innerHTML=this.html=c,this.inited&&(this.fireEvent("html",c),this.sizeViewToDom()))}});
myt.Frame=new JS.Class("Frame",myt.View,{initNode:function(c,d){null==d.tagName&&(d.tagName="iframe");this.callSuper(c,d);c=myt.global.mouse;this.attachToDom(c,"__doMouseDown","mousedown",!0);this.attachToDom(c,"__doMouseUp","mouseup",!0)},createOurDomElement:function(c){c=this.callSuper(c);(Array.isArray(c)?c[1]:c).style.border="0px";return c},setSrc:function(c){this.src!==c&&(this.src=this.getInnerDomElement().src=c,this.inited&&this.fireEvent("src",c))},__doMouseDown:function(c){this.__restorePointerEvents=
this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(c){this.setPointerEvents(this.__restorePointerEvents);return!0}});
(c=>{const d=a=>{const b=a.parent;b&&0<=a.percentOfParentWidth&&a.syncTo(b,"__doPOPW","width")},g=a=>{0<=a.percentOfParentWidth&&a.detachFrom(a.parent,"__doPOPW","width")},f=a=>{const b=a.parent;b&&0<=a.percentOfParentHeight&&a.syncTo(b,"__doPOPH","height")},b=a=>{0<=a.percentOfParentHeight&&a.detachFrom(a.parent,"__doPOPH","height")};c.SizeToParent=new JS.Module("SizeToParent",{setParent:function(a){this.parent!==a&&(this.inited&&(g(this),b(this)),this.callSuper(a),d(this),f(this))},setPercentOfParentWidthOffset:function(a){this.percentOfParentWidthOffset!==
a&&(this.percentOfParentWidthOffset=a,this.inited&&(this.fireEvent("percentOfParentWidthOffset",a),this.__doPOPW()))},setPercentOfParentWidth:function(a){this.percentOfParentWidth!==a&&(this.inited&&g(this),this.percentOfParentWidth=a,this.inited&&this.fireEvent("percentOfParentWidth",a),d(this))},setPercentOfParentHeightOffset:function(a){this.percentOfParentHeightOffset!==a&&(this.percentOfParentHeightOffset=a,this.inited&&(this.fireEvent("percentOfParentHeightOffset",a),this.__doPOPH()))},setPercentOfParentHeight:function(a){this.percentOfParentHeight!==
a&&(this.inited&&b(this),this.percentOfParentHeight=a,this.inited&&this.fireEvent("percentOfParentHeight",a),f(this))},__doPOPW:function(a){this.setWidth((this.percentOfParentWidthOffset||0)+Math.round(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(a){this.setHeight((this.percentOfParentHeightOffset||0)+Math.round(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(c=>{let d;const g=[];new JS.Singleton("GlobalRootViewRegistry",{include:[c.Observable],initialize:function(){c.global.register("roots",d=this)},getRoots:()=>g,addRoot:c=>{g.push(c);d.fireEvent("rootAdded",c)},removeRoot:c=>{let b=g.length;for(;b;){const a=g[--b];if(a===c){g.splice(b,1);d.fireEvent("rootRemoved",a);break}}}})})(myt);
myt.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:function(c){const d=c.__captureDrop=c=>{c.preventDefault()};c=c.domElement;myt.addEventListener(c,"drop",d);myt.addEventListener(c,"dragover",d)},teardownCaptureDrop:function(c){const d=c.domElement;c=c.__captureDrop;myt.removeEventListener(d,"drop",c);myt.removeEventListener(d,"dragover",c)}},initNode:function(c,d){this.callSuper(c,d);this.setZIndex(0);this.addDomClass("myt");myt.global.roots.addRoot(this);myt.RootView.setupCaptureDrop(this)},
createOurDomElement:function(c){c||(c=this.callSuper(c),myt.getElement().appendChild(c));return c},destroyAfterOrphaning:function(){myt.RootView.teardownCaptureDrop(this);myt.global.roots.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(c){this.keepDomElementWhenDestroyed=c},setParent:function(c){this.callSuper(void 0)},bringToFront:function(){var c=this.domElement;const d=c.parentNode;c!==d.lastChild&&(c=d.removeChild(c))&&
d.appendChild(c)},sendToBack:function(){var c=this.domElement;const d=c.parentNode;c!==d.firstChild&&(c=d.removeChild(c))&&d.insertBefore(c,d.firstChild)},sendBehind:function(c){var d=this.domElement;c=c.domElement;const g=d.parentNode;c.parentNode===g&&(d=g.removeChild(d))&&g.insertBefore(d,c)},sendInFrontOf:function(c){c.domElement.parentNode===this.domElement.parentNode&&(this.sendBehind(c),c.sendBehind(this))}});
(c=>{const d=window;let g,f;new JS.Singleton("GlobalWindowResize",{include:[c.Observable],initialize:function(){c.addEventListener(d,"resize",b=>{this.fireEvent("resize",{w:g=d.innerWidth,h:f=d.innerHeight})});c.global.register("windowResize",this)},getWidth:()=>g||(g=d.innerWidth),getHeight:()=>f||(f=d.innerHeight)})})(myt);
(c=>{const d=JS.Module,g=c.global.windowResize,f=a=>{const b=a.resizeDimension;"width"!==b&&"both"!==b||a.setWidth(Math.max(a.minWidth,g.getWidth()));"height"!==b&&"both"!==b||a.setHeight(Math.max(a.minHeight,g.getHeight()))},b=c.SizeToWindow=new d("SizeToWindow",{include:[c.RootView],initNode:function(a,b){this.minWidth=this.minHeight=0;null==b.resizeDimension&&(b.resizeDimension="both");this.attachTo(g,"__handleResize","resize");this.callSuper(a,b)},setResizeDimension:function(a){this.resizeDimension!==
a&&(this.resizeDimension=a,f(this))},setMinWidth:function(a){this.minWidth!==a&&(this.minWidth=a,f(this))},setMinHeight:function(a){this.minHeight!==a&&(this.minHeight=a,f(this))},__handleResize:function(a){f(this)}});c.SizeToWindowWidth=new d("SizeToWindowWidth",{include:[b],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension="width");this.callSuper(a,b)}});c.SizeToWindowHeight=new d("SizeToWindowHeight",{include:[b],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension=
"height");this.callSuper(a,b)}})})(myt);
(c=>{const d=window,g={};let f,b,a,e=!1;new JS.Singleton("GlobalIdle",{include:[c.Observable],initialize:function(){const e=this,k=["webkit","moz","ms","o"];for(let a=0;a<k.length&&!d.requestAnimationFrame;){const b=k[a++];d.requestAnimationFrame=d[b+"RequestAnimationFrame"];d.cancelAnimationFrame=d[b+"CancelAnimationFrame"]||d[b+"CancelRequestAnimationFrame"]}b=c=>{f=d.requestAnimationFrame(b);-1!==a&&(c=Math.round(c),g.delta=c-a,g.time=c,e.fireEvent("idle",g));a=c};c.global.register("idle",e)},
attachObserver:function(c,k,g){c=this.callSuper(c,k,g);!e&&this.hasObservers("idle")&&(e=!0,a=-1,f=d.requestAnimationFrame(b));return c},detachObserver:function(a,b,c){a=this.callSuper(a,b,c);e&&!this.hasObservers("idle")&&(d.cancelAnimationFrame(f),e=!1);return a}})})(myt);
(c=>{const d=(a,b,e,h,d)=>{const k=c.Color;a=k.makeColorFromHexString(a);b=k.makeColorFromHexString(b);h=h?k.makeColorFromHexString(d):a;h.setRed(h.red+(b.red-a.red)*e);h.setGreen(h.green+(b.green-a.green)*e);h.setBlue(h.blue+(b.blue-a.blue)*e);return h.getHtmlHexString()},g=a=>{a.__temporaryFrom=!1;a.__loopCount=a.reverse?a.repeat-1:0;a.__progress=a.reverse?a.duration:0},f=(a,b)=>{if(a.running&&!a.paused){const g=a.reverse,n=a.duration,m=a.repeat;g&&(b*=-1);var c=a.__progress;a.__progress+=b;b=0;
a.__progress>n?(b=a.__progress-n,a.__progress=n,++a.__loopCount===m&&(b=0)):0>a.__progress&&(b=-a.__progress,a.__progress=0,0>--a.__loopCount&&0<m&&(b=0));var e=a.target||a.parent;if(e){{const b=a.relative;var k=a.duration;const f=a.attribute;var h=Math.max(0,a.__progress/k);c=Math.max(0,c/k);null==a.from&&(a.__temporaryFrom=!0,a.from=b?a.__isColorAnim?"#000000":0:e.get(f));c=a.easingFunction(h)-(b?a.easingFunction(c):0);h=b?e.get(f):a.from;k=a.to;e.set(f,a.__isColorAnim?d(a.from,k,c,b,h):h+(k-a.from)*
c)}!g&&a.__loopCount===m||g&&0>a.__loopCount&&0<m?(a.setRunning(!1),a.callback&&a.callback.call(a,!0)):0<b&&(a.fireEvent("repeat",a.__loopCount),a.__progress=g?n:0,f(a,b))}else console.log("No target found for animator.",a),a.setRunning(!1),a.callback&&a.callback.call(a,!1)}},b=Math.PI,a=2*b,e=b/2,h=c.Animator=new JS.Class("Animator",c.Node,{include:[c.Reusable],extend:{easingFunctions:{linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>
a*a*a,easeOutCubic:a=>--a*a*a+1,easeInOutCubic:a=>1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-(--a*a*a*a-1),easeInOutQuart:a=>1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>--a*a*a*a*a+1,easeInOutQuint:a=>1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*e)+1,easeOutSine:a=>Math.sin(a*e),easeInOutSine:a=>-.5*(Math.cos(b*a)-1),easeInCirc:a=>-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1- --a*a),easeInOutCirc:a=>
1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInExpo:a=>0==a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1==a?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2),easeInElastic:b=>0==b?0:1==b?1:-(Math.pow(2,10*--b)*Math.sin((1*b-.075)*a/.3)),easeOutElastic:b=>0==b?0:1==b?1:Math.pow(2,-10*b)*Math.sin((1*b-.075)*a/.3)+1,easeInOutElastic:b=>0==b?0:2==(b/=.5)?1:1>b?-.5*Math.pow(2,10*--b)*Math.sin((1*b-.1125)*a/.45):Math.pow(2,
-10*--b)*Math.sin((1*b-.1125)*a/.45)*.5+1,easeInBack:(a,b=1.70158)=>(a/=1)*a*((b+1)*a-b),easeOutBack:(a,b=1.70158)=>(a=a/1-1)*a*((b+1)*a+b)+1,easeInOutBack:(a,b=1.70158)=>1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2),easeInBounce:a=>1-h.easingFunctions.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>.5>a?.5*h.easingFunctions.easeInBounce(2*
a):.5*h.easingFunctions.easeOutBounce(2*a-1)+.5}},initNode:function(a,b){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.callSuper(a,b);g(this)},setRunning:function(a){if(this.running!==a&&(this.running=a,this.inited&&this.fireEvent("running",a),!this.paused)){if(a){{const a=this.target||this.parent;this.__isColorAnim=a&&"function"===typeof a.isColorAttr?a.isColorAttr(this.attribute):void 0}}else this.__temporaryFrom&&
(this.from=void 0),g(this);this[a?"attachTo":"detachFrom"](c.global.idle,"__updateAnim","idle")}},setPaused:function(a){if(this.paused!==a&&(this.paused=a,this.inited&&this.fireEvent("paused",a),this.running))this[a?"detachFrom":"attachTo"](c.global.idle,"__updateAnim","idle")},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&this.fireEvent("reverse",a),this.running||g(this))},setEasingFunction:function(a){"string"===typeof a&&(a=h.easingFunctions[a]);a||(a=h.DEFAULT_EASING_FUNCTION);
this.set("easingFunction",a,!0)},setFrom:function(a){this.set("from",a,!0)},setTo:function(a){this.set("to",a,!0)},setCallback:function(a){this.callback=a},next:function(a,b){const c=this,e=c.callback;e&&!b?c.setCallback(b=>{e.call(c,b);a.call(c,b)}):c.setCallback(a)},reset:function(a){g(this);this.setRunning(!1);this.setPaused(!1);a&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=
1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.reset(!1)},__updateAnim:function(a){f(this,a.value.delta)}});h.DEFAULT_EASING_FUNCTION=h.easingFunctions.easeInOutQuad})(myt);
(c=>{const d=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},g=(a,c)=>{if(a.__transInProgress){var e=a.__deferredTransitions;e||(e=a.__deferredTransitions=[]);e.unshift(c)}else{a.__transInProgress=!0;e=c.shift();const h=c.shift();if(a.__pendingTransition)return b.PENDING;if(a.isFinished())return a.__transInProgress=!1,b.NO_TRANSITION;let d=a.map[a.current][h];d||(d=a.map["*"][h]);if(d)return a.__pendingTransition=h,a.__transDestinationState=
d,a.__additionalArgs=c,a.resumeTransition(e);a.__transInProgress=!1;return b.NO_TRANSITION}},f=a=>{a.__transInProgress=!1;const b=a.__deferredTransitions;if(b)for(;0<b.length;)g(a,b.pop())},b=c.StateMachine=new JS.Class("StateMachine",c.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,b){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";d(this);this.callSuper(a,b)},setInitialState:function(a){if(""===this.current){if(Array.isArray(a)){var b=
a;a=b.shift()}else b=[];this.current=this.initial=a;this.doEnterState("","",a,b);b={name:"",from:"",to:a,args:b};this.fireEvent("enter"+a,b);this.fireEvent("enter",b);this.isFinished()&&this.fireEvent("finished",b)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(a=>this.addTransition(...a))},addTransition:function(a,b,c){const e=this.map;b=b?Array.isArray(b)?b:[b]:["*"];let h=b.length,d;for(;h;)(d=e[b[--h]])||(d=e[b[h]]={}),d[a]=c},doTransition:function(...a){a.unshift("sync");
return g(this,a)},doAsyncTransition:function(...a){a.unshift("async");return g(this,a)},resumeTransition:function(a){const c=this.__pendingTransition;if(!c)return b.INVALID;const h=this.current,k=this.__transDestinationState,g=this.__additionalArgs,n={name:c,from:h,to:k,args:g};switch(this.__transStage){case "leaveState":const e=this.doLeaveState(c,h,k,g);if(!1===e)return d(this),f(this),b.CANCELLED;if("async"===e||"async"===a)return this.__transStage="enterState",this.fireEvent("start"+c,n),this.fireEvent("start",
n),this.fireEvent("leave"+h,n),this.fireEvent("leave",n),f(this),b.PENDING;this.fireEvent("start"+c,n);this.fireEvent("start",n);this.fireEvent("leave"+h,n);this.fireEvent("leave",n);case "enterState":this.current=k,d(this),this.doEnterState(c,h,k,g),this.fireEvent("enter"+k,n),this.fireEvent("enter",n),this.fireEvent("end"+c,n),this.fireEvent("end",n),this.isFinished()&&this.fireEvent("finished",n)}f(this);return b.SUCCEEDED},doLeaveState:(a,b,c,d)=>{},doEnterState:(a,b,c,d)=>{},isFinished:function(){return this.is(this.terminal)},
isStarting:function(){return this.is(this.initial)},is:function(a){return Array.isArray(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==this.map["*"][a]}})})(myt);
(c=>{const d=(a,b)=>a.replicationIndex-b.replicationIndex,g=(a,b)=>{let c=a.length,e;for(;c;)e=a[--c],e.decrementLockedCounter(),b&&e.update()},f=a=>{b(a);const e=a.template;e&&(a.__pool=new c.TrackActivesPool(e,a.parent))},b=a=>{const b=a.__pool;if(b){const c=a.parent.getLayouts();{a=c;let b=a.length;for(;b;)a[--b].incrementLockedCounter()}b.putActives();b.destroyPooledInstances();g(c,!1);b.destroy()}};c.Replicable=new JS.Module("Replicable",{include:[c.Reusable],replicate:function(a,b){this.replicationData=
a;this.replicationIndex=b},notify:function(a,b){},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,b){return b===this.replicationIndex&&a===this.replicationData}});c.Replicator=new JS.Class("Replicator",c.Node,{initNode:function(a,b){this.callSuper(a,b);f(this);this.doReplication()},destroyAfterOrphaning:function(){b(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(c.Replicable)?a:null)||c.dumpStack("Template not an myt.Replicable");
this.inited&&(f(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let b;if(a){b=this.parent.getLayouts();for(var c=b.length;c;)b[--c].incrementLockedCounter();const e=(c=this.data)?c.length:0,h=a.getActives(),f=h.length,l=[];let p=f,r,t;for(h.sort(d);p;)if(r=h[--p],t=r.replicationIndex,t>=e||!r.alreadyHasReplicationData(c[t],t))l[t]=r;for(p=l.length;p;)(r=
l[--p])&&a.putInstance(r);for(p=0;e>p;++p)(p>=f||null!=l[p])&&a.getInstance().replicate(c[p],p);for(p=b.length;p;)b[--p].sortSubviews(d);g(b,!0)}},notify:function(a,b){var c=this.__pool;if(c){c=c.getActives();let e=c.length;for(;e;)c[--e].notify(a,b)}}})})(myt);
myt.WrappingLayout=new JS.Class("WrappingLayout",myt.VariableLayout,{initNode:function(c,d){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(c,d)},setTargetAttrName:function(c){if(this.targetAttrName!==
c){const d="y"===c,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";const f=this.measureAttrBaseName=d?"height":"width";this.otherMeasureAttrName=d?"boundsWidth":"boundsHeight";const b=this.otherMeasureAttrBaseName=d?"width":"height";this.parentSetterName=d?"setWidth":"setHeight";this.otherSetterName=d?"setX":"setY";g&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(b),this.startMonitoringParent(f));this.callSuper(c)}},setParent:function(c){if(this.parent!==
c){const d="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(d?"height":"width");this.callSuper(c);this.parent&&this.startMonitoringParent(d?"height":"width")}},setAxis:function(c){this.setTargetAttrName(this.axis=c)},setInset:function(c){this.setTargetValue(this.inset=c)},setSpacing:function(c){this.spacing!==c&&(this.spacing=c,this.inited&&(this.fireEvent("spacing",c),this.update()))},setOutset:function(c){this.outset!==c&&(this.outset=c,this.inited&&(this.fireEvent("outset",c),this.update()))},
setLineSpacing:function(c){this.lineSpacing!==c&&(this.lineSpacing=c,this.inited&&(this.fireEvent("lineSpacing",c),this.update()))},setLineInset:function(c){this.lineInset!==c&&(this.lineInset=c,this.inited&&(this.fireEvent("lineInset",c),this.update()))},setLineOutset:function(c){this.lineOutset!==c&&(this.lineOutset=c,this.inited&&(this.fireEvent("lineOutset",c),this.update()))},startMonitoringParent:function(c){this.attachTo(this.parent,"update",c)},stopMonitoringParent:function(c){this.detachFrom(this.parent,
"update",c)},startMonitoringSubview:function(c){this.attachTo(c,"update",this.measureAttrName);this.attachTo(c,"update",this.otherMeasureAttrName);this.callSuper(c)},stopMonitoringSubview:function(c){this.detachFrom(c,"update",this.measureAttrName);this.detachFrom(c,"update",this.otherMeasureAttrName);this.callSuper(c)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(c,
d,g,f){c=d[this.measureAttrName];const b=d[this.otherMeasureAttrName];f+c>this.parentSizeLessOutset||"break"===d.layoutHint?(f=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=b,++this.lineCount):b>this.lineSize&&(this.lineSize=b);d[this.otherSetterName](this.linePos+(b-d[this.otherMeasureAttrBaseName])/2);d[g](f+(c-d[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,f+c+this.outset);return f+c+this.spacing},updateParent:function(c,d){this.parent[this.parentSetterName](this.linePos+
this.lineSize+this.lineOutset)}});
myt.SpacedLayout=new JS.Class("SpacedLayout",myt.VariableLayout,{initNode:function(c,d){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(c,d)},setTargetAttrName:function(c){if(this.targetAttrName!==c){const d="y"===c,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
d?"height":"width";this.parentSetterName=d?"setHeight":"setWidth";g&&this.startMonitoringAllSubviews();this.callSuper(c)}},setNoAddSubviewOptimization:function(c){this.noAddSubviewOptimization=c},setAxis:function(c){this.setTargetAttrName(this.axis=c)},setInset:function(c){this.setTargetValue(this.inset=c)},setSpacing:function(c){this.spacing!==c&&(this.spacing=c,this.inited&&(this.fireEvent("spacing",c),this.update()))},setOutset:function(c){this.outset!==c&&(this.outset=c,this.inited&&(this.fireEvent("outset",
c),this.update()))},addSubview:function(c){const d=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(c);this.locked=d},startMonitoringSubview:function(c){this.attachTo(c,"update",this.measureAttrName);this.callSuper(c)},stopMonitoringSubview:function(c){this.detachFrom(c,"update",this.measureAttrName);this.callSuper(c)},updateSubview:function(c,d,g,f){c=d[this.measureAttrName];d[g](f+(c-d[this.measureAttrBaseName])/2);return f+c+this.spacing},updateParent:function(c,d){this.parent[this.parentSetterName](d+
this.outset-this.spacing)}});
myt.ResizeLayout=new JS.Class("SpacedLayout",myt.SpacedLayout,{setCollapseParent:function(c){},setTargetAttrName:function(c){if(this.targetAttrName!==c){if(this.inited){const d="x"===c;this.stopMonitoringParent(d?"height":"width");this.startMonitoringParent(d?"width":"height")}this.callSuper(c)}},setParent:function(c){if(this.parent!==c){const d="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(d);this.callSuper(c);this.parent&&this.startMonitoringParent(d)}},startMonitoringParent:function(c){this.attachTo(this.parent,
"update",c)},stopMonitoringParent:function(c){this.detachFrom(this.parent,"update",c)},doBeforeUpdate:function(){const c=this.measureAttrName;let d=this.parent[this.measureAttrBaseName];d-=this.targetValue+this.outset;const g=this.subviews;let f=g.length,b,a=0,e=0;for(;f;)b=g[--f],this.skipSubview(b)||(++a,0<b.layoutHint?e+=b.layoutHint:d-=b[c]);0!==a&&(this.remainder=d-=(a-1)*this.spacing,this.resizeSum=e,this.scalingFactor=d/e,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===
c?"setWidth":"setHeight")},updateSubview:function(c,d,g,f){var b=d.layoutHint;0<b&&(this.resizeSumUsed+=b,b=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(b*this.scalingFactor),this.remainderUsed+=b,d[this.measureSetter](b));return this.callSuper(c,d,g,f)},startMonitoringSubview:function(c){0<c.layoutHint||this.attachTo(c,"update",this.measureAttrName);this.attachTo(c,"update","visible")},stopMonitoringSubview:function(c){0<c.layoutHint||this.detachFrom(c,"update",
this.measureAttrName);this.detachFrom(c,"update","visible")},updateParent:function(c,d){}});
myt.AlignedLayout=new JS.Class("AlignedLayout",myt.VariableLayout,{initNode:function(c,d){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(c,d)},setTargetAttrName:function(c){if(this.targetAttrName!==c){const d="y"===c,g=this.inited;g&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";this.measureAttrBaseName=
d?"height":"width";this.parentSetterName=d?"setHeight":"setWidth";g&&this.startMonitoringAllSubviews();this.callSuper(c)}},setAlign:function(c){if(this.align!==c){this.align=c;const d=this.locked;this.locked=!0;this.setTargetAttrName("middle"===c||"bottom"===c||"top"===c?"y":"x");this.locked=d;this.inited&&(this.fireEvent("align",c),this.update())}},startMonitoringSubview:function(c){this.attachTo(c,"update",this.measureAttrName);this.callSuper(c)},stopMonitoringSubview:function(c){this.detachFrom(c,
"update",this.measureAttrName);this.callSuper(c)},doBeforeUpdate:function(){const c=this.measureAttrName,d=this.subviews;let g=0,f,b=d.length;for(;b;)f=d[--b],this.skipSubview(f)||(g=g>f[c]?g:f[c]);this.setTargetValue(g)},updateSubview:function(c,d,g,f){switch(this.align){case "center":case "middle":d[g]((f-d[this.measureAttrName])/2);break;case "right":case "bottom":d[g](f-d[this.measureAttrName]);break;default:d[g](0)}return f},updateParent:function(c,d){this.parent[this.parentSetterName](d)}});
myt.UpdateableUI=new JS.Module("UpdateableUI",{initNode:function(c,d){this.callSuper(c,d);this.updateUI()},updateUI:()=>{}});myt.Disableable=new JS.Module("Disableable",{initNode:function(c,d){null==d.disabled&&(d.disabled=!1);this.callSuper(c,d)},setDisabled:function(c){this.disabled!==c&&(this.disabled=c,this.inited&&this.fireEvent("disabled",c),this.doDisabled())},doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});
new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
myt.MouseOver=new JS.Module("MouseOver",{initNode:function(c,d){null==d.mouseOver&&(d.mouseOver=!1);this.callSuper(c,d);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(c){this.mouseOver!==c&&(this.mouseOver=c,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(myt.global.idle,"__doMouseOverOnIdle","idle")))},setDisabled:function(c){this.callSuper(c);this.disabled?this.mouseOver&&(this.__disabledOver=
!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(myt.global.idle,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const c=this.mouseOver;this.__lastOverIdleValue!==c&&(this.__lastOverIdleValue=c,this.doSmoothMouseOver(c))},doSmoothMouseOver:function(c){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(c){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(c){this.__disabledOver=
!1;this.disabled||this.setMouseOver(!1)}});
myt.MouseDown=new JS.Module("MouseDown",{initNode:function(c,d){null==d.mouseDown&&(d.mouseDown=!1);this.callSuper(c,d);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(c){this.mouseDown!==c&&(this.mouseDown=c,this.inited&&(c&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(c){c&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(c)},doMouseOver:function(c){this.callSuper(c);this.mouseDown&&
this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseOut:function(c){this.callSuper(c);!this.disabled&&this.mouseDown&&this.attachToDom(myt.global.mouse,"doMouseUp","mouseup",!0)},doMouseDown:function(c){this.disabled||this.setMouseDown(!0)},doMouseUp:function(c){this.mouseOver||this.detachFromDom(myt.global.mouse,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(c))},doMouseUpInside:function(c){this.doActivated&&
this.doActivated()}});myt.MouseOverAndDown=new JS.Module("MouseOverAndDown",{include:[myt.MouseOver,myt.MouseDown]});myt.Activateable=new JS.Module("Activateable",{doActivated:()=>{}});
myt.KeyActivation=new JS.Module("KeyActivation",{extend:{DEFAULT_ACTIVATION_KEYS:[13,32]},initNode:function(c,d){this.activateKeyDown=-1;null==d.activationKeys&&(d.activationKeys=myt.KeyActivation.DEFAULT_ACTIVATION_KEYS);this.callSuper(c,d);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(c){this.activationKeys=c},setRepeatKeyDown:function(c){this.repeatKeyDown=
c},__handleKeyDown:function(c){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const d=myt.KeyObservable.getKeyCodeFromEvent(c),g=this.activationKeys;let f=g.length;for(;f;)if(d===g[--f]){this.activateKeyDown===d?this.doActivationKeyDown(d,!0):(this.activateKeyDown=d,this.doActivationKeyDown(d,!1));c.value.preventDefault();break}}},__handleKeyPress:function(c){if(!this.disabled){const d=myt.KeyObservable.getKeyCodeFromEvent(c);if(this.activateKeyDown===d){const g=this.activationKeys;
let f=g.length;for(;f;)if(d===g[--f]){c.value.preventDefault();break}}}},__handleKeyUp:function(c){if(!this.disabled){const d=myt.KeyObservable.getKeyCodeFromEvent(c);if(this.activateKeyDown===d){const g=this.activationKeys;let f=g.length;for(;f;)if(d===g[--f]){this.activateKeyDown=-1;this.doActivationKeyUp(d);c.value.preventDefault();break}}}},__doDomBlur:function(c){this.disabled||(c=this.activateKeyDown,-1!==c&&(this.activateKeyDown=-1,this.doActivationKeyAborted(c)))},doActivationKeyDown:(c,d)=>
{},doActivationKeyUp:function(c){this.doActivated()},doActivationKeyAborted:c=>{}});
(c=>{const d=JS.Class,g=JS.Module,f=[0,0,7,"#666666"];var b=c.Button=new g("Button",{include:[c.Activateable,c.UpdateableUI,c.Disableable,c.MouseOverAndDown,c.KeyActivation],extend:{DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE:f,DEFAULT_DISABLED_OPACITY:.5},initNode:function(a,b){null==b.focusable&&(b.focusable=!0);null==b.cursor&&(b.cursor="pointer");this.callSuper(a,b)},setFocused:function(a){const b=this.focused;this.callSuper(a);this.inited&&this.focused!==b&&this.updateUI()},doActivationKeyDown:function(a,
b){b||this.updateUI()},doActivationKeyUp:function(a){this.callSuper(a);this.updateUI()},doActivationKeyAborted:function(a){this.callSuper(a);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const a=this.__restoreCursor;a&&(this.setCursor(a),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(f)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()}});b=c.SimpleButtonStyle=new g("SimpleButtonStyle",{include:[b],setActiveColor:function(a){this.activeColor!==a&&(this.activeColor=
a,this.inited&&this.updateUI())},setHoverColor:function(a){this.hoverColor!==a&&(this.hoverColor=a,this.inited&&this.updateUI())},setReadyColor:function(a){this.readyColor!==a&&(this.readyColor=a,this.inited&&this.updateUI())},drawDisabledState:function(){this.setOpacity(.5);this.setBgColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setBgColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setBgColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);
this.setBgColor(this.readyColor)}});b=c.SimpleButton=new d("SimpleButton",c.View,{include:[b],initNode:function(a,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(a,b)}});c.IconTextButtonContent=new g("IconTextButtonContent",{initNode:function(a,b){this.textY=this.iconY="middle";this.iconSpacing=2;this.inset=this.outset=0;null==b.shrinkToFit&&(b.shrinkToFit=!1);null==b.contentAlign&&(b.contentAlign="center");this.callSuper(a,b);a=this.iconView;b=this.textView;this.constrain("__updateContentPosition",
[this,"inset",this,"outset",this,"width",this,"shrinkToFit",this,"iconSpacing",this,"contentAlign",a,"width",a,"visible",b,"width",b,"visible"])},doAfterAdoption:function(){const a=this.iconY,b=this.textY;let h={name:"iconView",imageUrl:this.iconUrl};"string"===typeof a?h.valign=a:h.y=a;new c.Image(this,h);h={name:"textView",whiteSpace:"nowrap",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof b?h.valign=b:h.y=b;new c.Text(this,h);this.callSuper()},setInset:function(a){null!=a&&
"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){this.set("shrinkToFit",a,!0)},setContentAlign:function(a){this.set("contentAlign",a,!0)},setIconSpacing:function(a){this.set("iconSpacing",a,!0)},setIconUrl:function(a){this.iconUrl!==a&&(this.iconUrl=a,this.inited&&
(this.fireEvent("iconUrl",a),this.iconView.setImageUrl(a)))},setIconY:function(a){const b=this.iconView;this.iconY!==a&&(this.iconY=a,this.inited&&(this.fireEvent("iconY",a),"string"===typeof a?b.setValign(a):b.setY(a)))},setTextY:function(a){const b=this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){var b=
this.inset,c=this.outset;a=this.iconView;var d=this.textView,f=d.visible&&this.text,g=a.visible?a.width:0;g+=f&&0<g?this.iconSpacing:0;f=f?d.width:0;this.shrinkToFit?(a.setX(b),b+=g,d.setX(b),this.__updateContentPositionLoopBlock=!0,this.setWidth(b+(f+c)),this.__updateContentPositionLoopBlock=!1):("left"!==this.contentAlign&&("center"===this.contentAlign?(c=this.width-b-g-f-c,b+=c/2):b=this.width-g-f-c),a.setX(b),d.setX(b+g))}}});c.TextButtonContent=new g("TextButtonContent",{initNode:function(a,
b){this.inset=this.outset=0;null==b.shrinkToFit&&(b.shrinkToFit=!1);this.textY=b.shrinkToFit?"middle":0;this.callSuper(a,b);a=this.textView;this.constrain("__updateContentPosition",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",a,"visible",a,"width",a,"height",a,"y"])},doAfterAdoption:function(){const a=this.textY,b={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof a?b.valign=a:b.y=a;new c.Text(this,b);this.__origHeight=
this.height;this.callSuper()},setInset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){const b=this.textView;this.shrinkToFit!==a&&(this.shrinkToFit=a,this.inited&&(b&&b.setWhiteSpace(a?"nowrap":"normal"),this.fireEvent("shrinkToFit",a)))},
setTextY:function(a){const b=this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){a=this.inset;var b=this.outset,c=this.textView,d=c.visible&&this.text;this.__updateContentPositionLoopBlock=!0;this.shrinkToFit?(c.setX(a),this.setWidth(a+(d?c.width:0)+b),this.setHeight(this.__origHeight)):(c.setHeight("auto"),
c.setWidth(this.width-a-b),c.setX(a),this.setHeight(d?c.y+c.height:this.__origHeight));this.__updateContentPositionLoopBlock=!1}}});c.SimpleIconTextButton=new d("SimpleIconTextButton",b,{include:[c.IconTextButtonContent]});c.SimpleTextButton=new d("SimpleTextButton",b,{include:[c.TextButtonContent]})})(myt);
(c=>{const d=c.global,g=d.focus,f=d.mouse,b={};c.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>b[a]},initNode:function(a,b){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,b)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,c,h){a=a||this.floatingPanelId;h=h||{};h.panelId=a;return b[a]=new c(null,h)},getFloatingPanel:function(a){return b[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const b=this.getFloatingPanel(a=a||this.floatingPanelId);b&&b.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;return a&&a.isShown()?a:this.callSuper?this.callSuper():null},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});c.FloatingPanel=new JS.Class("FloatingPanel",c.View,{include:[c.RootView],initNode:function(a,b){a=document.createElement("div");a.style.position="absolute";c.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;b.visible=b.focusEmbellishment=!1;b.focusable=b.focusCage=!0;this.callSuper(a,b)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var b=a.value;a=b.pageX;b=b.pageY;this.containsPoint(a,b)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,b)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(g.focusedView))this.owner[g.lastTraversalWasForward?"getNextFocusAfterPanel":"getPrevFocusAfterPanel"](this.panelId).focus(a);else{const b=this.getFirstFocusableDescendant();b===this?this.callSuper(a):b.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&g.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(f,"__doMouseDown","mousedown",!0),this.attachTo(g,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(f,"__doMouseDown","mousedown",!0),this.detachFrom(g,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const b=this.panelId,c=a.getFloatingAlignForPanelId(b),d=a.getFloatingValignForPanelId(b),f=a.getPagePosition();let g=0,l=0,p=typeof c;if("string"===p)switch(g=f.x+a.getFloatingAlignOffsetForPanelId(b),c){case "outsideRight":g+=a.width;break;case "insideRight":g+=a.width-this.width;
break;case "outsideLeft":g-=this.width;break;case "insideLeft":break;default:console.warn("Unexpected align value",p,c)}else"number"===p?g=c:console.warn("Unexpected align type",p,c);this.setX(g);p=typeof d;if("string"===p)switch(l=f.y+a.getFloatingValignOffsetForPanelId(b),d){case "outsideBottom":l+=a.height;break;case "insideBottom":l+=a.height-this.height;break;case "outsideTop":l-=this.height;break;case "insideTop":break;default:console.warn("Unexpected valign value",p,d)}else"number"===p?l=d:
console.warn("Unexpected valign type",p,d);this.setY(l)}})})(myt);
(c=>{const d=JS.Class,g=JS.Module,f=c.ListViewItemMixin=new g("ListViewItemMixin",{setListView:function(b){this.listView=b},getMinimumWidth:()=>0,syncToDom:()=>{}});c.ListView=new d("ListView",c.FloatingPanel,{initNode:function(b,a){this.items=[];this.maxHeight=-1;this.minWidth=0;null==a.defaultItemClass&&(a.defaultItemClass=c.ListViewItem);null==a.overflow&&(a.overflow="autoy");null==a.bgColor&&(a.bgColor="#cccccc");null==a.boxShadow&&(a.boxShadow=c.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE);this.callSuper(b,
a);this.__updateItems();this.buildLayout()},buildLayout:function(){new c.SpacedLayout(this.getContentView(),{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(b){this.minWidth=b},setDefaultItemClass:function(b){this.defaultItemClass=b},setItemConfig:function(b){this.itemConfig=b;this.inited&&this.__updateItems()},getContentView:function(){return this},setMaxHeight:function(b){this.maxHeight!==b&&(this.maxHeight=b,this.inited&&(this.fireEvent("maxHeight",b),this.setHeight(this.height)))},
setHeight:function(b,a){0<=this.maxHeight&&(b=Math.min(this.maxHeight,b));this.callSuper(b,a)},doItemActivated:function(b){const a=this.owner;a&&a.doItemActivated(b)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const b=this.items,a=b.length;for(let c=0;a>c;){const a=b[c++];if(a.isFocusable())return a}return null},getLastFocusableItem:function(){const b=this.items;let a=b.length;for(;a;){const c=b[--a];if(c.isFocusable())return c}return null},
__updateItems:function(){var b=this.itemConfig||[],a=b.length;const c=this.items,h=c.length;var d=this.defaultItemClass;const f=this.getContentView(),g=f.getLayouts(),l=g.length;let p=l;for(;p;)g[--p].incrementLockedCounter();const r=f.getOuterDomElement(),t=r.nextSibling,v=r.parentNode;v.removeChild(r);for(p=0;a>p;++p){var u=b[p];const a=u.klass||d,e=u.attrs||{};(u=c[p])&&!u.isA(a)&&(u.destroy(),u=null);u||(u=c[p]=new a(f,{listView:this}));u&&(u.callSetters(e),u.__LAYOUT_IDX=p)}v.insertBefore(r,
t);b=this.minWidth;for(p=0;a>p;++p)u=c[p],u.syncToDom(),d=u.getMinimumWidth(),d>b&&(b=d);for(;h>p;)c[p++].destroy();c.length=a;for(p=0;a>p;)this.updateItemWidth(c[p++],b);this.updateContentWidth(f,b);for(p=l;p;)a=g[--p],a.sortSubviews((a,b)=>a.__LAYOUT_IDX-b.__LAYOUT_IDX),a.decrementLockedCounter(),a.update()},updateItemWidth:(b,a)=>{b.setWidth(a)},updateContentWidth:(b,a)=>{b.setWidth(a)}});c.ListViewAnchor=new g("ListViewAnchor",{include:[c.FloatingPanelAnchor],initNode:function(b,a){null==a.listViewClass&&
(a.listViewClass=c.ListView);null==a.listViewAttrs&&(a.listViewAttrs={});null==a.itemConfig&&(a.itemConfig=[]);null==a.activationKeys&&(a.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(b,a)},setListViewClass:function(b){this.listViewClass=b},setListViewAttrs:function(b){this.listViewAttrs=b},setItemConfig:function(b){this.itemConfig=b},doItemActivated:function(b){this.hideFloatingPanel()},getFloatingPanel:function(b){return this.callSuper(b)||this.createFloatingPanel(b,this.listViewClass,this.listViewAttrs)},
showFloatingPanel:function(b){const a=this.getFloatingPanel(b);a&&(a.setItemConfig(this.itemConfig),this.callSuper(b))},doActivationKeyDown:function(b,a){if(27===b)this.hideFloatingPanel();else{switch(b){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}this.callSuper(b,a)}},doActivationKeyUp:function(b){if(27!==b)switch(this.callSuper(b),b){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var b=this.getFloatingPanel();
b&&b.isShown()&&(b=b.getLastFocusableItem())&&b.focus()},selectFirstItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getFirstFocusableItem())&&b.focus()}});c.ListViewItem=new d("ListViewItem",c.SimpleIconTextButton,{include:[f],initNode:function(b,a){null==a.height&&(a.height=24);null==a.activeColor&&(a.activeColor="#bbbbbb");null==a.hoverColor&&(a.hoverColor="#ffffff");null==a.readyColor&&(a.readyColor="#eeeeee");null==a.contentAlign&&(a.contentAlign="left");null==a.inset&&(a.inset=
8);null==a.outset&&(a.outset=8);null==a.activationKeys&&(a.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(b,a)},syncToDom:function(){this.textView.sizeViewToDom()},getMinimumWidth:function(){var b=this.iconView;const a=this.textView,c=a.visible&&this.text;b=b.visible?b.width:0;return this.inset+(b+(c&&0<b?this.iconSpacing:0))+(c?Math.ceil(a.width):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},
hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},doActivationKeyDown:function(b,a){switch(b){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:c.global.focus.prev();break;case 39:case 40:c.global.focus.next()}this.callSuper(b,a)}});c.ListViewSeparator=new d("ListViewSeparator",c.View,{include:[f],initNode:function(b,a){null==a.height&&(a.height=1);null==a.bgColor&&(a.bgColor="#666666");this.callSuper(b,a)}})})(myt);
(c=>{const d=c.AccessorSupport,g={},f=c.BAG=new JS.Class("BAG",{include:[d,c.Destructible,c.Observable],extend:{getGroup:(b,a)=>{if(b&&a){const c=g[b]||(g[b]={});return c[a]||(c[a]=new f(b,a))}return null},removeGroup:(b,a)=>{if(b&&a&&(b=g[b])){const c=b[a];c&&delete b[a];return c}return null}},initialize:function(b,a){this.__nodes=[];this.trueNode=null;this.attrName=b;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&f.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(b){this.set("groupId",b,!0)},setAttrName:function(b){this.set("attrName",b,!0)},setTrueNode:function(b){this.set("trueNode",b,!0)},getNodes:function(){return this.__nodes},register:function(b){b&&!this.isRegistered(b)&&(this.__nodes.push(b),b[this.attrName]&&this.setTrue(b))},unregister:function(b){if(b){const a=this.__nodes;let c=a.length;for(;c;)if(b===a[--c]){a.splice(c,1);break}this.trueNode===b&&this.setTrueNode(null);
0===a.length&&this.destroy()}},setTrue:function(b){if(b&&this.trueNode!==b&&this.isRegistered(b)){const a=this.attrName,c=d.generateSetterName(a),h=this.__nodes;let f=h.length;for(this.setTrueNode(b);f;){const e=h[--f];if(b===e){if(!e[a])e[c](!0)}else if(e[a])e[c](!1)}}},setFalse:function(b){b&&this.trueNode===b&&(b[d.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(b){const a=this.__nodes;let c=a.length;for(;c;)if(b===a[--c])return!0;return!1}});c.BAGMembership=
new JS.Module("BAGMembership",{initNode:function(b,a){this.__bags=[];this.callSuper(b,a)},destroyAfterOrphaning:function(){this.callSuper();const b=this.__bags;let a=b.length;for(;a;){const c=b[--a];this.removeFromBAG(c.attrName,c.groupId)}},isRegisteredWithBAG:function(b){const a=this.__bags;let c=a.length;for(;c;)if(a[--c]===b)return!0;return!1},getBAG:(b,a)=>f.getGroup(b,a),addToBAG:function(b,a){a=this.getBAG(b,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,
"__updateForBAG",b)||this.attachTo(this,"__updateForBAG",b))},removeFromBAG:function(b,a){a=this.getBAG(b,a);if(this.isRegisteredWithBAG(a)){const c=this.__bags;let h=c.length,d=!0;for(;h;){const e=c[--h];e===a?(c.splice(h,1),a.unregister(this)):e.attrName===b&&(d=!1)}d&&this.detachFrom(this,"__updateForBAG",b)}},__updateForBAG:function(b){const a=b.type;b=b.value;const c=this.__bags;let h=c.length;for(;h;){const e=c[--h];e.attrName===a&&(b?e.setTrue(this):e.setFalse(this))}}})})(myt);
(c=>{const d=c=>{const d=c.label||"";c.setText('<i class="far fa-'+(!0===c.selected?"dot-":"")+'circle"></i>'+(0<d.length?" ":"")+d)};c.Radio=new JS.Class("Radio",c.Text,{include:[c.SimpleButtonStyle,c.BAGMembership],initNode:function(g,f){null==f.selected&&(f.selected=!1);null==f.groupId&&(f.groupId=c.generateGuid());null==f.focusEmbellishment&&(f.focusEmbellishment=!1);null==f.activeColor&&(f.activeColor="inherits");null==f.hoverColor&&(f.hoverColor="inherits");null==f.readyColor&&(f.readyColor=
"inherits");const b=f.value;delete f.value;this.callSuper(g,f);this.setValue(b);this.selected&&(g=this.getBAG("selected",this.groupId))&&g.setTrue(this);c.FontAwesome.registerForNotification(this);d(this)},setOptionValue:function(c){this.set("optionValue",c,!0)},setValue:function(c){if(this.inited){{const d=this.getBAG("selected",this.groupId);if(d){const b=d.getNodes();let a=b.length,e;for(;a;)if(e=b[--a],e.optionValue===c){d.setTrue(e);break}}}}},getValue:function(){var c=this.getBAG("selected",
this.groupId);return(c=c?c.trueNode:null)?c.optionValue:null},setSelected:function(c){this.selected!==c&&(this.selected=c,this.inited&&(this.fireEvent("selected",c),d(this)))},setGroupId:function(c){if(this.groupId!==c){const d=this.groupId;this.groupId=c;d&&this.removeFromBAG("selected",d);c&&this.addToBAG("selected",c);this.inited&&this.fireEvent("groupId",c)}},setLabel:function(c){this.label!==c&&(this.set("label",c,!0),this.inited&&d(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},
drawDisabledState:function(){this.setOpacity(c.Button.DEFAULT_DISABLED_OPACITY);this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
(c=>{const d=JS.Module,g=c.global.keys,f=c.Selectable=new d("Selectable",{setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return this.selected?!0:!1},canSelect:a=>!0,canDeselect:a=>!0}),b=c.SelectionManager=new d("SelectionManager",{extend:{isAddMode:()=>g.isShiftKeyDown(),isToggleMode:()=>g.isAcceleratorKeyDown()},initNode:function(a,b){this.__selected={};this.__lastSelectedItem=
null;b.selectedCount=0;null==b.itemSelectionId&&(b.itemSelectionId="id");null==b.maxSelected&&(b.maxSelected=-1);this.callSuper(a,b)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>b.isAddMode(),isToggleMode:()=>b.isToggleMode(),getSelected:function(){const a=[],b=this.__selected;for(const c in b)a.push(b[c]);
return a},select:function(a){a&&!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const b=this.maxSelected,c=this.selectedCount;if(0===b)return!1;if(1===b){if(0<c&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<
b&&c>=b)return!1;return a.canSelect(this)},selectAll:function(){const a=this.getSelectableItems();let b=a.length;for(;b;)this.select(a[--b])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},
canDeselectItem:function(a){return a.canDeselect(this)},deselectAll:function(){const a=this.__selected;for(const b in a)this.deselect(a[b])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],b=this.getSubviews();let c=b.length;for(;c;){const e=b[--c];e.isA(f)&&a.push(e)}return a},getSelectableItems:function(){const a=this.getManagedItems();let b=a.length;for(;b;)a[--b].canSelect(this)||
a.splice(b,1);return a},getSelectableItem:function(a){const b=this.getSelectableItems(),c=this.itemSelectionId;let d=b.length;for(;d;){const e=b[--d];if(e[c]===a)return e}return null}})})(myt);
(c=>{const d=JS.Class,g=c.View,f=c.SizeToParent,b=c.TabSlider=new d("TabSlider",g,{include:[c.Selectable,c.Disableable,f],extend:{DEFAULT_BUTTON_HEIGHT:30,DEFAULT_MINIMUM_CONTAINER_HEIGHT:100,DEFAULT_FILL_COLOR_SELECTED:"#666666",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",DEFAULT_FILL_COLOR_ACTIVE:"#cccccc",DEFAULT_FILL_COLOR_READY:"#ffffff",DEFAULT_ANIMATION_MILLIS:500},initNode:function(a,e){const d=this;let h;e.defaultPlacement="wrapper.container";e.percentOfParentWidth=100;e.expansionState="collapsed";
null==e.tabId&&(e.tabId=c.generateGuid());null==e.tabContainer&&(e.tabContainer=a);null==e.selected&&(e.selected=!1);null==e.buttonClass&&(e.buttonClass=c.SimpleButton);null==e.zIndex&&(e.zIndex=0);null==e.buttonHeight&&(e.buttonHeight=b.DEFAULT_BUTTON_HEIGHT);null==e.fillColorSelected&&(e.fillColorSelected=b.DEFAULT_FILL_COLOR_SELECTED);null==e.fillColorHover&&(e.fillColorHover=b.DEFAULT_FILL_COLOR_HOVER);null==e.fillColorActive&&(e.fillColorActive=b.DEFAULT_FILL_COLOR_ACTIVE);null==e.fillColorReady&&
(e.fillColorReady=b.DEFAULT_FILL_COLOR_READY);null==e.minContainerHeight&&(e.minContainerHeight=b.DEFAULT_MINIMUM_CONTAINER_HEIGHT);e.selected&&(h=!0,delete e.selected);d.callSuper(a,e);new d.buttonClass(d,{name:"button",ignorePlacement:!0,zIndex:1,height:d.buttonHeight,focusEmbellishment:!0,groupId:d.parent.parent.groupId,percentOfParentWidth:100,hoverColor:d.fillColorHover,activeColor:d.fillColorActive,readyColor:d.fillColorReady},[f,{doActivated:function(){const a=d.tabContainer;d.isSelected()&&
1!==a.maxSelected?a.deselect(d):a.select(d)},updateUI:function(){this.callSuper();d.selected&&-1!==d.tabContainer.maxSelected&&this.setBgColor(d.fillColorSelected);d.notifyButtonRedraw()}}]);a=new g(d,{name:"wrapper",ignorePlacement:!0,y:d.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[f,{setHeight:function(a,b){this.callSuper(Math.round(a),b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.container.setWidth(a)}}]);const k=new g(a,{name:"container"});
new c.SizeToChildren(k,{axis:"y"});d.constrain("__updateHeight",[a,"y",a,"height"]);h&&d.tabContainer.select(d);!0===e.disabled&&d.setDisabled(!0);d.setHeight(d.getCollapsedHeight())},setSelected:function(a){this.callSuper(a);this.button&&this.button.updateUI()},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},setMinContainerHeight:function(a){this.minContainerHeight=a},setButtonClass:function(a){this.buttonClass=a},setFillColorSelected:function(a){this.fillColorSelected=
a},setFillColorHover:function(a){this.fillColorHover=a},setFillColorActive:function(a){this.fillColorActive=a},setFillColorReady:function(a){this.fillColorReady=a},setButtonHeight:function(a){this.buttonHeight!==a&&(this.buttonHeight=a,this.button&&(this.button.setHeight(a),this.wrapper.setY(a)))},setExpansionState:function(a){if(this.expansionState!==a){this.expansionState=a;this.inited&&this.fireEvent("expansionState",a);const b=this.wrapper;b&&("expanded"===a?(b.setMaskFocus(!1),b.setOverflow("auto")):
"expanding"===a?b.setVisible(!0):"collapsed"===a?b.setVisible(!1):"collapsing"===a&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){const a=this.button;a&&a.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(a){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(a){const c=this,e=c.wrapper;a-=c.getCollapsedHeight();c.setExpansionState("expanding");e.stopActiveAnimators();e.height!==a?e.animate({attribute:"height",to:a,duration:b.DEFAULT_ANIMATION_MILLIS}).next(a=>
{c.setExpansionState("expanded")}):c.setExpansionState("expanded")},collapse:function(){const a=this,c=a.wrapper;a.setExpansionState("collapsing");c.stopActiveAnimators();0!==c.height?c.animate({attribute:"height",to:0,duration:b.DEFAULT_ANIMATION_MILLIS}).next(b=>{a.setExpansionState("collapsed")}):a.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},
getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container.height}}),a=c.TextTabSlider=new d("TextTabSlider",b,{extend:{DEFAULT_LABEL_TEXT_COLOR_CHECKED:"#ffffff",DEFAULT_LABEL_TEXT_COLOR:"#333333"},initNode:function(b,e){null==e.labelTextColorChecked&&(e.labelTextColorChecked=a.DEFAULT_LABEL_TEXT_COLOR_CHECKED);null==e.labelTextColor&&(e.labelTextColor=a.DEFAULT_LABEL_TEXT_COLOR);this.callSuper(b,e);new c.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",
ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(a){this.labelTextColorChecked=a},setLabelTextColor:function(a){this.labelTextColor=a},setText:function(a){if(this.text!==a){this.text=a;const b=this.button;b&&b.label&&b.label.setText(a)}},notifyButtonRedraw:function(){const a=this.button.label;a&&a.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?
this.labelTextColorChecked:this.labelTextColor}}),e=c.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[c.SelectionManager],extend:{DEFAULT_SPACING:1},initNode:function(a,d){const h=this;h._tabSliders=[];d.defaultPlacement="container";null==d.spacing&&(d.spacing=e.DEFAULT_SPACING);null==d.overflow&&(d.overflow="autoy");null==d.itemSelectionId&&(d.itemSelectionId="tabId");null==d.maxSelected&&(d.maxSelected=1);h.updateLayout=c.debounce(h.updateLayout);h.callSuper(a,d);a=new g(h,{name:"container",
ignorePlacement:!0,percentOfParentWidth:100},[f,{subnodeAdded:function(a){this.callSuper(a);a instanceof b&&(h._tabSliders.push(a),h.attachTo(a,"updateLayout","selected"))},subnodeRemoved:function(a){if(a instanceof b){const b=h._tabSliders;let c=b.length;for(;c;)if(b[--c]===a){h.detachFrom(a,"updateLayout","selected");b.splice(c,1);break}}this.callSuper(a)}}]);new c.SpacedLayout(a,{name:"layout",axis:"y",spacing:h.spacing,collapseParent:!0});h.attachTo(h,"updateLayout","height")},setSpacing:function(a){this.spacing!==
a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},updateLayout:function(a){a=this._tabSliders;for(var b=a.length,c=b,e=0,d=0,f=0;c;){var h=a[--c];h.visible&&(++f,h.selected?(e+=h.getMinimumExpandedHeight(),d+=h.getPreferredExpandedHeight()):(h=h.getCollapsedHeight(),e+=h,d+=h))}c=this.container.layout;f=c.inset+c.outset+c.spacing*(f-1);d+=f;c=this.height;e=e+f>c;f=d>c;d-=c;for(c=b;c;)if(b=a[--c],b.visible)if(b.selected){if(e)h=b.getMinimumExpandedHeight();else if(f){const a=b.getPreferredExpandedHeight(),
c=b.getMinimumExpandedHeight();h=a-d;c>h?(d-=a-c,h=c):d=0}else h=b.getPreferredExpandedHeight();b.expand(h)}else b.collapse()}})})(myt);
(c=>{const d=JS.Module,g=a=>{const c=null!=a.cornerRadius?a.cornerRadius:b.DEFAULT_RADIUS;switch(a.tabContainer.location){case "top":a.setRoundedTopLeftCorner(c);a.setRoundedTopRightCorner(c);break;case "bottom":a.setRoundedBottomLeftCorner(c);a.setRoundedBottomRightCorner(c);break;case "left":a.setRoundedTopLeftCorner(c);a.setRoundedBottomLeftCorner(c);break;case "right":a.setRoundedTopRightCorner(c),a.setRoundedBottomRightCorner(c)}},f=c.TabMixin=new d("TabMixin",{include:[c.Selectable],initNode:function(a,
b){null==b.tabId&&(b.tabId=c.generateGuid());null==b.tabContainer&&(b.tabContainer=a);let e;b.selected&&(e=!0,delete b.selected);this.callSuper(a,b);e&&this.tabContainer.select(this)},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},doActivated:function(){this.selected||this.tabContainer.select(this)}}),b=c.Tab=new JS.Class("Tab",c.SimpleIconTextButton,{include:[f],extend:{DEFAULT_HEIGHT:24,DEFAULT_INSET:8,DEFAULT_OUTSET:8,DEFAULT_FILL_COLOR_SELECTED:"#ffffff",DEFAULT_FILL_COLOR_HOVER:"#eeeeee",
DEFAULT_FILL_COLOR_ACTIVE:"#aaaaaa",DEFAULT_FILL_COLOR_READY:"#cccccc",DEFAULT_LABEL_TEXT_COLOR_SELECTED:"#333333",DEFAULT_RADIUS:6},initNode:function(a,c){null==c.inset&&(c.inset=b.DEFAULT_INSET);null==c.outset&&(c.outset=b.DEFAULT_OUTSET);null==c.selectedColor&&(c.selectedColor=b.DEFAULT_FILL_COLOR_SELECTED);null==c.hoverColor&&(c.hoverColor=b.DEFAULT_FILL_COLOR_HOVER);null==c.activeColor&&(c.activeColor=b.DEFAULT_FILL_COLOR_ACTIVE);null==c.readyColor&&(c.readyColor=b.DEFAULT_FILL_COLOR_READY);
null==c.labelTextSelectedColor&&(c.labelTextSelectedColor=b.DEFAULT_LABEL_TEXT_COLOR_SELECTED);null==c.height&&(c.height=b.DEFAULT_HEIGHT);null==c.focusEmbellishment&&(c.focusEmbellishment=!1);this.callSuper(a,c);g(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setSelectedColor:function(a){this.selectedColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&g(this)},setLabelTextColor:function(a){this.labelTextColor=a},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=
a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)}}),a=c.TabContainer=new d("TabContainer",{include:[c.SelectionManager],extend:{DEFAULT_SPACING:1,DEFAULT_INSET:0},initNode:function(b,d){this.__tabs=[];null==d.spacing&&(d.spacing=a.DEFAULT_SPACING);
null==d.inset&&(d.inset=a.DEFAULT_INSET);null==d.location&&(d.location="top");null==d.itemSelectionId&&(d.itemSelectionId="tabId");null==d.maxSelected&&(d.maxSelected=1);this.callSuper(b,d);let e;switch(this.location){case "top":case "bottom":e="x";break;case "left":case "right":e="y"}new c.SpacedLayout(this,{name:"layout",axis:e,spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&
this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(f))switch(this.__tabs.push(a),this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(f)){const b=
this.__tabs;let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);break}}this.callSuper(a)}})})(myt);
(c=>{const d=JS.Class,g=c.SizeToDom;var f=c.View,b=c.Disableable;const a=c.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE,e=(a,b,c)=>{a[c]!==b&&(a[c]=b,a.deStyle[c]=b+"px",a.inited&&(a.fireEvent(c,b),a.sizeViewToDom()))},h=(a,b,c)=>{a[b]!==c&&(a.getInnerDomElement()[b]=a[b]=c,a.inited&&a.fireEvent(b,c))},k=c.NativeInputWrapper=new d("NativeInputWrapper",f,{include:[b,c.InputObservable],initNode:function(a,b){null==b.tagName&&(b.tagName="input");null==b.focusable&&(b.focusable=!0);this.callSuper(a,b);
this.addDomClass("mytNativeInput")},createOurDomElement:function(a){a=this.callSuper(a);this.inputType&&((Array.isArray(a)?a[1]:a).type=this.inputType);return a},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==a&&(this.value=a,this.setDomValue(a),this.inited&&this.fireEvent("value",a))},getDomValue:function(){return this.getInnerDomElement().value},setDomValue:function(a){const b=this.getInnerDomElement();b.value!==
a&&(b.value=a)}}),m=c.InputSelectOption=new d("InputSelectOption",f,{include:[b,c.Selectable],createOurDomElement:a=>document.createElement("option"),setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);const b=this.getInnerDomElement();b.selected!==a&&(b.selected=a)},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){h(this,"value",a)},setLabel:function(a){this.label!==a&&(this.getInnerDomElement().textContent=this.label=
a,this.inited&&this.fireEvent("label",a))},isSelected:function(){return this.getInnerDomElement().selected},canSelect:function(a){return!this.disabled&&!this.getInnerDomElement().selected&&this.parent===a},canDeselect:function(a){return!this.disabled&&this.getInnerDomElement().selected&&this.parent===a}});f=c.BaseInputText=new d("BaseInputText",k,{include:[c.TextSupport],initNode:function(a,b){null==b.bgColor&&(b.bgColor="transparent");null==b.spellcheck&&(b.spellcheck=!1);this.callSuper(a,b);this.attachToDom(this,
"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(a){this.callSuper(a);this.setValue(a)},setSpellcheck:function(a){h(this,"spellcheck",a)},setMaxLength:function(a){h(this,"maxLength",null==a||0>a?void 0:a)},setAllowedChars:function(a){this.allowedChars=a},setPlaceholder:function(a){h(this,"placeholder",a)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(a)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();
this.setBoxShadow()},__filterInput:function(a){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(a){a=a.value;const b=a.which;switch(b){case 8:case 0:return}const c=this.allowedChars;c&&-1===c.indexOf(String.fromCharCode(b))&&a.preventDefault();this.filterInputPress(a)},filterInput:a=>a,filterInputPress:a=>{},__syncToDom:function(a){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const a=document.selection.createRange();a.moveStart("character",
-this.getDomValue().length);return a.text.length}return this.getInnerDomElement().selectionStart||0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}var c=this.getInnerDomElement();c.setSelectionRange?c.setSelectionRange(a,b):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},
selectAll:function(){this.getInnerDomElement().select()},getSelection:function(){const a=this.getInnerDomElement();return{start:a.selectionStart,startElem:a,end:a.selectionEnd,endElem:a}},setSelection:function(a){a&&this.setCaretPosition(a.start,a.end)},saveSelection:function(a){this._selRange=a||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});b=c.InputText=new d("InputText",f,{include:[c.SizeHeightToDom],initNode:function(a,b){this.inputType=
!0===b.password?"password":"text";this.callSuper(a,b);this.setCaretToEnd()},setPassword:function(a){this.password=a}});c.EditableText=new d("EditableText",f,{include:[g],initNode:function(a,b){null==b.tagName&&(b.tagName="div");b.inputType=null;null==b.whiteSpace&&(b.whiteSpace="pre");null==b.contentEditable&&(b.contentEditable=!0);this.callSuper(a,b);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");
this.setCaretToEnd()},setMinWidth:function(a){e(this,a,"minWidth")},setMinHeight:function(a){"Firefox"===BrowserDetect.browser&&(a+=2);e(this,a,"minHeight")},setPadding:function(a){this.setPaddingTop(a);this.setPaddingRight(a);this.setPaddingBottom(a);this.setPaddingLeft(a)},setPaddingTop:function(a){e(this,a,"paddingTop")},setPaddingRight:function(a){e(this,a,"paddingRight")},setPaddingBottom:function(a){e(this,a,"paddingBottom")},setPaddingLeft:function(a){e(this,a,"paddingLeft")},setContentEditable:function(a){h(this,
"contentEditable",a)},filterInputPress:function(a){const b=this.maxLength;0<=b&&this.getCharacterCount()===b&&a.preventDefault();this.callSuper(a)},getDomValue:function(){return this.getInnerDomElement().innerHTML},setDomValue:function(a){const b=this.getInnerDomElement();b.innerHTML!==a&&(b.innerHTML=a,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(a){13===c.KeyObservable.getKeyCodeFromEvent(a)&&(a.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",
!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(a){this.callSuper(a);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const a=this.getInnerDomElement().firstChild;return a?a.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const a=this.getSelection();return a?a.end:0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}this.saveSelection({start:a,
startElem:this.getInnerDomElement().firstChild,end:b,endElem:this.getInnerDomElement().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(a){this.saveSelection();return!0},getSelection:function(){let a;if(window.getSelection){const b=window.getSelection();if(0<b.rangeCount){if(b.extentNode===this.getInnerDomElement())return null;a=b.getRangeAt(0)}}else document.selection&&(a=document.selection.createRange());return{start:a?a.startOffset:0,startElem:a?
a.startContainer:this.getInnerDomElement().firstChild,end:a?a.endOffset:0,endElem:a?a.endContainer:this.getInnerDomElement().firstChild}},setSelection:function(a){if(a){const b=a.startElem,c=a.endElem;if(b&&b.parentNode&&c&&c.parentNode){const e=document.createRange();e.setStart(b,Math.min(a.start,b.length));e.setEnd(c,Math.min(a.end,c.length));window.getSelection?(a=window.getSelection(),0<a.rangeCount&&a.removeAllRanges(),a.addRange(e)):document.selection&&e.select()}}}});c.InputTextArea=new d("InputTextArea",
f,{initNode:function(a,b){null==b.tagName&&(b.tagName="textarea");b.inputType=null;null==b.resize&&(b.resize="none");null==b.wrap&&(b.wrap="soft");this.callSuper(a,b)},setResize:function(a){this.resize!==a&&(this.resize=this.getInnerDomStyle().resize=a||"none",this.inited&&this.fireEvent("resize",a))},setWrap:function(a){h(this,"wrap",a)}});c.ComboBox=new d("ComboBox",b,{include:[c.Activateable,c.KeyActivation,c.ListViewAnchor],initNode:function(a,b){this.filterItems=!0;null==b.activationKeys&&(b.activationKeys=
[13,27,38,40]);null==b.bgColor&&(b.bgColor="#ffffff");null==b.borderWidth&&(b.borderWidth=1);null==b.borderStyle&&(b.borderStyle="solid");null==b.floatingAlignOffset&&(b.floatingAlignOffset=b.borderWidth);null==b.listViewAttrs&&(b.listViewAttrs={maxHeight:99});null==b.fullItemConfig&&(b.fullItemConfig=[]);this.callSuper(a,b)},setFullItemConfig:function(a){this.fullItemConfig=a},setFilterItems:function(a){this.filterItems=a},__syncToDom:function(a){const b=this.value;this.callSuper(a);b!==this.value&&
this.showFloatingPanel()},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);if(b){let e;if(this.filterItems){e=[];var c=this.value;c=null==c?"":(""+c).toLowerCase();const a=this.fullItemConfig,b=a.length;for(let d=0;b>d;){const b=a[d++],f=b.attrs.text.toLowerCase(),h=f.indexOf(c);0===h?f!==c&&e.push(b):0<h&&e.push(b)}}else e=this.fullItemConfig;0<e.length?(b.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(e),this.callSuper(a)):this.hideFloatingPanel(a)}},doItemActivated:function(a){this.setValue(a.text);
this.callSuper(a)},doActivated:function(){this.toggleFloatingPanel()}});c.InputSelect=new d("InputSelect",k,{include:[g],initNode:function(a,b){null==b.tagName&&(b.tagName="select");b.inputType=null;null==b.multiple&&(b.multiple=!1);null==b.size&&(b.size=b.multiple?4:1);this.callSuper(a,b);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(a){h(this,"multiple",a)},setSize:function(a){h(this,"size",a)},setOptions:function(a){this.destroyAllOptions();Array.isArray(a)&&
a.forEach(a=>{this.addOption(a)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(a){Array.isArray(a)&&c.areArraysEqual(a,this.value)||this.value===a||(this.value=a,this.inited&&this.fireEvent("value",a))},subviewAdded:function(a){a instanceof m||(c.dumpStack("Subview not supported. Destroying it."),a.destroy())},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(a)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();
this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(a=>a.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(a=>a.value)},getOptionForValue:function(a){return this.getOptions().find(b=>b.value===a)},addOption:function(a){return new m(this,a)},destroyAllOptions:function(){this.getOptions().forEach(a=>{a.destroy()})},destroyOptionWithValue:function(a){if(a=this.getOptionForValue(a))if(a.destroy(),a.destroyed)return!0;return!1},deselectAll:function(){let a=
!1;this.getOptions().forEach(b=>{b.isSelected()&&(b.setSelected(!1),a=!0)});a&&this.__doChanged()},selectValues:function(a){(Array.isArray(a)?a:[a]).forEach(a=>{this.selectValue(a)})},selectValue:function(a){this.select(this.getOptionForValue(a))},select:function(a){a&&a.canSelect(this)&&(a.setSelected(!0),this.__syncToDom())},deselectValue:function(a){this.deselect(this.getOptionForValue(a))},deselect:function(a){a&&a.canDeselect(this)&&(a.setSelected(!1),this.__syncToDom())},__doChanged:function(a){this.__syncToDom();
this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
myt.DragDropSupport=new JS.Module("DragDropSupport",{include:[myt.DragDropObservable],initNode:function(c,d){this.callSuper(c,d);this.disabled||this.setupDragListeners()},setDisabled:function(c){this.disabled!==c&&(this.getInnerDomElement().disabled=c,this.callSuper(c),this.inited&&(c?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){this.attachToDom(this,"doDragOver","dragover",!1);this.attachToDom(this,"doDragEnter","dragenter",!1);this.attachToDom(this,"doDragLeave",
"dragleave",!1);this.attachToDom(this,"doDrop","drop",!1)},teardownDragListeners:function(){this.detachFromDom(this,"doDragOver","dragover",!1);this.detachFromDom(this,"doDragEnter","dragenter",!1);this.detachFromDom(this,"doDragLeave","dragleave",!1);this.detachFromDom(this,"doDrop","drop",!1)},doDragOver:function(c){},doDragEnter:function(c){},doDragLeave:function(c){},doDrop:function(c){this.handleFiles(c.value.dataTransfer.files,c)},handleFiles:function(c,d){if(void 0!==c){let g=c.length,f;for(;g;)(f=
this.filterFiles(c[--g]))&&this.handleDroppedFile(f,d)}else myt.dumpStack("Browser doesn't support the File API")},filterFiles:function(c){return c},handleDroppedFile:function(c,d){}});
(c=>{const d=JS.Module;var g=c.ValueComponent=new d("ValueComponent",{initNode:function(b,a){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(b,a)},setValueFilter:function(b){this.valueFilter=b;this.inited&&b&&this.setValue(this.value)},setValue:function(b){this.valueFilter&&(b=this.valueFilter(b));this.value!==b&&(this.value=b,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(b,a){const c=this.valueFilter;this.setValueFilter(c?
"last"===a?a=>b(c(a)):a=>c(b(a)):b)}});const f=c.RangeComponent=new d("RangeComponent",{include:[g],setLowerValue:function(b){this.setValue({lower:b,upper:this.value&&void 0!==this.value.upper?this.value.upper:b})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(b){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:b,upper:b})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(b){if(b){var a=this.value;
const c=a?a.lower:void 0;a=a?a.upper:void 0;this.valueFilter&&(b=this.valueFilter(b));if(b.lower!==c||b.upper!==a){null==b.lower&&(b.lower=b.upper);null==b.upper&&(b.upper=b.lower);if(void 0!==b.lower&&void 0!==b.upper&&b.lower>b.upper){const a=b.lower;b.lower=b.upper;b.upper=a}this.value=b;this.inited&&(this.fireEvent("value",this.getValue()),b.lower!==c&&this.fireEvent("lowerValue",b.lower),b.upper!==a&&this.fireEvent("upperValue",b.upper))}}else this.callSuper(b)},getValueCopy:function(){const b=
this.value;return{lower:b.lower,upper:b.upper}}});g=c.BoundedValueComponent=new d("BoundedValueComponent",{include:[g],initNode:function(b,a){const c=this;c.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==a.snapToInt&&(a.snapToInt=!0);a.valueFilter||(a.valueFilter=a=>{var b=c.maxValue;if(null!=b&&a>b)return b;b=c.minValue;return null!=b&&a<b?b:a});c.callSuper(b,a)},setSnapToInt:function(b){this.snapToInt!==b&&(this.snapToInt=b,this.inited&&(this.fireEvent("snapToInt",b),b&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(b){this.snapToInt&&null!=b&&(b=Math.round(b));if(this.minValue!==b){const a=this.maxValue;null!=a&&b>a&&(b=a);this.minValue!==b&&(this.minValue=b,this.inited&&(this.fireEvent("minValue",b),this.setValue(this.value)))}},setMaxValue:function(b){this.snapToInt&&null!=b&&(b=Math.round(b));if(this.maxValue!==b){const a=this.minValue;null!=a&&b<a&&(b=a);this.maxValue!==b&&(this.maxValue=b,this.inited&&(this.fireEvent("maxValue",
b),this.setValue(this.value)))}},setValue:function(b){this.callSuper(this.snapToInt&&null!=b&&!isNaN(b)?Math.round(b):b)}});c.BoundedRangeComponent=new d("BoundedRangeComponent",{include:[g,f],initNode:function(b,a){const c=this;a.valueFilter||(a.valueFilter=a=>{if(a){const b=c.maxValue,e=c.minValue;null!=b&&a.upper>b&&(a.upper=b);null!=e&&a.lower<e&&(a.lower=e)}return a});c.callSuper(b,a)},setValue:function(b){this.snapToInt&&null!=b&&(null==b.lower||isNaN(b.lower)||(b.lower=Math.round(b.lower)),
null==b.upper||isNaN(b.upper)||(b.upper=Math.round(b.upper)));this.callSuper(b)}})})(myt);
(c=>{const d=c=>{const d=c.label||"";c.setText('<i class="'+("solid"===(c.checkboxStyle||"outline")?"fas":"far")+" fa-"+(c.isChecked()?"check-":"")+'square"></i>'+(0<d.length?" ":"")+d)};c.Checkbox=new JS.Class("Checkbox",c.Text,{include:[c.SimpleButtonStyle,c.ValueComponent],initNode:function(g,f){null==f.value&&(f.value=!1);null==f.focusEmbellishment&&(f.focusEmbellishment=!1);null==f.checkboxStyle&&(f.checkboxStyle="outline");null==f.activeColor&&(f.activeColor="inherits");null==f.hoverColor&&
(f.hoverColor="inherits");null==f.readyColor&&(f.readyColor="inherits");this.callSuper(g,f);c.FontAwesome.registerForNotification(this);d(this)},setValue:function(c){this.value!==c&&(this.callSuper(c),this.inited&&d(this))},setLabel:function(c){this.label!==c&&(this.set("label",c,!0),this.inited&&d(this))},setCheckboxStyle:function(c){this.checkboxStyle!==c&&(this.set("checkboxStyle",c,!0),this.inited&&d(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},
drawDisabledState:function(){this.setOpacity(c.Button.DEFAULT_DISABLED_OPACITY);this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
(c=>{let d;const g=JS.Class,f=JS.Module,b=c.global,a=b.focus,e={},h=(a,b)=>{if(a){const e=a.id;a.id?b(e):c.dumpStack("No ID")}else c.dumpStack("No processor")},k=a=>{h(a,b=>{e[b]=a})},m=a=>{const b=c.BAG.getGroup("selected",a.groupId);if(b){const c=b.getNodes();a=a.value;let e=c.length;for(;e;){const d=c[--e];if(d.optionValue===a){b.setTrue(d);break}}}},n=a=>{if(a.groupId){const b=c.BAG.getGroup("selected",a.groupId);b&&a.syncTo(b,"__syncValue","trueNode")}},l=(a,b)=>{const c=a.__v,e=c.length,d=[];
for(let f=0;e>f;)b=c[f++].isFormValid(a,null,d)&&b;a.setErrorMessages(d);a.setIsValid(b);return b},p=(a,b,c)=>{a=a.__vp;const e=a.length;for(let d=0;e>d;){const e=a[d++];e[c]&&(b=e.process(b))}return b},r=c.ValueProcessor=new g("ValueProcessor",{initialize:function(a,b,c,e){this.id=a;this.runForDefault=b?!0:!1;this.runForRollback=c?!0:!1;this.runForCurrent=e?!0:!1},process:a=>a}),t=c.ToNumberValueProcessor=new g("ToNumberValueProcessor",r,{process:a=>{if(null==a||""===a||"-"===a)return a;const b=
Number(a);return isNaN(b)?a:b}}),v=c.TrimValueProcessor=new g("TrimValueProcessor",r,{initialize:function(a,b,c,e,d){this.callSuper(a,b,c,e);this.trim=d},process:function(a){a+="";switch(this.trim){case "start":case "left":return a.trimStart();case "end":case "right":return a.trimEnd();default:return a.trim()}}}),u=c.UndefinedValueProcessor=new g("UndefinedValueProcessor",r,{initialize:function(a,b,c,e,d){this.callSuper(a,b,c,e);this.defaultValue=d},process:function(a){return void 0===a?this.defaultValue:
a}}),y=c.Form=new f("Form",{initNode:function(a,b){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(a,b);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(a){this.errorMessages=a},getFullId:function(){const a=[this.id];let b=this.form;for(;b&&b.id;)a.unshift(b.id),b=b.form;return a.join(".")},setId:function(a){if(this.id!==a){const b=this.id;this.id=
a;(a=this.form)&&this.inited&&(a.removeSubForm(b),a.addSubForm(this))}},setForm:function(a){if(this.form!==a){const b=this.form;this.form=a;b&&b.removeSubForm(this.id);a&&this.inited&&a.addSubForm(this)}},setIsValid:function(a){this.isValid=a;this.inited&&this.fireEvent("isValid",a);const b=this.form;b&&!this._lockCascade&&(a?b.verifyValidState(this):b.notifySubFormInvalid())},setIsChanged:function(a){if(this.isChanged!==a){this.isChanged=a;this.inited&&this.fireEvent("isChanged",a);const b=this.form;
b&&!this._lockCascade&&(a?b.notifySubFormChanged():b.verifyChangedState(this))}},setValidators:function(a){let c=a.length;for(;c;){const e=a[--c];"string"===typeof e&&(a[c]=b.validators.getValidator(e),a[c]||a.splice(c,1))}this.__v=a},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(q))return this.value;const a={},b=this.__sf;for(const c in b)a[c]=b[c].getValue();return a},setValue:function(a){this.callSuper&&this.callSuper(a);if("object"===typeof a&&!this.isA(q))for(const b in a){const c=
this.getSubForm(b);c?a[b]=c.setValue(a[b]):console.warn("ID in setValue for non-existant subform",b)}this.form&&this.form.notifyValueChanged(this);return a},getDefaultValue:function(){const a={};let b=this.__sf;for(const c in b)a[c]=b[c].getDefaultValue();return a},setDefaultValue:function(a){if("object"===typeof a)for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setDefaultValue(a[b]):console.warn("ID in setDefaultValue for non-existant subform",b)}return a},getRollbackValue:function(){const a=
{},b=this.__sf;for(const c in b)a[c]=b[c].getRollbackValue();return a},setRollbackValue:function(a){if("object"===typeof a)for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setRollbackValue(a[b]):console.warn("ID in setRollbackValue for non-existant subform",b)}return a},addAccelerator:function(a,b){this.__acc[a]=b},removeAccelerator:function(a){delete this.__acc[a]},invokeAccelerator:function(a,b){(a=this.__acc[a])&&a.call(this,void 0===b?null:b)},addValidator:function(a){a&&this.__v.push(a)},
removeValidator:function(a){if(a){const b=this.__v;let c=b.length;for(;c;){const e=b[--c];if(e.id===a)return b.splice(c,1),e}}return null},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(a){const b=a.id;null!=this.getSubForm(b)?console.warn("ID in use for subform, add aborted.",b,a):(a.setForm(this),this.__sf[b]=a,a.isChanged&&this.notifySubFormChanged(),a.isValid||this.notifySubFormInvalid())},removeSubForm:function(a){const b=this.getSubForm(a);b&&(b.setForm(null),
delete this.__sf[a],this.verifyChangedState(),this.verifyValidState());return b},getSubForm:function(a){return this.__sf[a]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(a){a&&this.doValidation();const b=[];(function B(a){if(a.isA(q))a.isValid||b.push(a.getFullId());else{a=a.getSubForms();for(const b in a)B(a[b])}})(this);return b},getAllErrorMessages:function(){const a=this.__sf;let b=(this.errorMessages||[]).concat();for(const c in a)b=b.concat(a[c].getAllErrorMessages());
return b},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(a){const b=this.__sf;let c=!0;for(const e in b){const d=b[e];d!==a&&(c=d.isValid&&c)}return l(this,c)},doValidation:function(){const a=this.__sf;let b=!0;for(const c in a)b=a[c].doValidation()&&b;this._lockCascade=!0;b=l(this,b);this._lockCascade=!1;return b},notifyValueChanged:function(a){this.form&&this.form.notifyValueChanged(a)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(a){const b=
this.__sf;let c=!1;for(const e in b){const d=b[e];d!==a&&(c=d.isChanged||c)}this.setIsChanged(c);return c},setup:function(a,b,c){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==a&&(a={});null==b&&(b={});null==c&&(c={});const e=this.__sf;for(const d in e)e[d].setup(a[d],b[d],c[d])},resetForm:function(){this._lockCascade=!0;const a=this.__sf;for(const b in a)a[b].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);
this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const a=this.__sf;for(const b in a)a[b].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const a={},b=this.__sf;for(const c in b){const e=b[c];e.isChanged&&(a[c]=e.getChangedValue())}return a}}),q=c.FormElement=new f("FormElement",{include:[y],initNode:function(a,b){this.__vp=[];this.callSuper(a,b)},getValue:function(){return p(this,this.callSuper?this.callSuper():
this.value,"runForCurrent")},setValue:function(a){void 0===a&&(a=this.getRollbackValue());this.value!==a&&(this.callSuper(a),this.verifyChangedState());return a},getDefaultValue:function(){return p(this,this.defaultValue,"runForDefault")},setDefaultValue:function(a){this.defaultValue!==a&&(this.defaultValue=a,this.inited&&this.fireEvent("defaultValue",a),this.verifyChangedState());return a},getRollbackValue:function(){return p(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(a){void 0===
a&&(a=this.getDefaultValue());this.rollbackValue!==a&&(this.rollbackValue=a,this.inited&&this.fireEvent("rollbackValue",a),this.verifyChangedState());return a},setValueProcessors:function(a){let b=a.length;for(;b;){const c=a[--b];"string"===typeof c&&(a[b]=e[c],a[b]||a.splice(b,1))}this.__vp=a},addValueProcessor:function(a){this.__vp.push(a)},removeValueProcessor:function(a){if(a){const b=this.__vp;let c=b.length;for(;c;){const e=b[--c];if(e.id===a)return b.splice(c,1),e}}return null},addSubForm:a=>
{c.dumpStack("addSubForm not supported on FormElement.")},getSubForm:a=>{c.dumpStack("getSubForm not supported on FormElement.");return null},removeSubForm:a=>{c.dumpStack("removeSubForm not supported on FormElement.");return null},verifyChangedState:function(a){a=this.getValue()!==this.getRollbackValue();this.setIsChanged(a);return a},setup:function(a,b,c){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(a);this.setRollbackValue(b);this.setIsChanged(!1);
this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(c)},resetForm:function(){this._lockCascade=!0;const a=this.getDefaultValue();this.setRollbackValue(a);this.setValue(a);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?
this.getValue():void 0}}),z=c.FormInputTextMixin=new f("FormInputTextMixin",{include:[q,c.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";null==b.bgColor&&(b.bgColor="#ffffff");null==b.borderWidth&&(b.borderWidth=1);null==b.borderStyle&&(b.borderStyle="solid");null==b.focusEmbellishment&&(b.focusEmbellishment=!0);this.callSuper(a,b);this.addValueProcessor(d);this.attachToDom(this,
"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);
this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),
this.form&&this.form.verifyChangedState(this)}},__handleKeyDown:function(a){13===c.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("accept")},__handleKeyUp:function(a){27===c.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
c.RootForm=new f("RootForm",{include:[y],initNode:function(a,b){this.callSuper(a,b);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:a=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();this.doValidation()}});c.FormCheckbox=new g("FormCheckbox",c.Checkbox,{include:[q],initNode:function(a,b){this.rollbackValue=this.defaultValue=
!1;this.callSuper(a,b)}});c.FormComboBox=new g("FormComboBox",c.ComboBox,{include:[q,c.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#ff9999";this.actionRequiredColor="#996666";this.normalColor="#999999";this.callSuper(a,b);this.addValueProcessor(d);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=
a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(a){this._isShown=!0},notifyPanelHidden:function(a){this._isShown=!1},doActivationKeyDown:function(a,b){27!==a||this._isShown?this.callSuper(a,b):this.invokeAccelerator("reject")},doActivationKeyUp:function(a){13!==
a||this._isShown?this.callSuper(a):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});c.FormEditableText=new g("FormEditableText",c.EditableText,{include:[z],__handleKeyDown:function(a){"nowrap"===this.whitespace&&this.callSuper(a)}});c.FormInputText=new g("FormInputText",
c.InputText,{include:[z]});c.FormInputTextArea=new g("FormInputTextArea",c.InputTextArea,{include:[z],__handleKeyDown:function(a){}});c.FormInputSelect=new g("FormInputSelect",c.InputSelect,{include:[q],setValue:function(a){if(!this.__abortSetValue)return a=this.callSuper(a),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(a),this.__abortSetValue=!1,a}});c.FormRadioGroup=new g("FormRadioGroup",c.Node,{include:[c.ValueComponent,q],initNode:function(a,b){null==b.groupId&&(b.groupId=c.generateGuid());
this.callSuper(a,b);void 0!==this.value&&m(this);n(this)},setValue:function(a){a=this.callSuper(a);this.inited&&m(this);return a},setGroupId:function(a){if(this.groupId!==a){if(this.groupId){const a=c.BAG.getGroup("selected",this.groupId);a&&this.detachFrom(a,"__syncValue","trueNode")}this.groupId=a;this.inited&&n(this)}},__syncValue:function(a){this.setValue(a.value?a.value.optionValue:null)}});c.UseOtherFieldIfEmptyValueProcessor=new g("UseOtherFieldIfEmptyValueProcessor",r,{initialize:function(a,
b,c,e,d){this.callSuper(a,b,c,e);this.otherField=d},process:function(a){return null==a||""===a?this.otherField.getValue():a}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){k(d=new u("undefToEmpty",!0,!0,!0,""));k(new t("toNumber",!0,!0,!0));k(new v("trimLeft",!0,!0,!0,"left"));k(new v("trimRight",!0,!0,!0,"right"));k(new v("trimBoth",!0,!0,!0,"both"));b.register("valueProcessors",this)},getValueProcessor:a=>e[a],register:k,unregister:a=>{h(a,a=>{e[a]&&delete e[a]})}})})(myt);
myt.Uploader=new JS.Class("Uploader",myt.View,{include:[myt.DragDropSupport,myt.Disableable,myt.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",MIME_TYPES_BY_EXTENSION:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},readFile:function(c,d){if(void 0!==FileReader){const g=new FileReader;g.onload=d;g.readAsDataURL(c)}},isSameFile:function(c,d){return null==c||null==d?!1:c.name===d.name&&c.type===d.type&&c.size===d.size},createFile:function(c){const d=(new myt.URI(c)).file;
return{name:d,serverPath:c,size:-1,type:this.MIME_TYPES_BY_EXTENSION[myt.getExtension(d)]}}},initNode:function(c,d){const g=this;g.files=[];null==d.requestFileParam&&(d.requestFileParam="file");null==d.maxFiles&&(d.maxFiles=-1);g.callSuper(c,d);new myt.NativeInputWrapper(g,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:g.disabled,overflow:"hidden"},[myt.SizeToParent,{initNode:function(c,b){this.inputType="file";this.callSuper(c,b);this.attachToDom(this,"_handleInput",
"change");this.domElement.multiple=1<g.maxFiles},_handleInput:function(c){g.handleFiles(this.domElement.files,c)}}])},setValue:function(c){this.clearFiles();if(c){Array.isArray(c)||(c=[c]);const d=c.length;let g=0;for(;d>g;++g)this.addFile(myt.Uploader.createFile(c[g]))}return this.callSuper?this.callSuper(c):c},getValue:function(){return this.value},setDisabled:function(c){this.callSuper(c);this.fileInput&&this.fileInput.setDisabled(c)},setMaxFiles:function(c){this.maxFiles!==c&&(this.maxFiles=c,
this.inited&&this.fireEvent("maxFiles",c),this.fileInput&&(this.fileInput.domElement.multiple=1<c))},setUploadUrl:function(c){this.set("uploadUrl",c,!0)},setRequestFileParam:function(c){this.set("requestFileParam",c,!0)},bringSubviewToFront:function(c){c===this.fileInput?this.callSuper(c):this.sendSubviewBehind(c,this.fileInput)},subviewAdded:function(c){this.callSuper(c);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(c,d){this.addFile(c)},filterFiles:function(c){return 0<=
this.maxFiles&&this.files.length>=this.maxFiles?null:c},uploadFiles:function(c,d){c=c||this.uploadUrl;const g=this.files;let f=g.length;for(;f;)this.uploadFile(g[--f],c,d)},uploadFile:function(c,d,g){const f=this,b=new FormData;b.append(g||f.requestFileParam,c,c.name);myt.doFetch(d||f.uploadUrl,{method:"POST",body:b},!1,a=>{f.handleUploadSuccess(c,a)},a=>{f.handleUploadFailure(c,a)})},handleUploadSuccess:function(c,d){c[myt.Uploader.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(c,d);this.updateValueFromFiles()},
handleUploadFailure:(c,d)=>{myt.dumpStack("Upload failure: "+d.status+" : "+d.message)},parseServerPathFromResponse:(c,d)=>null,addFile:function(c){this.files.push(c);this.updateValueFromFiles();this.fireEvent("addFile",c)},removeFile:function(c){const d=this.files;let g=d.length;for(;g;)if(myt.Uploader.isSameFile(d[--g],c)){d.splice(g,1);this.updateValueFromFiles();this.fireEvent("removeFile",c);break}},updateValueFromFiles:function(){const c=[];var d=this.files;let g=d.length,f;for(;g;)(f=d[--g][myt.Uploader.FILE_ATTR_SERVER_PATH])&&
c.push(f);d=c.length;this.value=1===d?c[0]:0===d?void 0:c;this.value||(this.fileInput.domElement.value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const c=this.files;let d=c.length;for(;d;)this.removeFile(c[--d])}});
myt.ImageUploader=new JS.Class("ImageUploader",myt.Uploader,{extend:{isImageFile:function(c){return/image/i.test(c.type)}},initNode:function(c,d){d.maxFiles=1;this.callSuper(c,d)},setWidth:function(c,d){this.callSuper(c,d);this.inited&&this.updateImageSize()},setHeight:function(c,d){this.callSuper(c,d);this.inited&&this.updateImageSize()},filterFiles:function(c){if(!myt.ImageUploader.isImageFile(c))return null;for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(c)},addFile:function(c){const d=
this;d.callSuper(c);const g=d.image=new myt.Image(d,{useNaturalSize:!1,align:"center",valign:"middle"});g.file=c;if(-1===c.size){const f=new Image;f.onload=function(){c.width=this.width;c.height=this.height;g&&!g.destroyed&&d.updateImage(c,g,this.src)};f.src=c.serverPath}else void 0!==FileReader&&myt.ImageUploader.isImageFile(c)&&myt.Uploader.readFile(c,function(f){const b=new Image;b.onload=function(){c.width=this.width;c.height=this.height;g&&!g.destroyed&&d.updateImage(c,g,this.src)};b.src=f.target.result})},
scaleToFit:function(c,d,g,f){return g/f>c/d?[c,f*c/g]:[g*d/f,d]},removeFile:function(c){this.callSuper(c);const d=this.getSubviews();let g=d.length,f;for(;g;)if(f=d[--g],myt.Uploader.isSameFile(f.file,c)){f.destroy();break}},handleDroppedFile:function(c,d){this.callSuper(c,d);this.uploadFile(c,this.uploadUrl)},updateImage:function(c,d,g){this.nativeWidth=c.width;this.nativeHeight=c.height;this.updateImageSize();d.setImageUrl(g)},updateImageSize:function(){const c=this.image;if(c&&!c.destroyed){var d=
this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const g=Math.round(d[0]);d=Math.round(d[1]);c.setImageSize(g+"px "+d+"px");c.setWidth(g);c.setHeight(d)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}});
(c=>{const d=Math,g=d.max,f=d.min,b=a=>f(255,g(0,d.round(a))),a=a=>{a=b(a).toString(16);return 1===a.length?"0"+a:a},e=(b,c,e,d)=>[d?"#":"",a(b),a(c),a(e)].join(""),h=a=>new p((16711680&a)>>16,(65280&a)>>8,255&a),k=(a,c,e)=>(b(a)<<16)+(b(c)<<8)+b(e),m=(a,b)=>{if("string"===typeof a)if(a.endsWith("%"))a=parseFloat(a.substring(0,a.length-1))*b/100;else return 0;a=f(b,g(0,a))/b;return 1E-6>d.abs(1-a)?1:a},n=(a,b,c)=>{a=m(a,255);b=m(b,255);c=m(c,255);const e=g(a,b,c),d=e-f(a,b,c);if(0===d)return{h:0,
s:0,v:e};{let f;switch(e){case a:f=(b-c)/d+(b<c?6:0);break;case b:f=(c-a)/d+2;break;case c:f=(a-b)/d+4}return{h:60*f,s:0===e?0:d/e,v:e}}},l=(a,b,c)=>{a=6*m(a,360);b=m(b,100);c=m(c,100);var e=d.floor(a);const f=a-e;a=c*(1-b);const h=c*(1-f*b);b=c*(1-(1-f)*b);e%=6;return{red:255*[c,h,a,a,b,c][e],green:255*[b,c,c,h,a,a][e],blue:255*[a,a,b,c,c,h][e]}},p=c.Color=new JS.Class("Color",{extend:{toUnitRange:m,rgbToHsv:n,hsvToRgb:l,toHex:a,rgbToHex:e,cleanChannelValue:b,getRedChannel:a=>(16711680&a)>>16,getGreenChannel:a=>
(65280&a)>>8,getBlueChannel:a=>255&a,makeColorFromNumber:h,makeColorFromHexString:a=>a?(a.startsWith("#")||(a="#"+a),h(parseInt(a.substring(1),16))):null,makeColorFromHSV:(a,b,c)=>{a=l(a,b,c);return h(k(a.red,a.green,a.blue))},getLighterColor:(a,b)=>h(a).isLighterThan(h(b))?a:b,makeColorNumberFromChannels:k,makeBlendedColor:(a,b,c)=>new p(a.red+c*(b.red-a.red),a.green+c*(b.green-a.green),a.blue+c*(b.blue-a.blue))},initialize:function(a,b,c){this.setRed(a);this.setGreen(b);this.setBlue(c)},setRed:function(a){this.red=
b(a)},setGreen:function(a){this.green=b(a)},setBlue:function(a){this.blue=b(a)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return e(this.red,this.green,this.blue,!0)},getHSV:function(){return n(this.red,this.green,this.blue)},isLighterThan:function(a){a=this.getDiffFrom(a);return 0>a.red+a.green+a.blue},getDiffFrom:function(a){return{red:a.red-this.red,green:a.green-this.green,blue:a.blue-this.blue}},applyDiff:function(a){return this.add(a)},
add:function(a){this.setRed(this.red+a.red);this.setGreen(this.green+a.green);this.setBlue(this.blue+a.blue);return this},subtract:function(a){this.setRed(this.red-a.red);this.setGreen(this.green-a.green);this.setBlue(this.blue-a.blue);return this},multiply:function(a){this.setRed(this.red*a);this.setGreen(this.green*a);this.setBlue(this.blue*a);return this},divide:function(a){this.setRed(this.red/a);this.setGreen(this.green/a);this.setBlue(this.blue/a);return this},clone:function(){return new p(this.red,
this.green,this.blue)},equals:function(a){return a===this||a&&a.isA&&a.isA(p)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
(c=>{const d=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),g=b=>{let a=b.properties;a?(a="string"===typeof a?a.split(" "):a.concat(),a.unshift(b.size),a.unshift(b.icon)):a=[b.icon,b.size];b.setHtml(f.makeTag(a))};c.loadCSSFonts(["//use.fontawesome.com/releases/v5.0.8/css/all.css"]);const f=c.FontAwesome=new JS.Class("FontAwesome",c.Markup,{extend:{makeTag:function(b){if(Array.isArray(b)){let a=b.length,c,f;if(0<a){b.unshift("fa");++a;0!==b[1].indexOf("fa-")&&(b[1]="fa-"+b[1]);3<=a&&(b[2]=d[b[2]]||"");
if(3<a)for(f=3;a>f;++f)c=b[f],0!==c.indexOf("fa-")&&(b[f]="fa-"+c);return'<i class="'+b.join(" ")+'"></i>'}}c.dumpStack("Error making tag");console.error(b);return""},registerForNotification:b=>{c.registerForFontNotification(b,"Font Awesome 5 Free 400");c.registerForFontNotification(b,"Font Awesome 5 Free 900");c.registerForFontNotification(b,"Font Awesome 5 Brands 400")}},initNode:function(b,a){this.size=0;this.icon="";this.callSuper(b,a);g(this);f.registerForNotification(this)},setIcon:function(b){const a=
this.icon;this.set("icon",b,!0);this.inited&&a!==b&&g(this)},setSize:function(b){const a=this.size;this.set("size",b,!0);this.inited&&a!==b&&g(this)},setProperties:function(b){this.properties=b;this.fireEvent("properties",b);this.inited&&g(this)}})})(myt);
(c=>{let d,g,f;const b=[],a=[],e=a=>{const b=f;b!==a&&(b&&(b.notifyDragLeave(g),g.destroyed||g.notifyDragLeave(b),d.fireEvent("dragLeave",b)),f=a)&&(a.notifyDragEnter(g),g.destroyed||g.notifyDragEnter(a),d.fireEvent("dragEnter",b))},h=c=>{let e=g,f,h,m,t;if(e!==c){(g=c)?(e=c,f="notifyDragStart",h="startDrag"):(f="notifyDragStop",h="stopDrag");m=k(e,a);for(t=m.length;t;)m[--t][f](e);m=k(e,b);for(t=m.length;t;)m[--t][f](e);d.fireEvent(h,c)}},k=(a,b)=>{if(a.destroyed)return[];if(a.acceptAnyDragGroup())return b;
{const c=[];a=a.getDragGroups();let e=b.length;for(;e;){const d=b[--e];if(d.acceptAnyDragGroup())c.push(d);else{const b=d.getDragGroups();for(const e in a)if(b[e]){c.push(d);break}}}return c}};new JS.Singleton("GlobalDragManager",{include:[c.Observable],initialize:function(){c.global.register("dragManager",d=this)},getDragView:()=>g,registerAutoScroller:a=>{b.push(a)},unregisterAutoScroller:a=>{let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);break}},registerDropTarget:b=>{a.push(b)},unregisterDropTarget:b=>
{let c=a.length;for(;c;)if(a[--c]===b){a.splice(c,1);break}},startDrag:a=>{h(a)},stopDrag:(a,b,c)=>{b.notifyDropped(f,c);f&&!c&&f.notifyDrop(b);e();h();f&&!c&&d.fireEvent("drop",[b,f])},updateDrag:(b,c)=>{const d=k(c,a);let f=d.length,h;if(0<f){var g=b.value;b=g.pageX;for(g=g.pageY;f;){let a=d[--f];a.willAcceptDrop(c)&&c.willPermitDrop(a)&&a.isPointVisible(b,g)&&(!h||a.isInFrontOf(h))&&(h=a)}}e(h)}})})(myt);
(c=>{const d=c.global,g=d.mouse,f=d.keys;c.Draggable=new JS.Module("Draggable",{initNode:function(b,a){let c=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=a.isDraggable&&(c=a.isDraggable,delete a.isDraggable);this.callSuper(b,a);this.setIsDraggable(c)},setIsDraggable:function(b){if(this.isDraggable!==b){this.isDraggable=b;let a;b?a=this.attachToDom:this.inited&&(a=this.detachFromDom);if(a){b=this.getDragViews();
let c=b.length;for(;c;){const e=b[--c];a.call(this,e,"__doMouseDown","mousedown");a.call(this,e,"__doContextMenu","contextmenu")}}}},setIsDragging:function(b){this.set("isDragging",b,!0)},setDragOffsetX:function(b,a){this.dragOffsetX!==b&&(this.dragOffsetX=b,this.inited&&this.isDragging&&!a&&this.reRequestDragPosition())},setDragOffsetY:function(b,a){this.dragOffsetY!==b&&(this.dragOffsetY=b,this.inited&&this.isDragging&&!a&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(b){this.distanceBeforeDrag=
b},setDraggableAllowBubble:function(b){this.draggableAllowBubble=b},setCenterOnMouse:function(b){this.centerOnMouse=b},setAllowAbort:function(b){this.allowAbort=b},getDragViews:function(){return[this]},__doContextMenu:b=>{},__doMouseDown:function(b){const a=c.MouseObservable.getMouseFromEvent(b),e=this.getOuterDomElement();this.dragInitX=a.x-e.offsetLeft;this.dragInitY=a.y-e.offsetTop;this.attachToDom(g,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(g,"__doDragCheck","mousemove",
!0):this.startDrag(b);b.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(b){this.isDragging?this.stopDrag(b,!1):(this.detachFromDom(g,"__doMouseUp","mouseup",!0),this.detachFromDom(g,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(b){27===b.value&&this.stopDrag(b,!0)},__doDragCheck:function(b){const a=c.MouseObservable.getMouseFromEvent(b);c.Geometry.measureDistance(a.x,a.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&
(this.detachFromDom(c.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(b))},startDrag:function(b){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(f,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(g,"updateDrag","mousemove",!0);this.updateDrag(b)},updateDrag:function(b){this.__lastMousePosition=c.MouseObservable.getMouseFromEvent(b);this.reRequestDragPosition()},__updateDragInitX:function(b){this.dragInitX=
this.width/2*(this.scaleX||1)},__updateDragInitY:function(b){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(b,a){this.detachFromDom(g,"__doMouseUp","mouseup",!0);this.detachFromDom(g,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(f,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(b,a){this.disabled||(this.setX(b),
this.setY(a))},reRequestDragPosition:function(){const b=this.__lastMousePosition;this.requestDragPosition(b.x-this.dragInitX+this.dragOffsetX,b.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(c=>{let d,g,f,b,a=0,e=0,h=0,k=[],m,n,l,p,r,t,v,u;const y=JS.Class,q=c.Color,z=c.LocalStorage,A=c.View,F=c.Button,E=c.Draggable,D=Math.min,B=Math.max,J=c.FontAwesome.makeTag(["check"]),H=[1,"solid","#333"],K=[1,"solid","#999"],w={},I=new y("Swatch",A,{include:[F],initNode:function(a,e){e.width=e.height=16;e.border=K;this.callSuper(a,e);this.bgColor===b&&(a=q.makeColorFromHexString(b),new c.Text(this,{x:2,y:2,text:J,fontSize:"12px",textColor:382.5>a.red+a.green+a.blue?"#fff":"#000"}))},setBgColor:function(a){this.callSuper(a);
this.setTooltip(a)},doActivated:function(){d.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(H)},drawReadyState:function(){this.setBorder(K)}});c.ColorPicker=new y("ColorPicker",A,{initNode:function(b,q){d=this;f=q.color||"transparent";delete q.color;m=q.palette||[];m.forEach(a=>{w[a]=!0});delete q.palette;g="transparent"===f;d.callSuper(b,q);n=new A(d,{width:160,height:170});new c.WrappingLayout(n,{spacing:4,lineSpacing:4});l=new A(d,{x:170,width:139,height:139,border:H},[E,{requestDragPosition:function(a,
b){l.callSuper(l.x,l.y);const c=this.getPagePosition();e=parseFloat(B(0,D(1,(a+this.dragInitX-c.x)/this.width)));h=parseFloat(1-B(0,D(1,(b+this.dragInitY-c.y)/this.height)));g=!1;d.updateUI()}}]);b=new A(l,{width:139,height:139});q=new A(b,{width:139,height:139});b.getInnerDomStyle().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";q.getInnerDomStyle().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";p=new A(q,{width:6,height:6,bgColor:"#000",border:[1,
"solid","#ffffff"],roundedCorners:4});r=new A(d,{x:315,y:30,width:24,height:109,border:H},[E,{requestDragPosition:function(b,c){this.callSuper(r.x,r.y);a=parseFloat(B(0,D(1,(c+this.dragInitY-this.getPagePosition().y)/this.height)));g=!1;d.updateUI()}}]);r.getInnerDomStyle().background="linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)";t=new A(r,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new A(d,{x:315,width:24,height:24,border:H,
tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[F,{doActivated:()=>{d.setColor("transparent")}}]);v=new c.InputText(d,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:H,maxLength:11});d.attachToDom(v,"_submitInput","blur");d.attachToDom(v,"_handleKeyDown","keydown");v.getInnerDomStyle().paddingLeft="6px";b=new A(d,{x:170,y:146,width:60,height:23,border:H});new A(b,{width:30,height:23,focusEmbellishment:!1,bgColor:f,domClass:g?"mytCheckerboardPattern":""},
[F,{doActivated:()=>{d.setColor(f)}}]);u=new A(b,{x:30,width:30,height:23},[{setBgColor:function(a){this.callSuper(a);this[("transparent"===a?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(b=z.getItem("myt.default"))k=b.split(";"),k.forEach(a=>{w[a]=!0});d.setColor(f)},_handleKeyDown:a=>{13===c.KeyObservable.getKeyCodeFromEvent(a)&&d._submitInput()},_submitInput:()=>{d.setColor(v.value)},addToPalette:a=>{a&&"transparent"!==a&&!w[a]&&(k.unshift(a),k.length=D(k.length,56),z.setItem("myt.default",
k.join(";")))},setColor:b=>{b&&"transparent"!==b?(b=q.makeColorFromHexString(b).getHSV(),a=b.h/360,e=b.s,h=b.v,g=!1):g=!0;d.updateUI()},getColor:()=>g?"transparent":q.makeColorFromHSV(360*a,100*e,100*h).getHtmlHexString(),updateUI:()=>{const c=!g;t.setVisible(c);p.setVisible(c);c&&(p.setX(B(0,D(1,e)*(l.width+2))-5),p.setY(B(0,D(1,1-h)*(l.height+2))-5),t.setY(a*(r.height-2)-1));l.setBgColor(q.makeColorFromHSV(360*a,100,100).getHtmlHexString());b=d.getColor();v.setValue(b);u.setBgColor(b);d.redrawPalette()},
redrawPalette:c.debounce(()=>{const a=n.getSubviews();let b=a.length;for(;b;)a[--b].destroy();m.forEach(a=>{new I(n,{bgColor:a})});k.forEach(a=>{new I(n,{bgColor:a})})},50)})})(myt);
(function(c,d){const g={en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"},ja:{days:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),months:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),sep:"/"},ru:{days:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),months:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0430\u0440 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a".split(" ")},
br:{days:"Dom Seg Ter Qua Qui Sex S\u00e1b".split(" "),months:"Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" ")},pt:{days:"dom seg ter qua qui sex s\u00e1b".split(" "),months:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" ")},cn:{days:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},
de:{days:"So Mo Di Mi Do Fr Sa".split(" "),months:"Jan Feb M\u00e4rz Apr Mai Juni Juli Aug Sept Okt Nov Dez".split(" ")},sv:{days:"S\u00f6 M\u00e5 Ti On To Fr L\u00f6".split(" "),months:"Jan Feb Mar Apr Maj Juni Juli Aug Sept Okt Nov Dec".split(" ")},id:{days:"Min Sen Sel Rab Kam Jum Sab".split(" "),months:"Jan Feb Mar Apr Mei Jun Jul Agu Sep Okt Nov Des".split(" ")},it:{days:"Dom Lun Mar Mer Gio Ven Sab".split(" "),months:"Gen Feb Mar Apr Mag Giu Lug Ago Set Ott Nov Dic".split(" ")},tr:{days:"Pz Pzt Sal \u00c7ar Per Cu Cts".split(" "),
months:"Ock \u015eub Mar Nis May Haz Tem Agu Eyl Ekm Kas Arlk".split(" ")},es:{days:"dom lun mar mi\u00e9r jue vi\u00e9 s\u00e1b".split(" "),months:"ene feb mar abr may jun jul ago sep oct nov dic".split(" ")},ko:{days:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),months:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ")},nl:{days:"zo ma di wo do vr za".split(" "),months:"jan feb mrt apr mei jun jul aug sep okt nov dec".split(" ")},
cz:{days:"Ne Po \u00dat St \u010ct P\u00e1 So".split(" "),months:"Led \u00dano B\u0159e Dub Kv\u011b \u010cer \u010cvc Srp Z\u00e1\u0159 \u0158\u00edj Lis Pro".split(" ")},fr:{days:"Dim Lun Mar Mer Jeu Ven Sam".split(" "),months:"Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" ")}},f=a=>d(a).closest(".myt-dp"),b=(a,b)=>"undefined"!==typeof g[a][b]?g[a][b]:g.en[b],a=function(c,h,k,m,n,l){h=null!=n?new Date(h,k,m,n,l,0):null!=h?new Date(h,
k,m):new Date;var e=c.data("todayButton");k=c.data("futureOnly");m=c.data("minDate");n=c.data("maxDate");l=c.data("minuteInterval");var r=c.data("firstDayOfWeek"),t=c.data("allowWdays");if(null==t||!1===Array.isArray(t)||0>=t.length)t=null;var v=c.data("minTime");const u=c.data("maxTime"),y=new Date;k&&h.getTime()<y.getTime()&&h.setTime(y.getTime());if(null!=t&&6>=t.length)for(;;)if(-1==d.inArray(h.getDay(),t))h.setDate(h.getDate()+1);else break;var q=c.data("locale");g.hasOwnProperty(q)||(q="en");
var z=(new Date(h.getFullYear(),h.getMonth(),1)).getDay()-r,A=(new Date(h.getFullYear(),h.getMonth()+1,0)).getDate();const F=(new Date(h.getFullYear(),h.getMonth(),0)).getDate(),E=new Date(h.getFullYear(),h.getMonth(),0),D=new Date(h.getFullYear(),h.getMonth()+2,0);var B=y.getFullYear()==h.getFullYear();const J=B&&y.getMonth()==h.getMonth(),H=J&&y.getDate()==h.getDate();let K=!1;if(h.getFullYear()<y.getFullYear()||B&&h.getMonth()<y.getMonth())K=!0;var w=c.children(".dp-header");const I=c.children(".dp-calendar"),
M=I.children(".dp-table");B=c.children(".dp-timelist");d(c).data("pickedDate",h);d.fn.dtpicker.dialog._dtpickerCallback(h);const N=B.scrollTop();if(!0===c.data("timeOnly"))I.css("border-right","0px"),I.css("width","0px"),B.css("width","130px");else{w.children().remove();var x=new Date(h.getTime());x.setMinutes(59);x.setHours(23);x.setSeconds(59);x.setDate(0);var C=null;k&&J||!(null==m||m<x.getTime())?c.data("stateAllowBeforeMonth",!1):(C=d("<a>"),C.text("<"),C.prop("alt",b(q,"prevMonth")),C.prop("title",
b(q,"prevMonth")),C.click(()=>{{const h=f(c);if(!1!==h.data("stateAllowBeforeMonth")){var b=f(h).data("pickedDate"),e=(new Date(b.getFullYear(),b.getMonth(),0)).getDate();e<b.getDate()&&b.setDate(e);a(h,b.getFullYear(),b.getMonth()-1,b.getDate(),b.getHours(),b.getMinutes());var d=new Date;d.getFullYear()==b.getFullYear()&&d.getMonth()==b.getMonth()&&h.data("futureOnly")||(e<b.getDate()&&b.setDate(e),a(h,b.getFullYear(),b.getMonth()-1,b.getDate(),b.getHours(),b.getMinutes()))}}}),c.data("stateAllowBeforeMonth",
!0));x.setMinutes(0);x.setHours(0);x.setSeconds(0);x.setDate(1);x.setMonth(h.getMonth()+1);var L=d("<span>");L.text(h.getFullYear()+" "+b(q,"sep")+" "+b(q,"months")[h.getMonth()]);var G=null;if(null==n||n>x.getTime())G=d("<a>"),G.text(">"),G.prop("alt",b(q,"nextMonth")),G.prop("title",b(q,"nextMonth")),G.click(()=>{{const e=f(c),d=f(e).data("pickedDate");var b=(new Date(d.getFullYear(),d.getMonth()+1,0)).getDate();b<d.getDate()&&d.setDate(b);b=(new Date(d.getFullYear(),d.getMonth()+2,0)).getDate();
b<d.getDate()&&d.setDate(b);a(e,d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes())}});e&&(e=d("<a/>"),e.html(decodeURIComponent("%3c%3fxml%20version%3d%221%2e0%22%20encoding%3d%22UTF%2d8%22%20standalone%3d%22no%22%3f%3e%3csvg%20%20xmlns%3adc%3d%22http%3a%2f%2fpurl%2eorg%2fdc%2felements%2f1%2e1%2f%22%20%20xmlns%3acc%3d%22http%3a%2f%2fcreativecommons%2eorg%2fns%23%22%20xmlns%3ardf%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f1999%2f02%2f22%2drdf%2dsyntax%2dns%23%22%20%20xmlns%3asvg%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20xmlns%3d%22http%3a%2f%2fwww%2ew3%2eorg%2f2000%2fsvg%22%20%20version%3d%221%2e1%22%20%20width%3d%22100%25%22%20%20height%3d%22100%25%22%20viewBox%3d%220%200%2010%2010%22%3e%3cg%20transform%3d%22translate%28%2d5%2e5772299%2c%2d26%2e54581%29%22%3e%3cpath%20d%3d%22m%2014%2e149807%2c31%2e130932%20c%200%2c%2d0%2e01241%200%2c%2d0%2e02481%20%2d0%2e0062%2c%2d0%2e03721%20L%2010%2e57723%2c28%2e153784%207%2e0108528%2c31%2e093719%20c%200%2c0%2e01241%20%2d0%2e0062%2c0%2e02481%20%2d0%2e0062%2c0%2e03721%20l%200%2c2%2e97715%20c%200%2c0%2e217084%200%2e1798696%2c0%2e396953%200%2e3969534%2c0%2e396953%20l%202%2e3817196%2c0%200%2c%2d2%2e38172%201%2e5878132%2c0%200%2c2%2e38172%202%2e381719%2c0%20c%200%2e217084%2c0%200%2e396953%2c%2d0%2e179869%200%2e396953%2c%2d0%2e396953%20l%200%2c%2d2%2e97715%20m%201%2e383134%2c%2d0%2e427964%20c%200%2e06823%2c%2d0%2e08063%200%2e05582%2c%2d0%2e210882%20%2d0%2e02481%2c%2d0%2e279108%20l%20%2d1%2e358324%2c%2d1%2e128837%200%2c%2d2%2e530576%20c%200%2c%2d0%2e111643%20%2d0%2e08683%2c%2d0%2e198477%20%2d0%2e198477%2c%2d0%2e198477%20l%20%2d1%2e190859%2c0%20c%20%2d0%2e111643%2c0%20%2d0%2e198477%2c0%2e08683%20%2d0%2e198477%2c0%2e198477%20l%200%2c1%2e209467%20%2d1%2e513384%2c%2d1%2e265289%20c%20%2d0%2e2605%2c%2d0%2e217083%20%2d0%2e682264%2c%2d0%2e217083%20%2d0%2e942764%2c0%20L%205%2e6463253%2c30%2e42386%20c%20%2d0%2e080631%2c0%2e06823%20%2d0%2e093036%2c0%2e198476%20%2d0%2e024809%2c0%2e279108%20l%200%2e3845485%2c0%2e458976%20c%200%2e031012%2c0%2e03721%200%2e080631%2c0%2e06203%200%2e1302503%2c0%2e06823%200%2e055821%2c0%2e0062%200%2e1054407%2c%2d0%2e01241%200%2e1488574%2c%2d0%2e04342%20l%204%2e2920565%2c%2d3%2e578782%204%2e292058%2c3%2e578782%20c%200%2e03721%2c0%2e03101%200%2e08063%2c0%2e04342%200%2e13025%2c0%2e04342%200%2e0062%2c0%200%2e01241%2c0%200%2e01861%2c0%200%2e04962%2c%2d0%2e0062%200%2e09924%2c%2d0%2e03101%200%2e130251%2c%2d0%2e06823%20l%200%2e384549%2c%2d0%2e458976%22%20%2f%3e%3c%2fg%3e%3c%2fsvg%3e")),
e.addClass("icon-home"),e.prop("alt",b(q,"today")),e.prop("title",b(q,"today")),e.click(()=>{const b=new Date;a(f(c),b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes())}),w.append(e));null!=C&&w.append(C);w.append(L);null!=G&&w.append(G);M.children().remove();e=d("<tr>");M.append(e);r=7+r;q=b(q,"days");for(C=0;7>C;C++)w=d("<th>"),w.text(q[(C+r)%7]),e.append(w);L=7*Math.ceil((z+A)/7);C=0;0>z&&(C=-7);q=new Date(h.getTime());q.setHours(0);q.setMinutes(0);for(q.setSeconds(0);C<L;C++){x=
C+1-z;G=K||J&&x<y.getDate();0===C%7&&(e=d("<tr>"),M.append(e));w=d("<td>");w.data("day",x);e.append(w);z>C?(w.text(F+x),w.addClass("day_another_month"),w.data("dateStr",E.getFullYear()+"/"+(E.getMonth()+1)+"/"+(F+x)),q.setDate(F+x),q.setMonth(E.getMonth()),q.setYear(E.getFullYear())):C<z+A?(w.text(x),w.data("dateStr",h.getFullYear()+"/"+(h.getMonth()+1)+"/"+x),q.setDate(x),q.setMonth(h.getMonth()),q.setYear(h.getFullYear())):(w.text(x-A),w.addClass("day_another_month"),w.data("dateStr",D.getFullYear()+
"/"+(D.getMonth()+1)+"/"+(x-A)),q.setDate(x-A),q.setMonth(D.getMonth()),q.setYear(D.getFullYear()));const b=(C+r)%7;if(null!=t){if(-1==d.inArray(b,t)){w.addClass("day_in_unallowed");continue}}else 0===b?w.addClass("wday_sun"):6==b&&w.addClass("wday_sat");x==h.getDate()&&w.addClass("active");J&&x==y.getDate()&&w.addClass("today");x=new Date(q.getTime());x.setHours(23);x.setMinutes(59);x.setSeconds(59);null!=m&&m>x.getTime()||null!=n&&n<q.getTime()?w.addClass("out_of_range"):k&&G?w.addClass("day_in_past"):
(w.click(function(){d(this).hasClass("hover")&&d(this).removeClass("hover");d(this).addClass("active");const b=f(d(this)),c=new Date(d(this).data("dateStr")),e=f(b).data("pickedDate");a(b,c.getFullYear(),c.getMonth(),c.getDate(),e.getHours(),e.getMinutes())}),w.hover(function(){d(this).hasClass("active")||d(this).addClass("hover")},function(){d(this).hasClass("hover")&&d(this).removeClass("hover")}))}}if(!0===c.data("dateOnly"))B.css("display","none"),I.css("border-right","0px");else{B.children().remove();
q=new Date(h.getTime());B.css("height","175px");t=v[0];for(v=v[1];100*t+v<100*u[0]+u[1];)z=d("<div>"),A=t<y.getHours()||t==y.getHours()&&v<y.getMinutes(),A=H&&A,z.addClass("dp-timelist_item"),z.text(("0"+t).slice(-2)+":"+("0"+v).slice(-2)),z.data("hour",t),z.data("min",v),B.append(z),q.setHours(t),q.setMinutes(v),null!=m&&m>q.getTime()||null!=n&&n<q.getTime()?z.addClass("out_of_range"):k&&A?z.addClass("time_in_past"):(z.click(function(){d(this).hasClass("hover")&&d(this).removeClass("hover");d(this).addClass("active");
const b=f(d(this)),c=f(b).data("pickedDate"),e=d(this).data("hour"),h=d(this).data("min");a(b,c.getFullYear(),c.getMonth(),c.getDate(),e,h)}),z.hover(function(){d(this).hasClass("active")||d(this).addClass("hover")},function(){d(this).hasClass("hover")&&d(this).removeClass("hover")})),t==h.getHours()&&v==h.getMinutes()&&(z.addClass("active"),z.offset()),v+=l,60<=v&&(v-=60,t++);B.scrollTop(N)}};d.fn.dtpicker=function(b){var c=b.dialog;b=d.extend({current:null,locale:"en",minuteInterval:30,firstDayOfWeek:0,
todayButton:!0,dateOnly:!1,timeOnly:!1,futureOnly:!1,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowWdays:null},b);this.addClass("myt-dp");b.current||(b.current=new Date);this.data("dateOnly",b.dateOnly);this.data("timeOnly",b.timeOnly);this.data("locale",b.locale);this.data("firstDayOfWeek",b.firstDayOfWeek);this.data("todayButton",b.todayButton);this.data("futureOnly",b.futureOnly);this.data("allowWdays",b.allowWdays);var e=Date.parse(b.minDate);this.data("minDate",isNaN(e)?null:
e);e=Date.parse(b.maxDate);this.data("maxDate",isNaN(e)?null:e);this.data("state",0);5<=b.minuteInterval&&30>=b.minuteInterval?this.data("minuteInterval",b.minuteInterval):this.data("minuteInterval",30);b.minTime=b.minTime.split(":");b.maxTime=b.maxTime.split(":");0<=b.minTime[0]&&24>b.minTime[0]||(b.minTime[0]="00");0<=b.maxTime[0]&&24>b.maxTime[0]||(b.maxTime[0]="23");0<=b.minTime[1]&&60>b.minTime[1]||(b.minTime[1]="00");0<=b.maxTime[1]&&24>b.maxTime[1]||(b.maxTime[1]="59");b.minTime[0]=parseInt(b.minTime[0]);
b.minTime[1]=parseInt(b.minTime[1]);b.maxTime[0]=parseInt(b.maxTime[0]);b.maxTime[1]=parseInt(b.maxTime[1]);this.data("minTime",b.minTime);this.data("maxTime",b.maxTime);e=d("<div>");e.addClass("dp-header");this.append(e);e=d("<div>");e.addClass("dp-calendar");e.css("height","175px");var g=d("<table>");g.addClass("dp-table");e.append(g);this.append(e);g=d("<div>");g.addClass("dp-timelist");this.append(g);e.bind("wheel",function(b){var c=f(d(this)),e=d.fn.dtpicker;null==e._delta&&(e._delta=0);b=e._delta+=
b.originalEvent.deltaY;75<b?(e._delta-=75,c=f(c),e=f(c).data("pickedDate"),e.setDate(e.getDate()-1),a(c,e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())):-75>b&&(e._delta+=75,c=f(c),e=f(c).data("pickedDate"),e.setDate(e.getDate()+1),a(c,e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()));return!1});d.fn.dtpicker.dialog=c;c=b.current;a(this,c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())}})(window,jQuery);
(c=>{const d=c.SizeToParent;c.Dimmer=new JS.Class("Dimmer",c.View,{include:[d],extend:{DEFAULT_OPACITY:.35,DEFAULT_COLOR:"#000000"},initNode:function(d,f){const b=this;b.restoreFocus=!0;f.focusable=f.focusCage=!0;null==f.percentOfParentWidth&&(f.percentOfParentWidth=100);null==f.percentOfParentHeight&&(f.percentOfParentHeight=100);null==f.visible&&(f.visible=!1);null==f.ignoreLayout&&(f.ignoreLayout=!0);b.callSuper(d,f);"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(a=>
{b.attachDomObserver(b,"eatMouseEvent",a)});c.RootView.setupCaptureDrop(b)},doBeforeAdoption:function(){this.callSuper();const g=c.Dimmer;new c.View(this,{name:"overlay",ignorePlacement:!0,opacity:g.DEFAULT_OPACITY,bgColor:g.DEFAULT_COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[d])},destroyAfterOrphaning:function(){c.RootView.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(c){this.restoreFocus=c},eatMouseEvent:c=>!0,show:function(){const d=c.global.focus;this.prevFocus=
d.focusedView||d.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(c){this.visible&&(this.setVisible(!1),!c&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus())}})})(myt);
(c=>{const d=(c,d,b)=>{const a=c.axis;b=b.bind(c);"y"!==a&&(b(d,"update","x"),b(d,"update","boundsWidth"));"x"!==a&&(b(d,"update","y"),b(d,"update","boundsHeight"));b(d,"update","visible")};c.SizeToChildren=new JS.Class("SizeToChildren",c.Layout,{initNode:function(c,d){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(c,d)},setAxis:function(c){this.axis!==c&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=c,this.startMonitoringAllSubviews(),this.fireEvent("axis",c),this.update()):
this.axis=c)},setPaddingX:function(c){this.paddingX!==c&&(this.paddingX=c,this.inited&&(this.fireEvent("paddingX",c),this.update()))},setPaddingY:function(c){this.paddingY!==c&&(this.paddingY=c,this.inited&&(this.fireEvent("paddingY",c),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const d=this.parent;if(!d.isBeingDestroyed){const b=this.subviews;var c=b.length;const a=this.axis;let e,f;if("y"!==a){e=c;for(f=0;e;){const a=b[--e];a.visible&&(f=Math.max(f,a.x+
(0<a.boundsWidth?a.boundsWidth:0)))}d.setWidth(f+this.paddingX)}if("x"!==a){e=c;for(f=0;e;)c=b[--e],c.visible&&(f=Math.max(f,c.y+(0<c.boundsHeight?c.boundsHeight:0)));d.setHeight(f+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(c){d(this,c,this.attachTo)},stopMonitoringSubview:function(c){d(this,c,this.detachFrom)}})})(myt);
myt.ModalPanel=new JS.Class("ModalPanel",myt.Dimmer,{extend:{DEFAULT_PADDING_X:20,DEFAULT_PADDING_Y:15,DEFAULT_MARGIN_TOP:40,DEFAULT_MARGIN_LEFT:40,DEFAULT_MARGIN_BOTTOM:40,DEFAULT_MARGIN_RIGHT:40},initNode:function(c,d){this.defaultPlacement="content";null==d.sizingStrategy&&(d.sizingStrategy="children");const g=myt.ModalPanel;null==d.marginTop&&(d.marginTop=g.DEFAULT_MARGIN_TOP);null==d.marginLeft&&(d.marginLeft=g.DEFAULT_MARGIN_LEFT);null==d.marginBottom&&(d.marginBottom=g.DEFAULT_MARGIN_BOTTOM);
null==d.marginRight&&(d.marginRight=g.DEFAULT_MARGIN_RIGHT);null==d.paddingX&&(d.paddingX=g.DEFAULT_PADDING_X);null==d.paddingY&&(d.paddingY=g.DEFAULT_PADDING_Y);this.callSuper(c,d)},doBeforeAdoption:function(){const c=myt,d=c.View,g={name:"content",ignorePlacement:!0},f=Object.assign({},g,{align:"center",valign:"middle"});this.callSuper();switch(this.sizingStrategy){case "children":new c.SizeToChildren(new d(this,f),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});
break;case "parent":new d(this,Object.assign(g,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[c.SizeToParent]);break;case "basic":new d(this,f);break;default:new d(this,g)}},setSizingStrategy:function(c){this.sizingStrategy=c},setMarginTop:function(c){this.marginTop=c},setMarginLeft:function(c){this.marginLeft=c},setMarginBottom:function(c){this.marginBottom=
c},setMarginRight:function(c){this.marginRight=c},setPaddingX:function(c){this.paddingX=c},setPaddingY:function(c){this.paddingY=c}});
myt.Spinner=new JS.Class("Spinner",myt.View,{initNode:function(c,d){this.lateAttrs=["spinColor"];null==d.visible&&(d.visible=!1);null==d.borderWidth&&(d.borderWidth=5);null==d.borderColor&&(d.borderColor="#ffffff");null==d.borderStyle&&(d.borderStyle="solid");null==d.spinColor&&(d.spinColor="#000000");this.callSuper(c,d);this.deStyle.borderRadius="50%";this._updateSize();this._spin()},setSize:function(c){this.size!==c&&(this.size=c,this.inited&&this._updateSize())},setSpinColor:function(c){this.spinColor!==
c&&(this.deStyle.borderTopColor=this.spinColor=c,this.inited&&this.fireEvent("spinColor",c))},setBorderWidth:function(c){this.borderWidth!==c&&(this.callSuper(c),this.inited&&this._updateSize())},setVisible:function(c){this.visible!==c&&(this.callSuper(c),this.inited&&this._spin())},_spin:function(){this[this.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},_updateSize:function(){const c=this.size,d=this.deStyle;this.setWidth(c);this.setHeight(c);d.width=d.height=c-2*this.borderWidth+"px"}});
(c=>{const d=JS.Class,g=c.View,f=c.Text,b=c.ModalPanel,a=c.SizeToChildren,e=new d("DialogButton",c.SimpleButton,{initNode:function(a,b){null==b.height&&(b.height=20);null==b.shrinkToFit&&(b.shrinkToFit=!0);null==b.inset&&(b.inset=10);null==b.outset&&(b.outset=10);null==b.textY&&(b.textY=3);null==b.roundedCorners&&(b.roundedCorners=5);null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.readyColor&&(b.readyColor="#cccccc");null==b.textColor&&(b.textColor=
"#000000");const c=b.fontSize,e=b.shrinkToFit,d=b.text||"";delete b.fontSize;delete b.shrinkToFit;delete b.text;this.callSuper(a,b);a=this.textView=new f(this,{x:this.inset,y:this.textY,text:d,fontSize:c,whiteSpace:"nowrap",domClass:"myt-Text mytButtonText"});e&&this.constrain("__update",[this,"inset",this,"outset",a,"width"])},setText:function(a){this.inited&&this.textView.setText(a)},setTooltip:function(a){this.getInnerDomElement().title=a},__update:function(a){if(!this.destroyed){a=this.inset;
const b=this.textView;b.setX(a);this.setWidth(a+b.width+this.outset)}}}),h=c.Dialog=new d("Dialog",b,{extend:{DEFAULT_RADIUS:12,DEFAULT_SHADOW:[0,4,20,"#666666"],DEFAULT_BORDER:[1,"solid","#ffffff"],DEFAULT_BGCOLOR:"#ffffff",DEFAULT_BUTTON_CLASS:e,WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,
showClose:!1},PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000000"}},initNode:function(a,b){null==b.buttonClass&&(b.buttonClass=h.DEFAULT_BUTTON_CLASS);this.callSuper(a,b);a=this.content;a.setRoundedCorners(h.DEFAULT_RADIUS);a.setBgColor(h.DEFAULT_BGCOLOR);a.setBoxShadow(h.DEFAULT_SHADOW);a.setBorder(h.DEFAULT_BORDER);
a.setFocusCage(!0);this.createCloseButton(a,this)},setButtonClass:function(a){this.buttonClass=a},setDisplayMode:function(a){this.displayMode=a},setCallbackFunction:function(a){this.callbackFunction=a},createCloseButton:function(a,b,e,d,f,h){return new this.buttonClass(a,{name:"closeBtn",ignoreLayout:!0,width:16,height:16,y:4,align:"right",alignOffset:4,inset:4,textY:2,shrinkToFit:!1,roundedCorners:8,activeColor:d||"#cc0000",hoverColor:e||"#ff3333",readyColor:f||"#ff0000",textColor:"#ffffff",fontSize:"11px",
text:c.FontAwesome.makeTag(["times"]),tooltip:"Close Dialog."},[{doActivated:function(){b.doCallback(this)}}])},hide:function(a){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(a)},eatMouseEvent:function(a){"message"===this.displayMode&&this.content.closeBtn.focus();return this.callSuper(a)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const a=this.content,e=a.sizeToChildren,d=a.getSubviews();let f=d.length,g;for(;f;)g=d[--f],
"closeBtn"!==g.name&&g.destroy();a.setVisible(!0);this.overlay.setBgColor(c.Dimmer.DEFAULT_COLOR);this.setCallbackFunction();e.setPaddingY(b.DEFAULT_PADDING_Y);e.setPaddingX(b.DEFAULT_PADDING_X);a.setRoundedCorners(h.DEFAULT_RADIUS);a.setBgColor(h.DEFAULT_BGCOLOR);a.setBoxShadow(h.DEFAULT_SHADOW);a.setBorder(h.DEFAULT_BORDER)},doCallback:function(a){const b=this.callbackFunction;b&&b.call(this,a.name)||this.hide()},showBlank:function(a){this.destroyContent();this.content.setVisible(!1);a&&a.bgColor&&
this.overlay.setBgColor(a.bgColor);this.show();this.setDisplayMode("blank")},showMessage:function(a,c,e){const d=this.content,g=d.closeBtn;e=Object.assign({},h.WRAP_TEXT_DEFAULTS,e);this.destroyContent();this.setCallbackFunction(c);a=new f(d,{name:"msg",text:a,whiteSpace:e.whiteSpace,wordWrap:e.wordWrap,fontWeight:e.fontWeight,x:null==e.msgX?b.DEFAULT_PADDING_X:e.msgX,y:null==e.msgY?b.DEFAULT_PADDING_Y:e.msgY,width:e.width});e.titleText&&(this.setupTitle(d,e.titleText,h.DEFAULT_RADIUS),a.setY(a.y+
24));this.show();!1===e.showClose?g.setVisible(!1):(g.setVisible(!0),g.focus());this.setDisplayMode("message")},showSimple:function(b,c,e){e=e||{};const d=this.content,f=d.closeBtn,h=e.maxContainerHeight;this.destroyContent();e.bgColor&&d.setBgColor(e.bgColor);e.roundedCorners&&d.setRoundedCorners(e.roundedCorners);e.boxShadow&&d.setBoxShadow(e.boxShadow);e.border&&d.setBorder(e.border);d.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new g(d,{name:"contentContainer",x:1,y:25,overflow:"auto"},
[{setHeight:function(a){a>h&&(a=h);this.callSuper(a)}}]);b.call(this,c);new a(c,{axis:"both"});this.show();f.setVisible(!0);f.focus();this.setDisplayMode("content");c.initialFocus&&c.initialFocus.focus()},showSpinner:function(a,e){const d=this.content;e=Object.assign({},h.NO_WRAP_TEXT_DEFAULTS,e);this.destroyContent();const g=this.spinner=new c.Spinner(d,{align:"center",visible:!0,borderColor:"#cccccc",size:50,y:null==e.msgY?b.DEFAULT_PADDING_Y:e.msgY});a&&new f(d,{text:a,whiteSpace:e.whiteSpace,
wordWrap:e.wordWrap,fontWeight:e.fontWeight,x:null==e.msgX?b.DEFAULT_PADDING_X:e.msgX,y:g.y+g.size+b.DEFAULT_PADDING_Y,width:e.width});this.show();d.closeBtn.setVisible(!1);this.focus();this.setDisplayMode("spinner")},showColorPicker:function(a,e){const d=this,f=d.content,k=f.closeBtn,m=h.DEFAULT_RADIUS;e=Object.assign({},h.PICKER_DEFAULTS,e);d.destroyContent();d.setCallbackFunction(b=>{switch(b){case "closeBtn":case "cancelBtn":a.call(d,b);break;case "confirmBtn":const c=v.getColor();v.addToPalette(c);
a.call(d,b,c)}v.destroy()});const t=new g(f,{name:"picker",x:b.DEFAULT_PADDING_X,y:b.DEFAULT_PADDING_Y+24,width:337,height:177}),v=new c.ColorPicker(t,{color:e.color,palette:"#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777 #888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")});d.show();k.setVisible(!0);k.focus();d.setupFooterButtons(t,e);d.setupTitle(f,e.titleText,m);d.setDisplayMode("color_picker")},showDatePicker:function(a,c){const e=this.content,d=e.closeBtn,
f=h.DEFAULT_RADIUS;c=Object.assign({},h.DATE_PICKER_DEFAULTS,c);this.destroyContent();e.sizeToChildren.setPaddingX(0);this.setCallbackFunction(function(b){switch(b){case "closeBtn":case "cancelBtn":a.call(this,b);break;case "confirmBtn":a.call(this,b,this._pickedDateTime)}});const k=new g(e,{name:"picker",x:b.DEFAULT_PADDING_X,y:b.DEFAULT_PADDING_Y+24,width:c.dateOnly?200:c.timeOnly?150:260,height:193}),m=new g(k);$(m.getInnerDomElement()).dtpicker({current:new Date(c.initialDate||Date.now()),dateOnly:c.dateOnly||
!1,timeOnly:c.timeOnly||!1,dialog:this});this.show();d.setVisible(!0);d.focus();this.setupFooterButtons(k,c);this.setupTitle(e,c.timeOnly?c.timeOnlyTitleText:c.titleText,f);this.setDisplayMode("date_picker")},_dtpickerCallback:function(a){this._pickedDateTime=a},showConfirm:function(a,b,c){c=Object.assign({},h.CONFIRM_DEFAULTS,c);this.showMessage(a,b,c);this.setupFooterButtons(this.content.msg,c);this.setDisplayMode("confirm")},showContentConfirm:function(b,c,e){e=Object.assign({},h.CONFIRM_DEFAULTS,
e);const d=this.content,f=d.closeBtn,k=h.DEFAULT_RADIUS,m=e.maxContainerHeight;this.destroyContent();d.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new g(d,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){this.callSuper(a>m?m:a)}}]);b.call(this,c);new a(c,{axis:"both"});this.show();f.setVisible(!0);f.focus();this.setupTitle(d,e.titleText,k);c.setY(this.header.height+1);this.setupFooterButtons(c,e);this.setDisplayMode("content");c.initialFocus&&c.initialFocus.focus()},
setupTitle:function(a,b,c){(this.header=new g(a,{ignoreLayout:!0,width:a.width,height:24,bgColor:"#eeeeee",roundedTopLeftCorner:c,roundedTopRightCorner:c})).sendToBack();new f(a,{name:"title",x:c,y:4,text:b,fontWeight:"bold"})},setupFooterButtons:function(e,d){const f=this,k=f.content;var m=b.DEFAULT_PADDING_Y;const r=h.DEFAULT_RADIUS,t=f.buttonClass,v=new g(k,{y:e.y+e.height+m,align:"center"});let u=d.cancelAttrs||{};null==u.name&&(u.name="cancelBtn");null==u.text&&(u.text=d.cancelTxt);null!=d.activeColor&&
(u.activeColor=d.activeColor);null!=d.hoverColor&&(u.hoverColor=d.hoverColor);null!=d.readyColor&&(u.readyColor=d.readyColor);null!=d.textColor&&(u.textColor=d.textColor);e=new t(v,u,[{doActivated:function(){f.doCallback(this)}}]);u=d.confirmAttrs||{};null==u.name&&(u.name="confirmBtn");null==u.text&&(u.text=d.confirmTxt);null!=d.activeColorConfirm&&(u.activeColor=d.activeColorConfirm);null!=d.hoverColorConfirm&&(u.hoverColor=d.hoverColorConfirm);null!=d.readyColorConfirm&&(u.readyColor=d.readyColorConfirm);
null!=d.textColorConfirm&&(u.textColor=d.textColorConfirm);new t(v,u,[{doActivated:function(){f.doCallback(this)}}]);const y=d.buttons;if(y){const a=y.length;for(let b=0;a>b;b++)u=y[b],null==u.name&&(u.name="btn_"+b),new t(v,u,[{doActivated:function(){f.doCallback(this)}}])}new a(v,{axis:"y"});new c.SpacedLayout(v,{spacing:4,collapseParent:!0});k.sizeToChildren.setPaddingY(m/2);m=new g(k,{ignoreLayout:!0,y:v.y-m/2,width:k.width,bgColor:"#eeeeee",roundedBottomLeftCorner:r,roundedBottomRightCorner:r});
m.setHeight(k.height-m.y);m.sendToBack();!1===d.showClose&&e.focus()}})})(myt);
(c=>{const d=JS.Class,g={},f=(a,b)=>{if(a){const e=a.id;a.id?b(e):c.dumpStack("No ID")}else c.dumpStack("No validator")},b=a=>{f(a,b=>{g[b]=a})},a=c.Validator=new d("Validator",{initialize:function(a){this.id=a},isValid:(a,b,c)=>!0,isFormValid:function(a,b,c){b||(b={});b.form=a;return this.isValid(a.getValue(),b,c)}}),e=c.RequiredFieldValidator=new d("RequiredFieldValidator",a,{isValid:function(a,b,c){return null==a||""===a||"string"===typeof a&&""===a.trim()?(c&&c.push("This value is required."),
!1):!0}}),h=c.EqualsIgnoreCaseValidator=new d("EqualsIgnoreCaseValidator",a,{isValid:function(a,b,c){b=b.form.getRollbackValue();return a&&b&&a.toLowerCase()===b.toLowerCase()?(c&&c.push("Value must differ by more than just case."),!1):!0}}),k=c.URLValidator=new d("URLValidator",a,{initialize:function(a,b){this.callSuper(a);this.originalRawQuery=b},isValid:function(a,b,e){return(new c.URI(a)).toString(this.originalRawQuery)!==a?(e&&e.push("Invalid URL."),!1):!0}}),m=c.JSONValidator=new d("JSONValidator",
a,{isValid:function(a,b,c){try{return JSON.parse(a),!0}catch(r){return c&&c.push(r),!1}}});c.EqualFieldsValidator=new d("EqualFieldsValidator",a,{initialize:function(a,b,c){this.callSuper(a);this.fieldA=b;this.fieldB=c},isValid:function(a,b,c){if(a&&this.fieldA.getValue()===this.fieldB.getValue())return!0;c&&c.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});c.LengthValidator=new d("LengthValidator",a,{initialize:function(a,b,c){this.callSuper(a);this.min=
b;this.max=c},isValid:function(a,b,c){a=a?a.length:0;b=this.min;const e=this.max;return void 0!==b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==e&&e<a?(c&&c.push("Value must not be greater than "+e+"."),!1):!0}});c.NumericRangeValidator=new d("NumericRangeValidator",a,{initialize:function(a,b,c){this.callSuper(a);this.min=b;this.max=c},isValid:function(a,b,c){if(""===a)return!0;a=Number(a);b=this.min;const e=this.max;return isNaN(a)?(c&&c.push("Value is not a number."),!1):void 0!==
b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==e&&e<a?(c&&c.push("Value must not be greater than "+e+"."),!1):!0}});c.CompoundValidator=new d("CompoundValidator",a,{initialize:function(a,...b){this.callSuper(a);a=b.length;let c;for(;a;)c=b[--a],"string"===typeof c&&((b[a]=c=g[c])||b.splice(a,1));this.__v=b},addValidator:function(a){"string"===typeof a&&(a=g[a]);a&&this.__v.push(a)},isValid:function(a,b,c){const e=this.__v,d=e.length;let f=!0,h=0;for(;d>h;)f=e[h++].isValid(a,
b,c)&&f;return f}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){b(new e("required"));b(new h("equalsIgnoreCase"));b(new k("url"));b(new m("json"));c.global.register("validators",this)},getValidator:a=>g[a],register:b,unregister:a=>{f(a,a=>{g[a]&&delete g[a]})}})})(myt);
(c=>{const d=JS.Class,g=c.View;var f=c.SliderThumbMixin=new JS.Module("SliderThumbMixin",{include:[c.Draggable],initNode:function(a,b){null==b.width&&(b.width=a.thumbWidth);null==b.height&&(b.height=a.thumbHeight);null==b.repeatKeyDown&&(b.repeatKeyDown=!0);null==b.activationKeys&&(b.activationKeys=[37,38,39,40]);this.callSuper(a,b);"x"===a.axis?this.setY(a.thumbOffset):this.setX(a.thumbOffset);this.syncTo(a,"setDisabled","disabled");a._syncThumbToValue(this,a.getValue())},setDisabled:function(a){null!=
a&&"object"===typeof a&&(a=a.value);this.callSuper(a)},setFocused:function(a){this.callSuper(a);a&&this.makeHighestZIndex()},setX:function(a){this.x!==a&&(this.callSuper(a),a=this.parent,"x"===a.axis&&a._syncValueToThumb(this))},setY:function(a){this.y!==a&&(this.callSuper(a),a=this.parent,"y"===a.axis&&a._syncValueToThumb(this))},requestDragPosition:function(a,b){if(!this.disabled){var c=this.parent;const e=c.getMinPixelValueForThumb(this),d=c.getMaxPixelValueForThumb(this);"x"===c.axis?(c=this.width/
2,b=this.setX):(c=this.height/2,a=b,b=this.setY);b.call(this,Math.min(Math.max(a,e-c),d-c))}},doActivationKeyDown:function(a,b){const c=this.parent;switch(a){case 37:c.nudgeValueLeft(this);break;case 38:c.nudgeValueUp(this);break;case 39:c.nudgeValueRight(this);break;case 40:c.nudgeValueDown(this)}this.callSuper(a,b)}});const b=c.SimpleSliderThumb=new d("SimpleSliderThumb",c.SimpleButton,{include:[f],initNode:function(a,b){null==b.activeColor&&(b.activeColor="#bbbbbb");null==b.readyColor&&(b.readyColor=
"#cccccc");null==b.hoverColor&&(b.hoverColor="#dddddd");null==b.boxShadow&&(b.boxShadow=[0,0,4,"#666666"]);this.callSuper(a,b);null==b.roundedCorners&&this.setRoundedCorners(Math.min(this.height,this.width)/2)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,9,"#666666"])},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,4,"#666666"])}});f=c.BaseSlider=new d("BaseSlider",g,{include:[c.Disableable],initNode:function(a,
c){null==c.axis&&(c.axis="x");"x"===c.axis?(null==c.width&&(c.width=100),null==c.height&&(c.height=18)):(null==c.width&&(c.width=18),null==c.height&&(c.height=100));null==c.bgColor&&(c.bgColor="#999999");null==c.roundedCorners&&(c.roundedCorners=9);null==c.trackInset&&(c.trackInset=9);null==c.trackOutset&&(c.trackOutset=9);null==c.thumbWidth&&(c.thumbWidth=16);null==c.thumbHeight&&(c.thumbHeight=16);null==c.thumbOffset&&(c.thumbOffset=1);null==c.nudgeAmount&&(c.nudgeAmount=1);null==c.thumbClass&&
(c.thumbClass=b);this.callSuper(a,c)},setAxis:function(a){this.axis=a},setTrackInset:function(a){this.trackInset=a},setTrackOutset:function(a){this.trackOutset=a},setThumbWidth:function(a){this.thumbWidth=a},setThumbHeight:function(a){this.thumbHeight=a},setThumbOffset:function(a){this.thumbOffset=a},setThumbClass:function(a){this.thumbClass=a},setNudgeAmount:function(a){this.nudgeAmount=a},convertValueToPixels:function(a){const b=this.minValue,c=this.trackInset;return c+(("x"===this.axis?this.width:
this.height)-c-this.trackOutset)/(this.maxValue-b)*(a-b)},convertPixelsToValue:function(a){const b=this.minValue,c=this.trackInset;return(this.maxValue-b)/(("x"===this.axis?this.width:this.height)-c-this.trackOutset)*(a-c)+b},nudgeValueLeft:function(a){this._nudge(a,!1)},nudgeValueUp:function(a){this._nudge(a,!1)},nudgeValueRight:function(a){this._nudge(a,!0)},nudgeValueDown:function(a){this._nudge(a,!0)},_nudge:(a,b)=>{},_syncThumbToValue:function(a,b){b=this.convertValueToPixels(b);"x"===this.axis?
a.setX(b-a.width/2):a.setY(b-a.height/2)}});const a=c.SimpleSliderRangeFill=new d("SimpleSliderRangeFill",g,{initNode:function(a,b){null==b.bgColor&&(b.bgColor="#666666");this.callSuper(a,b);"x"===a.axis?(this.setY(a.thumbOffset),this.setHeight(a.thumbHeight),this.setRoundedCorners(a.thumbHeight/2)):(this.setX(a.thumbOffset),this.setWidth(a.thumbWidth),this.setRoundedCorners(a.thumbWidth/2));a._syncRangeFillToValue()}});c.RangeSlider=new d("RangeSlider",f,{include:[c.BoundedRangeComponent],initNode:function(b,
c){null==c.rangeFillClass&&(c.rangeFillClass=a);this.callSuper(b,c);new this.rangeFillClass(this,{name:"rangeFill"});new this.thumbClass(this,{name:"thumbLower"});new this.thumbClass(this,{name:"thumbUpper"})},setRangeFillClass:function(a){this.rangeFillClass=a},setValue:function(a){this.callSuper(a);this.inited&&(this.__lockSync||(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a)),this._syncRangeFillToValue())},setWidth:function(a,b){const c=this.width;
this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},setHeight:function(a,b){const c=this.height;this.callSuper(a,b);this.inited&&"y"===this.axis&&this.height!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},_syncRangeFillToValue:function(){const a=this.rangeFill;var b=this.getValue();const c=this.convertValueToPixels(b.lower);
b=this.convertValueToPixels(b.upper)-c;"x"===this.axis?(a.setX(c),a.setWidth(b)):(a.setY(c),a.setHeight(b))},_syncThumbToValue:function(a,b){this.callSuper(a,"thumbLower"===a.name?b.lower:b.upper)},_syncValueToThumb:function(a){if(this.inited&&!this.__lockSync){this.__lockSync=!0;const b=this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2);let c=this.getValueCopy();"thumbLower"===a.name?c.lower=b:c.upper=b;this.setValue(c);c=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,
c);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,c);this.__lockSync=!1}},_nudge:function(a,b){const c=this.getValueCopy();b=this.nudgeAmount*(b?1:-1);"thumbLower"===a.name?(c.lower+=b,c.lower>c.upper&&(c.lower=c.upper)):(c.upper+=b,c.lower>c.upper&&(c.upper=c.lower));this.setValue(c)},getMinPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===a.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===
a.name?this.getValue().upper:this.maxValue)}});c.Slider=new d("Slider",f,{include:[c.BoundedValueComponent],initNode:function(a,b){this.callSuper(a,b);new this.thumbClass(this,{name:"thumb"})},setValue:function(a){this.callSuper(a);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(a,b){const c=
this.height;this.callSuper(a,b);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(a){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this.setValue(this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2)),this._syncThumbToValue(a,this.getValue()),this.__lockSync=!1)},_nudge:function(a,b){this.setValue(this.getValue()+this.nudgeAmount*(b?1:-1))},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(this.minValue)},
getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(this.maxValue)}})})(myt);
(c=>{const d=JS.Class,g=b=>{const a="y"===b.axis?"height":"width";b.constrain("__limitToParent",[b,"limitToParent",b,a,b.parent,a])},f=new d("BaseDivider",c.SimpleButton,{include:[c.BoundedValueComponent,c.Draggable],initNode:function(b,a){null==a.activeColor&&(a.activeColor="#bbbbbb");null==a.hoverColor&&(a.hoverColor="#dddddd");null==a.readyColor&&(a.readyColor="#cccccc");null==a.axis&&(a.axis="x");null==a.minValue&&(a.minValue=0);null==a.value&&(a.value=a.minValue);null==a.expansionState&&(a.expansionState=
2);null==a.focusEmbellishment&&(a.focusEmbellishment=!1);null==a.repeatKeyDown&&(a.repeatKeyDown=!0);null==a.activationKeys&&(a.activationKeys=[37,38,39,40,13,32]);"y"===a.axis?(null==a.height&&(a.height=6),null==a.cursor&&(a.cursor="row-resize")):(null==a.width&&(a.width=6),null==a.cursor&&(a.cursor="col-resize"));this.__nudgeAcc=1;this.callSuper(b,a);null==a.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&g(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},
setExpansionState:function(b){this.expansionState=b},setRestoreValue:function(b){this.restoreValue=b},setLimitToParent:function(b){this.limitToParent!==b&&(this.limitToParent=b,this.inited&&(this.fireEvent("limitToParent",b),null==b?this.releaseConstraint("__limitToParent"):g(this)))},setAxis:function(b){this.inited?console.warn("Axis may not be updated after instantiation."):this.axis=b},setValue:function(b,a){this.callSuper(b);b=this.value;"y"===this.axis?this.setY(b):this.setX(b);a&&this.setRestoreValue(b)},
__limitToParent:function(b){b="y"===this.axis?"height":"width";this.setMaxValue(this.parent[b]-this.limitToParent-this[b])},doActivationKeyDown:function(b,a){this.callSuper(b,a);switch(b){case 37:case 38:b=-1;break;case 39:case 40:b=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=a?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+b*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const b=this.restoreValue,a=this.maxValue,c=this.minValue;let d;switch(this.expansionState){case 0:null!=
b&&(this.setExpansionState(1),b===c?b!==a&&this.doPrimaryAction():d=b);break;case 1:null!=a&&(this.setExpansionState(3),this.value===a?this.doPrimaryAction():d=a);break;case 2:null!=c&&(this.setExpansionState(0),this.value===c?this.doPrimaryAction():d=c);break;case 3:null!=b&&(this.setExpansionState(2),b===a?this.doPrimaryAction():d=b)}null!=d&&(this.stopActiveAnimators("value"),this.animateOnce("value",d,null,250))},requestDragPosition:function(b,a){this.disabled||(this.setValue("y"===this.axis?
a:b,!0),this.setExpansionState(2))}});c.HorizontalDivider=new d("HorizontalDivider",f,{initNode:function(b,a){a.axis="x";this.callSuper(b,a)}});c.VerticalDivider=new d("VerticalDivider",f,{initNode:function(b,a){a.axis="y";this.callSuper(b,a)}})})(myt);
(c=>{const d=b=>{b=b.columnHeaders;let a=b.length;for(;a;){const c=b[--a];if(c.visible)return c}return null},g=b=>{const a=b.columnHeaders;var c=b.sort;const d=c?c[0]:"";c=c?c[1]:"";let f=a.length;for(;f;){const b=a[--f];b.columnId===d?b.sortable&&b.setSortState(c):b.setSortState("none")}b.locked||b.doSort()},f=(b,a,c,d)=>{if(0!==a){const h=0<a,g=[];for(var e=b.length,f;e;)f=b[--e],f.resizable&&(c?0<f.flex:0===f.flex)&&g.push({hdr:f,limit:(h?f.maxValue:f.minValue)-f.value,amt:0});b=g.length;if(0<
b){let k=e=0;for(;0!==a;){const d=g[e];f=d.hdr;d.full?++k:(h?(f=Math.min(c?f.flex:1,a),d.amt+f>d.limit&&(f=d.limit-d.amt,d.full=!0)):(f=Math.max(c?-f.flex:-1,a),d.amt+f<d.limit&&(f=d.limit-d.amt,d.full=!0)),d.amt+=f,a-=f);if(k===b)break;++e;e===b&&(k=e=0)}g.forEach(a=>{a.hdr.setValue(a.hdr.value+a.amt)});d&&d(a)}}};c.GridController=new JS.Module("GridController",{initNode:function(b,a){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(b,
a);this.fitHeadersToWidth();g(this)},setMaxWidth:function(b){this.set("maxWidth",b,!0)},setMinWidth:function(b){this.set("minWidth",b,!0)},setFitToWidth:function(b){this.fitToWidth=b},setSort:function(b){c.areArraysEqual(b,this.sort)||(this.sort=b,this.inited&&(this.fireEvent("sort",b),g(this)))},setLastColumn:function(b){const a=this.lastColumn;a!==b&&(a&&a.setLast(!1),(this.lastColumn=b)&&b.setLast(!0))},setLocked:function(b){this.locked=b;this.inited&&!b&&(this.__tempLock=!0,this.fitHeadersToWidth(),
this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(a=>{this.notifyColumnHeaderXChange(a);this.notifyColumnHeaderWidthChange(a);this.notifyColumnHeaderVisibilityChange(a)}),this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(b){null!==b&&"object"===typeof b&&(b=b.value);this.gridWidth!==b&&(this.gridWidth=b,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevColumnHeader:function(b){const a=this.columnHeaders;b=
this.getColumnHeaderIndex(b);if(0<b)for(;b;){const c=a[--b];if(c.visible)return c}return null},getNextColumnHeader:function(b){const a=this.columnHeaders,c=a.length;b=this.getColumnHeaderIndex(b)+1;if(0<b&&b<c)for(;c>b;b++){const c=a[b];if(c.visible)return c}return null},hasColumnHeader:function(b){return-1!==this.getColumnHeaderIndex(b)},getColumnHeaderIndex:function(b){return this.columnHeaders.indexOf(b)},getColumnHeaderById:function(b){const a=this.columnHeaders;let c=a.length;for(;c;){const e=
a[--c];if(e.columnId===b)return e}return null},getVisibleColumnHeaders:function(){return this.columnHeaders.filter(b=>b.visible)},notifyAddColumnHeader:function(b){this.hasColumnHeader(b)||(this.columnHeaders.push(b),b.visible&&this.setLastColumn(b))},notifyRemoveColumnHeader:function(b){const a=this.getColumnHeaderIndex(b);0<=a&&(this.columnHeaders.splice(a,1),b.visible&&b.last&&this.setLastColumn(this.getPrevColumnHeader(b)))},notifyColumnHeaderXChange:function(b){this.isLocked()||this.rows.forEach(a=>
{a.notifyColumnHeaderXChange(b)})},notifyColumnHeaderWidthChange:function(b){this.isLocked()||this.rows.forEach(a=>{a.notifyColumnHeaderWidthChange(b)})},notifyColumnHeaderVisibilityChange:function(b){if(!this.isLocked()){this.updateRowsForVisibilityChange(b);this.setLastColumn(d(this));const a=b.visible?1:-1;this.setMaxWidth(this.maxWidth+b.maxValue*a);this.setMinWidth(this.minWidth+b.minValue*a);this.fitHeadersToWidth()}},updateRowsForVisibilityChange:function(b){this.rows.forEach(a=>{a.notifyColumnHeaderVisibilityChange(b)})},
hasRow:function(b){return-1!==this.getRowIndex(b)},getRowIndex:function(b){return this.rows.indexOf(b)},getRowById:function(b,a=a=>a.model.id===b){return this.rows.find(a)},getPrevRow:function(b){b=this.getRowIndex(b)-1;return this.rows[0>b?this.rows.length-1:b]},getNextRow:function(b){b=this.getRowIndex(b)+1;return this.rows[b<this.rows.length?b:0]},notifyAddRow:function(b,a){if(!this.hasRow(b)&&(this.rows.push(b),!this.locked)){const c=this.width;this.columnHeaders.forEach(a=>{b.setWidth(c);b.notifyColumnHeaderXChange(a);
b.notifyColumnHeaderWidthChange(a);b.notifyColumnHeaderVisibilityChange(a)});a||this.doSort()}},notifyRemoveRow:function(b){b=this.getRowIndex(b);0<=b&&this.rows.splice(b,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const b=this.getVisibleColumnHeaders();let a=0;b.forEach(b=>{a=Math.max(a,b.x+b.width)});f(b,this.gridWidth-a,!0,a=>{f(b,a,!1,null)})}}})})(myt);
(c=>{const d=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.maxValue-a.value+d(a):0,g=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):null)?a.maxValue-a.value+g(a):0,f=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.minValue-a.value+f(a):0,b=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):null)?a.minValue-a.value+b(a):0,a=(b,c)=>{b=b.gridController?b.gridController.getPrevColumnHeader(b):null;var e=0;if(b){e=b.value+c;b.resizable&&
b.setValue(e);const d=e-b.value;e=c-d;0>d&&(e+=a(b,d))}return e},e=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+b;a.resizable&&a.setValue(c);const d=c-a.value;c=b-d;0<d&&(c+=e(a,d))}return c},h=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=a.value,0>b&&h(a,b)},k=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=
a.value,0<b&&k(a,b)};c.GridColumnHeader=new JS.Module("GridColumnHeader",{include:[c.BoundedValueComponent],initNode:function(m,n){const l=this;let p;null==n.minValue&&(n.minValue=16);null==n.maxValue&&(n.maxValue=9999);null==n.resizable&&(n.resizable=!0);null==n.flex&&(n.flex=0);null==n.cellXAdj&&(n.cellXAdj=0);null==n.cellWidthAdj&&(n.cellWidthAdj=0);null==n.sortable&&(n.sortable=!0);null==n.sortState&&(n.sortState="none");null==n.placement&&(n.placement="*");l.callSuper(m,n);p=l.gridController;
new c.View(l,{name:"resizer",cursor:"col-resize",width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[c.SizeToParent,c.Draggable,{requestDragPosition:function(c,m){c-=this.x;if(p.fitToWidth&&(0<c?(m=l.maxValue-l.value,c=Math.min(c,Math.min(-b(l),m+d(l)))):0>c&&(m=l.minValue-l.value,c=Math.max(c,Math.max(-g(l),m+f(l)))),0===c))return;m=l.value+c;l.resizable&&l.setValue(m);m-=l.value;c=m-c;let n=0;0>m?n=a(l,m):0<m&&(n=e(l,m));this.dragInitX+=n;c-=n;p.fitToWidth&&
(0>c?h(l,c):0<c&&k(l,c))}}]);p&&(p.notifyAddColumnHeader(l),p.notifyColumnHeaderXChange(l),p.notifyColumnHeaderVisibilityChange(l));l.setWidth(l.value);l.resizer.setVisible(!(l.last&&l.gridController.fitToWidth))},destroy:function(a){this.setGridController();this.callSuper(a)},setSortable:function(a){this.set("sortable",a,!0)},setSortState:function(a){this.set("sortState",a,!0)},setResizable:function(a){this.set("resizable",a,!0)},setCellWidthAdj:function(a){this.cellWidthAdj=a},setCellXAdj:function(a){this.cellXAdj=
a},setFlex:function(a){this.flex=a},setColumnId:function(a){this.columnId=a},setLast:function(a){this.last=a;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveColumnHeader(this),this.gridController=a,this.inited&&a&&(a.notifyAddColumnHeader(this),a.notifyColumnHeaderXChange(this),a.notifyColumnHeaderWidthChange(this),a.notifyColumnHeaderVisibilityChange(this)))},setValue:function(a){this.callSuper(a);
this.inited&&this.setWidth(this.value)},setMinValue:function(a){const b=this.minValue||0,c=this.gridController;this.callSuper(a);this.inited&&c&&b!==this.minValue&&c.setMinWidth(c.minWidth+this.minValue-b)},setMaxValue:function(a){const b=this.maxValue||0,c=this.gridController;null==a&&(a=9999);this.callSuper(a);this.inited&&c&&b!==this.maxValue&&c.setMaxWidth(c.maxWidth+this.maxValue-b)},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&this.gridController&&c!==this.width&&
this.gridController.notifyColumnHeaderWidthChange(this)},setX:function(a){const b=this.x;this.callSuper(a);this.inited&&this.gridController&&b!==this.x&&this.gridController.notifyColumnHeaderXChange(this)},setVisible:function(a){const b=this.visible;this.callSuper(a);this.inited&&this.gridController&&b!==this.visible&&this.gridController.notifyColumnHeaderVisibilityChange(this)}})})(myt);
(c=>{const d=c.View;c.GridRow=new JS.Module("GridRow",{initNode:function(c,d){null==d.placement&&(d.placement="*");this.callSuper(c,d);(c=this.gridController)&&c.notifyAddRow(this)},destroy:function(c){this.setGridController();this.callSuper(c)},setGridController:function(c){const d=this.gridController;d!==c&&(d&&d.notifyRemoveRow(this),this.gridController=c,this.inited&&c&&c.notifyAddRow(this))},notifyColumnHeaderXChange:function(c){const d=this[c.columnId+"View"];d&&d.setX(c.x+c.cellXAdj)},notifyColumnHeaderWidthChange:function(c){const d=
this[c.columnId+"View"];d&&d.setWidth(c.width+c.cellWidthAdj)},notifyColumnHeaderVisibilityChange:function(c){const d=this[c.columnId+"View"];d&&d.setVisible(c.visible)}});c.Grid=new JS.Class("Grid",d,{include:[c.GridController],initNode:function(g,f){const b=c.SpacedLayout;null==f.overflow&&(f.overflow="autox");null==f.bgColor&&(f.bgColor="#cccccc");null==f.rowSpacing&&(f.rowSpacing=1);null==f.columnSpacing&&(f.columnSpacing=1);var a=f.isAutoScrolling;delete f.isAutoScrolling;this.callSuper(g,f);
g=new d(this,{name:"header",overflow:"hidden"});new b(g,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new c.SizeToChildren(g,{name:"yLayout",locked:!0,axis:"y"});f=this.sizeHeightToRows;a=new d(this,{name:"content",overflow:f?"hidden":"autoy"},a?[c.AutoScroller]:[]);new b(a,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:f});this.syncTo(this,"setGridWidth","width");this.syncTo(g,"_updateContentWidth","width");this.constrain("_updateContentHeight",
[f?a:this,"height",g,"height",g,"y"])},setSizeHeightToRows:function(c){this.sizeHeightToRows=c},setRowSpacing:function(c){this.rowSpacing!==c&&(this.rowSpacing=c,this.inited&&this.content.yLayout.setSpacing(c))},setColumnSpacing:function(c){this.columnSpacing!==c&&(this.columnSpacing=c,this.inited&&this.header.xLayout.setSpacing(c))},setLocked:function(c){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(d=>{c?d.incrementLockedCounter():(d.decrementLockedCounter(),
d.update())});this.callSuper(c)},_updateContentWidth:function(c){const d=this.content,b=d.getSubviews(),a=c.value;d.setWidth(a);b.forEach(b=>{b.setWidth(a)})},_updateContentHeight:function(c){var d=this.header;c=this.content;d=d.y+d.height;c.setY(d);this.sizeHeightToRows?this.setHeight(d+c.height):c.setHeight(this.height-d)},determinePlacement:function(d,f){if("*"===d){let b;f.isA(c.GridRow)?b=this.content:f.isA(c.GridColumnHeader)&&(b=this.header);if(b)return f.gridController!==this&&f.setGridController(this),
b}return this.callSuper(d,f)},doSort:function(){var c=this.sort||["",""];if(c=this.getSortFunction(c[0],c[1])){const d=this.content,b=d.yLayout;this.rows.sort(c);d.sortSubviews(c);b.sortSubviews(c);b.update()}},getSortFunction:(c,d)=>{if(c){const b="ascending"===d?1:-1,a=c+"View";return(c,d)=>{c=c[a].text;d=d[a].text;return c>d?b:d>c?-b:0}}}})})(myt);
(c=>{const d=c=>{let b="";if(c.sortable)switch(c.sortState){case "ascending":b="chevron-up";break;case "descending":b="chevron-down"}c.sortIcon.setIcon(b)},g=c=>{if("left"===c.contentAlign){const b=c.textView;b&&b.setWidth(c.width-c.outset-b.x)}};c.SimpleGridColumnHeader=new JS.Class("SimpleGridColumnHeader",c.SimpleIconTextButton,{include:[c.GridColumnHeader],initNode:function(f,b){const a=this;null==b.activeColor&&(b.activeColor="#999999");null==b.hoverColor&&(b.hoverColor="#bbbbbb");null==b.readyColor&&
(b.readyColor="#aaaaaa");null==b.inset&&(b.inset=2);null==b.outset&&(b.outset=2);null==b.height&&(b.height=18);null==b.contentAlign&&(b.contentAlign="left");null==b.sortIconColor&&(b.sortIconColor="#666666");a.callSuper(f,b);new c.FontAwesome(a,{name:"sortIcon",align:"right",alignOffset:3,valign:"middle",textColor:a.sortIconColor},[{initNode:function(a,b){this.callSuper(a,b);this.getInnerDomStyle().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();a.setOutset(this.width+2);g(a)}}]);a.textView.enableEllipsis();
a.setDisabled(!a.sortable);g(a);d(a)},setSortIconColor:function(c){this.sortIconColor=c;this.sortIcon&&this.sortIcon.setTextColor(c)},setSortable:function(c){this.callSuper(c);this.inited&&(c&&this.setOutset(14),this.setDisabled(!c),d(this))},setSortState:function(c){this.callSuper(c);this.inited&&d(this)},setWidth:function(c,b){this.callSuper(c,b);this.inited&&g(this)},doActivated:function(){if(!this.disabled){switch(this.sortState){case "ascending":this.setSortState("descending");break;case "descending":this.setSortState("ascending");
break;case "none":this.setSortState("ascending")}this.gridController.setSort([this.columnId,this.sortState])}},drawDisabledState:function(){this.setBgColor(this.readyColor)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()}})})(myt);
(c=>{const d=c.View;c.InfiniteListRow=new JS.Module("InfiniteListRow",{include:[c.Reusable],setInfiniteOwner:function(c){this.infiniteOwner=c},setModel:function(c){this.model=c},setClassKey:function(c){this.classKey=c},notifyRefreshed:()=>{}});c.InfiniteList=new JS.Class("InfiniteList",d,{initNode:function(c,f){let b=f.rowClasses;delete f.rowClasses;if("function"===typeof b){const a={};a["default"]=b;b=a}null==f.modelIDName&&(f.modelIDName="id");null==f.numericSort&&(f.numericSort=!0);null==f.ascendingSort&&
(f.ascendingSort=!0);null==f.overflow&&(f.overflow="autoy");null==f.bgColor&&(f.bgColor="#cccccc");null==f.rowSpacing&&(f.rowSpacing=1);null==f.rowInset&&(f.rowInset=0);null==f.rowOutset&&(f.rowOutset=0);null==f.rowHeight&&(f.rowHeight=30);null==f.overscrollBehavior&&(f.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(c,f);c=this._listView=new d(this);this._scrollAnchorView=new d(c,{width:1,
height:1,bgColor:"transparent"});this._itemPool=this.makePool(b,c);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(d,f)=>new c.TrackActivesMultiPool(d,f),setOverscrollBehavior:function(c){this.overscrollBehavior=c;this.getInnerDomStyle().overscrollBehavior=c},setCollectionModel:function(c){this.collectionModel=c},setModelIDName:function(c){this.modelIDName=c},setRowSpacing:function(c){this.rowSpacing=c;this._rowExtent=this.rowSpacing+this.rowHeight},
setRowHeight:function(c){this.rowHeight=c;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(c,d){if(0<c&&(this.callSuper(c,d),this.inited)){c=this._listView;const b=this.width;c.setWidth(b);c.getSubviews().forEach(a=>{a.setWidth(b)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getInnerDomElement().scrollTop+this.height===this._listView.height},getSortFunction:function(){const c=
this.modelIDName,d=this.ascendingSort?1:-1;return this.numericSort?(b,a)=>(b[c]-a[c])*d:(b,a)=>{b=b[c];a=a[c];return(b>a?1:b<a?-1:0)*d}},getFilterFunction:function(){},scrollModelIntoView:function(c){var d=this.getIndexOfModelInData(c);if(0<=d){var b=this._rowExtent;c=this.getInnerDomElement().scrollTop;const a=c+this.height;d=this.rowInset+d*b;b=d+b;if(d<=c)return this.scrollYTo(d,!0),!0;if(b>=a)return this.scrollYTo(b-this.height,!0),!0}return!1},isModelInData:function(c){return-1!==this.getIndexOfModelInData(c)},
getNextModel:function(c,d=!0,b=!0){const a=this.getListData(),e=a.length;c=this.getIndexOfModelInData(c);if(0<=c)return c+=1,c>=e?d?a[0]:a[e-1]:a[c];if(b&&0<e)return a[e-1]},getPrevModel:function(c,d=!0,b=!0){const a=this.getListData(),e=a.length;c=this.getIndexOfModelInData(c);if(0<=c)return--c,0>c?d?a[e-1]:a[0]:a[c];if(b&&0<e)return a[0]},getIndexOfModelInData:function(c){if(c){const d=this.getListData();let b=d.length;for(;b;)if(this.areModelsEqual(d[--b],c))return b}return-1},areModelsEqual:function(c,
d){const b=this.modelIDName;return c[b]===d[b]},getActiveRowForModel:function(c){if(c){const d=this._itemPool.getActives();let b=d.length;for(;b;){const a=d[--b];if(this.areModelsEqual(a.model,c))return a}}},refreshListData:function(c,d){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(c,d)},resetListUI:function(c,d){const b=this.getListData().length,a=this._listView,e=this._scrollAnchorView;a.setHeight(b*this._rowExtent-(0<b?this.rowSpacing:
0)+this.rowInset+this.rowOutset);e.setY(a.height-e.height);this._startIdx=this._endIdx=-1;this.__forceFullResetOnNextRefresh=d;c||0===this.getInnerDomElement().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(d){const f=c.global.focus;var b=f.focusedView;b&&b.isDescendantOf(d)&&((b=this.getFocusTrap())?b.focus():f.clear());d.setVisible(!1);this._itemPool.putInstance(d)},refreshListUI:function(c){c=this._rowExtent;const d=this.rowInset,b=this.__forceFullResetOnNextRefresh;
var a=this.getInnerDomElement().scrollTop;const e=this.getListData()||[];var h=Math.max(0,Math.floor((a-d)/c));a=Math.min(e.length,Math.ceil((a-d+this.height)/c));this.__forceFullResetOnNextRefresh&&(this.__forceFullResetOnNextRefresh=!1);if(this._startIdx!==h||this._endIdx!==a||b){const f=this.width,g=this.rowHeight,n=this._visibleRowsByIdx;this._startIdx=h;this._endIdx=a;let l;for(l in n)if(l<h||l>=a)this.putRowBackInPool(n[l]),delete n[l];for(l=h;l<a;l++){h=n[l];const a=e[l],k=this.getClassKey(a);
h&&h.classKey===k||(h&&this.putRowBackInPool(h),n[l]=h=this._itemPool.getInstance(k),h.setInfiniteOwner(this),h.setClassKey(k),h.setWidth(f),h.setHeight(g),h.setY(d+l*c),h.setVisible(!0));h.model&&this.areModelsEqual(h.model,a)&&!b||(h.setModel(a),this.updateRow(h));h.notifyRefreshed();h.bringToFront()}}},getClassKey:c=>"default",updateRow:c=>{}})})(myt);
(c=>{const d=JS.Class,g=b=>{const a=b.selectedRow;a&&(a.setSelected(!1),b.set("selectedRow",null,!0))},f=c.SelectableInfiniteListRow=new JS.Module("SelectableInfiniteListRow",{include:[c.InfiniteListRow,c.Selectable]});c.SimpleSelectableInfiniteListRow=new d("SimpleSelectableInfiniteListRow",c.SimpleButton,{include:[f],initNode:function(b,a){null==a.selectedColor&&(a.selectedColor="#ccccff");null==a.activeColor&&(a.activeColor="#f8f8f8");null==a.hoverColor&&(a.hoverColor="#eeeeee");null==a.readyColor&&
(a.readyColor="#ffffff");null==a.focusEmbellishment&&(a.focusEmbellishment=!1);null==a.activationKeys&&(a.activationKeys=[13,27,32,37,38,39,40]);this.callSuper(b,a)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(b){this.callSuper(b);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},
doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(b,a){a=this.infiniteOwner;const c=this.model;switch(b){case 27:this.selected&&a.setSelectedRow();break;case 37:case 38:a.selectPrevRowForModel(c);break;case 39:case 40:a.selectNextRowForModel(c)}},doActivationKeyUp:function(b){switch(b){case 13:case 32:this.doActivated()}}});c.SelectableInfiniteList=new d("SelectableInfiniteList",c.InfiniteList,{setSelectedRow:function(b){const a=this.selectedRow;
b!==a&&(a&&a.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",b,!0),b&&(this.setSelectedRowModel(b.model),b.setSelected(!0)))},setSelectedRowModel:function(b){this.set("selectedRowModel",b,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(b,a,c){b&&(g(this),this.setSelectedRowModel(b),this.refreshListUI(),a&&(b=this.getActiveSelectedRow())&&b.focus())},selectNextRowForModel:function(b,
a=!0){this.selectRowForModel(this.getNextModel(b),a,!0)},selectPrevRowForModel:function(b,a=!0){this.selectRowForModel(this.getPrevModel(b),a,!1)},resetListUI:function(b,a){this.isModelInData(this.selectedRowModel)?g(this):this.setSelectedRow();this.callSuper(b,a)},putRowBackInPool:function(b){b.selected&&g(this);this.callSuper(b)},refreshListUI:function(b){b=c.global.focus.focusedView;this.callSuper();const a=this.getActiveSelectedRow();a&&(this.set("selectedRow",a,!0),a.setSelected(!0),b&&b!==a||
a.focus(!0))}})})(myt);
(c=>{const d=JS.Class,g=JS.Module,f=c.View,b=new g("InfiniteGridRowMixin",{notifyXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyWidthChange:function(a){const b=this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyVisibilityChange:function(a){const b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}}),a=new g("InfiniteGridMixin",{setGridHeader:function(a){(this.gridHeader=a)&&a.setGrid(this)},makeReady:function(a,b){const c=this.gridHeader;c?
(this.__forceFullResetOnNextRefresh=b,c.setSort(a),c.setLocked(!1)):this.refreshListData(!1,b)},getSortFunction:function(){var a=this.gridHeader.sort||["",""];const b=a[0];a=a[1];if(b){const c="ascending"===a?1:-1;return(a,d)=>{a=a[b];d=d[b];return a>d?c:d>a?-c:0}}return this.callSuper()},updateRow:function(a){this.gridHeader&&this.gridHeader.columnHeaders.forEach(b=>{a.notifyXChange(b);a.notifyWidthChange(b);a.notifyVisibilityChange(b)})},notifyXChange:function(a){this.getVisibleRows().forEach(b=>
{b.notifyXChange(a)})},notifyWidthChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyWidthChange(a)})},notifyVisibilityChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyVisibilityChange(a)})}});c.InfiniteGridRow=new g("InfiniteGridRow",{include:[c.InfiniteListRow,b]});c.SelectableInfiniteGridRow=new g("SelectableInfiniteGridRow",{include:[c.SelectableInfiniteListRow,b]});c.SimpleSelectableInfiniteGridRow=new d("SimpleSelectableInfiniteGridRow",c.SimpleSelectableInfiniteListRow,
{include:[b]});c.InfiniteGrid=new d("InfiniteGrid",c.InfiniteList,{include:[a]});c.SelectableInfiniteGrid=new d("InfiniteGrid",c.SelectableInfiniteList,{include:[a]});c.InfiniteGridHeader=new d("InfiniteGridHeader",f,{include:[c.GridController],initNode:function(a,b){null==b.columnSpacing&&(b.columnSpacing=1);b.overflow="hidden";this.callSuper(a,b);new c.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(a){this.grid=a},setColumnSpacing:function(a){this.columnSpacing=a},getColumnSpacingInUse:function(){return 0===
this.columnSpacing?0:Math.max(0,this.getVisibleColumnHeaders().length-1)*this.columnSpacing},setHeight:function(a,b){this.callSuper(a,b);this.inited&&(a=this.height,this.columnHeaders.forEach(b=>{b.setHeight(a)}))},setWidth:function(a,b){this.callSuper(Math.max(this.minWidth,a),b);this.inited&&(a=this.width,this.setGridWidth(a),this.grid.setWidth(a))},subviewAdded:function(a){this.callSuper(a);a.isA(c.GridColumnHeader)&&(a.setGridController(this),a.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,
this.grid.__forceFullResetOnNextRefresh)},notifyColumnHeaderXChange:function(a){this.isLocked()||this.grid.notifyXChange(a)},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.grid.notifyWidthChange(a)},updateRowsForVisibilityChange:function(a){this.grid.notifyVisibilityChange(a)}})})(myt);
(c=>{const d=JS.Class,g=c.PanelStackTransition=new d("PanelStackTransition",c.Node,{to:c=>Promise.resolve(c),from:c=>Promise.resolve(c)});c.PanelStack=new d("PanelStack",c.View,{include:[c.SelectionManager],initNode:function(c,b){b.overflow="hidden";null==b.itemSelectionId&&(b.itemSelectionId="panelId");null==b.maxSelected&&(b.maxSelected=1);this.callSuper(c,b);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(c){this.set("transition",c,
!0)},__updateWidth:function(c){const b=this.getActivePanel();b&&b.setWidth(c.value)},__updateHeight:function(c){const b=this.getActivePanel();b&&b.setHeight(c.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(c){return this.getSelectableItem(c)},selectPanel:function(c){this.selectById(c)},doSelected:function(c){c.setWidth(this.width);c.setHeight(this.height)},doStackTransition:function(c){this["doStackTransition"+(c.selected?"To":"From")](c)},doStackTransitionTo:function(c){const b=
this;b.doBeforeTransitionTo(c);const a=b.transition;a?a.to(c).then(a=>{b.doAfterTransitionTo(a)}):(c.makeHighestZIndex(),c.setVisible(!0),b.doAfterTransitionTo(c))},doBeforeTransitionTo:c=>{},doAfterTransitionTo:c=>{},doStackTransitionFrom:function(c){const b=this;b.doBeforeTransitionFrom(c);const a=b.transition;a?a.from(c).then(a=>{b.doAfterTransitionFrom(a)}):(c.setVisible(!1),b.doAfterTransitionFrom(c))},doBeforeTransitionFrom:c=>{},doAfterTransitionFrom:c=>{}});c.StackablePanel=new JS.Module("StackablePanel",
{include:[c.Selectable],initNode:function(c,b){b.visible=b.selected=!1;null==b.bgColor&&(b.bgColor="#ffffff");null==b.panelId&&(b.panelId=b.name);this.callSuper(c,b);this.selected&&this.doStackTransition()},setPanelStack:function(c){this.panelStack=c},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(c){this.panelId=c},setSelected:function(c){this.selected!==c&&(this.callSuper(c),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});
c.PanelStackFadeTransition=new d("PanelStackFadeTransition",g,{initNode:function(c,b){null==b.duration&&(b.duration=1E3);this.callSuper(c,b)},setDuration:function(c){this.duration=c},to:function(c){return new Promise((b,a)=>{c.stopActiveAnimators("opacity");c.setVisible(!0);c.animate({attribute:"opacity",to:1,duration:this.duration}).next(a=>{c.makeHighestZIndex();b(c)})})},from:function(c){return new Promise((b,a)=>{c.stopActiveAnimators("opacity");c.animate({attribute:"opacity",to:0,duration:this.duration}).next(a=>
{c.setVisible(!1);b(c)})})}});c.PanelStackSlideTransition=new d("PanelStackSlideTransition",g,{initNode:function(c,b){null==b.duration&&(b.duration=1E3);null==b.direction&&(b.direction="right");this.callSuper(c,b)},setDuration:function(c){this.duration=c},setDirection:function(c){this.direction=c},to:function(c){const b=c.getPanelStack(),a=this.duration;let d,f;switch(this.direction){case "left":f="x";d=b.width;break;case "right":f="x";d=-b.width;break;case "up":f="y";d=b.height;break;case "down":f=
"y",d=-b.height}c.stopActiveAnimators(f);c.set(f,d);c.setVisible(!0);return new Promise((b,d)=>{d=a=>{c.makeHighestZIndex();b(c)};0<a?c.animate({attribute:f,to:0,duration:a}).next(d):(c.set(f,0),c.makeHighestZIndex(),b(c))})},from:function(c){const b=c.getPanelStack(),a=this.duration;let d,f;switch(this.direction){case "left":f="x";d=-b.width;break;case "right":f="x";d=b.width;break;case "up":f="y";d=-b.height;break;case "down":f="y",d=b.height}c.stopActiveAnimators(f);return new Promise((b,e)=>{e=
a=>{c.setVisible(!1);b(c)};0<a?c.animate({attribute:f,to:d,duration:a}).next(e):(c.set(f,d),c.setVisible(!1),b(c))})}})})(myt);
(c=>{const d=JS.Module;var g=c.global;const f=g.dragManager,b=g.mouse;g=c.Draggable;const a=(b,c,d)=>{b["__isAuto"+c]&&(b.getInnerDomElement()["scrollUp"===c||"scrollDown"===c?"scrollTop":"scrollLeft"]+=d*b["__amount"+c],b["__timerIdAuto"+c]=setTimeout(()=>{a(b,c,d)},b.scrollFrequency))},e=c.DragGroupSupport=new d("DragGroupSupport",{initNode:function(a,b){this.__dragGroups={"*":!0};this.__acceptAny=!0;this.callSuper(a,b)},setDragGroups:function(a){const b=this.__dragGroups={};for(const c in a)b[c]=
!0;this.__acceptAny=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dragGroups},addDragGroup:function(a){a&&(this.__dragGroups[a]=!0,"*"===a&&(this.__acceptAny=!0))},removeDragGroup:function(a){a&&(delete this.__dragGroups[a],"*"===a&&(this.__acceptAny=!1))},acceptAnyDragGroup:function(){return this.__acceptAny}});c.DropSource=new d("DropSource",{include:[g],initNode:function(a,b){null==b.distanceBeforeDrag&&(b.distanceBeforeDrag=2);null==b.dropParent&&(b.dropParent=a.getRoot());this.callSuper(a,
b)},setDropClass:function(a){this.dropClass=c.resolveClassname(a)},setDropClassAttrs:function(a){this.dropClassAttrs=a},setDropParent:function(a){this.dropParent=a},startDrag:function(a){const b=this.dropable=this.makeDropable();if(b){const c=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(a);b.__doMouseDown(a);b.distanceBeforeDrag=c}},doMouseUp:function(a){this.callSuper(a);const b=this.dropable;b&&(b.__doMouseUp(a),b.doMouseUp(a),this.dropable=null)},makeDropable:function(){const a=this.dropClass,
b=this.dropParent;if(a&&b){const d=c.DomElementProxy.getPagePosition(this.getInnerDomElement(),b.getInnerDomElement()),e=Object.assign({},this.dropClassAttrs);e.x=d.x||0;e.y=d.y||0;return new a(b,e)}}});c.DropTarget=new d("DropTarget",{include:[e],initNode:function(a,b){this.callSuper(a,b);f.registerDropTarget(this)},destroyAfterOrphaning:function(){f.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(a){return!this.disabled&&this.isVisible()},notifyDragStart:a=>{},notifyDragStop:a=>
{},notifyDragEnter:a=>{},notifyDragLeave:a=>{},notifyDrop:a=>{}});c.Dropable=new d("Dropable",{include:[g,e],setDropTarget:function(a){this.dropTarget=a},setDropped:function(a){this.dropped=a},setDropFailed:function(a){this.dropFailed=a},willPermitDrop:a=>!0,startDrag:function(a){this.setDropped(!1);this.setDropFailed(!1);f.startDrag(this);this.callSuper(a)},updateDrag:function(a){f.updateDrag(a,this);this.callSuper(a)},stopDrag:function(a,b){f.stopDrag(a,this,b);this.callSuper(a,b);b?this.notifyDropAborted():
this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(a){this.setDropTarget(a)},notifyDragLeave:function(a){this.setDropTarget()},notifyDropped:function(a,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});c.AutoScroller=new d("AutoScroller",{include:[e],initNode:function(a,b){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;null==b.overflow&&(b.overflow="auto");this.callSuper(a,
b);f.registerAutoScroller(this)},destroyAfterOrphaning:function(){f.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(a){this.scrollBorder=a},setScrollFrequency:function(a){this.scrollFrequency=a},setScrollAmount:function(a){this.scrollAmount=a},setScrollAcceleration:function(a){this.scrollAcceleration=a},notifyDragStart:function(a){a=this.getInnerDomElement();(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)&&this.attachToDom(b,"__handleMouseMove","mousemove",!0)},
notifyDragStop:function(a){this.detachFromDom(b,"__handleMouseMove","mousemove",!0);this.__isAutoscrollUp=this.__isAutoscrollDown=!1;this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null;this.__isAutoscrollLeft=this.__isAutoscrollRight=!1;this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null},__handleMouseMove:function(b){var c=b.value;b=c.pageX;c=c.pageY;if(this.containsPoint(b,c)){const d=this.getPagePosition(),e=this.scrollBorder;b-=d.x;c-=d.y;c<e?(this.__isAutoscrollUp=!0,this.__amountscrollUp=
Math.round(this.scrollAmount*(1+(e-c)/e*this.scrollAcceleration)),this.__timerIdAutoscrollUp||a(this,"scrollUp",-1)):this.height-c<e?(this.__isAutoscrollDown=!0,this.__amountscrollDown=Math.round(this.scrollAmount*(1+(e-(this.height-c))/e*this.scrollAcceleration)),this.__timerIdAutoscrollDown||a(this,"scrollDown",1)):(this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null);b<e?(this.__isAutoscrollLeft=!0,this.__amountscrollLeft=Math.round(this.scrollAmount*
(1+(e-b)/e*this.scrollAcceleration)),this.__timerIdAutoscrollLeft||a(this,"scrollLeft",-1)):this.width-b<e?(this.__isAutoscrollRight=!0,this.__amountscrollRight=Math.round(this.scrollAmount*(1+(e-(this.width-b))/e*this.scrollAcceleration)),this.__timerIdAutoscrollRight||a(this,"scrollRight",1)):(this.__isAutoscrollLeft=this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null)}else this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=
null,this.__isAutoscrollLeft=this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(c,d){if(d){const c=d.length;for(let f=0,b;c>f;)(b=d[f++])?this.extend(b):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.init(c||{})},init:function(c){this.callSetters(c);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(c=>{const d=c.Geometry.degreesToRadians,g=b=>{c.Annulus.draw(b.__path,d(b.startAngle),d(b.endAngle),b.thickness,b.radius,b.width/2,b.color,b.startCapRounding,b.endCapRounding)},f=b=>{const a=2*(b.radius+b.thickness),c=b.__svg;b.setWidth(a);b.setHeight(a);c.setAttribute("viewBox","0 0 "+a+" "+a);c.setAttribute("width",a);c.setAttribute("height",a);g(b)};c.Annulus=new JS.Class("Annulus",c.View,{extend:{draw:(b,a,c,d,f,g,n,l,p)=>{if(a>c){var e=a;a=c;c=e}e=f+d;var h=Math.PI;const k=c-a,m=k+1E-4>=2*h;
m&&(a=0,c=h);const y=Math.cos,q=Math.sin;a=[[g+e*y(a),g+e*q(a)],[g+e*y(c),g+e*q(c)],[g+f*y(c),g+f*q(c)],[g+f*y(a),g+f*q(a)]];c=[];c.push("M"+a[0].join());m?(c.push("A"+[e,e,0,1,1,a[1]].join()),c.push("A"+[e,e,0,1,1,a[0]].join()),c.push("L"+a[2].join()),c.push("A"+[f,f,0,1,0,a[3]].join()),c.push("A"+[f,f,0,1,0,a[2]].join())):(h=k%(2*h)>h?1:0,c.push("A"+[e,e,0,h,1,a[1]].join()),p?c.push("A"+[d/2,d/2,0,0,1,a[2]].join()):c.push("L"+a[2].join()),c.push("A"+[f,f,0,h,0,a[3]].join()),l&&c.push("A"+[d/2,d/
2,0,0,1,a[0]].join()));c.push("z");b.setAttribute("d",c.join(" "));b.setAttribute("fill",n)},makeSVG:(b,a)=>{b=document.createElementNS("http://www.w3.org/2000/svg",b);a&&a.appendChild(b);return b}},initNode:function(b,a){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(b,a);f(this)},createOurDomElement:function(b){b=this.callSuper(b);var a=Array.isArray(b)?b[1]:b;const d=c.Annulus.makeSVG;a=this.__svg=d("svg",a);this.__path=d("path",
a);a.style.pointerEvents="none";return b},setRadius:function(b){this.radius!==b&&(this.radius=b=Math.max(0,b),this.inited&&(f(this),this.fireEvent("radius",b)))},setThickness:function(b){this.thickness!==b&&(this.thickness=b=Math.max(0,b),this.inited&&(f(this),this.fireEvent("thickness",b)))},setStartAngle:function(b){this.startAngle!==b&&(this.startAngle=b,this.inited&&(g(this),this.fireEvent("startAngle",b)))},setEndAngle:function(b){this.endAngle!==b&&(this.endAngle=b,this.inited&&(g(this),this.fireEvent("endAngle",
b)))},setStartCapRounding:function(b){this.startCapRounding!==b&&(this.startCapRounding=b,this.inited&&(g(this),this.fireEvent("startCapRounding",b)))},setEndCapRounding:function(b){this.endCapRounding!==b&&(this.endCapRounding=b,this.inited&&(g(this),this.fireEvent("endCapRounding",b)))},setColor:function(b){this.color!==b&&(this.color=b,this.inited&&(g(this),this.fireEvent("color",b)))},sendSubviewToBack:function(b){if(b.parent===this){const a=this.getInnerDomElement(),c=a.childNodes[1];b.getOuterDomElement()!==
c&&(b=a.removeChild(b.getOuterDomElement()))&&a.insertBefore(b,c)}},isColorAttr:function(b){return"color"===b||this.callSuper(b)}})})(myt);
(c=>{const d=JS.Class,g=c.WebSocket=new d("WebSocket",c.Node,{initNode:function(a,b){this.status="closed";this.useJSON=!0;this.callSuper()},destroy:function(){this.close(1E3,"destroyed");this.callSuper()},setUseJSON:function(a){this.useJSON!==a&&(this.useJSON=a,this.inited&&this.fireEvent("useJSON",a))},setStatus:function(a){this.status!==a&&(this.status=a,this.inited&&this.fireEvent("status",a))},setUrl:function(a){"object"===typeof a&&"function"===typeof a.isA&&a.isA(c.URI)&&(a=a.toString());this.url=
a},setProtocols:function(a){this.protocols=a},connect:function(a){if(!this._ws&&this.url)try{const b=this._ws=new WebSocket(this.url,this.protocols),c=this.onOpen.bind(this);b.onopen=a?d=>{c(d);a(d);b.onopen=c}:c;b.onerror=this.onError.bind(this);b.onmessage=this.onMessage.bind(this);b.onclose=this.onClose.bind(this)}catch(e){this.onError(e)}},send:function(a,b){const c=this,d=c._ws;if(d&&"open"===c.status){if(c.useJSON)try{a=JSON.stringify(a)}catch(m){c.onError(m)}d.send(a);return!0}if(b)return!1;
c.connect(b=>{c.send(a,!0)})},close:function(a,b){this._ws&&this._ws.close(a||1E3,b||"close")},onOpen:function(a){this.setStatus("open")},onError:function(a){console.error(a);this._ws&&this._ws.readyState!==WebSocket.OPEN&&this.close()},onMessage:function(a){a=a.data;if(this.useJSON)try{a=JSON.parse(a)}catch(e){this.onError(e)}return a},onClose:function(a){this._ws&&delete this._ws;this.setStatus("closed")}}),f={},b=a=>{let b;"string"===typeof a?b=f[a]||(f[a]=b=>b===a):"function"===typeof a?b=a:null==
a&&(b=a=>!0);return b};c.MessageTypeWebSocket=new d("MessageTypeWebSocket",g,{initNode:function(a,b){this._listeners=[];null==b.protocols&&(b.protocols="typedMessage");this.callSuper()},registerListener:function(a,c){if(a&&(c=b(c))){var d=this._listeners;let b=d.length;for(;b;){const e=d[--b];if(e.func===a){a=e.patternMatchers;for(d=a.length;d;)if(a[--d]===c)return;a.push(c);return}}d.push({func:a,patternMatchers:[c]})}},unregisterListener:function(a,c){if(a&&(c=b(c))){const b=this._listeners;let e=
b.length;for(;e;){var d=b[--e];if(d.func===a){a=d.patternMatchers;for(d=a.length;d;)if(a[--d]===c){a.splice(d,1);break}0===a.length&&b.splice(e,1);break}}}},sendTypedMessage:function(a,b,c){if(b=this.createMessage(a,b))return this.send(b,c)},createMessage:(a,b)=>{let c;try{c=JSON.stringify(b)}catch(k){console.error(k);return}return{type:a||"",msg:c,date:Date.now()}},onMessage:function(a){const b=this.callSuper(a);try{b.msg=JSON.parse(b.msg)}catch(k){this.onError(b);return}const c=b.type;this._listeners.forEach(a=>
{a.patternMatchers.every(d=>d(c)?(a.func(b),!1):!0)});return b}})})(myt);
(c=>{let d;const g=JS.Class,f=c.global,b=f.mouse,a=f.windowResize,e=a=>{a.__checkTipTimerId&&(clearTimeout(a.__checkTipTimerId),delete a.__checkTipTimerId)},h=a=>{if(a.tooltip){const b=a._lastPos;if(a.tooltip.parent.containsPoint(b.x,b.y))return!0}a.hideTip();return!1},k=c.BaseTooltip=new g("BaseTooltip",c.View,{include:[c.RootView],extend:{DEFAULT_TIP_DELAY:500,DEFAULT_TIP_HIDE_DELAY:100},initNode:function(a,b){this.tipDelay=this.nextTipDelay=k.DEFAULT_TIP_DELAY;this.tipHideDelay=k.DEFAULT_TIP_HIDE_DELAY;
null==b.visible&&(b.visible=!1);this.callSuper(a,b)},setTooltip:function(a){this.inited&&(this.tooltip=a)&&(this.attachToDom(b,"__checkMouseMovement","mousemove",!0),this.attachToDom(a.parent,"hideTip","mousedown",!0),this.attachToDom(a.parent,"hideTip","mouseup",!0))},__checkMouseMovement:function(a){const b=this;b._lastPos=c.MouseObservable.getMouseFromEvent(a);h(b)&&(e(b),b.__checkTipTimerId=setTimeout(()=>{delete b.__checkTipTimerId;h(b)&&b.showTip()},b.nextTipDelay))},hideTip:function(a){e(this);
a=this.tooltip.parent;this.detachFromDom(a,"hideTip","mousedown",!0);this.detachFromDom(a,"hideTip","mouseup",!0);this.detachFromDom(b,"__checkMouseMovement","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){f.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),m=c.Tooltip=new g("Tooltip",k,{extend:{DEFAULT_EDGE_SIZE:0,DEFAULT_EDGE_COLOR:"#444444",DEFAULT_SHADOW_SIZE:2,DEFAULT_SHADOW_COLOR:"#00000033",
DEFAULT_HORIZONTAL_INSET:6,DEFAULT_VERTICAL_INSET:3,DEFAULT_TIP_BG_COLOR:"#444444",DEFAULT_TIP_TEXT_COLOR:"#eeeeee"},initNode:function(a,b){null==b.edgeSize&&(b.edgeSize=m.DEFAULT_EDGE_SIZE);null==b.edgeColor&&(b.edgeColor=m.DEFAULT_EDGE_COLOR);null==b.shadowSize&&(b.shadowSize=m.DEFAULT_SHADOW_SIZE);null==b.shadowColor&&(b.shadowColor=m.DEFAULT_SHADOW_COLOR);null==b.insetH&&(b.insetH=m.DEFAULT_HORIZONTAL_INSET);null==b.insetV&&(b.insetV=m.DEFAULT_VERTICAL_INSET);null==b.tipBgColor&&(b.tipBgColor=
m.DEFAULT_TIP_BG_COLOR);null==b.tipTextColor&&(b.tipTextColor=m.DEFAULT_TIP_TEXT_COLOR);this.callSuper(a,b);new c.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(a){this.edgeSize=a},setEdgeColor:function(a){this.edgeColor=a},setShadowSize:function(a){this.shadowSize=a},setShadowColor:function(a){this.shadowColor=a},setInsetH:function(a){this.insetH=a},setInsetV:function(a){this.insetV=a},setTipBgColor:function(a){this.tipBgColor=
a},setTipTextColor:function(a){this.tipTextColor=a},showTip:function(){const b=this.tooltip;var c=b.text;const d=b.parent;var e=this._tipText;const f=this.edgeSize,g=this.shadowSize;e.text!==c&&e.setText(c);e.setWidth("auto");var h=Math.min(e.measureNoWrapWidth(),b.maxTextWidth);c=h+2*e.x;const k=c+2*f;e.setWidth(h);e.sizeViewToDom();h=d.getPagePosition();e=e.height+2*e.y;const m=e+2*f,n=h.y-m+("below"===b.tipvalign?d.height+m:0);h=h.x;switch(b.tipalign){case "right":h-=k;case "farright":h+=d.width;
break;case "farleft":h-=k}this.setX(Math.round(Math.min(Math.max(h,0),a.getWidth()-k)));this.setY(Math.round(Math.min(Math.max(n,0),a.getHeight()-m)));this.setWidth(c);this.setHeight(e);this.setBgColor(this.tipBgColor);this.setBorder([f,"solid",this.edgeColor]);this.setBoxShadow([g,g,g,this.shadowColor]);this.callSuper()}}),n=c.TooltipMixin=new JS.Module("TooltipMixin",{extend:{DEFAULT_TIP_CLASS:m,DEFAULT_MAX_TEXT_WIDTH:280},setTooltip:function(a){this.callSuper("");this.set("tooltip",a,!0)},setTipAlign:function(a){this.set("tipAlign",
a,!0)},setTipValign:function(a){this.set("tipValign",a,!0)},setMaxTextWidth:function(a){this.set("maxTextWidth",a,!0)},setTipClass:function(a){this.set("tipClass",a,!0)},doSmoothMouseOver:function(a){const b=this.tooltip;this.callSuper(a);if(a&&b){a=this.tipClass||n.DEFAULT_TIP_CLASS;!d||d instanceof a||(d.destroy(),d=null);if(!d){let b=document.getElementById("tooltipDiv");b||(b=c.DomElementProxy.createDomElement("div",{position:"absolute"}),c.getElement().appendChild(b));d=new a(b,{domId:"tooltipDiv"})}d.setTooltip({parent:this,
text:b,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||n.DEFAULT_MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(c){this.setVectors(c||[])},setVectors:function(c){this._boundingBox=null;this.vectors=c},copyFrom:function(c){this.vectors=c.vectors.slice();this._boundingBox=null},drawInto:function(c){c.beginPath();const d=this.vectors;let g=d.length,f=0;for(c.moveTo(d[f++],d[f++]);g>f;)c.lineTo(d[f++],d[f++]);c.closePath()},translate:function(c,d){const g=this.vectors;let f=g.length;for(;f;)g[--f]+=d,g[--f]+=c;this._boundingBox=null},rotate:function(c){const d=
Math.cos(c);c=Math.sin(c);const g=this.vectors,f=g.length;for(let b=0;f>b;){const a=g[b]*d-g[b+1]*c,e=g[b]*c+g[b+1]*d;g[b++]=a;g[b++]=e}this._boundingBox=null},rotateAroundOrigin:function(c,d,g){this.translate(-d,-g);this.rotate(c);this.translate(d,g)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const c=this.vectors;let d=c.length,g,f,b,a;if(2<=d){b=a=c[--d];for(g=f=c[--d];d;){const e=c[--d],h=c[--d];b=Math.min(e,b);a=Math.max(e,a);g=Math.min(h,g);f=Math.max(h,f)}return this._boundingBox=
{x:g,y:b,width:f-g,height:a-b}}return this._boundingBox=null},getCenter:function(){const c=this.getBoundingBox();return c?{x:c.x+c.width/2,y:c.y+c.height/2}:null},isPointInPath:function(c,d){"object"===typeof c&&(d=c.y,c=c.x);return myt.Geometry.isPointInPath(c,d,this.getBoundingBox(),this.vectors)}});
(c=>{const d=Math.PI,g=d/2,f=3*d/2,b=c.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(b=>{a[b]=function(){this.__ctx[b].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(b=>
{a[b]=function(){return this.__ctx[b].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(c=>{a[b.generateSetterName(c)]=function(a){this.__ctx[c]=a};a[b.generateGetterName(c)]=function(){return this.__ctx[c]}});c.Canvas=new JS.Class("Canvas",c.View,{include:[a],createOurDomElement:function(a){a=this.callSuper(a);const b=Array.isArray(a)?
a[1]:a,c=this.__canvas=document.createElement("canvas");c.className="mytUnselectable";b.appendChild(c);c.style.position="absolute";this.__ctx=c.getContext("2d");return a},setWidth:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("width",a);this.callSuper(a,b)},setHeight:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("height",a);this.callSuper(a,b)},sendSubviewToBack:function(a){if(a.parent===this){const b=this.domElement,c=b.childNodes[1];a.domElement!==c&&(a=b.removeChild(a.domElement))&&
b.insertBefore(a,c)}},clear:function(){const a=this.__ctx;a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.width,this.height);a.restore()},dataURItoBlob:function(a,b){a=atob(a.split(",")[1]);const c=a.length,d=[];for(let b=0;b<c;)d.push(a.charCodeAt(b++));return new Blob([new Uint8Array(d)],{type:b})},getDataURL:function(a,b){return this.__canvas.toDataURL(a,b)},getImageFile:function(a,b,c){switch(a){case "png":case "PNG":a="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":a="jpeg";
null==c&&(c=.5);break;default:console.warn("Unexpected image type: ",a),a=a.toLowerCase()}const d="image/"+a;c=this.dataURItoBlob(this.getDataURL(d,c),d);b&&(c.name=b+"."+a);return c},circle:function(a,b,c){this.__ctx.arc(a,b,c,0,2*d)},drawRoundedRect:function(a,b,c,m,n,l){l=m+l;n=c+n;this.beginPath();this.moveTo(c,m+a);this.lineTo(c,l-a);this.arc(c+a,l-a,a,d,g,!0);this.lineTo(n-a,l);this.arc(n-a,l-a,a,g,0,!0);this.lineTo(n,m+a);this.arc(n-a,m+a,a,0,f,!0);this.lineTo(c+a,m);this.arc(c+a,m+a,a,f,d,
!0);this.closePath();0<b&&(a-=b,c+=b,n-=b,m+=b,l-=b,this.moveTo(c,m+a),this.arc(c+a,m+a,a,d,f),this.lineTo(n-a,m),this.arc(n-a,m+a,a,f,0),this.lineTo(n,l-a),this.arc(n-a,l-a,a,0,g),this.lineTo(c+a,l),this.arc(c+a,l-a,a,g,d),this.closePath())},drawRectOutline:function(a,b,c,d,f){f=c+f;d=b+d;const e=b+a,g=d-a,h=c+a;a=f-a;this.beginPath();this.moveTo(b,c);this.lineTo(b,f);this.lineTo(d,f);this.lineTo(d,c);this.lineTo(b,c);this.lineTo(e,h);this.lineTo(g,h);this.lineTo(g,a);this.lineTo(e,a);this.lineTo(e,
h);this.closePath()},drawPartiallyRoundedRect:function(a,b,c,d,f,g,p,r){r=g+r;p=f+p;this.beginPath();this.moveTo(f,g+a);this.lineTo(f,r-c);0<c&&this.quadraticCurveTo(f,r,f+c,r);this.lineTo(p-d,r);0<d&&this.quadraticCurveTo(p,r,p,r-d);this.lineTo(p,g+b);0<b&&this.quadraticCurveTo(p,g,p-b,g);this.lineTo(f+a,g);0<a&&this.quadraticCurveTo(f,g,f,g+a);this.closePath()},drawGradientArc:function(a,b,f,g,n,l,p,r){null==r&&(r=60);r=d/r;let e=d/360;var h=p.length;let k=0;for(var m,q;h>k+1;k++)m=p[k+1].angle-
p[k].angle,m=Math.round(m/r),q=p[k].color.getDiffFrom(p[k+1].color),p[k].colorDelta={red:q.red/m,green:q.green/m,blue:q.blue/m};f=new c.Path([a+f,b,a+g,b]);let z,A;f.rotateAroundOrigin(n,a,b);g=f.vectors;h=g[0];m=g[1];q=g[2];let F=g[3],E=0;for(k=0;l>n;){z=h;A=m;var D=q;var B=F;n+=r;n>l&&(r+=l-n,e=0,n=l);f.rotateAroundOrigin(r+e,a,b);h=g[0];m=g[1];q=g[2];F=g[3];this.beginPath();this.moveTo(z,A);this.lineTo(D,B);this.lineTo(q,F);this.lineTo(h,m);this.closePath();D=p[k].color;B=p[k].colorDelta;this.fillStyle=
c.Color.makeColorNumberFromChannels(D.red+E*B.red,D.green+E*B.green,D.blue+E*B.blue);this.fill();0<e&&(f.rotateAroundOrigin(-e,a,b),h=g[0],m=g[1],q=g[2],F=g[3]);E++;n>=p[k+1].angle&&(E=0,k++)}}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

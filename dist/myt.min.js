var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,v,u){if(n==Array.prototype||n==Object.prototype)return n;n[v]=u.value;return n};
$jscomp.getGlobal=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var v=0;v<n.length;++v){var u=n[v];if(u&&u.Math==Math)return u}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(n,v,u){if(!u||null!=n){u=$jscomp.propertyToPolyfillSymbol[v];if(null==u)return n[v];u=n[u];return void 0!==u?u:n[v]}};$jscomp.polyfill=function(n,v,u,t){v&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,v,u,t):$jscomp.polyfillUnisolated(n,v,u,t))};
$jscomp.polyfillUnisolated=function(n,v,u,t){u=$jscomp.global;n=n.split(".");for(t=0;t<n.length-1;t++){var g=n[t];if(!(g in u))return;u=u[g]}n=n[n.length-1];t=u[n];v=v(t);v!=t&&null!=v&&$jscomp.defineProperty(u,n,{configurable:!0,writable:!0,value:v})};
$jscomp.polyfillIsolated=function(n,v,u,t){var g=n.split(".");n=1===g.length;t=g[0];t=!n&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var k=0;k<g.length-1;k++){var d=g[k];if(!(d in t))return;t=t[d]}g=g[g.length-1];u=$jscomp.IS_SYMBOL_NATIVE&&"es6"===u?t[g]:null;v=v(u);null!=v&&(n?$jscomp.defineProperty($jscomp.polyfills,g,{configurable:!0,writable:!0,value:v}):v!==u&&(void 0===$jscomp.propertyToPolyfillSymbol[g]&&(u=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[g]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(g):$jscomp.POLYFILL_PREFIX+u+"$"+g),$jscomp.defineProperty(t,$jscomp.propertyToPolyfillSymbol[g],{configurable:!0,writable:!0,value:v})))};$jscomp.polyfill("Object.hasOwn",function(n){return n?n:function(v,u){return Object.prototype.hasOwnProperty.call(v,u)}},"es_next","es3");$jscomp.findLastInternal=function(n,v,u){n instanceof String&&(n=String(n));for(var t=n.length-1;0<=t;t--){var g=n[t];if(v.call(u,g,t,n))return{i:t,v:g}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.findLast",function(n){return n?n:function(v,u){return $jscomp.findLastInternal(this,v,u).v}},"es_next","es3");$jscomp.typedArrayFindLast=function(n){return n?n:function(v,u){return $jscomp.findLastInternal(this,v,u).v}};$jscomp.polyfill("Int8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Float32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float64Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
(n=>{let v;var u=d=>{let l=d.length;for(;l;){const m=d[--l];v=m.ver??m.id;if(m.str?.includes(m.sub)||m.prop)return m.id}};var t=d=>{const l=d.indexOf(v);if(0<=l)return parseFloat(d.slice(l+v.length+1))};const g=navigator.userAgent,k=navigator.platform;t=n.BrowserDetect={browser:u([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:g,sub:"Firefox",id:"Firefox"},{str:g,sub:"Chrome",id:"Chrome"},{str:g,sub:"MSIE",id:"Explorer",ver:"MSIE"}])??
"UNKNOWN",version:t(g)||t(navigator.appVersion)||"UNKNOWN",os:u([{str:g,sub:"iPhone",id:"iPhone/iPod"},{str:k,sub:"Linux",id:"Linux"},{str:k,sub:"Mac",id:"Mac"},{str:k,sub:"Win",id:"Windows"}])??"UNKNOWN"};switch(t.browser){case "Chrome":case "Safari":n="WebKit";break;case "Explorer":n="MS";break;case "Firefox":n="Moz";break;case "Opera":n="O";break;default:n="UNKNOWN"}u=n.toLowerCase();t.prefix={dom:n,lowercase:u,css:"-"+u+"-",js:u[0].toUpperCase()+u.substr(1)}})(global);
Date.prototype.format=Date.prototype.format??(()=>{const {abs:n,floor:v,ceil:u}=Math,t="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g="January February March April May June July August September October November December".split(" "),k="Sun Mon Tue Wed Thu Fri Sat".split(" "),d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l=b=>(10>b?"0":"")+b,m=(b,c)=>{b=b.getTimezoneOffset();return(0<b?"-":"+")+l(v(n(b/60)))+(c?":":"")+(0==n(b%60)?"00":l(n(b%60)))},h={d:b=>
l(b.getDate()),D:b=>k[b.getDay()],j:b=>b.getDate(),l:b=>d[b.getDay()],N:b=>0==b.getDay()?7:b.getDay(),S:b=>{b=b.getDate();return 1==b%10&&11!=b?"st":2==b%10&&12!=b?"nd":3==b%10&&13!=b?"rd":"th"},w:b=>b.getDay(),z:b=>{const c=new Date(b.getFullYear(),0,1);return u((b-c)/864E5)},W:b=>{const c=new Date(b.valueOf());b=(b.getDay()+6)%7;c.setDate(c.getDate()-b+3);b=c.valueOf();c.setMonth(0,1);4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7);return l(1+u((b-c)/6048E5))},F:b=>g[b.getMonth()],m:b=>l(b.getMonth()+
1),M:b=>t[b.getMonth()],n:b=>b.getMonth()+1,t:b=>{let c=b.getFullYear();b=b.getMonth()+1;12===b&&(c=c++,b=0);return(new Date(c,b,0)).getDate()},L:b=>{b=b.getFullYear();return 0==b%400||0!=b%100&&0==b%4},o:b=>{const c=new Date(b.valueOf());c.setDate(c.getDate()-(b.getDay()+6)%7+3);return c.getFullYear()},Y:b=>b.getFullYear(),y:b=>(""+b.getFullYear()).substr(2),a:b=>12>b.getHours()?"am":"pm",A:b=>12>b.getHours()?"AM":"PM",B:b=>v(1E3*((b.getUTCHours()+1)%24+b.getUTCMinutes()/60+b.getUTCSeconds()/3600)/
24),g:b=>b.getHours()%12||12,G:b=>b.getHours(),h:b=>l(b.getHours()%12||12),H:b=>l(b.getHours()),i:b=>l(b.getMinutes()),s:b=>l(b.getSeconds()),e:b=>/\((.*)\)/.exec((new Date).toString())[1],I:b=>{let c=null,a=0;for(;12>a;){const e=(new Date(b.getFullYear(),a++,1)).getTimezoneOffset();if(null===c)c=e;else if(e<c){c=e;break}else if(e>c)break}return b.getTimezoneOffset()==c|0},O:b=>m(b,!1),P:b=>m(b,!0),T:b=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:b=>60*-b.getTimezoneOffset(),c:b=>b.format("Y-m-d\\TH:i:sP"),
r:b=>b.toString(),U:b=>b.getTime()/1E3,x:b=>b.toLocaleDateString(),X:b=>b.toLocaleTimeString()};return function(b){return b.replace(/(\\?)(.)/g,(c,a,e)=>""===a&&h[e]?h[e](this):e)}})();
(n=>{const v=(a,e)=>{var f=a.__mct__.get(e);if(f)return f.slice();const q=[];if(f=a.__anc__){const y=f.length;for(let r=0;r<y;){const D=f[r++].__fns__;D.has(e)&&q.push(D.get(e))}}else{const y=a.__anc__=[],r=D=>{const w=D.__inc__,E=w.length;for(let J=0;J<E;)r(w[J++]);y.includes(D)||(y.push(D),D=D.__fns__,D.has(e)&&q.push(D.get(e)))};r(a)}a.__mct__.set(e,q.slice());return q},u=(a,e)=>{const f=a.callable;return a.__hs?function(...q){const y=this.callSuper,r=v(e,a.name);let D=r.length-1;if(0===D)y&&delete this.callSuper;
else{const E=q.length,J=this.callSuper=(...P)=>{for(let B=P.length;B<E;)P[B]=q[B++];0===--D&&delete this.callSuper;P=r[D].callable.call(this,...P);this.callSuper=J;D++;return P}}const w=f.call(this,...q);y?this.callSuper=y:delete this.callSuper;return w}:f},t=(a,e)=>{e=e??a;if(e===a){a.__anc__=null;a.__mct__=new Map;var f=a.__dep__;for(var q=f.length;0<q;)t(f[--q])}f=e.__tgt__;q=a.__inc__;const y=q.length;for(let r=0;r<y;)t(q[r++],e);for(const [r,D]of a.__fns__)a=D instanceof d?u(D,e):D,f[r]!==a&&
(f[r]=a)},g=a=>a.__meta__??(a.__meta__=new l(null,null,a)).include(a.klass,!0),k=a=>{const e=function(...f){return this.initialize(...f)??this};e.prototype=Object.create(a.prototype);return e},d=k(Object),l=n.Module=k(Object);d.prototype.initialize=function(a,e,f){this.module=a;this.name=e;this.callable=f;this.__hs=f.toString().includes("callSuper")};var m=l.prototype;m.initialize=function(a,e,f){this.__inc__=[];this.__dep__=[];this.__fns__=new Map;this.__mct__=new Map;this.__tgt__=f;a&&(this.__displayName=
a);this.include(e,!0)};m.include=function(a,e){if(a){if(a.__fns__)this.__inc__.push(a),a.__dep__.push(this);else{var f=a.extend,q=a.include;f&&(f.__fns__||"function"!==typeof f)&&this.extend(f);if(q&&(q.__fns__||"function"!==typeof q)){f=q.length;for(let y=0;y<f;)this.include(q[y++],!0)}for(const y of Object.keys(a))if(q=a[y],"extend"!==y&&"include"!==y||!q.__fns__&&"function"===typeof q)this.__fns__.has(y)?(console.warn('JS.Module already has field: "'+y+'" auto generating a JS.Module from the field for inclusion.'),
this.include(new l("Auto_"+y,{[y]:q}),!1)):this.__fns__.set(y,q?.__fns__||"function"!==typeof q?q:new d(this,y,q))}!0!==e&&t(this)}return this};m.includes=function(a){if(a===this)return!0;const e=this.__inc__,f=e.length;for(let q=0;q<f;)if(e[q++].includes(a))return!0;return!1};m.instanceMethod=function(a){return v(this,a).pop()};const h=new l("Kernel",{extend:function(a){g(this).include(a)},isA:function(a){return"function"===typeof a&&this instanceof a||g(this).includes(a)}}),b=n.Class=k(l),c=b.prototype;
c.initialize=function(a,e,f){"function"!==typeof e&&(f=e,e=Object);l.prototype.initialize.call(this,a);a=k(e);for(const q in this)a[q]===this[q]||Object.hasOwn(a,q)||(a[q]=this[q]);a.prototype.constructor=a.prototype.klass=a;g(a).include(e.__meta__);a.__tgt__=a.prototype;e=e===Object?{}:e.__fns__?e:new l(e.prototype,!0);a.include(h,!0).include(e,!0).include(f,!0);t(a);return a};m=(a,e)=>{a.__inc__=[];a.__dep__=[];const f=a.__tgt__=a.prototype,q=a.__fns__=new Map;for(const J of Object.keys(f)){var y=
q,r=y.set;var D=a;var w=J,E=f[J];D=E?.__fns__||"function"!==typeof E?E:new d(D,w,E);r.call(y,J,D)}f.constructor=f.klass=a;for(const J in c)a[J]===c[J]||Object.hasOwn(a,J)||(a[J]=c[J]);a.include(e);a.constructor=a.klass=b};m(d,h);m(l,h);m(b,l);t(g(d));t(g(l));g(b).include(l.__meta__);n.Singleton=new b("Singleton",{initialize:(a,e,f)=>new (new b(a,e,f))})})(global.JS={});
(n=>{class v extends Error{constructor(A,C,...F){super(...F);this.name="FetchError";this.status=A;this.url=C}}let u=0,t,g={},k={};const d=console.warn,l=Math,{abs:m,min:h,max:b,pow:c}=l,a=Array.isArray,e=document,f=e.head,q=e.createElement.bind(e),y={},r={},D=(A,C,F,L,N)=>{if(C){var T=y[C],R=r[C];if(!0===T)F?.(!0);else if(!1===T)F?.(!1);else if(a(T))"function"===typeof F&&T.push(F);else{T=y[C]=[];"function"===typeof F&&T.push(F);let X;switch(A){case "script":R=q("script");R.type="text/javascript";
R.async=!1;X="src";break;case "css":R=q("link"),R.rel="stylesheet",X="href"}N&&(R.integrity=N,R.crossOrigin="anonymous",R.referrerpolicy="no-referrer");const aa=ca=>{R.onload=R.onerror=null;for(const ta of T)ta(ca);y[C]=ca};R.onerror=()=>{aa(!1)};R.onload=()=>{aa(!0)};R[X]=C+(L?"":(C.includes("?")?"&":"?")+"cacheBust="+Date.now());f.appendChild(R);r[C]=R}return R}},w={},E={"":!0},J=e.fonts,P=A=>{const C=A.family.replaceAll('"',"");for(const F of[C,C+" "+A.weight])if(!E[F]){E[F]=!0;const L=w[F]??[];
for(;L.length;)(A=L.pop())&&!A.destroyed&&A.isVisible()&&(A.sizeViewToDom(),A.notifyFontLoaded?.(C))}},B={},G={},x=/\{\{plural:\$(\d+)\|([^|]+)\|([^}]+)\}\}/g,p=/\$(\d+)/g,z=(A,C=JSON.stringify,F=Infinity)=>{const L=new Map;return(...N)=>{var T=C(N);if(L.has(T))return L.get(T);N=A(...N);L.set(T,N);L.size>F&&(T=L.keys().next().value,L.delete(T));return N}},I=(A,C,F=new WeakMap,L=new WeakMap)=>{if(A!==C){if(A instanceof Date&&C instanceof Date)return A.getTime()===C.getTime();if(null===A||null===C||
"object"!==typeof A||"object"!==typeof C)return!1;if(F.has(A))return L.get(C)===F.get(A);F.set(A,C);L.set(C,A);var N=a(A),T=a(C);if(N!==T)return!1;if(N){var R=A.length;if(R!==C.length)return!1;for(N=0;N<R;N++)if(!I(A[N],C[N],F,L))return!1;return!0}N=Object.keys(A);T=Object.keys(C);if(N.length!==T.length)return!1;for(R of N)if(!Object.hasOwn(C,R)||!I(A[R],C[R],F,L))return!1}return!0},Q=/\\([{}])|\{([^{}]+)\}/g,O=/(,|\r?\n|\r|^)(?:"((?:\\.|""|[^\\"])*)"|([^,"\r\n]*))/gi,S=/[\\"](.)/g,W=n.myt={version:2.02507281019E7,
generateGuid:()=>++u,TRUE_FUNC:()=>!0,FALSE_FUNC:()=>!1,NOOP:()=>{},theme:{TextButtonActive:"#ddd",TextButtonHover:"#eee",TextButtonReady:"#fff",DialogRadius:12,DialogBgColor:"#fff",DialogInputFgColor:"#333",DialogShadow:[0,4,20,"#666"],DialogBorder:[1,"solid","#fff"],DialogDayBtnBorder:[1,"solid","#fff"],DialogDayBtnBorderColor:"#fff",DialogDayBtnBorderColorToday:"#090",DimmerOpacity:.35,DimmerColor:"#000",ModalPanelPaddingX:20,ModalPanelPaddingY:15,ModalPanelMarginTop:40,ModalPanelMarginLeft:40,
ModalPanelMarginBottom:40,ModalPanelMarginRight:40,TabSliderContainerSpacing:1,TabInset:8,TabOutset:8,TabContainerInset:0,TabContainerSpacing:1,BaseTooltipDelay:500,BaseTooltipHideDelay:100,TooltipEdgeColor:"#444",TooltipBgColor:"#444",TooltipTextColor:"#eee",TooltipShadowColor:"#00000033",TooltipEdgeSize:0,TooltipShadowSize:2,TooltipHInset:6,TooltipVInset:3,focusShadow:[0,0,7,"#666"],disabledOpacity:.5,border1s3:[1,"solid","#333"],border1s9:[1,"solid","#999"]},resolveName:(A,C)=>{if(A&&0!==A.length){C=
C??global;var F=a(A)?A:A.split("."),L=F.length;for(let N=0;N<L;N++)if(C=C[F[N]],null==C){d("resolveName failed for",A,"at part",N,F[N]);return}return C}},resolveClassname:A=>{"string"===typeof A&&(A=W.resolveName(A));return A&&"function"===typeof A.isA&&A.isA(JS.Class)?A:null},setDeepValue:(A,C,F)=>{if(A&&C){C=a(C)?C:String(C??"").split(".");const L=C.length-1;for(let N=0;N<L;N++){const T=C[N];let R,X;(R=A)[X=T]??(R[X]={});A=A[T]}return A[C[L]]=F}},stableStringify:A=>JSON.stringify(A,(C,F)=>{if(F&&
"object"===typeof F&&!a(F)){C={};for(const L of Object.keys(F).sort())C[L]=F[L];return C}return F}),areFloatsEqual:(A,C,F)=>{const L=m(A),N=m(C);return m(A-C)<=(L>N?N:L)*(null==F?1E-6:m(F))},areArraysEqual:(A,C)=>{if(A!==C){if(null===A||null===C||"object"!==typeof A||"object"!==typeof C)return!1;let F=A.length;if(F!==C.length)return!1;for(;F;)if(A[--F]!==C[F])return!1}return!0},shallowEqual:(A,C)=>{if(A!==C){if(null===A||null===C||"object"!==typeof A||"object"!==typeof C)return!1;const F=Object.keys(A),
L=Object.keys(C);if(F.length!==L.length)return!1;for(const N of F)if(A[N]!==C[N])return!1}return!0},deepEqual:I,getRandom:A=>{const C=l.random();return A?b(0,h(A(C),.9999999999)):C},getRandomArbitrary:(A,C,F)=>{const L=h(A,C);return W.getRandom(F)*(b(A,C)-L)+L},getRandomInt:(A,C,F)=>{const L=h(A,C);return l.floor(W.getRandom(F)*(b(A,C)-L+1)+L)},getElement:(A,C)=>e.getElementsByTagName(A||"body")[0<C?C:0],addEventListener:(A,C,F,L,N)=>{A.addEventListener(C,F,{capture:L||!1,passive:N||!1})},removeEventListener:(A,
C,F,L)=>{A.removeEventListener(C,F,L||!1)},loadFontFaces:(A,C)=>{Promise.all(A.map(({family:F,url:L,options:N})=>(new FontFace(F,"url("+L+")",N)).load())).then(F=>{if(J){for(const L of F)J.add(L),P(L);C?.(F)}})},loadFontFace:(A,C,F={},L)=>{A=new FontFace(A,"url("+C+")",F);A.loaded.then(N=>{J&&(J.add(N),P(N),L?.(N))});A.load()},registerForFontNotification:(A,C)=>{E[C]?A&&!A.destroyed&&A.isVisible()&&(A.sizeViewToDom(),A.notifyFontLoaded?.(C)):(w[C]??(w[C]=[])).push(A)},createBaseFontCSSRule:A=>{W.addCSSRule(W.createStylesheet(),
"body, input","font-family:"+A)},loadCSSFonts:A=>{A?.forEach(W.loadCSS)},loadScript:(...A)=>D("script",...A),loadCSS:(...A)=>D("css",...A),createStylesheet:()=>{const A=q("style");f.appendChild(A);return A.sheet},addCSSRule:(A,C,F,L)=>{A.insertRule(C+"{"+F+"}",L??0)},removeCSSRules:A=>{let C=A.cssRules.length;for(;C;)A.deleteRule(--C)},createInputPlaceholderCSSRule:(A,C,F,L=1)=>{let N=A.__sheet;N?W.removeCSSRules(N):N=A.__sheet=W.createStylesheet();A=A.getODE();A=A.id||(A.id="id"+ ++u);const T=[];
C&&T.push("color:"+C);F&&T.push("font-family:"+F);L&&T.push("opacity:"+L);W.addCSSRule(N,"#"+A+"::placeholder",T.join("; "))},isSorted:(A,C)=>{const F=A.length;for(let L=1;L<F;L++)if(0<C(A[L-1],A[L]))return!1;return!0},chainSortFunc:(...A)=>(C,F)=>{for(const L of A){const N=L(C,F);if(0!==N)return N}return 0},getAlphaObjSortFunc:z((A,C,F,L)=>{const N=C?1:-1,T=W.I18N.getLocale(),R={sensitivity:F?"accent":"variant"};return(X,aa)=>{X=X[A];aa=aa[A];L?("string"!==typeof X&&(X=""+X),"string"!==typeof aa&&
(aa=""+aa)):(X=X||"",aa=aa||"");return X.localeCompare(aa,T,R)*N}}),getNumericObjSortFunc:z((A,C)=>{const F=C?1:-1;return(L,N)=>{L=L[A]||0;N=N[A]||0;return(L-N)*F}}),hash:A=>A.split("").reduce((C,F)=>{C=(C<<5)-C+F.charCodeAt(0);return C&C},0),getExtension:A=>A?(A=A.split("."),1<A.length?A.pop():null):null,formatAsPercentage:(A,C=2)=>{switch(typeof A){case "number":return C=h(16,b(0,C)),A=l.round(b(0,h(1,A))*c(10,2+C))/c(10,C),(0===A%1?A:A.toFixed(C))+"%";case "string":return A;default:return d("formatAsPercentage expects a number"),
A}},interpolateString:(A,C={})=>A?A.replace(Q,(F,L,N)=>L?L:W.resolveName(N,C)??F):"",leftPadNumber:(A,C,F="0",L=10)=>{A=A.toString(L);return F.repeat(b(C-A.length,0))+A},removeMarkup:(A,C)=>{if(!A)return"";C?.brToLineFeed&&(A=A.replace(/<br\s*\/?>/gi,"\n"));return A.replace(/<\/?[^>]+(>|$)/g,"")},escapeMarkup:(()=>{const A=RegExp("[&<>\"']","g"),C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},F=L=>C[L];return L=>L.replace(A,F)})(),memoize:z,debounce:(A,C,F=!1)=>{let L;return function(...N){const T=
this,R=F&&!L;clearTimeout(L);L=setTimeout(()=>{L=null;F||A.apply(T,N)},C);R&&A.apply(T,N)}},dataURIToBlob:A=>{var C=A.indexOf(",");const F=A.slice(0,C).split(":")[1].split(";")[0];A=A.slice(C+1);if(F.startsWith("text/"))A=decodeURIComponent(A);else{A=atob(A);C=A.length;const L=new Uint8Array(C);for(;C;)L[--C]=A.charCodeAt(C);A=L}return new Blob([A],{type:F})},runInWorker:(A,C,F="data")=>new Promise((L,N)=>{const T=URL.createObjectURL(new Blob(["self.onmessage=e=>{try{const result=(function("+F+'){"use strict";'+
A+"})(e.data);self.postMessage({result});}catch(e){self.postMessage({error:e.message});}};"],{type:"application/javascript"})),R=new Worker(T);R.onmessage=X=>{const {result:aa,error:ca}=X.data;ca?N(Error(ca)):L(aa);R.terminate();URL.revokeObjectURL(T)};R.onerror=X=>{N(X);R.terminate();URL.revokeObjectURL(T)};R.postMessage(C)}),dumpStack:(A,C)=>{let F;"string"===typeof A&&(F=A,A=null);W.global.error.notify(C||"error",null,F,A)},createFixedThresholdCounter:(A,C,F,L)=>{var N=W.AccessorSupport.generateName;
const T="function"===typeof A||A instanceof JS.Module,R={};L=L||N("counter",F);const X=N(L,"increment");N=N(L,"decrement");if(void 0!==(T?A.instanceMethod(X):A[X]))return d("Increment: Abort clobber",X,A),!1;if(void 0!==(T?A.instanceMethod(N):A[N]))return d("Decrement: Abort clobber",N,A),!1;R[X]=function(){const aa=this[L]+1;this[L]=aa;this.fireEvent(L,aa);aa===C&&this.set(F,!0)};R[N]=function(){const aa=this[L];if(0!==aa){var ca=aa-1;this[L]=ca;this.fireEvent(L,ca);aa===C&&this.set(F,!1)}};A[T?
"include":"extend"](R);return!0},csvStringToArray:(A,C)=>{if(!A)return[];const F=[[]];let L;for(;L=O.exec(A);)L[1].length&&","!==L[1]&&F.push([]),F[F.length-1].push(void 0!==L[2]?L[2].replace(S,"$1"):L[3]);if(C){const N=F.shift();return F.map(T=>{let R=0;return N.reduce((X,aa)=>{X[aa]=T[R++];return X},{})})}return F},prepareCSVDataURI:(A,C)=>{const F=T=>{if(T&&a(T)){const R=[],X=T.length;for(let aa=0,ca;X>aa;aa++)ca=T[aa],ca=null==ca?"":ca.toString(),ca=ca.replace(/"/g,'""'),0<=ca.search(/("|,|\n)/g)&&
(ca='"'+ca+'"'),R.push(ca);return R.join(",")}d("Unexpected row",T);return null},L=[];if(C){var N=F(C);N&&L.push(N)}if(A)if(a(A)){N=A.length;for(let T=0;N>T;T++){const R=F(A[T]);R&&L.push(R)}}else d("Rows were not an array");return W.encodeCSVDataURI(L.join("\r\n"),C)},encodeCSVDataURI:(A,C)=>"data:text/csv;charset=utf-8"+(null==C?"":";header="+(C?"present":"absent"))+","+encodeURIComponent(A),makeURLSearchParams:(A={})=>{const C=new URLSearchParams;for(const F in A){const L=A[F];void 0!==L&&C.set(F,
L)}return C},doFetch:(A,C,F,L,N,T)=>fetch(A,C).then(R=>{if(!R.ok)throw new v(R.status,A,R.statusText);return R}).then(R=>F?R.text():R.json()).then(R=>{if(L)try{if(F)L(R);else{if(!1===R.success)throw new v(200,A,R.message??R.data?.message);L(R.data)}}catch(X){throw R=new v(200,A,X.message),R.stack=X.stack,R;}}).catch(R=>{if(N){if("FetchError"!==R.name){const X=new v(0,A,R.message);X.stack=R.stack;R=X}N(R)}}).finally(()=>{T?.()}),toNameCase:(A,C)=>{if(!A)return"";A=A.trim().toLowerCase().split(/([\s\-'\u2019"\u201c\u201d().,\/])/).reduce((F,
L)=>F+(L[0]??"").toUpperCase()+L.slice(1),"");if(/\bMac[A-Za-z]{2,}[^aciozj]\b/.test(A)||/\bMc/.test(A))A=A.replace(/\b(Ma?c)([A-Za-z]+)/,(F,L,N)=>L+(N[0]??"").toUpperCase()+N.slice(1)),A=A.replace(/\bMacEvicius\b/,"Macevicius").replace(/\bMacHado\b/,"Machado").replace(/\bMacHar\b/,"Machar").replace(/\bMacHin\b/,"Machin").replace(/\bMacHlin\b/,"Machlin").replace(/\bMacIas\b/,"Macias").replace(/\bMacIulis\b/,"Maciulis").replace(/\bMacKie\b/,"Mackie").replace(/\bMacKle\b/,"Mackle").replace(/\bMacKlin\b/,
"Macklin").replace(/\bMacQuarie\b/,"Macquarie").replace(/\bMacOmber\b/,"Macomber").replace(/\bMacIn\b/,"Macin").replace(/\bMacKintosh\b/,"Mackintosh").replace(/\bMacKen\b/,"Macken").replace(/\bMacHen\b/,"Machen").replace(/\bMacHiel\b/,"Machiel").replace(/\bMacIol\b/,"Maciol").replace(/\bMacKell\b/,"Mackell").replace(/\bMacKlem\b/,"Macklem").replace(/\bMacKrell\b/,"Mackrell").replace(/\bMacLin\b/,"Maclin").replace(/\bMacKey\b/,"Mackey").replace(/\bMacKley\b/,"Mackley").replace(/\bMacHell\b/,"Machell").replace(/\bMacHon\b/,
"Machon").replace(/\bMacAyla\b/,"Macayla");A=A.replace(/\bMacmurdo/,"MacMurdo").replace(/\bMacisaac/,"MacIsaac").replace(/\bAl(?=\s+\w)\b/g,"al").replace(/\bAp\b/g,"ap").replace(/\bBen(?=\s+\w)\b/g,"ben").replace(/\bDell([ae])\b/g,"dell$1").replace(/\bD([aeiu])\b/g,"d$1").replace(/\bDe([lr])\b/g,"de$1").replace(/\bEl\b/g,"el").replace(/\bLa\b/g,"la").replace(/\bLe(?=\s+\w)\b/g,"le").replace(/\bLo\b/g,"lo").replace(/\bVan(?=\s+\w)\b/g,"van").replace(/\bVon\b/g,"von").replace(/\bD['\u2019]/g,"d'").replace(/\b(?:\d{4}|(?:[IVX])(?:X{0,3}I{0,3}|X{0,2}VI{0,3}|X{0,2}I?[VX]))$/i,
F=>F.toUpperCase()).replace(/\b[0-9](x)\b/,F=>F.toUpperCase()).replace(/(?:^|\\s)[bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ]{2}\s/,F=>F.toUpperCase()).replace(/\bMR\.?\b/,"Mr").replace(/\bMS\.?\b/,"Ms").replace(/\bDR\.?\b/,"Dr").replace(/\bST\.?\b/,"St").replace(/\bJR\.?\b/,"Jr").replace(/\bSR\.?\b/,"Sr").replace(/\bLT\.?\b/,"Lt").replace(/\bThe\b/g,"the").replace(/\bOf\b/g,"of").replace(/\bAnd\b/g,"and").replace(/\bY\s/g,"y").replace(/\s{2,}/g," ");return C?A:(A[0]??"").toUpperCase()+A.slice(1)},
I18N:{setLocale:A=>{t=A??(navigator.language||"en").split("-")[0].toLowerCase();g=B[t];k=G[t]},getLocale:()=>t,addDictionary:(A,C)=>{B[C]=Object.assign(B[C]??{},A);C===t&&(g=B[C])},setDictionary:(A,C)=>{B[C]=A??{};C===t&&(g=B[C])},addResourceDictionary:(A,C)=>{G[C]=Object.assign(G[C]??{},A);C===t&&(k=G[C])},setResourceDictionary:(A,C)=>{G[C]=A??{};C===t&&(k=G[C])},get:(A,...C)=>{const F=g[A];return null!=F?0<C.length?F.replaceAll(x,(L,N,T,R)=>T&&R?1==C[parseInt(N)]?T:R:"").replaceAll(p,(L,N)=>C[N]):
F:A},getRaw:A=>g[A]??A,getResource:A=>k[A]}};J&&(J.onloadingdone=A=>{for(const C of A.fontfaces)P(C)})})(global);
(n=>{const v=(t,g)=>{t.startsWith('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return g?JSON.parse(t):t}catch(k){console.log(k)}},u=n.Cookie={defaults:{raw:!1,json:!1},read:(t,g)=>{g={...u.defaults,...g};const k=g.raw?b=>b:b=>decodeURIComponent(b.replaceAll("+"," "));g=g.json;const d=document.cookie.split("; "),l=d.length,m=t?void 0:{};for(let b=0;b<l;){var h=d[b++].split("=");const c=k(h.shift());h=k(h.join("="));if(t){if(t===c)return v(h,g)}else m[c]=v(h,g)}return m},write:(t,
g,k)=>{k={...u.defaults,...k};if("number"===typeof k.expires){const c=k.expires,a=k.expires=new Date;a.setDate(a.getDate()+c)}g=k.json?JSON.stringify(g):String(g);const {raw:d,expires:l,path:m,domain:h,samesite:b}=k;return document.cookie=[d?t:encodeURIComponent(t),"=",d?g:encodeURIComponent(g),l?"; expires="+l.toUTCString():"",m?"; path="+m:"",h?"; domain="+h:"",b?"; samesite="+b:"",k.secure?"; secure":""].join("")},remove:(t,g)=>void 0!==u.read(t,g)?(u.write(t,"",{...g,expires:-1}),!0):!1}})(myt);
(n=>{const v=console.error,u=JSON.parse,t=global.localStorage,g=t.getItem.bind(t),k=t.setItem.bind(t),d=t.removeItem.bind(t),l=t.clear.bind(t),m=(b,c,a)=>{if(0<c){const e="__timerId_"+a;(a=h[e])&&clearTimeout(a);h[e]=setTimeout(()=>{b();delete h[e]},c)}else b()},h=n.LocalStorage={hasDatum:(b,c)=>{if(b&&(c=g(c??"myt")))try{return null!=u(c)[b]}catch(a){v(a)}return!1},getDatum:(b,c)=>{if(b&&(c=g(c??"myt")))try{const a=u(c);if("object"===typeof a)return a[b]}catch(a){v(a)}},setDatum:(b,c,a,e)=>{a=a??
"myt";m(()=>{const f=h.getData(a);f[b]=c;k(a,JSON.stringify(f))},e,a+"___"+b)},removeDatum:(b,c,a)=>{c=c??"myt";m(()=>{const e=h.getData(c);delete e[b];k(c,JSON.stringify(e))},a,c+"___"+b)},hasData:b=>null!=g(b??"myt"),getData:b=>{if(b=g(b??"myt"))try{return u(b)}catch(c){v(c)}return{}},setData:(b,c,a)=>{c=c??"myt";b??={};return"object"===typeof b?(m(()=>{k(c,JSON.stringify(b))},a,c),!0):!1},removeData:(b,c)=>{b=b??"myt";m(()=>{d(b)},c,b)},getLength:()=>t.length,getKey:t.key.bind(t),getItem:g,setItem:k,
removeItem:d,clear:l,get:g,set:k,remove:d,clearAll:l}})(myt);
(n=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,u=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;n.URI=new JS.Class("URI",{initialize:function(g,k){g&&this.parse(g,k)},setSource:function(g){this.source=g},setProtocol:function(g){this.protocol=
g},setAuthority:function(g){this.authority=g},setUserInfo:function(g){this.userInfo=g},setUser:function(g){this.user=g},setPassword:function(g){this.password=g},setHost:function(g){this.host=g},setPort:function(g){this.port=g},setRelative:function(g){this.relative=g},setPath:function(g){this.path=g},setDirectory:function(g){this.directory=g},setFile:function(g){this.file=g},setQuery:function(g){this.query=g},setAnchor:function(g){this.anchor=g},parse:function(g,k){const d=this,[l,m,h,b,c,a,e,f,q,
y,r,D,w,E]=(k?t:u).exec(g)??[];d.setSource(l??"");d.setProtocol(m??"");d.setAuthority(h??"");d.setUserInfo(b??"");d.setUser(c??"");d.setPassword(a??"");d.setHost(e??"");d.setPort(f??"");d.setRelative(q??"");d.setPath(y??"");d.setDirectory(r??"");d.setFile(D??"");d.setQuery(w??"");d.setAnchor(E??"");d.queryPairs={};d.query.replace(v,(J,P,B)=>{P&&(d.queryPairs[P]=B)})},decodeQueryParam:g=>decodeURIComponent(g).replaceAll("+"," "),getQuery:function(){var g=this.queryPairs;const k=[];for(const d in g)k.push(d+
"="+encodeURIComponent(this.getQueryParam(d)));g=k.join("&");return 0<g.length?"?"+g:g},getQueryParam:function(g){g=this.queryPairs[g];return null==g?void 0:this.decodeQueryParam(g)},setQueryParam:function(g,k){this.queryPairs[encodeURIComponent(g)]=encodeURIComponent(k)},removeQueryParam:function(g){delete this.queryPairs[g]},getPathParts:function(g){const k=this.path.split("/");if(!g)for(g=k.length;g;)0===k[--g].length&&k.splice(g,1);return k},toString:function(g){const k=this.path;g=g?this.query?
"?"+this.query:"":this.getQuery();const d=this.anchor;let l=this.toStringThroughPort();k?l+=k:this.host&&(g||d)&&(l+="/");g&&(l+=g);d&&(l+="#"+d);return l},toStringThroughPort:function(){const g=this.protocol,k=this.host,d=this.userInfo,l=this.port;let m="";g&&(m+=g+"://");d&&k&&(m+=d+"@");k&&(m+=k,l&&(m+=":"+l));return m}})})(myt);
(n=>{const v=Math,{PI:u,cos:t,sin:g,sqrt:k,abs:d}=v,l=(c,a,e,f,q,y)=>{"object"===typeof c&&(y=q,q=f,f=e,e=a,a=c.y,c=c.x);"object"===typeof e&&(y=e.height,q=e.width,f=e.y,e=e.x);return c>=e&&a>=f&&c<=e+q&&a<=f+y},m=(c,a,e,f,q)=>{c=e-c;a=f-a;a=c*c+a*a;return q?a:k(a)},h=(c,a,e,f,q)=>{null==q&&(q=6371);c=c*u/180;e=e*u/180;return q*v.acos(g(c)*g(e)+t(c)*t(e)*t(f*u/180-a*u/180))},b=(c,a=!0,e="x",f="y")=>{let q=c?.length;if(3>q||!Array.isArray(c))return 0;c[0][e]===c[q-1][e]&&c[0][f]===c[q-1][f]&&q--;let y=
0,r=c[q-1];for(let D=0;D<q;D++){const w=c[D];y+=r[e]*w[f]-w[e]*r[f];r=w}return(a?d(y):y)/2};n.Geometry={getClosestPointOnALineToAPoint:(c,a,e,f,q,y,r)=>{e-=c;f-=a;q=(e*(q-c)+f*(y-a))/(e*e+f*f);r&&(q=v.min(1,v.max(0,q)));return{x:c+e*q,y:a+f*q}},isPointInPath:(c,a,e,f)=>{"object"===typeof c&&(f=e,e=a,a=c.y,c=c.x);if(l(c,a,e)&&(e=f.length,6<=e)){let q=!1,y=f[0],r=f[1],D,w;for(;e;)w=f[--e],D=f[--e],w>a!==r>a&&c<(y-D)*(a-w)/(r-w)+D&&(q=!q),y=D,r=w;return q}return!1},measureDistance:m,measureLatLngDistance:h,
degreesToRadians:c=>c*u/180,radiansToDegrees:c=>180*c/u,rectContainsPoint:l,circleContainsPoint:(c,a,e,f,q)=>m(c,a,e,f,!0)<=q*q,circleContainsLatLng:(c,a,e,f,q,y)=>h(c,a,e,f,y)<=q,polarToCartesian:(c,a,e,f)=>{e??=0;f??=0;a%=360;if(0===a)a=c,c=0;else if(90===a)a=0;else if(180===a)a=-c,c=0;else if(270===a)a=0,c=-c;else{const q=a*u/180;a=c*t(q);c*=g(q)}return[e+a,f+c]},cartesianToPolar:(c,a,e,f,q)=>{e??=0;f??=0;c-=e;f=a-f;a=k(c*c+f*f);f=v.atan2(f,c);0>f&&(f+=2*u);return[a,q?f:180*f/u]},getAreaOfPolygon:b,
isClockwisePolygon:(c,a,e)=>0>b(c,!1,a,e),intervalsOverlap:(c,a,e,f,q=!1,y=!1)=>{y&&(c>a&&(a=c),e>f&&(f=e));return q?c<=f&&e<=a:c<f&&e<a}}})(myt);
(n=>{const v=JS.Module,u=console.log,t=n.dumpStack;n.Observable=new v("Observable",{attachObserver:function(g,k,d){return g&&k&&d?(this.getObservers(d).push(k,g),!0):!1},detachObserver:function(g,k,d){if(g&&k&&d){var l=this.__obsbt;if(l&&(d=l[d])){l=!1;let m=d.length;for(;2<=m;){const h=d[--m],b=d[--m];g===h&&k===b&&(d.splice(m,2),l=!0)}return l}}return!1},detachAllObservers:function(){const g=this.__obsbt;if(g)for(const k in g){const d=g[k];let l=d.length;for(;2<=l;){const m=d[--l],h=d[--l];m&&h&&
("function"===typeof m.detachFrom&&m.detachFrom(this,h,k)||d.splice(l,2))}}},getObservers:function(g){let k;return(k=this.__obsbt??(this.__obsbt={}))[g]??(k[g]=[])},hasObservers:function(g){const k=this.__obsbt;return k?0<k[g]?.length:!1},createEvent:function(g,k){return{source:this,type:g,value:k}},fireEvent:function(g,k,d){if(null==d){var l=this.__obsbt;l&&(d=l[g])}if(d){l={source:this,type:g,value:k};const m=this.__aet??(this.__aet={});if(m[g])n.global.error.notify("warn","eventLoop","Abort refiring event:"+
g,null,{observable:this,type:g,value:k});else{m[g]=!0;for(k=d.length;2<=k;){const h=d[--k],b=d[--k];if(h&&b)try{if("function"===typeof b){if(b.call(h,l))break}else if(h[b]?.(l))break}catch(c){t(c),u("Additional context",b,h)}}m[g]=!1}}}});n.Observer=new v("Observer",{valueFromEvent:g=>g?.type?g.value:g,syncTo:function(g,k,d,l,m){l??=d;try{this[k](g.createEvent(d,g.get(l)))}catch(h){t(h)}m||this.attachTo(g,k,d,m)},isAttachedTo:function(g,k,d){if(g&&k&&d){var l=this.__obt;if(l&&(d=l[d]))for(l=d.length;2<=
l;){const m=d[--l],h=d[--l];if(g===m&&k===h)return!0}}return!1},getObservables:function(g){let k;return(k=this.__obt??(this.__obt={}))[g]??(k[g]=[])},hasObservables:function(g){const k=this.__obt;return k?0<k[g]?.length:!1},attachTo:function(g,k,d,l){if(g&&k&&d){const m=this.getObservables(d);if(l){const h=this,b=k;this.__methodNameCounter??(this.__methodNameCounter=0);k="__DO_ONCE_"+this.__methodNameCounter++;this[k]=c=>{h.detachFrom(g,k,d);delete h[k];return h[b](c)}}if(g.attachObserver(this,k,
d))return m.push(k,g),!0}return!1},detachFrom:function(g,k,d){if(g&&k&&d){var l=this.__obt;if(l&&(l=l[d])){let m=!1,h=l.length;for(;2<=h;){const b=l[--h],c=l[--h];g===b&&k===c&&g.detachObserver(this,k,d)&&(l.splice(h,2),m=!0)}return m}}return!1},detachFromAllObservables:function(){var g=this.__obt;if(g)for(const [k,d]of Object.entries(g)){for(g=d.length;2<=g;){const l=d[--g],m=d[--g];l.detachObserver(this,m,k)}d.length=0}},constrain:function(g,k){if(g&&k){const l=k.length;if(0!==l%2)u("Observables uneven",
this);else{var d;const m=(d=this.__cbmn??(this.__cbmn={}))[g]??(d[g]=[]);if(0<m.length)u("Constraint exists for "+g+" on",this);else{for(d=0;d<l;){const h=k[d++],b=k[d++];h&&b&&(this.attachTo(h,g,b),m.push(h,b))}try{this[g]()}catch(h){t(h)}}}}},releaseConstraint:function(g){if(g){var k=this.__cbmn;if(k&&(k=k[g])){let d=k.length;for(;2<=d;){const l=k[d--],m=k[d--];this.detachFrom(m,g,l)}k.length=0}}},releaseAllConstraints:function(){const g=this.__cbmn;if(g)for(const k in g)this.releaseConstraint(k)}})})(myt);
(n=>{const v=console.warn,u=n.global=new JS.Singleton("Global",{include:[n.Observable],initialize:n.NOOP,register:(t,g)=>{Object.hasOwn(u,t)&&(v("Global key in use",t),u.unregister(t));u[t]=g;u.fireEvent("register"+t,g)},unregister:t=>{if(Object.hasOwn(u,t)){const g=u[t];delete u[t];u.fireEvent("unregister"+t,g)}else v("Global key not in use",t)}})})(myt);
(n=>{let v;new JS.Singleton("GlobalError",{include:[n.Observable],initialize:function(){v=this;v.setStackTraceLimit(50);v.setConsoleLogging(!0);n.global.register("error",v)},setConsoleLogging:u=>{v.consoleLogging=u},setStackTraceLimit:u=>{Error.stackTraceLimit=v.stackTraceLimit=u},notify:(u,t,g,k,d)=>{k??=Error(g??t);k=k.stack??k.stacktrace;v.fireEvent(t??"error",{msg:g,stacktrace:k,...d});if(v.consoleLogging&&u)console[u](k)}})})(myt);
(n=>{const v=global,u=v.getComputedStyle,t=document,g=Object.assign,k=Math.max,d=h=>{const {zIndex:b,opacity:c}=u(h);if("auto"===b){if(1===parseInt(c,10)){let a=0;h=h.childNodes;let e=h.length;for(;e;){const f=h[--e];1===f.nodeType&&(a=k(a,d(f)))}return a}return 0}return parseInt(b,10)},l=(h,b)=>{const c=[];for(;h;){c.push(h);if(h===b)break;h=h.parentNode}return c},m=n.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(h,b,c)=>{h=t.createElement(h);c&&g(h,c);b&&g(h.style,b);return h},
isDomElementVisible:h=>{if("INPUT"!==h.nodeName||"hidden"!==h.type)for(;h;){if(h===t)return!0;const {display:b,visibility:c}=u(h);if("none"===b||"hidden"===c)break;h=h.parentNode}return!1},getZIndexRelativeToAncestor:(h,b)=>{if(h&&b)for(h=l(h,b),b=h.length-1;b;){const c=u(h[--b]),a=c.zIndex,e="auto"===a;if(0===b||!e||1!==parseInt(c.opacity,10))return e?0:parseInt(a,10)}return 0},getAncestorArray:l,getHighestZIndex:d,getRelativePosition:(h,b)=>{if(h){let c=0,a=0;for(;h&&"BODY"!==h.nodeName&&h!==b;)if(c+=
h.offsetLeft,a+=h.offsetTop,(h=h.offsetParent)&&"BODY"!==h.nodeName){const {borderLeftWidth:e,borderTopWidth:f}=u(h);c+=parseInt(e,10)-h.scrollLeft;a+=parseInt(f,10)-h.scrollTop}return{x:c,y:a}}},getTruePosition:h=>{if(h)return h=h.getBoundingClientRect(),h.left+=v.scrollX,h.top+=v.scrollY,h},simulateDomEvent:(h,b,c)=>{if(h){const a={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},e={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(c)for(const q in c)a[q]=c[q];let f;for(const q in e)if(e[q].test(b)){f=q;break}if(!f)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(t.createEvent)c=t.createEvent(f),"HTMLEvents"===f?c.initEvent(b,a.bubbles,a.cancelable):c.initMouseEvent(b,a.bubbles,a.cancelable,t.defaultView,a.button,a.pointerX,a.pointerY,a.pointerX,a.pointerY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,null),h.dispatchEvent(c);
else{a.clientX=a.pointerX;a.clientY=a.pointerY;c=t.createEventObject();for(const q in a)c[q]=a[q];h.fireEvent("on"+b,c)}}},getScrollbarSize:n.memoize(()=>{const h=t.body,b=m.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});h.appendChild(b);const c=b.offsetWidth-b.clientWidth;h.removeChild(b);return c})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(h){if(Array.isArray(h)){const [b,
c]=h;this.__oE=b;this.__iE=c;this.__iS=c.style;this.__oS=b.style;c.model=b.model=this}else this.__oE=this.__iE=h,this.__iS=this.__oS=h.style,h.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(h,b){b||(this.__iE.className=h);this.domClass=h},addDomClass:function(...h){h=h.filter(b=>b&&"string"===typeof b);
h.length&&(this.__iE.classList.add(...h),this.setDomClass(this.__iE.className,!0))},hasDomClass:function(h){return this.__iE.classList.contains(h)},removeDomClass:function(...h){h=h.filter(b=>b&&"string"===typeof b);h.length&&(this.__iE.classList.remove(...h),this.setDomClass(this.__iE.className,!0))},setDomId:function(h){this.__iE.id=this.domId=h},setZIndex:function(h){this.__oS.zIndex=h},setStyleProperty:function(h,b){this.__iS[h]=b},getPagePosition:function(h){return m["get"+(h?"True":"Relative")+
"Position"](this.__iE)},simulateClick:function(){m.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return d(this.__iE)},getHighestChildZIndex:function(h){const b=this.__iE.childNodes;let c=b.length,a=0;for(;c;){const e=b[--c];1===e.nodeType&&e!==h&&(a=k(a,d(e)))}return a},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(h,b){(b?this.__iE:this.__oE).scrollTop=h||0}})})(myt);
(n=>{let v;const u=g=>{for(;g.lastChild;)g=g.lastChild;return g},t=(g,k)=>{v.lastTraversalWasForward=g;let d=document.body,l=d;var m=document.activeElement;let h=l,b;const c=g?"getNextFocus":"getPrevFocus";m&&(h=l=m,(m=l.model)??(m=v.findModelForDomElement(l)),m&&(k=m.getFocusTrap(k))&&(d=k.getIDE()));for(;h;){if(h.model&&h.model[c]&&(b=h.model[c]()))h=b.getIDE();else if(g)if(h.firstChild)h=h.firstChild;else{if(h===d)return l.model;if(h.nextSibling)h=h.nextSibling;else for(;h&&(h=h.parentNode,h!==
d);)if(h.nextSibling){h=h.nextSibling;break}}else h=h===d?u(d):h.previousSibling?u(h.previousSibling):h.parentNode;if(h===l)return l.model;if(1===h.nodeType)if((m=h.model)&&m instanceof n.View){if(m.isFocusable())return m}else if(k=h.nodeName,!("A"!==k&&"AREA"!==k&&"INPUT"!==k&&"TEXTAREA"!==k&&"SELECT"!==k&&"BUTTON"!==k||h.disabled||isNaN(h.tabIndex))&&n.DomElementProxy.isDomElementVisible(h)&&(m=v.findModelForDomElement(h),!m?.searchAncestorsOrSelf(a=>!0===a.maskFocus))){h.focus();v.focusedDom=h;
break}}};new JS.Singleton("GlobalFocus",{include:[n.Observable],initialize:function(){v=this;v.lastTraversalWasForward=!0;n.global.register("focus",v)},setFocusedView:g=>{if(v.focusedView!==g){v.prevFocusedView=v.focusedView;if(v.focusedView=g)v.focusedDom=null;v.fireEvent("focused",g)}},notifyFocus:g=>{v.focusedView!==g&&v.setFocusedView(g)},notifyBlur:g=>{v.focusedView===g&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:g=>{t(!0,g)?.focus()},prev:g=>{t(!1,g)?.focus()},findModelForDomElement:g=>{for(;g;){let k=g.model;if(k&&k instanceof n.View)return k;g=g.parentNode}}})})(myt);
(n=>{const v=JS.Module,u=n.global,t=u.focus,g=()=>({source:null,type:null,value:null}),k=e=>{e=e.value??e;return(e.target??e.srcElement).model},d=n.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:g(),getKeyFromEvent:e=>e.value.key,getCodeFromEvent:e=>e.value.code,isEnterKeyEvent:e=>e.value.code===u.keys.CODE_ENTER,isEscKeyEvent:e=>e.value.code===u.keys.CODE_ESC,isShiftKeyEvent:e=>u.keys.isShiftCode(e.value.code)},createDomHandler:function(e,f,q){return this.createStandardDomHandler(e,
f,q,d)??this.callSuper(e,f,q)}}),l=n.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:g(),getMouseFromEvent:e=>({x:e.value.pageX,y:e.value.pageY}),getMouseFromEventRelativeToView:(e,f)=>{f=f.getPagePosition();e=l.getMouseFromEvent(e);e.x-=f.x;e.y-=f.y;return e}},createDomHandler:function(e,f,q){return this.createStandardDomHandler(e,f,q,l,!0)??this.callSuper(e,f,q)}}),m=n.ScrollObservable=
new v("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:g(),getScrollFromEvent:e=>{if(e=k(e))return e=e.getIDE(),{x:e.scrollLeft,y:e.scrollTop}}},createDomHandler:function(e,f,q){return this.createStandardDomHandler(e,f,q,m)??this.callSuper(e,f,q)}}),h=n.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:g()},createDomHandler:function(e,f,q){return this.createStandardDomHandler(e,f,q,h,!1)??this.callSuper(e,f,q)}}),b=
n.FocusObservable=new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:g()},initNode:function(e,f){this.focusable=!1;this.focusIndicator=!0;this.callSuper(e,f)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(e){this.focused!==e&&(this.focused=e,this.inited&&(this.fireEvent("focused",e),e?t.notifyFocus(this):t.notifyBlur(this)))},setFocusable:function(e){if(this.focusable!==e){const f=this.focusable;(this.focusable=e)?(this.getIDE().tabIndex=0,this.attachToDom(this,
"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):f&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",e)}},setFocusIndicator:function(e){this.focusIndicator!==e&&(this.focusIndicator=e,this.focused&&(e?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(t.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(e=>!0===e.maskFocus)},focus:function(e){this.isFocusable()&&this.getIDE().focus({preventScroll:e})},blur:function(){this.getIDE().blur()},__doFocus:function(e){this.focused||this.setFocused(!0);this.doFocus()},__doBlur:function(e){this.doBlur();this.focused&&this.setFocused(!1)},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const e=this.getIDS();e.outlineWidth="thin";e.outlineColor="#8bf";e.outlineStyle="solid";e.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(e,f,q){if(b.EVENT_TYPES[q]){const y=this;return r=>{r??=window.event;if(y._ignoreFocus)r.cancelBubble=!0,r.stopPropagation?.(),r.preventDefault();
else{var D=b.EVENT;D.source=y;D.type=r.type;D.value=r;e[f](D)||(r.cancelBubble=!0,r.stopPropagation?.());D.source=void 0}}}return this.callSuper(e,f,q)}}),c=n.InputObservable=new v("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:g()},createDomHandler:function(e,f,q){return this.createStandardDomHandler(e,f,q,c)??this.callSuper(e,f,q)}}),a=n.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:g()},
createDomHandler:function(e,f,q){return this.createStandardDomHandler(e,f,q,a,!0)??this.callSuper(e,f,q)}});n.DomObservable=new v("DomObservable",{attachDomObserver:function(e,f,q,y,r){if(e&&f&&q){const D=this.createDomHandler(e,f,q);if(D){y=!!y;const w=this.__dobsbt??(this.__dobsbt={}),E=w[q];E?E.push(e,f,D,y):w[q]=[e,f,D,y];n.addEventListener(this.getDomElementForDomObservable(q),q,D,y,r);return!0}}return!1},getDomElementForDomObservable:function(e){return this.getIDE()},createDomHandler:(e,f,q)=>
null,createStandardDomHandler:function(e,f,q,y,r){if(y.EVENT_TYPES[q]){const D=this,w=y.EVENT;return E=>{E??=window.event;w.source=D;w.type=E.type;w.value=E;e[f](w)||(E.cancelBubble=!0,E.stopPropagation?.(),r&&E.preventDefault());w.source=void 0}}},detachDomObserver:function(e,f,q,y){if(e&&f&&q){var r=this.__dobsbt;if(r&&(r=r[q])){y=!!y;const D=this.getDomElementForDomObservable(q);let w=!1,E=r.length;for(;4<=E;){const J=r[--E],P=r[--E],B=r[--E],G=r[--E];e===G&&f===B&&y===J&&(D&&n.removeEventListener(D,
q,P,y),r.splice(E,4),w=!0)}return w}}return!1},detachAllDomObservers:function(){var e=this.__dobsbt;if(e)for(const [f,q]of Object.entries(e)){for(e=q.length+2;4<=e;){const y=q[e-=3],r=q[--e];n.removeEventListener(this.getDomElementForDomObservable(f),f,r,y)}q.length=0}}});n.DomObserver=new v("DomObserver",{extend:{getSourceViewFromEvent:k},attachToDom:function(e,f,q,y,r){if(e&&f&&q){y=!!y;let D;const w=(D=this.__dobt??(this.__dobt={}))[q]??(D[q]=[]);e.attachDomObserver(this,f,q,y,r)&&w.push(y,f,e)}},
detachFromDom:function(e,f,q,y){if(e&&f&&q){var r=this.__dobt;if(r&&(r=r[q])){y=!!y;let D=!1,w=r.length;for(;3<=w;){const E=r[--w],J=r[--w],P=r[--w];e===E&&f===J&&y===P&&e.detachDomObserver(this,f,q,y)&&(r.splice(w,3),D=!0)}return D}}return!1},detachFromAllDomSources:function(){var e=this.__dobt;if(e)for(const [f,q]of Object.entries(e)){for(e=q.length;3<=e;){const y=q[--e],r=q[--e],D=q[--e];y.detachDomObserver(this,r,f,D)}q.length=0}}})})(myt);
(n=>{let v;const {KeyObservable:u,global:t}=n,g=t.focus,k=u.getCodeFromEvent,d=new Set,l="Firefox"===BrowserDetect.browser,m=l?"OSLeft":"MetaLeft",h=l?"OSRight":"MetaRight",b=()=>d.has("ShiftLeft")||d.has("ShiftRight"),c=()=>d.has("ControlLeft")||d.has("ControlRight"),a=()=>d.has("AltLeft")||d.has("AltRight"),e=()=>d.has(m)||d.has(h),f=(y,r)=>{switch(y){case "Backspace":return y=r.nodeName,!("TEXTAREA"===y||"INPUT"===y&&("text"===r.type||"number"===r.type||"password"===r.type)||"DIV"===y&&"true"===
r.contentEditable&&r.firstChild);case "Tab":return!0}return!1},q=(y,r)=>{for(const D of["keydown","keypress","keyup"])v[r](y,"__hndl_"+D,D)};new JS.Singleton("GlobalKeys",{include:[n.DomElementProxy,n.DomObservable,n.DomObserver,u,n.Observable,n.Observer],initialize:function(){t.register("keys",v=this);v.CODE_ENTER="Enter";v.CODE_ESC="Escape";v.CODE_SPACE="Space";v.CODE_ARROW_LEFT="ArrowLeft";v.CODE_ARROW_UP="ArrowUp";v.CODE_ARROW_RIGHT="ArrowRight";v.CODE_ARROW_DOWN="ArrowDown";v.CODE_DELETE="Delete";
v.CODE_BACKSPACE="Backspace";for(const y of"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""))v["CODE_"+y]="Key"+y;for(const y of"1234567890".split(""))v["CODE_"+y]="Digit"+y;v.ARROW_KEYS=[v.CODE_ARROW_LEFT,v.CODE_ARROW_UP,v.CODE_ARROW_RIGHT,v.CODE_ARROW_DOWN];v.LIST_KEYS=[v.CODE_ENTER,v.CODE_SPACE,v.CODE_ESC,...v.ARROW_KEYS];v.setDomElement(document);v.attachTo(g,"__hndl_focused","focused");q(v,"attachToDom");global.onblur=()=>{d.clear()}},isShiftKeyDown:b,isControlKeyDown:c,isAltKeyDown:a,isMetaKeyDown:e,isShiftCode:y=>
"ShiftLeft"===y||"ShiftRight"===y,isControlCode:y=>"ControlLeft"===y||"ControlRight"===y,isAltCode:y=>"AltLeft"===y||"AltRight"===y,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?e():c(),ignoreFocusTrap:()=>a(),__hndl_focused:y=>{(y=y.value)?(q(v,"detachFromDom"),q(y,"attachToDom")):((y=g.prevFocusedView)&&q(y,"detachFromDom"),q(v,"attachToDom"))},__hndl_keydown:y=>{const r=k(y);y=y.value;f(r,y.target)&&y.preventDefault();e()&&"ShiftLeft"!==r&&"ShiftRight"!==r&&"ControlLeft"!==r&&"ControlRight"!==
r&&"AltLeft"!==r&&"AltRight"!==r?(v.fireEvent("keydown",r),v.fireEvent("keyup",r)):(d.add(r),"Tab"===r&&(y=a(),b()?g.prev(y):g.next(y)),v.fireEvent("keydown",r))},__hndl_keypress:y=>{v.fireEvent("keypress",k(y))},__hndl_keyup:y=>{const r=k(y);y=y.value;f(r,y.target)&&y.preventDefault();d.delete(r);v.fireEvent("keyup",r)}})})(myt);
(n=>{const v=JS.Module,u=Math.max,t=n.FALSE_FUNC,g=(b,c,a,e,f=0)=>{const q=b.length;for(let y=a;f<q;f++)m(b[f],c,y),e&&(y+=a)},k=(b,c,a,e=0)=>{const f=b.length;for(let q=c;e<f;)b[e++].crossPos+=q,a&&(q+=c)},d=(b,c,a,e)=>{var f=b[c?"setWidthViaFlex":"setHeightViaFlex"];c=e?c?b.getFlexBasisWidth():b.getFlexBasisHeight():0;f.call(b,c+a)},l=(b,c,a)=>{b[c?"setXViaFlex":"setYViaFlex"](a,!1)},m=(b,c,a)=>{b[c?"setXViaFlex":"setYViaFlex"](a,!0)},h=(b,c,a)=>{b[c]!==a&&(b[c]=a,b.inited&&b.fireEvent(c,a),b.updateFlexboxLayout())};
n.FlexboxSupport=new v("FlexboxSupport",{initNode:function(b,c){this.__IS_FLEXBOX_SUPPORT=!0;this.rowGap=this.columnGap=0;this.direction??(this.direction="row");this.wrap="nowrap";this.justifyContent=this.alignContent="start";this.alignItems="stretch";this.callSuper(b,c);this.updateFlexboxLayout()},setWidth:function(b){const c=this.width;this.callSuper(b);c!==this.width&&this.updateFlexboxLayout()},setHeight:function(b){const c=this.height;this.callSuper(b);c!==this.height&&this.updateFlexboxLayout()},
setDirection:function(b){h(this,"direction",b)},setWrap:function(b){h(this,"wrap",b)},setJustifyContent:function(b){h(this,"justifyContent",b)},setAlignItems:function(b){h(this,"alignItems",b)},setAlignContent:function(b){h(this,"alignContent",b)},setRowGap:function(b){h(this,"rowGap",u(0,b))},setColumnGap:function(b){h(this,"columnGap",u(0,b))},getWidthForFlexboxLayout:function(){return this.width},getHeightForFlexboxLayout:function(){return this.height},setTotalBasisWidth:function(b){this.set("totalBasisWidth",
b,!0)},setTotalBasisHeight:function(b){this.set("totalBasisHeight",b,!0)},ignoreSubviewForFlex:function(b){return b&&"function"===typeof b.ignoreFlex?b.ignoreFlex():!0},setFlexboxPaused:function(b,c){this.__flexboxPaused!==b&&((this.__flexboxPaused=b)||c||this.updateFlexboxLayout())},isFlexboxPaused:function(){return!!this.__flexboxPaused},subviewAdded:function(b){this.callSuper(b);b&&!this.ignoreSubviewForFlex(b)&&this.updateFlexboxLayout()},subviewRemoved:function(b){this.callSuper(b);!b||this.ignoreSubviewForFlex(b)||
this.isBeingDestroyed||this.updateFlexboxLayout()},doSubviewsReorderedInDom:function(b){this.callSuper(b);b&&this.ignoreSubviewForFlex(b)||this.updateFlexboxLayout()},isOKToUpdateLayout:function(){return this.inited&&!this.__isUpdatingFlexboxLayout&&!this.isFlexboxPaused()},isCompactWidth:t,isCompactHeight:t,isCompactOnMainAxis:function(b){return b?this.isCompactWidth():this.isCompactHeight()},isCompactOnCrossAxis:function(b){return b?this.isCompactHeight():this.isCompactWidth()},isWrapNotAllowed:function(){return"nowrap"===
this.wrap},setUpdateAgain:function(b){this._updateAgain=b},isUpdateAgain:function(){return this._updateAgain},updateFlexboxLayout:function(){const b=this;if(b.isOKToUpdateLayout()){var c=b.getSubviewsInLexicalOrder().filter(J=>!0!==b.ignoreSubviewForFlex(J)&&!0===J.visible);const E=c.length;if(0<E){b.__isUpdatingFlexboxLayout=!0;var a=b.direction;const J=a.startsWith("row"),P=!J;var e=b.getWidthForFlexboxLayout(),f=b.getHeightForFlexboxLayout();const B=J?b.columnGap:b.rowGap,G=J?e:f;var q=J?b.rowGap:
b.columnGap;const x=J?f:e,p=b.isWrapNotAllowed();e=b.justifyContent;f=b.alignItems;var y=p?"stretch":b.alignContent;a.endsWith("Reverse")&&c.reverse();let z=0,I=0,Q=0,O=0,S={items:[],shrinkCount:0,shrinkBasis:0,growCount:0,extraSize:0,crossPos:Q,crossSize:0};a=[S];for(let W=0;W<E;){const A=c[W++],C=J?A.getFlexBasisWidth():A.getFlexBasisHeight(),F=A.getShrink(),L=A.getGrow();!p&&0<S.items.length&&z+(0===O?0:B)+C>G&&(S.extraSize=G-z,Q+=S.crossSize+q,I=u(I,z),O=z=0,S={items:[],shrinkCount:0,shrinkBasis:0,
growCount:0,extraSize:0,crossPos:Q,crossSize:0},a.push(S));0!==O&&(z+=B);0<F&&0<C&&(S.shrinkCount+=F,S.shrinkBasis+=C*F);0<L&&(S.growCount+=L);S.crossSize=u(S.crossSize,P?A.getFlexBasisWidth():A.getFlexBasisHeight());l(A,J,z);d(A,J,C);z+=C;S.items.push(A);O++}S.extraSize=G-z;Q+=S.crossSize;I=u(I,z);if(b.isCompactOnMainAxis(J)&&(c=a.reduce((W,A)=>null==W?A.extraSize:Math.min(W,A.extraSize),null),0!==c))for(var r of a)r.extraSize-=c;b[J?"setTotalBasisWidth":"setTotalBasisHeight"](I);b[J?"setTotalBasisHeight":
"setTotalBasisWidth"](Q);r=a.length;if(1<r&&"wrapReverse"===b.wrap){for(var D of a)D.crossPos=Q-(D.crossPos+D.crossSize);a.reverse()}if(!b.isCompactOnCrossAxis(J))switch(D=x-Q,y){default:case "start":break;case "end":k(a,D,!1);break;case "center":k(a,D/2,!1);break;case "spaceBetween":1<r&&k(a,D/(r-1),!0,1);break;case "spaceAround":D<=q?k(a,D/2,!1):(k(a,q/2,!1),D-=q,k(a,D/(2*r),!0),k(a,D/(2*r),!0,1));break;case "spaceEvenly":D<=2*q?k(a,D/2,!1):(k(a,q,!1),k(a,(D-2*q)/(r+1),!0));break;case "stretch":q=
D/r;D=0;for(var w of a)w.crossSize+=q,w.crossPos+=D,D+=q}for(const W of a){w=W.items;q=W.extraSize;if(0<q)if(0<W.growCount){q/=W.growCount;a=0;for(const F of w)0<a&&m(F,J,a),D=F.getGrow()*q,0<D&&(d(F,J,D,!0),a+=D)}else switch(a=w.length,e){default:case "start":break;case "end":g(w,J,q,!1);break;case "center":g(w,J,q/2,!1);break;case "spaceBetween":1<a&&g(w,J,q/(a-1),!0,1);break;case "spaceAround":q<=B?g(w,J,q/2,!1):(g(w,J,B/2,!1),q-=B,g(w,J,q/(2*a),!0),g(w,J,q/(2*a),!0,1));break;case "spaceEvenly":q<=
2*B?g(w,J,q/2,!1):(g(w,J,B,!1),q-=2*B,g(w,J,q/(a+1),!0))}else if(0>q&&0<W.shrinkCount){a=W.shrinkBasis;D=0;for(const F of w)0>D&&m(F,J,D),y=F.getShrink()*(J?F.getFlexBasisWidth():F.getFlexBasisHeight())/a*u(q,-a),0>y&&(d(F,J,y,!0),D+=y)}q=!1;const {crossSize:A,crossPos:C}=W;for(const F of w)switch(F.getAlignSelf()||f){case "start":l(F,P,C);d(F,P,P?F.getFlexBasisWidth():F.getFlexBasisHeight(),!1);break;case "end":l(F,P,C+A-(P?F.getFlexBasisWidth():F.getFlexBasisHeight()));d(F,P,P?F.getFlexBasisWidth():
F.getFlexBasisHeight(),!1);break;case "center":l(F,P,C+(A-(P?F.getFlexBasisWidth():F.getFlexBasisHeight()))/2);d(F,P,P?F.getFlexBasisWidth():F.getFlexBasisHeight(),!1);break;case "baseline":q=!0;l(F,P,C+(A-(P?F.getFlexBasisWidth():F.getFlexBasisHeight()))/2+F.getFlexBaselineOffset(J));d(F,P,P?F.getFlexBasisWidth():F.getFlexBasisHeight(),!1);break;default:l(F,P,C),d(F,P,A,!1)}q&&b.updateFlexboxLayoutBaselineAdjustment(w,J,C)}b.__isUpdatingFlexboxLayout=!1;b.isUpdateAgain()&&!b.__UPDATE_AGAIN_LOOP_PROTECTION&&
(b.setUpdateAgain(!1),b.__UPDATE_AGAIN_LOOP_PROTECTION=!0,b.updateFlexboxLayout(),b.__UPDATE_AGAIN_LOOP_PROTECTION=!1)}else b.setTotalBasisWidth(0),b.setTotalBasisHeight(0)}},updateFlexboxLayoutBaselineAdjustment:n.NOOP});n.FlexboxChildSupport=new v("FlexboxChildSupport",{setVisible:function(b){this.visible!==b&&(this.callSuper(b),this.updateFlexboxLayoutFromChild())},setXViaFlex(b,c){c&&(b+=this.x);this.x!==b&&(this.__isFlexUpdate=!0,this.setX(b),this.__isFlexUpdate=!1)},setYViaFlex(b,c){c&&(b+=
this.y);this.y!==b&&(this.__isFlexUpdate=!0,this.setY(b),this.__isFlexUpdate=!1)},setWidth:function(b){const c=this.width!==b;c&&!this.__isFlexUpdate&&(this.__basisWidth=null);this.callSuper(b);c&&this.updateFlexboxLayoutFromChild()},setWidthViaFlex(b){this.width!==b&&(this.__basisWidth??(this.__basisWidth=this.width),this.__isFlexUpdate=!0,this.setWidth(b),this.__isFlexUpdate=!1)},getFlexBasisWidth:function(){return this.__basisWidth??this.width},setHeight:function(b){const c=this.height!==b;c&&
!this.__isFlexUpdate&&(this.__basisHeight=null);this.callSuper(b);c&&this.updateFlexboxLayoutFromChild()},setHeightViaFlex(b){this.height!==b&&(this.__basisHeight??(this.__basisHeight=this.height),this.__isFlexUpdate=!0,this.setHeight(b),this.__isFlexUpdate=!1)},getFlexBasisHeight:function(){return this.__basisHeight??this.height},getFlexBaselineOffset:b=>0,setIgnoreFlex:function(b){this.__ignoreFlex!==b&&(this.__ignoreFlex=b,this.inited&&(this.fireEvent("ignoreFlex",b),this.isChildOfFlexbox()&&this.parent.updateFlexboxLayout()))},
ignoreFlex:function(){return this.__ignoreFlex},setGrow:function(b){b=u(0,b);this.grow!==b&&(this.grow=b,this.inited&&(this.fireEvent("grow",b),this.updateFlexboxLayoutFromChild()))},getGrow:function(){return this.grow},setShrink:function(b){b=u(0,b);this.shrink!==b&&(this.shrink=b,this.inited&&(this.fireEvent("shrink",b),this.updateFlexboxLayoutFromChild()))},getShrink:function(){return this.shrink},setAlignSelf:function(b){this.alignSelf!==b&&(this.alignSelf=b,this.inited&&(this.fireEvent("alignSelf",
b),this.updateFlexboxLayoutFromChild()))},getAlignSelf:function(){const b=this.alignSelf;return"auto"===b||""===b?null:b},isChildOfFlexbox:function(){return!(!this.parent||!this.parent.__IS_FLEXBOX_SUPPORT)},isFlexUpdateInProgress:function(){return this.__isFlexUpdate},updateFlexboxLayoutFromChild:function(){this.inited&&!this.ignoreFlex()&&this.isChildOfFlexbox()&&(this.isFlexUpdateInProgress()?this.parent.setUpdateAgain(!0):this.parent.updateFlexboxLayout())}})})(myt);
(n=>{const v=console.log,u=new Map,t=new Map,g=(b,c)=>c+(b[0]??"").toUpperCase()+b.slice(1),k=b=>t.get(b)??(t.set(b,g(b,"set")),t.get(b)),d=b=>u.get(b)??(u.set(b,g(b,"get")),u.get(b)),l=(b,c)=>{let a;for(const e in c){const f=c[e],q=k(e);if(q in b)b[q](f);else b[e]!==f&&(b[e]=f,(a??=!1!==b.inited&&b.fireEvent)&&b.fireEvent(e,f))}},m=(b,c)=>{const a=d(c);b[a]&&v("Overwriting getter",a);b[a]=function(){return this[c]}},h=(b,c)=>{const a=k(c);b[a]&&v("Overwriting setter",a);b[a]=function(e){this[c]!==
e&&(this[c]=e,this.inited&&this.fireEvent(c,e))}};n.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:k,generateGetterName:d,generateName:g,createSetterFunction:h,createGetterFunction:m,createSetterMixin:(b,c)=>{const a={};for(const e of b)h(a,e),c&&m(a,e);return a}},appendToEarlyAttrs:function(...b){(this.earlyAttrs??(this.earlyAttrs=[])).push(...b)},prependToEarlyAttrs:function(...b){(this.earlyAttrs??(this.earlyAttrs=[])).unshift(...b)},appendToLateAttrs:function(...b){(this.lateAttrs??
(this.lateAttrs=[])).push(...b)},prependToLateAttrs:function(...b){(this.lateAttrs??(this.lateAttrs=[])).unshift(...b)},quickSet:function(b,c){if(b)for(const a of b)this[a]=c[a],delete c[a]},callSetters:function(b){var c=this.earlyAttrs,a=this.lateAttrs;if(c||a){b={...b};if(c){var e=c.length;for(var f=0;f<e;){const y=c[f++];y in b&&(this.set(y,b[y]),delete b[y])}}let q;if(a)for(q=[],c=a.length,e=0;e<c;)f=a[e++],f in b&&(q.push(f,b[f]),delete b[f]);l(this,b);if(q)for(a=q.length,b=0;b<a;)this.set(q[b++],
q[b++])}else l(this,b)},get:function(b){const c=d(b);return"function"===typeof this[c]?this[c]():this[b]},set:function(b,c,a){if(!a&&(a=k(b),"function"===typeof this[a]))return this[a](c);this[b]!==c&&(this[b]=c,!1!==this.inited&&this?.fireEvent(b,c))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{const n=Object.hasOwn,v=this.__meta__;if(v)for(const u in v)n(v,u)&&(v[u]=null);for(const u in this)n(this,u)&&(this[u]=null);this.destroyed=!0}}});
(n=>{const v=JS.Class,u=n.NOOP,t=console.warn;let g;const k=(c,a)=>a?(g=c).__op??(g.__op=[]):c.__op;let d;const l=(c,a)=>a?(d=c).__actives??(d.__actives=[]):c.__actives,m=new v("AbstractPool",{include:[n.Destructible],destroy:function(){const c=k(this);c&&(c.length=0);this.callSuper()},getInstance:function(c){return k(this,!0).pop()??this.createInstance(c)},createInstance:u,putInstance:function(c){k(this,!0).push(this.cleanInstance(c))},cleanInstance:c=>{"function"===typeof c.clean&&c.clean();return c},
destroyPooledInstances:function(){const c=k(this);if(c){let a=c.length;for(;a;){const e=c[--a];"function"===typeof e.destroy&&e.destroy()}c.length=0}}}),h=n.SimplePool=new v("SimplePool",m,{initialize:function(c,a){this.instanceClass=c;this.instanceParent=a},createInstance:function(c){const {instanceClass:a,instanceParent:e}=this;return e?new a(e,c):new a}}),b=n.TrackActivesPool=new v("TrackActivesPool",h,{destroy:function(){const c=l(this);c&&(c.length=0);this.callSuper()},getInstance:function(c){c=
this.callSuper(c);l(this,!0).push(c);return c},putInstance:function(c){var a=l(this);if(a){const e=a.indexOf(c);if(-1<e){a.splice(e,1);this.callSuper(c);return}a="inactive"}else a="missing";t("Tried to put a "+a+" instance",c,this)},getActives:function(c){const a=l(this);if(a){if(c){const e=[],f=a.length;for(let q=0;f>q;){const y=a[q++];c.call(this,y)&&e.push(y)}return e}return a.slice()}return[]},putActives:function(){const c=l(this);if(c){let a=c.length;for(;a;)this.putInstance(c[--a])}}});n.TrackActivesMultiPool=
new v("TrackActivesMultiPool",m,{initialize:function(c,a){const e=this.__pbCN={},f=this.__pbk={};for(const q in c){const y=c[q];f[q]=e[y.__displayName]=new b(y,a)}},destroy:function(){const c=this.__pbk;for(const a in c)c[a].destroy();this.callSuper()},getInstance:function(c,a){const e=this.__pbk[c];if(e)return e.getInstance(a);t("No pool for key",c)},putInstance:function(c){const a=this.__pbCN[c.klass.__displayName];a?a.putInstance(c):t("No pool for obj",c)},destroyPooledInstances:function(){const c=
this.__pbk;for(const a in c)c[a].destroyPooledInstances()},getActives:function(c){let a=[];const e=this.__pbk;for(const f in e)a.push(...e[f].getActives(c));return a},putActives:function(){const c=this.__pbk;for(const a in c)c[a].putActives()}});n.Reusable=new JS.Module("Reusable",{clean:u})})(myt);
(n=>{const v=JS.Class,u=n.NOOP,t=console.warn,g=[n.AccessorSupport,n.Destructible,n.Observable,n.Observer],k=(a,e)=>{if(e){const f=e.length;for(let q=0,y;f>q;)(y=e[q++])?a.extend(y):t("Missing mixin in",a.klass.__displayName)}a.inited=!1},d=(a,e)=>{if(e)for(;a;){if(e(a))return a;a=a.parent}},l=(a,e)=>{const f=e.name;void 0===a[f]?a[f]=e:t("Name in use",f)},m=(a,e)=>{const f=e.name;a[f]===e?delete a[f]:t("Name not in use",f)};let h;const b=a=>(h=a).__animPool??(h.__animPool=new n.TrackActivesPool(n.Animator,
a));let c;n.Eventable=new v("Eventable",{include:g,initialize:function(a,e){k(this,e);this.init(a??{})},init:function(a){this.callSetters(a);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});n.Node=new v("Node",{include:g,extend:{getMatchingAncestorOrSelf:d,getMatchingAncestor:(a,e)=>d(a?a.parent:null,e),DEFAULT_PLACEMENT:"*"},initialize:function(a,e,f){k(this,f);this.initNode(a,e??{})},initNode:function(a,
e){this.callSetters(e);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a)for(let e=a.length;0<e;)a[--e].destroy();this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:u,setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=
a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var e=this.placement??a.defaultPlacement;e&&(a=a.determinePlacement(e,this))}if(this.parent!==a&&!a?.destroyed){if(e=this.parent){const f=e.getSubnodes().indexOf(this);-1<f&&(this.name&&m(e,this),e.subnodes.splice(f,1),e.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&l(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==
a){const e=this.parent;e&&this.name&&m(e,this);this.name=a;e&&a&&l(e,this)}},determinePlacement:function(a,e){let f=a.indexOf("."),q;0<=f&&(q=a.slice(f+1),a=a.slice(0,f));"*"===a&&(a=this.defaultPlacement)&&(f=a.indexOf("."),0<=f&&(q=a.slice(f+1)+(q?"."+q:""),a=a.slice(0,f)));return(a=this[a])?q?a.determinePlacement(q,e):a:this},getRoot:function(){return this.parent?.getRoot()??this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&
a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(e=>e instanceof a)},searchAncestorsForModule:function(a){if(a)return this.searchAncestors(e=>e.isA(a))},searchAncestors:function(a){return d(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return d(this,
a)},getAncestors:function(){const a=[];let e=this;for(;e;)a.push(e),e=e.parent;return a},getSubnodes:function(){return this.subnodes??(this.subnodes=[])},subnodeAdded:u,subnodeRemoved:u,animate:function(a){if(a){const e=b(this),f=e.getInstance({ignorePlacement:!0}),q=a.callback;delete a.callback;f.callSetters(a);f.next(y=>{e.putInstance(f)});q&&f.next(q);f.setRunning(!0);return f}},getActiveAnimators:function(a){if("string"===typeof a){const e=a;a=f=>f.attribute===e}return b(this).getActives(a)},
stopActiveAnimators:function(a,e=!1){a=this.getActiveAnimators(a);let f=a.length;if(0<f){const q=b(this);for(;f;){const y=a[--f];y.reset(e);e||q.putInstance(y)}}},doOnceOnIdle:function(a){this.attachTo(n.global.idle,a,"idle",!0)},addRef:function(a,e){return((c=this).__REFS??(c.__REFS={}))[a]=e},getRef:function(a){return((c=this).__REFS??(c.__REFS={}))[a]},removeRef:function(a){const e=(c=this).__REFS??(c.__REFS={}),f=e[a];delete e[a];return f}})})(myt);
(n=>{let v=0,u=!1;const t=JS.Class,g=n.NOOP,k=[],d=a=>{if(u!==a&&(u=a,!a)){for(a=k.length;a;){const e=k[--a];e.__deferredLayout=!1;e.update()}k.length=0}},l=(a,e,f,q)=>{const y=a.getSubviewIndex(e),r=a.subviews;-1<y&&(a=a.getSubviewIndex(f),r.splice(y,1),-1<a?(y<a&&--a,r.splice(a+(q?1:0),0,e)):q?r.push(e):r.unshift(e))},m=(a,e,f)=>{a[e]!==f&&(a[e]=f,a.inited&&(a.fireEvent(e,f),a.update()))},h=n.Layout=new t("Layout",n.Node,{extend:{incrementGlobalLock:()=>{1===++v&&d(!0)},decrementGlobalLock:()=>
{0<v&&0===--v&&d(!1)}},initNode:function(a,e){this.subviews=[];this.locked=!0;this.lockedCounter=1;const f=!0===e.locked;delete e.locked;this.callSuper(a,e);f||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(a){var e=this.parent;if(e!==a){const y=!this.locked;y&&(this.locked=!0);if(e){for(var f=this.subviews,q=f.length;q;)this.removeSubview(f[--q]);this.detachFrom(e,"__hndlPSA","subviewAdded");this.detachFrom(e,"__hndlPSR",
"subviewRemoved")}this.callSuper(a);if(a=this.parent){e=a.getSubviews();f=e.length;for(q=0;f>q;)this.addSubview(e[q++]);this.attachTo(a,"__hndlPSA","subviewAdded");this.attachTo(a,"__hndlPSR","subviewRemoved")}y&&(this.locked=!1,this.inited&&a&&this.update())}},canUpdate:function(){return u?(this.__deferredLayout||(k.push(this),this.__deferredLayout=!0),!1):!this.locked},update:g,hasSubview:function(a){return this.subviews.includes(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},
addSubview:function(a){this.ignore(a)||(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:g,startMonitoringAllSubviews:function(){const a=this.subviews;let e=a.length;for(;e;)this.startMonitoringSubview(a[--e])},removeSubview:function(a){if(this.ignore(a))return-1;const e=this.getSubviewIndex(a);-1<e&&(this.stopMonitoringSubview(a),this.subviews.splice(e,1),this.locked||this.update());return e},stopMonitoringSubview:g,stopMonitoringAllSubviews:function(){const a=
this.subviews;let e=a.length;for(;e;)this.stopMonitoringSubview(a[--e])},ignore:a=>a.ignoreLayout,__hndlPSA:function(a){a=a.value;a.parent===this.parent&&this.addSubview(a)},__hndlPSR:function(a){a=a.value;a.parent===this.parent&&this.removeSubview(a)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,e){l(this,a,e,!1)},moveSubviewAfter:function(a,e){l(this,a,e,!0)}});var b=n.ConstantLayout=new t("ConstantLayout",h,{setTargetAttrName:function(a){this.setterName=n.AccessorSupport.generateSetterName(a);
m(this,"targetAttrName",a)},setTargetValue:function(a){m(this,"targetValue",a)},update:function(){if(this.canUpdate()){const a=this.setterName,e=this.targetValue,f=this.subviews,q=f.length;if(a)for(let y=0;q>y;)f[y++][a](e)}}});b=n.VariableLayout=new t("VariableLayout",b,{initNode:function(a,e){this.collapseParent=this.reverse=!1;this.callSuper(a,e)},setCollapseParent:function(a){m(this,"collapseParent",a)},setReverse:function(a){m(this,"reverse",a)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate!==g&&this.doBeforeUpdate();const e=this.setterName,f=this.subviews;var a=f.length;let q=this.targetValue,y,r=0;if(this.reverse)for(y=a;y;)a=f[--y],this.skipSubview(a)||(q=this.updateSubview(++r,a,e,q));else for(y=0;y<a;){const D=f[y++];this.skipSubview(D)||(q=this.updateSubview(++r,D,e,q))}this.doAfterUpdate!==g&&this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(e,q);this.decrementLockedCounter()}},doBeforeUpdate:g,doAfterUpdate:g,startMonitoringSubview:function(a){this.attachTo(a,
"update","visible")},stopMonitoringSubview:function(a){this.detachFrom(a,"update","visible")},updateSubview:(a,e,f,q)=>{e[f](q);return q},skipSubview:a=>!a.visible,updateParent:g});const c=n.SpacedLayout=new t("SpacedLayout",b,{initNode:function(a,e){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,e)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const e="y"===a,f=this.inited;f&&this.stopMonitoringAllSubviews();this.measureAttrName=e?"boundsHeight":"boundsWidth";this.measureAttrBaseName=e?"height":"width";this.parentSetterName=e?"setHeight":"setWidth";f&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){m(this,"spacing",a)},setOutset:function(a){m(this,
"outset",a)},addSubview:function(a){const e=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=e},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,e,f,q){a=e[this.measureAttrName];e[f](q+(a-e[this.measureAttrBaseName])/2);return q+a+this.spacing},updateParent:function(a,e){this.parent[this.parentSetterName](e+
this.outset-this.spacing)}});n.ResizeLayout=new t("ResizeLayout",c,{setCollapseParent:g,setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){const e="x"===a;this.stopMonitoringParent(e?"height":"width");this.startMonitoringParent(e?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const e="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(e);this.callSuper(a);this.parent&&this.startMonitoringParent(e)}},startMonitoringParent:function(a){this.attachTo(this.parent,
"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){const a=this.measureAttrName,e=this.subviews;let f=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,q=e.length,y=0,r=0;for(;q;){const D=e[--q];this.skipSubview(D)||(++y,0<D.layoutHint?r+=D.layoutHint:f-=D[a])}0!==y&&(this.remainder=f-=(y-1)*this.spacing,this.resizeSum=r,this.scalingFactor=f/r,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===a?
"setWidth":"setHeight")},updateSubview:function(a,e,f,q){var y=e.layoutHint;0<y&&(this.resizeSumUsed+=y,y=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(y*this.scalingFactor),this.remainderUsed+=y,e[this.measureSetter](y));return this.callSuper(a,e,f,q)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<a.layoutHint||this.detachFrom(a,"update",
this.measureAttrName);this.detachFrom(a,"update","visible")},updateParent:g});n.AlignedLayout=new t("AlignedLayout",b,{initNode:function(a,e){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,e)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const e="y"===a,f=this.inited;f&&this.stopMonitoringAllSubviews();this.measureAttrName=e?"boundsHeight":
"boundsWidth";this.measureAttrBaseName=e?"height":"width";this.parentSetterName=e?"setHeight":"setWidth";f&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;const e=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=e;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,
"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){const a=this.measureAttrName,e=this.subviews;let f=0,q=e.length;for(;q;){const y=e[--q];this.skipSubview(y)||(f=f>y[a]?f:y[a])}this.setTargetValue(f)},updateSubview:function(a,e,f,q){switch(this.align){case "center":case "middle":e[f]((q-e[this.measureAttrName])/2);break;case "right":case "bottom":e[f](q-e[this.measureAttrName]);break;default:e[f](0)}return q},updateParent:function(a,e){this.parent[this.parentSetterName](e)}});
n.WrappingLayout=new t("WrappingLayout",b,{initNode:function(a,e){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(a,e)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const e="y"===a,f=this.inited;f&&this.stopMonitoringAllSubviews();this.measureAttrName=e?"boundsHeight":"boundsWidth";const q=this.measureAttrBaseName=e?"height":"width";this.otherMeasureAttrName=e?"boundsWidth":"boundsHeight";const y=this.otherMeasureAttrBaseName=e?"width":"height";this.parentSetterName=e?"setWidth":"setHeight";this.otherSetterName=e?"setX":"setY";f&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(y),this.startMonitoringParent(q));this.callSuper(a)}},setParent:function(a){if(this.parent!==
a){const e="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(e?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(e?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){m(this,"spacing",a)},setOutset:function(a){m(this,"outset",a)},setLineSpacing:function(a){m(this,"lineSpacing",a)},setLineInset:function(a){m(this,"lineInset",a)},setLineOutset:function(a){m(this,
"lineOutset",a)},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update",this.otherMeasureAttrName);this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=
1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,e,f,q){a=e[this.measureAttrName];const y=e[this.otherMeasureAttrName];q+a>this.parentSizeLessOutset||"break"===e.layoutHint?(q=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=y,++this.lineCount):y>this.lineSize&&(this.lineSize=y);e[this.otherSetterName](this.linePos+(y-e[this.otherMeasureAttrBaseName])/2);e[f](q+(a-
e[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,q+a+this.outset);return q+a+this.spacing},updateParent:function(a,e){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});n.createFixedThresholdCounter(h,1,"locked")})(myt);
(n=>{const v=Math.round,{NOOP:u,DomElementProxy:t,Geometry:{rectContainsPoint:g}}=n,k=(f,q)=>{const y=n.global.focus.focusedView,r=f.getIDE();if(y===f||y?.isDescendantOf(f))y._ignoreFocus=!0;const {scrollTop:D,scrollLeft:w}=r;q();y&&(y._ignoreFocus=!1,y.focus(!0));r.scrollTop=D;r.scrollLeft=w},d=(f,q,y)=>{const r=f.getODE(),D=r.parentNode;if(D){const w=()=>{const E=r.nextElementSibling;D.removeChild(r);q();D.insertBefore(r,E)};y?k(f,w):w()}else q()},l=(f,q,y,r)=>{if(q&&"object"===typeof q){if(r){var D=
f.getLeastCommonAncestor(q)?.getIDE();if(D){const w=t.getZIndexRelativeToAncestor,E=y?-1:1;r=E*w(f.getODE(),D);D=E*w(q.getODE(),D);if(r<D)return!0;if(D<r)return!1}}f=f.getODE().compareDocumentPosition(q.getODE());return y?2===f||10===f:4===f||20===f}return!1},m=f=>{f=f.getAncestors();let q=f.length,y=1,r=1;for(;q;){const D=f[--q];y*=D.scaleX||1;r*=D.scaleY||1;D.__effectiveScaleX=y;D.__effectiveScaleY=r}return{scaleX:y,scaleY:r}},h=(f,q,y)=>{const r=f.getODE();if(g(q,y,0,0,r.offsetWidth*f.__effectiveScaleX,
r.offsetHeight*f.__effectiveScaleY)){if(f=f.parent){const D=f.getIDE();return h(f,q+(r.offsetLeft-D.scrollLeft)*f.__effectiveScaleX,y+(r.offsetTop-D.scrollTop)*f.__effectiveScaleY)}return!0}return!1},b=f=>{switch(f.align){case "center":f.releaseConstraint("__doAlignCenter");break;case "right":f.releaseConstraint("__doAlignRight")}},c=f=>{const q=f.parent;if(q)switch(f.align){case "center":f.constrain("__doAlignCenter",[f,"width",f,"alignOffset",q,"width"]);break;case "right":f.constrain("__doAlignRight",
[f,"width",f,"alignOffset",q,"width"]);break;case "left":f.setX(f.alignOffset||0)}},a=f=>{switch(f.valign){case "middle":f.releaseConstraint("__doValignMiddle");break;case "bottom":f.releaseConstraint("__doValignBottom")}},e=f=>{const q=f.parent;if(q)switch(f.valign){case "middle":f.constrain("__doValignMiddle",[f,"height",f,"valignOffset",q,"height"]);break;case "bottom":f.constrain("__doValignBottom",[f,"height",f,"valignOffset",q,"height"]);break;case "top":f.setY(f.valignOffset||0)}};n.View=new JS.Class("View",
n.Node,{include:[t,n.DomObservable,n.DomObserver,n.ScrollObservable,n.FocusObservable,n.KeyObservable,n.MouseObservable],extend:{retainFocusDuringDomUpdate:k,doWhileRemovedFromDom:d},initNode:function(f,q){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;q.tagName&&(this.tagName=q.tagName,delete q.tagName);this.setDomElement(this.createOurDomElement(f));const y=this.getODS();y.left=y.top="0px";this.callSuper(f,q);this.__updateBounds(this.width,this.height)},createOurDomElement:function(f){f=
document.createElement(this.tagName??"div");f.style.position="absolute";let q;f.className=(q=this.klass).__cssClassName??(q.__cssClassName="myt-"+this.klass.__displayName.replaceAll(".","-"));return f},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(f){this.parent!==f&&(this.inited&&(b(this),a(this)),this.callSuper(f),this.align&&c(this),this.valign&&e(this))},getSubviews:function(){return this.subviews??
(this.subviews=[])},getSubviewsInLexicalOrder:function(){const f=[],q=this.getIDE().children,y=q.length;for(let r=0;r<y;){const D=q[r++].model;D?.parent===this&&f.push(D)}return f},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(f=>f!==this)},setFocusTrap:function(f){this.focusTrap=f},setFocusCage:function(f){this.focusCage=f},setMaskFocus:function(f){this.maskFocus=f},setLayoutHint:function(f){this.layoutHint=f},getLayouts:function(){return this.layouts??(this.layouts=
[])},getFirstLayout:function(){return this.getLayouts()[0]},setIgnoreLayout:function(f){if(this.ignoreLayout!==f){var q=this.inited&&this.parent;let y;if(f){if(q)for(q=this.parent.getLayouts(),y=q.length;y;)q[--y].removeSubview(this);this.ignoreLayout=f}else if(this.ignoreLayout=f,q)for(q=this.parent.getLayouts(),y=q.length;y;)q[--y].addSubview(this)}},setDomClass:function(f,q){this.domClass!==f&&(this.callSuper(f,q),this.inited&&this.fireEvent("domClass",f))},setDomId:function(f){this.domId!==f&&
(this.callSuper(f),this.inited&&this.fireEvent("domId",f))},setAlignOffset:function(f){this.alignOffset!==f&&(this.alignOffset=f,this.inited&&this.fireEvent("alignOffset",f),this.parent&&"left"===this.align&&this.setX(f))},setAlign:function(f){this.align!==f&&(this.inited&&b(this),this.align=f,this.inited&&(this.fireEvent("align",f),c(this)))},__doAlignCenter:function(f){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(f){this.setX(this.parent.width-this.width-
(this.alignOffset||0))},setValignOffset:function(f){this.valignOffset!==f&&(this.valignOffset=f,this.inited&&this.fireEvent("valignOffset",f),this.parent&&"top"===this.valign&&this.setY(f))},setValign:function(f){this.valign!==f&&(this.inited&&a(this),this.valign=f,this.inited&&(this.fireEvent("valign",f),e(this)))},__doValignMiddle:function(f){this.setY(v((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(f){this.setY(this.parent.height-this.height-(this.valignOffset||
0))},setX:function(f){this.x!==f&&(this.x=f,this.visible&&(this.getODS().left=f+"px"),this.inited&&this.fireEvent("x",f))},setY:function(f){this.y!==f&&(this.y=f,this.visible&&(this.getODS().top=f+"px"),this.inited&&this.fireEvent("y",f))},setWidth:function(f){0>f&&(f=0);this.width!==f&&(this.width=f,this.getODS().width=f+"px",this.inited&&(this.__updateBounds(f,this.height),this.fireEvent("width",f)))},setHeight:function(f){0>f&&(f=0);this.height!==f&&(this.height=f,this.getODS().height=f+"px",this.inited&&
(this.__updateBounds(this.width,f),this.fireEvent("height",f)))},setDomMinWidth:function(f,q){(q?this.getIDS():this.getODS()).minWidth=null!=f?f+"px":null},getDomMinWidth:function(f){f=(f?this.getIDS():this.getODS()).minWidth;return null!=f?Number.parseInt(f):null},setDomMinHeight:function(f,q){(q?this.getIDS():this.getODS()).minHeight=null!=f?f+"px":null},getDomMinHeight:function(f){f=(f?this.getIDS():this.getODS()).minHeight;return null!=f?Number.parseInt(f):null},setTextColor:function(f){this.textColor!==
f&&(this.textColor=f,this.getODS().color=f||"inherit",this.inited&&this.fireEvent("textColor",f))},setBgColor:function(f){this.bgColor!==f&&(this.getODS().backgroundColor=this.bgColor=f,this.inited&&this.fireEvent("bgColor",f))},isColorAttr:f=>"bgColor"===f||"textColor"===f,setOpacity:function(f){this.opacity!==f&&(this.getODS().opacity=this.opacity=f,this.inited&&this.fireEvent("opacity",f))},setOverflow:function(f){const q=this.overflow;if(q!==f){this.overflow=f;const y=this.getIDS();if("autox"===
f)y.overflowX="auto",y.overflowY="hidden";else if("autoy"===f)y.overflowY="auto",y.overflowX="hidden";else{if("autox"===q||"autoy"===q)y.overflowX=y.overflowY=null;y.overflow=f||"visible"}this.inited&&this.fireEvent("overflow",f)}},setVisible:function(f){if(this.visible!==f){this.visible=f;const q=this.getODS();q.visibility=f?"inherit":"hidden";q.left=f?this.x+"px":"-100000px";q.top=f?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",f)}},setPointerEvents:function(f){this.pointerEvents!==
f&&(this.pointerEvents=f,this.getODS().pointerEvents=f||"auto",this.inited&&this.fireEvent("pointerEvents",f))},setCursor:function(f){this.cursor!==f&&(this.cursor=f,this.getODS().cursor=f||"auto",this.inited&&this.fireEvent("cursor",f))},__updateBounds:function(f,q){this.boundsWidth!==f&&this.fireEvent("boundsWidth",this.boundsWidth=f);this.boundsHeight!==q&&this.fireEvent("boundsHeight",this.boundsHeight=q)},setOutline:function(f){const [q,y,r]=f??[];this.setOutlineWidth(q);this.setOutlineStyle(y);
this.setOutlineColor(r)},setOutlineWidth:function(f){this.getODS().outlineWidth=(this.outlineWidth=f||0)+"px"},setOutlineStyle:function(f){this.getODS().outlineStyle=this.outlineStyle=f||"none"},setOutlineColor:function(f){this.getODS().outlineColor=this.outlineColor=f||"#000"},setBorder:function(f){const [q,y,r]=f??[];this.setBorderWidth(q);this.setBorderStyle(y);this.setBorderColor(r)},setBorderWidth:function(f){this.getODS().borderWidth=(this.borderWidth=f||0)+"px"},setBorderStyle:function(f){this.getODS().borderStyle=
this.borderStyle=f||"none"},setBorderColor:function(f){this.getODS().borderColor=this.borderColor=f||"#000"},setRoundedCorners:function(f){this.getODS().borderRadius=f+"px"},setRoundedTopLeftCorner:function(f){this.getODS().borderTopLeftRadius=f+"px"},setRoundedTopRightCorner:function(f){this.getODS().borderTopRightRadius=f+"px"},setRoundedBottomLeftCorner:function(f){this.getODS().borderBottomLeftRadius=f+"px"},setRoundedBottomRightCorner:function(f){this.getODS().borderBottomRightRadius=f+"px"},
setBoxShadow:function(f){const [q,y,r,D]=f??[];this.getODS().boxShadow=f?(q||0)+"px "+(y||0)+"px "+(r||7)+"px "+(D||"#000"):"none"},setGradient:function(f){const q=this.getODS();if(f){let r=f[0];"linear"===r||"radial"===r?f.shift():r="linear";let D=f[0];if("radial"===r){void 0===D?D="closest-side":f.shift();var y=f[0];if(void 0===y)y="circle";else{switch(y){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",y),y="circle"}f.shift()}let w=f[0];void 0===w?w="center":
(w=w.replaceAll("middle","center"),f.shift());D=y+" "+D+" at "+w}else"number"===typeof D?(D+="deg",f.shift()):D?(D="to "+D,f.shift()):D="0deg";y=w=>{f.push(w&&"inherit"!==w?w:"transparent")};2>f.length&&y(this.textColor);2>f.length&&y(this.bgColor);q.background=r+"-gradient("+D+","+f.join(",")+")"}else q.background="none";this.bgColor=void 0},setTooltip:function(f){this.tooltip!==f&&(this.tooltip=this.getODE().title=f,this.inited&&this.fireEvent("tooltip",f))},isVisible:function(){return null==this.searchAncestorsOrSelf(f=>
!f.visible)},getFocusTrap:function(f){return this.searchAncestorsOrSelf(q=>q.focusCage||q.focusTrap&&!f)},subnodeAdded:function(f){f instanceof n.View?(this.getIDE().appendChild(f.getODE()),this.getSubviews().push(f),this.fireEvent("subviewAdded",f),this.subviewAdded!==u&&this.subviewAdded(f)):f instanceof n.Layout&&(this.getLayouts().push(f),this.fireEvent("layoutAdded",f),this.layoutAdded!==u&&this.layoutAdded(f))},subnodeRemoved:function(f){let q;f instanceof n.View?(q=this.getSubviewIndex(f),
-1<q&&(this.fireEvent("subviewRemoved",f),f.removeDomElement(),this.subviews.splice(q,1),this.subviewRemoved!==u&&this.subviewRemoved(f))):f instanceof n.Layout&&(q=this.getLayoutIndex(f),-1<q&&(this.fireEvent("layoutRemoved",f),this.layouts.splice(q,1),this.layoutRemoved!==u&&this.layoutRemoved(f)))},hasSubview:function(f){return this.getSubviews().includes(f)},getSubviewIndex:function(f){return this.getSubviews().indexOf(f)},subviewAdded:u,subviewRemoved:u,getNextSibling:function(){if(this.parent)return this.getODE().nextElementSibling?.model},
getPrevSibling:function(){if(this.parent)return this.getODE().previousElementSibling?.model},destroyAllSubviews:function(f){const q=this.getSubviews();for(let y=q.length;0<y;){const r=q[--y];f&&!f(r)||r.destroy()}},hasLayout:function(f){return this.getLayouts().includes(f)},getLayoutIndex:function(f){return this.getLayouts().indexOf(f)},layoutAdded:u,layoutRemoved:u,isBehind:function(f,q){return l(this,f,!1,q)},isInFrontOf:function(f,q){return l(this,f,!0,q)},bringToFront:function(){this.parent.bringSubviewToFront(this)},
sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(f,q){this.parent.sendSubviewBehind(this,f,q)},sendInFrontOf:function(f,q){this.parent.sendSubviewInFrontOf(this,f,q)},doSubviewsReorderedInDom:u,bringSubviewToFront:function(f){const q=this;if(f?.parent===q){const y=q.getIDE(),r=f.getODE();r!==y.lastElementChild&&k(f,()=>{y.appendChild(r);q.doSubviewsReorderedInDom!==u&&q.doSubviewsReorderedInDom(f)})}},sendSubviewToBack:function(f){const q=this;if(f?.parent===q){const y=
q.getIDE(),r=y.firstElementChild,D=f.getODE();D!==r&&k(f,()=>{y.insertBefore(D,r);q.doSubviewsReorderedInDom!==u&&q.doSubviewsReorderedInDom(f)})}},sendSubviewBehind:function(f,q,y){y?.moveSubviewBefore(f,q);const r=this;if(f?.parent===r&&q?.parent===r){const D=f.getODE(),w=q.getODE();if(D!==w.previousElementSibling){const E=r.getIDE();k(f,()=>{E.insertBefore(D,w);r.doSubviewsReorderedInDom!==u&&r.doSubviewsReorderedInDom(f)})}}y?.update()},sendSubviewInFrontOf:function(f,q,y){y?.moveSubviewAfter(f,
q);const r=this;if(f?.parent===r&&q?.parent===r){const D=f.getODE(),w=q.getODE().nextElementSibling;if(D!==w){const E=r.getIDE();k(f,()=>{E.insertBefore(D,w);r.doSubviewsReorderedInDom!==u&&r.doSubviewsReorderedInDom(f)})}}y?.update()},sortSubviews:function(f){const q=this,y=q.getSubviews();n.isSorted(y,f)||(y.sort(f),d(q,()=>{const r=document.createDocumentFragment(),D=y.length;for(let w=0;D>w;)r.appendChild(y[w++].getODE());q.getIDE().appendChild(r)},!0),q.doSubviewsReorderedInDom!==u&&q.doSubviewsReorderedInDom(null))},
containsPoint:function(f,q,y){const r=this.getODE();if(!r)return!1;const {x:D,y:w}=t.getRelativePosition(r,y);return g(f,q,D,w,this.width,this.height)},isPointVisible:function(f,q){const {x:y,y:r}=this.getPagePosition(!0);m(this);return h(this,f-y,q-r)},intersectsWithSibling:function(f){return f.parent===this.parent&&!(f.x>this.x+this.width||f.x+f.width<this.x||f.y>this.y+this.height||f.y+f.height<this.y)},getEffectiveScale:function(){return m(this)},getEffectiveScaleX:function(){return m(this).scaleX},
getEffectiveScaleY:function(){return m(this).scaleY}})})(myt);
(n=>{const v=(t,g,k)=>{const d=u(t,g);t.getODS().transform=d+(0===d.length?"":" ")+g+"("+k+")"},u=(t,g)=>{t=t.getODS();var k=t.transform;if(!k||0===k.length)return"";k=k.split(" ");let d=k.length;for(;d;)if(k[--d].startsWith(g)){k.splice(d,1);break}return t.transform=k.join(" ")};n.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(t){this.transformOrigin!==t&&(this.transformOrigin=t,this.getODS().transformOrigin=t||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",t)))},setRotation:function(t){this.rotation!==t&&(this.rotation=t,v(this,"rotate",(t||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",t)))},setScale:function(t){const g=this.scaleX!==t,k=this.scaleY!==t;if(g){var d=this.scaleX=t;null==d?u(this,"scaleX"):v(this,"scaleX",d||1)}k&&(d=this.scaleY=t,null==d?u(this,"scaleY"):v(this,"scaleY",d||1));this.inited&&((g||k)&&this.__updateBounds(this.width,this.height),
g&&this.fireEvent("scaleX",t),k&&this.fireEvent("scaleY",t))},setScaleX:function(t){if(this.scaleX!==t){var g=this.scaleX=t;null==g?u(this,"scaleX"):v(this,"scaleX",g||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",t))}},setScaleY:function(t){if(this.scaleY!==t){var g=this.scaleY=t;null==g?u(this,"scaleY"):v(this,"scaleY",g||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",t))}},setSkewX:function(t){this.skewX!==t&&(this.skewX=
t,v(this,"skewX",t||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",t)))},setSkewY:function(t){this.skewY!==t&&(this.skewY=t,v(this,"skewY",t||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",t)))},__updateBounds:function(t,g){const {rotation:k,scaleX:d,scaleY:l}=this,m=(null==d||1===d)&&(null==l||1===l);if(!m||null!=k&&0!==k&&180!==k)!m||90!==k&&270!==k?{width:t,height:g}=this.getODE().getBoundingClientRect():{width:g,height:t}=
this;this.callSuper(t,g)}})})(myt);
(n=>{const v=JS.Module,u=(d,l)=>{if("auto"===l)d.__hasSetWidth=!1,d.getODS().width="auto",d.sizeViewToDom();else return d.__hasSetWidth=!0},t=(d,l)=>{if("auto"===l)d.__hasSetHeight=!1,d.getODS().height="auto",d.sizeViewToDom();else return d.__hasSetHeight=!0},g=d=>{if(!d.__hasSetWidth){const l=d.getODE().offsetWidth/d.getEffectiveScaleX();d.width!==l&&(d.width=l,d.inited&&d.__updateBounds(l,d.height),d.fireEvent("width",l))}},k=d=>{if(!d.__hasSetHeight){const l=d.getODE().offsetHeight/d.getEffectiveScaleY();
d.height!==l&&(d.height=l,d.inited&&d.__updateBounds(d.width,l),d.fireEvent("height",l))}};n.SizeToDom=new v("SizeToDom",{extend:{sizeWidth:g,sizeHeight:k},initNode:function(d,l){this.callSuper(d,l);this.sizeViewToDom()},setWidth:function(d){u(this,d)&&this.callSuper(d)},setHeight:function(d){t(this,d)&&this.callSuper(d)},sizeViewToDom:function(){g(this);k(this)}});n.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(d,l){this.callSuper(d,l);this.sizeViewToDom()},setWidth:function(d){u(this,
d)&&this.callSuper(d)},sizeViewToDom:function(){g(this)}});n.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(d,l){this.callSuper(d,l);this.sizeViewToDom()},setHeight:function(d){t(this,d)&&this.callSuper(d)},sizeViewToDom:function(){k(this)}})})(myt);
(n=>{const v=JS.Module,u=(d,l,m,h)=>{d[m]!==l&&(d[m]=l,d.getIDS()[m]=l||h||"inherit",d.inited&&(d.fireEvent(m,l),d.sizeViewToDom?.()))};n.TextSupport=new v("TextSupport",{setWidth:function(d){this.callSuper(d);"auto"!==d&&(d=this.whiteSpace,"normal"!==d&&"pre-line"!==d&&"pre-wrap"!==d&&"break-spaces"!==d||this.sizeViewToDom())},setText:function(d){d||="";d=this.valueFromEvent(d);this.text!==d&&(this.getIDE().innerHTML=this.text=d,this.inited&&(this.fireEvent("text",d),this.sizeViewToDom()))},setTextOverflow:function(d){this.textOverflow!==
d&&(this.textOverflow=d,this.getIDS().textOverflow=d||"inherit",this.inited&&this.fireEvent("textOverflow",d))},setTextAlign:function(d){this.textAlign!==d&&(this.textAlign=d,this.getIDS().textAlign=d||"inherit",this.inited&&this.fireEvent("textAlign",d))},setWhiteSpace:function(d){u(this,d,"whiteSpace")},setWordWrap:function(d){u(this,d,"wordWrap","normal")},setWordBreak:function(d){u(this,d,"wordBreak","normal")},setTextIndent:function(d){u(this,d,"textIndent")},setTextTransform:function(d){u(this,
d,"textTransform")},setTextDecoration:function(d){u(this,d,"textDecoration")},setLineHeight:function(d){u(this,d,"lineHeight")},setLetterSpacing:function(d){u(this,d,"letterSpacing")},setWordSpacing:function(d){u(this,d,"wordSpacing")},setFontFamily:function(d){u(this,d,"fontFamily")},setFontStyle:function(d){u(this,d,"fontStyle")},setFontVariant:function(d){u(this,d,"fontVariant")},setFontWeight:function(d){u(this,d,"fontWeight")},setFontSize:function(d){u(this,d,"fontSize")},setUserUnselectable:function(d){this.userUnselectable!==
d&&(this.userUnselectable=d,this[d?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(d?"default":"text"),this.inited&&this.fireEvent("userUnselectable",d))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(d,l,m,h){this.getIDS().textShadow=(d||0)+"px "+(l||0)+"px "+(null!=m?m:2)+"px "+(h||"#000")},
hideTextShadow:function(){this.getIDS().textShadow="none"}});const t=(d,l,m)=>{const h="padding"+m;l=Math.max(l,0);d[h]!==l&&(d[h]=l,d.getIDS()[h]=l+"px",d.fireEvent(h,l),"Left"===m||"Right"===m?g(d):k(d))},g=d=>{d.__hasSetWidth&&(d.getODS().width=d.width-(d.paddingLeft||0)-(d.paddingRight||0)+"px",d.inited&&d.sizeViewToDom())},k=d=>{d.__hasSetHeight&&(d.getODS().height=d.height-(d.paddingTop||0)-(d.paddingBottom||0)+"px",d.inited&&d.sizeViewToDom())};n.PaddedTextSupport=new v("PaddedTextSupport",
{setWidth:function(d){this.callSuper(d);g(this)},setHeight:function(d){this.callSuper(d);k(this)},setPadding:function(d){let l,m,h;d||=0;"object"===typeof d?(l=d.top||0,m=d.right||0,h=d.bottom||0,d=d.left||0):l=m=h=d;this.setPaddingTop(l);this.setPaddingRight(m);this.setPaddingBottom(h);this.setPaddingLeft(d)},setPaddingTop:function(d){t(this,d,"Top")},setPaddingRight:function(d){t(this,d,"Right")},setPaddingBottom:function(d){t(this,d,"Bottom")},setPaddingLeft:function(d){t(this,d,"Left")}})})(myt);
(n=>{const v={},u={},t=g=>{const k=g.imageUrl;if(g.calculateNaturalSize&&k){var d=v[k];if(d)g.setNaturalWidth(d.width),g.setNaturalHeight(d.height);else{d=u[k];if(!d){u[k]=d=[];const l=new Image;l.onerror=m=>{if(m=u[k]){let h=m.length;for(;h;)m[--h].setImageLoadingError(!0);m.length=0;delete u[k]}};l.onload=()=>{const m=l.width,h=l.height,b=u[k];if(b){let c=b.length;for(;c;){const a=b[--c];a.imageUrl===k&&(a.setNaturalWidth(m),a.setNaturalHeight(h))}b.length=0;delete u[k]}v[k]={width:m,height:h}};
l.src=k}d.push(g)}}};n.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:g=>v[g]},initNode:function(g,k){k.imageRepeat??(k.imageRepeat="no-repeat");k.imageAttachment??(k.imageAttachment="scroll");this.callSuper(g,k)},setImageUrl:function(g){this.imageUrl!==g&&(this.imageUrl=g,this.getIDS().backgroundImage=g?'url("'+g+'")':"none",this.inited&&(this.fireEvent("imageUrl",g),this.setNaturalWidth(),this.setNaturalHeight(),!g&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
t(this))},setImageLoadingError:function(g){this.set("imageLoadingError",g,!0)},setImageSize:function(g){this.imageSize!==g&&(this.imageSize=g,this.getIDS().backgroundSize=g||"auto",this.inited&&this.fireEvent("imageSize",g))},setImageRepeat:function(g){this.imageRepeat!==g&&(this.getIDS().backgroundRepeat=this.imageRepeat=g,this.inited&&this.fireEvent("imageRepeat",g))},setImagePosition:function(g){this.imagePosition!==g&&(this.getIDS().backgroundPosition=this.imagePosition=g,this.inited&&this.fireEvent("imagePosition",
g))},setImageAttachment:function(g){this.imageAttachment!==g&&(this.getIDS().backgroundAttachment=this.imageAttachment=g,this.inited&&this.fireEvent("imageAttachment",g))},setCalculateNaturalSize:function(g){this.calculateNaturalSize!==g&&(this.calculateNaturalSize=g,this.inited&&this.fireEvent("calculateNaturalSize",g),t(this))},setNaturalWidth:function(g){this.naturalWidth!==g&&(this.naturalWidth=g,this.inited&&this.fireEvent("naturalWidth",g),this.useNaturalSize&&g&&this.setWidth(g))},setNaturalHeight:function(g){this.naturalHeight!==
g&&(this.naturalHeight=g,this.inited&&this.fireEvent("naturalHeight",g),this.useNaturalSize&&g&&this.setHeight(g))},setUseNaturalSize:function(g){this.useNaturalSize!==g&&(this.useNaturalSize=g,this.inited&&this.fireEvent("useNaturalSize",g),g&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),g&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(n=>{const v=JS.Class,{View:u,SizeToDom:t}=n;n.Flexbox=new v("Flexbox",u,{include:[n.FlexboxSupport]});n.Frame=new v("Frame",u,{initNode:function(g,k){k.tagName??(k.tagName="iframe");this.callSuper(g,k);g=n.global.mouse;this.attachToDom(g,"__doMouseDown","mousedown",!0);this.attachToDom(g,"__doMouseUp","mouseup",!0)},createOurDomElement:function(g){g=this.callSuper(g);(Array.isArray(g)?g[1]:g).style.border="0px";return g},setSrc:function(g){this.src!==g&&(this.src=this.getIDE().src=g,this.inited&&
this.fireEvent("src",g))},__doMouseDown:function(g){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(g){this.setPointerEvents(this.__restorePointerEvents);return!0}});n.Markup=new v("Markup",u,{include:[t],setHtml:function(g){this.html!==g&&(this.getIDE().innerHTML=this.html=g,this.inited&&(this.fireEvent("html",g),this.sizeViewToDom()))}});n.Text=new v("Text",u,{include:[t,n.TextSupport],initNode:function(g,k){k.whiteSpace??(k.whiteSpace=
"nowrap");k.userUnselectable??(k.userUnselectable=!0);this.callSuper(g,k)},measureNoWrapWidth:function(){const g=this.__hasSetWidth,k=this.width;if(!g&&"nowrap"===this.whiteSpace)return k;const d=this.getIDS(),l=d.whiteSpace;g&&(d.width="auto");d.whiteSpace="nowrap";const m=this.getODE().getBoundingClientRect().width;d.whiteSpace=l;g&&(d.width=k);return m}});n.PaddedText=new v("PaddedText",n.Text,{include:[n.PaddedTextSupport]});n.Image=new v("Image",u,{include:[n.ImageSupport],initNode:function(g,
k){k.useNaturalSize??(k.useNaturalSize=!0);this.callSuper(g,k)}});n.BackView=new v("BackView",u,{sendSubviewToBack:function(g){if(g.parent===this){const k=this.getIDE(),d=k.childNodes[1];g=g.getODE();g!==d&&(g=k.removeChild(g))&&k.insertBefore(g,d)}}})})(myt);
(n=>{const v=Math.round,u=d=>{d.parent&&0<=d.percentOfParentWidth&&d.syncTo(d.parent,"__doPOPW","width")},t=d=>{0<=d.percentOfParentWidth&&d.detachFrom(d.parent,"__doPOPW","width")},g=d=>{d.parent&&0<=d.percentOfParentHeight&&d.syncTo(d.parent,"__doPOPH","height")},k=d=>{0<=d.percentOfParentHeight&&d.detachFrom(d.parent,"__doPOPH","height")};n.SizeToParent=new JS.Module("SizeToParent",{setParent:function(d){this.parent!==d&&(this.inited&&(t(this),k(this)),this.callSuper(d),u(this),g(this))},setPercentOfParentWidthOffset:function(d){this.percentOfParentWidthOffset!==
d&&(this.percentOfParentWidthOffset=d,this.inited&&(this.fireEvent("percentOfParentWidthOffset",d),this.__doPOPW()))},setPercentOfParentWidth:function(d){this.percentOfParentWidth!==d&&(this.inited&&t(this),this.percentOfParentWidth=d,this.inited&&(this.fireEvent("percentOfParentWidth",d),u(this)))},setPercentOfParentHeightOffset:function(d){this.percentOfParentHeightOffset!==d&&(this.percentOfParentHeightOffset=d,this.inited&&(this.fireEvent("percentOfParentHeightOffset",d),this.__doPOPH()))},setPercentOfParentHeight:function(d){this.percentOfParentHeight!==
d&&(this.inited&&k(this),this.percentOfParentHeight=d,this.inited&&(this.fireEvent("percentOfParentHeight",d),g(this)))},__doPOPW:function(d){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(d){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(n=>{let v;const u=[];new JS.Singleton("GlobalRootViewRegistry",{include:[n.Observable],initialize:function(){n.global.register("roots",v=this)},getRoots:()=>u,addRoot:t=>{u.push(t);v.fireEvent("rootAdded",t)},removeRoot:t=>{const g=u.indexOf(t);-1<g&&(u.splice(g,1),v.fireEvent("rootRemoved",t))}})})(myt);
(n=>{const {addEventListener:v,removeEventListener:u,global:{roots:t}}=n,g=n.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:k=>{const d=k.getIDE();k=k.__captureDrop=l=>{l.preventDefault()};v(d,"drop",k);v(d,"dragover",k)},teardownCaptureDrop:k=>{const d=k.getIDE();k=k.__captureDrop;u(d,"drop",k);u(d,"dragover",k)}},initNode:function(k,d){this.callSuper(k,d);this.setZIndex(0);this.addDomClass("myt");t.addRoot(this);g.setupCaptureDrop(this)},createOurDomElement:function(k){k||(k=this.callSuper(k),
n.getElement().appendChild(k));return k},destroy:function(){g.teardownCaptureDrop(this);t.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(k){this.keepDomElementWhenDestroyed=k},setParent:n.NOOP,bringToFront:function(){var k=this.getIDE();const d=k.parentNode;k!==d.lastChild&&(k=d.removeChild(k))&&d.appendChild(k)},sendToBack:function(){var k=this.getIDE();const d=k.parentNode;k!==d.firstChild&&(k=d.removeChild(k))&&
d.insertBefore(k,d.firstChild)},sendBehind:function(k,d){d=this.getIDE();k=k.getIDE();const l=d.parentNode;k.parentNode===l&&(d=l.removeChild(d))&&l.insertBefore(d,k)},sendInFrontOf:function(k,d){k.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(k,d),k.sendBehind(this,d))}})})(myt);
(n=>{let v,u,t=!1;const {requestAnimationFrame:g,cancelAnimationFrame:k}=window,d={},l=h=>{v=g(l);h=Math.round(h);-1!==u&&(d.delta=h-u,d.time=h,m.fireEvent("idle",d));u=h},m=new JS.Singleton("GlobalIdle",{include:[n.Observable],initialize:function(){n.global.register("idle",this)},attachObserver:(h,b,c)=>{h=m.callSuper(h,b,c);!t&&m.hasObservers("idle")&&(t=!0,u=-1,v=g(l));return h},detachObserver:(h,b,c)=>{h=m.callSuper(h,b,c);t&&!m.hasObservers("idle")&&(k(v),t=!1);return h}})})(myt);
(n=>{let v,u,t,g,k;const d=n.global,l=d.idle,m=window.document.documentElement;new JS.Singleton("GlobalWindowResize",{include:[n.Observable,n.Observer],initialize:function(){v=this;v.attachTo(l,"__setup","idle");d.register("windowResize",v)},__setup:h=>{m&&(v.detachFrom(l,"__setup","idle"),(new ResizeObserver(()=>{v.fireEvent("resize",{w:u=m.clientWidth,h:t=m.clientHeight,sw:g=m.scrollWidth,sh:k=m.scrollHeight})})).observe(m))},getWidth:()=>u??=m.clientWidth,getHeight:()=>t??=m.clientHeight,getScrollWidth:()=>
g??=m.scrollWidth,getScrollHeight:()=>k??=m.scrollHeight})})(myt);
(n=>{const v=JS.Module,u=n.global.windowResize,t=Math.max,g=d=>{const l=d.resizeDimension;"both"!==l&&"width"!==l||d.setWidth(t(d.minWidth,u.getWidth()));"both"!==l&&"height"!==l||d.setHeight(t(d.minHeight,u.getHeight()))},k=n.SizeToWindow=new v("SizeToWindow",{include:[n.RootView],initNode:function(d,l){this.minWidth=this.minHeight=0;l.resizeDimension??(l.resizeDimension="both");this.attachTo(u,"__hndlResize","resize");this.callSuper(d,l)},setResizeDimension:function(d){this.resizeDimension!==d&&
(this.resizeDimension=d,g(this))},setMinWidth:function(d){this.minWidth!==d&&(this.minWidth=d,g(this))},setMinHeight:function(d){this.minHeight!==d&&(this.minHeight=d,g(this))},__hndlResize:function(d){g(this)}});n.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[k],initNode:function(d,l){l.resizeDimension??(l.resizeDimension="width");this.callSuper(d,l)}});n.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[k],initNode:function(d,l){l.resizeDimension??(l.resizeDimension="height");this.callSuper(d,
l)}})})(myt);
(n=>{const v=Math,{min:u,max:t}=v,g=a=>u(255,t(0,v.round(a))),k=a=>g(a).toString(16).padStart(2,"0"),d=(a,e,f,q)=>(q?"#":"")+k(a)+k(e)+k(f),l=a=>new c((16711680&a)>>16,(65280&a)>>8,255&a),m=(a,e)=>{if("string"===typeof a)if(a.endsWith("%"))a=parseFloat(a.slice(0,-1))*e/100;else return 0;a=u(e,t(0,a))/e;return 1E-6>v.abs(1-a)?1:a},h=(a,e,f)=>{a=m(a,255);e=m(e,255);f=m(f,255);const q=t(a,e,f),y=q-u(a,e,f);if(0===y)return{h:0,s:0,v:q};let r;switch(q){case a:r=(e-f)/y+(e<f?6:0);break;case e:r=(f-a)/y+
2;break;case f:r=(a-e)/y+4}return{h:60*r,s:0===q?0:y/q,v:q}},b=(a,e,f)=>{a=6*m(a,360);e=m(e,100);f=m(f,100);var q=v.floor(a);const y=a-q;a=f*(1-e);const r=f*(1-y*e);e=f*(1-(1-y)*e);q%=6;return{red:255*[f,r,a,a,e,f][q],green:255*[e,f,f,r,a,a][q],blue:255*[a,a,e,f,f,r][q]}},c=n.Color=new JS.Class("Color",{extend:{toUnitRange:m,rgbToHsv:h,hsvToRgb:b,toHex:k,rgbToHex:d,cleanChannelValue:g,getRedChannel:a=>(16711680&a)>>16,getGreenChannel:a=>(65280&a)>>8,getBlueChannel:a=>255&a,makeColorFromNumber:l,makeColorFromHexString:a=>
{if(a)switch(a.startsWith("#")&&(a=a.slice(1)),a.length){case 0:a+="0";case 1:a+="0";case 2:a+="0";case 3:case 4:case 5:const [e,f,q]=a;return new c(parseInt(e+e,16),parseInt(f+f,16),parseInt(q+q,16));case 6:return l(parseInt(a,16));default:return l(parseInt(a.slice(0,6),16))}},makeColorFromHSV:(a,e,f)=>{const {red:q,green:y,blue:r}=b(a,e,f);return new c(q,y,r)},getLighterColor:(a,e)=>l(a).isLighterThan(l(e))?a:e,makeColorNumberFromChannels:(a,e,f)=>(g(a)<<16)+(g(e)<<8)+g(f),makeBlendedColor:(a,e,
f)=>new c(a.red+f*(e.red-a.red),a.green+f*(e.green-a.green),a.blue+f*(e.blue-a.blue))},initialize:function(a,e,f){this.setRed(a);this.setGreen(e);this.setBlue(f)},setRed:function(a){this.red=g(a)},setGreen:function(a){this.green=g(a)},setBlue:function(a){this.blue=g(a)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return d(this.red,this.green,this.blue,!0)},getHSV:function(){return h(this.red,this.green,this.blue)},isLighterThan:function(a){a=
this.getDiffFrom(a);return 0>a.red+a.green+a.blue},getDiffFrom:function(a){return{red:a.red-this.red,green:a.green-this.green,blue:a.blue-this.blue}},applyDiff:function(a){return this.add(a)},add:function(a){this.setRed(this.red+a.red);this.setGreen(this.green+a.green);this.setBlue(this.blue+a.blue);return this},subtract:function(a){this.setRed(this.red-a.red);this.setGreen(this.green-a.green);this.setBlue(this.blue-a.blue);return this},multiply:function(a){this.setRed(this.red*a);this.setGreen(this.green*
a);this.setBlue(this.blue*a);return this},divide:function(a){this.setRed(this.red/a);this.setGreen(this.green/a);this.setBlue(this.blue/a);return this},clone:function(){return new c(this.red,this.green,this.blue)},equals:function(a){return a===this||a?.isA?.(c)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
(n=>{const {max:v,sin:u,cos:t,pow:g,sqrt:k,PI:d}=Math,l=2*d,m=d/2,h=n.global.idle,b=n.Color.makeColorFromHexString,c=(r,D)=>D*(1>(r*=2)?r*r/2:-(--r*(r-2)-1)/2),a={linear:r=>r,inQuad:r=>r*r,outQuad:r=>-r*(r-2),inOutQuad:r=>1>(r*=2)?r*r/2:-(--r*(r-2)-1)/2,inCubic:r=>r*r*r,outCubic:r=>--r*r*r+1,inOutCubic:r=>1>(r*=2)?r*r*r/2:((r-=2)*r*r+2)/2,inQuart:r=>r*r*r*r,outQuart:r=>-(--r*r*r*r-1),inOutQuart:r=>1>(r*=2)?r*r*r*r/2:-((r-=2)*r*r*r-2)/2,inQuint:r=>r*r*r*r*r,outQuint:r=>--r*r*r*r*r+1,inOutQuint:r=>
1>(r*=2)?r*r*r*r*r/2:((r-=2)*r*r*r*r+2)/2,inSine:r=>-t(r*m)+1,outSine:r=>u(r*m),inOutSine:r=>-(t(r*d)-1)/2,inCirc:r=>-(k(1-r*r)-1),outCirc:r=>k(1- --r*r),inOutCirc:r=>1>(r*=2)?-(k(1-r*r)-1)/2:(k(1-(r-=2)*r)+1)/2,inExpo:r=>0===r?0:g(2,10*(r-1)),outExpo:r=>1===r?1:-g(2,-10*r)+1,inOutExpo:r=>0===r||1===r?r:1>(r*=2)?g(2,10*(r-1))/2:(-g(2,-10*--r)+2)/2,inElastic:r=>0===r||1===r?r:-(g(2,10*--r)*u((1*r-.075)*l/.3)),outElastic:r=>0===r||1===r?r:g(2,-10*r)*u((1*r-.075)*l/.3)+1,inOutElastic:r=>0===r||1===r?
r:1>(r*=2)?-(g(2,10*--r)*u((1*r-.1125)*l/.45))/2:g(2,-10*--r)*u((1*r-.1125)*l/.45)/2+1,inBack:(r,D=1.70158)=>(r/=1)*r*((D+1)*r-D),outBack:(r,D=1.70158)=>(r=r/1-1)*r*((D+1)*r+D)+1,inOutBack:(r,D=1.70158)=>1>(r*=2)?r*r*(((D*=1.525)+1)*r-D)/2:((r-=2)*r*(((D*=1.525)+1)*r+D)+2)/2,inBounce:r=>1-a.outBounce(1-r),outBounce:r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,inOutBounce:r=>1>(r*=2)?a.inBounce(r)/2:(a.outBounce(r-
1)+1)/2,wiggle:r=>{r*=6;return 1>r?c(r-0,1):2>r?c(2-r,1):3>r?c(r-2,.5):4>r?c(4-r,.5):5>r?c(r-4,.25):c(6-r,.25)}},e=a.inOutQuad,f=r=>{r.__tmpFrom=!1;r.__loopCnt=r.reverse?r.repeat-1:0;r.__prog=r.reverse?r.duration:0},q=(r,D)=>{if(r.running&&!r.paused){const {reverse:G,duration:x,repeat:p,__prog:z,easingFunction:I,callback:Q}=r;D=z+(G?-D:D);let O=0;D>x?(O=++r.__loopCnt===p?0:D-x,D=x):0>D&&(O=0>--r.__loopCnt&&0<p?0:-D,D=0);var w=r.target??r.parent;if(w){const {relative:S,attribute:W,__isColorAnim:A,
__loopCnt:C,to:F}=r;var E=v(0,D/x),J=v(0,z/x);null==r.from&&(r.__tmpFrom=!0,r.from=S?A?"#000":0:w.get(W));J=I(E)-(S?I(J):0);var P=r.from,B=S?w.get(W):P;E=w.set;if(A){P=b(P);const L=b(F);B=S?b(B):P;B.setRed(B.red+(L.red-P.red)*J);B.setGreen(B.green+(L.green-P.green)*J);B.setBlue(B.blue+(L.blue-P.blue)*J);J=B.getHtmlHexString()}else J=B+(F-P)*J;E.call(w,W,J);!G&&C===p||G&&0>C&&0<p?(r.setRunning(!1),Q?.call(r,!0)):0<O?(r.fireEvent("repeat",C),r.__prog=G?x:0,q(r,O)):r.__prog=D}else console.log("No target for animator",
r),r.setRunning(!1),Q?.call(r,!1)}},y=(r,D,w,E)=>{r.stopActiveAnimators(E,!0);const J=r[E];r.animate({attribute:E,from:J,to:J+D,duration:w,easingFunction:"wiggle"}).next(()=>{r.set(E,J)})};n.Animator=new JS.Class("Animator",n.Node,{include:[n.Reusable],extend:{easings:a,bounceView:(r,D=-6,w=900)=>{y(r,D,w,"y")},shakeView:(r,D=10,w=300)=>{y(r,D,w,"x")},wiggleView:y},initNode:function(r,D){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=e;this.callSuper(r,
D);f(this)},setRunning:function(r){if(this.running!==r&&(this.running=r,this.inited&&this.fireEvent("running",r),!this.paused)){if(r){const D=this.target??this.parent;this.__isColorAnim=D&&"function"===typeof D.isColorAttr?D.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),f(this);this[r?"attachTo":"detachFrom"](h,"__updateAnim","idle")}},setPaused:function(r){if(this.paused!==r&&(this.paused=r,this.inited&&this.fireEvent("paused",r),this.running))this[r?"detachFrom":"attachTo"](h,
"__updateAnim","idle")},setReverse:function(r){this.set("reverse",r,!0);this.inited&&!this.running&&f(this)},setRepeat:function(r){this.set("repeat",r,!0);this.inited&&!this.running&&f(this)},setDuration:function(r){this.set("duration",r,!0);this.inited&&!this.running&&f(this)},setEasingFunction:function(r){"string"===typeof r&&(r=a[r]);this.set("easingFunction",r??e,!0)},setFrom:function(r){this.set("from",r,!0)},setTo:function(r){this.set("to",r,!0)},setCallback:function(r){this.callback=r},next:function(r,
D){const w=this,E=w.callback;E&&!D?w.setCallback(J=>{E.call(w,J);r.call(w,J)}):w.setCallback(r)},reset:function(r){f(this);this.setRunning(!1);this.setPaused(!1);r&&this.callback?.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=1;this.easingFunction=e;this.reset(!1)},__updateAnim:function(r){q(this,r.value.delta)}})})(myt);
(n=>{const v=Array.isArray,u=n.NOOP,t=d=>{d.__additionalArgs=[];d.__pendingTransition="";d.__transDestinationState="";d.__transStage="leaveState"},g=(d,l)=>{if(d.__transInProgress){var m=d.__deferredTransitions;m??=d.__deferredTransitions=[];m.unshift(l)}else{d.__transInProgress=!0;m=l.shift();const h=l.shift();if(d.__pendingTransition)return 3;if(d.isFinished())return d.__transInProgress=!1,5;let b=d.map[d.current][h];b??=d.map["*"][h];if(b)return d.__pendingTransition=h,d.__transDestinationState=
b,d.__additionalArgs=l,d.resumeTransition(m);d.__transInProgress=!1;return 5}},k=d=>{d.__transInProgress=!1;const l=d.__deferredTransitions;if(l)for(;0<l.length;)g(d,l.pop())};n.StateMachine=new JS.Class("StateMachine",n.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(d,l){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";t(this);this.callSuper(d,l)},setInitialState:function(d){if(""===this.current){if(v(d)){var l=d;d=l.shift()}else l=
[];this.current=this.initial=d;this.doEnterState("","",d,l);l={name:"",from:"",to:d,args:l};this.fireEvent("enter"+d,l);this.fireEvent("enter",l);this.isFinished()&&this.fireEvent("finished",l)}},setTerminalState:function(d){this.terminal=d},addTransitions:function(d){for(const l of d)this.addTransition(...l)},addTransition:function(d,l,m){l=l?v(l)?l:[l]:["*"];const h=this.map;let b=l.length;for(;b;){let c,a;((c=h)[a=l[--b]]??(c[a]={}))[d]=m}},doTransition:function(...d){d.unshift("sync");return g(this,
d)},doAsyncTransition:function(...d){d.unshift("async");return g(this,d)},resumeTransition:function(d){const l=this.__pendingTransition;if(!l)return 4;const m=this.current,h=this.__transDestinationState,b=this.__additionalArgs,c={name:l,from:m,to:h,args:b},a=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const e=this.doLeaveState(l,m,h,b);if(!1===e)return t(this),k(this),2;if("async"===e||"async"===d)return this.__transStage="enterState",a("start"+l,c),a("start",c),a("leave"+
m,c),a("leave",c),k(this),3;a("start"+l,c);a("start",c);a("leave"+m,c);a("leave",c);case "enterState":this.current=h,t(this),this.doEnterState(l,m,h,b),a("enter"+h,c),a("enter",c),a("end"+l,c),a("end",c),this.isFinished()&&a("finished",c)}k(this);return 1},doLeaveState:u,doEnterState:u,isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(d){return v(d)?d.includes(this.current):this.current===d},can:function(d){return void 0!==this.map[this.current][d]?
!0:void 0!==this.map["*"][d]}})})(myt);
(n=>{const v=(k,d)=>k.replicationIndex-d.replicationIndex,u=(k,d)=>{let l=k.length;for(;l;){const m=k[--l];m.decrementLockedCounter();d&&m.update()}},t=k=>{g(k);const d=k.template;d&&(k.__pool=new n.TrackActivesPool(d,k.parent))},g=k=>{const d=k.__pool;if(d){k=k.parent.getLayouts();let l=k.length;for(;l;)k[--l].incrementLockedCounter();d.putActives();d.destroyPooledInstances();u(k,!1);d.destroy()}};n.Replicable=new JS.Module("Replicable",{include:[n.Reusable],replicate:function(k,d){this.replicationData=
k;this.replicationIndex=d},notify:n.NOOP,clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(k,d){return d===this.replicationIndex&&k===this.replicationData}});n.Replicator=new JS.Class("Replicator",n.Node,{initNode:function(k,d){this.callSuper(k,d);t(this);this.doReplication()},destroy:function(){g(this);this.callSuper()},setTemplate:function(k){(this.template=k.includes(n.Replicable)?k:null)||n.dumpStack("Template not replicable");this.inited&&
(t(this),this.doReplication())},setData:function(k){this.data=k;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const k=this.__pool;let d;if(k){d=this.parent.getLayouts();for(var l=d.length;l;)d[--l].incrementLockedCounter();const m=(l=this.data)?l.length:0,h=k.getActives(),b=h.length,c=[];let a=b,e,f;for(h.sort(v);a;)if(e=h[--a],f=e.replicationIndex,f>=m||!e.alreadyHasReplicationData(l[f],f))c[f]=e;for(a=c.length;a;)(e=c[--a])&&
k.putInstance(e);for(a=0;m>a;++a)(a>=b||null!=c[a])&&k.getInstance().replicate(l[a],a);for(a=d.length;a;)d[--a].sortSubviews(v);u(d,!0)}},notify:function(k,d){var l=this.__pool;if(l){l=l.getActives();let m=l.length;for(;m;)l[--m].notify(k,d)}}})})(myt);
(n=>{const v=JS.Singleton,u=document,{DomElementProxy:t,DomObservable:g,global:{register:k}}=n;new v("GlobalMouse",{include:[t,g,n.MouseObservable],initialize:function(){this.setDomElement(u);k("mouse",this)}});new v("GlobalTouch",{include:[t,g,n.TouchObservable],initialize:function(){this.setDomElement(u);k("touch",this)}})})(myt);
(n=>{let v,u,t;const g=[],k=[],d=h=>{const b=t;b!==h&&(b&&(b.notifyDragLeave(u),u.destroyed||u.notifyDragLeaving(b),v("dragLeave",b)),t=h)&&(h.notifyDragEnter(u),u.destroyed||u.notifyDragEntering(h),v("dragEnter",b))},l=h=>{let b=u;if(b!==h)if(u=h){b=h;for(const c of m(b,k))c.notifyDragStart(b);for(const c of m(b,g))c.notifyAutoScrollerDragStart(b);v("startDrag",h)}else{for(const c of m(b,k))c.notifyDragStop(b);for(const c of m(b,g))c.notifyAutoScrollerDragStop(b);v("stopDrag",h)}},m=(h,b)=>{if(h.destroyed)return[];
if(h.isAnyDragGroup())return b;const c=[];h=h.getDragGroups();let a=b.length;for(;a;){const e=b[--a];if(e.isAnyDropGroup())c.push(e);else{const f=e.getDropGroups();for(const q in h)if(f[q]){c.push(e);break}}}return c};new JS.Singleton("GlobalDragManager",{include:[n.Observable],initialize:function(){n.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>u,registerAutoScroller:h=>{g.push(h)},unregisterAutoScroller:h=>{h=g.indexOf(h);-1<h&&g.splice(h,1)},registerDropTarget:h=>
{k.push(h)},unregisterDropTarget:h=>{h=k.indexOf(h);-1<h&&k.splice(h,1)},startDrag:h=>{l(h)},stopDrag:(h,b,c)=>{b.notifyDropped(t,c);c||t?.notifyDrop(b);d();l();t&&!c&&v("drop",[b,t])},updateDrag:(h,b)=>{const c=m(b,k);let a=c.length,e;if(0<a){const {pageX:f,pageY:q}=h.value;for(;a;)h=c[--a],h.willAcceptDrop(b)&&b.willPermitDrop(h)&&h.isPointVisible(f,q)&&(!e||h.isInFrontOf(e))&&(e=h)}d(e)}})})(myt);
(n=>{const v=JS.Module,u=n.NOOP,{mouse:t,keys:g,idle:k}=n.global;n.Activateable=new v("Activateable",{doActivated:u});n.UpdateableUI=new v("UpdateableUI",{initNode:function(d,l){this.callSuper(d,l);this.updateUI()},updateUI:u});n.Disableable=new v("Disableable",{initNode:function(d,l){l.disabled??(l.disabled=!1);this.callSuper(d,l)},setDisabled:function(d){d=this.valueFromEvent(d);this.disabled!==d&&(this.disabled=d,this.inited&&this.fireEvent("disabled",d),this.doDisabled())},doDisabled:function(){this.inited&&
(this.disabled&&this.giveAwayFocus?.(),this.updateUI?.())}});n.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[g.CODE_ENTER,g.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(d,l){this.activateKeyDown="";l.activationKeys??(l.activationKeys=n.KeyActivation.ACTIVATION_KEYS);this.callSuper(d,l);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(d){this.activationKeys=
d??[]},setRepeatKeyDown:function(d){this.repeatKeyDown=d},__hndlKeyDown:function(d){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const l=n.KeyObservable.getCodeFromEvent(d);this.activationKeys.includes(l)&&(this.activateKeyDown===l?this.doActivationKeyDown(l,!0):(this.activateKeyDown=l,this.doActivationKeyDown(l,!1)),d.value.preventDefault())}},__hndlKeyPress:function(d){if(!this.disabled){const l=n.KeyObservable.getCodeFromEvent(d);this.activateKeyDown===l&&this.activationKeys.includes(l)&&
d.value.preventDefault()}},__hndlKeyUp:function(d){if(!this.disabled){const l=n.KeyObservable.getCodeFromEvent(d);this.activateKeyDown===l&&this.activationKeys.includes(l)&&(this.activateKeyDown="",this.doActivationKeyUp(l),d.value.preventDefault())}},__doDomBlur:function(d){this.disabled||(d=this.activateKeyDown,""!==d&&(this.activateKeyDown="",this.doActivationKeyAborted(d)))},doActivationKeyDown:u,doActivationKeyUp:function(d){this.doActivated()},doActivationKeyAborted:u});n.ArrowKeyActivation=
new v("KeyActivation",{doActivationKeyDown:function(d,l){switch(d){case g.CODE_ARROW_LEFT:if(this.doKeyArrowLeftOrUp(!0,l))return;break;case g.CODE_ARROW_UP:if(this.doKeyArrowLeftOrUp(!1,l))return;break;case g.CODE_ARROW_RIGHT:if(this.doKeyArrowRightOrDown(!0,l))return;break;case g.CODE_ARROW_DOWN:if(this.doKeyArrowRightOrDown(!1,l))return}this.callSuper(d,l)},doKeyArrowLeftOrUp:u,doKeyArrowRightOrDown:u});n.MouseOver=new v("MouseOver",{initNode:function(d,l){l.mouseOver??(l.mouseOver=!1);this.callSuper(d,
l);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(d){this.mouseOver!==d&&(this.mouseOver=d,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(k,"__doMouseOverOnIdle","idle")))},setDisabled:function(d){this.callSuper(d);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(k,"__doMouseOverOnIdle",
"idle");this.__attachedToOverIdle=!1;const d=this.mouseOver;this.__lastOverIdleValue!==d&&(this.__lastOverIdleValue=d,this.doSmoothMouseOver(d))},doSmoothMouseOver:function(d){this.inited&&this.updateUI?.()},doMouseOver:function(d){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(d){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});n.MouseDown=new v("MouseDown",{initNode:function(d,l){l.mouseDown??(l.mouseDown=!1);this.callSuper(d,l);this.attachToDom(this,
"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(d){this.mouseDown!==d&&(this.mouseDown=d,this.inited&&(d&&this.isFocusable()&&this.focus(!0),this.updateUI?.()))},setDisabled:function(d){d&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(d)},doMouseOver:function(d){this.callSuper(d);this.mouseDown&&this.detachFromDom(t,"doMouseUp","mouseup",!0)},doMouseOut:function(d){this.callSuper(d);!this.disabled&&this.mouseDown&&this.attachToDom(t,"doMouseUp",
"mouseup",!0)},doMouseDown:function(d){this.disabled?this.doMouseDownWhenDisabled():this.setMouseDown(!0)},doMouseDownWhenDisabled:u,doMouseUp:function(d){this.mouseOver||this.detachFromDom(t,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(d))},doMouseUpInside:function(d){this.doActivated?.()}});n.MouseOverAndDown=new v("MouseOverAndDown",{include:[n.MouseOver,n.MouseDown]});n.MouseEventsBubbleUp=new v("MouseEventsBubbleUp",{doMouseOver:function(d){this.callSuper(d);
return!0},doMouseOut:function(d){this.callSuper(d);return!0},doMouseDown:function(d){this.callSuper(d);return!0},doMouseUp:function(d){this.callSuper(d);return!0}});n.Draggable=new v("Draggable",{initNode:function(d,l){this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;let m=!0;null!=l.isDraggable&&(m=l.isDraggable,delete l.isDraggable);this.callSuper(d,l);this.setIsDraggable(m)},setIsDraggable:function(d){if(this.isDraggable!==
d){this.isDraggable=d;let l;d?l=this.attachToDom:this.inited&&(l=this.detachFromDom);if(l){d=this.getDragViews();let m=d.length;for(;m;){const h=d[--m];l.call(this,h,"__doMouseDown","mousedown");l.call(this,h,"__doContextMenu","contextmenu")}}}},setIsDragging:function(d){this.set("isDragging",d,!0)},setDragOffsetX:function(d,l){this.dragOffsetX!==d&&(this.dragOffsetX=d,this.inited&&this.isDragging&&!l&&this.reRequestDragPosition())},setDragOffsetY:function(d,l){this.dragOffsetY!==d&&(this.dragOffsetY=
d,this.inited&&this.isDragging&&!l&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(d){this.distanceBeforeDrag=d},setDraggableAllowBubble:function(d){this.draggableAllowBubble=d},setCenterOnMouse:function(d){this.centerOnMouse=d},setAllowAbort:function(d){this.allowAbort=d},getDragViews:function(){return[this]},__doContextMenu:u,__doMouseDown:function(d){const l=n.MouseObservable.getMouseFromEvent(d),m=this.getODE();this.dragInitX=l.x-m.offsetLeft;this.dragInitY=l.y-m.offsetTop;this.attachToDom(t,
"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(t,"__doDragCheck","mousemove",!0):this.startDrag(d);d.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(d){this.isDragging?this.stopDrag(d,!1):(this.detachFromDom(t,"__doMouseUp","mouseup",!0),this.detachFromDom(t,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(d){d.value===g.CODE_ESC&&this.stopDrag(d,!0)},__doDragCheck:function(d){const l=n.MouseObservable.getMouseFromEvent(d);
n.Geometry.measureDistance(l.x,l.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(t,"__doDragCheck","mousemove",!0),this.startDrag(d))},startDrag:function(d){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(g,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(t,"updateDrag","mousemove",!0);this.updateDrag(d)},updateDrag:function(d){this.__lastMousePosition=
n.MouseObservable.getMouseFromEvent(d);this.reRequestDragPosition()},__updateDragInitX:function(d){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(d){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(d,l){this.detachFromDom(t,"__doMouseUp","mouseup",!0);this.detachFromDom(t,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(g,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(d,l){this.disabled||(this.setX(d),this.setY(l))},reRequestDragPosition:function(){const d=this.__lastMousePosition;this.requestDragPosition(d.x-this.dragInitX+this.dragOffsetX,d.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(n=>{const {Class:v,Module:u}=JS,{NOOP:t,View:g,KeyActivation:k,theme:d}=n;var l=n.Button=new u("Button",{include:[n.Activateable,n.UpdateableUI,n.Disableable,n.MouseOverAndDown,k],initNode:function(h,b){b.focusable??(b.focusable=!0);b.cursor??(b.cursor="pointer");this.callSuper(h,b)},setFocused:function(h){const b=this.focused;this.callSuper(h);this.inited&&this.focused!==b&&this.updateUI()},doActivationKeyDown:function(h,b){b||this.updateUI()},doActivationKeyUp:function(h){this.callSuper(h);this.updateUI()},
doActivationKeyAborted:function(h){this.callSuper(h);this.updateUI()},updateUI:function(){if(this.disabled)this.__restoreCursor??(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const h=this.__restoreCursor;h&&(this.setCursor(h),this.__restoreCursor=null);this.activateKeyDown!==k.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},
drawHoverState:t,drawActiveState:t,drawReadyState:t,drawDisabledState:t,showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});l=n.SimpleButtonStyle=new u("SimpleButtonStyle",{include:[l],setActiveColor:function(h){this.activeColor!==h&&(this.activeColor=h,this.inited&&this.updateUI())},setHoverColor:function(h){this.hoverColor!==h&&(this.hoverColor=h,this.inited&&this.updateUI())},setReadyColor:function(h){this.readyColor!==
h&&(this.readyColor=h,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,d.disabledOpacity)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(h,b=1){this.setOpacity(b);this.setBgColor(h)}});const m=n.SimpleButton=new v("SimpleButton",g,{include:[l],initNode:function(h,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(h,
b)}});n.SimpleTextButton=new v("SimpleTextButton",m,{initNode:function(h,b){this.inset=this.outset=0;b.shrinkToFit??(b.shrinkToFit=!1);b.height??(b.height=24);b.textY??(b.textY="middle");this.callSuper(h,b);h=this.textY;b={whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof h?b.valign=h:b.y=h;h=this.textView=new n.Text(this,b);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",h,"visible",h,"width",
h,"height",h,"y"])},setInset:function(h){this.set("inset",this.valueFromEvent(h),!0)},setOutset:function(h){this.set("outset",this.valueFromEvent(h),!0)},setText:function(h){this.text!==h&&(this.text=h,this.inited&&(this.textView.setText(h),this.fireEvent("text",h)))},setShrinkToFit:function(h){this.shrinkToFit!==h&&(this.shrinkToFit=h,this.inited&&(this.textView.setWhiteSpace(h?"nowrap":"normal"),this.fireEvent("shrinkToFit",h)))},setTextY:function(h){if(this.textY!==h&&(this.textY=h,this.inited)){const b=
this.textView;this.fireEvent("textY",h);"string"===typeof h?b.setValign(h):(b.setValign(""),b.setY(h))}},__updateContent:function(h){if(!this.__updateContentLoopBlock&&!this.destroyed){const {inset:b,outset:c,textView:a}=this;this.__updateContentLoopBlock=!0;a.setX(b);this.shrinkToFit?this.setWidth(b+(a.visible&&this.text?a.width:0)+c):a.setWidth(this.width-b-c);this.__updateContentLoopBlock=!1}}});n.TextButton=new v("TextButton",n.PaddedText,{include:[l],initNode:function(h,b){b.focusIndicator??
(b.focusIndicator=!1);b.roundedCorners??(b.roundedCorners=3);b.textAlign??(b.textAlign="center");b.paddingTop??(b.paddingTop=1);b.height??(b.height=23-(b.paddingTop??0));b.activeColor??(b.activeColor=d.TextButtonActive);b.hoverColor??(b.hoverColor=d.TextButtonHover);b.readyColor??(b.readyColor=d.TextButtonReady);this.callSuper(h,b)}})})(myt);
(n=>{const v=console.warn,{focus:u,mouse:t,windowResize:g}=n.global,k={},d=(l,m,h)=>{var b="x"===h;const c=b?"width":"height",a=l[c];var e=b?"A":"Va";const f=m["getFloating"+e+"lignForPanel"](l);l=m["getFloating"+e+"lignOffsetForPanel"](l);e=typeof f;let q;if("string"===e){q=m.getPagePosition()[h]+l;switch(f){case "outsideBottom":case "outsideRight":q+=m[c];break;case "insideBottom":case "insideRight":q+=m[c]-a;break;case "outsideTop":case "outsideLeft":q-=a;break;case "insideTop":case "insideLeft":break;
default:v("Invalid value",e,f)}m.keepInWindow&&(m=m.keepInWindowBorder||0,q<m?q=m:(b=g["getScroll"+(b?"Width":"Height")]()-m-a,q>b&&(q=b)))}else"number"===e?q=f:v("Invalid type",e,f);return q};n.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:l=>k[l]},initNode:function(l,m){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.keepInWindow=!1;this.floatingAlignOffset=this.floatingValignOffset=this.keepInWindowBorder=0;this.callSuper(l,m)},setLastFloatingPanelShown:function(l){this.lastFloatingPanelShown=
l},setLastFloatingPanelId:function(l){this.floatingPanelId=l},setFloatingAlign:function(l){this.set("floatingAlign",l,!0)},setFloatingValign:function(l){this.set("floatingValign",l,!0)},setFloatingAlignOffset:function(l){this.set("floatingAlignOffset",l,!0)},setFloatingValignOffset:function(l){this.set("floatingValignOffset",l,!0)},setKeepInWindow:function(l){this.set("keepInWindow",l,!0)},setKeepInWindowBorder:function(l){this.set("keepInWindowBorder",l,!0)},createFloatingPanel:function(l,m,h){l=
l??this.floatingPanelId;h=h??{};h.panelId=l;return k[l]=new m(null,h)},getFloatingPanel:function(l){return k[l??this.floatingPanelId]},toggleFloatingPanel:function(l){this.getFloatingPanel(l??=this.floatingPanelId)?.isShown()?this.hideFloatingPanel(l):this.showFloatingPanel(l)},showFloatingPanel:function(l){if(l=this.getFloatingPanel(l??this.floatingPanelId))l.show(this),this.setLastFloatingPanelShown(l)},hideFloatingPanel:function(l){if(l=this.getFloatingPanel(l??this.floatingPanelId))l.hide(),this.setLastFloatingPanelShown()},
notifyPanelShown:function(l){this.callSuper?.()},notifyPanelHidden:function(l){this.callSuper?.()},getFloatingAlignForPanel:function(l){return this.floatingAlign},getFloatingValignForPanel:function(l){return this.floatingValign},getFloatingAlignOffsetForPanel:function(l){return this.floatingAlignOffset},getFloatingValignOffsetForPanel:function(l){return this.floatingValignOffset},getNextFocus:function(){const l=this.lastFloatingPanelShown;return l?.isShown()?l:this.callSuper?.()},getNextFocusAfterPanel:function(l){return this},
getPrevFocusAfterPanel:function(l){return this}});n.FloatingPanel=new JS.Class("FloatingPanel",n.View,{include:[n.RootView],initNode:function(l,m){this.ignoreOwnerForHideOnMouseDown=this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;m.visible=m.focusIndicator=!1;m.focusable=m.focusCage=!0;this.callSuper(l,m)},setOwner:function(l){this.owner=l},setPanelId:function(l){this.panelId=l},setIgnoreOwnerForHideOnMouseDown:function(l){this.ignoreOwnerForHideOnMouseDown=l},setHideOnBlur:function(l){this.hideOnBlur=
l},setHideOnMouseDown:function(l){this.hideOnMouseDown=l},setWidth:function(l){const m=this.width;this.callSuper(l);this.isShown()&&m!==this.width&&this.owner?.keepInWindow&&this.updateLocationX(this.owner)},setHeight:function(l){const m=this.height;this.callSuper(l);this.isShown()&&m!==this.height&&this.owner?.keepInWindow&&this.updateLocationY(this.owner)},__doMouseDown:function(l){var m=l.value;l=m.pageX;m=m.pageY;this.containsPoint(l,m)||this.ignoreOwnerForHideOnMouseDown&&this.owner.containsPoint(l,
m)||this.doMouseDownOutside(!0);return!0},doMouseDownOutside:function(l){this.hideOnMouseDown&&this.hide(l)},focus:function(l){if(this.owner&&this.isAncestorOf(u.focusedView))this.owner[(u.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(l);else{const m=this.getFirstFocusableDescendant();m===this?this.callSuper(l):m.focus(l)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(l){(l=l.value)&&!this.isAncestorOf(l)&&this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||
this.ignoreOwnerForHideOnBlur&&u.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(l){this.isShown()||(this.bringToFront(),this.updateLocation(l),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(t,"__doMouseDown","mousedown",!0),this.attachTo(u,"__doFocusChange","focused"))},hide:function(l){this.isShown()&&(this.detachFromDom(t,"__doMouseDown","mousedown",!0),this.detachFrom(u,"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),
l||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner?.focus()},updateLocation:function(l){this.setOwner(l);this.updateLocationX(l);this.updateLocationY(l)},updateLocationX:function(l){this.setX(d(this,l,"x"))},updateLocationY:function(l){this.setY(d(this,l,"y"))}})})(myt);
(n=>{const {Class:v,Module:u}=JS,t=Math,{View:g,global:k}=n,d=k.focus,l=k.keys,{LIST_KEYS:m,CODE_ESC:h}=l,b=a=>{const e=a.itemConfig??[],f=e.length,{items:q,defaultItemClass:y,fixedWidth:r}=a,D=q.length,w=0<r,E=a.getContentView(),J=E.getLayouts();let P=0;for(var B of J)B.incrementLockedCounter();g.doWhileRemovedFromDom(E,()=>{const G={listView:a};w&&(G.width=r,G.enableEllipsis=!0);for(;f>P;++P){const x=e[P];let p=q[P],z,I;x&&(z=x.klass??y,I=x.attrs??{});p&&!p.isA(z)&&(p.destroy(),p=null);z&&(p??=
q[P]=new z(E,{...G}),p&&(p.disabled&&null==I.disabled&&p.setDisabled(!1),p.callSetters(I),p.__LAYOUT_IDX=P))}});if(w)B=r;else for(B=a.minWidth,P=0;f>P;){const G=q[P++];G&&(G.syncToDom(),B=t.max(B,G.getMinimumWidth()))}for(;D>P;)q[P++].destroy();q.length=f;if(!w)for(P=0;f>P;)a.updateItemWidth(q[P++],B);a.updateContentWidth(E,B);for(const G of J)G.sortSubviews((x,p)=>x.__LAYOUT_IDX-p.__LAYOUT_IDX),G.decrementLockedCounter(),G.update()},c=n.ListViewItemMixin=new u("ListViewItemMixin",{setListView:function(a){this.listView=
a},getMinimumWidth:()=>0,syncToDom:n.NOOP});n.ListView=new v("ListView",n.FloatingPanel,{initNode:function(a,e){this.items=[];this.maxHeight=-1;this.minWidth=0;e.defaultItemClass??(e.defaultItemClass=n.ListViewItem);e.overflow??(e.overflow="autoy");e.bgColor??(e.bgColor="#ccc");e.boxShadow??(e.boxShadow=n.theme.focusShadow);this.callSuper(a,e);b(this);this.buildLayout(this.getContentView())},buildLayout:a=>{new n.SpacedLayout(a,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(a){this.minWidth=
a},setDefaultItemClass:function(a){this.defaultItemClass=a},setItemConfig:function(a){this.itemConfig=a;this.inited&&b(this)},getContentView:function(){return this},setMaxHeight:function(a){this.maxHeight!==a&&(this.maxHeight=a,this.inited&&(this.fireEvent("maxHeight",a),this.setHeight(this.height)))},setHeight:function(a){this.callSuper(0<=this.maxHeight?t.min(this.maxHeight,a):a);this.inited&&this.owner&&this.updateLocationY(this.owner)},doItemActivated:function(a){this?.owner.doItemActivated(a)},
getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()??this.callSuper()},getFirstFocusableItem:function(){return this.items.find(a=>a.isFocusable())},getLastFocusableItem:function(){return this.items.findLast(a=>a.isFocusable())},focusToLastItem:function(){this.getLastFocusableItem()?.focus()},focusToFirstItem:function(){this.getFirstFocusableItem()?.focus()},updateItemWidth:(a,e)=>{a?.setWidth(e)},updateContentWidth:(a,e)=>{a.setWidth(e)}});n.ListViewAnchor=new u("ListViewAnchor",
{include:[n.FloatingPanelAnchor,n.ArrowKeyActivation],initNode:function(a,e){e.listViewClass??(e.listViewClass=n.ListView);e.listViewAttrs??(e.listViewAttrs={});e.itemConfig??(e.itemConfig=[]);e.activationKeys??(e.activationKeys=m);this.callSuper(a,e)},setListViewClass:function(a){this.listViewClass=a},setListViewAttrs:function(a){this.listViewAttrs=a},setItemConfig:function(a){this.itemConfig=a},getFloatingValignForPanel:function(a){var e=a.height,f=this.getPagePosition().y,q=k.windowResize.getHeight()-
this.getPagePosition().y-this.height;a=f-e;e=q-e;f=f>q;q=this.floatingValign;switch(q){case "outsideBottom":0>e&&f&&(q="outsideTop");break;case "insideBottom":0>e&&f&&(q="insideTop");break;case "outsideTop":0>a&&!f&&(q="outsideBottom");break;case "insideTop":0>a&&!f&&(q="insideBottom")}return q},doItemActivated:function(a){this.hideFloatingPanel()},getFloatingPanel:function(a){return this.callSuper(a)??this.createFloatingPanel(a,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(a){const e=
this.getFloatingPanel(a);e&&(e.setItemConfig(this.itemConfig),this.callSuper(a))},doActivationKeyDown:function(a,e){a===h?this.hideFloatingPanel():this.callSuper(a,e)},doKeyArrowLeftOrUp:function(a,e){this.focusToLastItem()},doKeyArrowRightOrDown:function(a,e){this.focusToFirstItem()},doActivationKeyUp:function(a){if(a!==h)switch(this.callSuper(a),a){case l.CODE_ARROW_LEFT:case l.CODE_ARROW_UP:this.focusToLastItem();break;case l.CODE_ARROW_RIGHT:case l.CODE_ARROW_DOWN:this.focusToFirstItem()}},focusToLastItem:function(){const a=
this.getFloatingPanel();a?.isShown()&&a.focusToLastItem()},focusToFirstItem:function(){const a=this.getFloatingPanel();a?.isShown()&&a.focusToFirstItem()},updateEntryAttr:function(a,e,f){(a=this.getEntryByValue(a))&&(a.attrs[e]=f);return a},getEntryByValue:function(a){return this.itemConfig.find(e=>e?.attrs&&e.attrs.value===a)}});n.ListViewItem=new v("ListViewItem",n.TextButton,{include:[c,n.ArrowKeyActivation],initNode:function(a,e){e.activeColor??(e.activeColor="#bbb");e.hoverColor??(e.hoverColor=
"#fff");e.readyColor??(e.readyColor="#eee");e.paddingLeft??(e.paddingLeft=8);e.paddingRight??(e.paddingRight=8);e.textAlign??(e.textAlign="left");e.roundedCorners??(e.roundedCorners=0);e.activationKeys??(e.activationKeys=m);e.focusIndicator??(e.focusIndicator=!0);const f=this.__enableEllipsis=e.enableEllipsis;delete e.enableEllipsis;this.callSuper(a,e);this.addDomClass("mytButtonText");f&&this.enableEllipsis()},setText:function(a){this.callSuper(a);this.__enableEllipsis&&this.setTooltip(this.text)},
syncToDom:function(){this.getIDS().width="auto";this.sizeViewToDom()},getMinimumWidth:function(){return t.ceil(this.measureNoWrapWidth())},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(a,e){a===h?this.listView.owner.hideFloatingPanel():this.callSuper(a,e)},doKeyArrowLeftOrUp:function(a,e){d.prev()},doKeyArrowRightOrDown:function(a,e){d.next()}});n.ListViewSeparator=new v("ListViewSeparator",g,{include:[c],initNode:function(a,e){e.height??(e.height=1);e.bgColor??
(e.bgColor="#666");this.callSuper(a,e)}})})(myt);
(n=>{const v=n.AccessorSupport,u=v.generateSetterName,t={},g=n.BAG=new JS.Class("BAG",{include:[v,n.Destructible,n.Observable],extend:{getGroup:(k,d)=>{if(k&&d){let l;return(l=t[k]??(t[k]={}))[d]??(l[d]=new g(k,d))}},removeGroup:(k,d)=>{if(k&&d&&(k=t[k])){const l=k[d];l&&delete k[d];return l}}},initialize:function(k,d){this.__nodes=[];this.trueNode=null;this.attrName=k;this.groupId=d},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&g.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(k){this.set("groupId",k,!0)},setAttrName:function(k){this.set("attrName",k,!0)},setTrueNode:function(k){this.set("trueNode",k,!0)},getNodes:function(){return this.__nodes},register:function(k){k&&!this.isRegistered(k)&&(this.__nodes.push(k),k[this.attrName]&&this.setTrue(k))},unregister:function(k){if(k){const d=this.__nodes,l=d.indexOf(k);-1<l&&d.splice(l,1);this.trueNode===k&&this.setTrueNode(null);0===d.length&&
this.destroy()}},setTrue:function(k){if(k&&this.trueNode!==k&&this.isRegistered(k)){const d=this.attrName,l=u(d),m=this.__nodes;let h=m.length;for(this.setTrueNode(k);h;){const b=m[--h];if(k===b){if(!b[d])b[l](!0)}else if(b[d])b[l](!1)}}},setFalse:function(k){k&&this.trueNode===k&&(k[u(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(k){return this.__nodes.includes(k)}});n.BAGMembership=new JS.Module("BAGMembership",{initNode:function(k,d){this.__bags=[];this.callSuper(k,d)},destroy:function(){const k=
this.__bags;let d=k.length;for(;d;){const l=k[--d];this.removeFromBAG(l.attrName,l.groupId)}this.callSuper()},isRegisteredWithBAG:function(k){return this.__bags.includes(k)},getBAG:(k,d)=>g.getGroup(k,d),addToBAG:function(k,d){d=this.getBAG(k,d);this.isRegisteredWithBAG(d)||(this.__bags.push(d),d.register(this),this.isAttachedTo(this,"__updateForBAG",k)||this.attachTo(this,"__updateForBAG",k))},removeFromBAG:function(k,d){d=this.getBAG(k,d);if(this.isRegisteredWithBAG(d)){const l=this.__bags;let m=
l.length,h=!0;for(;m;){const b=l[--m];b===d?(l.splice(m,1),d.unregister(this)):b.attrName===k&&(h=!1)}h&&this.detachFrom(this,"__updateForBAG",k)}},__updateForBAG:function(k){for(const d of this.__bags)if(d.attrName===k.type)d[k.value?"setTrue":"setFalse"](this)}})})(myt);
(n=>{const v=u=>{const t=u.label||"";u.setText('<i class="far fa-'+(!0===u.selected?"dot-":"")+'circle"></i>'+(0<t.length?" ":"")+t)};n.Radio=new JS.Class("Radio",n.Text,{include:[n.SimpleButtonStyle,n.BAGMembership],initNode:function(u,t){t.selected??(t.selected=!1);t.groupId??(t.groupId=n.generateGuid());t.focusIndicator??(t.focusIndicator=!1);t.activeColor??(t.activeColor="inherit");t.hoverColor??(t.hoverColor="inherit");t.readyColor??(t.readyColor="inherit");const g=t.value;delete t.value;this.callSuper(u,
t);this.setValue(g);this.selected&&this.getBAG("selected",this.groupId)?.setTrue(this);n.FontAwesome.registerForNotification(this);v(this)},setOptionValue:function(u){this.set("optionValue",u,!0)},setValue:function(u){if(this.inited){const t=this.getBAG("selected",this.groupId);if(t){const g=t.getNodes();let k=g.length;for(;k;){const d=g[--k];if(d.optionValue===u){t.setTrue(d);break}}}}},getValue:function(){var u=this.getBAG("selected",this.groupId);return(u=u?u.trueNode:null)?u.optionValue:null},
setSelected:function(u){this.selected!==u&&(this.selected=u,this.inited&&(this.fireEvent("selected",u),v(this)))},setGroupId:function(u){if(this.groupId!==u){const t=this.groupId;this.groupId=u;t&&this.removeFromBAG("selected",t);u&&this.addToBAG("selected",u);this.inited&&this.fireEvent("groupId",u)}},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&v(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(u,t=1){this.setOpacity(t);this.setTextColor(u)}})})(myt);
(n=>{const v=JS.Module,{NOOP:u,TRUE_FUNC:t,global:{keys:g}}=n,k=n.Selectable=new v("Selectable",{setSelected:function(l){l=this.valueFromEvent(l);this.selected!==l&&(this.selected=l,this.inited&&this.fireEvent?.("selected",l))},isSelected:function(){return!!this.selected},canSelect:t,canDeselect:t}),d=n.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>g.isShiftKeyDown(),isToggleMode:()=>g.isAcceleratorKeyDown()},initNode:function(l,m){this.__selected={};this.__lastSelectedItem=null;
m.selectedCount=0;m.itemSelectionId??(m.itemSelectionId="id");m.maxSelected??(m.maxSelected=-1);m.minSelected??(m.minSelected=0);this.callSuper(l,m)},setItemSelectionId:function(l){this.itemSelectionId=l},setMaxSelected:function(l){this.maxSelected=l},setSelectedCount:function(l){this.selectedCount!==l&&(this.selectedCount=l,this.inited&&this.fireEvent("selectedCount",l))},isAddMode:()=>d.isAddMode(),isToggleMode:()=>d.isToggleMode(),getSelected:function(){return Object.values(this.__selected)},select:function(l){l&&
!this.isSelectedItem(l)&&this.canSelectItem(l)&&(l.setSelected(!0),this.__selected[l[this.itemSelectionId]]=l,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=l,this.doSelected(l),this.fireEvent("itemSelected",l))},doSelected:u,selectById:function(l){this.select(this.getSelectableItem(l))},canSelectItem:function(l){const {maxSelected:m,selectedCount:h}=this;if(0===m)return!1;if(1===m){if(0<h&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<m&&h>=m)return!1;return l.canSelect(this)},
selectAll:function(){const l=this.getSelectableItems();let m=l.length;for(;m;)this.select(l[--m])},deselect:function(l){this.isSelectedItem(l)&&this.canDeselectItem(l)&&(l.setSelected(!1),delete this.__selected[l[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===l&&(this.__lastSelectedItem=null),this.doDeselected(l),this.fireEvent("itemDeselected",l))},doDeselected:u,deselectById:function(l){this.deselect(this.getSelectableItem(l))},canDeselectItem:function(l){return this.selectedCount<=
this.minSelected?!1:l.canDeselect(this)},deselectAll:function(){const l=this.__selected;for(const m in l)this.deselect(l[m])},isSelectedItem:l=>l?l.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const l=[],m=this.getSubviews();let h=m.length;for(;h;){const b=m[--h];b.isA(k)&&l.push(b)}return l},getSelectableItems:function(){const l=this.getManagedItems();let m=l.length;for(;m;)l[--m].canSelect(this)||l.splice(m,1);
return l},getSelectableItem:function(l){const m=this.getSelectableItems(),h=this.itemSelectionId;let b=m.length;for(;b;){const c=m[--b];if(c[h]===l)return c}}})})(myt);
(n=>{const v=JS.Class,{View:u,SizeToParent:t,LocalStorage:g,debounce:k}=n,d=n.TabSlider=new v("TabSlider",u,{include:[n.Selectable,n.Disableable,t],extend:{STATE_EXPANDED:"expanded",STATE_EXPANDING:"expanding",STATE_COLLAPSED:"collapsed",STATE_COLLAPSING:"collapsing"},initNode:function(m,h){const b=this;let c;const a=h.noWrapperContainer;delete h.noWrapperContainer;h.defaultPlacement=a?"wrapper":"wrapper.container";h.percentOfParentWidth=100;h.expansionState="collapsed";h.tabId??(h.tabId=n.generateGuid());
h.tabContainer??(h.tabContainer=m);h.selected??(h.selected=!1);h.buttonClass??(h.buttonClass=n.SimpleButton);h.zIndex??(h.zIndex=0);h.buttonHeight??(h.buttonHeight=30);h.fillColorSelected??(h.fillColorSelected="#666");h.fillColorHover??(h.fillColorHover="#eee");h.fillColorActive??(h.fillColorActive="#ccc");h.fillColorReady??(h.fillColorReady="#fff");h.minContainerHeight??(h.minContainerHeight=100);h.layoutPaddingY??(h.layoutPaddingY=0);h.wrapperExpandedOverflow??(h.wrapperExpandedOverflow="autoy");
h.selected&&(c=!0,delete h.selected);b.callSuper(m,h);b.button=new b.buttonClass(b,{ignorePlacement:!0,zIndex:1,height:b.buttonHeight,focusIndicator:!0,groupId:b.parent.parent.groupId,percentOfParentWidth:100,hoverColor:b.fillColorHover,activeColor:b.fillColorActive,readyColor:b.fillColorReady},[t,{doActivated:()=>{const e=b.tabContainer;b.isSelected()&&1!==e.maxSelected?e.deselect(b):e.select(b)},updateUI:function(){this.callSuper();b.selected&&-1!==b.tabContainer.maxSelected&&this.setBgColor(b.fillColorSelected);
b.notifyButtonRedraw()}}]);m=b.wrapper=new u(b,{ignorePlacement:!0,y:b.buttonHeight,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[t,{setHeight:function(e){this.callSuper(Math.round(e))},setWidth:function(e){this.callSuper(e);this.inited&&this.container?.setWidth(e)}}]);a||(b._wrapperLayout=new n.SizeToChildren(m.container=new u(m),{axis:"y",paddingY:b.layoutPaddingY}));b.constrain("__updateHeight",[m,"y",m,"height"]);c&&b.tabContainer.select(b);!0===h.disabled&&b.setDisabled(!0);
b.setHeight(b.getCollapsedHeight())},setSelected:function(m){this.callSuper(m);this.button?.updateUI()},setTabId:function(m){this.tabId=m},setTabContainer:function(m){this.tabContainer=m},setLayoutPaddingY:function(m){this.layoutPaddingY=m;this.inited&&this._wrapperLayout?.setPaddingY(m)},setMinContainerHeight:function(m){this.minContainerHeight=m},setButtonClass:function(m){this.buttonClass=m},setFillColorSelected:function(m){this.fillColorSelected=m},setFillColorHover:function(m){this.fillColorHover=
m},setFillColorActive:function(m){this.fillColorActive=m},setFillColorReady:function(m){this.fillColorReady=m},setWrapperExpandedOverflow:function(m){this.wrapperExpandedOverflow=m},setButtonHeight:function(m){this.buttonHeight!==m&&(this.buttonHeight=m,this.button&&(this.button.setHeight(m),this.wrapper.setY(m)))},setExpansionState:function(m){if(this.expansionState!==m){this.expansionState=m;this.inited&&this.fireEvent("expansionState",m);const h=this.wrapper;h&&("expanded"===m?(h.setMaskFocus(!1),
h.setOverflow(this.wrapperExpandedOverflow),this.tabContainer?.saveState()):"expanding"===m?h.setVisible(!0):"collapsed"===m?(h.setVisible(!1),this.tabContainer?.saveState()):"collapsing"===m&&(h.setMaskFocus(!0),h.setOverflow("hidden")))}},doDisabled:function(){this.button?.setDisabled(this.disabled)},notifyButtonRedraw:n.NOOP,__updateHeight:function(m){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(m){const h=this,b=h.wrapper;m-=h.getCollapsedHeight();h.setExpansionState("expanding");
b.stopActiveAnimators();if(b.height!==m){const c=h.tabContainer.duration;1===c?(b.setHeight(m),h.setExpansionState("expanded")):b.animate({attribute:"height",to:m,duration:c}).next(a=>{h.setExpansionState("expanded")})}else h.setExpansionState("expanded")},collapse:function(){const m=this,h=m.wrapper;m.setExpansionState("collapsing");h.stopActiveAnimators();if(0!==h.height){const b=m.tabContainer.duration;1===b?(h.setHeight(0),m.setExpansionState("collapsed")):h.animate({attribute:"height",to:0,duration:b}).next(c=>
{m.setExpansionState("collapsed")})}else m.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container?.height}}),l=(m,h,b,c)=>{m[h]!==c&&(m[h]=c,m.button?.label?.set(b,c))};n.TextTabSlider=new v("TextTabSlider",d,{initNode:function(m,h){this.labelTextColorChecked=
"#fff";this.labelTextColor="#333";this.labelAlign="center";this.labelValign="middle";this.labelFontSize="16px";this.labelFontWeight="bold";h.labelTextColorChecked??(h.labelTextColorChecked="#fff");h.labelTextColor??(h.labelTextColor="#333");h.labelAlign??(h.labelAlign="center");h.labelValign??(h.labelValign="middle");h.labelFontSize??(h.labelFontSize="16px");h.labelFontWeight??(h.labelFontWeight="bold");this.callSuper(m,h);this.button.label=new n.Text(this.button,{ignorePlacement:!0,fontSize:this.labelFontSize,
fontWeight:this.labelFontWeight,text:this.text,align:this.labelAlign,valign:this.labelValign,textColor:this.__getTextColor()})},setLabelTextColorChecked:function(m){this.labelTextColorChecked!==m&&(this.labelTextColorChecked=m,this.notifyButtonRedraw())},setLabelTextColor:function(m){this.labelTextColor!==m&&(this.labelTextColor=m,this.notifyButtonRedraw())},setLabelAlign:function(m){l(this,"labelAlign","align",m)},setLabelValign:function(m){l(this,"labelValign","valign",m)},setLabelFontSize:function(m){l(this,
"labelFontSize","fontSize",m)},setLabelFontWeight:function(m){l(this,"labelFontWeight","fontWeight",m)},setText:function(m){l(this,"text","text",m)},notifyButtonRedraw:function(){this.button?.label?.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});n.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[n.SelectionManager],initNode:function(m,h){const b=this;b._tabSliders=
[];h.defaultPlacement="container";h.spacing??(h.spacing=n.theme.TabSliderContainerSpacing);h.overflow??(h.overflow="autoy");h.itemSelectionId??(h.itemSelectionId="tabId");h.maxSelected??(h.maxSelected=1);h.duration??(h.duration=500);b.updateLayout=k(b.updateLayout);b.callSuper(m,h);m=b.container=new u(b,{ignorePlacement:!0,percentOfParentWidth:100},[t,{subnodeAdded:function(c){this.callSuper(c);c instanceof d&&(b._tabSliders.push(c),b.attachTo(c,"updateLayout","selected"))},subnodeRemoved:function(c){if(c instanceof
d){const a=b._tabSliders,e=a.indexOf(c);-1<e&&(b.detachFrom(c,"updateLayout","selected"),a.splice(e,1))}this.callSuper(c)}}]);m.layout=new n.SpacedLayout(m,{axis:"y",spacing:b.spacing,collapseParent:!0});b.attachTo(b,"updateLayout","height")},setPersistenceId:function(m){this.persistenceId=m},getTabSliders:function(){return this._tabSliders},getTabSliderById:function(m){for(const h of this._tabSliders)if(h.tabId===m)return h},setSpacing:function(m){this.spacing!==m&&(this.spacing=m,this.layout?.setSpacing(m))},
setDuration:function(m){this.duration=m},updateLayout:function(m,h){m=this._tabSliders;for(var b=m.length,c=b,a=0,e=0,f=0;c;){var q=m[--c];q.visible&&(++f,q.selected?(a+=q.getMinimumExpandedHeight(),e+=q.getPreferredExpandedHeight()):(q=q.getCollapsedHeight(),a+=q,e+=q))}c=this.container.layout;f=c.inset+c.outset+c.spacing*(f-1);e+=f;c=this.height;a=a+f>c;f=e>c;q=this.duration;e-=c;0<h&&this.setDuration(h);for(c=b;c;)if(b=m[--c],b.visible)if(b.selected){let y;if(a)y=b.getMinimumExpandedHeight();else if(f){const r=
b.getPreferredExpandedHeight(),D=b.getMinimumExpandedHeight();y=r-e;D>y?(e-=r-D,y=D):e=0}else y=b.getPreferredExpandedHeight();b.expand(y)}else b.collapse();0<h&&this.setDuration(q)},readState:m=>g.getDatum(m),writeState:(m,h)=>{g.setDatum(m,h)},saveState:k(function(){const m=[];for(const h of this.getTabSliders())"expanded"===h.expansionState&&m.push(h.tabId);this.writeState(this.persistenceId,m)},1E3),restoreState:function(m){for(const h of this.readState(this.persistenceId)||m)this.select(this.getTabSliderById(h))}})})(myt);
(n=>{const v=n.theme,u=g=>{const k=[];switch(g.tabContainer.location){case "top":k.push("TopLeft","TopRight");break;case "bottom":k.push("BottomLeft","BottomRight");break;case "left":k.push("TopLeft","BottomLeft");break;case "right":k.push("TopRight","BottomRight")}for(const d of k)g["setRounded"+d+"Corner"](g.cornerRadius||0)},t=n.Tab=new JS.Class("Tab",n.SimpleTextButton,{include:[n.Selectable],initNode:function(g,k){k.tabId??(k.tabId=n.generateGuid());k.tabContainer??(k.tabContainer=g);let d;k.selected&&
(d=!0,delete k.selected);k.inset??(k.inset=v.TabInset);k.outset??(k.outset=v.TabOutset);k.selectedColor??(k.selectedColor="#fff");k.hoverColor??(k.hoverColor="#eee");k.activeColor??(k.activeColor="#aaa");k.readyColor??(k.readyColor="#ccc");k.labelTextSelectedColor??(k.labelTextSelectedColor="#333");k.height??(k.height=24);k.focusIndicator??(k.focusIndicator=!1);k.cornerRadius??(k.cornerRadius=6);this.callSuper(g,k);d&&this.tabContainer.select(this);u(this);this.textView.setTextColor(this.selected?
this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(g){this.tabId=g},setTabContainer:function(g){this.tabContainer=g},setSelectedColor:function(g){this.selectedColor=g},setLabelTextColor:function(g){this.labelTextColor=g},setCornerRadius:function(g){this.cornerRadius=g;this.inited&&u(this)},setLabelTextSelectedColor:function(g){this.labelTextSelectedColor=g;this.inited&&this.selected&&this.textView.setTextColor(g)},setSelected:function(g){this.callSuper(g);this.inited&&(this.updateUI(),
this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}});n.TabContainer=new JS.Module("TabContainer",{include:[n.SelectionManager],initNode:function(g,k){this.__tabs=[];k.spacing??(k.spacing=v.TabContainerSpacing);k.inset??(k.inset=v.TabContainerInset);k.location??(k.location="top");k.itemSelectionId??(k.itemSelectionId=
"tabId");k.maxSelected??(k.maxSelected=1);const d=k.collapse??!0;delete k.collapse;this.callSuper(g,k);this.layout=new n.SpacedLayout(this,{axis:"left"===this.location||"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:d})},setLocation:function(g){this.location=g},setSpacing:function(g){this.spacing!==g&&(this.spacing=g,this.layout?.setSpacing(g))},setInset:function(g){this.inset!==g&&(this.inset=g,this.layout?.setInset(g))},getFirstTab:function(){return this.__tabs[0]},
getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(g){this.callSuper(g);if(g.isA(t))switch(this.__tabs.push(g),this.location){case "top":g.setValign("bottom");break;case "bottom":g.setValign("top");break;case "left":g.setAlign("right");break;case "right":g.setAlign("left")}},subnodeRemoved:function(g){if(g.isA(t)){const k=this.__tabs,d=k.indexOf(g);-1<d&&k.splice(d,1)}this.callSuper(g)}})})(myt);
(n=>{const v=JS.Class,u=Math.min,t=Array.isArray,{NOOP:g,SizeToDom:k,View:d,Disableable:l,KeyObservable:m,theme:h,global:{keys:b}}=n,c=n.memoize(w=>new RegExp("[^"+w.replace(/[-\]\\^]/g,"\\$&")+"]","g")),a=(w="",E="")=>w.replace(c(E),""),e=(w,E,J)=>{w[J]!==E&&(w[J]=E,w.getIDS()[J]=E+"px",w.inited&&(w.fireEvent(J,E),w.sizeViewToDom()))},f=(w,E,J)=>{w[E]!==J&&(w.getIDE()[E]=w[E]=J,w.inited&&w.fireEvent(E,J))},q=n.NativeInputWrapper=new v("NativeInputWrapper",d,{include:[l,n.InputObservable],initNode:function(w,
E){E.tagName??(E.tagName="input");E.focusable??(E.focusable=!0);this.callSuper(w,E);this.addDomClass("mytNativeInput")},createOurDomElement:function(w){w=this.callSuper(w);this.inputType&&((t(w)?w[1]:w).type=this.inputType);return w},setDisabled:function(w){this.disabled!==w&&(this.getIDE().disabled=w,this.callSuper(w))},setValue:function(w){this.value!==w&&(this.value=w,this.setDomValue(w),this.inited&&this.fireEvent("value",w))},getDomValue:function(){return this.getIDE().value},setDomValue:function(w){const E=
this.getIDE();E.value!==w&&(E.value=w)}}),y=n.InputSelectOption=new v("InputSelectOption",d,{include:[l,n.Selectable],createOurDomElement:w=>document.createElement("option"),setSelected:function(w){w=this.valueFromEvent(w);const E=this.getIDE();E.selected!==w&&(E.selected=w)},setDisabled:function(w){this.disabled!==w&&(this.getIDE().disabled=w,this.callSuper(w))},setValue:function(w){f(this,"value",w)},setLabel:function(w){this.label!==w&&(this.getIDE().textContent=this.label=w,this.inited&&this.fireEvent("label",
w))},isSelected:function(){return this.getIDE().selected},canSelect:function(w){return!this.disabled&&!this.getIDE().selected&&this.parent===w},canDeselect:function(w){return!this.disabled&&this.getIDE().selected&&this.parent===w}}),r=n.BaseInputText=new v("BaseInputText",q,{include:[n.TextSupport],extend:{filterChars:a},initNode:function(w,E){E.bgColor??(E.bgColor="transparent");E.spellcheck??(E.spellcheck=!1);this.callSuper(w,E);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,
"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup");this.attachToDom(this,"__filterPaste","paste")},setText:function(w){this.callSuper(w);this.setValue(w)},setSpellcheck:function(w){f(this,"spellcheck",w)},setMaxLength:function(w){f(this,"maxLength",null==w||0>w?void 0:w)},setAllowedChars:function(w){this.allowedChars=w},setPlaceholder:function(w){f(this,"placeholder",w)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(h.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();
this.setBoxShadow()},__filterInput:function(w){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(w){const E=w.value,J=this.allowedChars;J&&!J.includes(m.getKeyFromEvent(w))&&E.preventDefault();this.filterInputPress(E)},__filterPaste:function(w){w=w.value;w.preventDefault();document.execCommand("insertText",!1,this.filterPaste(w.clipboardData.getData("text")))},filterPaste:function(w){const E=this.allowedChars;return E?a(w,E):w},filterInput:w=>w,filterInputPress:g,
__syncToDom:function(w){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const w=document.selection.createRange();w.moveStart("character",-this.getDomValue().length);return w.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(w,E){if(null==E||w===E){if(this.getCaretPosition()===w)return;E=w}var J=this.getIDE();J.setSelectionRange?J.setSelectionRange(w,E):J.createTextRange&&(J=J.createTextRange(),J.collapse(!0),J.moveEnd("character",E),
J.moveStart("character",w),J.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const w=this.getIDE();return{start:w.selectionStart,startElem:w,end:w.selectionEnd,endElem:w}},setSelection:function(w){w&&this.setCaretPosition(w.start,w.end)},saveSelection:function(w){this._selRange=w||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}}),
D=n.InputText=new v("InputText",r,{include:[n.SizeHeightToDom],initNode:function(w,E){this.inputType=!0===E.password?"password":"text";this.callSuper(w,E);this.setCaretToEnd()},setPassword:function(w){this.set("password",w,!0);this.inited&&(this.getIDE().type=w?"password":"text")}});n.InputTextMouseFixMixin=new JS.Module("InputTextMouseFixMixin",{initNode:function(w,E){this.callSuper(w,E);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},createDomHandler:function(w,
E,J){return"mousedown"===J||"mouseup"===J?this.createStandardDomHandler(w,E,J,n.MouseObservable,!1):this.callSuper(w,E,J)},doMouseDown:g,doMouseUp:g});n.EditableText=new v("EditableText",r,{include:[k],initNode:function(w,E){E.tagName??(E.tagName="div");E.inputType=null;E.whiteSpace??(E.whiteSpace="pre");E.contentEditable??(E.contentEditable=!0);this.callSuper(w,E);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction",
"mouseup");this.setCaretToEnd()},setMinWidth:function(w){e(this,w,"minWidth")},setMinHeight:function(w){e(this,w,"minHeight")},setPadding:function(w){this.setPaddingTop(w);this.setPaddingRight(w);this.setPaddingBottom(w);this.setPaddingLeft(w)},setPaddingTop:function(w){e(this,w,"paddingTop")},setPaddingRight:function(w){e(this,w,"paddingRight")},setPaddingBottom:function(w){e(this,w,"paddingBottom")},setPaddingLeft:function(w){e(this,w,"paddingLeft")},setContentEditable:function(w){f(this,"contentEditable",
w)},filterInputPress:function(w){const E=this.maxLength;0<=E&&this.getCharacterCount()===E&&w.preventDefault();this.callSuper(w)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(w){const E=this.getIDE();E.innerHTML!==w&&(E.innerHTML=w,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(w){m.isEnterKeyEvent(w)&&(w.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(w){this.callSuper(w);
this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){return this.getIDE().firstChild?.length??0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){return this.getSelection()?.end??0},setCaretPosition:function(w,E){if(null==E||w===E){if(this.getCaretPosition()===w)return;E=w}this.saveSelection({start:w,startElem:this.getIDE().firstChild,end:E,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();
this.restoreSelection()},__userInteraction:function(w){this.saveSelection();return!0},getSelection:function(){let w;if(window.getSelection){const E=window.getSelection();if(0<E.rangeCount){if(E.extentNode===this.getIDE())return;w=E.getRangeAt(0)}}else document.selection&&(w=document.selection.createRange());return{start:w?w.startOffset:0,startElem:w?w.startContainer:this.getIDE().firstChild,end:w?w.endOffset:0,endElem:w?w.endContainer:this.getIDE().firstChild}},setSelection:function(w){if(w){const {startElem:E,
endElem:J}=w;if(E&&E.parentNode&&J&&J.parentNode){const P=document.createRange();P.setStart(E,u(w.start,E.length));P.setEnd(J,u(w.end,J.length));window.getSelection?(w=window.getSelection(),0<w.rangeCount&&w.removeAllRanges(),w.addRange(P)):document.selection&&P.select()}}}});n.InputTextArea=new v("InputTextArea",r,{initNode:function(w,E){E.tagName??(E.tagName="textarea");E.inputType=null;E.resize??(E.resize="none");E.wrap??(E.wrap="soft");this.callSuper(w,E)},destroy:function(){this.__resizeObserver?.unobserve(this.getIDE());
this.callSuper()},setResize:function(w){const E=this;E.resize!==w&&(w=E.resize=E.getIDS().resize=w||"none",E.inited&&E.fireEvent("resize",w),"none"!==w&&(E.__resizeObserver??(E.__resizeObserver=new ResizeObserver(()=>{E.doResize()}))).observe(E.getIDE()))},setWrap:function(w){f(this,"wrap",w)},doResize:function(){const w=this.resize;"both"!==w&&"horizontal"!==w||k.sizeWidth(this);"both"!==w&&"vertical"!==w||k.sizeHeight(this)}});n.ComboBox=new v("ComboBox",D,{include:[n.Activateable,n.KeyActivation,
n.ListViewAnchor],initNode:function(w,E){this.filterItems=!0;E.activationKeys??(E.activationKeys=[b.CODE_ENTER,b.CODE_ESC,b.CODE_ARROW_UP,b.CODE_ARROW_DOWN]);E.bgColor??(E.bgColor="#fff");E.borderWidth??(E.borderWidth=1);E.borderStyle??(E.borderStyle="solid");E.floatingAlignOffset??(E.floatingAlignOffset=E.borderWidth);E.fullItemConfig??(E.fullItemConfig=[]);E.listViewAttrs={...E.listViewAttrs,maxHeight:E.listViewAttrs?.maxHeight??99};this.callSuper(w,E)},setFullItemConfig:function(w){this.fullItemConfig=
w},setFilterItems:function(w){this.filterItems=w},__syncToDom:function(w){const E=this.value;this.callSuper(w);E!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(w){const E=this.getFloatingPanel(w);if(E){let P;if(this.filterItems){P=[];var J=this.value;J=null==J?"":(""+J).toLowerCase();const B=this.fullItemConfig,G=B.length;for(let x=0;G>x;){const p=B[x++],z=p.attrs.text.toLowerCase(),I=z.indexOf(J);0===I?z!==J&&P.push(p):0<I&&P.push(p)}}else P=this.fullItemConfig;0<P.length?(E.setMinWidth(this.width-
2*this.borderWidth),this.setItemConfig(P),this.callSuper(w)):this.hideFloatingPanel(w)}},doItemActivated:function(w){this.setValue(null==w.value?w.text:w.value);this.callSuper(w)},doActivated:function(){this.toggleFloatingPanel()}});n.InputSelect=new v("InputSelect",q,{include:[k],initNode:function(w,E){E.tagName??(E.tagName="select");E.inputType=null;E.multiple??(E.multiple=!1);E.size??(E.size=E.multiple?4:1);this.callSuper(w,E);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(w){f(this,
"multiple",w)},setSize:function(w){f(this,"size",w)},setOptions:function(w){this.destroyAllOptions();if(t(w))for(const E of w)this.addOption(E)},getOptions:function(){return this.getSubviews().slice()},setValue:function(w){t(w)&&n.areArraysEqual(w,this.value)||this.value===w||(this.value=w,this.inited&&this.fireEvent("value",w))},subviewAdded:function(w){w instanceof y||(n.dumpStack("Subview unsupported. Destroying it"),w.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();
this.setBoxShadow(h.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(w=>w.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(w=>w.value)},getOptionForValue:function(w){return this.getOptions().find(E=>E.value===w)},addOption:function(w){return new y(this,w)},destroyAllOptions:function(){for(const w of this.getOptions())w.destroy()},destroyOptionWithValue:function(w){if(w=
this.getOptionForValue(w))if(w.destroy(),w.destroyed)return!0;return!1},deselectAll:function(){let w=!1;for(const E of this.getOptions())E.isSelected()&&(E.setSelected(!1),w=!0);w&&this.__doChanged()},selectValues:function(w){t(w)||(w=[w]);for(const E of w)this.selectValue(E)},selectValue:function(w){this.select(this.getOptionForValue(w))},select:function(w){w?.canSelect(this)&&(w.setSelected(!0),this.__syncToDom())},deselectValue:function(w){this.deselect(this.getOptionForValue(w))},deselect:function(w){w?.canDeselect(this)&&
(w.setSelected(!1),this.__syncToDom())},__doChanged:function(w){this.__syncToDom();this.doChanged()},doChanged:g,__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(n=>{const v=JS.Module,u=Math.round;var t=n.ValueComponent=new v("ValueComponent",{initNode:function(k,d){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(k,d)},setValueFilter:function(k){this.valueFilter=k;this.inited&&k&&this.setValue(this.value)},setValue:function(k){this.valueFilter&&(k=this.valueFilter(k));this.value!==k&&(this.value=k,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(k,d){const l=this.valueFilter;
this.setValueFilter(l?"last"===d?m=>k(l(m)):m=>l(k(m)):k)}});const g=n.RangeComponent=new v("RangeComponent",{include:[t],setLowerValue:function(k){this.setValue({lower:k,upper:this.value&&void 0!==this.value.upper?this.value.upper:k})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(k){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:k,upper:k})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(k){if(k){var d=
this.value;const h=d?d.lower:void 0;d=d?d.upper:void 0;this.valueFilter&&(k=this.valueFilter(k));if(k.lower!==h||k.upper!==d){var l;(l=k).lower??(l.lower=k.upper);var m;(m=k).upper??(m.upper=k.lower);void 0!==k.lower&&void 0!==k.upper&&k.lower>k.upper&&(l=k.lower,k.lower=k.upper,k.upper=l);this.value=k;this.inited&&(this.fireEvent("value",this.getValue()),k.lower!==h&&this.fireEvent("lowerValue",k.lower),k.upper!==d&&this.fireEvent("upperValue",k.upper))}}else this.callSuper(k)},getValueCopy:function(){const k=
this.value;return{lower:k.lower,upper:k.upper}}});t=n.BoundedValueComponent=new v("BoundedValueComponent",{include:[t],initNode:function(k,d){const l=this;l.appendToEarlyAttrs("snapToInt","minValue","maxValue");d.snapToInt??(d.snapToInt=!0);d.valueFilter||(d.valueFilter=m=>{var h=l.maxValue;if(null!=h&&m>h)return h;h=l.minValue;return null!=h&&m<h?h:m});l.callSuper(k,d)},setSnapToInt:function(k){this.snapToInt!==k&&(this.snapToInt=k,this.inited&&(this.fireEvent("snapToInt",k),k&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(k){this.snapToInt&&null!=k&&(k=u(k));if(this.minValue!==k){const d=this.maxValue;null!=d&&k>d&&(k=d);this.minValue!==k&&(this.minValue=k,this.inited&&(this.fireEvent("minValue",k),this.setValue(this.value)))}},setMaxValue:function(k){this.snapToInt&&null!=k&&(k=u(k));if(this.maxValue!==k){const d=this.minValue;null!=d&&k<d&&(k=d);this.maxValue!==k&&(this.maxValue=k,this.inited&&(this.fireEvent("maxValue",k),this.setValue(this.value)))}},
setValue:function(k){this.callSuper(this.snapToInt&&null!=k&&!isNaN(k)?u(k):k)}});n.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[t,g],initNode:function(k,d){const l=this;d.valueFilter||(d.valueFilter=m=>{if(m){const h=l.maxValue,b=l.minValue;null!=h&&m.upper>h&&(m.upper=h);null!=b&&m.lower<b&&(m.lower=b)}return m});l.callSuper(k,d)},setValue:function(k){this.snapToInt&&null!=k&&(null==k.lower||isNaN(k.lower)||(k.lower=u(k.lower)),null==k.upper||isNaN(k.upper)||(k.upper=u(k.upper)));
this.callSuper(k)}})})(myt);
(n=>{const v=u=>{const t=u.label??"";u.setText('<i class="'+("solid"===u.checkboxStyle?"fas":"far")+" fa-"+(u.isChecked()?"check-":"")+'square"></i>'+(0<t.length?" "+t:""))};n.Checkbox=new JS.Class("Checkbox",n.Text,{include:[n.SimpleButtonStyle,n.ValueComponent],initNode:function(u,t){this.appendToEarlyAttrs("userUnselectable");t.value??(t.value=!1);t.focusIndicator??(t.focusIndicator=!1);t.checkboxStyle??(t.checkboxStyle="outline");t.activeColor??(t.activeColor="inherit");t.hoverColor??(t.hoverColor=
"inherit");t.readyColor??(t.readyColor="inherit");this.callSuper(u,t);n.FontAwesome.registerForNotification(this);v(this)},setValue:function(u){this.value!==u&&(this.callSuper(u),this.inited&&v(this))},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&v(this))},setCheckboxStyle:function(u){this.checkboxStyle!==u&&(this.set("checkboxStyle",u,!0),this.inited&&v(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(u,
t=1){this.setOpacity(t);this.setTextColor(u)}})})(myt);
(n=>{let v;const {Class:u,Module:t}=JS,g=console.warn,{NOOP:k,KeyObservable:d,UpdateableUI:l,dumpStack:m,global:h}=n,b=h.focus,c=h.keys,a={},e=(p,z)=>{if(p){const I=p.id;p.id?z(I):m("No ID")}else m("No processor")},f=p=>{e(p,z=>{a[z]=p})},q=p=>{const z=n.BAG.getGroup("selected",p.groupId);if(z){const I=z.getNodes();p=p.value;let Q=I.length;for(;Q;){const O=I[--Q];if(O.optionValue===p){z.setTrue(O);break}}}},y=p=>{if(p.groupId){const z=n.BAG.getGroup("selected",p.groupId);z&&p.syncTo(z,"__syncValue",
"trueNode")}},r=(p,z)=>{const I=[],Q=p.__v;if(Q)for(const O of Q)z=O.isFormValid(p,null,I)&&z;p.setErrorMessages(I);p.setIsValid(z);return z},D=(p,z,I)=>{if(p=p.__vp)for(const Q of p)Q[I]&&(z=Q.process(z));return z},w=n.ValueProcessor=new u("ValueProcessor",{initialize:function(p,z,I,Q){this.id=p;this.runForDefault=!!z;this.runForRollback=!!I;this.runForCurrent=!!Q},process:p=>p}),E=n.ToNumberValueProcessor=new u("ToNumberValueProcessor",w,{process:p=>{if(null==p||""===p||"-"===p)return p;const z=
Number(p);return isNaN(z)?p:z}}),J=n.TrimValueProcessor=new u("TrimValueProcessor",w,{initialize:function(p,z,I,Q,O){this.callSuper(p,z,I,Q);this.trim=O},process:function(p){p+="";switch(this.trim){case "start":case "left":return p.trimStart();case "end":case "right":return p.trimEnd();default:return p.trim()}}}),P=n.UndefinedValueProcessor=new u("UndefinedValueProcessor",w,{initialize:function(p,z,I,Q,O){this.callSuper(p,z,I,Q);this.defaultValue=O},process:function(p){return void 0===p?this.defaultValue:
p}}),B=n.Form=new t("Form",{extend:{ACCELERATOR_SCOPE_ROOT:"root",ACCELERATOR_SCOPE_ELEMENT:"element",ACCELERATOR_SCOPE_NONE:"none"},initNode:function(p,z){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(p,z);this.form?.isA(B)&&this.form.addSubForm(this)},destroy:function(){this.form?.isA(B)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(p){this.set("errorMessages",p,!0)},getFullId:function(){const p=[this.id];
let z=this.form;for(;z&&z.id;)p.unshift(z.id),z=z.form;return p.join(".")},setId:function(p){if(this.id!==p){const z=this.id;this.id=p;(p=this.form)&&this.inited&&(p.removeSubForm(z),p.addSubForm(this))}},setForm:function(p){if(this.form!==p){const z=this.form;this.form=p;z?.removeSubForm(this.id);this.inited&&p?.addSubForm(this)}},setIsValid:function(p){this.isValid=p;this.inited&&this.fireEvent("isValid",p);const z=this.form;z&&!this._lockCascade&&(p?z.verifyValidState(this):z.notifySubFormInvalid())},
setIsChanged:function(p){if(this.isChanged!==p){this.isChanged=p;this.inited&&this.fireEvent("isChanged",p);const z=this.form;z&&!this._lockCascade&&(p?z.notifySubFormChanged():z.verifyChangedState(this))}},setValidators:function(p){let z=p.length;for(;z;){const I=p[--z];"string"===typeof I&&(p[z]=h.validators.getValidator(I),p[z]||p.splice(z,1))}this.__v=p},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(G))return this.value;const p={},z=this.__sf;for(const I in z)p[I]=
z[I].getValue();return p},setValue:function(p){this.callSuper?.(p);if("object"===typeof p&&!this.isA(G))for(const z in p){const I=this.getSubForm(z);I?p[z]=I.setValue(p[z]):g("ID in setValue for missing subform",z)}this.form?.notifyValueChanged(this);return p},getDefaultValue:function(){const p={};let z=this.__sf;for(const I in z)p[I]=z[I].getDefaultValue();return p},setDefaultValue:function(p){if("object"===typeof p)for(const z in p){const I=this.getSubForm(z);I?p[z]=I.setDefaultValue(p[z]):g("ID in setDefaultValue for missing subform",
z)}return p},getRollbackValue:function(){const p={},z=this.__sf;for(const I in z)p[I]=z[I].getRollbackValue();return p},setRollbackValue:function(p){if("object"===typeof p)for(const z in p){const I=this.getSubForm(z);I?p[z]=I.setRollbackValue(p[z]):g("ID in setRollbackValue for missing subform",z)}return p},addAccelerator:function(p,z){this.__acc[p]=z},removeAccelerator:function(p){delete this.__acc[p]},invokeAccelerator:function(p,z){this.__acc[p]?.call(this,z??null)},addValidator:function(p){p&&
this.__v.push(p)},removeValidator:function(p){if(p){const z=this.__v;let I=z.length;for(;I;){const Q=z[--I];if(Q.id===p)return z.splice(I,1),Q}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(p){const z=p.id;null!=this.getSubForm(z)?g("ID in use for subform, add aborted",z,p):(p.setForm(this),this.__sf[z]=p,p.isChanged&&this.notifySubFormChanged(),p.isValid||this.notifySubFormInvalid())},removeSubForm:function(p){const z=this.getSubForm(p);z&&(z.setForm(null),
delete this.__sf[p],this.verifyChangedState(),this.verifyValidState());return z},getSubForm:function(p){return this.__sf[p]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(p){p&&this.doValidation();const z=[];(function O(Q){if(Q.isA(G))Q.isValid||z.push(Q.getFullId());else{Q=Q.getSubForms();for(const S in Q)O(Q[S])}})(this);return z},getAllErrorMessages:function(){const p=this.__sf;let z=(this.errorMessages??[]).slice();for(const I in p)z.push(...p[I].getAllErrorMessages());
return z},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(p){const z=this.__sf;let I=!0;for(const Q in z){const O=z[Q];O!==p&&(I=O.isValid&&I)}return r(this,I)},doValidation:function(){const p=this.__sf;let z=!0;for(const I in p)z=p[I].doValidation()&&z;this._lockCascade=!0;z=r(this,z);this._lockCascade=!1;return z},notifyValueChanged:function(p){this.form?.notifyValueChanged(p)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(p){const z=
this.__sf;let I=!1;for(const Q in z){const O=z[Q];O!==p&&(I=O.isChanged||I)}this.setIsChanged(I);return I},setup:function(p,z,I){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;p??={};z??={};I??={};const Q=this.__sf;for(const O in Q)Q[O].setup(p[O],z[O],I[O])},resetForm:function(){this._lockCascade=!0;const p=this.__sf;for(const z in p)p[z].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=
!1},rollbackForm:function(){this._lockCascade=!0;const p=this.__sf;for(const z in p)p[z].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const p={},z=this.__sf;for(const I in z){const Q=z[I];Q.isChanged&&(p[I]=Q.getChangedValue())}return p}}),G=n.FormElement=new t("FormElement",{include:[B],initNode:function(p,z){this.__vp=[];this.callSuper(p,z)},getValue:function(){return D(this,this.callSuper?this.callSuper():this.value,
"runForCurrent")},setValue:function(p){void 0===p&&(p=this.getRollbackValue());this.value!==p&&(this.callSuper(p),this.verifyChangedState());return p},getDefaultValue:function(){return D(this,this.defaultValue,"runForDefault")},setDefaultValue:function(p){this.defaultValue!==p&&(this.defaultValue=p,this.inited&&this.fireEvent("defaultValue",p),this.verifyChangedState());return p},getRollbackValue:function(){return D(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(p){void 0===
p&&(p=this.getDefaultValue());this.rollbackValue!==p&&(this.rollbackValue=p,this.inited&&this.fireEvent("rollbackValue",p),this.verifyChangedState());return p},setValueProcessors:function(p){let z=p.length;for(;z;){const I=p[--z];"string"===typeof I&&(p[z]=a[I],p[z]||p.splice(z,1))}this.__vp=p},addValueProcessor:function(p){this.__vp.push(p)},removeValueProcessor:function(p){if(p){const z=this.__vp;let I=z.length;for(;I;){const Q=z[--I];if(Q.id===p)return z.splice(I,1),Q}}},addSubForm:p=>{m("addSubForm unsupported on FormElement")},
getSubForm:p=>{m("getSubForm unsupported on FormElement")},removeSubForm:p=>{m("removeSubForm unsupported on FormElement")},verifyChangedState:function(p){p=this.getValue()!==this.getRollbackValue();this.setIsChanged(p);return p},setup:function(p,z,I){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(p);this.setRollbackValue(z);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(I)},resetForm:function(){this._lockCascade=
!0;const p=this.getDefaultValue();this.setRollbackValue(p);this.setValue(p);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),x=n.FormInputTextMixin=new t("FormInputTextMixin",{include:[G,l],initNode:function(p,z){this.acceleratorScope=
"element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";z.bgColor??(z.bgColor="#fff");z.borderWidth??(z.borderWidth=1);z.borderStyle??(z.borderStyle="solid");this.callSuper(p,z);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(p){this.validateWhen=p},setAcceleratorScope:function(p){this.acceleratorScope=
p},setErrorColor:function(p){this.errorColor=p},setActionRequiredColor:function(p){this.actionRequiredColor=p},setNormalColor:function(p){this.normalColor=p},setIsChanged:function(p){this.callSuper(p);this.inited&&this.updateUI()},setIsValid:function(p){this.callSuper(p);this.inited&&this.updateUI()},setValue:function(p){p=this.callSuper(p);const z=this.validateWhen;"key"!==z&&"blurWithKeyFix"!==z||this.verifyValidState();return p},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":b.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},__hndlKeyDown:function(p){d.isEnterKeyEvent(p)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(p){d.isEscKeyEvent(p)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const p=this.validateWhen;"blur"!==
p&&"blurWithKeyFix"!==p||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});n.RootForm=new t("RootForm",{include:[B],initNode:function(p,z){this.callSuper(p,z);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:k,doInvalidSubmit:k,
doCancel:function(){this.rollbackForm();this.doValidation()}});n.FormCheckbox=new u("FormCheckbox",n.Checkbox,{include:[G],initNode:function(p,z){this.rollbackValue=this.defaultValue=!1;this.callSuper(p,z)}});n.FormComboBox=new u("FormComboBox",n.ComboBox,{include:[G,l],initNode:function(p,z){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(p,z);this.addValueProcessor(v);this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(p){this.validateWhen=p},setAcceleratorScope:function(p){this.acceleratorScope=p},setErrorColor:function(p){this.errorColor=p},setActionRequiredColor:function(p){this.actionRequiredColor=p},setNormalColor:function(p){this.normalColor=p},setIsChanged:function(p){this.callSuper(p);this.inited&&this.updateUI()},setIsValid:function(p){this.callSuper(p);this.inited&&this.updateUI()},setValue:function(p){p=this.callSuper(p);
const z=this.validateWhen;"key"!==z&&"blurWithKeyFix"!==z||this.verifyValidState();return p},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":b.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},notifyPanelShown:function(p){this._isShown=
!0},notifyPanelHidden:function(p){this._isShown=!1},doActivationKeyDown:function(p,z){p!==c.CODE_ESC||this._isShown?this.callSuper(p,z):this.invokeAccelerator("reject")},doActivationKeyUp:function(p){p!==c.CODE_ENTER||this._isShown?this.callSuper(p):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const p=this.validateWhen;"blur"!==p&&"blurWithKeyFix"!==p||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:
this.actionRequiredColor)}});n.FormEditableText=new u("FormEditableText",n.EditableText,{include:[x],__hndlKeyDown:function(p){"nowrap"===this.whitespace&&this.callSuper(p)}});n.FormInputText=new u("FormInputText",n.InputText,{include:[x]});n.FormInputTextArea=new u("FormInputTextArea",n.InputTextArea,{include:[x],__hndlKeyDown:k});n.FormInputSelect=new u("FormInputSelect",n.InputSelect,{include:[G],setValue:function(p){if(!this.__abortSetValue)return p=this.callSuper(p),this.__abortSetValue=!0,this.deselectAll(),
this.selectValues(p),this.__abortSetValue=!1,this.verifyValidState(),p}});n.FormRadioGroup=new u("FormRadioGroup",n.Node,{include:[n.ValueComponent,G],initNode:function(p,z){z.groupId??(z.groupId=n.generateGuid());this.callSuper(p,z);void 0!==this.value&&q(this);y(this)},setValue:function(p){p=this.callSuper(p);this.inited&&q(this);return p},setGroupId:function(p){if(this.groupId!==p){if(this.groupId){const z=n.BAG.getGroup("selected",this.groupId);z&&this.detachFrom(z,"__syncValue","trueNode")}this.groupId=
p;this.inited&&y(this)}},__syncValue:function(p){p=p.value;this.setValue(p?p.optionValue:null)}});n.UseOtherFieldIfEmptyValueProcessor=new u("UseOtherFieldIfEmptyValueProcessor",w,{initialize:function(p,z,I,Q,O){this.callSuper(p,z,I,Q);this.otherField=O},process:function(p){return null==p||""===p?this.otherField.getValue():p}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){f(v=new P("undefToEmpty",!0,!0,!0,""));f(new E("toNumber",!0,!0,!0));f(new J("trimLeft",!0,!0,!0,"left"));
f(new J("trimRight",!0,!0,!0,"right"));f(new J("trimBoth",!0,!0,!0,"both"));h.register("valueProcessors",this)},getValueProcessor:p=>a[p],register:f,unregister:p=>{e(p,z=>{a[z]&&delete a[z]})}})})(myt);
(n=>{const v=JS.Class,{NOOP:u,dumpStack:t}=n,g={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",ico:"image/vnd.microsoft.icon"},k=(b,c)=>{b[c](b,"doDragOver","dragover",!1);b[c](b,"doDragEnter","dragenter",!1);b[c](b,"doDragLeave","dragleave",!1);b[c](b,"doDrop","drop",!1)},d=n.DragDropSupport=new JS.Module("DragDropSupport",{include:[n.DragDropObservable],initNode:function(b,c){this.callSuper(b,c);this.disabled||this.setupDragListeners()},
setDisabled:function(b){this.disabled!==b&&(this.getIDE().disabled=b,this.callSuper(b),this.inited&&(b?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){k(this,"attachToDom")},teardownDragListeners:function(){k(this,"detachFromDom")},doDragOver:u,doDragEnter:u,doDragLeave:u,doDrop:function(b){this.handleFiles(b.value.dataTransfer.files,b)},handleFiles:function(b,c){if(void 0!==b){let a=b.length;for(;a;){const e=this.filterFiles(b[--a]);e&&this.handleDroppedFile(e,
c)}}else t("No File API")},filterFiles:b=>b,handleDroppedFile:u}),l=n.FileInput=new v("FileInput",n.NativeInputWrapper,{initNode:function(b,c){this.inputType="file";this.callSuper(b,c);this.attachToDom(this,"_onChange","change")},setAccept:function(b){this.set("accept",b,!0);this.getIDE().accept=this.accept},setMaxFiles:function(b){this.maxFiles!==b&&(this.set("maxFiles",b,!0),this.getIDE().multiple=1<this.maxFiles)},clearValue:function(){this.getIDE().value=""},_onChange:u}),m=n.Uploader=new v("Uploader",
n.View,{include:[d,n.Disableable,n.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(b,c,a)=>{if(void 0!==FileReader){const e=new FileReader;e.onload=f=>{c(f.target.result)};switch(a){case "text":e.readAsText(b);break;case "arrayBuffer":e.readAsArrayBuffer(b);break;default:e.readAsDataURL(b)}}},isSameFile:(b,c)=>null!=b&&null!=c&&b.name===c.name&&b.type===c.type&&b.size===c.size,createFile:b=>{const c=(new n.URI(b)).file;return{name:c,serverPath:b,size:-1,type:g[n.getExtension(c)]}}},
initNode:function(b,c){const a=this;a.files=[];c.requestFileParam??(c.requestFileParam="file");c.maxFiles??(c.maxFiles=-1);c.responseIsRaw??(c.responseIsRaw=!1);const e=c.accept;delete c.accept;a.callSuper(b,c);a.fileInput=new l(a,{maxFiles:a.maxFiles,accept:e,percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:a.disabled,overflow:"hidden"},[n.SizeToParent,{_onChange:function(f){a.handleFiles(this.getIDE().files,f)}}])},setAccept:function(b){this.fileInput?.setAccept(this.accept)},
getAccept:function(){return this.fileInput?.accept},setMaxFiles:function(b){this.fileInput?.setMaxFiles(this.maxFiles)},getMaxFiles:function(){return this.fileInput?.maxFiles},setValue:function(b){this.clearFiles();if(b){Array.isArray(b)||(b=[b]);for(const c of b)this.addFile(m.createFile(c))}return this.callSuper?this.callSuper(b):b},getValue:function(){return this.value},setDisabled:function(b){this.callSuper(b);this.fileInput?.setDisabled(b)},setUploadUrl:function(b){this.set("uploadUrl",b,!0)},
setRequestFileParam:function(b){this.set("requestFileParam",b,!0)},setResponseIsRaw:function(b){this.set("responseIsRaw",b,!0)},bringSubviewToFront:function(b){b===this.fileInput?this.callSuper(b):this.sendSubviewBehind(b,this.fileInput)},subviewAdded:function(b){this.callSuper(b);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(b,c){this.addFile(b)},filterFiles:function(b){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:b},uploadFiles:function(b,
c){b??=this.uploadUrl;const a=this.files;let e=a.length;for(;e;)this.uploadFile(a[--e],b,c)},makeFetchOptionsForUpload:b=>({method:"POST",body:b}),uploadFile:function(b,c,a){const e=this,f=new FormData;f.append(a??e.requestFileParam,b,b.name.replaceAll("%20"," "));n.doFetch(c??e.uploadUrl,e.makeFetchOptionsForUpload(f),e.responseIsRaw,q=>{e.handleUploadSuccess(b,q)},q=>{e.handleUploadFailure(b,q)})},handleUploadSuccess:function(b,c){b[m.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(b,c);
this.updateValueFromFiles()},handleUploadFailure:(b,c)=>{t("Upload failure:"+c.status+":"+c.message)},parseServerPathFromResponse:(b,c)=>null,addFile:function(b){this.files.push(b);this.updateValueFromFiles();this.fireEvent("addFile",b)},removeFile:function(b){const c=this.files;let a=c.length;for(;a;)if(m.isSameFile(c[--a],b)){c.splice(a,1);this.updateValueFromFiles();this.fireEvent("removeFile",b);break}},updateValueFromFiles:function(){const b=[];var c=this.files;let a=c.length;for(;a;){const e=
c[--a][m.FILE_ATTR_SERVER_PATH];e&&b.push(e)}c=b.length;(this.value=1===c?b[0]:0===c?void 0:b)||this.fileInput.clearValue();this.verifyChangedState();this.form?.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const b=this.files;let c=b.length;for(;c;)this.removeFile(b[--c])}}),h=n.ImageUploader=new v("ImageUploader",m,{extend:{isImageFile:b=>/image/i.test(b.type)},initNode:function(b,c){c.maxFiles=1;this.callSuper(b,c)},filterFiles:function(b){if(h.isImageFile(b)||
this.allowNonImages){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(b)}},addFile:function(b){const c=this,a=h.isImageFile(b);c.callSuper(b);const e=c.imageView=new n.Image(c,{percentOfParentWidth:100,percentOfParentHeight:100,useNaturalSize:!1,imageSize:"contain",imagePosition:"center"},[n.SizeToParent]);e.file=b;const f=q=>{const y=new Image;y.onload=()=>{b.width=y.width;b.height=y.height;e&&!e.destroyed&&c.updateImage(b,e,y.src)};y.src=q};a?-1===b.size?f(b.serverPath):
h.isImageFile(b)&&m.readFile(b,f):-1===b.size?c.updateImage(b,e,b.serverPath):m.readFile(b,q=>{c.updateImage(b,e,q)});return e},removeFile:function(b){this.callSuper(b);const c=this.getSubviews();let a=c.length;for(;a;){const e=c[--a];if(m.isSameFile(e.file,b)){e.destroy();break}}},handleDroppedFile:function(b,c){this.callSuper(b,c);this.uploadFile(b,this.uploadUrl)},updateImage:function(b,c,a){this.nativeWidth=b.width;this.nativeHeight=b.height;c.setImageUrl(a)},getImageSize:function(){return this.files.length?
{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(n=>{const v=(u,t,g,k)=>{g=g.bind(u);"y"!==u.axis&&(g(t,k,"x"),g(t,k,"boundsWidth"));"x"!==u.axis&&(g(t,k,"y"),g(t,k,"boundsHeight"));g(t,k,"visible")};n.SizeToChildren=new JS.Class("SizeToChildren",n.Layout,{initNode:function(u,t){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(u,t)},setAxis:function(u){this.axis!==u&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=u,this.startMonitoringAllSubviews(),this.fireEvent("axis",u),this.update()):this.axis=u)},setPaddingX:function(u){this.paddingX!==
u&&(this.paddingX=u,this.inited&&(this.fireEvent("paddingX",u),this.update()))},setPaddingY:function(u){this.paddingY!==u&&(this.paddingY=u,this.inited&&(this.fireEvent("paddingY",u),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const t=this.parent;if(!t.isBeingDestroyed){const g=this.subviews;var u=g.length;const k=this.axis,d=Math.max;let l,m;if("y"!==k){l=u;for(m=0;l;){const h=g[--l];h.visible&&(m=d(m,h.x+(0<h.boundsWidth?h.boundsWidth:0)))}t.setWidth(m+
this.paddingX)}if("x"!==k){l=u;for(m=0;l;)u=g[--l],u.visible&&(m=d(m,u.y+(0<u.boundsHeight?u.boundsHeight:0)));t.setHeight(m+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(u){v(this,u,this.attachTo,"update")},stopMonitoringSubview:function(u){v(this,u,this.detachFrom,"update")}})})(myt);
(n=>{let v=0;const u=JS.Class,{View:t,SizeToParent:g,RootView:k,theme:d}=n,l=n.Dimmer=new u("Dimmer",t,{include:[g],initNode:function(m,h){this.restoreFocus=!0;h.focusable=h.focusCage=!0;h.percentOfParentWidth??(h.percentOfParentWidth=100);h.percentOfParentHeight??(h.percentOfParentHeight=100);h.visible??(h.visible=!1);h.ignoreLayout??(h.ignoreLayout=!0);this.callSuper(m,h);this.overlay=new t(this,{ignorePlacement:!0,opacity:d.DimmerOpacity,bgColor:d.DimmerColor,percentOfParentWidth:100,percentOfParentHeight:100},
[g]);for(const b of"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" "))this.attachDomObserver(this,"eatMouseEvent",b);k.setupCaptureDrop(this)},destroy:function(){k.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(m){this.restoreFocus=m},eatMouseEvent:n.TRUE_FUNC,show:function(){const m=n.global.focus;this.prevFocus=m.focusedView??m.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(m){this.visible&&(this.setVisible(!1),
!m&&this.restoreFocus&&this.prevFocus?.focus())}});n.ModalPanel=new u("ModalPanel",l,{extend:{getOpenModalPanelCount:()=>v,hasOpenModalPanels:()=>0<v},initNode:function(m,h){const b={name:"content",ignorePlacement:!0},c={...b,align:"center",valign:"middle"};this.defaultPlacement="content";h.sizingStrategy??(h.sizingStrategy="children");h.marginTop??(h.marginTop=d.ModalPanelMarginTop);h.marginLeft??(h.marginLeft=d.ModalPanelMarginLeft);h.marginBottom??(h.marginBottom=d.ModalPanelMarginBottom);h.marginRight??
(h.marginRight=d.ModalPanelMarginRight);h.paddingX??(h.paddingX=d.ModalPanelPaddingX);h.paddingY??(h.paddingY=d.ModalPanelPaddingY);this.callSuper(m,h);switch(this.sizingStrategy){case "children":new n.SizeToChildren(new t(this,c),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new t(this,{...b,x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,
percentOfParentWidth:100,percentOfParentHeight:100},[g]);break;case "basic":new t(this,c);break;default:new t(this,b)}},setSizingStrategy:function(m){this.sizingStrategy=m},setMarginTop:function(m){this.marginTop=m},setMarginLeft:function(m){this.marginLeft=m},setMarginBottom:function(m){this.marginBottom=m},setMarginRight:function(m){this.marginRight=m},setPaddingX:function(m){this.paddingX=m},setPaddingY:function(m){this.paddingY=m},show:function(){this.callSuper();v++},hide:function(m){this.callSuper(m);
v=Math.max(0,v-1)}})})(myt);
(n=>{const v=t=>{t[t.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},u=t=>{const g=t.size,k=t.getIDS();t.setWidth(g);t.setHeight(g);k.width=k.height=g-2*t.borderWidth+"px"};n.Spinner=new JS.Class("Spinner",n.View,{initNode:function(t,g){this.lateAttrs=["spinColor"];g.visible??(g.visible=!1);g.borderWidth??(g.borderWidth=5);g.borderColor??(g.borderColor="#fff");g.borderStyle??(g.borderStyle="solid");g.spinColor??(g.spinColor="#000");this.callSuper(t,g);this.getIDS().borderRadius="50%";u(this);
v(this)},setSize:function(t){this.size!==t&&(this.size=t,this.inited&&u(this))},setSpinColor:function(t){this.spinColor!==t&&(this.getIDS().borderTopColor=this.spinColor=t,this.inited&&this.fireEvent("spinColor",t))},setBorderWidth:function(t){this.borderWidth!==t&&(this.callSuper(t),this.inited&&u(this))},setVisible:function(t){this.visible!==t&&(this.callSuper(t),this.inited&&v(this))}})})(myt);
(n=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),u=k=>{if(Array.isArray(k)){let d=k.length;if(0<d){k.unshift("fa");d++;k[1].startsWith("fa-")||(k[1]="fa-"+k[1]);3<=d&&(k[2]=v[k[2]]??"");if(3<d)for(let l=3;d>l;l++)k[l].startsWith("fa-")||(k[l]="fa-"+k[l]);return'<i class="'+k.join(" ")+'"></i>'}}n.dumpStack("Error making tag");console.error(k);return""},t=k=>{let d=k.properties;d=d?"string"===typeof d?d.split(" "):d.slice():[];d.unshift(k.icon,k.size);k.setHtml(u(d))},g=k=>{for(const d of["Free 400",
"Free 900","Brands 400"])n.registerForFontNotification(k,"Font Awesome 5 "+d)};n.FontAwesome=new JS.Class("FontAwesome",n.Markup,{extend:{makeTag:u,registerForNotification:g},initNode:function(k,d){this.size=0;this.icon="";this.callSuper(k,d);t(this);g(this)},setIcon:function(k){const d=this.icon;this.set("icon",k,!0);this.inited&&d!==k&&t(this)},setSize:function(k){const d=this.size;this.set("size",k,!0);this.inited&&d!==k&&t(this)},setProperties:function(k){this.properties=k;this.fireEvent("properties",
k);this.inited&&t(this)}});n.loadCSSFonts(["https://use.fontawesome.com/releases/v5.15.4/css/all.css"])})(myt);
(n=>{let v,u,t,g,k=0,d=0,l=0,m=255,h=[],b,c,a,e,f,q,y,r,D,w,E,J,P,B,G,x,p,z,I,Q,O,S,W,A,C,F;const L=JS.Class,{View:N,Text:T,ModalPanel:R,SizeToChildren:X,SpacedLayout:aa,WrappingLayout:ca,SelectionManager:ta,Color:ua,LocalStorage:Da,Button:za,TextButton:qa,Draggable:Ea,FontAwesome:{makeTag:ra},theme:Z}=n,{min:la,max:ma}=Math,Ia=new L("DialogButton",qa,{initNode:function(H,K){K.height??(K.height=17);K.paddingTop??(K.paddingTop=3);K.paddingLeft??(K.paddingLeft=10);K.paddingRight??(K.paddingRight=10);
K.activeColor??(K.activeColor="#bbb");K.hoverColor??(K.hoverColor="#ddd");K.readyColor??(K.readyColor="#ccc");K.domClass="mytButtonText";this.callSuper(H,K)}}),Ja=ra(["check"]),Ga=H=>{for(let K of H)7===K?.length&&(K+="ff"),Fa[K]=!0},Fa={},Ka=new L("Swatch",N,{include:[za],initNode:function(H,K){const M=K.width=K.height=16;K.border=Z.border1s9;K.domClass="mytCheckerboardPattern";const U=K.bgColor;this.callSuper(H,K);this.colorView=new N(this,{width:M,height:M,bgColor:U});U===g&&(H=ua.makeColorFromHexString(g),
new T(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>H.red+H.green+H.blue?"#fff":"#000"}))},setBgColor:function(H){this.colorView?.setBgColor(H);this.setTooltip(H)},doActivated:function(){v.setColor(this.colorView.bgColor)},drawHoverState:function(){this.setBorder(Z.border1s3)},drawReadyState:function(){this.setBorder(Z.border1s9)}}),La=n.ColorPicker=new L("ColorPicker",N,{initNode:function(H,K){v=this;v._isReady=!1;let M=K.color??"transparent";delete K.color;t=K.alphaChannel??!1;delete K.alphaChannel;
b=K.palette??[];Ga(b);delete K.palette;u="transparent"===M;v.callSuper(H,K);c=new N(v,{width:160,height:170});new ca(c,{spacing:4,lineSpacing:4});a=new N(v,{x:170,width:139,height:139,border:Z.border1s3},[Ea,{requestDragPosition:function(U,V){a.callSuper(a.x,a.y);const ba=this.getPagePosition();d=parseFloat(ma(0,la(1,(U+this.dragInitX-ba.x)/this.width)));l=parseFloat(1-ma(0,la(1,(V+this.dragInitY-ba.y)/this.height)));u=!1;v.updateUI()}}]);H=new N(a,{width:139,height:139});K=new N(H,{width:139,height:139});
H.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";K.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";e=new N(K,{width:6,height:6,bgColor:"#000",border:[1,"solid","#fff"],roundedCorners:4});f=new N(v,{x:315,y:30,width:24,height:109,border:Z.border1s3},[Ea,{requestDragPosition:function(U,V){this.callSuper(f.x,f.y);k=parseFloat(ma(0,la(1,(V+this.dragInitY-this.getPagePosition().y)/this.height)));u=!1;v.updateUI()}}]);f.getIDS().background=
"linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";q=new N(f,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new N(v,{x:315,width:24,height:24,border:Z.border1s3,tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[za,{doActivated:()=>{v.setColor("transparent")}}]);H=146;t&&(D=new n.LabelSlider(v,{x:170,y:H,width:171,minValue:0,maxValue:255,flipThreshold:55,labelColor:"#fff"},[{setText:function(U,V){V=U.value;if(null==V||
isNaN(V))V=0;U.value=n.formatAsPercentage(V/255,0);this.callSuper(U,!0);m=V;v._isReady&&(u=!1,v.updateUI())}}]),H+=23);y=new n.InputText(v,{x:236,y:H,width:105,height:25,roundedCorners:3,textColor:Z.DialogInputFgColor,border:Z.border1s3,maxLength:11,fontFamily:"monospace"});v.attachToDom(y,"_submitInput","blur");v.attachToDom(y,"_handleKeyDown","keydown");y.getIDS().paddingLeft="6px";H=new N(v,{x:170,y:H,width:60,height:23,border:Z.border1s3,domClass:"mytCheckerboardPattern"});new N(H,{width:30,height:23,
focusIndicator:!1,bgColor:M},[za,{doActivated:()=>{v.setColor(M)}}]);r=new N(H,{x:30,width:30,height:23});if(H=Da.getItem("myt.default"))h=H.split(";"),Ga(h);v.setColor(M);v._isReady=!0},_handleKeyDown:H=>{n.KeyObservable.isEnterKeyEvent(H)&&v._submitInput()},_submitInput:()=>{v.setColor(y.value)},addToPalette:H=>{H&&"transparent"!==H&&!Fa[H]&&(h.unshift(H),h.length=la(h.length,56),Da.setItem("myt.default",h.join(";")))},setColor:H=>{const K=H&&"transparent"!==H;if(t){let M="ff";K&&7<H.length&&(M=
H.slice(7,9),H=H.slice(0,7));D.setValue(parseInt(M,16))}else K&&7<H.length&&(H=H.slice(0,7));K?(H=ua.makeColorFromHexString(H).getHSV(),k=H.h/360,d=H.s,l=H.v,u=!1):u=!0;v.updateUI()},getColor:()=>{if(u)return"transparent";let H="";t&&(H=m.toString(16),2>H.length&&(H="0"+H));return ua.makeColorFromHSV(360*k,100*d,100*l).getHtmlHexString()+H},updateUI:()=>{const H=!u;q.setVisible(H);e.setVisible(H);H&&(e.setX(ma(0,la(1,d)*(a.width+2))-5),e.setY(ma(0,la(1,1-l)*(a.height+2))-5),q.setY(k*(f.height-2)-
1));a.setBgColor(ua.makeColorFromHSV(360*k,100,100).getHtmlHexString());g=v.getColor();y.setValue(g);r.setBgColor(g);v.redrawPalette()},redrawPalette:n.debounce(()=>{c.destroyAllSubviews();const H=new Set;b.push(...h);for(let K of b)if(t||7===K.length)7===K.length&&(K+="ff"),H.has(K)||(new Ka(c,{bgColor:K}),H.add(K))},50)}),Aa=H=>{H=H.split(":");return[ma(0,la(23,parseInt(H[0]))),ma(0,la(60,parseInt(H[1])))]},Ha=new L("SelectableBtn",qa,{include:[n.Selectable],setSelected:function(H){this.callSuper(H);
this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),this.setTextColor("#fff")):this.setTextColor()}}),Ma=new L("TimeBtn",Ha,{initNode:function(H,K){K.width=P?175:49;this.callSuper(H,K)},doActivated:function(){this.callSuper();const H=this.text,K=Aa(H);F.selectById(H);O.setHours(K[0]);O.setMinutes(K[1])}}),Na=new L("DayBtn",Ha,{initNode:function(H,K){K.width=23;K.border=Z.DialogDayBtnBorder;this.callSuper(H,K)},setData:function(H){this.data=H},setIsAnotherMonth:function(H){this.isAnotherMonth=
H},setIsToday:function(H){this.isToday=H},setIsSunday:function(H){this.isSunday=H},setIsSaturday:function(H){this.isSaturday=H},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?Z.DialogDayBtnBorderColorToday:Z.DialogDayBtnBorderColor))},doActivated:function(){this.callSuper();const H=new Date(this.data);H.setHours(O.getHours());H.setMinutes(O.getMinutes());
sa(H)}}),sa=H=>{H.setSeconds(0);H.setMilliseconds(0);var K=6>=G.length,M;if(K)for(M=7;M--&&!G.includes(H.getDay());)H.setDate(H.getDate()+1);O=H;const U=F.getODE().scrollTop;var V=new Date,ba=V.getFullYear(),Y=V.getMonth(),da=V.getDate();const ha=H.getFullYear(),ia=H.getMonth(),oa=H.getDate();var ja=H.getTime();V=H.getHours();H=H.getMinutes();const va=(new Date(ha,ia,1)).getDay()-B,wa=(new Date(ha,ia+1,0)).getDate(),Ba=(new Date(ha,ia,0)).getDate(),xa=new Date(ha,ia,0),ya=new Date(ha,ia+2,0);ba=ba==
ha&&Y==ia;if(!P){Y=C;Y.deselectAll();Y.destroyAllSubviews();M=new Date(ja);const na=7+B;Y=E.days;W.setText(ha+" "+E.sep+" "+E.months[ia]);M.setMinutes(59);M.setHours(23);M.setSeconds(59);M.setDate(0);S.setVisible(null==x||x<M.getTime());M.setMinutes(0);M.setHours(0);M.setSeconds(0);M.setDate(1);M.setMonth(ia+1);A.setVisible(null==p||p>M.getTime());for(M=0;7>M;M++)new T(C,{width:23,height:20,textAlign:"center",text:Y[(M+na)%7],textColor:"#999"});M=0;let ka=42;0>va&&(M=-7,ka=35);Y=new Date(ja);Y.setHours(0);
Y.setMinutes(0);for(Y.setSeconds(0);M<ka;M++){var ea=M+1-va;const Ca=(M+na)%7,fa=new Na(C);va>M?(fa.setText(Ba+ea),fa.setData(xa.getFullYear()+"/"+(xa.getMonth()+1)+"/"+(Ba+ea)),fa.setIsAnotherMonth(!0),Y.setDate(Ba+ea),Y.setMonth(xa.getMonth()),Y.setYear(xa.getFullYear())):M<va+wa?(fa.setText(ea),fa.setData(ha+"/"+(ia+1)+"/"+ea),Y.setDate(ea),Y.setMonth(ia),Y.setYear(ha)):(fa.setText(ea-wa),fa.setData(ya.getFullYear()+"/"+(ya.getMonth()+1)+"/"+(ea-wa)),fa.setIsAnotherMonth(!0),Y.setDate(ea-wa),Y.setMonth(ya.getMonth()),
Y.setYear(ya.getFullYear()));K&&!G.includes(Ca)?fa.setDisabled(!0):(0===Ca?fa.setIsSunday(!0):6===Ca&&fa.setIsSaturday(!0),ea===oa&&(C.select(fa),fa.focus()),ba&&ea===da&&fa.setIsToday(!0),ea=new Date(Y.getTime()),ea.setHours(23),ea.setMinutes(59),ea.setSeconds(59),(null!=x&&x>ea.getTime()||null!=p&&p<Y.getTime())&&fa.setDisabled(!0));fa.updateUI()}}if(!J){K=60*I[0]+I[1];da=F;da.deselectAll();da.destroyAllSubviews();let [na,ka]=z;for(Y=new Date(ja);60*na+ka<K;)ja=new Ma(F,{text:("0"+na).slice(-2)+
":"+("0"+ka).slice(-2)}),na===V&&ka===H&&F.select(ja),Y.setHours(na),Y.setMinutes(ka),da=Y.getTime(),(null!=x&&x>da||null!=p&&p<da)&&ja.setDisabled(!0),ka+=Q,60<=ka&&(ka-=60,na++);F.scrollYTo(U)}},Oa=n.DatePicker=new L("DatePicker",N,{initNode:function(H,K){w=this;const M={current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null,...K.opt};delete K.opt;w.callSuper(H,K);
E=M.locales[M.locale??"en"];J=M.dateOnly;P=M.timeOnly;B=M.firstDayOfWeek;Q=ma(5,la(30,M.minuteInterval));G=M.allowedDays;Array.isArray(G)&&0!==G.length||(G=[0,1,2,3,4,5,6]);x=Date.parse(M.minDate);x=isNaN(x)?null:x;p=Date.parse(M.maxDate);p=isNaN(p)?null:p;z=Aa(M.minTime);I=Aa(M.maxTime);H=new N(w,{visible:!P});M.showTodayButton&&new qa(H,{width:24,text:ra(["home"]),tooltip:E.today},[{doActivated:()=>{sa(new Date)}}]);S=new qa(H,{width:24,x:28,text:ra(["chevron-left"]),tooltip:E.prevMonth},[{doActivated:()=>
{const U=(new Date(O.getFullYear(),O.getMonth(),0)).getDate();U<O.getDate()&&O.setDate(U);O.setMonth(O.getMonth()-1);sa(O);S.focus()}}]);W=new T(H,{width:100,x:52,textAlign:"center"});A=new qa(H,{width:24,x:152,text:ra(["chevron-right"]),tooltip:E.nextMonth},[{doActivated:()=>{var U=(new Date(O.getFullYear(),O.getMonth()+1,0)).getDate();U<O.getDate()&&O.setDate(U);U=(new Date(O.getFullYear(),O.getMonth()+2,0)).getDate();U<O.getDate()&&O.setDate(U);O.setMonth(O.getMonth()+1);sa(O);A.focus()}}]);C=
new N(w,{y:25,width:175,height:175,visible:!P,maxSelected:1,itemSelectionId:"data"},[ta]);new ca(C,{spacing:2,lineInset:2,lineSpacing:3});F=new N(w,{x:P?0:195,y:P?0:25,width:(P?175:49)+n.DomElementProxy.getScrollbarSize(),height:P?200:175,overflow:"autoy",visible:!J,maxSelected:1,itemSelectionId:"text"},[ta]);new aa(F,{axis:"y",inset:1,spacing:3});w.setWidth(F.visible?F.x+F.width:C.width);sa(M.current??new Date)},getPickedDate:()=>O}),pa=n.Dialog=new L("Dialog",R,{extend:{BUTTON_CLASS:Ia,WRAP_TEXT_DEFAULTS:{width:200,
fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000",alphaChannel:!1},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",
locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}},locale:"en"}},initNode:function(H,K){K.buttonClass??(K.buttonClass=pa.BUTTON_CLASS);this.callSuper(H,K);H=this.content;H.setRoundedCorners(Z.DialogRadius);H.setBgColor(Z.DialogBgColor);H.setBoxShadow(Z.DialogShadow);H.setBorder(Z.DialogBorder);H.setFocusCage(!0);this.makeCloseButton(H)},setButtonClass:function(H){this.buttonClass=
H},setCallbackFunction:function(H){this.callbackFunction=H},makeButton:function(H,K){const M=this;return new M.buttonClass(H,K,[{doActivated:function(){M.doCallback(this)}}])},makeCloseButton:function(H){return H.closeBtn=this.makeButton(H,{ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ra(["times"]),tooltip:"Close Dialog."})},hide:function(H){this.spinner&&
(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(H)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const H=this.content,K=H.sizeToChildren;H.destroyAllSubviews(M=>"closeBtn"!==M.name);H.setVisible(!0);this.overlay.setBgColor(Z.DimmerColor);this.setCallbackFunction();K.setPaddingY(Z.ModalPanelPaddingY);K.setPaddingX(Z.ModalPanelPaddingX);H.setRoundedCorners(Z.DialogRadius);H.setBgColor(Z.DialogBgColor);H.setBoxShadow(Z.DialogShadow);H.setBorder(Z.DialogBorder)},
doCallback:function(H){const K=this.callbackFunction;K&&K.call(this,H.name)||this.hide()},showBlank:function(H){this.destroyContent();this.content.setVisible(!1);H?.bgColor&&this.overlay.setBgColor(H.bgColor);this.show()},showMessage:function(H,K,M){const U=this.content,V=U.closeBtn;M={...pa.WRAP_TEXT_DEFAULTS,...M};this.destroyContent();this.setCallbackFunction(K);H=U.msg=new T(U,{text:H,whiteSpace:M.whiteSpace,wordWrap:M.wordWrap,fontWeight:M.fontWeight,x:null==M.msgX?Z.ModalPanelPaddingX:M.msgX,
y:null==M.msgY?Z.ModalPanelPaddingY:M.msgY,width:M.width});M.titleText&&(this.setupTitle(U,M.titleText),H.setY(H.y+24));this.show();!1===M.showClose?V.destroyed||V.setVisible(!1):(V.setVisible(!0),V.focus())},showSimple:function(H,K,M,U){M=M??{};const V=this.content,ba=V.closeBtn,Y=M.maxContainerHeight;this.destroyContent();M.bgColor&&V.setBgColor(M.bgColor);M.roundedCorners&&V.setRoundedCorners(M.roundedCorners);M.boxShadow&&V.setBoxShadow(M.boxShadow);M.border&&V.setBorder(M.border);V.sizeToChildren.setPaddingX(1);
this.setCallbackFunction(K);K=V.contentContainer=new N(V,{x:1,y:25,overflow:"auto"},[{setHeight:function(da){da>Y&&(da=Y);this.callSuper(da)}}]);H.call(this,K);new X(K,{axis:"both"});this.show();ba.setVisible(!0);ba.focus();M.titleText&&(this.setupTitle(V,M.titleText),K.setY(this.header.height+1));K.initialFocus?.focus();U?.(this)},showConfirm:function(H,K,M){M={...pa.CONFIRM_DEFAULTS,...M};this.showMessage(H,K,M);this.setupFooterButtons(this.content.msg,M)},showContentConfirm:function(H,K,M,U){M=
{...pa.CONFIRM_DEFAULTS,...M};const V=this.content,ba=V.closeBtn,Y=M.maxContainerHeight;this.destroyContent();V.sizeToChildren.setPaddingX(1);this.setCallbackFunction(K);K=V.contentContainer=new N(V,{x:1,y:25,overflow:"auto"},[{setHeight:function(da){this.callSuper(da>Y?Y:da)}}]);H.call(this,K);new X(K,{axis:"both"});this.show();!1===M.showClose?ba.destroyed||ba.setVisible(!1):(ba.setVisible(!0),ba.focus());this.setupTitle(V,M.titleText);K.setY(this.header.height+1);this.setupFooterButtons(K,M);K.initialFocus?.focus();
U?.(this)},showSpinner:function(H,K){const M=this.content;K={...pa.NO_WRAP_TEXT_DEFAULTS,...K};this.destroyContent();const U=this.spinner=new n.Spinner(M,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==K.msgY?Z.ModalPanelPaddingY:K.msgY});H&&(this.msgTxt=new T(M,{text:H,whiteSpace:K.whiteSpace,wordWrap:K.wordWrap,fontWeight:K.fontWeight,x:null==K.msgX?Z.ModalPanelPaddingX:K.msgX,y:U.y+U.size+Z.ModalPanelPaddingY,width:K.width}));this.show();M.closeBtn.setVisible(!1);this.focus()},updateMessage:function(H){this.msgTxt?.setText(H)},
showColorPicker:function(H,K){const M=this,U=M.content,V=U.closeBtn;K={...pa.COLOR_PICKER_DEFAULTS,...K};M.destroyContent();M.setCallbackFunction(ba=>{switch(ba){case "closeBtn":case "cancelBtn":H.call(M,ba);break;case "confirmBtn":const Y=v.getColor();v.addToPalette(Y);H.call(M,ba,Y)}v.destroy()});v=new La(U,{x:Z.ModalPanelPaddingX,y:Z.ModalPanelPaddingY+24,width:337,height:177+(K.alphaChannel?23:0),color:K.color,alphaChannel:K.alphaChannel,palette:"#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777 #888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")});
M.show();V.setVisible(!0);V.focus();M.setupFooterButtons(v,K);M.setupTitle(U,K.titleText)},showDatePicker:function(H,K){const M=this,U=M.content,V=U.closeBtn;K={...pa.DATE_PICKER_DEFAULTS,...K};M.destroyContent();M.setCallbackFunction(ba=>{switch(ba){case "closeBtn":case "cancelBtn":H.call(M,ba);break;case "confirmBtn":H.call(M,ba,w.getPickedDate())}w.destroy()});w=new Oa(U,{x:Z.ModalPanelPaddingX,y:Z.ModalPanelPaddingY+24,height:195,opt:{current:new Date(K.initialDate??Date.now()),dateOnly:K.dateOnly||
!1,timeOnly:K.timeOnly||!1,locales:K.locales,locale:K.locale}});M.show();V.setVisible(!0);V.focus();M.setupFooterButtons(w,K);M.setupTitle(U,K.timeOnly?K.timeOnlyTitleText:K.titleText)},setupTitle:function(H,K){const M=Z.DialogRadius;(this.header=new N(H,{ignoreLayout:!0,width:H.width,height:24,bgColor:"#eee",roundedTopLeftCorner:M,roundedTopRightCorner:M})).sendToBack();H.title=new T(H,{x:M,y:4,text:K,fontWeight:"bold"})},setupFooterButtons:function(H,K){const M=this.content;var U=Z.ModalPanelPaddingY,
V=U/2;H=M.btnContainer=new N(M,{y:H.y+H.height+U,align:"center"});const ba=["active","hover","ready","text"];U=K.cancelAttrs??{};var Y;(Y=U).name??(Y.name="cancelBtn");let da;(da=U).text??(da.text=K.cancelTxt);for(let ja of ba)ja+="Color",null!=K[ja]&&(U[ja]=K[ja]);Y=this.makeButton(H,U);U=K.confirmAttrs??{};var ha;(ha=U).name??(ha.name="confirmBtn");let ia;(ia=U).text??(ia.text=K.confirmTxt);for(var oa of ba)oa+="Color",ha=oa+"Confirm",null!=K[ha]&&(U[oa]=K[ha]);this.makeButton(H,U);if(oa=K.button)for(const ja of oa)this.makeButton(H,
ja);new X(H,{axis:"y"});new aa(H,{spacing:4,collapseParent:!0});M.sizeToChildren.setPaddingY(V);V=H.y-V;(new N(M,{ignoreLayout:!0,y:V,width:M.width,height:M.height-V,bgColor:"#eee"})).sendToBack();!1===K.showClose&&Y.focus()}})})(myt);
(n=>{const v=JS.Class,u=n.dumpStack,t={},g=(c,a)=>{if(c){const e=c.id;c.id?a(e):u("No ID")}else u("No validator")},k=c=>{g(c,a=>{t[a]=c})},d=n.Validator=new v("Validator",{initialize:function(c){this.id=c},isValid:n.TRUE_FUNC,isFormValid:function(c,a,e){a??={};a.form=c;return this.isValid(c.getValue(),a,e)}}),l=n.RequiredFieldValidator=new v("RequiredFieldValidator",d,{isValid:(c,a,e)=>null==c||""===c||"string"===typeof c&&""===c.trim()?(e?.push("This value is required."),!1):!0}),m=n.EqualsIgnoreCaseValidator=
new v("EqualsIgnoreCaseValidator",d,{isValid:(c,a,e)=>{a=a.form.getRollbackValue();return c&&a&&c.toLowerCase()===a.toLowerCase()?(e?.push("Value must differ by more than just case."),!1):!0}}),h=n.URLValidator=new v("URLValidator",d,{initialize:function(c,a){this.callSuper(c);this.originalRawQuery=a},isValid:function(c,a,e){return(new n.URI(c)).toString(this.originalRawQuery)!==c?(e?.push("Invalid URL."),!1):!0}}),b=n.JSONValidator=new v("JSONValidator",d,{isValid:(c,a,e)=>{try{return JSON.parse(c),
!0}catch(f){return e?.push(f),!1}}});n.RegexValidator=new v("RegexValidator",d,{initialize:function(c,a,e){this.callSuper(c);this.regex=new RegExp(a);this.errorMsg=e},isValid:function(c,a,e){c=this.regex.test(c);!c&&this.errorMsg&&e?.push(this.errorMsg);return c}});n.EqualFieldsValidator=new v("EqualFieldsValidator",d,{initialize:function(c,a,e){this.callSuper(c);this.fieldA=a;this.fieldB=e},isValid:function(c,a,e){const {fieldA:f,fieldB:q}=this;if(f?.inited&&q?.inited){if(c&&f.getValue()===q.getValue())return!0;
e?.push('The field "'+f.key+'" must be equal to the field "'+q.key+'".')}return!1}});n.LengthValidator=new v("LengthValidator",d,{initialize:function(c,a,e){this.callSuper(c);this.min=a;this.max=e},isValid:function(c,a,e){c=c?c.length:0;a=this.min;const f=this.max;return void 0!==a&&a>c?(e?.push("The value must not be less than "+a+" characters long."),!1):void 0!==f&&f<c?(e?.push("The value must not be greater than "+f+" characters long."),!1):!0}});n.NumericRangeValidator=new v("NumericRangeValidator",
d,{initialize:function(c,a,e){this.callSuper(c);this.min=a;this.max=e},isValid:function(c,a,e){if(""===c)return!0;c=Number(c);a=this.min;const f=this.max;return isNaN(c)?(e?.push("Value is not a number."),!1):void 0!==a&&a>c?(e?.push("Value must not be less than "+a+"."),!1):void 0!==f&&f<c?(e?.push("Value must not be greater than "+f+"."),!1):!0}});n.CompoundValidator=new v("CompoundValidator",d,{initialize:function(c,...a){this.callSuper(c);for(c=a.length;c;){let e=a[--c];"string"===typeof e&&((a[c]=
e=t[e])||a.splice(c,1))}this.__v=a},addValidator:function(c){"string"===typeof c&&(c=t[c]);c&&this.__v.push(c)},isValid:function(c,a,e){const f=this.__v,q=f.length;let y=!0,r=0;for(;q>r;)y=f[r++].isValid(c,a,e)&&y;return y}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){k(new l("required"));k(new m("equalsIgnoreCase"));k(new h("url"));k(new b("json"));n.global.register("validators",this)},getValidator:c=>t[c],register:k,unregister:c=>{g(c,a=>{t[a]&&delete t[a]})}})})(myt);
(n=>{const v=JS.Class,{min:u,max:t,round:g,abs:k}=Math,{NOOP:d,View:l}=n,m=new v("SliderThumb",n.SimpleButton,{include:[n.Draggable,n.ArrowKeyActivation],initNode:function(b,c){const a=c.width=b.thumbWidth,e=c.height=b.thumbHeight;c.roundedCorners=u(e,a)/2;c.repeatKeyDown=!0;c.activationKeys=n.global.keys.ARROW_KEYS;c.activeColor="#bbb";c.readyColor="#ccc";c.hoverColor="#ddd";c.boxShadow=[0,0,4,"#666"];this.callSuper(b,c);this["x"===b.axis?"setY":"setX"](b.thumbOffset);this.syncTo(b,"setDisabled",
"disabled");b._syncThumbToValue(this,b.getValue())},setDisabled:function(b){this.callSuper(this.valueFromEvent(b))},setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b.syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b.syncValueToThumb(this))},requestDragPosition:function(b,c){if(!this.disabled){const a=this.parent,e=a.getMinPixelValueForThumb(this),f=
a.getMaxPixelValueForThumb(this),q=a.snapThreshold;let y;"x"===a.axis?(y=this.width/2,c="setX"):(y=this.height/2,b=c,c="setY");if(a.allowSnap(this))for(let r of a.getSnapValuesAsPx())if(r-=y,k(b-r)<=q){b=r;break}this[c](u(t(b,e-y),f-y))}},doKeyArrowLeftOrUp:function(b,c){b?this.parent.nudgeValueLeft(this):this.parent.nudgeValueUp(this);return!0},doKeyArrowRightOrDown:function(b,c){b?this.parent.nudgeValueRight(this):this.parent.nudgeValueDown(this);return!0}}),h=n.BaseSlider=new v("BaseSlider",l,
{include:[n.Disableable],initNode:function(b,c){c.axis??(c.axis="x");"x"===c.axis?(c.width??(c.width=100),c.height??(c.height=18)):(c.width??(c.width=18),c.height??(c.height=100));c.bgColor??(c.bgColor="#999");c.roundedCorners??(c.roundedCorners=9);c.trackInset??(c.trackInset=9);c.trackOutset??(c.trackOutset=9);c.thumbWidth??(c.thumbWidth=16);c.thumbHeight??(c.thumbHeight=16);c.thumbOffset??(c.thumbOffset=1);c.nudgeAmount??(c.nudgeAmount=1);c.snapThreshold??(c.snapThreshold=8);c.snapValues??(c.snapValues=
[]);this.callSuper(b,c)},setAxis:function(b){this.axis=b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setNudgeAmount:function(b){this.nudgeAmount=b},setSnapThreshold:function(b){this.snapThreshold=b},setSnapValues:function(b){this.snapValues=b},getSnapValuesAsPx:function(){const b=[];for(const c of this.snapValues)b.push(this.convertValueToPixels(c));
return b},allowSnap:function(b){var c=b.__lastMousePosition;const a=n.DomElementProxy.getRelativePosition(b.getODE()),e="x"===this.axis;b=e?b.height:b.width;c=e?c.y-a.y:c.x-a.x;return 0<c&&c<b},convertValueToPixels:function(b){const c=this.minValue,a=this.trackInset;return a+(("x"===this.axis?this.width:this.height)-a-this.trackOutset)/(this.maxValue-c)*(b-c)},convertPixelsToValue:function(b){const c=this.minValue,a=this.trackInset;return(this.maxValue-c)/(("x"===this.axis?this.width:this.height)-
a-this.trackOutset)*(b-a)+c},nudgeValueLeft:function(b){this._nudge(b,!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,!0)},_nudge:d,_syncThumbToValue:function(b,c){c=this.convertValueToPixels(c);"x"===this.axis?b.setX(c-b.width/2):b.setY(c-b.height/2)},syncValueToThumb:function(b){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(b,this.convertPixelsToValue("x"===this.axis?b.x+b.width/
2:b.y+b.height/2)),this.__lockSync=!1)},_syncValueToThumb:d,getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}});n.RangeSlider=new v("RangeSlider",h,{include:[n.BoundedRangeComponent],initNode:function(b,c){let a=c.rangeFillSize;const e=c.rangeFillOffset??0,f=c.rangeFillColor??"#666";delete c.rangeFillSize;delete c.rangeFillOffset;delete c.rangeFillColor;this.callSuper(b,c);b=this.rangeFill=
new l(this,{bgColor:f});"x"===this.axis?(a??=this.thumbHeight,b.setY(e+this.thumbOffset),b.setHeight(a)):(a??=this.thumbWidth,b.setX(e+this.thumbOffset),b.setWidth(a));b.setRoundedCorners(a/2);this.thumbLower=new m(this);this.thumbUpper=new m(this);this._syncRangeFillToValue()},setValue:function(b){this.callSuper(b);this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b){const c=
this.width;this.callSuper(b);this.inited&&"x"===this.axis&&this.width!==c&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},setHeight:function(b){const c=this.height;this.callSuper(b);this.inited&&"y"===this.axis&&this.height!==c&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var c=this.getValue();const a=this.convertValueToPixels(c.lower);
c=this.convertValueToPixels(c.upper)-a;"x"===this.axis?(b.setX(a),b.setWidth(c)):(b.setY(a),b.setHeight(c))},_syncThumbToValue:function(b,c){this.callSuper(b,b===this.thumbLower?c.lower:c.upper)},_syncValueToThumb:function(b,c){let a=this.getValueCopy();a[b===this.thumbLower?"lower":"upper"]=c;this.setValue(a);a=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,a);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,a)},_nudge:function(b,c){const a=this.getValueCopy();c=this.nudgeAmount*
(c?1:-1);b===this.thumbLower?a.lower=u(a.lower+c,a.upper):a.upper=t(a.upper+c,a.lower);this.setValue(a)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(b===this.thumbLower?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(b===this.thumbLower?this.getValue().upper:this.maxValue)}});n.Slider=new v("Slider",h,{include:[n.BoundedValueComponent],initNode:function(b,c){this.callSuper(b,c);this.thumb=new m(this)},setValue:function(b){this.callSuper(b);
this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b){const c=this.width;this.callSuper(b);this.inited&&"x"===this.axis&&this.width!==c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b){const c=this.height;this.callSuper(b);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b,c){this.setValue(c);this._syncThumbToValue(b,this.getValue())},_nudge:function(b,
c){this.setValue(this.getValue()+this.nudgeAmount*(c?1:-1))}});n.LabelSlider=new v("LabelSlider",n.Slider,{initNode:function(b,c){const a=this;c.labelX??(c.labelX=8);c.labelY??(c.labelY=2);c.labelFontSize??(c.labelFontSize="12px");c.labelColor??(c.labelColor="#000");c.flipThreshold??(c.flipThreshold=g((c.maxValue-c.minValue)/2)||0);a.quickSet(["labelX","labelY","labelFontSize","labelColor","flipThreshold"],c);a.callSuper(b,c);const e=a.labelX;a.labelTxt=new n.Text(a,{x:e,y:a.labelY,textColor:a.labelColor,
fontSize:a.labelFontSize},[{initNode:function(f,q){this.targetX=e;this.callSuper(f,q)},updateX:function(f){const q=a.getValue()>=a.flipThreshold?e:a.width-this.width-e;this.targetX!==q&&(this.targetX=q,this.stopActiveAnimators("x"),f?this.setX(q):this.animate({attribute:"x",to:q,duration:250}))}}]);a.syncTo(a,"setText","value")},setWidth:function(b){this.callSuper(b);this.labelTxt?.updateX(!0)},setText:function(b,c){const a=this.labelTxt;a&&(a.setText(b.value),a.updateX(c))}})})(myt);
(n=>{const v=JS.Class,{abs:u,min:t}=Math,{CODE_ENTER:g,CODE_SPACE:k,ARROW_KEYS:d}=n.global.keys,l=h=>{const b="y"===h.axis?"height":"width";h.constrain("__limitToParent",[h,"limitToParent",h,b,h.parent,b])};var m=n.NudgeMixin=new JS.Module("NudgeMixin",{initNode:function(h,b){b.nudgeTargetValue??(b.nudgeTargetValue="value");b.nudgeIncrement??(b.nudgeIncrement=1);b.nudgeMin??(b.nudgeMin=1);b.nudgeMax??(b.nudgeMax=64);this.__nudgeAcc=b.nudgeMin;this.callSuper(h,b)},setNudgeIncrement:function(h){this.set("nudgeIncrement",
u(h),!0)},setNudgeMin:function(h){this.set("nudgeMin",u(h),!0)},setNudgeMax:function(h){this.set("nudgeMax",u(h),!0)},setNudgeTargetValue:function(h){this.set("nudgeTargetValue",h,!0)},nudge:function(h,b){const c=this.nudgeTargetValue;b=this.__nudgeAcc=b?t(this.__nudgeAcc+this.nudgeIncrement,this.nudgeMax):this.nudgeMin;this.set(c,(this.get(c)||0)+(h?1:-1)*b);return!0}});m=new v("BaseDivider",n.SimpleButton,{include:[n.BoundedValueComponent,n.Draggable,n.ArrowKeyActivation,m],initNode:function(h,
b){b.activeColor??(b.activeColor="#bbb");b.hoverColor??(b.hoverColor="#ddd");b.readyColor??(b.readyColor="#ccc");b.axis??(b.axis="x");b.minValue??(b.minValue=0);b.value??(b.value=b.minValue);b.expansionState??(b.expansionState=2);b.focusIndicator??(b.focusIndicator=!1);b.repeatKeyDown??(b.repeatKeyDown=!0);b.activationKeys??(b.activationKeys=[g,k,...d]);"y"===b.axis?(b.height??(b.height=6),b.cursor??(b.cursor="row-resize")):(b.width??(b.width=6),b.cursor??(b.cursor="col-resize"));this.quickSet(["axis"],
b);this.callSuper(h,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&l(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(h){this.expansionState=h},setRestoreValue:function(h){this.restoreValue=h},setLimitToParent:function(h){this.limitToParent!==h&&(this.limitToParent=h,this.inited&&(this.fireEvent("limitToParent",h),null==h?this.releaseConstraint("__limitToParent"):l(this)))},setAxis:function(h){this.inited?console.warn("Axis not updatable after instantiation"):
this.axis=h},setValue:function(h){this.callSuper(h);h=this.value;"y"===this.axis?this.setY(h):this.setX(h)},__limitToParent:function(h){h="y"===this.axis?"height":"width";this.setMaxValue(this.parent[h]-this.limitToParent-this[h])},doActivationKeyDown:function(h,b){this.callSuper(h,b);switch(h){case g:case k:this.doPrimaryAction()}},doKeyArrowLeftOrUp:function(h,b){return this.nudge(!1,b)},doKeyArrowRightOrDown:function(h,b){return this.nudge(!0,b)},nudge:function(h,b){h=this.callSuper(h,b);this.setExpansionState(2);
this.setRestoreValue(this.value);return h},doPrimaryAction:function(){const {restoreValue:h,maxValue:b,minValue:c}=this;let a;switch(this.expansionState){case 0:null!=h&&(this.setExpansionState(1),h===c?h!==b&&this.doPrimaryAction():a=h);break;case 1:null!=b&&(this.setExpansionState(3),this.value===b?this.doPrimaryAction():a=b);break;case 2:null!=c&&(this.setExpansionState(0),this.value===c?this.doPrimaryAction():a=c);break;case 3:null!=h&&(this.setExpansionState(2),h===b?this.doPrimaryAction():a=
h)}this.animateToValue(a)},animateToValue:function(h,b=250){null!=h&&(this.stopActiveAnimators("value"),this.animate({attribute:"value",to:h,duration:b}))},requestDragPosition:function(h,b){this.disabled||(h="y"===this.axis?b:h,b=this.value,h!==b&&(this.setValue(h),this.setRestoreValue(h),this.setExpansionState(b>h?2:1)))}});n.HorizontalDivider=new v("HorizontalDivider",m,{initNode:function(h,b){b.axis="x";this.callSuper(h,b)}});n.VerticalDivider=new v("VerticalDivider",m,{initNode:function(h,b){b.axis=
"y";this.callSuper(h,b)}})})(myt);
(n=>{let v=0;const {Class:u,Module:t}=JS,{min:g,max:k}=Math,{View:d,SpacedLayout:l,Node:{DEFAULT_PLACEMENT:m}}=n,h=x=>{const p=x.columnHeaders,[z,I]=x.sort??["",""];let Q=p.length;for(;Q;){const O=p[--Q];O.columnId===z?O.sortable&&O.setSortState(I):O.setSortState("none")}x.locked||x.doSort()},b=(x,p,z,I)=>{if(0!==p){const W=0<p,A=[];for(var Q=x.length;Q;){var O=x[--Q];O.resizable&&(z?0<O.flex:0===O.flex)&&A.push({hdr:O,limit:(W?O.maxValue:O.minValue)-O.value,amt:0})}x=A.length;if(0<x){for(Q=0;0!==
p;){v>=x&&(Q=v=0);O=A[v];var S=O.hdr;O.full?++Q:(W?(S=g(z?S.flex:1,p),O.amt+S>O.limit&&(S=O.limit-O.amt,O.full=!0)):(S=k(z?-S.flex:-1,p),O.amt+S<O.limit&&(S=O.limit-O.amt,O.full=!0)),O.amt+=S,p-=S);if(Q===x)break;++v}for(const C of A)C.hdr.setValue(C.hdr.value+C.amt);I?.(p)}}},c=x=>(x=x.gridController?.getPrevHdr(x))?x.maxValue-x.value+c(x):0,a=x=>(x=x.gridController?.getNextHdr(x))?x.maxValue-x.value+a(x):0,e=x=>(x=x.gridController?.getPrevHdr(x))?x.minValue-x.value+e(x):0,f=x=>(x=x.gridController?.getNextHdr(x))?
x.minValue-x.value+f(x):0,q=(x,p)=>{x=x.gridController?.getPrevHdr(x);var z=0;if(x){z=x.value+p;x.resizable&&x.setValue(z);const I=z-x.value;z=p-I;0>I&&(z+=q(x,I))}return z},y=(x,p)=>{x=x.gridController?.getPrevHdr(x);var z=0;if(x){z=x.value+p;x.resizable&&x.setValue(z);const I=z-x.value;z=p-I;0<I&&(z+=y(x,I))}return z},r=(x,p)=>{if(x=x.gridController?.getNextHdr(x))p=x.value+p,x.resizable&&x.setValue(p),p-=x.value,0>p&&r(x,p)},D=(x,p)=>{if(x=x.gridController?.getNextHdr(x))p=x.value+p,x.resizable&&
x.setValue(p),p-=x.value,0<p&&D(x,p)},w=x=>{let p="";if(x.sortable)switch(x.sortState){case G.SORT_ORDER_ASC:p="chevron-up";break;case G.SORT_ORDER_DESC:p="chevron-down"}x.sortIcon.setIcon(p)},E=x=>{const p=x.textView;p?.setWidth(x.width-x.outset-p.x)},J=n.GridController=new t("GridController",{initNode:function(x,p){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(x,p);this.fitHeadersToWidth();h(this)},setMaxWidth:function(x){this.set("maxWidth",
x,!0)},setMinWidth:function(x){this.set("minWidth",x,!0)},setFitToWidth:function(x){this.fitToWidth=x},setSort:function(x){n.areArraysEqual(x,this.sort)||(this.sort=x,this.inited&&(this.fireEvent("sort",x),h(this)))},setLastColumn:function(x){const p=this.lastColumn;p!==x&&(p?.setLast(!1),this.lastColumn=x,x?.setLast(!0))},setLocked:function(x){this.locked=x;if(this.inited&&!x){this.__tempLock=!0;this.fitHeadersToWidth();this.__tempLock=!1;this.setMaxWidth(0);this.setMinWidth(0);this.__skipInvisibleHeaders=
!0;for(const p of this.columnHeaders)this.notifyHdrXChange(p),this.notifyHdrWidthChange(p),this.notifyHdrVisibilityChange(p);this.__skipInvisibleHeaders=!1;this.doSort()}},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(x){x=this.valueFromEvent(x);this.gridWidth!==x&&(this.gridWidth=x,this.inited&&this.fitHeadersToWidth())},setHdrChangeListener:function(x){this.hdrChangeListener=x},doSort:n.NOOP,getPrevHdr:function(x){const p=this.columnHeaders;x=this.getHdrIndex(x);
if(0<x)for(;x;){const z=p[--x];if(z.visible)return z}},getNextHdr:function(x){const p=this.columnHeaders,z=p.length;x=this.getHdrIndex(x)+1;if(0<x&&x<z)for(;z>x;){const I=p[x++];if(I.visible)return I}},hasHdr:function(x){return this.columnHeaders.includes(x)},getHdrIndex:function(x){return this.columnHeaders.indexOf(x)},getHdrById:function(x){for(const p of this.columnHeaders)if(p.columnId===x)return p},getVisibleHdrs:function(){return this.columnHeaders.filter(x=>x.visible)},notifyAddHdr:function(x){this.hasHdr(x)||
(this.columnHeaders.push(x),x.visible&&this.setLastColumn(x),this.fixupResizerCursors())},notifyRemoveHdr:function(x){const p=this.getHdrIndex(x);-1<p&&(this.columnHeaders.splice(p,1),x.visible&&x.last&&this.setLastColumn(this.getPrevHdr(x)),this.fixupResizerCursors())},notifyHdrXChange:function(x){if(!this.isLocked()){for(const p of this.rows)p.notifyHdrXChange(x);this._notifyHdrChange("X",x)}},notifyHdrWidthChange:function(x){if(!this.isLocked()){for(const p of this.rows)p.notifyHdrWidthChange(x);
this._notifyHdrChange("Width",x)}},notifyHdrVisibilityChange:function(x){if((!this.__skipInvisibleHeaders||x.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(x);var p=this.setLastColumn;a:{var z=this.columnHeaders;let I=z.length;for(;I;){const Q=z[--I];if(Q.visible){z=Q;break a}}z=void 0}p.call(this,z);p=x.visible?1:-1;this.setMaxWidth(this.maxWidth+x.maxValue*p);this.setMinWidth(this.minWidth+x.minValue*p);this.fitHeadersToWidth();this.fixupResizerCursors();this._notifyHdrChange("Visibility",
x)}},_notifyHdrChange:function(x,p){const z=this.hdrChangeListener;if(z)z["notifyHdr"+x+"Change"](p)},updateRowsForVisibilityChange:function(x){for(const p of this.rows)p.notifyHdrVisibilityChange(x)},hasRow:function(x){return this.rows.includes(x)},getRowIndex:function(x){return this.rows.indexOf(x)},getRowById:function(x,p=z=>z.model.id===x){return this.rows.find(p)},getPrevRow:function(x){x=this.getRowIndex(x)-1;return this.rows[0>x?this.rows.length-1:x]},getNextRow:function(x){x=this.getRowIndex(x)+
1;return this.rows[x<this.rows.length?x:0]},notifyAddRow:function(x,p){if(!this.hasRow(x)&&(this.rows.push(x),!this.locked)){const z=this.width;for(const I of this.columnHeaders)x.setWidth(z),x.notifyHdrXChange(I),x.notifyHdrWidthChange(I),x.notifyHdrVisibilityChange(I);p||this.doSort()}},notifyRemoveRow:function(x){x=this.getRowIndex(x);-1<x&&this.rows.splice(x,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const x=this.getVisibleHdrs();let p=0;for(const z of x)p=k(p,z.x+z.width);
b(x,this.gridWidth-p,!0,z=>{b(x,z,!1,null)})}},fixupResizerCursors:function(){const x=this.getVisibleHdrs();let p=!0,z=0;x.forEach((S,W)=>{p&&S.isFixed()?S.setResizerCursor("",!0):(p&&(z=W),p=!1,S.restoreResizerCursor())});let I=!0,Q=x.length,O=Q-1;for(;Q>z;){const S=x[--Q];I?S.setResizerCursor("",!0):S.restoreResizerCursor();S.isFixed()||(I&&(O=Q),I=!1)}z===O&&x[z].setResizerCursor("",!0)}}),P=n.GridColHdr=new t("GridColHdr",{include:[n.BoundedValueComponent],initNode:function(x,p){const z=this,
I=p.resizerCursor??"col-resize";delete p.resizerCursor;p.minValue??(p.minValue=16);p.maxValue??(p.maxValue=1E3);p.value??(p.value=p.minValue);p.resizable??(p.resizable=!0);p.flex??(p.flex=0);p.cellXAdj??(p.cellXAdj=0);p.cellWidthAdj??(p.cellWidthAdj=0);p.sortable??(p.sortable=!0);p.sortState??(p.sortState="none");p.placement??(p.placement=m);z.callSuper(x,p);const Q=z.gridController;z.resizer=new d(z,{cursor:I,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},
[n.SizeToParent,n.Draggable,{requestDragPosition:function(O,S){S=O-this.x;if(Q.fitToWidth&&(0<S?S=g(S,-f(z),z.maxValue-z.value+c(z)):0>S&&(S=k(S,-a(z),z.minValue-z.value+e(z))),0===S))return;O=z.value+S;z.resizable&&z.setValue(O);O-=z.value;S=O-S;let W=0;0>O?W=q(z,O):0<O&&(W=y(z,O));this.dragInitX+=W;S-=W;Q.fitToWidth&&(0>S?r(z,S):0<S&&D(z,S))}}]);Q&&(Q.notifyAddHdr(z),Q.notifyHdrXChange(z),Q.notifyHdrVisibilityChange(z));z.setWidth(z.value);z.resizer.setVisible(!(z.last&&z.gridController.fitToWidth))},
destroy:function(x){this.setGridController();this.callSuper(x)},setSortable:function(x){this.set("sortable",x,!0)},setSortState:function(x){this.set("sortState",x,!0)},setResizable:function(x){this.set("resizable",x,!0)},setCellWidthAdj:function(x){this.cellWidthAdj=x},setCellXAdj:function(x){this.cellXAdj=x},setFlex:function(x){this.flex=x},setColumnId:function(x){this.columnId=x},setResizerCursor:function(x,p){const z=this.resizer,I=z.cursor;x!==I&&(p&&(this.__rrc=I),z.setCursor(x))},restoreResizerCursor:function(){const x=
this.__rrc;x&&(this.setResizerCursor(x),this.__rrc=null)},isFixed:function(){return this.minValue===this.maxValue},setLast:function(x){this.last=x;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(x){const p=this.gridController;p!==x&&(p?.notifyRemoveHdr(this),this.gridController=x,this.inited&&x&&(x.notifyAddHdr(this),x.notifyHdrXChange(this),x.notifyHdrWidthChange(this),x.notifyHdrVisibilityChange(this)))},setValue:function(x){this.callSuper(x);
this.inited&&this.setWidth(this.value)},setMinValue:function(x){const p=this.minValue??0,z=this.gridController;this.callSuper(x);this.inited&&p!==this.minValue&&z?.setMinWidth(z.minWidth+this.minValue-p)},setMaxValue:function(x){const p=this.maxValue??0,z=this.gridController;x??=1E3;this.callSuper(x);this.inited&&p!==this.maxValue&&z?.setMaxWidth(z.maxWidth+this.maxValue-p)},setWidth:function(x){const p=this.width;this.callSuper(x);this.inited&&p!==this.width&&this.gridController?.notifyHdrWidthChange(this)},
setX:function(x){const p=this.x;this.callSuper(x);this.inited&&p!==this.x&&this.gridController?.notifyHdrXChange(this)},setVisible:function(x){const p=this.visible;this.callSuper(x);this.inited&&p!==this.visible&&this.gridController?.notifyHdrVisibilityChange(this)}}),B=n.GridRow=new t("GridRow",{initNode:function(x,p){p.placement??(p.placement=m);this.callSuper(x,p);this.gridController?.notifyAddRow(this)},destroy:function(x){this.setGridController();this.callSuper(x)},setGridController:function(x){const p=
this.gridController;p!==x&&(p?.notifyRemoveRow(this),this.gridController=x,this.inited&&x?.notifyAddRow(this))},notifyHdrXChange:function(x){this.getRef(x.columnId)?.setX(x.x+x.cellXAdj)},notifyHdrWidthChange:function(x){this.getRef(x.columnId)?.setWidth(x.width+x.cellWidthAdj)},notifyHdrVisibilityChange:function(x){this.getRef(x.columnId)?.setVisible(x.visible)}}),G=n.Grid=new u("Grid",d,{include:[J],extend:{SORT_ORDER_ASC:"ascending",SORT_ORDER_DESC:"descending"},initNode:function(x,p){p.overflow??
(p.overflow="autox");p.bgColor??(p.bgColor="#ccc");p.rowSpacing??(p.rowSpacing=1);p.columnSpacing??(p.columnSpacing=1);var z=p.isAutoScrolling;delete p.isAutoScrolling;this.callSuper(x,p);x=this.header=new d(this,{overflow:"hidden"});x.xLayout=new l(x,{locked:!0,collapseParent:!0,spacing:this.columnSpacing});x.yLayout=new n.SizeToChildren(x,{locked:!0,axis:"y"});p=this.sizeHeightToRows;z=this.content=new d(this,{overflow:p?"hidden":"autoy"},z?[n.AutoScroller]:[]);z.yLayout=new l(z,{locked:!0,axis:"y",
spacing:this.rowSpacing,collapseParent:p});this.syncTo(this,"setGridWidth","width");this.syncTo(x,"_updateContentWidth","width");this.constrain("_updateContentHeight",[p?z:this,"height",x,"height",x,"y"])},setSizeHeightToRows:function(x){this.sizeHeightToRows=x},setRowSpacing:function(x){this.rowSpacing!==x&&(this.rowSpacing=x,this.inited&&this.content.yLayout.setSpacing(x))},setColumnSpacing:function(x){this.columnSpacing!==x&&(this.columnSpacing=x,this.inited&&this.header.xLayout.setSpacing(x))},
setLocked:function(x){if(this.inited)for(const p of[this.header.xLayout,this.header.yLayout,this.content.yLayout])x?p.incrementLockedCounter():(p.decrementLockedCounter(),p.update());this.callSuper(x)},_updateContentWidth:function(x){const p=this.content;x=x.value;p.setWidth(x);for(const z of p.getSubviews())z.setWidth(x)},_updateContentHeight:function(x){const {header:p,content:z}=this;x=p.y+p.height;z.setY(x);this.sizeHeightToRows?this.setHeight(x+z.height):z.setHeight(this.height-x)},determinePlacement:function(x,
p){if(x===m){let z;p.isA(B)?z=this.content:p.isA(P)&&(z=this.header);if(z)return p.gridController!==this&&p.setGridController(this),z}return this.callSuper(x,p)},doSort:function(){const [x,p]=this.sort??["",""],z=this.getSortFunction(x,p);if(z){const I=this.content,Q=I.yLayout;this.rows.sort(z);I.sortSubviews(z);Q.sortSubviews(z);Q.update()}},getSortFunction:(x,p)=>{if(x){const z=p===G.SORT_ORDER_ASC?1:-1;return(I,Q)=>{I=I.getRef(x).text;Q=Q.getRef(x).text;return I>Q?z:Q>I?-z:0}}}});n.SimpleGridColHdr=
new u("SimpleGridColHdr",n.SimpleTextButton,{include:[P],initNode:function(x,p){p.activeColor??(p.activeColor="#999");p.hoverColor??(p.hoverColor="#bbb");p.readyColor??(p.readyColor="#aaa");p.inset??(p.inset=2);p.sortIconColor??(p.sortIconColor="#666");const z=p.textAlign;delete p.textAlign;p.outset??(p.outset="right"===z||(p.sortable??!0)?14:2);this.callSuper(x,p);this.sortIcon=new n.FontAwesome(this,{align:"right",alignOffset:3,valign:"middle",textColor:this.sortIconColor},[{initNode:function(I,
Q){this.callSuper(I,Q);this.getIDS().fontSize="0.7em"}}]);this.textView.enableEllipsis();z&&this.textView.setTextAlign(z);this.setDisabled(!this.sortable);E(this);w(this)},setSortIconColor:function(x){this.sortIconColor=x;this.sortIcon?.setTextColor(x)},setSortable:function(x){this.callSuper(x);this.inited&&(x&&this.setOutset(14),this.setDisabled(!x),w(this))},setSortState:function(x){this.callSuper(x);this.inited&&w(this)},setWidth:function(x){this.callSuper(x);this.inited&&E(this)},doActivated:function(){this.disabled||
(this.setSortState(this.sortState===G.SORT_ORDER_ASC?G.SORT_ORDER_DESC:G.SORT_ORDER_ASC),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(n=>{const {Class:v,Module:u}=JS,{min:t,max:g,floor:k,ceil:d}=Math,{NOOP:l,View:m,LocalStorage:{setDatum:h,getDatum:b},global:{focus:c,keys:a},getAlphaObjSortFunc:e}=n,f=B=>{const G=B.selectedRow;G&&(G.setSelected(!1),B.set("selectedRow",null,!0))},q=B=>B.__ssk??(B.__ssk="InfiniteGridMixin.sort."+n.hash(B.columnHeaders.map(G=>G.columnId).sort().join(","))),y=n.InfiniteListRow=new u("InfiniteListRow",{include:[n.Reusable],setInfiniteOwner:function(B){this.infiniteOwner=B},setModel:function(B){this.model=
B},setClassKey:function(B){this.classKey=B},notifyRefreshed:l}),r=n.SelectableInfiniteListRow=new u("SelectableInfiniteListRow",{include:[y,n.Selectable]}),D=n.InfiniteList=new v("InfiniteList",m,{initNode:function(B,G){let x=G.rowClasses;delete G.rowClasses;if("function"===typeof x){const p={};p["default"]=x;x=p}G.modelIDName??(G.modelIDName="id");G.numericSort??(G.numericSort=!0);G.ascendingSort??(G.ascendingSort=!0);G.overflow??(G.overflow="autoy");G.bgColor??(G.bgColor="#ccc");G.rowSpacing??(G.rowSpacing=
1);G.rowInset??(G.rowInset=0);G.rowOutset??(G.rowOutset=0);G.rowHeight??(G.rowHeight=30);G.overscrollBehavior??(G.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx=new Map;this.callSuper(B,G);B=this._listView=new m(this);this._itemPool=this.makePool(x,B);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(B,G)=>new n.TrackActivesMultiPool(B,G),setOverscrollBehavior:function(B){this.overscrollBehavior=
B;this.getIDS().overscrollBehavior=B},setCollectionModel:function(B){this.collectionModel=B},setModelIDName:function(B){this.modelIDName=B},setRowSpacing:function(B){this.rowSpacing=B;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(B){this.rowHeight=B;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(B){if(0<B&&(this.callSuper(B),this.inited)){B=this._listView;const G=this.width;B.setWidth(G);for(const x of B.getSubviews())x.setWidth(G)}},
getVisibleRowForModel:function(B){for(const G of this._visibleRowsByIdx.values())if(G.model===B)return G},getListViewHeight:function(){return this._listView.height},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},getSortFunction:function(){const B=this.modelIDName,G=this.ascendingSort;return this.numericSort?n.getNumericObjSortFunc(B,G):e(B,G,!1)},getFilterFunction:l,scrollModelIntoView:function(B,G){var x=this.getIndexOfModelInData(B);let p=!1;if(0<=
x){var z=this._rowExtent;const I=this.getIDE().scrollTop,Q=I+this.height;x=this.rowInset+x*z;z=x+z;x<=I?(this.scrollYTo(x,!0),p=!0):z>=Q&&(this.scrollYTo(z-this.height,!0),p=!0);G&&((G=this.getVisibleRowForModel(B))?G.focus():this._focusToModel=B)}return p},isModelInData:function(B){return 0<=this.getIndexOfModelInData(B)},getNextModel:function(B,G=!0,x=!0){const p=this.getListData(),z=p.length;B=this.getIndexOfModelInData(B);if(0<=B)return B+=1,B>=z?G?p[0]:p[z-1]:p[B];if(x&&0<z)return p[z-1]},getPrevModel:function(B,
G=!0,x=!0){const p=this.getListData(),z=p.length;B=this.getIndexOfModelInData(B);if(0<=B)return--B,0>B?G?p[z-1]:p[0]:p[B];if(x&&0<z)return p[0]},areModelsEqual:function(B,G){const x=this.modelIDName;return B[x]===G[x]},getIndexOfModelInData:function(B){if(B){const G=this.getListData(),x=this.areModelsEqual.bind(this);let p=G.length;for(;p;)if(x(G[--p],B))return p}return-1},getActiveRowForModel:function(B){if(B){const G=this._itemPool.getActives(),x=this.areModelsEqual.bind(this);let p=G.length;for(;p;){const z=
G[--p];if(x(z.model,B))return z}}},refreshListData:function(B,G){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(B,G)},resetListUI:function(B,G){const x=this.getListData().length;this._listView.setHeight(x*this._rowExtent-(0<x?this.rowSpacing:0)+this.rowInset+this.rowOutset);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=G;B||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(B){if(c.focusedView?.isDescendantOf(B)){const G=
this.getFocusTrap();G?G.focus():c.clear()}B.setVisible(!1);this._itemPool.putInstance(B)},refreshListUI:function(B){B=this._rowExtent;const G=this.rowInset,x=this.forceFullResetOnNextRefresh;var p=this.getIDE().scrollTop;const z=this.getListData()??[];var I=g(0,k((p-G)/B));p=t(z.length,d((p-G+this.height)/B));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==I||this._endIdx!==p||x){const Q=this.width,O=this.rowHeight,S=this._visibleRowsByIdx,W=this._focusToModel,
A=this.areModelsEqual.bind(this);this._startIdx=I;this._endIdx=p;for(const [C,F]of S)if(C<I||C>=p)this.putRowBackInPool(F),S.delete(C);for(;I<p;I++){let C=S.get(I);const F=z[I],L=this.getClassKey(F);let N=!1;C&&C.classKey===L||(C&&this.putRowBackInPool(C),S.set(I,C=this._itemPool.getInstance(L)),C.setInfiniteOwner(this),C.setClassKey(L),C.setWidth(Q),C.setHeight(O),C.setY(G+I*B),C.setVisible(!0),N=!0);!x&&C.model&&A(C.model,F)?N&&this.updateRow(C):(C.setModel(F),this.updateRow(C));C.notifyRefreshed();
C.bringToFront();W&&A(W,F)&&(C.focus(),this._focusToModel=null)}}},getClassKey:B=>"default",updateRow:l}),w=n.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",n.SimpleButton,{include:[r,n.ArrowKeyActivation],initNode:function(B,G){G.selectedColor??(G.selectedColor="#ccf");G.activeColor??(G.activeColor="#f8f8f8");G.hoverColor??(G.hoverColor="#eee");G.readyColor??(G.readyColor="#fff");G.focusIndicator??(G.focusIndicator=!1);G.activationKeys??(G.activationKeys=a.LIST_KEYS);this.callSuper(B,
G)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(B){this.callSuper(B);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(B,G){B===a.CODE_ESC?this.selected&&
this.infiniteOwner.setSelectedRow():this.callSuper(B,G)},doKeyArrowLeftOrUp:function(B,G){this.infiniteOwner.selectPrevRowForModel(this.model);return!0},doKeyArrowRightOrDown:function(B,G){this.infiniteOwner.selectNextRowForModel(this.model);return!0},doActivationKeyUp:function(B){switch(B){case a.CODE_ENTER:case a.CODE_SPACE:this.doActivated()}}}),E=n.SelectableInfiniteList=new v("SelectableInfiniteList",D,{setSelectedRow:function(B){const G=this.selectedRow;B!==G&&(G?.setSelected(!1),this.setSelectedRowModel(),
this.set("selectedRow",B,!0),B&&(this.setSelectedRowModel(B.model),B.setSelected(!0)))},setSelectedRowModel:function(B){this.set("selectedRowModel",B,!0);this.scrollModelIntoView(this.selectedRowModel,!1)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(B,G,x){B&&(f(this),this.setSelectedRowModel(B),this.refreshListUI(),G&&this.getActiveSelectedRow()?.focus())},selectNextRowForModel:function(B,G=!0){this.selectRowForModel(this.getNextModel(B),
G,!0)},selectPrevRowForModel:function(B,G=!0){this.selectRowForModel(this.getPrevModel(B),G,!1)},resetListUI:function(B,G){this.isModelInData(this.selectedRowModel)?f(this):this.setSelectedRow();this.callSuper(B,G)},putRowBackInPool:function(B){B.selected&&f(this);this.callSuper(B)},refreshListUI:function(B){B=c.focusedView;this.callSuper();const G=this.getActiveSelectedRow();G&&(this.set("selectedRow",G,!0),G.setSelected(!0),B&&B!==G||G.focus(!0))}}),J=new u("InfiniteGridRowMixin",{notifyXChange:function(B){this.getRef(B.columnId)?.setX(B.x+
B.cellXAdj)},notifyWidthChange:function(B){this.getRef(B.columnId)?.setWidth(B.width+B.cellWidthAdj)},notifyVisibilityChange:function(B){this.getRef(B.columnId)?.setVisible(B.visible)}}),P=new u("InfiniteGridMixin",{setGridHeader:function(B){(this.gridHeader=B)?.setGrid(this)},makeReady:function(B,G){const x=this.gridHeader;x?(this.forceFullResetOnNextRefresh=G,G=x.persistSortOrder?b(q(x)):void 0,x.setSort(G??B),x.setLocked(!1)):this.refreshListData(!1,G)},getSortFunction:function(){const [B,G]=this.gridHeader.sort??
["",""];return B?e(B,G===n.Grid.SORT_ORDER_ASC,!1):this.callSuper()},updateRow:function(B){const G=this.gridHeader;if(G)for(const x of G.columnHeaders)B.notifyXChange(x),B.notifyWidthChange(x),B.notifyVisibilityChange(x)},notifyXChange:function(B){for(const G of this._visibleRowsByIdx.values())G.notifyXChange(B)},notifyWidthChange:function(B){for(const G of this._visibleRowsByIdx.values())G.notifyWidthChange(B)},notifyVisibilityChange:function(B){for(const G of this._visibleRowsByIdx.values())G.notifyVisibilityChange(B)}});
n.InfiniteGridRow=new u("InfiniteGridRow",{include:[y,J]});n.SelectableInfiniteGridRow=new u("SelectableInfiniteGridRow",{include:[r,J]});n.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",w,{include:[J]});n.InfiniteGrid=new v("InfiniteGrid",D,{include:[P]});n.SelectableInfiniteGrid=new v("InfiniteGrid",E,{include:[P]});n.InfiniteGridHeader=new v("InfiniteGridHeader",m,{include:[n.GridController],initNode:function(B,G){G.columnSpacing??(G.columnSpacing=1);G.persistSortOrder??
(G.persistSortOrder=!0);G.overflow="hidden";this.callSuper(B,G);new n.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(B){this.grid=B},setColumnSpacing:function(B){this.columnSpacing=B},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:g(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setPersistSortOrder:function(B){this.persistSortOrder=B},setHeight:function(B){this.callSuper(B);if(this.inited){B=this.height;for(const G of this.columnHeaders)G.setHeight(B)}},
setWidth:function(B){this.callSuper(g(this.minWidth,B));this.inited&&(B=this.width,this.setGridWidth(B),this.grid.setWidth(B))},subviewAdded:function(B){this.callSuper(B);B.isA(n.GridColHdr)&&(B.setGridController(this),B.setHeight(this.height))},doSort:function(){this.persistSort();this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},persistSort:function(){this.persistSortOrder&&h(q(this),this.sort)},notifyHdrXChange:function(B){this.isLocked()||(this.grid.notifyXChange(B),this._notifyHdrChange("X",
B))},notifyHdrWidthChange:function(B){this.isLocked()||(this.grid.notifyWidthChange(B),this._notifyHdrChange("Width",B))},updateRowsForVisibilityChange:function(B){this.grid.notifyVisibilityChange(B);this.isLocked()||this._notifyHdrChange("Visibility",B)}})})(myt);
(n=>{const v=JS.Class,u=n.NOOP,t=n.PanelStackTransition=new v("PanelStackTransition",n.Node,{to:g=>Promise.resolve(g),from:g=>Promise.resolve(g)});n.PanelStack=new v("PanelStack",n.View,{include:[n.SelectionManager],initNode:function(g,k){k.overflow="hidden";k.itemSelectionId??(k.itemSelectionId="panelId");k.maxSelected??(k.maxSelected=1);this.callSuper(g,k);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(g){this.set("transition",g,!0)},
__updateWidth:function(g){this.getActivePanel()?.setWidth(g.value)},__updateHeight:function(g){this.getActivePanel()?.setHeight(g.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(g){return this.getSelectableItem(g)},selectPanel:function(g){this.selectById(g)},doSelected:function(g){g.setWidth(this.width);g.setHeight(this.height)},doStackTransition:function(g){this["doStackTransition"+(g.selected?"To":"From")](g)},doStackTransitionTo:function(g){const k=this;k.doBeforeTransitionTo(g);
const d=k.transition;d?d.to(g).then(l=>{k.doAfterTransitionTo(l)}):(g.makeHighestZIndex(),g.setVisible(!0),k.doAfterTransitionTo(g))},doBeforeTransitionTo:u,doAfterTransitionTo:u,doStackTransitionFrom:function(g){const k=this;k.doBeforeTransitionFrom(g);const d=k.transition;d?d.from(g).then(l=>{k.doAfterTransitionFrom(l)}):(g.setVisible(!1),k.doAfterTransitionFrom(g))},doBeforeTransitionFrom:u,doAfterTransitionFrom:u});n.StackablePanel=new JS.Module("StackablePanel",{include:[n.Selectable],initNode:function(g,
k){k.visible=k.selected=!1;k.bgColor??(k.bgColor="#fff");k.panelId??(k.panelId=k.name);this.callSuper(g,k);this.selected&&this.doStackTransition()},setPanelStack:function(g){this.panelStack=g},getPanelStack:function(){return this.panelStack??this.parent},setPanelId:function(g){this.panelId=g},setSelected:function(g){this.selected!==g&&(this.callSuper(g),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});n.PanelStackFadeTransition=new v("PanelStackFadeTransition",
t,{initNode:function(g,k){k.duration??(k.duration=1E3);this.callSuper(g,k)},setDuration:function(g){this.duration=g},to:function(g){return new Promise((k,d)=>{g.stopActiveAnimators("opacity");g.setVisible(!0);g.animate({attribute:"opacity",to:1,duration:this.duration}).next(l=>{g.makeHighestZIndex();k(g)})})},from:function(g){return new Promise((k,d)=>{g.stopActiveAnimators("opacity");g.animate({attribute:"opacity",to:0,duration:this.duration}).next(l=>{g.setVisible(!1);k(g)})})}});n.PanelStackSlideTransition=
new v("PanelStackSlideTransition",t,{initNode:function(g,k){k.duration??(k.duration=1E3);k.direction??(k.direction="right");this.callSuper(g,k)},setDuration:function(g){this.duration=g},setDirection:function(g){this.direction=g},to:function(g){const k=g.getPanelStack(),d=this.duration;let l,m;switch(this.direction){case "left":m="x";l=k.width;break;case "right":m="x";l=-k.width;break;case "up":m="y";l=k.height;break;case "down":m="y",l=-k.height}g.stopActiveAnimators(m);g.set(m,l);g.setVisible(!0);
return new Promise((h,b)=>{b=c=>{g.makeHighestZIndex();h(g)};0<d?g.animate({attribute:m,to:0,duration:d}).next(b):(g.set(m,0),g.makeHighestZIndex(),h(g))})},from:function(g){const k=g.getPanelStack(),d=this.duration;let l,m;switch(this.direction){case "left":m="x";l=-k.width;break;case "right":m="x";l=k.width;break;case "up":m="y";l=-k.height;break;case "down":m="y",l=k.height}g.stopActiveAnimators(m);return new Promise((h,b)=>{b=c=>{g.setVisible(!1);h(g)};0<d?g.animate({attribute:m,to:l,duration:d}).next(b):
(g.set(m,l),g.setVisible(!1),h(g))})}})})(myt);
(n=>{const v=JS.Module,{NOOP:u,Draggable:t,global:{dragManager:g,mouse:k}}=n,d=(m,h,b)=>{for(const c of[h,b])m["__is"+c]=!1,m["__tmrId"+c]=null},l=n.DragGroupSupport=new v("DragGroupSupport",{initNode:function(m,h){this.__dgs={"*":!0};this.__drpgs={"*":!0};this.__anyDG=this.__anyDRPG=!0;this.callSuper(m,h)},setDragGroups:function(m){const h=this.__dgs={};for(const b in m)h[b]=!0;this.__anyDG=Object.hasOwn(h,"*")},getDragGroups:function(){return this.__dgs},setDropGroups:function(m){const h=this.__drpgs=
{};for(const b in m)h[b]=!0;this.__anyDRPG=Object.hasOwn(h,"*")},getDropGroups:function(){return this.__drpgs},addDragGroup:function(m){m&&(this.__dgs[m]=!0,"*"===m&&(this.__anyDG=!0))},removeDragGroup:function(m){m&&(delete this.__dgs[m],"*"===m&&(this.__anyDG=!1))},isAnyDragGroup:function(){return this.__anyDG},addDropGroup:function(m){m&&(this.__drpgs[m]=!0,"*"===m&&(this.__anyDRPG=!0))},removeDropGroup:function(m){m&&(delete this.__drpgs[m],"*"===m&&(this.__anyDRPG=!1))},isAnyDropGroup:function(){return this.__anyDRPG}});
n.DropSource=new v("DropSource",{include:[t],initNode:function(m,h){h.distanceBeforeDrag??(h.distanceBeforeDrag=2);h.dropParent??(h.dropParent=m.getRoot());this.callSuper(m,h)},setDropClass:function(m){this.dropClass=n.resolveClassname(m)},setDropClassAttrs:function(m){this.dropClassAttrs=m},setDropParent:function(m){this.dropParent=m},startDrag:function(m){const h=this.dropable=this.makeDropable();if(h){const b=h.distanceBeforeDrag;h.distanceBeforeDrag=0;h.doMouseDown(m);h.__doMouseDown(m);h.distanceBeforeDrag=
b}},doMouseUp:function(m){this.callSuper(m);const h=this.dropable;h&&(h.__doMouseUp(m),h.doMouseUp(m),this.dropable=null)},makeDropable:function(){const m=this.dropClass,h=this.dropParent;if(m&&h){const b=n.DomElementProxy.getRelativePosition(this.getIDE(),h.getIDE());return new m(h,{...this.dropClassAttrs,x:b.x??0,y:b.y??0})}}});n.DropTarget=new v("DropTarget",{include:[l],initNode:function(m,h){this.callSuper(m,h);g.registerDropTarget(this)},destroy:function(){g.unregisterDropTarget(this);this.callSuper()},
willAcceptDrop:function(m){return!this.disabled&&this.isVisible()},notifyDragStart:u,notifyDragStop:u,notifyDragEnter:u,notifyDragLeave:u,notifyDrop:u});n.Dropable=new v("Dropable",{include:[t,l],setDropTarget:function(m){this.dropTarget=m},setDropped:function(m){this.dropped=m},setDropFailed:function(m){this.dropFailed=m},willPermitDrop:n.TRUE_FUNC,startDrag:function(m){this.setDropped(!1);this.setDropFailed(!1);g.startDrag(this);this.callSuper(m)},updateDrag:function(m){g.updateDrag(m,this);this.callSuper(m)},
stopDrag:function(m,h){g.stopDrag(m,this,h);this.callSuper(m,h);h?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEntering:function(m){this.setDropTarget(m)},notifyDragLeaving:function(m){this.setDropTarget()},notifyDropped:function(m,h){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:u,notifyDropAborted:u});n.AutoScroller=new v("AutoScroller",{include:[l],initNode:function(m,h){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=
2;this.scrollAcceleration=7;h.overflow??(h.overflow="auto");this.callSuper(m,h);g.registerAutoScroller(this)},destroy:function(){g.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(m){this.scrollBorder=Math.max(1,m)},setScrollFrequency:function(m){this.scrollFrequency=m},setScrollAmount:function(m){this.scrollAmount=m},setScrollAcceleration:function(m){this.scrollAcceleration=m},notifyAutoScrollerDragStart:function(m){m=this.getIDE();(m.scrollHeight>m.clientHeight||m.scrollWidth>
m.clientWidth)&&this.attachToDom(k,"__hndlMove","mousemove",!0)},notifyAutoScrollerDragStop:function(m){this.detachFromDom(k,"__hndlMove","mousemove",!0);d(this,"Up","Down");d(this,"Left","Right")},__hndlMove:function(m){const h=this;let {pageX:b,pageY:c}=m.value;if(h.containsPoint(b,c)){m=h.getPagePosition();const a=h.scrollBorder,e=(f,q)=>{h["__is"+f]&&(h.getIDE()["scroll"+("Up"===f||"Down"===f?"Top":"Left")]+=q*h["__amt"+f],h["__tmrId"+f]=setTimeout(()=>{e(f,q)},h.scrollFrequency))};b-=m.x;c-=
m.y;c<a?(h.__isUp=!0,h.__amtUp=Math.round(h.scrollAmount*(1+h.scrollAcceleration*(1-c/a))),h.__tmrIdUp||e("Up",-1)):h.height-c<a?(h.__isDown=!0,h.__amtDown=Math.round(h.scrollAmount*(1+h.scrollAcceleration*(1-(h.height-c)/a))),h.__tmrIdDown||e("Down",1)):d(h,"Up","Down");b<a?(h.__isLeft=!0,h.__amtLeft=Math.round(h.scrollAmount*(1+h.scrollAcceleration*(1-b/a))),h.__tmrIdLeft||e("Left",-1)):h.width-b<a?(h.__isRight=!0,h.__amtRight=Math.round(h.scrollAmount*(1+h.scrollAcceleration*(1-(h.width-b)/a))),
h.__tmrIdRight||e("Right",1)):d(h,"Left","Right")}else d(h,"Up","Down"),d(h,"Left","Right")}})})(myt);
(n=>{const {max:v,cos:u,sin:t,PI:g}=Math,k=n.Geometry.degreesToRadians,d=c=>{var a=k(c.startAngle),e=k(c.endAngle);if(a>e){var f=a;a=e;e=f}f=c.__path;var q=c.width/2,y=c.thickness;const r=c.radius,D=r+y;var w=e-a;const E=w+1E-4>=2*g;E&&(a=0,e=g);const J=[q+D*u(a),q+D*t(a)],P=[q+D*u(e),q+D*t(e)];e=[q+r*u(e),q+r*t(e)];a=[q+r*u(a),q+r*t(a)];q=["M"+J.join()];E?q.push("A"+[D,D,0,1,1,P].join(),"A"+[D,D,0,1,1,J].join(),"L"+e.join(),"A"+[r,r,0,1,0,a].join(),"A"+[r,r,0,1,0,e].join()):(w=w%(2*g)>g?1:0,y/=2,
q.push("A"+[D,D,0,w,1,P].join(),c.endCapRounding?"A"+[y,y,0,0,1,e].join():"L"+e.join(),"A"+[r,r,0,w,0,a].join(),c.startCapRounding?"A"+[y,y,0,0,1,J].join():""));q.push("z");f.setAttribute("d",q.join(" "));f.setAttribute("fill",c.color)},l=c=>{const a=2*(c.radius+c.thickness),e=c.__svg;c.setWidth(a);c.setHeight(a);e.setAttribute("viewBox","0 0 "+a+" "+a);e.setAttribute("width",a);e.setAttribute("height",a);d(c)},m=(c,a,e)=>{c[a]!==e&&(c[a]=e,c.inited&&(d(c),c.fireEvent(a,e)))},h=(c,a,e)=>{c[a]!==e&&
(c[a]=e=v(0,e),c.inited&&(l(c),c.fireEvent(a,e)))},b=(c,a)=>{c=document.createElementNS("http://www.w3.org/2000/svg",c);a?.appendChild(c);return c};n.Annulus=new JS.Class("Annulus",n.BackView,{initNode:function(c,a){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(c,a);l(this)},createOurDomElement:function(c){c=this.callSuper(c);var a=Array.isArray(c)?c[1]:c;a=this.__svg=b("svg",a);this.__path=b("path",a);a.style.pointerEvents=
"none";return c},setRadius:function(c){h(this,"radius",c)},setThickness:function(c){h(this,"thickness",c)},setStartAngle:function(c){m(this,"startAngle",c)},setEndAngle:function(c){m(this,"endAngle",c)},setStartCapRounding:function(c){m(this,"startCapRounding",c)},setEndCapRounding:function(c){m(this,"endCapRounding",c)},setColor:function(c){m(this,"color",c)},isColorAttr:function(c){return"color"===c||this.callSuper(c)}})})(myt);
(n=>{const v=JS.Class,u=n.RadialGuage=new v("RadialGuage",n.View,{include:[n.BoundedValueComponent],initNode:function(t,g){g.radius??(g.radius=32);g.thickness??(g.thickness=4);g.startAngle??(g.startAngle=270);g.color??(g.color="#666");const k=g.fontSize??g.radius;this.quickSet(["radius","thickness","startAngle","color"],g);const d=this.thickness,l=this.radius;g.width=g.height=2*l;g.minValue??(g.minValue=0);g.maxValue??(g.maxValue=100);g.value??(g.value=0);g.bgColor??(g.bgColor="#fff");g.roundedCorners=
l+d;g.borderWidth??(g.borderWidth=d);g.borderStyle??(g.borderStyle="solid");g.borderColor??(g.borderColor="#ccc");this.callSuper(t,g);this._progressView=new n.Annulus(this,{x:-d,y:-d,radius:l,thickness:d,startAngle:this.startAngle});this._valueView=new n.Text(this,{fontSize:k+"px",align:"center",valign:"middle"});this.redraw()},setMinValue:function(t){this.callSuper(t);this.inited&&this.redraw()},setMaxValue:function(t){this.callSuper(t);this.inited&&this.redraw()},setValue:function(t){this.callSuper(t);
this.inited&&this.redraw()},redraw:function(){const t=this._progressView,g=this._valueView,k=this.value,d=k/(this.maxValue-this.minValue),l=this.getColorByValue(k,d);t.setEndAngle(this.startAngle+360*d);t.setColor(l);g.setText(this.getTextByValue(k));g.setTextColor(l);this.setTooltip(this.getTooltipByValue(k))},getColorByValue:function(t,g){return this.color},getTooltipByValue:function(t){return this.getTextByValue(t)},getTextByValue:function(t){return""+t}});n.ColorThresholdRadialGuage=new v("ColorThresholdRadialGuage",
u,{initNode:function(t,g){g.thresholdType??(g.thresholdType="percent");g.thresholds??(g.thresholds=[]);this.quickSet(["thresholdType","thresholds"],g);this.thresholds.sort((k,d)=>d.value-k.value);this.callSuper(t,g)},getColorByValue:function(t,g){const k="percent"===this.thresholdType?g:t;for(const d of this.thresholds)if(k>=d.value)return d.color;return this.callSuper(t,g)}})})(myt);
(n=>{let v;var u=JS.Class;const {global:{mouse:t,windowResize:g,dragManager:k},theme:d}=n,{min:l,max:m,round:h}=Math,b=e=>{if(e.tooltip){const f=e._lastPos;if(e.tooltip.parent.containsPoint(f.x,f.y))return!0}e.hideTip();return!1},c=n.BaseTooltip=new u("BaseTooltip",n.View,{include:[n.RootView],initNode:function(e,f){this.tipDelay=this.nextTipDelay=d.BaseTooltipDelay;this.tipHideDelay=d.BaseTooltipHideDelay;f.visible??(f.visible=!1);this.callSuper(e,f)},setTooltip:function(e){this.inited&&(this.tooltip=
e)&&(this.attachToDom(t,"__hndl_mousemove","mousemove",!0),this.attachToDom(e.parent,"hideTip","mousedown",!0),this.attachToDom(e.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(e){const f=this;f._lastPos=n.MouseObservable.getMouseFromEvent(e);b(f)&&(f.__checkTID&&(clearTimeout(f.__checkTID),delete f.__checkTID),f.__checkTID=setTimeout(()=>{delete f.__checkTID;b(f)&&f.showTip()},f.nextTipDelay))},hideTip:function(e){this.__checkTID&&(clearTimeout(this.__checkTID),delete this.__checkTID);
if(e=this.tooltip?.parent)this.detachFromDom(e,"hideTip","mousedown",!0),this.detachFromDom(e,"hideTip","mouseup",!0),this.detachFromDom(t,"__hndl_mousemove","mousemove",!0),this.nextTipDelay=this.tipDelay,this.setVisible(!1);return!0},showTip:function(){k.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}});u=n.Tooltip=new u("Tooltip",c,{initNode:function(e,f){f.edgeSize??(f.edgeSize=d.TooltipEdgeSize);f.edgeColor??(f.edgeColor=d.TooltipEdgeColor);f.shadowSize??
(f.shadowSize=d.TooltipShadowSize);f.shadowColor??(f.shadowColor=d.TooltipShadowColor);f.insetH??(f.insetH=d.TooltipHInset);f.insetV??(f.insetV=d.TooltipVInset);f.tipBgColor??(f.tipBgColor=d.TooltipBgColor);f.tipTextColor??(f.tipTextColor=d.TooltipTextColor);this.callSuper(e,f);this._tipText=new n.Text(this,{fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(e){this.edgeSize=e},setEdgeColor:function(e){this.edgeColor=e},setShadowSize:function(e){this.shadowSize=
e},setShadowColor:function(e){this.shadowColor=e},setInsetH:function(e){this.insetH=e},setInsetV:function(e){this.insetV=e},setTipBgColor:function(e){this.tipBgColor=e},setTipTextColor:function(e){this.tipTextColor=e},showTip:function(){const e=this.tooltip;var f=e.text;const q=e.parent;var y=this._tipText;const r=this.edgeSize,D=this.shadowSize;y.text!==f&&y.setText(f);y.setWidth("auto");var w=l(y.measureNoWrapWidth(),e.maxTextWidth);f=w+2*y.x;const E=f+2*r;y.setWidth(w);y.sizeViewToDom();w=q.getPagePosition();
y=y.height+2*y.y;const J=y+2*r,P=w.y-J+("below"===e.tipvalign?q.height+J:0);w=w.x;switch(e.tipalign){case "right":w-=E;case "farright":w+=q.width;break;case "farleft":w-=E}this.setX(h(l(m(w,0),g.getWidth()-E)));this.setY(h(l(m(P,0),g.getHeight()-J)));this.setWidth(f);this.setHeight(y);this.setBgColor(this.tipBgColor);this.setBorder([r,"solid",this.edgeColor]);this.setBoxShadow([D,D,D,this.shadowColor]);this.callSuper()}});const a=n.TooltipMixin=new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},
setTooltip:function(e){this.callSuper("");this.set("tooltip",e,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(e){this.set("tipAlign",e,!0)},setTipValign:function(e){this.set("tipValign",e,!0)},setMaxTextWidth:function(e){this.set("maxTextWidth",e,!0)},setTipClass:function(e){this.set("tipClass",e,!0)},doSmoothMouseOver:function(e){const f=this.getTooltip();this.callSuper(e);if(e&&f){e=this.tipClass??a.TIP_CLASS;!v||v instanceof e||(v.destroy(),v=null);if(!v){let q=document.getElementById("tooltipDiv");
q||(q=n.DomElementProxy.createElement("div",{position:"absolute"}),n.getElement().appendChild(q));v=new e(q,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:f,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||a.MAX_TEXT_WIDTH})}}})})(myt);
(n=>{const v=Math,{min:u,max:t}=v;n.Path=new JS.Class("Path",{initialize:function(g){this.setVectors(g??[])},setVectors:function(g){this._boundingBox=null;this.vectors=g},copyFrom:function(g){this.vectors=g.vectors.slice();this._boundingBox=null},drawInto:function(g){g.beginPath();const k=this.vectors;let d=k.length,l=0;for(g.moveTo(k[l++],k[l++]);d>l;)g.lineTo(k[l++],k[l++]);g.closePath()},translate:function(g,k){const d=this.vectors;let l=d.length;for(;l;)d[--l]+=k,d[--l]+=g;this._boundingBox=null},
scale:function(g){const k=this.vectors;let d=k.length;for(;d;)k[--d]*=g,k[--d]*=g;this._boundingBox=null},rotate:function(g){const k=v.cos(g);g=v.sin(g);const d=this.vectors,l=d.length;for(let m=0;l>m;){const h=d[m]*k-d[m+1]*g,b=d[m]*g+d[m+1]*k;d[m++]=h;d[m++]=b}this._boundingBox=null},rotateAroundOrigin:function(g,k,d){this.translate(-k,-d);this.rotate(g);this.translate(k,d)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const g=this.vectors;let k=g.length,d,l,m,h;if(2<=
k){m=h=g[--k];for(d=l=g[--k];k;){const b=g[--k],c=g[--k];m=u(b,m);h=t(b,h);d=u(c,d);l=t(c,l)}return this._boundingBox={x:d,y:m,width:l-d,height:h-m}}return this._boundingBox=null},getCenter:function(){const g=this.getBoundingBox();return g?{x:g.x+g.width/2,y:g.y+g.height/2}:null},isPointInPath:function(g,k){"object"===typeof g&&(k=g.y,g=g.x);return n.Geometry.isPointInPath(g,k,this.getBoundingBox(),this.vectors)}})})(myt);
(n=>{const v=console.warn,u=Math.PI,t=u/2,g=3*u/2,k=n.AccessorSupport,d={};for(const l of"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" "))d[l]=function(...m){this.__ctx[l](...m)};for(const l of["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"])d[l]=
function(...m){return this.__ctx[l](...m)};for(const l of"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" "))d[k.generateSetterName(l)]=function(m){this.__ctx[l]=m},d[k.generateGetterName(l)]=function(){return this.__ctx[l]};n.Canvas=new JS.Class("Canvas",n.BackView,{include:[d],initNode:function(l,m){this.quickSet(["willReadFrequently"],m);this.callSuper(l,m)},
createOurDomElement:function(l){l=this.callSuper(l);var m=Array.isArray(l)?l[1]:l;const h=this.__cvs=document.createElement("canvas");h.className="mytUnselectable";m.appendChild(h);h.style.position="absolute";m={};this.willReadFrequently&&(m.willReadFrequently=!0);this.__ctx=h.getContext("2d",m);return l},setWidth:function(l){0>l&&(l=0);this.__cvs.setAttribute("width",l);this.callSuper(l)},setHeight:function(l){0>l&&(l=0);this.__cvs.setAttribute("height",l);this.callSuper(l)},clear:function(){const l=
this.__ctx;l.save();l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,this.width,this.height);l.restore()},dataURItoBlob:function(l,m){l=atob(l.split(",")[1]);const h=l.length,b=[];for(let c=0;c<h;)b.push(l.charCodeAt(c++));return new Blob([new Uint8Array(b)],{type:m})},getDataURL:function(l,m){return this.__cvs.toDataURL(l,m)},getImageFile:function(l,m,h){switch(l){case "png":case "PNG":l="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":l="jpeg";h??=.5;break;default:v("Unexpected image type",
l),l=l.toLowerCase()}const b="image/"+l;h=this.dataURItoBlob(this.getDataURL(b,h),b);m&&(h.name=m+"."+l);return h},circle:function(l,m,h){this.__ctx.arc(l,m,h,0,2*u)},drawRoundedRect:function(l,m,h,b,c,a){const e=this.lineTo.bind(this),f=this.arc.bind(this);a=b+a;c=h+c;this.beginPath();this.moveTo(h,b+l);e(h,a-l);f(h+l,a-l,l,u,t,!0);e(c-l,a);f(c-l,a-l,l,t,0,!0);e(c,b+l);f(c-l,b+l,l,0,g,!0);e(h+l,b);f(h+l,b+l,l,g,u,!0);this.closePath();0<m&&(l-=m,h+=m,c-=m,b+=m,a-=m,this.moveTo(h,b+l),f(h+l,b+l,l,
u,g),e(c-l,b),f(c-l,b+l,l,g,0),e(c,a-l),f(c-l,a-l,l,0,t),e(h+l,a),f(h+l,a-l,l,t,u),this.closePath());return this},drawRectOutline:function(l,m,h,b,c){c=h+c;b=m+b;const a=m+l,e=b-l,f=h+l;l=c-l;const q=this.lineTo.bind(this);this.beginPath();this.moveTo(m,h);q(m,c);q(b,c);q(b,h);q(m,h);q(a,f);q(e,f);q(e,l);q(a,l);q(a,f);this.closePath();return this},drawPartiallyRoundedRect:function(l,m,h,b,c,a,e,f){f=a+f;e=c+e;const q=this.lineTo.bind(this),y=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(c,
a+l);q(c,f-h);0<h&&y(c,f,c+h,f);q(e-b,f);0<b&&y(e,f,e,f-b);q(e,a+m);0<m&&y(e,a,e-m,a);q(c+l,a);0<l&&y(c,a,c,a+l);this.closePath();return this},drawAnnulus:function(l,m,h,b,c,a,e,f=60){const q=n.Color;for(var y of e)"string"===typeof y.color&&(y.color=q.makeColorFromHexString(y.color));1>f&&(v("Invalid segements",f),f=60);f=u/f;y=0;for(var r=e.length-1;y<r;){var D=e[y++];const {angle:z,color:I}=D,{angle:Q,color:O}=e[y];var w=Math.round((Q-z)/f),E=I.getDiffFrom(O);D.colorDelta={red:E.red/w,green:E.green/
w,blue:E.blue/w}}h=new n.Path([l+h,m,l+b,m]);h.rotateAroundOrigin(c,l,m);b=h.vectors;let [J,P,B,G]=b,x=0,p=u/360;for(y=0;a>c;){w=J;E=P;r=B;D=G;c+=f;c>a&&(f+=a-c,p=0,c=a);h.rotateAroundOrigin(f+p,l,m);[J,P,B,G]=b;this.beginPath();this.moveTo(w,E);this.lineTo(r,D);this.lineTo(B,G);this.lineTo(J,P);this.closePath();const {color:z,colorDelta:I}=e[y];this.setFillStyle(q.rgbToHex(z.red+x*I.red,z.green+x*I.green,z.blue+x*I.blue,!0));this.fill();0<p&&(h.rotateAroundOrigin(-p,l,m),[J,P,B,G]=b);x++;c>=e[y+
1].angle&&(x=0,y++)}return this}})})(myt);
(n=>{const {Class:v,Module:u}=JS,{View:t,Text:g,FontAwesome:{makeTag:k}}=n,d=k(["times"]);n.GrowlManager=new v("GrowlManager",t,{include:[n.SizeToWindowHeight],initNode:function(b,c){const a=this;a.growlCount=0;c.overflow??(c.overflow="visible autoy");c.margin??(c.margin=8);c.spacing??(c.spacing=4);c.reverse??(c.reverse=!0);c.width??(c.width=300);c.visible??(c.visible=!1);c.pointerEvents??(c.pointerEvents="none");c.moveDuration??(c.moveDuration=300);c.dedupe??(c.dedupe=!0);c.clearAllThreshold??(c.clearAllThreshold=
0);c.simpleGrowlClass??(c.simpleGrowlClass=n.SimpleGrowl);a.quickSet(["moveDuration","dedupe"],c);a.callSuper(b,c);a.doAlignment();const e=a.moveDuration;new n.SpacedLayout(a,{axis:"y",reverse:a.reverse,spacing:a.spacing},[{updateParent:function(f,q){0<e?(a.stopActiveAnimators("height"),a.animate({attribute:"height",to:q+this.outset-this.spacing,duration:e})):this.callSuper(f,q)},updateSubview:function(f,q,y,r){return 0<e?(q.stopActiveAnimators("y"),q.animate({attribute:"y",to:r,duration:e}),r+q.height+
this.spacing):this.callSuper(f,q,y,r)}}])},setHeight:function(b){this.callSuper(b-2*this.margin)},setVisible:function(b){this.visible!==b&&(this.visible=b,this.getODS().display=b?"block":"none",this.inited&&this.fireEvent("visible",b))},setMargin:function(b){this.set("margin",b,!0);this.getODS().margin=b+"px"},setSpacing:function(b){this.set("spacing",b,!0)},setReverse:function(b){this.set("reverse",b,!0)},doAlignment:function(){const b=this.getODS();b.left=null;b.right="0px"},notifyChanged:function(){this.setVisible(0<
this.getSubviews().length)},subviewAdded:function(b){this.callSuper(b);this.notifyChanged()},subviewRemoved:function(b){this.callSuper(b);this.notifyChanged()},addGrowl:function(b){if(this.dedupe){const c=b.getHash(),a=this.getSubviews();let e=a.length;for(;e;){const f=a[--e];if(f!==b&&f.getHash?.()===c){this.removeGrowl(f);break}}}this.growlCount++;b.setVisible(!0);this.updateClearAll()},removeGrowl:function(b){b.destroy();this.growlCount--;this.updateClearAll()},updateClearAll:function(){const b=
this.clearAllThreshold;0<b&&this.growlCount>=b?(this._clearAllBtn??(this._clearAllBtn=this.makeClearAll()),this._clearAllBtn.setVisible(!0)):this._clearAllBtn?.setVisible(!1)},makeClearAll:function(){const b=this;return new n.TextButton(b,{width:b.width,height:28,text:d+" Dismiss All",fontWeight:"bold",paddingTop:5,zIndex:1,visible:!1,ignoreLayout:!0,pointerEvents:"auto"},[{setVisible:function(c){this.callSuper(c);b.getFirstLayout().setInset(this.visible?this.height+b.spacing:0)},doActivated:function(){const c=
b.getFirstLayout();c.incrementLockedCounter();b.growlCount=0;delete b._clearAllBtn;c.setInset(0);b.destroyAllSubviews();c.decrementLockedCounter()}}])},addSimpleGrowl:function(b,c){this.addGrowl(new this.simpleGrowlClass(this,{text:b,...(c??{})}))}});n.KeepShowingMixin=new u("KeepShowingMixin",{include:[n.MouseOver],initNode:function(b,c){c.initialKeepDuration??(c.initialKeepDuration=-1);c.keepDuration??(c.keepDuration=-1);this.quickSet(["initialKeepDuration","keepDuration"],c);this.callSuper(b,c);
b=this.initialKeepDuration;0<=b&&this.keepShowing(!1,b)},keepShowing:function(b,c){const a=this;c??=a.keepDuration;(a.__keepShowing=b)&&a.__timerIdKS&&clearTimeout(a.__timerIdKS);0<=c&&!b&&(a.__timerIdKS=setTimeout(()=>{("function"===typeof a.isShown?a.isShown():a.visible)&&!a.__keepShowing&&("function"===typeof a.hide?a.hide(!0):a.setVisible(!1))},c))},doMouseOver:function(b){this.keepShowing(!0);this.callSuper(b)},doMouseOut:function(b){this.keepShowing(!1);this.callSuper(b)}});n.KeepShowingChildMixin=
new u("KeepShowingChildMixin",{doMouseOver:function(b){this.callSuper(b);return!0},doMouseOut:function(b){this.callSuper(b);return!0}});n.GrowlMixin=new u("GrowlMixin",{include:[n.SizeToParent,n.KeepShowingMixin],initNode:function(b,c){c.percentOfParentWidth??(c.percentOfParentWidth=100);c.pointerEvents??(c.pointerEvents="auto");c.bgColor??(c.bgColor="#fff");c.roundedCorners??(c.roundedCorners=3);c.boxShadow??(c.boxShadow=[0,0,8,"#00000088"]);c.initialKeepDuration??(c.initialKeepDuration=5E3);c.keepDuration??
(c.keepDuration=1E3);c.showDuration??(c.showDuration=300);c.hideDuration??(c.hideDuration=300);this.quickSet(["showDuration","hideDuration"],c);c.opacity=0;c.visible=!1;this.callSuper(b,c)},setVisible:function(b){const c=this;c.inited?(c.stopActiveAnimators("opacity"),b?(c.animate({attribute:"opacity",to:1,duration:c.showDuration}),c.callSuper(b)):c.animate({attribute:"opacity",to:0,duration:c.hideDuration}).next(a=>{c.parent.removeGrowl(c)})):c.callSuper(b)},getHash:function(){return this.hash??
(this.hash=n.hash(this.getHashableString()))},getHashableString:()=>""+n.generateGuid()});const l=k(["clipboard-check"]),m="maxHeight icon iconSize text padding spacing whiteSpace showCloseButton closeIcon closeOnly showCopyButton copyIcon activeColor hoverColor readyColor".split(" "),h=new v("LocalTxtBtn",n.TextButton,{include:[n.KeepShowingChildMixin],initNode:function(b,c){c.width??(c.width=24);c.height??(c.height=24);c.paddingTop??(c.paddingTop=4);c.activeColor??(c.activeColor="#ccc");c.hoverColor??
(c.hoverColor="#ddd");c.readyColor??(c.readyColor="#eee");this.callSuper(b,c)}});n.SimpleGrowl=new v("SimpleGrowl",t,{include:[n.GrowlMixin],initNode:function(b,c){const a={};c.maxHeight??(c.maxHeight=100);c.spacing??(c.spacing=6);c.padding??(c.padding=12);c.whiteSpace??(c.whiteSpace="normal");c.iconSize??(c.iconSize="24px");c.showCloseButton??(c.showCloseButton=!1);c.showCloseButton&&(c.closeIcon??(c.closeIcon=d),c.closeOnly??(c.closeOnly=!1));c.showCopyButton??(c.showCopyButton=!1);c.showCopyButton&&
(c.copyIcon??(c.copyIcon=l));for(const y of m)a[y]=c[y],delete c[y];a.closeOnly&&(c.initialKeepDuration=c.keepDuration=-1);this.callSuper(b,c);const {maxHeight:e,padding:f,icon:q}=a;q&&(this.iconTxt=new g(this,{y:f,text:q,fontSize:a.iconSize}));b=this.msgTxt=new g(this,{y:f,text:a.text,whiteSpace:a.whiteSpace,layoutHint:1});0<e&&(b.setOverflow("auto"),b.getIDS().maxHeight=e+"px");a.showCopyButton&&(this.copyBtn=this.makeCopyButton(a),b.setUserUnselectable(!1));a.showCloseButton&&(this.closeBtn=this.makeCloseButton(a));
new n.ResizeLayout(this,{inset:f,spacing:a.spacing,outset:f});new n.SizeToChildren(this,{axis:"y",paddingY:f})},makeCloseButton:function(b){const c=this;new h(c,{y:b.padding,text:b.closeIcon,tooltip:"Dismiss this notification.",activeColor:b.activeColor,hoverColor:b.hoverColor,readyColor:b.readyColor},[{doActivated:()=>{c.parent.removeGrowl(c)}}])},makeCopyButton:function(b){const c=this;new h(c,{y:b.padding,text:b.copyIcon,tooltip:"Copy to system clipboard.",activeColor:b.activeColor,hoverColor:b.hoverColor,
readyColor:b.readyColor},[{doActivated:()=>{global.isSecureContext?navigator.clipboard.writeText(n.removeMarkup(c.msgTxt.text,{brToLineFeed:!0})):console.warn("access to clipboard blocked because of insecure context.")}}])},getHashableString:function(){return this.iconTxt?.text+" | "+this.msgTxt.text}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

(l=>{let v;var q=e=>{let c,b=e.length;for(;b;)if(c=e[--b],v=c.ver||c.id,c.str&&0<=c.str.indexOf(c.sub)||c.prop)return c.id};var n=e=>{const c=e.indexOf(v);if(0<=c)return parseFloat(e.substring(c+v.length+1))};const f=navigator.userAgent,a=navigator.platform;n=l.BrowserDetect={browser:q([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:f,sub:"Firefox",id:"Firefox"},{str:f,sub:"Chrome",id:"Chrome"},{str:f,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:n(f)||n(navigator.appVersion)||"UNKNOWN",os:q([{str:f,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(n.browser){case "Chrome":case "Safari":l="WebKit";break;case "Explorer":l="MS";break;case "Firefox":l="Moz";break;case "Opera":l="O";break;default:l="UNKNOWN"}q=l.toLowerCase();n.prefix={dom:l,lowercase:q,css:"-"+q+"-",js:q[0].toUpperCase()+q.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const l=Math,v=l.abs,q=l.floor,n=l.ceil,f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),e="Sun Mon Tue Wed Thu Fri Sat".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b=g=>(10>g?"0":"")+g,h=(g,r)=>{g=g.getTimezoneOffset();return(0<g?"-":"+")+b(q(v(g/60)))+(r?":":"")+(0==v(g%60)?"00":b(v(g%60)))},p=
{d:g=>b(g.getDate()),D:g=>e[g.getDay()],j:g=>g.getDate(),l:g=>c[g.getDay()],N:g=>0==g.getDay()?7:g.getDay(),S:g=>{g=g.getDate();return 1==g%10&&11!=g?"st":2==g%10&&12!=g?"nd":3==g%10&&13!=g?"rd":"th"},w:g=>g.getDay(),z:g=>{const r=new Date(g.getFullYear(),0,1);return n((g-r)/864E5)},W:g=>{const r=new Date(g.valueOf());g=(g.getDay()+6)%7;r.setDate(r.getDate()-g+3);g=r.valueOf();r.setMonth(0,1);4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7);return b(1+n((g-r)/6048E5))},F:g=>a[g.getMonth()],m:g=>
b(g.getMonth()+1),M:g=>f[g.getMonth()],n:g=>g.getMonth()+1,t:g=>{let r=g.getFullYear();g=g.getMonth()+1;12===g&&(r=r++,g=0);return(new Date(r,g,0)).getDate()},L:g=>{g=g.getFullYear();return 0==g%400||0!=g%100&&0==g%4},o:g=>{const r=new Date(g.valueOf());r.setDate(r.getDate()-(g.getDay()+6)%7+3);return r.getFullYear()},Y:g=>g.getFullYear(),y:g=>(""+g.getFullYear()).substr(2),a:g=>12>g.getHours()?"am":"pm",A:g=>12>g.getHours()?"AM":"PM",B:g=>q(1E3*((g.getUTCHours()+1)%24+g.getUTCMinutes()/60+g.getUTCSeconds()/
3600)/24),g:g=>g.getHours()%12||12,G:g=>g.getHours(),h:g=>b(g.getHours()%12||12),H:g=>b(g.getHours()),i:g=>b(g.getMinutes()),s:g=>b(g.getSeconds()),e:g=>/\((.*)\)/.exec((new Date).toString())[1],I:g=>{let r=null,d=0;for(;12>d;){const u=(new Date(g.getFullYear(),d++,1)).getTimezoneOffset();if(null===r)r=u;else if(u<r){r=u;break}else if(u>r)break}return g.getTimezoneOffset()==r|0},O:g=>h(g,!1),P:g=>h(g,!0),T:g=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:g=>60*-g.getTimezoneOffset(),c:g=>g.format("Y-m-d\\TH:i:sP"),
r:g=>g.toString(),U:g=>g.getTime()/1E3};return function(g){return g.replace(/(\\?)(.)/g,(r,d,u)=>""===d&&p[u]?p[u](this):u)}})();
(l=>{const v=(w,k)=>{if(w&&k)for(const x in k)w[x]===k[x]||w.hasOwnProperty(x)||(w[x]=k[x]);return w},q=w=>{const k=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},x=function(){};x.prototype=(w||Object).prototype;k.prototype=new x;return k},n=(w,k)=>{const x=!k;if(x&&w.__anc__)return w.__anc__.slice();k=k||[];const C=w.__inc__,z=C.length;for(let B=0;B<z;)n(C[B++],k);k.includes(w)||k.push(w);x&&(w.__anc__=k.slice());return k},f=(w,k)=>{var x=w.__mct__[k];if(x)return x.slice();
x=n(w);const C=x.length,z=[];for(let B=0;B<C;){const D=x[B++].__fns__;D.hasOwnProperty(k)&&z.push(D[k])}w.__mct__[k]=z.slice();return z},a=(w,k)=>{const x=w.callable;return w.__hs?function(){const C=this.callSuper,z=this.hasOwnProperty("callSuper"),B=f(k,w.name);let D=B.length-1;if(0===D)delete this.callSuper;else{const m=Array.from(arguments),y=this.callSuper=(...A)=>{let H=A.length;for(;H;)m[--H]=A[H];0===--D&&delete this.callSuper;A=B[D].apply(this,m);this.callSuper=y;D++;return A}}const t=x.apply(this,
arguments);z?this.callSuper=C:delete this.callSuper;return t}:x},e=(w,k)=>{k=k||w;if(k===w){w.__anc__=null;w.__mct__={};for(var x=w.__dep__.length;x;)e(w.__dep__[--x])}if(x=k.__tgt__){var C=w.__inc__;w=w.__fns__;const z=C.length;for(let B=0;B<z;)e(C[B++],k);for(const B in w)C=w[B],C=C instanceof h?a(C,k):C,x[B]!==C&&(x[B]=C)}},c=w=>w.__meta__?w.__meta__:(w.__meta__=new g("",null,{_target:w})).include(w.klass,{_rslv:!1}),b=w=>"function"!==typeof w||w.__fns__&&w.__inc__,h=l.Method=q(),p=(w,k,x)=>x&&
x.__inc__&&x.__fns__||"function"!==typeof x?x:new h(w,k,x),g=l.Module=q();v(h.prototype,{initialize:function(w,k,x){this.module=w;this.name=k;this.callable=x;this.__hs="function"===typeof x&&-1!==x.toString().indexOf("callSuper")},call:function(...w){return this.callable(...w)},apply:function(w,k){return this.callable.apply(w,k)}});v(g.prototype,{initialize:function(w,k,x){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(x||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
w;this.include(k,{_rslv:!1})},define:function(w,k,x){this.__fns__[w]=p(this,w,k);!1!==(x||{})._rslv&&e(this)},include:function(w,k){if(w){if(w.__fns__&&w.__inc__)this.__inc__.push(w),w.__dep__.push(this);else{var x=w.extend,C=w.include;const z={_rslv:!1};if(b(x)){x=[].concat(x);for(let B=0,D=x.length;B<D;)this.extend(x[B++])}if(b(C)){C=[].concat(C);for(let B=0,D=C.length;B<D;)this.include(C[B++],z)}for(const B in w)w.hasOwnProperty(B)&&(C=w[B],("extend"!==B&&"include"!==B||!b(C))&&this.define(B,C,
z))}!1!==(k||{})._rslv&&e(this)}return this},includes:function(w){if(w===this)return!0;const k=this.__inc__,x=k.length;for(let C=0;C<x;)if(k[C++].includes(w))return!0;return!1},instanceMethod:function(w){return f(this,w).pop()}});const r=new g("Kernel",{equals:function(w){return this===w},extend:function(w,k){w&&c(this).include(w,{_rslv:(k||{})._rslv});return this},isA:function(w){return"function"===typeof w&&this instanceof w||c(this).includes(w)}}),d=l.Class=q(g);v(d.prototype,{initialize:function(w,
k,x,C){"function"!==typeof k&&(C=x,x=k,k=Object);g.prototype.initialize.call(this,w);w=(C||{})._rslv;C={_rslv:!1};const z=q(k);v(z,this);z.prototype.constructor=z.prototype.klass=z;c(z).include(k.__meta__,{_rslv:w});z.__tgt__=z.prototype;k=k===Object?{}:k.__fns__?k:new g(k.prototype,C);z.include(r,C).include(k,C).include(x,C);!1!==w&&e(z);return z}});const u=(w,k)=>{w.__inc__=[];w.__dep__=[];const x=w.__tgt__=w.prototype,C=w.__fns__={};for(const z in x)x.hasOwnProperty(z)&&(C[z]=p(w,z,x[z]));x.constructor=
x.klass=w;v(w,d.prototype);w.include(k);w.constructor=w.klass=d};u(h,r);u(g,r);u(d,g);e(c(h));e(c(g));c(d).include(g.__meta__);l.Singleton=new d("Singleton",{initialize:(w,k,x)=>new (new d(w,k,x))})})(global.JS||(global.JS={}));
(l=>{class v extends Error{constructor(z,B,...D){super(...D);this.name="FetchError";this.status=z;this.url=B}}let q=0,n;const f=Math,a=f.abs,e=f.min,c=f.max,b=f.pow,h=document,p=h.head,g=h.createElement.bind(h),r={},d={"":!0},u=h.fonts,w=z=>{z=z.family.split('"').join("")+" "+z.weight;if(!d[z]){d[z]=!0;const B=r[z]||[];for(;B.length;)(z=B.pop())&&!z.destroyed&&z.sizeViewToDom()}},k={},x=z=>function(){const B=JSON.stringify(arguments),D=z.__cache||(z.__cache={});return B in D?D[B]:D[B]=z.apply(this,
arguments)},C=l.myt={version:2.02201181318E7,generateGuid:()=>++q,addEventListener:(z,B,D,t,m)=>{z.addEventListener(B,D,{capture:t||!1,passive:m||!1})},removeEventListener:(z,B,D,t)=>{z.removeEventListener(B,D,t||!1)},resolveName:(z,B)=>{if(z&&0!==z.length){B=B||global;var D=Array.isArray(z)?z:z.split("."),t=D.length;for(let m=0;m<t;m++)if(B=B[D[m]],void 0===B){console.warn("resolveName failed for",z,"at part",m,D[m]);return}return B}},resolveClassname:z=>{"string"===typeof z&&(z=C.resolveName(z));
return z&&"function"===typeof z.isA&&z.isA(JS.Class)?z:null},getExtension:z=>z?z.split(".")[1]:null,loadScript:function(z,B,D){const t=this._loadedScripts||(this._loadedScripts={});if(t[z])return console.warn("script already loaded for src",z),null;t[z]=!0;const m=g("script");m.type="text/javascript";m.async=!1;if(B){let y=!1;m.onload=m.onreadystatechange=()=>{y||m.readyState&&"complete"!==m.readyState||(y=!0,m.onload=m.onreadystatechange=null,B())}}m.src=z+(D?"":(0<=z.indexOf("?")?"&":"?")+"cacheBust="+
Date.now());p.appendChild(m);return m},dumpStack:(z,B)=>{let D;"string"===typeof z&&(D=z,z=null);C.global.error.notify(B||"error",null,D,z)},getRandom:z=>{const B=f.random();return z?c(0,e(z(B),.9999999999)):B},getRandomArbitrary:(z,B,D)=>{const t=e(z,B);return C.getRandom(D)*(c(z,B)-t)+t},getRandomInt:(z,B,D)=>{const t=e(z,B);return f.floor(C.getRandom(D)*(c(z,B)-t+1)+t)},areFloatsEqual:(z,B,D)=>{const t=a(z),m=a(B);return a(z-B)<=(t>m?m:t)*(null==D?1E-6:a(D))},areArraysEqual:(z,B)=>{if(z!==B){if(null==
z||null==B)return!1;let D=z.length;if(D!==B.length)return!1;for(;D;)if(z[--D]!==B[D])return!1}return!0},areObjectsEqual:(z,B)=>{if(z!==B){if(null==z||null==B)return!1;for(const D in z)if(z[D]!==B[D])return!1;for(const D in B)if(z[D]!==B[D])return!1}return!0},getElement:(z,B)=>h.getElementsByTagName(z||"body")[0<B?B:0],loadFontFaces:(z,B)=>{const D=[];z.forEach(t=>{t=new FontFace(t.family,"url("+t.url+")",t.options);D.push(t.load())});Promise.all(D).then(t=>{t.forEach(m=>{u.add(m);w(m)});B&&B(t)})},
loadFontFace:(z,B,D={},t)=>{z=new FontFace(z,"url("+B+")",D);z.loaded.then(m=>{u.add(m);w(m);t&&t(m)});z.load()},registerForFontNotification:(z,B)=>{d[B]?z&&!z.destroyed&&z.sizeViewToDom():(r[B]||(r[B]=[])).push(z)},createBaseFontCSSRule:z=>{C.addCSSRule(C.createStylesheet(),"body, input","font-family:"+z,0)},loadCSSFonts:z=>{(z||[]).forEach(B=>{const D=g("link");D.rel="stylesheet";D.href=B;p.appendChild(D)})},createStylesheet:()=>{const z=g("style");p.appendChild(z);return z.sheet},addCSSRule:(z,
B,D,t)=>{"insertRule"in z?z.insertRule(B+"{"+D+"}",t):"addRule"in z&&z.addRule(B,D,t)},removeCSSRules:z=>{let B=z.cssRules.length;for(;B;)B--,"deleteRule"in z?z.deleteRule(B):"removeRule"in z&&z.removeRule(B)},createInputPlaceholderCSSRule:(z,B,D,t=1)=>{var m=z.getODE();m=m.id||(m.id="id"+C.generateGuid());let y=z.__sheet;y?C.removeCSSRules(y):y=z.__sheet=C.createStylesheet();z=[];B&&z.push("color:"+B);D&&z.push("font-family:"+D);t&&z.push("opacity:"+t);C.addCSSRule(y,"#"+m+"::placeholder",z.join("; "),
0)},chainSortFunc:(z,B)=>(D,t)=>{const m=z(D,t);return 0===m?B(D,t):m},getAlphaObjSortFunc:x((z,B,D,t)=>{const m=B?1:-1;return(y,A)=>{y=y[z];A=A[z];t?("string"!==typeof y&&(y=""+y),"string"!==typeof A&&(A=""+A)):(y=y||"",A=A||"");D&&(y=y.toLowerCase(),A=A.toLowerCase());return y.localeCompare(A)*m}}),getNumericObjSortFunc:x((z,B)=>{const D=B?1:-1;return(t,m)=>{t=t[z]||0;m=m[z]||0;return(t-m)*D}}),formatAsPercentage:(z,B=2)=>{if("number"===typeof z)return B=c(16,e(0,B)),z=f.round(c(0,e(1,z))*b(10,
2+B))/b(10,B),(0===z%1?z:z.toFixed(B))+"%";"string"!==typeof z&&console.warn("formatAsPercentage: expects a number");return z},memoize:x,debounce:function(z,B,D){return function(){const t=this,m=t.__DBTO,y=arguments,A=D&&!m;clearTimeout(m);t.__DBTO=setTimeout(function(){t.__DBTO=null;D||z.apply(t,y)},B);A&&z.apply(t,y)}},createFixedThresholdCounter:(z,B,D,t)=>{var m=C.AccessorSupport.generateName;const y="function"===typeof z||z instanceof JS.Module,A={};t=t||m("counter",D);const H=m(t,"increment");
m=m(t,"decrement");if(void 0!==(y?z.instanceMethod(H):z[H]))return console.warn("Increment: Abort clobber",H,z),!1;if(void 0!==(y?z.instanceMethod(m):z[m]))return console.warn("Decrement: Abort clobber",m,z),!1;A[H]=function(){const I=this[t]+1;this[t]=I;this.fireEvent(t,I);I===B&&this.set(D,!0)};A[m]=function(){const I=this[t];if(0!==I){var J=I-1;this[t]=J;this.fireEvent(t,J);I===B&&this.set(D,!1)}};z[y?"include":"extend"](A);return!0},makeURLSearchParams:(z={})=>{const B=new URLSearchParams;for(const D in z){const t=
z[D];void 0!==t&&B.set(D,t)}return B},doFetch:(z,B,D,t,m,y)=>fetch(z,B).then(A=>{if(!A.ok)throw new v(A.status,z,A.statusText);return A}).then(A=>D?A.text():A.json()).then(A=>{if(t)try{if(D)t(A);else{if(!1===A.success)throw new v(200,z,A.message);t(A.data)}}catch(H){throw A=new v(200,z,H.message),A.stack=H.stack,A;}}).catch(A=>{if(m){if("FetchError"!==A.name){const H=new v(0,z,A.message);H.stack=A.stack;A=H}m(A)}}).finally(()=>{y&&y()}),I18N:{setLocale:z=>{n=z},getLocale:()=>n,addDictionary:(z,B)=>
{k[B]=Object.assign(k[B]||{},z)},get:function(z){const B=arguments;var D=n||=(navigator.language||"en").split("-")[0].toLowerCase();D=(k[D]||k.en||{})[z];if(null!=D){if(1<B.length){for(var t of D.matchAll(/\{\{plural:\$(.*?)\|(.*?)\|(.*?)\}\}/g))D=D.replace(t[0],t[1==B[parseInt(t[1])]?2:3]);for(t=1;t<B.length;t++)D=D.replaceAll("$"+t,B[t])}return D}return z}}};u.onloadingdone=z=>{z.fontfaces.forEach(B=>{w(B)})}})(global);
(l=>{const v=Object.assign,q=(f,a)=>{0===f.indexOf('"')&&(f=f.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a?JSON.parse(f):f}catch(e){}},n=l.Cookie={defaults:{raw:!1,json:!1},read:(f,a)=>{a=v({},n.defaults,a);const e=a.raw?g=>g:g=>decodeURIComponent(g.split("+").join(" "));a=a.json;const c=document.cookie.split("; "),b=c.length,h=f?void 0:{};for(let g=0;g<b;){var p=c[g++].split("=");const r=e(p.shift());p=e(p.join("="));if(f){if(f===r)return q(p,a)}else h[r]=q(p,a)}return h},
write:(f,a,e)=>{e=v({},n.defaults,e);if("number"===typeof e.expires){const c=e.expires,b=e.expires=new Date;b.setDate(b.getDate()+c)}a=e.json?JSON.stringify(a):String(a);return document.cookie=[e.raw?f:encodeURIComponent(f),"=",e.raw?a:encodeURIComponent(a),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.samesite?"; samesite="+e.samesite:"",e.secure?"; secure":""].join("")},remove:(f,a)=>void 0!==n.read(f,a)?(n.write(f,"",v({},a,{expires:-1})),
!0):!1}})(myt);
(l=>{const v=global.localStorage,q=(f,a,e)=>{if(0<a){const c="__timerId_"+e;(e=n[c])&&clearTimeout(e);n[c]=setTimeout(()=>{f();delete n[c]},a)}else f()},n=l.LocalStorage={hasDatum:(f,a)=>{if(f&&(a=n.getItem(a||"myt")))try{return null!=JSON.parse(a)[f]}catch(e){console.error(e)}return!1},getDatum:(f,a)=>{if(f&&(a=n.getItem(a||"myt")))try{const e=JSON.parse(a);if("object"===typeof e)return e[f]}catch(e){console.error(e)}},setDatum:(f,a,e,c)=>{e=e||"myt";q(()=>{const b=n.getData(e);b[f]=a;n.setItem(e,
JSON.stringify(b))},c,e+"___"+f)},removeDatum:(f,a,e)=>{a=a||"myt";q(()=>{const c=n.getData(a);delete c[f];n.setItem(a,JSON.stringify(c))},e,a+"___"+f)},hasData:f=>null!=n.getItem(f||"myt"),getData:f=>{if(f=n.getItem(f||"myt"))try{return JSON.parse(f)}catch(a){console.error(a)}return{}},setData:(f,a,e)=>{a=a||"myt";null==f&&(f={});return"object"===typeof f?(q(()=>{n.setItem(a,JSON.stringify(f))},e,a),!0):!1},removeData:(f,a)=>{f=f||"myt";q(()=>{n.removeItem(f)},a,f)},getLength:()=>v.length,getKey:f=>
v.key(f),getItem:f=>v.getItem(f),setItem:(f,a)=>{v.setItem(f,a)},removeItem:f=>{v.removeItem(f)},clear:()=>{v.clear()},get:f=>n.getItem(f),set:(f,a)=>{n.setItem(f,a)},remove:f=>{n.removeItem(f)},clearAll:()=>{n.clear()}}})(myt);
(l=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,q=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;l.URI=new JS.Class("URI",{initialize:function(f,a){f&&this.parse(f,a)},setSource:function(f){this.source=f},setProtocol:function(f){this.protocol=
f},setAuthority:function(f){this.authority=f},setUserInfo:function(f){this.userInfo=f},setUser:function(f){this.user=f},setPassword:function(f){this.password=f},setHost:function(f){this.host=f},setPort:function(f){this.port=f},setRelative:function(f){this.relative=f},setPath:function(f){this.path=f},setDirectory:function(f){this.directory=f},setFile:function(f){this.file=f},setQuery:function(f){this.query=f},setAnchor:function(f){this.anchor=f},parse:function(f,a){const e=this;f=(a?n:q).exec(f);e.setSource(f[0]||
"");e.setProtocol(f[1]||"");e.setAuthority(f[2]||"");e.setUserInfo(f[3]||"");e.setUser(f[4]||"");e.setPassword(f[5]||"");e.setHost(f[6]||"");e.setPort(f[7]||"");e.setRelative(f[8]||"");e.setPath(f[9]||"");e.setDirectory(f[10]||"");e.setFile(f[11]||"");e.setQuery(f[12]||"");e.setAnchor(f[13]||"");e.queryPairs={};e.query.replace(v,(c,b,h)=>{b&&(e.queryPairs[b]=h)})},decodeQueryParam:f=>decodeURIComponent(f).split("+").join(" "),getQuery:function(){var f=this.queryPairs;const a=[];for(const e in f)a.push(e+
"="+encodeURIComponent(this.getQueryParam(e)));f=a.join("&");return 0<f.length?"?"+f:f},getQueryParam:function(f){f=this.queryPairs[f];return null==f?void 0:this.decodeQueryParam(f)},getPathParts:function(f){const a=this.path.split("/");if(!f)for(f=a.length;f;)0===a[--f].length&&a.splice(f,1);return a},toString:function(f){const a=this.protocol,e=this.host,c=this.userInfo,b=this.port,h=this.path;f=f?this.query?"?"+this.query:"":this.getQuery();const p=this.anchor;let g="";a&&(g+=a+"://");c&&e&&(g+=
c+"@");e&&(g+=e,b&&(g+=":"+b));h?g+=h:e&&(f||p)&&(g+="/");f&&(g+=f);p&&(g+="#"+p);return g}})})(myt);
(l=>{const v=Math,q=v.PI,n=v.cos,f=v.sin,a=v.sqrt,e=l.Geometry={getClosestPointOnALineToAPoint:(c,b,h,p,g,r,d)=>{h-=c;p-=b;g=(h*(g-c)+p*(r-b))/(h*h+p*p);d&&(g=v.min(1,v.max(0,g)));return{x:c+h*g,y:b+p*g}},isPointInPath:(c,b,h,p)=>{"object"===typeof c&&(p=h,h=b,b=c.y,c=c.x);if(e.rectContainsPoint(c,b,h)&&(h=p.length,6<=h)){let g=!1,r=p[0],d=p[1],u,w;for(;h;)w=p[--h],u=p[--h],w>b!==d>b&&c<(r-u)*(b-w)/(d-w)+u&&(g=!g),r=u,d=w;return g}return!1},rectContainsPoint:(c,b,h,p,g,r)=>{"object"===typeof c&&(r=
g,g=p,p=h,h=b,b=c.y,c=c.x);"object"===typeof h&&(r=h.height,g=h.width,p=h.y,h=h.x);return c>=h&&b>=p&&c<=h+g&&b<=p+r},circleContainsPoint:(c,b,h,p,g)=>e.measureDistance(c,b,h,p,!0)<=g*g,measureDistance:(c,b,h,p,g)=>{c=h-c;b=p-b;b=c*c+b*b;return g?b:a(b)},degreesToRadians:c=>c*q/180,radiansToDegrees:c=>180*c/q,circleContainsLatLng:(c,b,h,p,g,r)=>e.measureLatLngDistance(c,b,h,p,r)<=g,measureLatLngDistance:(c,b,h,p,g)=>{void 0===g&&(g=6371);c=e.degreesToRadians(c);b=e.degreesToRadians(b);h=e.degreesToRadians(h);
p=e.degreesToRadians(p);return g*v.acos(f(c)*f(h)+n(c)*n(h)*n(p-b))},polarToCartesian:(c,b,h,p)=>{null==h&&(h=0);null==p&&(p=0);b%=360;if(0===b)b=c,c=0;else if(90===b)b=0;else if(180===b)b=-c,c=0;else if(270===b)b=0,c=-c;else{const g=e.degreesToRadians(b);b=c*n(g);c*=f(g)}return[h+b,p+c]},cartesianToPolar:(c,b,h,p,g)=>{null==h&&(h=0);null==p&&(p=0);c-=h;p=b-p;b=a(c*c+p*p);p=v.atan2(p,c);0>p&&(p+=2*q);return[b,g?p:e.radiansToDegrees(p)]}}})(myt);
(l=>{const v=JS.Module;l.Observable=new v("Observable",{attachObserver:function(q,n,f){return q&&n&&f?(this.getObservers(f).push(n,q),!0):!1},detachObserver:function(q,n,f){if(q&&n&&f){var a=this.__obsbt;if(a&&(f=a[f])){a=!1;let e=f.length;for(;e;)--e,q===f[e--]&&n===f[e]&&(f.splice(e,2),a=!0);return a}}return!1},detachAllObservers:function(){const q=this.__obsbt;if(q)for(const n in q){const f=q[n];let a=f.length;for(;a;){const e=f[--a],c=f[--a];e&&c&&("function"===typeof e.detachFrom&&e.detachFrom(this,
c,n)||f.splice(a,2))}}},getObservers:function(q){const n=this.__obsbt||(this.__obsbt={});return n[q]||(n[q]=[])},hasObservers:function(q){const n=this.__obsbt;return n?(q=n[q])&&0<q.length:!1},createEvent:function(q,n){return{source:this,type:q,value:n}},isFiringEvent:function(q){return(this.__aet||(this.__aet={}))[q]},fireEvent:function(q,n,f){if(f=f||(this.hasObservers(q)?this.__obsbt[q]:null)){n={source:this,type:q,value:n};const a=this.__aet||(this.__aet={});if(!0===a[q])l.global.error.notifyWarn("eventLoop",
"Abort refiring event:"+q);else{a[q]=!0;let e=f.length;for(;e;){const c=f[--e],b=f[--e];if(c&&b)try{if("function"===typeof b){if(b.call(c,n))break}else if(c[b](n))break}catch(h){l.dumpStack(h)}}a[q]=!1}}}});l.Observer=new v("Observer",{valueFromEvent:q=>q&&"object"===typeof q&&q.type?q.value:q,syncTo:function(q,n,f,a,e){void 0===a&&(a=f);try{this[n](q.createEvent(f,q.get(a)))}catch(c){l.dumpStack(c)}e||this.attachTo(q,n,f,e)},isAttachedTo:function(q,n,f){if(q&&n&&f){var a=this.__obt;if(a&&(f=a[f]))for(a=
f.length;a;)if(--a,q===f[a--]&&n===f[a])return!0}return!1},getObservables:function(q){const n=this.__obt||(this.__obt={});return n[q]||(n[q]=[])},hasObservables:function(q){const n=this.__obt;return n?(q=n[q])&&0<q.length:!1},attachTo:function(q,n,f,a){if(q&&n&&f){const e=this.getObservables(f);if(a){const c=this,b=n;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);n="__DO_ONCE_"+this.__methodNameCounter++;this[n]=h=>{c.detachFrom(q,n,f);delete c[n];return c[b](h)}}if(q.attachObserver(this,
n,f))return e.push(n,q),!0}return!1},detachFrom:function(q,n,f){if(q&&n&&f){var a=this.__obt;if(a&&(a=a[f])){let e=!1,c=a.length;for(;c;)--c,q===a[c--]&&n===a[c]&&q.detachObserver(this,n,f)&&(a.splice(c,2),e=!0);return e}}return!1},detachFromAllObservables:function(){const q=this.__obt;if(q)for(const n in q){const f=q[n];let a=f.length;for(;a;)f[--a].detachObserver(this,f[--a],n);f.length=0}},constrain:function(q,n){if(q&&n){const a=n.length;if(0!==a%2)console.log("Observables uneven",this);else{var f=
this.__cbmn||(this.__cbmn={});f=f[q]||(f[q]=[]);if(0<f.length)console.log("Constraint exists for "+q+" on "+this);else{for(let e=0;a!==e;){const c=n[e++],b=n[e++];c&&b&&(this.attachTo(c,q,b),f.push(c,b))}try{this[q]()}catch(e){l.dumpStack(e)}}}}},releaseConstraint:function(q){if(q){var n=this.__cbmn;if(n&&(n=n[q])){let f=n.length;for(;f;){const a=n[--f],e=n[--f];this.detachFrom(e,q,a)}n.length=0}}},releaseAllConstraints:function(){const q=this.__cbmn;if(q)for(const n in q)this.releaseConstraint(n)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(l,v){this.hasOwnProperty(l)&&(console.warn("Global key in use",l),this.unregister(l));this[l]=v;this.fireEvent("register"+l,v)},unregister:function(l){if(this.hasOwnProperty(l)){const v=this[l];delete this[l];this.fireEvent("unregister"+l,v)}else console.warn("Global key not in use",l)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(l){this.consoleLogging=l},setStackTraceLimit:function(l){Error.stackTraceLimit=this.stackTraceLimit=l},notifyError:function(l,v,q){this.notify("error",l,v,q)},notifyWarn:function(l,v,q){this.notify("warn",l,v,q)},notifyMsg:function(l,v,q){this.notify("log",l,v,q)},notifyDebug:function(l,v,q){this.notify("debug",
l,v,q)},notify:function(l,v,q,n){n||=Error(q||v);n=n.stack||n.stacktrace;this.fireEvent(v||"error",{msg:q,stacktrace:n});if(this.consoleLogging&&l)console[l](n)}});
(l=>{const v=global,q=v.getComputedStyle,n=document,f=Math.max,a=l.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(e,c,b)=>{e=n.createElement(e);if(b)for(const h in b)e[h]=b[h];if(c)for(const h in c)e.style[h]=c[h];return e},isDomElementVisible:e=>{if("INPUT"===e.nodeName&&"hidden"===e.type)return!1;for(;e;){if(e===n)return!0;const c=q(e);if("none"===c.display||"hidden"===c.visibility)break;e=e.parentNode}return!1},getZIndexRelativeToAncestor:(e,c)=>{if(e&&c)for(e=a.getAncestorArray(e,
c),c=e.length-1;c;){const b=q(e[--c]),h=b.zIndex,p="auto"===h;if(0===c||!p||1!==parseInt(b.opacity,10))return p?0:parseInt(h,10)}return 0},getAncestorArray:(e,c)=>{const b=[];for(;e;){b.push(e);if(e===c)break;e=e.parentNode}return b},getHighestZIndex:e=>{var c=q(e);let b=c.zIndex;var h="auto"===b;if(h&&1===parseInt(c.opacity,10))for(b=0,e=e.childNodes,c=e.length;c;)h=e[--c],1===h.nodeType&&(b=f(b,a.getHighestZIndex(h)));else b=h?0:parseInt(b,10);return b},getRelativePosition:(e,c)=>{if(e){let b=0,
h=0;for(;e&&"BODY"!==e.nodeName&&e!==c;)if(b+=e.offsetLeft,h+=e.offsetTop,(e=e.offsetParent)&&"BODY"!==e.nodeName){const p=q(e);b+=parseInt(p.borderLeftWidth,10)-e.scrollLeft;h+=parseInt(p.borderTopWidth,10)-e.scrollTop}return{x:b,y:h}}},getTruePosition:e=>{if(e)return e=e.getBoundingClientRect(),{x:e.left+v.scrollX,y:e.top+v.scrollY}},simulateDomEvent:(e,c,b)=>{if(e){const h={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},p={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(b)for(const r in b)h[r]=b[r];let g;for(const r in p)if(p[r].test(c)){g=r;break}if(!g)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(n.createEvent)b=n.createEvent(g),"HTMLEvents"===g?b.initEvent(c,h.bubbles,h.cancelable):b.initMouseEvent(c,h.bubbles,h.cancelable,n.defaultView,h.button,h.pointerX,h.pointerY,h.pointerX,h.pointerY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,null),e.dispatchEvent(b);
else{h.clientX=h.pointerX;h.clientY=h.pointerY;b=n.createEventObject();for(const r in h)b[r]=h[r];e.fireEvent("on"+c,b)}}},getScrollbarSize:l.memoize(()=>{const e=n.body,c=a.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});e.appendChild(c);const b=c.offsetWidth-c.clientWidth;e.removeChild(c);return b})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(e){const c=
Array.isArray(e),b=this.__oE=c?e[0]:e;e=this.__iE=c?e[1]:e;this.__iS=e.style;this.__oS=b.style;e.model=b.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(e){this.__iE.className=this.domClass=e},addDomClass:function(e){const c=this.__iE.className;this.setDomClass((c?c+" ":"")+e)},removeDomClass:function(e){var c=
this.__iE.className;if(c){c=c.split(" ");let b=c.length;for(;b;)c[--b]===e&&c.splice(b,1);this.setDomClass(c.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(e){this.__iE.id=this.domId=e},setZIndex:function(e){this.__oS.zIndex=e},setStyleProperty:function(e,c){this.__iS[e]=c},getPagePosition:function(e){return a["get"+(e?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){a.simulateDomEvent(this.__iE,"click")},getHighestZIndex:function(){return a.getHighestZIndex(this.__iE)},
getHighestChildZIndex:function(e){const c=this.__iE.childNodes;let b=c.length,h=0;for(;b;){const p=c[--b];1===p.nodeType&&p!==e&&(h=f(h,a.getHighestZIndex(p)))}return h},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(e,c){(c?this.__iE:this.__oE).scrollTop=e||0}})})(myt);
(l=>{let v;const q=f=>{for(;f.lastChild;)f=f.lastChild;return f},n=(f,a)=>{v.lastTraversalWasForward=f;let e=document.body,c=e;var b=document.activeElement;let h=c,p;const g=f?"getNextFocus":"getPrevFocus";b&&(h=c=b,(b=c.model)||(b=v.findModelForDomElement(c)),b&&(a=b.getFocusTrap(a))&&(e=a.getIDE()));for(;h;){if(h.model&&h.model[g]&&(p=h.model[g]()))h=p.getIDE();else if(f)if(h.firstChild)h=h.firstChild;else{if(h===e)return c.model;if(h.nextSibling)h=h.nextSibling;else for(;h&&(h=h.parentNode,h!==
e);)if(h.nextSibling){h=h.nextSibling;break}}else h=h===e?q(e):h.previousSibling?q(h.previousSibling):h.parentNode;if(h===c)return c.model;if(1===h.nodeType)if((b=h.model)&&b instanceof l.View){if(b.isFocusable())return b}else if(a=h.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||h.disabled||isNaN(h.tabIndex)||!l.DomElementProxy.isDomElementVisible(h)||(b=v.findModelForDomElement(h),b&&b.searchAncestorsOrSelf(r=>!0===r.maskFocus)))){h.focus();v.focusedDom=
h;break}}};new JS.Singleton("GlobalFocus",{include:[l.Observable],initialize:function(){this.lastTraversalWasForward=!0;l.global.register("focus",v=this)},setFocusedView:f=>{if(v.focusedView!==f){v.prevFocusedView=v.focusedView;if(v.focusedView=f)v.focusedDom=null;v.fireEvent("focused",f)}},notifyFocus:f=>{v.focusedView!==f&&v.setFocusedView(f)},notifyBlur:f=>{v.focusedView===f&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:f=>{(f=n(!0,f))&&f.focus()},prev:f=>{(f=n(!1,f))&&f.focus()},findModelForDomElement:f=>{for(;f;){let a=f.model;if(a&&a instanceof l.View)return a;f=f.parentNode}}})})(myt);
(l=>{const v=JS.Module,q=l.global.focus,n=()=>({source:null,type:null,value:null}),f=l.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:n(),getKeyCodeFromEvent:g=>g.value.keyCode||g.value.charCode},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,f)||this.callSuper(g,r,d)}}),a=l.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,
wheel:!0},EVENT:n(),getMouseFromEvent:g=>({x:g.value.pageX,y:g.value.pageY}),getMouseFromEventRelativeToView:(g,r)=>{r=r.getPagePosition();g=a.getMouseFromEvent(g);g.x-=r.x;g.y-=r.y;return g}},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,a,!0)||this.callSuper(g,r,d)}}),e=l.ScrollObservable=new v("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:n(),getScrollFromEvent:g=>{g=g.value;g=g.target||g.srcElement;return{x:g.scrollLeft,y:g.scrollTop}}},createDomHandler:function(g,
r,d){return this.createStandardDomHandler(g,r,d,e)||this.callSuper(g,r,d)}}),c=l.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:n()},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,c,!1)||this.callSuper(g,r,d)}}),b=l.FocusObservable=new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:n()},initNode:function(g,r){this.focusable=!1;this.focusIndicator=!0;this.callSuper(g,r)},destroy:function(){this.giveAwayFocus();
this.callSuper()},setFocused:function(g){this.focused!==g&&(this.focused=g,this.inited&&(this.fireEvent("focused",g),g?q.notifyFocus(this):q.notifyBlur(this)))},setFocusable:function(g){if(this.focusable!==g){const r=this.focusable;(this.focusable=g)?(this.getIDE().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):r&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&
this.fireEvent("focusable",g)}},setFocusIndicator:function(g){this.focusIndicator!==g&&(this.focusIndicator=g,this.focused&&(g?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(q.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(g=>!0===g.maskFocus)},focus:function(g){this.isFocusable()&&this.getIDE().focus({preventScroll:g})},blur:function(){this.getIDE().blur()},
__doFocus:function(g){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(g){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},showFocusIndicator:function(){this.getIDE().hideFocus=!1;const g=this.getIDS();g.outlineWidth="thin";g.outlineColor="#8bf";g.outlineStyle="solid";g.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},
hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(g,r,d){if(b.EVENT_TYPES[d]){const u=this;return w=>{w||(w=window.event);if(u._ignoreFocus)w.cancelBubble=!0,w.stopPropagation&&w.stopPropagation(),w.preventDefault();else{var k=b.EVENT;k.source=u;k.type=w.type;k.value=w;g[r](k)||(w.cancelBubble=!0,w.stopPropagation&&w.stopPropagation());k.source=void 0}}}return this.callSuper(g,r,d)}}),h=l.InputObservable=new v("InputObservable",
{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:n()},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,h)||this.callSuper(g,r,d)}}),p=l.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:n()},createDomHandler:function(g,r,d){return this.createStandardDomHandler(g,r,d,p,!0)||this.callSuper(g,r,d)}});l.DomObservable=new v("DomObservable",{attachDomObserver:function(g,r,d,u,w){if(g&&r&&
d){u=!!u;const k=this.createDomHandler(g,r,d);if(k){const x=this.__dobsbt||(this.__dobsbt={}),C=x[d];C?C.push(g,r,k,u):x[d]=[g,r,k,u];l.addEventListener(this.getDomElementForDomObservable(d),d,k,u,w);return!0}}return!1},getDomElementForDomObservable:function(g){return this.getIDE()},createDomHandler:(g,r,d)=>null,createStandardDomHandler:function(g,r,d,u,w){if(u.EVENT_TYPES[d]){const k=this,x=u.EVENT;return C=>{C||(C=window.event);x.source=k;x.type=C.type;x.value=C;g[r](x)||(C.cancelBubble=!0,C.stopPropagation&&
C.stopPropagation(),w&&C.preventDefault());x.source=void 0}}},detachDomObserver:function(g,r,d,u){if(g&&r&&d){u=!!u;var w=this.__dobsbt;if(w&&(w=w[d])){const k=this.getDomElementForDomObservable(d);let x=!1,C=w.length;for(;C;)C-=4,g===w[C]&&r===w[C+1]&&u===w[C+3]&&(k&&l.removeEventListener(k,d,w[C+2],u),w.splice(C,4),x=!0);return x}}return!1},detachAllDomObservers:function(){const g=this.__dobsbt;if(g)for(const r in g){const d=g[r];let u=d.length;for(;u;){const w=d[--u],k=d[--u];u-=2;l.removeEventListener(this.getDomElementForDomObservable(r),
r,k,w)}d.length=0}}});l.DomObserver=new v("DomObserver",{attachToDom:function(g,r,d,u,w){if(g&&r&&d){u=!!u;var k=this.__dobt||(this.__dobt={});k=k[d]||(k[d]=[]);g.attachDomObserver(this,r,d,u,w)&&k.push(u,r,g)}},detachFromDom:function(g,r,d,u){if(g&&r&&d){u=!!u;var w=this.__dobt;if(w&&(w=w[d])){let k=!1,x=w.length;for(;x;)x-=3,g===w[x+2]&&r===w[x+1]&&u===w[x]&&g.detachDomObserver(this,r,d,u)&&(w.splice(x,3),k=!0);return k}}return!1},detachFromAllDomSources:function(){const g=this.__dobt;if(g)for(const r in g){const d=
g[r];let u=d.length;for(;u;)d[--u].detachDomObserver(this,d[--u],r,d[--u]);d.length=0}}})})(myt);
(l=>{let v,q={};const n=l.global,f=n.focus,a="Firefox"===BrowserDetect.browser,e=a?224:91,c=a?224:93,b=()=>!!q[e]||!!q[c],h=(g,r)=>{switch(g){case 8:return g=r.nodeName,!("TEXTAREA"===g||"INPUT"===g&&("text"===r.type||"password"===r.type)||"DIV"===g&&"true"===r.contentEditable&&r.firstChild);case 9:return!0}return!1},p=(g,r)=>{["keydown","keypress","keyup"].forEach(d=>{v[r](g,"__hndl_"+d,d)})};new JS.Singleton("GlobalKeys",{include:[l.DomElementProxy,l.DomObservable,l.DomObserver,l.KeyObservable,
l.Observable,l.Observer],initialize:function(){n.register("keys",v=this);v.KEYCODE_TAB=9;v.KEYCODE_SHIFT=16;v.KEYCODE_CONTROL=17;v.KEYCODE_ALT=18;v.KEYCODE_Z=90;v.KEYCODE_COMMAND=e;v.KEYCODE_RIGHT_COMMAND=c;v.setDomElement(document);v.attachTo(f,"__hndl_focused","focused");p(v,"attachToDom");global.onblur=()=>{q={}}},isKeyDown:g=>!!q[g],isShiftKeyDown:()=>!!q[16],isControlKeyDown:()=>!!q[17],isAltKeyDown:()=>!!q[18],isCommandKeyDown:b,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?b():!!q[17],
ignoreFocusTrap:()=>!!q[18],__hndl_focused:g=>{(g=g.value)?(p(v,"detachFromDom"),p(g,"attachToDom")):((g=f.prevFocusedView)&&p(g,"detachFromDom"),p(v,"attachToDom"))},__hndl_keydown:g=>{const r=l.KeyObservable.getKeyCodeFromEvent(g);g=g.value;h(r,g.target)&&g.preventDefault();b()&&16!==r&&17!==r&&18!==r?(v.fireEvent("keydown",r),v.fireEvent("keyup",r)):(q[r]=!0,9===r&&(g=!!q[18],q[16]?f.prev(g):f.next(g)),v.fireEvent("keydown",r))},__hndl_keypress:g=>{v.fireEvent("keypress",l.KeyObservable.getKeyCodeFromEvent(g))},
__hndl_keyup:g=>{const r=l.KeyObservable.getKeyCodeFromEvent(g);g=g.value;h(r,g.target)&&g.preventDefault();q[r]=!1;v.fireEvent("keyup",r)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
(l=>{const v=JS.Module,q=f=>{f.getSubviews().forEach(a=>{a&&a.syncInnerToOuter&&!a.ignoreFlex&&(a.syncInnerToOuter(),a.syncModelToOuterBounds())})},n=l.FlexBoxSupport=new v("FlexBoxSupport",{initNode:function(f,a){this.callSuper(f,a);q(this)},setWidth:function(f,a){this.callSuper(f,a);this.inited&&q(this)},setHeight:function(f,a){this.callSuper(f,a);this.inited&&q(this)},setFlexDirection:function(f){if(this.flexDirection!==f){let a=this.flexDirection=f;switch(a){case "rowReverse":a="row-reverse";
break;case "columnReverse":a="column-reverse"}this.getIDS().flexDirection=a;this.inited&&(this.fireEvent("flexDirection",f),q(this))}},setFlexWrap:function(f){if(this.flexWrap!==f){let a=this.flexWrap=f;switch(a){case "wrapReverse":case "reverse":a="wrap-reverse"}this.getIDS().flexWrap=a;this.inited&&(this.fireEvent("flexWrap",f),q(this))}},setJustifyContent:function(f){if(this.justifyContent!==f){let a=this.justifyContent=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end";break;
case "spaceBetween":case "between":a="space-between";break;case "spaceAround":case "around":a="space-around";break;case "spaceEvenly":case "evenly":a="space-evenly"}this.getIDS().justifyContent=a;this.inited&&(this.fireEvent("justifyContent",f),q(this))}},setAlignItems:function(f){if(this.alignItems!==f){let a=this.alignItems=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end"}this.getIDS().alignItems=a;this.inited&&(this.fireEvent("alignItems",f),q(this))}},setAlignContent:function(f){if(this.alignContent!==
f){let a=this.alignContent=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end";break;case "spaceBetween":case "between":a="space-between";break;case "spaceAround":case "around":a="space-around"}this.getIDS().alignContent=a;this.inited&&(this.fireEvent("alignContent",f),q(this))}},createOurDomElement:function(f){f=this.callSuper(f);(Array.isArray(f)?f[1]:f).style.display="flex";return f},subviewAdded:function(f){f&&!f.ignoreFlex&&(f.getODS().position="",this.inited&&q(this))},syncSubviews:function(){q(this)},
subviewRemoved:f=>{!f||f.destroyed||f.ignoreFlex||(f.getODS().position="absolute")}});l.FlexBoxChildSupport=new v("FlexBoxChildSupport",{setParent:function(f){var a=this.isChildOfFlexBox();this.callSuper(f);this.__parentIsFlexBox=this.parent&&this.parent.isA(n);this.inited&&a&&!this.isChildOfFlexBox()&&(f=this.getIDS(),a=this.getODS(),"auto"!==f.width&&(a.width=this.width+"px"),"auto"!==f.height&&(a.height=this.height+"px"),this.syncInnerToOuter())},setWidth:function(f,a){null==f||""===f?(this.getODS().width=
"",this.syncModelToOuterBounds(!1,!0)):this.callSuper(f,a);this.syncInnerToOuter(!1,!0)},setHeight:function(f,a){null==f||""===f?(this.getODS().height="",this.syncModelToOuterBounds(!0,!1)):this.callSuper(f,a);this.syncInnerToOuter(!0,!1)},setFlexGrow:function(f){this.flexGrow!==f&&(this.getODS().flexGrow=this.flexGrow=f,this.inited&&(this.fireEvent("flexGrow",f),(f=this.parent)&&f.syncSubviews&&f.syncSubviews()))},setFlexShrink:function(f){this.flexShrink!==f&&(this.getODS().flexShrink=this.flexShrink=
f,this.inited&&(this.fireEvent("flexShrink",f),(f=this.parent)&&f.syncSubviews&&f.syncSubviews()))},setAlignSelf:function(f){if(this.alignSelf!==f){let a=this.alignSelf=f;switch(a){case "start":a="flex-start";break;case "end":a="flex-end"}this.getODS().alignSelf=a;this.inited&&this.fireEvent("alignSelf",f)}},isChildOfFlexBox:function(){return this.__parentIsFlexBox},syncModelToOuterBounds:function(f,a){const e=this.getODE(),c=this.getIDS();f||("auto"===c.width?this.getODS().width="auto":this.setInnerWidth(e.clientWidth),
this.fireEvent("width",this.width=e.clientWidth));a||("auto"===c.height?this.getODS().height="auto":this.setInnerHeight(e.clientHeight),this.fireEvent("height",this.height=e.clientHeight))},syncInnerToOuter:function(f,a){const e=this.getIDS(),c=this.getODE();f||"auto"===e.width||this.setInnerWidth(c.clientWidth);a||"auto"===e.height||this.setInnerHeight(c.clientHeight)},setInnerWidth:function(f){this.getIDS().width=f+"px"},setInnerHeight:function(f){this.getIDS().height=f+"px"},createOurDomElement:function(f){f=
this.callSuper(f);const a=document.createElement("div");a.style.position="relative";f.appendChild(a);return[f,a]}})})(myt);
(l=>{const v=Array.prototype,q={},n={},f=(b,h)=>h+b.substring(0,1).toUpperCase()+b.substring(1),a=b=>n[b]||(n[b]=f(b,"set")),e=b=>q[b]||(q[b]=f(b,"get")),c=(b,h,p)=>{null==b[h]&&(b[h]=p)};l.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:a,generateGetterName:e,generateName:f,createSetterFunction:(b,h)=>{const p=a(h);b[p]&&console.log("Overwriting setter",p);b[p]=g=>{b[h]!==g&&(b[h]=g,b.inited&&b.fireEvent(h,g))}},createGetterFunction:(b,h)=>{const p=e(h);b[p]&&console.log("Overwriting getter",
p);b[p]=()=>b[h]},defAttr:c},appendToEarlyAttrs:function(){v.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){v.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){v.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){v.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:c,quickSet:function(b,h){(b||[]).forEach(p=>{this[p]=h[p];delete h[p]})},callSetters:function(b){var h=
this.earlyAttrs;const p=this.lateAttrs;let g;var r;if(h||p){var d={};for(r in b)d[r]=b[r];b=d;if(h)for(d=0,r=h.length;r>d;){const u=h[d++];u in b&&(this.set(u,b[u]),delete b[u])}if(p)for(g=[],d=0,r=p.length;r>d;)h=p[d++],h in b&&(g.push(h,b[h]),delete b[h])}for(const u in b)this.set(u,b[u]);if(g)for(d=0,r=g.length;r>d;)this.set(g[d++],g[d++])},get:function(b){const h=e(b);return this[h]?this[h]():this[b]},set:function(b,h,p){if(!p&&(p=a(b),this[p]))return this[p](h);this[b]!==h&&(this[b]=h,!1!==this.inited&&
this.fireEvent&&this.fireEvent(b,h))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let l,v;const q=this.__meta__;if(q)for(l=Object.keys(q),v=l.length;v;)delete q[l[--v]];l=Object.keys(this);for(v=l.length;v;)delete this[l[--v]];this.destroyed=!0}}});
(l=>{const v=JS.Class,q=JS.Module,n=new v("AbstractPool",{include:[l.Destructible],initialize:()=>{},destroy:function(){const c=this.__op;c&&(c.length=0);this.callSuper()},getInstance:function(){const c=this.__op||(this.__op=[]);return c.length?c.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(c){(this.__op||(this.__op=[])).push(this.cleanInstance(c))},cleanInstance:c=>{"function"===typeof c.clean&&c.clean();return c},destroyPooledInstances:function(){var c=
this.__op;if(c){let b=c.length;for(;b;){const h=c[--b];"function"===typeof h.destroy&&h.destroy()}}}}),f=l.SimplePool=new v("SimplePool",n,{initialize:function(c,b){this.callSuper();this.instanceClass=c||Object;this.instanceParent=b},createInstance:function(c){var b=this.instanceParent,h=this.instanceClass;return b?new h(b,c):new h}}),a=new q("TrackActives",{destroy:function(){const c=this.__actives;c&&(c.length=0);this.callSuper()},getInstance:function(){const c=this.callSuper();(this.__actives||
(this.__actives=[])).push(c);return c},putInstance:function(c){var b=this.__actives;if(b){let h=b.length;for(;h;)if(b[--h]===c){b.splice(h,1);this.callSuper(c);return}b="inactive"}else b="missing";console.warn("Tried to put a "+b+" instance",c,this)},getActives:function(c){const b=this.__actives;if(b){if(c){const h=[],p=b.length;for(let g=0;p>g;){const r=b[g++];c.call(this,r)&&h.push(r)}return h}return b.concat()}return[]},putActives:function(){const c=this.__actives;if(c){let b=c.length;for(;b;)this.putInstance(c[--b])}}}),
e=l.TrackActivesPool=new v("TrackActivesPool",f,{include:[a]});l.TrackActivesMultiPool=new v("TrackActivesMultiPool",n,{initialize:function(c,b){this.callSuper();this.instanceClassesByKey=c;const h=this._poolsByClassName={},p=this.__pbk={};for(const g in c){const r=c[g];p[g]=h[r.__displayName]=new e(r,b)}},destroy:function(){const c=this.__pbk;for(const b in c)c[b].destroy();this.callSuper()},getInstance:function(){const c=arguments[0],b=this.__pbk[c];if(b)return b.getInstance(arguments);console.warn("No pool for key",
c)},putInstance:function(c){const b=this._poolsByClassName[c.klass.__displayName];b?b.putInstance(c):console.warn("No pool for obj",c)},destroyPooledInstances:function(){const c=this.__pbk;for(const b in c)c[b].destroyPooledInstances()},getActives:function(c){let b=[];const h=this.__pbk;for(const p in h)b=b.concat(h[p].getActives(c));return b},putActives:function(){const c=this.__pbk;for(const b in c)c[b].putActives()}});l.Reusable=new q("Reusable",{clean:()=>{}})})(myt);
(l=>{const v=(a,e)=>{if(e)for(;a;){if(e(a))return a;a=a.parent}},q=(a,e)=>{const c=e.name;void 0===a[c]?a[c]=e:console.warn("Name in use",c)},n=(a,e)=>{const c=e.name;a[c]===e?delete a[c]:console.warn("Name not in use",c)},f=a=>a.__animPool||(a.__animPool=new l.TrackActivesPool(l.Animator,a));l.Node=new JS.Class("Node",{include:[l.AccessorSupport,l.Destructible,l.Observable,l.Observer],extend:{getMatchingAncestorOrSelf:v,getMatchingAncestor:(a,e)=>v(a?a.parent:null,e)},initialize:function(a,e,c){if(c){const b=
c.length;for(let h=0,p;b>h;)(p=c[h++])?this.extend(p):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.initNode(a,e||{})},initNode:function(a,e){this.callSetters(e);this.setParent(a);this.inited=!0},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let e=a.length;for(;e;)a[--e].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();
this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var e=this.placement||a.defaultPlacement;e&&(a=a.determinePlacement(e,this))}if(!(this.parent===a||a&&a.destroyed)){if(e=this.parent){let c=e.getSubnodeIndex(this);0<=c&&(this.name&&n(e,this),e.subnodes.splice(c,
1),e.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&q(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const e=this.parent;e&&this.name&&n(e,this);this.name=a;e&&a&&q(e,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},determinePlacement:function(a,e){let c=a.indexOf("."),b;0<=c&&(b=a.substring(c+1),a=a.substring(0,c));"*"===a&&(a=this.defaultPlacement)&&(c=a.indexOf("."),0<=c&&(b=a.substring(c+
1)+(b?"."+b:""),a=a.substring(0,c)));return(a=this[a])?b?a.determinePlacement(b,e):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.getIDE&&a.getIDE?a.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;
a=a.parent}},searchAncestorsForClass:function(a){if(a)return this.searchAncestors(e=>e instanceof a)},searchAncestors:function(a){return v(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return v(this,a)},getAncestors:function(){const a=[];let e=this;for(;e;)a.push(e),e=e.parent;return a},hasSubnode:function(a){return 0<=this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent===
this)return a.setParent(),a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,e,c,b,h){return this.animate(a,e,c,!1,null,b,!1,1,h)},animate:function(a){if(a){const e=f(this),c=e.getInstance({ignorePlacement:!0}),b=a.callback;delete a.callback;c.callSetters(a);c.next(h=>{e.putInstance(c)});b&&c.next(b);c.setRunning(!0);return c}},getActiveAnimators:function(a){if("string"===typeof a){const e=a;a=c=>c.attribute===e}return f(this).getActives(a)},stopActiveAnimators:function(a,e=!1){a=this.getActiveAnimators(a);
let c=a.length;if(0<c){const b=f(this);for(;c;){const h=a[--c];h.reset(e);e||b.putInstance(h)}}},doOnceOnIdle:function(a){this.attachTo(l.global.idle,a,"idle",!0)}})})(myt);
(l=>{let v=0,q=!1;const n=JS.Class,f=[],a=g=>{if(q!==g&&(q=g,!g)){for(g=f.length;g;){const r=f[--g];r.__deferredLayout=!1;r.update()}f.length=0}},e=(g,r,d,u)=>{const w=g.getSubviewIndex(r),k=g.subviews;0<=w&&(g=g.getSubviewIndex(d),k.splice(w,1),0<=g?(w<g&&--g,k.splice(g+(u?1:0),0,r)):u?k.push(r):k.unshift(r))},c=(g,r,d)=>{g[r]!==d&&(g[r]=d,g.inited&&(g.fireEvent(r,d),g.update()))},b=l.Layout=new n("Layout",l.Node,{extend:{incrementGlobalLock:()=>{1===++v&&a(!0)},decrementGlobalLock:()=>{0<v&&0===
--v&&a(!1)}},initNode:function(g,r){this.subviews=[];this.locked=!0;this.lockedCounter=1;const d=!0===r.locked;delete r.locked;this.callSuper(g,r);d||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(g){var r=this.parent;if(r!==g){const d=!this.locked;d&&(this.locked=!0);let u,w;if(r){u=this.subviews;for(w=u.length;w;)this.removeSubview(u[--w]);this.detachFrom(r,"__hndlPSA","subviewAdded");this.detachFrom(r,"__hndlPSR","subviewRemoved")}this.callSuper(g);
if(g=this.parent){u=g.getSubviews();w=0;for(r=u.length;r>w;)this.addSubview(u[w++]);this.attachTo(g,"__hndlPSA","subviewAdded");this.attachTo(g,"__hndlPSR","subviewRemoved")}d&&(this.locked=!1,this.inited&&g&&this.update())}},canUpdate:function(){return q?(this.__deferredLayout||(f.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(g){return 0<=this.getSubviewIndex(g)},getSubviewIndex:function(g){return this.subviews.indexOf(g)},addSubview:function(g){this.ignore(g)||
(this.subviews.push(g),this.startMonitoringSubview(g),this.locked||this.update())},startMonitoringSubview:g=>{},startMonitoringAllSubviews:function(){const g=this.subviews;let r=g.length;for(;r;)this.startMonitoringSubview(g[--r])},removeSubview:function(g){if(this.ignore(g))return-1;const r=this.getSubviewIndex(g);0<=r&&(this.stopMonitoringSubview(g),this.subviews.splice(r,1),this.locked||this.update());return r},stopMonitoringSubview:g=>{},stopMonitoringAllSubviews:function(){const g=this.subviews;
let r=g.length;for(;r;)this.stopMonitoringSubview(g[--r])},ignore:g=>g.ignoreLayout,__hndlPSA:function(g){g=g.value;g.parent===this.parent&&this.addSubview(g)},__hndlPSR:function(g){g=g.value;g.parent===this.parent&&this.removeSubview(g)},sortSubviews:function(g){this.subviews.sort(g)},moveSubviewBefore:function(g,r){e(this,g,r,!1)},moveSubviewAfter:function(g,r){e(this,g,r,!0)}});var h=l.ConstantLayout=new n("ConstantLayout",b,{setTargetAttrName:function(g){this.setterName=l.AccessorSupport.generateSetterName(g);
c(this,"targetAttrName",g)},setTargetValue:function(g){c(this,"targetValue",g)},update:function(){if(this.canUpdate()){const g=this.setterName,r=this.targetValue,d=this.subviews,u=d.length;if(g)for(let w=0;u>w;)d[w++][g](r)}}});h=l.VariableLayout=new n("VariableLayout",h,{initNode:function(g,r){this.collapseParent=this.reverse=!1;this.callSuper(g,r)},setCollapseParent:function(g){c(this,"collapseParent",g)},setReverse:function(g){c(this,"reverse",g)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const r=this.setterName,d=this.subviews;var g=d.length;let u=this.targetValue,w,k=0;if(this.reverse)for(w=g;w;)g=d[--w],this.skipSubview(g)||(u=this.updateSubview(++k,g,r,u));else for(w=0;g>w;){const x=d[w++];this.skipSubview(x)||(u=this.updateSubview(++k,x,r,u))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(r,u);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(g){this.attachTo(g,
"update","visible")},stopMonitoringSubview:function(g){this.detachFrom(g,"update","visible")},updateSubview:(g,r,d,u)=>{r[d](u);return u},skipSubview:g=>!g.visible,updateParent:(g,r)=>{}});const p=l.SpacedLayout=new n("SpacedLayout",h,{initNode:function(g,r){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(g,r)},setTargetAttrName:function(g){if(this.targetAttrName!==
g){const r="y"===g,d=this.inited;d&&this.stopMonitoringAllSubviews();this.measureAttrName=r?"boundsHeight":"boundsWidth";this.measureAttrBaseName=r?"height":"width";this.parentSetterName=r?"setHeight":"setWidth";d&&this.startMonitoringAllSubviews();this.callSuper(g)}},setNoAddSubviewOptimization:function(g){this.noAddSubviewOptimization=g},setAxis:function(g){this.setTargetAttrName(this.axis=g)},setInset:function(g){this.setTargetValue(this.inset=g)},setSpacing:function(g){c(this,"spacing",g)},setOutset:function(g){c(this,
"outset",g)},addSubview:function(g){const r=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(g);this.locked=r},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.callSuper(g)},stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.callSuper(g)},updateSubview:function(g,r,d,u){g=r[this.measureAttrName];r[d](u+(g-r[this.measureAttrBaseName])/2);return u+g+this.spacing},updateParent:function(g,r){this.parent[this.parentSetterName](r+
this.outset-this.spacing)}});l.ResizeLayout=new n("ResizeLayout",p,{setCollapseParent:g=>{},setTargetAttrName:function(g){if(this.targetAttrName!==g){if(this.inited){const r="x"===g;this.stopMonitoringParent(r?"height":"width");this.startMonitoringParent(r?"width":"height")}this.callSuper(g)}},setParent:function(g){if(this.parent!==g){const r="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(r);this.callSuper(g);this.parent&&this.startMonitoringParent(r)}},startMonitoringParent:function(g){this.attachTo(this.parent,
"update",g)},stopMonitoringParent:function(g){this.detachFrom(this.parent,"update",g)},doBeforeUpdate:function(){const g=this.measureAttrName,r=this.subviews;let d=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,u=r.length,w=0,k=0;for(;u;){const x=r[--u];this.skipSubview(x)||(++w,0<x.layoutHint?k+=x.layoutHint:d-=x[g])}0!==w&&(this.remainder=d-=(w-1)*this.spacing,this.resizeSum=k,this.scalingFactor=d/k,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===g?
"setWidth":"setHeight")},updateSubview:function(g,r,d,u){var w=r.layoutHint;0<w&&(this.resizeSumUsed+=w,w=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(w*this.scalingFactor),this.remainderUsed+=w,r[this.measureSetter](w));return this.callSuper(g,r,d,u)},startMonitoringSubview:function(g){0<g.layoutHint||this.attachTo(g,"update",this.measureAttrName);this.attachTo(g,"update","visible")},stopMonitoringSubview:function(g){0<g.layoutHint||this.detachFrom(g,"update",
this.measureAttrName);this.detachFrom(g,"update","visible")},updateParent:(g,r)=>{}});l.AlignedLayout=new n("AlignedLayout",h,{initNode:function(g,r){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(g,r)},setTargetAttrName:function(g){if(this.targetAttrName!==g){const r="y"===g,d=this.inited;d&&this.stopMonitoringAllSubviews();this.measureAttrName=
r?"boundsHeight":"boundsWidth";this.measureAttrBaseName=r?"height":"width";this.parentSetterName=r?"setHeight":"setWidth";d&&this.startMonitoringAllSubviews();this.callSuper(g)}},setAlign:function(g){if(this.align!==g){this.align=g;const r=this.locked;this.locked=!0;this.setTargetAttrName("middle"===g||"bottom"===g||"top"===g?"y":"x");this.locked=r;this.inited&&(this.fireEvent("align",g),this.update())}},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.callSuper(g)},
stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.callSuper(g)},doBeforeUpdate:function(){const g=this.measureAttrName,r=this.subviews;let d=0,u,w=r.length;for(;w;)u=r[--w],this.skipSubview(u)||(d=d>u[g]?d:u[g]);this.setTargetValue(d)},updateSubview:function(g,r,d,u){switch(this.align){case "center":case "middle":r[d]((u-r[this.measureAttrName])/2);break;case "right":case "bottom":r[d](u-r[this.measureAttrName]);break;default:r[d](0)}return u},updateParent:function(g,
r){this.parent[this.parentSetterName](r)}});l.WrappingLayout=new n("WrappingLayout",h,{initNode:function(g,r){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(g,r)},
setTargetAttrName:function(g){if(this.targetAttrName!==g){const r="y"===g,d=this.inited;d&&this.stopMonitoringAllSubviews();this.measureAttrName=r?"boundsHeight":"boundsWidth";const u=this.measureAttrBaseName=r?"height":"width";this.otherMeasureAttrName=r?"boundsWidth":"boundsHeight";const w=this.otherMeasureAttrBaseName=r?"width":"height";this.parentSetterName=r?"setWidth":"setHeight";this.otherSetterName=r?"setX":"setY";d&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(w),this.startMonitoringParent(u));
this.callSuper(g)}},setParent:function(g){if(this.parent!==g){const r="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(r?"height":"width");this.callSuper(g);this.parent&&this.startMonitoringParent(r?"height":"width")}},setAxis:function(g){this.setTargetAttrName(this.axis=g)},setInset:function(g){this.setTargetValue(this.inset=g)},setSpacing:function(g){c(this,"spacing",g)},setOutset:function(g){c(this,"outset",g)},setLineSpacing:function(g){c(this,"lineSpacing",g)},setLineInset:function(g){c(this,
"lineInset",g)},setLineOutset:function(g){c(this,"lineOutset",g)},startMonitoringParent:function(g){this.attachTo(this.parent,"update",g)},stopMonitoringParent:function(g){this.detachFrom(this.parent,"update",g)},startMonitoringSubview:function(g){this.attachTo(g,"update",this.measureAttrName);this.attachTo(g,"update",this.otherMeasureAttrName);this.callSuper(g)},stopMonitoringSubview:function(g){this.detachFrom(g,"update",this.measureAttrName);this.detachFrom(g,"update",this.otherMeasureAttrName);
this.callSuper(g)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(g,r,d,u){g=r[this.measureAttrName];const w=r[this.otherMeasureAttrName];u+g>this.parentSizeLessOutset||"break"===r.layoutHint?(u=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=w,++this.lineCount):w>this.lineSize&&(this.lineSize=w);r[this.otherSetterName](this.linePos+
(w-r[this.otherMeasureAttrBaseName])/2);r[d](u+(g-r[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,u+g+this.outset);return u+g+this.spacing},updateParent:function(g,r){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});l.createFixedThresholdCounter(b,1,"locked")})(myt);
(l=>{const v=Math.round,q=l.DomElementProxy,n=l.Geometry.rectContainsPoint,f=(d,u)=>{const w=l.global.focus.focusedView,k=d.getIDE();if(w===d||w&&w.isDescendantOf(d))w._ignoreFocus=!0;d=k.scrollTop;const x=k.scrollLeft;u.call();w&&(w._ignoreFocus=!1,w.focus(!0));k.scrollTop=d;k.scrollLeft=x},a=(d,u,w,k)=>{if(u&&"object"===typeof u){if(k&&(k=d.getLeastCommonAncestor(u))){var x=k.getIDE();k=q.getZIndexRelativeToAncestor(d.getODE(),x);x=q.getZIndexRelativeToAncestor(u.getODE(),x);w&&(k*=-1,x*=-1);if(k<
x)return!0;if(x<k)return!1}d=d.getODE().compareDocumentPosition(u.getODE());return w?2===d||10===d:4===d||20===d}return!1},e=d=>{d=d.getAncestors();let u=d.length,w=1,k=1;for(;u;){const x=d[--u];w*=x.scaleX||1;k*=x.scaleY||1;x.__effectiveScaleX=w;x.__effectiveScaleY=k}return{scaleX:w,scaleY:k}},c=(d,u,w)=>{const k=d.getODE();if(n(u,w,0,0,k.offsetWidth*d.__effectiveScaleX,k.offsetHeight*d.__effectiveScaleY)){if(d=d.parent){const x=d.getIDE();return c(d,u+(k.offsetLeft-x.scrollLeft)*d.__effectiveScaleX,
w+(k.offsetTop-x.scrollTop)*d.__effectiveScaleY)}return!0}return!1},b=d=>{switch(d.align){case "center":d.releaseConstraint("__doAlignCenter");break;case "right":d.releaseConstraint("__doAlignRight")}},h=d=>{const u=d.parent;if(u)switch(d.align){case "center":d.constrain("__doAlignCenter",[d,"width",d,"alignOffset",u,"width"]);break;case "right":d.constrain("__doAlignRight",[d,"width",d,"alignOffset",u,"width"]);break;case "left":d.setX(d.alignOffset||0)}},p=d=>{switch(d.valign){case "middle":d.releaseConstraint("__doValignMiddle");
break;case "bottom":d.releaseConstraint("__doValignBottom")}},g=d=>{const u=d.parent;if(u)switch(d.valign){case "middle":d.constrain("__doValignMiddle",[d,"height",d,"valignOffset",u,"height"]);break;case "bottom":d.constrain("__doValignBottom",[d,"height",d,"valignOffset",u,"height"]);break;case "top":d.setY(d.valignOffset||0)}},r=(d,u,w)=>{d.getODS()["border"+w+"Radius"]=u+"px"};l.View=new JS.Class("View",l.Node,{include:[q,l.DomObservable,l.DomObserver,l.ScrollObservable,l.FocusObservable,l.KeyObservable,
l.MouseObservable],extend:{retainFocusDuringDomUpdate:f},initNode:function(d,u){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=u.tagName;delete u.tagName;this.setDomElement(this.createOurDomElement(d));const w=this.getODS();w.left=w.top="0px";this.callSuper(d,u);this.__updateBounds(this.width,this.height);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(d){d=document.createElement(this.tagName||"div");d.style.position="absolute";
const u=this.klass;d.className=u.__cssClassName||(u.__cssClassName="myt-"+u.__displayName.split(".").join("-"));return d},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(d){this.parent!==d&&(this.inited&&(b(this),p(this)),this.callSuper(d),this.align&&h(this),this.valign&&g(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(d=>
d!==this)},setFocusTrap:function(d){this.focusTrap=d},setFocusCage:function(d){this.focusCage=d},setMaskFocus:function(d){this.maskFocus=d},setLayoutHint:function(d){this.layoutHint=d},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(d){if(this.ignoreLayout!==d){var u=this.inited&&this.parent;let w;if(d){if(u)for(u=this.parent.getLayouts(),w=u.length;w;)u[--w].removeSubview(this);this.ignoreLayout=d}else if(this.ignoreLayout=d,u)for(u=this.parent.getLayouts(),
w=u.length;w;)u[--w].addSubview(this)}},setDomClass:function(d){this.domClass!==d&&(this.callSuper(d),this.inited&&this.fireEvent("domClass",d))},setDomId:function(d){this.domId!==d&&(this.callSuper(d),this.inited&&this.fireEvent("domId",d))},setAlignOffset:function(d){this.alignOffset!==d&&(this.alignOffset=d,this.inited&&this.fireEvent("alignOffset",d),this.parent&&"left"===this.align&&this.setX(d))},setAlign:function(d){this.align!==d&&(this.inited&&b(this),this.align=d,this.inited&&(this.fireEvent("align",
d),h(this)))},__doAlignCenter:function(d){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(d){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(d){this.valignOffset!==d&&(this.valignOffset=d,this.inited&&this.fireEvent("valignOffset",d),this.parent&&"top"===this.valign&&this.setY(d))},setValign:function(d){this.valign!==d&&(this.inited&&p(this),this.valign=d,this.inited&&(this.fireEvent("valign",d),g(this)))},__doValignMiddle:function(d){this.setY(v((this.parent.height-
this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(d){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(d){this.x!==d&&(this.x=d,this.visible&&(this.getODS().left=d+"px"),this.inited&&this.fireEvent("x",d))},setY:function(d){this.y!==d&&(this.y=d,this.visible&&(this.getODS().top=d+"px"),this.inited&&this.fireEvent("y",d))},setWidth:function(d,u){0>d&&(d=0);this.width!==d&&(this.width=d,this.getODS().width=d+"px",this.inited&&(this.__updateBounds(d,this.height),
u||this.fireEvent("width",d)))},setHeight:function(d,u){0>d&&(d=0);this.height!==d&&(this.height=d,this.getODS().height=d+"px",this.inited&&(this.__updateBounds(this.width,d),u||this.fireEvent("height",d)))},setDomMinWidth:function(d,u){(u?this.getIDS():this.getODS()).minWidth=d?d+"px":null},getDomMinWidth:function(d){d=(d?this.getIDS():this.getODS()).minWidth;return null!=d?Number.parseInt(d):null},setDomMinHeight:function(d,u){(u?this.getIDS():this.getODS()).minHeight=d?d+"px":null},getDomMinHeight:function(d){d=
(d?this.getIDS():this.getODS()).minHeight;return null!=d?Number.parseInt(d):null},setTextColor:function(d){this.textColor!==d&&(this.textColor=d,this.getODS().color=d||"inherit",this.inited&&this.fireEvent("textColor",d))},setBgColor:function(d){this.bgColor!==d&&(this.getODS().backgroundColor=this.bgColor=d,this.inited&&this.fireEvent("bgColor",d))},isColorAttr:d=>"bgColor"===d||"textColor"===d,setOpacity:function(d){this.opacity!==d&&(this.getODS().opacity=this.opacity=d,this.inited&&this.fireEvent("opacity",
d))},setOverflow:function(d){const u=this.overflow;if(u!==d){this.overflow=d;const w=this.getIDS();if("autox"===d)w.overflowX="auto",w.overflowY="hidden";else if("autoy"===d)w.overflowY="auto",w.overflowX="hidden";else{if("autox"===u||"autoy"===u)w.overflowX=w.overflowY=null;w.overflow=d||"visible"}this.inited&&this.fireEvent("overflow",d)}},setVisible:function(d){if(this.visible!==d){this.visible=d;const u=this.getODS();u.visibility=d?"inherit":"hidden";u.left=d?this.x+"px":"-100000px";u.top=d?this.y+
"px":"-100000px";this.inited&&this.fireEvent("visible",d)}},setPointerEvents:function(d){this.pointerEvents!==d&&(this.pointerEvents=d,this.getODS().pointerEvents=d||"auto",this.inited&&this.fireEvent("pointerEvents",d))},setCursor:function(d){this.cursor!==d&&(this.cursor=d,this.getODS().cursor=d||"auto",this.inited&&this.fireEvent("cursor",d))},__updateBounds:function(d,u){this.boundsWidth!==d&&this.fireEvent("boundsWidth",this.boundsWidth=d);this.boundsHeight!==u&&this.fireEvent("boundsHeight",
this.boundsHeight=u)},setOutline:function(d){d=d||[];this.setOutlineWidth(d[0]);this.setOutlineStyle(d[1]);this.setOutlineColor(d[2])},setOutlineWidth:function(d){this.outlineWidth=d||0;this.getODS().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(d){this.getODS().outlineStyle=this.outlineStyle=d||"none"},setOutlineColor:function(d){this.getODS().outlineColor=this.outlineColor=d||"#000"},setBorder:function(d){d=d||[];this.setBorderWidth(d[0]);this.setBorderStyle(d[1]);this.setBorderColor(d[2])},
setBorderWidth:function(d){this.borderWidth=d||0;this.getODS().borderWidth=this.borderWidth+"px"},setBorderStyle:function(d){this.getODS().borderStyle=this.borderStyle=d||"none"},setBorderColor:function(d){this.getODS().borderColor=this.borderColor=d||"#000"},setRoundedCorners:function(d){this.getODS().borderRadius=d+"px"},setRoundedTopLeftCorner:function(d){r(this,d,"TopLeft")},setRoundedTopRightCorner:function(d){r(this,d,"TopRight")},setRoundedBottomLeftCorner:function(d){r(this,d,"BottomLeft")},
setRoundedBottomRightCorner:function(d){r(this,d,"BottomRight")},setBoxShadow:function(d){this.getODS().boxShadow=d?(d[0]||0)+"px "+(d[1]||0)+"px "+(d[2]||7)+"px "+(d[3]||"#000"):"none"},setGradient:function(d){const u=this.getODS();if(d){let k=d[0];"linear"===k||"radial"===k?d.shift():k="linear";let x=d[0];if("radial"===k){void 0===x?x="closest-side":d.shift();var w=d[0];if(void 0===w)w="circle";else{switch(w){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",
w),w="circle"}d.shift()}let C=d[0];void 0===C?C="center":(C=C.replaceAll("middle","center"),d.shift());x=w+" "+x+" at "+C}else"number"===typeof x?(x+="deg",d.shift()):x?(x="to "+x,d.shift()):x="0deg";w=C=>{d.push(C&&"inherit"!==C?C:"transparent")};2>d.length&&w(this.textColor);2>d.length&&w(this.bgColor);u.background=k+"-gradient("+x+","+d.join(",")+")"}else u.background="none";this.bgColor=void 0},setTooltip:function(d){this.tooltip!==d&&(this.tooltip=this.getODE().title=d,this.inited&&this.fireEvent("tooltip",
d))},isVisible:function(){return null==this.searchAncestorsOrSelf(d=>!d.visible)},getFocusTrap:function(d){return this.searchAncestorsOrSelf(u=>u.focusCage||u.focusTrap&&!d)},subnodeAdded:function(d){d instanceof l.View?(this.getIDE().appendChild(d.getODE()),this.getSubviews().push(d),this.fireEvent("subviewAdded",d),this.subviewAdded(d)):d instanceof l.Layout&&(this.getLayouts().push(d),this.fireEvent("layoutAdded",d),this.layoutAdded(d))},subnodeRemoved:function(d){let u;d instanceof l.View?(u=
this.getSubviewIndex(d),0<=u&&(this.fireEvent("subviewRemoved",d),d.removeDomElement(),this.subviews.splice(u,1),this.subviewRemoved(d))):d instanceof l.Layout&&(u=this.getLayoutIndex(d),0<=u&&(this.fireEvent("layoutRemoved",d),this.layouts.splice(u,1),this.layoutRemoved(d)))},hasSubview:function(d){return 0<=this.getSubviewIndex(d)},getSubviewIndex:function(d){return this.getSubviews().indexOf(d)},subviewAdded:d=>{},subviewRemoved:d=>{},getNextSibling:function(){if(this.parent){const d=this.getODE().nextElementSibling;
if(d)return d.model}},getPrevSibling:function(){if(this.parent){const d=this.getODE().previousElementSibling;if(d)return d.model}},hasLayout:function(d){return 0<=this.getLayoutIndex(d)},getLayoutIndex:function(d){return this.getLayouts().indexOf(d)},layoutAdded:d=>{},layoutRemoved:d=>{},isBehind:function(d,u){return a(this,d,!1,u)},isInFrontOf:function(d,u){return a(this,d,!0,u)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},
sendBehind:function(d){this.parent.sendSubviewBehind(this,d)},sendInFrontOf:function(d){this.parent.sendSubviewInFrontOf(this,d)},bringSubviewToFront:function(d){if(d&&d.parent===this){const u=this.getIDE();d.getODE()!==u.lastChild&&f(d,()=>{u.appendChild(d.getODE())})}},sendSubviewToBack:function(d){if(d&&d.parent===this){const u=this.getIDE();d.getODE()!==u.firstChild&&f(d,()=>{u.insertBefore(d.getODE(),u.firstChild)})}},sendSubviewBehind:function(d,u){if(d&&u&&d.parent===this&&u.parent===this){const w=
this.getIDE();f(d,()=>{w.insertBefore(d.getODE(),u.getODE())})}},sendSubviewInFrontOf:function(d,u){d&&u&&d.parent===this&&u.parent===this&&(this.sendSubviewBehind(d,u),this.sendSubviewBehind(u,d))},sortSubviews:function(d){const u=this,w=u.getSubviews().sort(d);f(u,()=>{const k=u.getODE(),x=k.parentNode;let C;x&&(C=k.nextSibling,x.removeChild(k));const z=document.createDocumentFragment(),B=w.length;for(let D=0;B>D;)z.appendChild(w[D++].getODE());u.getIDE().appendChild(z);x&&x.insertBefore(k,C)})},
containsPoint:function(d,u,w){const k=this.getODE();if(!k)return!1;w=q.getRelativePosition(k,w);return n(d,u,w.x,w.y,this.width,this.height)},isPointVisible:function(d,u){const w=this.getPagePosition(!0);e(this);return c(this,d-w.x,u-w.y)},getEffectiveScale:function(){return e(this)},getEffectiveScaleX:function(){return e(this).scaleX},getEffectiveScaleY:function(){return e(this).scaleY}})})(myt);
(l=>{const v=(n,f,a)=>{const e=q(n,f);n.getODS().transform=e+(0===e.length?"":" ")+f+"("+a+")"},q=(n,f)=>{n=n.getODS();var a=n.transform;if(!a||0===a.length)return"";a=a.split(" ");let e=a.length;for(;e;)if(0===a[--e].indexOf(f)){a.splice(e,1);break}return n.transform=a.join(" ")};l.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(n){this.transformOrigin!==n&&(this.transformOrigin=n,this.getODS().transformOrigin=n||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",n)))},setRotation:function(n){this.rotation!==n&&(this.rotation=n,v(this,"rotate",(n||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",n)))},setScale:function(n){const f=this.scaleX!==n,a=this.scaleY!==n;if(f){var e=this.scaleX=n;null==e?q(this,"scaleX"):v(this,"scaleX",e||1)}a&&(e=this.scaleY=n,null==e?q(this,"scaleY"):v(this,"scaleY",e||1));this.inited&&((f||a)&&this.__updateBounds(this.width,this.height),
f&&this.fireEvent("scaleX",n),a&&this.fireEvent("scaleY",n))},setScaleX:function(n){if(this.scaleX!==n){var f=this.scaleX=n;null==f?q(this,"scaleX"):v(this,"scaleX",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",n))}},setScaleY:function(n){if(this.scaleY!==n){var f=this.scaleY=n;null==f?q(this,"scaleY"):v(this,"scaleY",f||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",n))}},setSkewX:function(n){this.skewX!==n&&(this.skewX=
n,v(this,"skewX",n||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",n)))},setSkewY:function(n){this.skewY!==n&&(this.skewY=n,v(this,"skewY",n||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",n)))},__updateBounds:function(n,f){const a=this.rotation;var e=this.scaleX;const c=this.scaleY;e=(null==e||1===e)&&(null==c||1===c);if(!e||null!=a&&0!==a&&180!==a)!e||90!==a&&270!==a?(f=this.getODE().getBoundingClientRect(),n=f.width,f=f.height):
(n=this.height,f=this.width);this.callSuper(n,f)}})})(myt);
(l=>{const v=JS.Module,q=(e,c)=>{if("auto"===c)e.__hasSetWidth=!1,e.getODS().width="auto",e.sizeViewToDom();else return e.__hasSetWidth=!0},n=(e,c)=>{if("auto"===c)e.__hasSetHeight=!1,e.getODS().height="auto",e.sizeViewToDom();else return e.__hasSetHeight=!0},f=e=>{if(!e.__hasSetWidth){const c=e.getODE().offsetWidth/e.getEffectiveScaleX();e.width!==c&&(e.width=c,e.inited&&e.__updateBounds(c,e.height),e.fireEvent("width",c))}},a=e=>{if(!e.__hasSetHeight){const c=e.getODE().offsetHeight/e.getEffectiveScaleY();
e.height!==c&&(e.height=c,e.inited&&e.__updateBounds(e.width,c),e.fireEvent("height",c))}};l.SizeToDom=new v("SizeToDom",{initNode:function(e,c){this.callSuper(e,c);this.sizeViewToDom()},setWidth:function(e,c){q(this,e)&&this.callSuper(e,c)},setHeight:function(e,c){n(this,e)&&this.callSuper(e,c)},sizeViewToDom:function(){f(this);a(this)}});l.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(e,c){this.callSuper(e,c);this.sizeViewToDom()},setWidth:function(e,c){q(this,e)&&this.callSuper(e,c)},
sizeViewToDom:function(){f(this)}});l.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(e,c){this.callSuper(e,c);this.sizeViewToDom()},setHeight:function(e,c){n(this,e)&&this.callSuper(e,c)},sizeViewToDom:function(){a(this)}})})(myt);
(l=>{const v=(q,n,f,a)=>{q[f]!==n&&(q[f]=n,q.getIDS()[f]=n||a||"inherit",q.inited&&(q.fireEvent(f,n),q.sizeViewToDom()))};l.TextSupport=new JS.Module("TextSupport",{setWidth:function(q,n){this.callSuper(q,n);"auto"!==q&&(q=this.whiteSpace,"normal"!==q&&"pre-line"!==q&&"pre-wrap"!==q||this.sizeViewToDom())},setText:function(q){q||="";q=this.valueFromEvent(q);this.text!==q&&(this.getIDE().innerHTML=this.text=q,this.inited&&(this.fireEvent("text",q),this.sizeViewToDom()))},setTextOverflow:function(q){this.textOverflow!==
q&&(this.textOverflow=q,this.getIDS().textOverflow=q||"inherit",this.inited&&this.fireEvent("textOverflow",q))},setTextAlign:function(q){this.textAlign!==q&&(this.textAlign=q,this.getIDS().textAlign=q||"inherit",this.inited&&this.fireEvent("textAlign",q))},setWhiteSpace:function(q){v(this,q,"whiteSpace")},setWordWrap:function(q){v(this,q,"wordWrap","normal")},setTextIndent:function(q){v(this,q,"textIndent")},setTextTransform:function(q){v(this,q,"textTransform")},setTextDecoration:function(q){v(this,
q,"textDecoration")},setLineHeight:function(q){v(this,q,"lineHeight")},setLetterSpacing:function(q){v(this,q,"letterSpacing")},setWordSpacing:function(q){v(this,q,"wordSpacing")},setFontFamily:function(q){v(this,q,"fontFamily")},setFontStyle:function(q){v(this,q,"fontStyle")},setFontVariant:function(q){v(this,q,"fontVariant")},setFontWeight:function(q){v(this,q,"fontWeight")},setFontSize:function(q){v(this,q,"fontSize")},setUserUnselectable:function(q){this.userUnselectable!==q&&(this.userUnselectable=
q,this[q?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(q?"default":"text"),this.inited&&this.fireEvent("userUnselectable",q))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(q,n,f,a){this.getIDS().textShadow=(q||0)+"px "+(n||0)+"px "+(null!=f?f:2)+"px "+(a||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}})})(myt);
(l=>{const v={},q={},n=f=>{const a=f.imageUrl;if(f.calculateNaturalSize&&a){var e=v[a];if(e)f.setNaturalWidth(e.width),f.setNaturalHeight(e.height);else{e=q[a];if(!e){q[a]=e=[];const c=new Image;c.onerror=b=>{if(b=q[a]){let h=b.length;for(;h;)b[--h].setImageLoadingError(!0);b.length=0;delete q[a]}};c.onload=()=>{const b=c.width,h=c.height,p=q[a];if(p){let g=p.length;for(;g;){const r=p[--g];r.imageUrl===a&&(r.setNaturalWidth(b),r.setNaturalHeight(h))}p.length=0;delete q[a]}v[a]={width:b,height:h}};
c.src=a}e.push(f)}}};l.ImageSupport=new JS.Module("ImageSupport",{initNode:function(f,a){this.defAttr(a,"imageRepeat","no-repeat");this.defAttr(a,"imageAttachment","scroll");this.callSuper(f,a)},setImageUrl:function(f){this.imageUrl!==f&&(this.imageUrl=f,this.getIDS().backgroundImage=f?'url("'+f+'")':"none",this.inited&&(this.fireEvent("imageUrl",f),this.setNaturalWidth(),this.setNaturalHeight(),!f&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),n(this))},setImageLoadingError:function(f){this.set("imageLoadingError",
f,!0)},setImageSize:function(f){this.imageSize!==f&&(this.imageSize=f,this.getIDS().backgroundSize=f||"auto",this.inited&&this.fireEvent("imageSize",f))},setImageRepeat:function(f){this.imageRepeat!==f&&(this.getIDS().backgroundRepeat=this.imageRepeat=f,this.inited&&this.fireEvent("imageRepeat",f))},setImagePosition:function(f){this.imagePosition!==f&&(this.getIDS().backgroundPosition=this.imagePosition=f,this.inited&&this.fireEvent("imagePosition",f))},setImageAttachment:function(f){this.imageAttachment!==
f&&(this.getIDS().backgroundAttachment=this.imageAttachment=f,this.inited&&this.fireEvent("imageAttachment",f))},setCalculateNaturalSize:function(f){this.calculateNaturalSize!==f&&(this.calculateNaturalSize=f,this.inited&&this.fireEvent("calculateNaturalSize",f),n(this))},setNaturalWidth:function(f){this.naturalWidth!==f&&(this.naturalWidth=f,this.inited&&this.fireEvent("naturalWidth",f),this.useNaturalSize&&f&&this.setWidth(f))},setNaturalHeight:function(f){this.naturalHeight!==f&&(this.naturalHeight=
f,this.inited&&this.fireEvent("naturalHeight",f),this.useNaturalSize&&f&&this.setHeight(f))},setUseNaturalSize:function(f){this.useNaturalSize!==f&&(this.useNaturalSize=f,this.inited&&this.fireEvent("useNaturalSize",f),f&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),f&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(l=>{const v=JS.Class,q=l.View,n=l.SizeToDom,f=l.AccessorSupport.defAttr;l.FlexBox=new v("FlexBox",q,{include:[l.FlexBoxSupport]});l.Frame=new v("Frame",q,{initNode:function(a,e){f(e,"tagName","iframe");this.callSuper(a,e);a=l.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getIDE().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});l.Markup=new v("Markup",q,{include:[n],setHtml:function(a){this.html!==a&&(this.getIDE().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});l.Text=new v("Text",q,{include:[n,l.TextSupport],initNode:function(a,e){f(e,"whiteSpace",
"nowrap");f(e,"userUnselectable",!0);this.callSuper(a,e)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getIDS(),e=a.whiteSpace;a.whiteSpace="nowrap";const c=this.getODE().getBoundingClientRect().width;a.whiteSpace=e;return c}});l.Image=new v("Image",q,{include:[l.ImageSupport],initNode:function(a,e){f(e,"useNaturalSize",!0);this.callSuper(a,e)}});l.BackView=new v("BackView",q,{sendSubviewToBack:function(a){if(a.parent===this){const e=this.getIDE(),c=e.childNodes[1];
a=a.getODE();a!==c&&(a=e.removeChild(a))&&e.insertBefore(a,c)}}})})(myt);
(l=>{const v=Math.round,q=e=>{const c=e.parent;c&&0<=e.percentOfParentWidth&&e.syncTo(c,"__doPOPW","width")},n=e=>{0<=e.percentOfParentWidth&&e.detachFrom(e.parent,"__doPOPW","width")},f=e=>{const c=e.parent;c&&0<=e.percentOfParentHeight&&e.syncTo(c,"__doPOPH","height")},a=e=>{0<=e.percentOfParentHeight&&e.detachFrom(e.parent,"__doPOPH","height")};l.SizeToParent=new JS.Module("SizeToParent",{setParent:function(e){this.parent!==e&&(this.inited&&(n(this),a(this)),this.callSuper(e),q(this),f(this))},
setPercentOfParentWidthOffset:function(e){this.percentOfParentWidthOffset!==e&&(this.percentOfParentWidthOffset=e,this.inited&&(this.fireEvent("percentOfParentWidthOffset",e),this.__doPOPW()))},setPercentOfParentWidth:function(e){this.percentOfParentWidth!==e&&(this.inited&&n(this),this.percentOfParentWidth=e,this.inited&&this.fireEvent("percentOfParentWidth",e),q(this))},setPercentOfParentHeightOffset:function(e){this.percentOfParentHeightOffset!==e&&(this.percentOfParentHeightOffset=e,this.inited&&
(this.fireEvent("percentOfParentHeightOffset",e),this.__doPOPH()))},setPercentOfParentHeight:function(e){this.percentOfParentHeight!==e&&(this.inited&&a(this),this.percentOfParentHeight=e,this.inited&&this.fireEvent("percentOfParentHeight",e),f(this))},__doPOPW:function(e){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(e){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/
100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);(l=>{let v;const q=[];new JS.Singleton("GlobalRootViewRegistry",{include:[l.Observable],initialize:function(){l.global.register("roots",v=this)},getRoots:()=>q,addRoot:n=>{q.push(n);v.fireEvent("rootAdded",n)},removeRoot:n=>{let f=q.length;for(;f;){const a=q[--f];if(a===n){q.splice(f,1);v.fireEvent("rootRemoved",a);break}}}})})(myt);
(l=>{const v=l.global.roots,q=l.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:n=>{const f=n.__captureDrop=a=>{a.preventDefault()};n=n.getIDE();l.addEventListener(n,"drop",f);l.addEventListener(n,"dragover",f)},teardownCaptureDrop:n=>{const f=n.getIDE();n=n.__captureDrop;l.removeEventListener(f,"drop",n);l.removeEventListener(f,"dragover",n)}},initNode:function(n,f){this.callSuper(n,f);this.setZIndex(0);this.addDomClass("myt");v.addRoot(this);q.setupCaptureDrop(this)},createOurDomElement:function(n){n||
(n=this.callSuper(n),l.getElement().appendChild(n));return n},destroy:function(){q.teardownCaptureDrop(this);v.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(n){this.keepDomElementWhenDestroyed=n},setParent:n=>{},bringToFront:function(){var n=this.getIDE();const f=n.parentNode;n!==f.lastChild&&(n=f.removeChild(n))&&f.appendChild(n)},sendToBack:function(){var n=this.getIDE();const f=n.parentNode;n!==f.firstChild&&
(n=f.removeChild(n))&&f.insertBefore(n,f.firstChild)},sendBehind:function(n){var f=this.getIDE();n=n.getIDE();const a=f.parentNode;n.parentNode===a&&(f=a.removeChild(f))&&a.insertBefore(f,n)},sendInFrontOf:function(n){n.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(n),n.sendBehind(this))}})})(myt);
(l=>{let v,q;const n=window;new JS.Singleton("GlobalWindowResize",{include:[l.Observable],initialize:function(){l.addEventListener(n,"resize",f=>{this.fireEvent("resize",{w:v=n.innerWidth,h:q=n.innerHeight})});l.global.register("windowResize",this)},getWidth:()=>v||=n.innerWidth,getHeight:()=>q||=n.innerHeight})})(myt);
(l=>{const v=JS.Module,q=l.global.windowResize,n=l.AccessorSupport.defAttr,f=e=>{const c=e.resizeDimension;"both"!==c&&"width"!==c||e.setWidth(Math.max(e.minWidth,q.getWidth()));"both"!==c&&"height"!==c||e.setHeight(Math.max(e.minHeight,q.getHeight()))},a=l.SizeToWindow=new v("SizeToWindow",{include:[l.RootView],initNode:function(e,c){this.minWidth=this.minHeight=0;n(c,"resizeDimension","both");this.attachTo(q,"__hndlResize","resize");this.callSuper(e,c)},setResizeDimension:function(e){this.resizeDimension!==
e&&(this.resizeDimension=e,f(this))},setMinWidth:function(e){this.minWidth!==e&&(this.minWidth=e,f(this))},setMinHeight:function(e){this.minHeight!==e&&(this.minHeight=e,f(this))},__hndlResize:function(e){f(this)}});l.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[a],initNode:function(e,c){n(c,"resizeDimension","width");this.callSuper(e,c)}});l.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[a],initNode:function(e,c){n(c,"resizeDimension","height");this.callSuper(e,c)}})})(myt);
(l=>{let v,q,n,f=!1;const a=window,e={};new JS.Singleton("GlobalIdle",{include:[l.Observable],initialize:function(){const c=this,b=["webkit","moz","ms","o"];for(let h=0;h<b.length&&!a.requestAnimationFrame;){const p=b[h++];a.requestAnimationFrame=a[p+"RequestAnimationFrame"];a.cancelAnimationFrame=a[p+"CancelAnimationFrame"]||a[p+"CancelRequestAnimationFrame"]}q=h=>{v=a.requestAnimationFrame(q);-1!==n&&(h=Math.round(h),e.delta=h-n,e.time=h,c.fireEvent("idle",e));n=h};l.global.register("idle",c)},
attachObserver:function(c,b,h){c=this.callSuper(c,b,h);!f&&this.hasObservers("idle")&&(f=!0,n=-1,v=a.requestAnimationFrame(q));return c},detachObserver:function(c,b,h){c=this.callSuper(c,b,h);f&&!this.hasObservers("idle")&&(a.cancelAnimationFrame(v),f=!1);return c}})})(myt);
(l=>{const v=Math,q=v.max,n=v.min,f=d=>n(255,q(0,v.round(d))),a=d=>{d=f(d).toString(16);return 1===d.length?"0"+d:d},e=(d,u,w,k)=>[k?"#":"",a(d),a(u),a(w)].join(""),c=d=>new r((16711680&d)>>16,(65280&d)>>8,255&d),b=(d,u,w)=>(f(d)<<16)+(f(u)<<8)+f(w),h=(d,u)=>{if("string"===typeof d)if(d.endsWith("%"))d=parseFloat(d.substring(0,d.length-1))*u/100;else return 0;d=n(u,q(0,d))/u;return 1E-6>v.abs(1-d)?1:d},p=(d,u,w)=>{d=h(d,255);u=h(u,255);w=h(w,255);const k=q(d,u,w),x=k-n(d,u,w);if(0===x)return{h:0,
s:0,v:k};let C;switch(k){case d:C=(u-w)/x+(u<w?6:0);break;case u:C=(w-d)/x+2;break;case w:C=(d-u)/x+4}return{h:60*C,s:0===k?0:x/k,v:k}},g=(d,u,w)=>{d=6*h(d,360);u=h(u,100);w=h(w,100);var k=v.floor(d);const x=d-k;d=w*(1-u);const C=w*(1-x*u);u=w*(1-(1-x)*u);k%=6;return{red:255*[w,C,d,d,u,w][k],green:255*[u,w,w,C,d,d][k],blue:255*[d,d,u,w,w,C][k]}},r=l.Color=new JS.Class("Color",{extend:{toUnitRange:h,rgbToHsv:p,hsvToRgb:g,toHex:a,rgbToHex:e,cleanChannelValue:f,getRedChannel:d=>(16711680&d)>>16,getGreenChannel:d=>
(65280&d)>>8,getBlueChannel:d=>255&d,makeColorFromNumber:c,makeColorFromHexString:d=>{if(d){d.startsWith("#")||(d="#"+d);if(4===d.length){const u=d.substring(1,2),w=d.substring(2,3);d=d.substring(3,4);d="#"+u+u+w+w+d+d}return c(parseInt(d.substring(1),16))}},makeColorFromHSV:(d,u,w)=>{d=g(d,u,w);return c(b(d.red,d.green,d.blue))},getLighterColor:(d,u)=>c(d).isLighterThan(c(u))?d:u,makeColorNumberFromChannels:b,makeBlendedColor:(d,u,w)=>new r(d.red+w*(u.red-d.red),d.green+w*(u.green-d.green),d.blue+
w*(u.blue-d.blue))},initialize:function(d,u,w){this.setRed(d);this.setGreen(u);this.setBlue(w)},setRed:function(d){this.red=f(d)},setGreen:function(d){this.green=f(d)},setBlue:function(d){this.blue=f(d)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return e(this.red,this.green,this.blue,!0)},getHSV:function(){return p(this.red,this.green,this.blue)},isLighterThan:function(d){d=this.getDiffFrom(d);return 0>d.red+d.green+d.blue},getDiffFrom:function(d){return{red:d.red-
this.red,green:d.green-this.green,blue:d.blue-this.blue}},applyDiff:function(d){return this.add(d)},add:function(d){this.setRed(this.red+d.red);this.setGreen(this.green+d.green);this.setBlue(this.blue+d.blue);return this},subtract:function(d){this.setRed(this.red-d.red);this.setGreen(this.green-d.green);this.setBlue(this.blue-d.blue);return this},multiply:function(d){this.setRed(this.red*d);this.setGreen(this.green*d);this.setBlue(this.blue*d);return this},divide:function(d){this.setRed(this.red/
d);this.setGreen(this.green/d);this.setBlue(this.blue/d);return this},clone:function(){return new r(this.red,this.green,this.blue)},equals:function(d){return d===this||d&&d.isA&&d.isA(r)&&d.red===this.red&&d.green===this.green&&d.blue===this.blue}})})(myt);
(l=>{const v=Math,q=v.max,n=v.sin,f=v.cos,a=v.pow,e=v.sqrt,c=v.PI,b=2*c,h=c/2,p={linear:k=>k,inQuad:k=>k*k,outQuad:k=>-k*(k-2),inOutQuad:k=>1>(k*=2)?k*k/2:-(--k*(k-2)-1)/2,inCubic:k=>k*k*k,outCubic:k=>--k*k*k+1,inOutCubic:k=>1>(k*=2)?k*k*k/2:((k-=2)*k*k+2)/2,inQuart:k=>k*k*k*k,outQuart:k=>-(--k*k*k*k-1),inOutQuart:k=>1>(k*=2)?k*k*k*k/2:-((k-=2)*k*k*k-2)/2,inQuint:k=>k*k*k*k*k,outQuint:k=>--k*k*k*k*k+1,inOutQuint:k=>1>(k*=2)?k*k*k*k*k/2:((k-=2)*k*k*k*k+2)/2,inSine:k=>-f(k*h)+1,outSine:k=>n(k*h),inOutSine:k=>
-(f(k*c)-1)/2,inCirc:k=>-(e(1-k*k)-1),outCirc:k=>e(1- --k*k),inOutCirc:k=>1>(k*=2)?-(e(1-k*k)-1)/2:(e(1-(k-=2)*k)+1)/2,inExpo:k=>0===k?0:a(2,10*(k-1)),outExpo:k=>1===k?1:-a(2,-10*k)+1,inOutExpo:k=>0===k||1===k?k:1>(k*=2)?a(2,10*(k-1))/2:(-a(2,-10*--k)+2)/2,inElastic:k=>0===k||1===k?k:-(a(2,10*--k)*n((1*k-.075)*b/.3)),outElastic:k=>0===k||1===k?k:a(2,-10*k)*n((1*k-.075)*b/.3)+1,inOutElastic:k=>0===k||1===k?k:1>(k*=2)?-(a(2,10*--k)*n((1*k-.1125)*b/.45))/2:a(2,-10*--k)*n((1*k-.1125)*b/.45)/2+1,inBack:(k,
x=1.70158)=>(k/=1)*k*((x+1)*k-x),outBack:(k,x=1.70158)=>(k=k/1-1)*k*((x+1)*k+x)+1,inOutBack:(k,x=1.70158)=>1>(k*=2)?k*k*(((x*=1.525)+1)*k-x)/2:((k-=2)*k*(((x*=1.525)+1)*k+x)+2)/2,inBounce:k=>1-p.outBounce(1-k),outBounce:k=>k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375,inOutBounce:k=>1>(k*=2)?p.inBounce(k)/2:(p.outBounce(k-1)+1)/2},g=l.global.idle,r=l.Color.makeColorFromHexString,d=k=>{k.__tmpFrom=!1;k.__loopCnt=k.reverse?
k.repeat-1:0;k.__prog=k.reverse?k.duration:0},u=(k,x)=>{if(k.running&&!k.paused){const H=k.reverse,I=k.duration,J=k.repeat;H&&(x*=-1);var C=k.__prog;k.__prog+=x;x=0;k.__prog>I?(x=k.__prog-I,k.__prog=I,++k.__loopCnt===J&&(x=0)):0>k.__prog&&(x=-k.__prog,k.__prog=0,0>--k.__loopCnt&&0<J&&(x=0));var z=k.target||k.parent;if(z){var B=C,D=k.relative,t=k.duration;C=k.attribute;var m=q(0,k.__prog/t);B=q(0,B/t);null==k.from&&(k.__tmpFrom=!0,k.from=D?k.__isColorAnim?"#000":0:z.get(C));B=k.easingFunction(m)-(D?
k.easingFunction(B):0);var y=D?z.get(C):k.from;t=k.to;m=z.set;if(k.__isColorAnim){var A=y;y=r(k.from);t=r(t);D=D?r(A):y;D.setRed(D.red+(t.red-y.red)*B);D.setGreen(D.green+(t.green-y.green)*B);D.setBlue(D.blue+(t.blue-y.blue)*B);D=D.getHtmlHexString()}else D=y+(t-k.from)*B;m.call(z,C,D);!H&&k.__loopCnt===J||H&&0>k.__loopCnt&&0<J?(k.setRunning(!1),k.callback&&k.callback.call(k,!0)):0<x&&(k.fireEvent("repeat",k.__loopCnt),k.__prog=H?I:0,u(k,x))}else console.log("No target for animator",k),k.setRunning(!1),
k.callback&&k.callback.call(k,!1)}},w=l.Animator=new JS.Class("Animator",l.Node,{include:[l.Reusable],extend:{easings:p,EASING:p.inOutQuad},initNode:function(k,x){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=w.EASING;this.callSuper(k,x);d(this)},setRunning:function(k){if(this.running!==k&&(this.running=k,this.inited&&this.fireEvent("running",k),!this.paused)){if(k){const x=this.target||this.parent;this.__isColorAnim=x&&"function"===typeof x.isColorAttr?
x.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),d(this);this[k?"attachTo":"detachFrom"](g,"__updateAnim","idle")}},setPaused:function(k){if(this.paused!==k&&(this.paused=k,this.inited&&this.fireEvent("paused",k),this.running))this[k?"detachFrom":"attachTo"](g,"__updateAnim","idle")},setReverse:function(k){this.reverse!==k&&(this.reverse=k,this.inited&&this.fireEvent("reverse",k),this.running||d(this))},setEasingFunction:function(k){"string"===typeof k&&(k=p[k]);k||(k=
w.EASING);this.set("easingFunction",k,!0)},setFrom:function(k){this.set("from",k,!0)},setTo:function(k){this.set("to",k,!0)},setCallback:function(k){this.callback=k},next:function(k,x){const C=this,z=C.callback;z&&!x?C.setCallback(B=>{z.call(C,B);k.call(C,B)}):C.setCallback(k)},reset:function(k){d(this);this.setRunning(!1);this.setPaused(!1);k&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=
!1;this.repeat=1;this.easingFunction=w.EASING;this.reset(!1)},__updateAnim:function(k){u(this,k.value.delta)}})})(myt);
(l=>{const v=Array.isArray,q=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},n=(a,e)=>{if(a.__transInProgress){var c=a.__deferredTransitions;c||(c=a.__deferredTransitions=[]);c.unshift(e)}else{a.__transInProgress=!0;c=e.shift();const b=e.shift();if(a.__pendingTransition)return 3;if(a.isFinished())return a.__transInProgress=!1,5;let h=a.map[a.current][b];h||=a.map["*"][b];if(h)return a.__pendingTransition=b,a.__transDestinationState=h,a.__additionalArgs=
e,a.resumeTransition(c);a.__transInProgress=!1;return 5}},f=a=>{a.__transInProgress=!1;const e=a.__deferredTransitions;if(e)for(;0<e.length;)n(a,e.pop())};l.StateMachine=new JS.Class("StateMachine",l.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,e){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";q(this);this.callSuper(a,e)},setInitialState:function(a){if(""===this.current){if(v(a)){var e=a;a=e.shift()}else e=[];this.current=
this.initial=a;this.doEnterState("","",a,e);e={name:"",from:"",to:a,args:e};this.fireEvent("enter"+a,e);this.fireEvent("enter",e);this.isFinished()&&this.fireEvent("finished",e)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(e=>this.addTransition(...e))},addTransition:function(a,e,c){e=e?v(e)?e:[e]:["*"];const b=this.map;let h=e.length;for(;h;)(b[e[--h]]||(b[e[h]]={}))[a]=c},doTransition:function(...a){a.unshift("sync");return n(this,a)},doAsyncTransition:function(...a){a.unshift("async");
return n(this,a)},resumeTransition:function(a){const e=this.__pendingTransition;if(!e)return 4;const c=this.current,b=this.__transDestinationState,h=this.__additionalArgs,p={name:e,from:c,to:b,args:h},g=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const r=this.doLeaveState(e,c,b,h);if(!1===r)return q(this),f(this),2;if("async"===r||"async"===a)return this.__transStage="enterState",g("start"+e,p),g("start",p),g("leave"+c,p),g("leave",p),f(this),3;g("start"+e,p);g("start",p);
g("leave"+c,p);g("leave",p);case "enterState":this.current=b,q(this),this.doEnterState(e,c,b,h),g("enter"+b,p),g("enter",p),g("end"+e,p),g("end",p),this.isFinished()&&g("finished",p)}f(this);return 1},doLeaveState:(a,e,c,b)=>{},doEnterState:(a,e,c,b)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(a){return v(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==
this.map["*"][a]}})})(myt);
(l=>{const v=(a,e)=>a.replicationIndex-e.replicationIndex,q=(a,e)=>{let c=a.length,b;for(;c;)b=a[--c],b.decrementLockedCounter(),e&&b.update()},n=a=>{f(a);const e=a.template;e&&(a.__pool=new l.TrackActivesPool(e,a.parent))},f=a=>{const e=a.__pool;if(e){const c=a.parent.getLayouts();a=c;let b=a.length;for(;b;)a[--b].incrementLockedCounter();e.putActives();e.destroyPooledInstances();q(c,!1);e.destroy()}};l.Replicable=new JS.Module("Replicable",{include:[l.Reusable],replicate:function(a,e){this.replicationData=
a;this.replicationIndex=e},notify:(a,e)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,e){return e===this.replicationIndex&&a===this.replicationData}});l.Replicator=new JS.Class("Replicator",l.Node,{initNode:function(a,e){this.callSuper(a,e);n(this);this.doReplication()},destroy:function(){f(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(l.Replicable)?a:null)||l.dumpStack("Template not replicable");this.inited&&
(n(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let e;if(a){e=this.parent.getLayouts();for(var c=e.length;c;)e[--c].incrementLockedCounter();const b=(c=this.data)?c.length:0,h=a.getActives(),p=h.length,g=[];let r=p,d,u;for(h.sort(v);r;)if(d=h[--r],u=d.replicationIndex,u>=b||!d.alreadyHasReplicationData(c[u],u))g[u]=d;for(r=g.length;r;)(d=g[--r])&&
a.putInstance(d);for(r=0;b>r;++r)(r>=p||null!=g[r])&&a.getInstance().replicate(c[r],r);for(r=e.length;r;)e[--r].sortSubviews(v);q(e,!0)}},notify:function(a,e){var c=this.__pool;if(c){c=c.getActives();let b=c.length;for(;b;)c[--b].notify(a,e)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(l=>{let v,q,n;const f=[],a=[],e=h=>{const p=n;p!==h&&(p&&(p.notifyDragLeave(q),q.destroyed||q.notifyDragLeave(p),v("dragLeave",p)),n=h)&&(h.notifyDragEnter(q),q.destroyed||q.notifyDragEnter(h),v("dragEnter",p))},c=h=>{let p=q;if(p!==h){q=h;let g,r,d=u=>{u[g](p)};h?(p=h,g="notifyDragStart",r="startDrag"):(g="notifyDragStop",r="stopDrag");b(p,a).forEach(d);b(p,f).forEach(d);v(r,h)}},b=(h,p)=>{if(h.destroyed)return[];if(h.acceptAnyDragGroup())return p;const g=[];h=h.getDragGroups();let r=p.length;for(;r;){const d=
p[--r];if(d.acceptAnyDragGroup())g.push(d);else{const u=d.getDragGroups();for(const w in h)if(u[w]){g.push(d);break}}}return g};new JS.Singleton("GlobalDragManager",{include:[l.Observable],initialize:function(){l.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>q,registerAutoScroller:h=>{f.push(h)},unregisterAutoScroller:h=>{let p=f.length;for(;p;)if(f[--p]===h){f.splice(p,1);break}},registerDropTarget:h=>{a.push(h)},unregisterDropTarget:h=>{let p=a.length;for(;p;)if(a[--p]===
h){a.splice(p,1);break}},startDrag:h=>{c(h)},stopDrag:(h,p,g)=>{p.notifyDropped(n,g);n&&!g&&n.notifyDrop(p);e();c();n&&!g&&v("drop",[p,n])},updateDrag:(h,p)=>{const g=b(p,a);let r=g.length,d;if(0<r){var u=h.value;h=u.pageX;for(u=u.pageY;r;){let w=g[--r];w.willAcceptDrop(p)&&p.willPermitDrop(w)&&w.isPointVisible(h,u)&&(!d||w.isInFrontOf(d))&&(d=w)}}e(d)}})})(myt);
(l=>{const v=JS.Module,q=l.global,n=q.mouse,f=q.keys,a=q.idle,e=l.AccessorSupport.defAttr;l.Activateable=new v("Activateable",{doActivated:()=>{}});l.UpdateableUI=new v("UpdateableUI",{initNode:function(c,b){this.callSuper(c,b);this.updateUI()},updateUI:()=>{}});l.Disableable=new v("Disableable",{initNode:function(c,b){e(b,"disabled",!1);this.callSuper(c,b)},setDisabled:function(c){c=this.valueFromEvent(c);this.disabled!==c&&(this.disabled=c,this.inited&&this.fireEvent("disabled",c),this.doDisabled())},
doDisabled:function(){this.inited&&(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});l.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[13,32]},initNode:function(c,b){this.activateKeyDown=-1;e(b,"activationKeys",l.KeyActivation.ACTIVATION_KEYS);this.callSuper(c,b);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur",
"blur")},setActivationKeys:function(c){this.activationKeys=c},setRepeatKeyDown:function(c){this.repeatKeyDown=c},__hndlKeyDown:function(c){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const b=l.KeyObservable.getKeyCodeFromEvent(c),h=this.activationKeys;let p=h.length;for(;p;)if(b===h[--p]){this.activateKeyDown===b?this.doActivationKeyDown(b,!0):(this.activateKeyDown=b,this.doActivationKeyDown(b,!1));c.value.preventDefault();break}}},__hndlKeyPress:function(c){if(!this.disabled){const b=
l.KeyObservable.getKeyCodeFromEvent(c);if(this.activateKeyDown===b){const h=this.activationKeys;let p=h.length;for(;p;)if(b===h[--p]){c.value.preventDefault();break}}}},__hndlKeyUp:function(c){if(!this.disabled){const b=l.KeyObservable.getKeyCodeFromEvent(c);if(this.activateKeyDown===b){const h=this.activationKeys;let p=h.length;for(;p;)if(b===h[--p]){this.activateKeyDown=-1;this.doActivationKeyUp(b);c.value.preventDefault();break}}}},__doDomBlur:function(c){this.disabled||(c=this.activateKeyDown,
-1!==c&&(this.activateKeyDown=-1,this.doActivationKeyAborted(c)))},doActivationKeyDown:(c,b)=>{},doActivationKeyUp:function(c){this.doActivated()},doActivationKeyAborted:c=>{}});l.MouseOver=new v("MouseOver",{initNode:function(c,b){e(b,"mouseOver",!1);this.callSuper(c,b);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(c){this.mouseOver!==c&&(this.mouseOver=c,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,
this.attachTo(a,"__doMouseOverOnIdle","idle")))},setDisabled:function(c){this.callSuper(c);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const c=this.mouseOver;this.__lastOverIdleValue!==c&&(this.__lastOverIdleValue=c,this.doSmoothMouseOver(c))},doSmoothMouseOver:function(c){this.inited&&this.updateUI&&this.updateUI()},
doMouseOver:function(c){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(c){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});l.MouseDown=new v("MouseDown",{initNode:function(c,b){e(b,"mouseDown",!1);this.callSuper(c,b);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(c){this.mouseDown!==c&&(this.mouseDown=c,this.inited&&(c&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},
setDisabled:function(c){c&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(c)},doMouseOver:function(c){this.callSuper(c);this.mouseDown&&this.detachFromDom(n,"doMouseUp","mouseup",!0)},doMouseOut:function(c){this.callSuper(c);!this.disabled&&this.mouseDown&&this.attachToDom(n,"doMouseUp","mouseup",!0)},doMouseDown:function(c){this.disabled||this.setMouseDown(!0)},doMouseUp:function(c){this.mouseOver||this.detachFromDom(n,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),
this.mouseOver&&this.doMouseUpInside(c))},doMouseUpInside:function(c){this.doActivated&&this.doActivated()}});l.MouseOverAndDown=new v("MouseOverAndDown",{include:[l.MouseOver,l.MouseDown]});l.Draggable=new v("Draggable",{initNode:function(c,b){let h=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(h=b.isDraggable,delete b.isDraggable);this.callSuper(c,b);this.setIsDraggable(h)},setIsDraggable:function(c){if(this.isDraggable!==
c){this.isDraggable=c;let b;c?b=this.attachToDom:this.inited&&(b=this.detachFromDom);if(b){c=this.getDragViews();let h=c.length;for(;h;){const p=c[--h];b.call(this,p,"__doMouseDown","mousedown");b.call(this,p,"__doContextMenu","contextmenu")}}}},setIsDragging:function(c){this.set("isDragging",c,!0)},setDragOffsetX:function(c,b){this.dragOffsetX!==c&&(this.dragOffsetX=c,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDragOffsetY:function(c,b){this.dragOffsetY!==c&&(this.dragOffsetY=
c,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(c){this.distanceBeforeDrag=c},setDraggableAllowBubble:function(c){this.draggableAllowBubble=c},setCenterOnMouse:function(c){this.centerOnMouse=c},setAllowAbort:function(c){this.allowAbort=c},getDragViews:function(){return[this]},__doContextMenu:c=>{},__doMouseDown:function(c){const b=l.MouseObservable.getMouseFromEvent(c),h=this.getODE();this.dragInitX=b.x-h.offsetLeft;this.dragInitY=b.y-h.offsetTop;
this.attachToDom(n,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(n,"__doDragCheck","mousemove",!0):this.startDrag(c);c.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(c){this.isDragging?this.stopDrag(c,!1):(this.detachFromDom(n,"__doMouseUp","mouseup",!0),this.detachFromDom(n,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(c){27===c.value&&this.stopDrag(c,!0)},__doDragCheck:function(c){const b=l.MouseObservable.getMouseFromEvent(c);
l.Geometry.measureDistance(b.x,b.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(l.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(c))},startDrag:function(c){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(f,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(n,"updateDrag","mousemove",!0);this.updateDrag(c)},updateDrag:function(c){this.__lastMousePosition=
l.MouseObservable.getMouseFromEvent(c);this.reRequestDragPosition()},__updateDragInitX:function(c){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(c){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(c,b){this.detachFromDom(n,"__doMouseUp","mouseup",!0);this.detachFromDom(n,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(f,
"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(c,b){this.disabled||(this.setX(c),this.setY(b))},reRequestDragPosition:function(){const c=this.__lastMousePosition;this.requestDragPosition(c.x-this.dragInitX+this.dragOffsetX,c.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(l=>{const v=JS.Class;var q=JS.Module;const n=l.View,f=l.AccessorSupport.defAttr,a=(c,b,h)=>{b="padding"+b;c.getIDS()[b]=(c[b]=h)+"px"};var e=l.Button=new q("Button",{include:[l.Activateable,l.UpdateableUI,l.Disableable,l.MouseOverAndDown,l.KeyActivation],extend:{FOCUS_SHADOW:[0,0,7,"#666"],DISABLED_OPACITY:.5},initNode:function(c,b){f(b,"focusable",!0);f(b,"cursor","pointer");this.callSuper(c,b)},setFocused:function(c){const b=this.focused;this.callSuper(c);this.inited&&this.focused!==b&&this.updateUI()},
doActivationKeyDown:function(c,b){b||this.updateUI()},doActivationKeyUp:function(c){this.callSuper(c);this.updateUI()},doActivationKeyAborted:function(c){this.callSuper(c);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const c=this.__restoreCursor;c&&(this.setCursor(c),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?
this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});q=l.SimpleButtonStyle=new q("SimpleButtonStyle",{include:[e],setActiveColor:function(c){this.activeColor!==c&&(this.activeColor=c,this.inited&&
this.updateUI())},setHoverColor:function(c){this.hoverColor!==c&&(this.hoverColor=c,this.inited&&this.updateUI())},setReadyColor:function(c){this.readyColor!==c&&(this.readyColor=c,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,.5)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(c,b=1){this.setOpacity(b);this.setBgColor(c)}});e=l.SimpleButton=
new v("SimpleButton",n,{include:[q],initNode:function(c,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(c,b)}});l.SimpleTextButton=new v("SimpleTextButton",e,{initNode:function(c,b){this.inset=this.outset=0;f(b,"shrinkToFit",!1);f(b,"height",24);f(b,"textY","middle");this.callSuper(c,b);c=this.textY;b={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof c?b.valign=c:b.y=c;c=new l.Text(this,
b);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",c,"visible",c,"width",c,"height",c,"y"])},setInset:function(c){this.set("inset",this.valueFromEvent(c),!0)},setOutset:function(c){this.set("outset",this.valueFromEvent(c),!0)},setText:function(c){this.text!==c&&(this.text=c,this.inited&&(this.textView.setText(c),this.fireEvent("text",c)))},setShrinkToFit:function(c){const b=this.textView;this.shrinkToFit!==c&&(this.shrinkToFit=c,this.inited&&(b&&b.setWhiteSpace(c?
"nowrap":"normal"),this.fireEvent("shrinkToFit",c)))},setTextY:function(c){const b=this.textView;this.textY!==c&&(this.textY=c,this.inited&&(this.fireEvent("textY",c),"string"===typeof c?b.setValign(c):(b.setValign(""),b.setY(c))))},__updateContent:function(c){if(!this.__updateContentLoopBlock&&!this.destroyed){c=this.inset;const b=this.outset,h=this.textView;this.__updateContentLoopBlock=!0;h.setX(c);this.shrinkToFit?this.setWidth(c+(h.visible&&this.text?h.width:0)+b):h.setWidth(this.width-c-b);
this.__updateContentLoopBlock=!1}}});l.TextButton=new v("TextButton",n,{include:[q,l.SizeToDom,l.TextSupport],initNode:function(c,b){f(b,"focusIndicator",!1);f(b,"roundedCorners",3);f(b,"textAlign","center");f(b,"paddingTop",1);f(b,"height",23-(b.paddingTop||0));f(b,"activeColor","#ddd");f(b,"hoverColor","#eee");f(b,"readyColor","#fff");this.callSuper(c,b)},setPaddingLeft:function(c){a(this,"Left",c)},setPaddingRight:function(c){a(this,"Right",c)},setPaddingTop:function(c){a(this,"Top",c)},setPaddingBottom:function(c){a(this,
"Bottom",c)}})})(myt);
(l=>{const v=l.global,q=v.focus,n=v.mouse,f={};l.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>f[a]},initNode:function(a,e){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,e)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,e,c){a=a||this.floatingPanelId;c=c||{};c.panelId=a;return f[a]=new e(null,c)},getFloatingPanel:function(a){return f[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const e=this.getFloatingPanel(a=a||this.floatingPanelId);e&&e.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;if(a&&a.isShown())return a;if(this.callSuper)return this.callSuper()},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});l.FloatingPanel=new JS.Class("FloatingPanel",l.View,{include:[l.RootView],initNode:function(a,e){a=document.createElement("div");a.style.position="absolute";l.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;e.visible=e.focusIndicator=!1;e.focusable=e.focusCage=!0;this.callSuper(a,e)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var e=a.value;a=e.pageX;e=e.pageY;this.containsPoint(a,e)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,e)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(q.focusedView))this.owner[(q.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(a);else{const e=this.getFirstFocusableDescendant();e===this?this.callSuper(a):e.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&q.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(n,"__doMouseDown","mousedown",!0),this.attachTo(q,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(n,"__doMouseDown","mousedown",!0),this.detachFrom(q,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const e=this.panelId,c=a.getFloatingAlignForPanelId(e),b=a.getFloatingValignForPanelId(e),h=a.getPagePosition();let p=0,g=0,r=typeof c;if("string"===r)switch(p=h.x+a.getFloatingAlignOffsetForPanelId(e),c){case "outsideRight":p+=a.width;break;case "insideRight":p+=a.width-this.width;
break;case "outsideLeft":p-=this.width;break;case "insideLeft":break;default:console.warn("Invalid align value",r,c)}else"number"===r?p=c:console.warn("Invalid align type",r,c);this.setX(p);r=typeof b;if("string"===r)switch(g=h.y+a.getFloatingValignOffsetForPanelId(e),b){case "outsideBottom":g+=a.height;break;case "insideBottom":g+=a.height-this.height;break;case "outsideTop":g-=this.height;break;case "insideTop":break;default:console.warn("Invalid valign value",r,b)}else"number"===r?g=b:console.warn("Invalid valign type",
r,b);this.setY(g)}})})(myt);
(l=>{const v=JS.Class,q=JS.Module,n=l.global.focus,f=l.AccessorSupport.defAttr,a=[13,27,32,37,38,39,40],e=b=>{var h=b.itemConfig||[];const p=h.length,g=b.items,r=g.length;var d=b.defaultItemClass;const u=b.getContentView(),w=u.getLayouts();w.forEach(D=>{D.incrementLockedCounter()});const k=u.getODE(),x=k.nextSibling,C=k.parentNode;C.removeChild(k);let z=0;for(;p>z;++z){var B=h[z];const D=B.klass||d;B=B.attrs||{};let t=g[z];t&&!t.isA(D)&&(t.destroy(),t=null);t||=g[z]=new D(u,{listView:b});t&&(t.callSetters(B),
t.__LAYOUT_IDX=z)}C.insertBefore(k,x);h=b.minWidth;for(z=0;p>z;)d=g[z++],d.syncToDom(),h=Math.max(h,d.getMinimumWidth());for(;r>z;)g[z++].destroy();g.length=p;for(z=0;p>z;)b.updateItemWidth(g[z++],h);b.updateContentWidth(u,h);w.forEach(D=>{D.sortSubviews((t,m)=>t.__LAYOUT_IDX-m.__LAYOUT_IDX);D.decrementLockedCounter();D.update()})},c=l.ListViewItemMixin=new q("ListViewItemMixin",{setListView:function(b){this.listView=b},getMinimumWidth:()=>0,syncToDom:()=>{}});l.ListView=new v("ListView",l.FloatingPanel,
{initNode:function(b,h){this.items=[];this.maxHeight=-1;this.minWidth=0;f(h,"defaultItemClass",l.ListViewItem);f(h,"overflow","autoy");f(h,"bgColor","#ccc");f(h,"boxShadow",l.Button.FOCUS_SHADOW);this.callSuper(b,h);e(this);this.buildLayout(this.getContentView())},buildLayout:b=>{new l.SpacedLayout(b,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(b){this.minWidth=b},setDefaultItemClass:function(b){this.defaultItemClass=b},setItemConfig:function(b){this.itemConfig=b;this.inited&&e(this)},
getContentView:function(){return this},setMaxHeight:function(b){this.maxHeight!==b&&(this.maxHeight=b,this.inited&&(this.fireEvent("maxHeight",b),this.setHeight(this.height)))},setHeight:function(b,h){this.callSuper(0<=this.maxHeight?Math.min(this.maxHeight,b):b,h)},doItemActivated:function(b){this.owner&&this.owner.doItemActivated(b)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const b=this.items,h=b.length;for(let p=
0;h>p;){const g=b[p++];if(g.isFocusable())return g}},getLastFocusableItem:function(){const b=this.items;let h=b.length;for(;h;){const p=b[--h];if(p.isFocusable())return p}},updateItemWidth:(b,h)=>{b.setWidth(h)},updateContentWidth:(b,h)=>{b.setWidth(h)}});l.ListViewAnchor=new q("ListViewAnchor",{include:[l.FloatingPanelAnchor],initNode:function(b,h){f(h,"listViewClass",l.ListView);f(h,"listViewAttrs",{});f(h,"itemConfig",[]);f(h,"activationKeys",a);this.callSuper(b,h)},setListViewClass:function(b){this.listViewClass=
b},setListViewAttrs:function(b){this.listViewAttrs=b},setItemConfig:function(b){this.itemConfig=b},doItemActivated:function(b){this.hideFloatingPanel()},getFloatingPanel:function(b){return this.callSuper(b)||this.createFloatingPanel(b,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(b){const h=this.getFloatingPanel(b);h&&(h.setItemConfig(this.itemConfig),this.callSuper(b))},doActivationKeyDown:function(b,h){if(27===b)this.hideFloatingPanel();else{switch(b){case 37:case 38:this.selectLastItem();
break;case 39:case 40:this.selectFirstItem()}this.callSuper(b,h)}},doActivationKeyUp:function(b){if(27!==b)switch(this.callSuper(b),b){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getLastFocusableItem())&&b.focus()},selectFirstItem:function(){var b=this.getFloatingPanel();b&&b.isShown()&&(b=b.getFirstFocusableItem())&&b.focus()}});l.ListViewItem=new v("ListViewItem",l.SimpleTextButton,
{include:[c],initNode:function(b,h){f(h,"activeColor","#bbb");f(h,"hoverColor","#fff");f(h,"readyColor","#eee");f(h,"inset",8);f(h,"outset",8);f(h,"activationKeys",a);this.callSuper(b,h)},syncToDom:function(){this.textView.getIDS().width="auto";this.textView.sizeViewToDom()},getMinimumWidth:function(){return this.inset+(this.textView.visible&&this.text?Math.ceil(this.textView.measureNoWrapWidth()):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(b,
h){switch(b){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:n.prev();break;case 39:case 40:n.next()}this.callSuper(b,h)}});l.ListViewSeparator=new v("ListViewSeparator",l.View,{include:[c],initNode:function(b,h){f(h,"height",1);f(h,"bgColor","#666");this.callSuper(b,h)}})})(myt);
(l=>{const v=l.AccessorSupport,q={},n=l.BAG=new JS.Class("BAG",{include:[v,l.Destructible,l.Observable],extend:{getGroup:(f,a)=>{if(f&&a){const e=q[f]||(q[f]={});return e[a]||(e[a]=new n(f,a))}},removeGroup:(f,a)=>{if(f&&a&&(f=q[f])){const e=f[a];e&&delete f[a];return e}}},initialize:function(f,a){this.__nodes=[];this.trueNode=null;this.attrName=f;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&n.removeGroup(this.attrName,this.groupId);this.__nodes.length=
0;this.detachAllObservers();this.callSuper()},setGroupId:function(f){this.set("groupId",f,!0)},setAttrName:function(f){this.set("attrName",f,!0)},setTrueNode:function(f){this.set("trueNode",f,!0)},getNodes:function(){return this.__nodes},register:function(f){f&&!this.isRegistered(f)&&(this.__nodes.push(f),f[this.attrName]&&this.setTrue(f))},unregister:function(f){if(f){const a=this.__nodes;let e=a.length;for(;e;)if(f===a[--e]){a.splice(e,1);break}this.trueNode===f&&this.setTrueNode(null);0===a.length&&
this.destroy()}},setTrue:function(f){if(f&&this.trueNode!==f&&this.isRegistered(f)){const a=this.attrName,e=v.generateSetterName(a),c=this.__nodes;let b=c.length;for(this.setTrueNode(f);b;){const h=c[--b];if(f===h){if(!h[a])h[e](!0)}else if(h[a])h[e](!1)}}},setFalse:function(f){f&&this.trueNode===f&&(f[v.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(f){const a=this.__nodes;let e=a.length;for(;e;)if(f===a[--e])return!0;return!1}});l.BAGMembership=new JS.Module("BAGMembership",
{initNode:function(f,a){this.__bags=[];this.callSuper(f,a)},destroy:function(){const f=this.__bags;let a=f.length;for(;a;){const e=f[--a];this.removeFromBAG(e.attrName,e.groupId)}this.callSuper()},isRegisteredWithBAG:function(f){const a=this.__bags;let e=a.length;for(;e;)if(a[--e]===f)return!0;return!1},getBAG:(f,a)=>n.getGroup(f,a),addToBAG:function(f,a){a=this.getBAG(f,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,"__updateForBAG",f)||this.attachTo(this,
"__updateForBAG",f))},removeFromBAG:function(f,a){a=this.getBAG(f,a);if(this.isRegisteredWithBAG(a)){const e=this.__bags;let c=e.length,b=!0;for(;c;){const h=e[--c];h===a?(e.splice(c,1),a.unregister(this)):h.attrName===f&&(b=!1)}b&&this.detachFrom(this,"__updateForBAG",f)}},__updateForBAG:function(f){this.__bags.forEach(a=>{if(a.attrName===f.type)a[f.value?"setTrue":"setFalse"](this)})}})})(myt);
(l=>{const v=l.AccessorSupport.defAttr,q=n=>{const f=n.label||"";n.setText('<i class="far fa-'+(!0===n.selected?"dot-":"")+'circle"></i>'+(0<f.length?" ":"")+f)};l.Radio=new JS.Class("Radio",l.Text,{include:[l.SimpleButtonStyle,l.BAGMembership],initNode:function(n,f){v(f,"selected",!1);null==f.groupId&&(f.groupId=l.generateGuid());v(f,"focusIndicator",!1);v(f,"activeColor","inherit");v(f,"hoverColor","inherit");v(f,"readyColor","inherit");const a=f.value;delete f.value;this.callSuper(n,f);this.setValue(a);
this.selected&&(n=this.getBAG("selected",this.groupId))&&n.setTrue(this);l.FontAwesome.registerForNotification(this);q(this)},setOptionValue:function(n){this.set("optionValue",n,!0)},setValue:function(n){if(this.inited){const f=this.getBAG("selected",this.groupId);if(f){const a=f.getNodes();let e=a.length;for(;e;){const c=a[--e];if(c.optionValue===n){f.setTrue(c);break}}}}},getValue:function(){var n=this.getBAG("selected",this.groupId);return(n=n?n.trueNode:null)?n.optionValue:null},setSelected:function(n){this.selected!==
n&&(this.selected=n,this.inited&&(this.fireEvent("selected",n),q(this)))},setGroupId:function(n){if(this.groupId!==n){const f=this.groupId;this.groupId=n;f&&this.removeFromBAG("selected",f);n&&this.addToBAG("selected",n);this.inited&&this.fireEvent("groupId",n)}},setLabel:function(n){this.label!==n&&(this.set("label",n,!0),this.inited&&q(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(n,f=1){this.setOpacity(f);this.setTextColor(n)}})})(myt);
(l=>{const v=JS.Module,q=l.global.keys,n=l.Selectable=new v("Selectable",{setSelected:function(a){a=this.valueFromEvent(a);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return!!this.selected},canSelect:a=>!0,canDeselect:a=>!0}),f=l.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>q.isShiftKeyDown(),isToggleMode:()=>q.isAcceleratorKeyDown()},initNode:function(a,e){this.__selected={};this.__lastSelectedItem=null;
e.selectedCount=0;this.defAttr(e,"itemSelectionId","id");this.defAttr(e,"maxSelected",-1);this.callSuper(a,e)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>f.isAddMode(),isToggleMode:()=>f.isToggleMode(),getSelected:function(){const a=[],e=this.__selected;for(const c in e)a.push(e[c]);return a},select:function(a){a&&
!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const e=this.maxSelected,c=this.selectedCount;if(0===e)return!1;if(1===e){if(0<c&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<e&&c>=e)return!1;return a.canSelect(this)},
selectAll:function(){const a=this.getSelectableItems();let e=a.length;for(;e;)this.select(a[--e])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},canDeselectItem:function(a){return a.canDeselect(this)},
deselectAll:function(){const a=this.__selected;for(const e in a)this.deselect(a[e])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],e=this.getSubviews();let c=e.length;for(;c;){const b=e[--c];b.isA(n)&&a.push(b)}return a},getSelectableItems:function(){const a=this.getManagedItems();let e=a.length;for(;e;)a[--e].canSelect(this)||a.splice(e,1);return a},getSelectableItem:function(a){const e=
this.getSelectableItems(),c=this.itemSelectionId;let b=e.length;for(;b;){const h=e[--b];if(h[c]===a)return h}}})})(myt);
(l=>{const v=JS.Class,q=l.View,n=l.SizeToParent,f=l.AccessorSupport.defAttr,a=l.TabSlider=new v("TabSlider",q,{include:[l.Selectable,l.Disableable,n],extend:{ANIMATION_MILLIS:500},initNode:function(c,b){const h=this;let p;b.defaultPlacement="wrapper.container";b.percentOfParentWidth=100;b.expansionState="collapsed";null==b.tabId&&(b.tabId=l.generateGuid());f(b,"tabContainer",c);f(b,"selected",!1);f(b,"buttonClass",l.SimpleButton);f(b,"zIndex",0);f(b,"buttonHeight",30);f(b,"fillColorSelected","#666");
f(b,"fillColorHover","#eee");f(b,"fillColorActive","#ccc");f(b,"fillColorReady","#fff");f(b,"minContainerHeight",100);b.selected&&(p=!0,delete b.selected);h.callSuper(c,b);new h.buttonClass(h,{name:"button",ignorePlacement:!0,zIndex:1,height:h.buttonHeight,focusIndicator:!0,groupId:h.parent.parent.groupId,percentOfParentWidth:100,hoverColor:h.fillColorHover,activeColor:h.fillColorActive,readyColor:h.fillColorReady},[n,{doActivated:()=>{const g=h.tabContainer;h.isSelected()&&1!==g.maxSelected?g.deselect(h):
g.select(h)},updateUI:function(){this.callSuper();h.selected&&-1!==h.tabContainer.maxSelected&&this.setBgColor(h.fillColorSelected);h.notifyButtonRedraw()}}]);c=new q(h,{name:"wrapper",ignorePlacement:!0,y:h.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[n,{setHeight:function(g,r){this.callSuper(Math.round(g),r)},setWidth:function(g,r){this.callSuper(g,r);this.inited&&this.container.setWidth(g)}}]);new l.SizeToChildren(new q(c,{name:"container"}),{axis:"y"});
h.constrain("__updateHeight",[c,"y",c,"height"]);p&&h.tabContainer.select(h);!0===b.disabled&&h.setDisabled(!0);h.setHeight(h.getCollapsedHeight())},setSelected:function(c){this.callSuper(c);this.button&&this.button.updateUI()},setTabId:function(c){this.tabId=c},setTabContainer:function(c){this.tabContainer=c},setMinContainerHeight:function(c){this.minContainerHeight=c},setButtonClass:function(c){this.buttonClass=c},setFillColorSelected:function(c){this.fillColorSelected=c},setFillColorHover:function(c){this.fillColorHover=
c},setFillColorActive:function(c){this.fillColorActive=c},setFillColorReady:function(c){this.fillColorReady=c},setButtonHeight:function(c){this.buttonHeight!==c&&(this.buttonHeight=c,this.button&&(this.button.setHeight(c),this.wrapper.setY(c)))},setExpansionState:function(c){if(this.expansionState!==c){this.expansionState=c;this.inited&&this.fireEvent("expansionState",c);const b=this.wrapper;b&&("expanded"===c?(b.setMaskFocus(!1),b.setOverflow("auto")):"expanding"===c?b.setVisible(!0):"collapsed"===
c?b.setVisible(!1):"collapsing"===c&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){const c=this.button;c&&c.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(c){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(c){const b=this,h=b.wrapper;c-=b.getCollapsedHeight();b.setExpansionState("expanding");h.stopActiveAnimators();h.height!==c?h.animate({attribute:"height",to:c,duration:a.ANIMATION_MILLIS}).next(p=>{b.setExpansionState("expanded")}):
b.setExpansionState("expanded")},collapse:function(){const c=this,b=c.wrapper;c.setExpansionState("collapsing");b.stopActiveAnimators();0!==b.height?b.animate({attribute:"height",to:0,duration:a.ANIMATION_MILLIS}).next(h=>{c.setExpansionState("collapsed")}):c.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+
this.wrapper.container.height}});l.TextTabSlider=new v("TextTabSlider",a,{initNode:function(c,b){f(b,"labelTextColorChecked","#fff");f(b,"labelTextColor","#333");this.callSuper(c,b);new l.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",textColor:this.__getTextColor()})},setLabelTextColorChecked:function(c){this.labelTextColorChecked=c},setLabelTextColor:function(c){this.labelTextColor=c},setText:function(c){if(this.text!==
c){this.text=c;const b=this.button;b&&b.label&&b.label.setText(c)}},notifyButtonRedraw:function(){const c=this.button.label;c&&c.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});const e=l.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[l.SelectionManager],extend:{SPACING:1},initNode:function(c,b){const h=this;h._tabSliders=[];b.defaultPlacement="container";f(b,"spacing",
e.SPACING);f(b,"overflow","autoy");f(b,"itemSelectionId","tabId");f(b,"maxSelected",1);h.updateLayout=l.debounce(h.updateLayout);h.callSuper(c,b);c=new q(h,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[n,{subnodeAdded:function(p){this.callSuper(p);p instanceof a&&(h._tabSliders.push(p),h.attachTo(p,"updateLayout","selected"))},subnodeRemoved:function(p){if(p instanceof a){const g=h._tabSliders;let r=g.length;for(;r;)if(g[--r]===p){h.detachFrom(p,"updateLayout","selected");g.splice(r,
1);break}}this.callSuper(p)}}]);new l.SpacedLayout(c,{name:"layout",axis:"y",spacing:h.spacing,collapseParent:!0});h.attachTo(h,"updateLayout","height")},setSpacing:function(c){this.spacing!==c&&(this.spacing=c,this.layout&&this.layout.setSpacing(c))},updateLayout:function(c){c=this._tabSliders;for(var b=c.length,h=b,p=0,g=0,r=0;h;){var d=c[--h];d.visible&&(++r,d.selected?(p+=d.getMinimumExpandedHeight(),g+=d.getPreferredExpandedHeight()):(d=d.getCollapsedHeight(),p+=d,g+=d))}h=this.container.layout;
r=h.inset+h.outset+h.spacing*(r-1);g+=r;h=this.height;p=p+r>h;r=g>h;g-=h;for(h=b;h;)if(b=c[--h],b.visible)if(b.selected){if(p)d=b.getMinimumExpandedHeight();else if(r){const u=b.getPreferredExpandedHeight(),w=b.getMinimumExpandedHeight();d=u-g;w>d?(g-=u-w,d=w):g=0}else d=b.getPreferredExpandedHeight();b.expand(d)}else b.collapse()}})})(myt);
(l=>{const v=l.AccessorSupport.defAttr,q=a=>{const e=[];switch(a.tabContainer.location){case "top":e.push("TopLeft","TopRight");break;case "bottom":e.push("BottomLeft","BottomRight");break;case "left":e.push("TopLeft","BottomLeft");break;case "right":e.push("TopRight","BottomRight")}e.forEach(c=>{a["setRounded"+c+"Corner"](a.cornerRadius||0)})},n=l.Tab=new JS.Class("Tab",l.SimpleTextButton,{include:[l.Selectable],extend:{INSET:8,OUTSET:8},initNode:function(a,e){null==e.tabId&&(e.tabId=l.generateGuid());
v(e,"tabContainer",a);let c;e.selected&&(c=!0,delete e.selected);v(e,"inset",n.INSET);v(e,"outset",n.OUTSET);v(e,"selectedColor","#fff");v(e,"hoverColor","#eee");v(e,"activeColor","#aaa");v(e,"readyColor","#ccc");v(e,"labelTextSelectedColor","#333");v(e,"height",24);v(e,"focusIndicator",!1);v(e,"cornerRadius",6);this.callSuper(a,e);c&&this.tabContainer.select(this);q(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(a){this.tabId=a},
setTabContainer:function(a){this.tabContainer=a},setSelectedColor:function(a){this.selectedColor=a},setLabelTextColor:function(a){this.labelTextColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&q(this)},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}}),f=l.TabContainer=new JS.Module("TabContainer",{include:[l.SelectionManager],extend:{SPACING:1,INSET:0},initNode:function(a,e){this.__tabs=[];v(e,"spacing",f.SPACING);v(e,"inset",f.INSET);v(e,"location","top");v(e,"itemSelectionId","tabId");v(e,"maxSelected",1);this.callSuper(a,e);new l.SpacedLayout(this,{name:"layout",axis:"left"===this.location||
"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(n))switch(this.__tabs.push(a),
this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(n)){const e=this.__tabs;let c=e.length;for(;c;)if(e[--c]===a){e.splice(c,1);break}}this.callSuper(a)}})})(myt);
(l=>{const v=JS.Class,q=Math.min,n=Array.isArray,f=l.SizeToDom;var a=l.View,e=l.Disableable;const c=l.AccessorSupport.defAttr,b=l.Button.FOCUS_SHADOW,h=(d,u,w)=>{d[w]!==u&&(d[w]=u,d.getIDS()[w]=u+"px",d.inited&&(d.fireEvent(w,u),d.sizeViewToDom()))},p=(d,u,w)=>{d[u]!==w&&(d.getIDE()[u]=d[u]=w,d.inited&&d.fireEvent(u,w))},g=l.NativeInputWrapper=new v("NativeInputWrapper",a,{include:[e,l.InputObservable],initNode:function(d,u){c(u,"tagName","input");c(u,"focusable",!0);this.callSuper(d,u);this.addDomClass("mytNativeInput")},
createOurDomElement:function(d){d=this.callSuper(d);this.inputType&&((n(d)?d[1]:d).type=this.inputType);return d},setDisabled:function(d){this.disabled!==d&&(this.getIDE().disabled=d,this.callSuper(d))},setValue:function(d){this.value!==d&&(this.value=d,this.setDomValue(d),this.inited&&this.fireEvent("value",d))},getDomValue:function(){return this.getIDE().value},setDomValue:function(d){const u=this.getIDE();u.value!==d&&(u.value=d)}}),r=l.InputSelectOption=new v("InputSelectOption",a,{include:[e,
l.Selectable],createOurDomElement:d=>document.createElement("option"),setSelected:function(d){d=this.valueFromEvent(d);const u=this.getIDE();u.selected!==d&&(u.selected=d)},setDisabled:function(d){this.disabled!==d&&(this.getIDE().disabled=d,this.callSuper(d))},setValue:function(d){p(this,"value",d)},setLabel:function(d){this.label!==d&&(this.getIDE().textContent=this.label=d,this.inited&&this.fireEvent("label",d))},isSelected:function(){return this.getIDE().selected},canSelect:function(d){return!this.disabled&&
!this.getIDE().selected&&this.parent===d},canDeselect:function(d){return!this.disabled&&this.getIDE().selected&&this.parent===d}});a=l.BaseInputText=new v("BaseInputText",g,{include:[l.TextSupport],initNode:function(d,u){c(u,"bgColor","transparent");c(u,"spellcheck",!1);this.callSuper(d,u);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(d){this.callSuper(d);this.setValue(d)},setSpellcheck:function(d){p(this,
"spellcheck",d)},setMaxLength:function(d){p(this,"maxLength",null==d||0>d?void 0:d)},setAllowedChars:function(d){this.allowedChars=d},setPlaceholder:function(d){p(this,"placeholder",d)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(b)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(d){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(d){d=d.value;const u=this.allowedChars;
u&&-1===u.indexOf(String.fromCharCode(d.which))&&d.preventDefault();this.filterInputPress(d)},filterInput:d=>d,filterInputPress:d=>{},__syncToDom:function(d){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const d=document.selection.createRange();d.moveStart("character",-this.getDomValue().length);return d.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(d,u){if(null==u||d===u){if(this.getCaretPosition()===d)return;u=d}var w=this.getIDE();
w.setSelectionRange?w.setSelectionRange(d,u):w.createTextRange&&(w=w.createTextRange(),w.collapse(!0),w.moveEnd("character",u),w.moveStart("character",d),w.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const d=this.getIDE();return{start:d.selectionStart,startElem:d,end:d.selectionEnd,endElem:d}},setSelection:function(d){d&&this.setCaretPosition(d.start,
d.end)},saveSelection:function(d){this._selRange=d||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});e=l.InputText=new v("InputText",a,{include:[l.SizeHeightToDom],initNode:function(d,u){this.inputType=!0===u.password?"password":"text";this.callSuper(d,u);this.setCaretToEnd()},setPassword:function(d){this.password=d}});l.EditableText=new v("EditableText",a,{include:[f],initNode:function(d,u){c(u,"tagName","div");u.inputType=null;c(u,"whiteSpace",
"pre");c(u,"contentEditable",!0);this.callSuper(d,u);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(d){h(this,d,"minWidth")},setMinHeight:function(d){h(this,d,"minHeight")},setPadding:function(d){this.setPaddingTop(d);this.setPaddingRight(d);this.setPaddingBottom(d);this.setPaddingLeft(d)},setPaddingTop:function(d){h(this,d,"paddingTop")},setPaddingRight:function(d){h(this,
d,"paddingRight")},setPaddingBottom:function(d){h(this,d,"paddingBottom")},setPaddingLeft:function(d){h(this,d,"paddingLeft")},setContentEditable:function(d){p(this,"contentEditable",d)},filterInputPress:function(d){const u=this.maxLength;0<=u&&this.getCharacterCount()===u&&d.preventDefault();this.callSuper(d)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(d){const u=this.getIDE();u.innerHTML!==d&&(u.innerHTML=d,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(d){13===
l.KeyObservable.getKeyCodeFromEvent(d)&&(d.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(d){this.callSuper(d);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const d=this.getIDE().firstChild;return d?d.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const d=this.getSelection();return d?
d.end:0},setCaretPosition:function(d,u){if(null==u||d===u){if(this.getCaretPosition()===d)return;u=d}this.saveSelection({start:d,startElem:this.getIDE().firstChild,end:u,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(d){this.saveSelection();return!0},getSelection:function(){let d;if(window.getSelection){const u=window.getSelection();if(0<u.rangeCount){if(u.extentNode===this.getIDE())return;d=u.getRangeAt(0)}}else document.selection&&
(d=document.selection.createRange());return{start:d?d.startOffset:0,startElem:d?d.startContainer:this.getIDE().firstChild,end:d?d.endOffset:0,endElem:d?d.endContainer:this.getIDE().firstChild}},setSelection:function(d){if(d){const u=d.startElem,w=d.endElem;if(u&&u.parentNode&&w&&w.parentNode){const k=document.createRange();k.setStart(u,q(d.start,u.length));k.setEnd(w,q(d.end,w.length));window.getSelection?(d=window.getSelection(),0<d.rangeCount&&d.removeAllRanges(),d.addRange(k)):document.selection&&
k.select()}}}});l.InputTextArea=new v("InputTextArea",a,{initNode:function(d,u){c(u,"tagName","textarea");u.inputType=null;c(u,"resize","none");c(u,"wrap","soft");this.callSuper(d,u)},setResize:function(d){this.resize!==d&&(this.resize=this.getIDS().resize=d||"none",this.inited&&this.fireEvent("resize",d))},setWrap:function(d){p(this,"wrap",d)}});l.ComboBox=new v("ComboBox",e,{include:[l.Activateable,l.KeyActivation,l.ListViewAnchor],initNode:function(d,u){this.filterItems=!0;c(u,"activationKeys",
[13,27,38,40]);c(u,"bgColor","#fff");c(u,"borderWidth",1);c(u,"borderStyle","solid");c(u,"floatingAlignOffset",u.borderWidth);c(u,"listViewAttrs",{maxHeight:99});c(u,"fullItemConfig",[]);this.callSuper(d,u)},setFullItemConfig:function(d){this.fullItemConfig=d},setFilterItems:function(d){this.filterItems=d},__syncToDom:function(d){const u=this.value;this.callSuper(d);u!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(d){const u=this.getFloatingPanel(d);if(u){let k;if(this.filterItems){k=
[];var w=this.value;w=null==w?"":(""+w).toLowerCase();const x=this.fullItemConfig,C=x.length;for(let z=0;C>z;){const B=x[z++],D=B.attrs.text.toLowerCase(),t=D.indexOf(w);0===t?D!==w&&k.push(B):0<t&&k.push(B)}}else k=this.fullItemConfig;0<k.length?(u.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(k),this.callSuper(d)):this.hideFloatingPanel(d)}},doItemActivated:function(d){this.setValue(d.text);this.callSuper(d)},doActivated:function(){this.toggleFloatingPanel()}});l.InputSelect=new v("InputSelect",
g,{include:[f],initNode:function(d,u){c(u,"tagName","select");u.inputType=null;c(u,"multiple",!1);c(u,"size",u.multiple?4:1);this.callSuper(d,u);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(d){p(this,"multiple",d)},setSize:function(d){p(this,"size",d)},setOptions:function(d){this.destroyAllOptions();n(d)&&d.forEach(u=>{this.addOption(u)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(d){n(d)&&l.areArraysEqual(d,this.value)||
this.value===d||(this.value=d,this.inited&&this.fireEvent("value",d))},subviewAdded:function(d){d instanceof r||(l.dumpStack("Subview unsupported. Destroying it"),d.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(b)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(d=>d.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(d=>
d.value)},getOptionForValue:function(d){return this.getOptions().find(u=>u.value===d)},addOption:function(d){return new r(this,d)},destroyAllOptions:function(){this.getOptions().forEach(d=>{d.destroy()})},destroyOptionWithValue:function(d){if(d=this.getOptionForValue(d))if(d.destroy(),d.destroyed)return!0;return!1},deselectAll:function(){let d=!1;this.getOptions().forEach(u=>{u.isSelected()&&(u.setSelected(!1),d=!0)});d&&this.__doChanged()},selectValues:function(d){(n(d)?d:[d]).forEach(u=>{this.selectValue(u)})},
selectValue:function(d){this.select(this.getOptionForValue(d))},select:function(d){d&&d.canSelect(this)&&(d.setSelected(!0),this.__syncToDom())},deselectValue:function(d){this.deselect(this.getOptionForValue(d))},deselect:function(d){d&&d.canDeselect(this)&&(d.setSelected(!1),this.__syncToDom())},__doChanged:function(d){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(l=>{const v=JS.Module,q=Math.round;var n=l.ValueComponent=new v("ValueComponent",{initNode:function(a,e){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(a,e)},setValueFilter:function(a){this.valueFilter=a;this.inited&&a&&this.setValue(this.value)},setValue:function(a){this.valueFilter&&(a=this.valueFilter(a));this.value!==a&&(this.value=a,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(a,e){const c=this.valueFilter;
this.setValueFilter(c?"last"===e?b=>a(c(b)):b=>c(a(b)):a)}});const f=l.RangeComponent=new v("RangeComponent",{include:[n],setLowerValue:function(a){this.setValue({lower:a,upper:this.value&&void 0!==this.value.upper?this.value.upper:a})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(a){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:a,upper:a})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(a){if(a){var e=
this.value;const c=e?e.lower:void 0;e=e?e.upper:void 0;this.valueFilter&&(a=this.valueFilter(a));if(a.lower!==c||a.upper!==e){null==a.lower&&(a.lower=a.upper);null==a.upper&&(a.upper=a.lower);if(void 0!==a.lower&&void 0!==a.upper&&a.lower>a.upper){const b=a.lower;a.lower=a.upper;a.upper=b}this.value=a;this.inited&&(this.fireEvent("value",this.getValue()),a.lower!==c&&this.fireEvent("lowerValue",a.lower),a.upper!==e&&this.fireEvent("upperValue",a.upper))}}else this.callSuper(a)},getValueCopy:function(){const a=
this.value;return{lower:a.lower,upper:a.upper}}});n=l.BoundedValueComponent=new v("BoundedValueComponent",{include:[n],initNode:function(a,e){const c=this;c.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==e.snapToInt&&(e.snapToInt=!0);e.valueFilter||(e.valueFilter=b=>{var h=c.maxValue;if(null!=h&&b>h)return h;h=c.minValue;return null!=h&&b<h?h:b});c.callSuper(a,e)},setSnapToInt:function(a){this.snapToInt!==a&&(this.snapToInt=a,this.inited&&(this.fireEvent("snapToInt",a),a&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(a){this.snapToInt&&null!=a&&(a=q(a));if(this.minValue!==a){const e=this.maxValue;null!=e&&a>e&&(a=e);this.minValue!==a&&(this.minValue=a,this.inited&&(this.fireEvent("minValue",a),this.setValue(this.value)))}},setMaxValue:function(a){this.snapToInt&&null!=a&&(a=q(a));if(this.maxValue!==a){const e=this.minValue;null!=e&&a<e&&(a=e);this.maxValue!==a&&(this.maxValue=a,this.inited&&(this.fireEvent("maxValue",a),this.setValue(this.value)))}},
setValue:function(a){this.callSuper(this.snapToInt&&null!=a&&!isNaN(a)?q(a):a)}});l.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[n,f],initNode:function(a,e){const c=this;e.valueFilter||(e.valueFilter=b=>{if(b){const h=c.maxValue,p=c.minValue;null!=h&&b.upper>h&&(b.upper=h);null!=p&&b.lower<p&&(b.lower=p)}return b});c.callSuper(a,e)},setValue:function(a){this.snapToInt&&null!=a&&(null==a.lower||isNaN(a.lower)||(a.lower=q(a.lower)),null==a.upper||isNaN(a.upper)||(a.upper=q(a.upper)));
this.callSuper(a)}})})(myt);
(l=>{const v=l.AccessorSupport.defAttr,q=n=>{const f=n.label||"";n.setText('<i class="'+("solid"===(n.checkboxStyle||"outline")?"fas":"far")+" fa-"+(n.isChecked()?"check-":"")+'square"></i>'+(0<f.length?" ":"")+f)};l.Checkbox=new JS.Class("Checkbox",l.Text,{include:[l.SimpleButtonStyle,l.ValueComponent],initNode:function(n,f){this.appendToEarlyAttrs("userUnselectable");v(f,"value",!1);v(f,"focusIndicator",!1);v(f,"checkboxStyle","outline");v(f,"activeColor","inherit");v(f,"hoverColor","inherit");
v(f,"readyColor","inherit");this.callSuper(n,f);l.FontAwesome.registerForNotification(this);q(this)},setValue:function(n){this.value!==n&&(this.callSuper(n),this.inited&&q(this))},setLabel:function(n){this.label!==n&&(this.set("label",n,!0),this.inited&&q(this))},setCheckboxStyle:function(n){this.checkboxStyle!==n&&(this.set("checkboxStyle",n,!0),this.inited&&q(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(n,f=1){this.setOpacity(f);
this.setTextColor(n)}})})(myt);
(l=>{let v;const q=JS.Class,n=JS.Module,f=l.global,a=f.focus,e=l.AccessorSupport.defAttr,c=l.KeyObservable.getKeyCodeFromEvent,b={},h=(t,m)=>{if(t){const y=t.id;t.id?m(y):l.dumpStack("No ID")}else l.dumpStack("No processor")},p=t=>{h(t,m=>{b[m]=t})},g=t=>{const m=l.BAG.getGroup("selected",t.groupId);if(m){const y=m.getNodes();t=t.value;let A=y.length;for(;A;){const H=y[--A];if(H.optionValue===t){m.setTrue(H);break}}}},r=t=>{if(t.groupId){const m=l.BAG.getGroup("selected",t.groupId);m&&t.syncTo(m,
"__syncValue","trueNode")}},d=(t,m)=>{const y=[];t.__v.forEach(A=>{m=A.isFormValid(t,null,y)&&m});t.setErrorMessages(y);t.setIsValid(m);return m},u=(t,m,y)=>{t.__vp.forEach(A=>{A[y]&&(m=A.process(m))});return m},w=l.ValueProcessor=new q("ValueProcessor",{initialize:function(t,m,y,A){this.id=t;this.runForDefault=!!m;this.runForRollback=!!y;this.runForCurrent=!!A},process:t=>t}),k=l.ToNumberValueProcessor=new q("ToNumberValueProcessor",w,{process:t=>{if(null==t||""===t||"-"===t)return t;const m=Number(t);
return isNaN(m)?t:m}}),x=l.TrimValueProcessor=new q("TrimValueProcessor",w,{initialize:function(t,m,y,A,H){this.callSuper(t,m,y,A);this.trim=H},process:function(t){t+="";switch(this.trim){case "start":case "left":return t.trimStart();case "end":case "right":return t.trimEnd();default:return t.trim()}}}),C=l.UndefinedValueProcessor=new q("UndefinedValueProcessor",w,{initialize:function(t,m,y,A,H){this.callSuper(t,m,y,A);this.defaultValue=H},process:function(t){return void 0===t?this.defaultValue:t}}),
z=l.Form=new n("Form",{initNode:function(t,m){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(t,m);this.form&&this.form.isA(z)&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.isA(z)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(t){this.errorMessages=t},getFullId:function(){const t=[this.id];let m=this.form;for(;m&&m.id;)t.unshift(m.id),m=m.form;return t.join(".")},setId:function(t){if(this.id!==
t){const m=this.id;this.id=t;(t=this.form)&&this.inited&&(t.removeSubForm(m),t.addSubForm(this))}},setForm:function(t){if(this.form!==t){const m=this.form;this.form=t;m&&m.removeSubForm(this.id);t&&this.inited&&t.addSubForm(this)}},setIsValid:function(t){this.isValid=t;this.inited&&this.fireEvent("isValid",t);const m=this.form;m&&!this._lockCascade&&(t?m.verifyValidState(this):m.notifySubFormInvalid())},setIsChanged:function(t){if(this.isChanged!==t){this.isChanged=t;this.inited&&this.fireEvent("isChanged",
t);const m=this.form;m&&!this._lockCascade&&(t?m.notifySubFormChanged():m.verifyChangedState(this))}},setValidators:function(t){let m=t.length;for(;m;){const y=t[--m];"string"===typeof y&&(t[m]=f.validators.getValidator(y),t[m]||t.splice(m,1))}this.__v=t},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(B))return this.value;const t={},m=this.__sf;for(const y in m)t[y]=m[y].getValue();return t},setValue:function(t){this.callSuper&&this.callSuper(t);if("object"===typeof t&&
!this.isA(B))for(const m in t){const y=this.getSubForm(m);y?t[m]=y.setValue(t[m]):console.warn("ID in setValue for missing subform",m)}this.form&&this.form.notifyValueChanged(this);return t},getDefaultValue:function(){const t={};let m=this.__sf;for(const y in m)t[y]=m[y].getDefaultValue();return t},setDefaultValue:function(t){if("object"===typeof t)for(const m in t){const y=this.getSubForm(m);y?t[m]=y.setDefaultValue(t[m]):console.warn("ID in setDefaultValue for missing subform",m)}return t},getRollbackValue:function(){const t=
{},m=this.__sf;for(const y in m)t[y]=m[y].getRollbackValue();return t},setRollbackValue:function(t){if("object"===typeof t)for(const m in t){const y=this.getSubForm(m);y?t[m]=y.setRollbackValue(t[m]):console.warn("ID in setRollbackValue for missing subform",m)}return t},addAccelerator:function(t,m){this.__acc[t]=m},removeAccelerator:function(t){delete this.__acc[t]},invokeAccelerator:function(t,m){(t=this.__acc[t])&&t.call(this,null==m?null:m)},addValidator:function(t){t&&this.__v.push(t)},removeValidator:function(t){if(t){const m=
this.__v;let y=m.length;for(;y;){const A=m[--y];if(A.id===t)return m.splice(y,1),A}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(t){const m=t.id;null!=this.getSubForm(m)?console.warn("ID in use for subform, add aborted",m,t):(t.setForm(this),this.__sf[m]=t,t.isChanged&&this.notifySubFormChanged(),t.isValid||this.notifySubFormInvalid())},removeSubForm:function(t){const m=this.getSubForm(t);m&&(m.setForm(null),delete this.__sf[t],this.verifyChangedState(),
this.verifyValidState());return m},getSubForm:function(t){return this.__sf[t]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(t){t&&this.doValidation();const m=[];(function H(A){if(A.isA(B))A.isValid||m.push(A.getFullId());else{A=A.getSubForms();for(const I in A)H(A[I])}})(this);return m},getAllErrorMessages:function(){const t=this.__sf;let m=(this.errorMessages||[]).concat();for(const y in t)m=m.concat(t[y].getAllErrorMessages());return m},notifySubFormInvalid:function(){this.setIsValid(!1)},
verifyValidState:function(t){const m=this.__sf;let y=!0;for(const A in m){const H=m[A];H!==t&&(y=H.isValid&&y)}return d(this,y)},doValidation:function(){const t=this.__sf;let m=!0;for(const y in t)m=t[y].doValidation()&&m;this._lockCascade=!0;m=d(this,m);this._lockCascade=!1;return m},notifyValueChanged:function(t){this.form&&this.form.notifyValueChanged(t)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(t){const m=this.__sf;let y=!1;for(const A in m){const H=m[A];
H!==t&&(y=H.isChanged||y)}this.setIsChanged(y);return y},setup:function(t,m,y){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==t&&(t={});null==m&&(m={});null==y&&(y={});const A=this.__sf;for(const H in A)A[H].setup(t[H],m[H],y[H])},resetForm:function(){this._lockCascade=!0;const t=this.__sf;for(const m in t)t[m].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=
!0;const t=this.__sf;for(const m in t)t[m].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const t={},m=this.__sf;for(const y in m){const A=m[y];A.isChanged&&(t[y]=A.getChangedValue())}return t}}),B=l.FormElement=new n("FormElement",{include:[z],initNode:function(t,m){this.__vp=[];this.callSuper(t,m)},getValue:function(){return u(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(t){void 0===
t&&(t=this.getRollbackValue());this.value!==t&&(this.callSuper(t),this.verifyChangedState());return t},getDefaultValue:function(){return u(this,this.defaultValue,"runForDefault")},setDefaultValue:function(t){this.defaultValue!==t&&(this.defaultValue=t,this.inited&&this.fireEvent("defaultValue",t),this.verifyChangedState());return t},getRollbackValue:function(){return u(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(t){void 0===t&&(t=this.getDefaultValue());this.rollbackValue!==
t&&(this.rollbackValue=t,this.inited&&this.fireEvent("rollbackValue",t),this.verifyChangedState());return t},setValueProcessors:function(t){let m=t.length;for(;m;){const y=t[--m];"string"===typeof y&&(t[m]=b[y],t[m]||t.splice(m,1))}this.__vp=t},addValueProcessor:function(t){this.__vp.push(t)},removeValueProcessor:function(t){if(t){const m=this.__vp;let y=m.length;for(;y;){const A=m[--y];if(A.id===t)return m.splice(y,1),A}}},addSubForm:t=>{l.dumpStack("addSubForm unsupported on FormElement")},getSubForm:t=>
{l.dumpStack("getSubForm unsupported on FormElement")},removeSubForm:t=>{l.dumpStack("removeSubForm unsupported on FormElement")},verifyChangedState:function(t){t=this.getValue()!==this.getRollbackValue();this.setIsChanged(t);return t},setup:function(t,m,y){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(t);this.setRollbackValue(m);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(y)},resetForm:function(){this._lockCascade=
!0;const t=this.getDefaultValue();this.setRollbackValue(t);this.setValue(t);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),D=l.FormInputTextMixin=new n("FormInputTextMixin",{include:[B,l.UpdateableUI],initNode:function(t,
m){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";e(m,"bgColor","#fff");e(m,"borderWidth",1);e(m,"borderStyle","solid");e(m,"borderStyle",!0);this.callSuper(t,m);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(t){this.validateWhen=
t},setAcceleratorScope:function(t){this.acceleratorScope=t},setErrorColor:function(t){this.errorColor=t},setActionRequiredColor:function(t){this.actionRequiredColor=t},setNormalColor:function(t){this.normalColor=t},setIsChanged:function(t){this.callSuper(t);this.inited&&this.updateUI()},setIsValid:function(t){this.callSuper(t);this.inited&&this.updateUI()},setValue:function(t){t=this.callSuper(t);const m=this.validateWhen;"key"!==m&&"blurWithKeyFix"!==m||this.verifyValidState();return t},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},__hndlKeyDown:function(t){13===c(t)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(t){27===c(t)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const t=this.validateWhen;"blur"!==t&&"blurWithKeyFix"!==
t||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});l.RootForm=new n("RootForm",{include:[z],initNode:function(t,m){this.callSuper(t,m);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:t=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();
this.doValidation()}});l.FormCheckbox=new q("FormCheckbox",l.Checkbox,{include:[B],initNode:function(t,m){this.rollbackValue=this.defaultValue=!1;this.callSuper(t,m)}});l.FormComboBox=new q("FormComboBox",l.ComboBox,{include:[B,l.UpdateableUI],initNode:function(t,m){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(t,m);this.addValueProcessor(v);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",
this.doReject)},setValidateWhen:function(t){this.validateWhen=t},setAcceleratorScope:function(t){this.acceleratorScope=t},setErrorColor:function(t){this.errorColor=t},setActionRequiredColor:function(t){this.actionRequiredColor=t},setNormalColor:function(t){this.normalColor=t},setIsChanged:function(t){this.callSuper(t);this.inited&&this.updateUI()},setIsValid:function(t){this.callSuper(t);this.inited&&this.updateUI()},setValue:function(t){t=this.callSuper(t);const m=this.validateWhen;"key"!==m&&"blurWithKeyFix"!==
m||this.verifyValidState();return t},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(t){this._isShown=!0},notifyPanelHidden:function(t){this._isShown=
!1},doActivationKeyDown:function(t,m){27!==t||this._isShown?this.callSuper(t,m):this.invokeAccelerator("reject")},doActivationKeyUp:function(t){13!==t||this._isShown?this.callSuper(t):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const t=this.validateWhen;"blur"!==t&&"blurWithKeyFix"!==t||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});l.FormEditableText=new q("FormEditableText",
l.EditableText,{include:[D],__hndlKeyDown:function(t){"nowrap"===this.whitespace&&this.callSuper(t)}});l.FormInputText=new q("FormInputText",l.InputText,{include:[D]});l.FormInputTextArea=new q("FormInputTextArea",l.InputTextArea,{include:[D],__hndlKeyDown:t=>{}});l.FormInputSelect=new q("FormInputSelect",l.InputSelect,{include:[B],setValue:function(t){if(!this.__abortSetValue)return t=this.callSuper(t),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(t),this.__abortSetValue=!1,t}});l.FormRadioGroup=
new q("FormRadioGroup",l.Node,{include:[l.ValueComponent,B],initNode:function(t,m){null==m.groupId&&(m.groupId=l.generateGuid());this.callSuper(t,m);void 0!==this.value&&g(this);r(this)},setValue:function(t){t=this.callSuper(t);this.inited&&g(this);return t},setGroupId:function(t){if(this.groupId!==t){if(this.groupId){const m=l.BAG.getGroup("selected",this.groupId);m&&this.detachFrom(m,"__syncValue","trueNode")}this.groupId=t;this.inited&&r(this)}},__syncValue:function(t){t=t.value;this.setValue(t?
t.optionValue:null)}});l.UseOtherFieldIfEmptyValueProcessor=new q("UseOtherFieldIfEmptyValueProcessor",w,{initialize:function(t,m,y,A,H){this.callSuper(t,m,y,A);this.otherField=H},process:function(t){return null==t||""===t?this.otherField.getValue():t}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){p(v=new C("undefToEmpty",!0,!0,!0,""));p(new k("toNumber",!0,!0,!0));p(new x("trimLeft",!0,!0,!0,"left"));p(new x("trimRight",!0,!0,!0,"right"));p(new x("trimBoth",!0,!0,!0,"both"));
f.register("valueProcessors",this)},getValueProcessor:t=>b[t],register:p,unregister:t=>{h(t,m=>{b[m]&&delete b[m]})}})})(myt);
(l=>{const v=JS.Class,q=Math.round,n={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},f=(b,h)=>{b[h](b,"doDragOver","dragover",!1);b[h](b,"doDragEnter","dragenter",!1);b[h](b,"doDragLeave","dragleave",!1);b[h](b,"doDrop","drop",!1)},a=l.DragDropSupport=new JS.Module("DragDropSupport",{include:[l.DragDropObservable],initNode:function(b,h){this.callSuper(b,h);this.disabled||this.setupDragListeners()},setDisabled:function(b){this.disabled!==b&&(this.getIDE().disabled=b,this.callSuper(b),
this.inited&&(b?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){f(this,"attachToDom")},teardownDragListeners:function(){f(this,"detachFromDom")},doDragOver:b=>{},doDragEnter:b=>{},doDragLeave:b=>{},doDrop:function(b){this.handleFiles(b.value.dataTransfer.files,b)},handleFiles:function(b,h){if(void 0!==b){let p=b.length;for(;p;){const g=this.filterFiles(b[--p]);g&&this.handleDroppedFile(g,h)}}else l.dumpStack("No File API")},filterFiles:b=>b,handleDroppedFile:(b,
h)=>{}}),e=l.Uploader=new v("Uploader",l.View,{include:[a,l.Disableable,l.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(b,h)=>{if(void 0!==FileReader){const p=new FileReader;p.onload=h;p.readAsDataURL(b)}},isSameFile:(b,h)=>null!=b&&null!=h&&b.name===h.name&&b.type===h.type&&b.size===h.size,createFile:b=>{const h=(new l.URI(b)).file;return{name:h,serverPath:b,size:-1,type:n[l.getExtension(h)]}}},initNode:function(b,h){const p=this;p.files=[];p.defAttr(h,"requestFileParam","file");
p.defAttr(h,"maxFiles",-1);p.callSuper(b,h);new l.NativeInputWrapper(p,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:p.disabled,overflow:"hidden"},[l.SizeToParent,{initNode:function(g,r){this.inputType="file";this.callSuper(g,r);this.attachToDom(this,"_hndlInput","change");this.getIDE().multiple=1<p.maxFiles},_hndlInput:function(g){p.handleFiles(this.getIDE().files,g)}}])},setValue:function(b){this.clearFiles();b&&(Array.isArray(b)||(b=[b]),b.forEach(h=>
{this.addFile(e.createFile(h))}));return this.callSuper?this.callSuper(b):b},getValue:function(){return this.value},setDisabled:function(b){this.callSuper(b);this.fileInput&&this.fileInput.setDisabled(b)},setMaxFiles:function(b){this.maxFiles!==b&&(this.maxFiles=b,this.inited&&this.fireEvent("maxFiles",b),this.fileInput&&(this.fileInput.getIDE().multiple=1<b))},setUploadUrl:function(b){this.set("uploadUrl",b,!0)},setRequestFileParam:function(b){this.set("requestFileParam",b,!0)},bringSubviewToFront:function(b){b===
this.fileInput?this.callSuper(b):this.sendSubviewBehind(b,this.fileInput)},subviewAdded:function(b){this.callSuper(b);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(b,h){this.addFile(b)},filterFiles:function(b){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:b},uploadFiles:function(b,h){b=b||this.uploadUrl;const p=this.files;let g=p.length;for(;g;)this.uploadFile(p[--g],b,h)},makeFetchOptionsForUpload:b=>({method:"POST",body:b}),uploadFile:function(b,
h,p){const g=this,r=new FormData;r.append(p||g.requestFileParam,b,b.name);l.doFetch(h||g.uploadUrl,g.makeFetchOptionsForUpload(r),!1,d=>{g.handleUploadSuccess(b,d)},d=>{g.handleUploadFailure(b,d)})},handleUploadSuccess:function(b,h){b[e.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(b,h);this.updateValueFromFiles()},handleUploadFailure:(b,h)=>{l.dumpStack("Upload failure:"+h.status+":"+h.message)},parseServerPathFromResponse:(b,h)=>null,addFile:function(b){this.files.push(b);this.updateValueFromFiles();
this.fireEvent("addFile",b)},removeFile:function(b){const h=this.files;let p=h.length;for(;p;)if(e.isSameFile(h[--p],b)){h.splice(p,1);this.updateValueFromFiles();this.fireEvent("removeFile",b);break}},updateValueFromFiles:function(){const b=[];var h=this.files;let p=h.length;for(;p;){const g=h[--p][e.FILE_ATTR_SERVER_PATH];g&&b.push(g)}h=b.length;this.value=1===h?b[0]:0===h?void 0:b;this.value||(this.fileInput.getIDE().value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);
this.fireEvent("value",this.value)},clearFiles:function(){const b=this.files;let h=b.length;for(;h;)this.removeFile(b[--h])}}),c=l.ImageUploader=new v("ImageUploader",e,{extend:{isImageFile:b=>/image/i.test(b.type)},initNode:function(b,h){h.maxFiles=1;this.callSuper(b,h)},setWidth:function(b,h){this.callSuper(b,h);this.inited&&this.updateImageSize()},setHeight:function(b,h){this.callSuper(b,h);this.inited&&this.updateImageSize()},filterFiles:function(b){if(c.isImageFile(b)){for(;0<this.files.length;)this.removeFile(this.files[0]);
return this.callSuper(b)}},addFile:function(b){const h=this;h.callSuper(b);const p=h.image=new l.Image(h,{useNaturalSize:!1,align:"center",valign:"middle"});p.file=b;const g=r=>{const d=new Image;d.onload=()=>{b.width=d.width;b.height=d.height;p&&!p.destroyed&&h.updateImage(b,p,d.src)};d.src=r};-1===b.size?g(b.serverPath):void 0!==FileReader&&c.isImageFile(b)&&e.readFile(b,r=>{g(r.target.result)})},scaleToFit:(b,h,p,g)=>p/g>b/h?[b,g*b/p]:[p*h/g,h],removeFile:function(b){this.callSuper(b);const h=
this.getSubviews();let p=h.length;for(;p;){const g=h[--p];if(e.isSameFile(g.file,b)){g.destroy();break}}},handleDroppedFile:function(b,h){this.callSuper(b,h);this.uploadFile(b,this.uploadUrl)},updateImage:function(b,h,p){this.nativeWidth=b.width;this.nativeHeight=b.height;this.updateImageSize();h.setImageUrl(p)},updateImageSize:function(){const b=this.image;if(b&&!b.destroyed){var h=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const p=q(h[0]);h=q(h[1]);b.setImageSize(p+
"px "+h+"px");b.setWidth(p);b.setHeight(h)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(l=>{const v=(q,n,f)=>{const a=q.axis;f=f.bind(q);"y"!==a&&(f(n,"update","x"),f(n,"update","boundsWidth"));"x"!==a&&(f(n,"update","y"),f(n,"update","boundsHeight"));f(n,"update","visible")};l.SizeToChildren=new JS.Class("SizeToChildren",l.Layout,{initNode:function(q,n){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(q,n)},setAxis:function(q){this.axis!==q&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=q,this.startMonitoringAllSubviews(),this.fireEvent("axis",q),this.update()):
this.axis=q)},setPaddingX:function(q){this.paddingX!==q&&(this.paddingX=q,this.inited&&(this.fireEvent("paddingX",q),this.update()))},setPaddingY:function(q){this.paddingY!==q&&(this.paddingY=q,this.inited&&(this.fireEvent("paddingY",q),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const n=this.parent;if(!n.isBeingDestroyed){const f=this.subviews;var q=f.length;const a=this.axis;let e,c;if("y"!==a){e=q;for(c=0;e;){const b=f[--e];b.visible&&(c=Math.max(c,b.x+
(0<b.boundsWidth?b.boundsWidth:0)))}n.setWidth(c+this.paddingX)}if("x"!==a){e=q;for(c=0;e;)q=f[--e],q.visible&&(c=Math.max(c,q.y+(0<q.boundsHeight?q.boundsHeight:0)));n.setHeight(c+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(q){v(this,q,this.attachTo)},stopMonitoringSubview:function(q){v(this,q,this.detachFrom)}})})(myt);
(l=>{const v=JS.Class,q=l.SizeToParent,n=l.View,f=l.RootView,a=l.AccessorSupport.defAttr,e=l.Dimmer=new v("Dimmer",n,{include:[q],extend:{OPACITY:.35,COLOR:"#000"},initNode:function(b,h){const p=this;p.restoreFocus=!0;h.focusable=h.focusCage=!0;a(h,"percentOfParentWidth",100);a(h,"percentOfParentHeight",100);a(h,"visible",!1);a(h,"ignoreLayout",!0);p.callSuper(b,h);new n(p,{name:"overlay",ignorePlacement:!0,opacity:e.OPACITY,bgColor:e.COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[q]);
"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(g=>{p.attachDomObserver(p,"eatMouseEvent",g)});f.setupCaptureDrop(p)},destroy:function(){f.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(b){this.restoreFocus=b},eatMouseEvent:b=>!0,show:function(){const b=l.global.focus;this.prevFocus=b.focusedView||b.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(b){this.visible&&(this.setVisible(!1),!b&&this.restoreFocus&&
this.prevFocus&&this.prevFocus.focus())}}),c=l.ModalPanel=new v("ModalPanel",e,{extend:{PADDING_X:20,PADDING_Y:15,MARGIN_TOP:40,MARGIN_LEFT:40,MARGIN_BOTTOM:40,MARGIN_RIGHT:40},initNode:function(b,h){const p={name:"content",ignorePlacement:!0},g=Object.assign({},p,{align:"center",valign:"middle"});this.defaultPlacement="content";a(h,"sizingStrategy","children");a(h,"marginTop",c.MARGIN_TOP);a(h,"marginLeft",c.MARGIN_LEFT);a(h,"marginBottom",c.MARGIN_BOTTOM);a(h,"marginRight",c.MARGIN_RIGHT);a(h,"paddingX",
c.PADDING_X);a(h,"paddingY",c.PADDING_Y);this.callSuper(b,h);switch(this.sizingStrategy){case "children":new l.SizeToChildren(new n(this,g),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new n(this,Object.assign(p,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[q]);break;case "basic":new n(this,
g);break;default:new n(this,p)}},setSizingStrategy:function(b){this.sizingStrategy=b},setMarginTop:function(b){this.marginTop=b},setMarginLeft:function(b){this.marginLeft=b},setMarginBottom:function(b){this.marginBottom=b},setMarginRight:function(b){this.marginRight=b},setPaddingX:function(b){this.paddingX=b},setPaddingY:function(b){this.paddingY=b}})})(myt);
(l=>{const v=n=>{n[n.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},q=n=>{const f=n.size,a=n.getIDS();n.setWidth(f);n.setHeight(f);a.width=a.height=f-2*n.borderWidth+"px"};l.Spinner=new JS.Class("Spinner",l.View,{initNode:function(n,f){this.lateAttrs=["spinColor"];const a=this.defAttr;a(f,"visible",!1);a(f,"borderWidth",5);a(f,"borderColor","#fff");a(f,"borderStyle","solid");a(f,"spinColor","#000");this.callSuper(n,f);this.getIDS().borderRadius="50%";q(this);v(this)},setSize:function(n){this.size!==
n&&(this.size=n,this.inited&&q(this))},setSpinColor:function(n){this.spinColor!==n&&(this.getIDS().borderTopColor=this.spinColor=n,this.inited&&this.fireEvent("spinColor",n))},setBorderWidth:function(n){this.borderWidth!==n&&(this.callSuper(n),this.inited&&q(this))},setVisible:function(n){this.visible!==n&&(this.callSuper(n),this.inited&&v(this))}})})(myt);
(l=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),q=a=>{if(Array.isArray(a)){let e=a.length;if(0<e){a.unshift("fa");e++;a[1].startsWith("fa-")||(a[1]="fa-"+a[1]);3<=e&&(a[2]=v[a[2]]||"");if(3<e)for(let c=3;e>c;c++)a[c].startsWith("fa-")||(a[c]="fa-"+a[c]);return'<i class="'+a.join(" ")+'"></i>'}}l.dumpStack("Error making tag");console.error(a);return""},n=a=>{let e=a.properties;e=e?"string"===typeof e?e.split(" "):e.concat():[];e.unshift(a.icon,a.size);a.setHtml(q(e))},f=a=>{["Free 400","Free 900",
"Brands 400"].forEach(e=>{l.registerForFontNotification(a,"Font Awesome 5 "+e)})};l.FontAwesome=new JS.Class("FontAwesome",l.Markup,{extend:{makeTag:q,registerForNotification:f},initNode:function(a,e){this.size=0;this.icon="";this.callSuper(a,e);n(this);f(this)},setIcon:function(a){const e=this.icon;this.set("icon",a,!0);this.inited&&e!==a&&n(this)},setSize:function(a){const e=this.size;this.set("size",a,!0);this.inited&&e!==a&&n(this)},setProperties:function(a){this.properties=a;this.fireEvent("properties",
a);this.inited&&n(this)}});l.loadCSSFonts(["https://use.fontawesome.com/releases/v5.0.8/css/all.css"])})(myt);
(l=>{let v,q,n,f,a=0,e=0,c=0,b=[],h,p,g,r,d,u,w,k,x,C,z,B,D,t,m,y,A,H,I,J,O,W,Q,Z;const ba=JS.Class,S=l.View,ha=l.Text,X=l.ModalPanel,ra=l.SizeToChildren,ya=l.SpacedLayout,za=l.SelectionManager,la=l.Color,Aa=l.LocalStorage,sa=l.Button,ia=l.TextButton,Ba=l.Draggable,ja=l.FontAwesome.makeTag,Y=l.AccessorSupport.defAttr,da=Object.assign,aa=Math.min,ca=Math.max,ea=[1,"solid","#333"],Ca=[1,"solid","#999"],ta=[1,"solid","#fff"],Ia=new ba("DialogButton",ia,{initNode:function(E,G){Y(G,"height",17);Y(G,"paddingTop",
3);Y(G,"paddingLeft",10);Y(G,"paddingRight",10);Y(G,"activeColor","#bbb");Y(G,"hoverColor","#ddd");Y(G,"readyColor","#ccc");G.domClass="mytButtonText";this.callSuper(E,G)}}),Ja=ja(["check"]),ua={},Da=new ba("Swatch",S,{include:[sa],initNode:function(E,G){G.width=G.height=16;G.border=Ca;this.callSuper(E,G);this.bgColor===f&&(E=la.makeColorFromHexString(f),new l.Text(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>E.red+E.green+E.blue?"#fff":"#000"}))},setBgColor:function(E){this.callSuper(E);
this.setTooltip(E)},doActivated:function(){v.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(ea)},drawReadyState:function(){this.setBorder(Ca)}}),Ka=l.ColorPicker=new ba("ColorPicker",S,{initNode:function(E,G){v=this;n=G.color||"transparent";delete G.color;h=G.palette||[];h.forEach(F=>{ua[F]=!0});delete G.palette;q="transparent"===n;v.callSuper(E,G);p=new S(v,{width:160,height:170});new l.WrappingLayout(p,{spacing:4,lineSpacing:4});g=new S(v,{x:170,width:139,height:139,border:ea},
[Ba,{requestDragPosition:function(F,L){g.callSuper(g.x,g.y);const K=this.getPagePosition();e=parseFloat(ca(0,aa(1,(F+this.dragInitX-K.x)/this.width)));c=parseFloat(1-ca(0,aa(1,(L+this.dragInitY-K.y)/this.height)));q=!1;v.updateUI()}}]);E=new S(g,{width:139,height:139});G=new S(E,{width:139,height:139});E.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";G.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";r=new S(G,{width:6,height:6,bgColor:"#000",
border:ta,roundedCorners:4});d=new S(v,{x:315,y:30,width:24,height:109,border:ea},[Ba,{requestDragPosition:function(F,L){this.callSuper(d.x,d.y);a=parseFloat(ca(0,aa(1,(L+this.dragInitY-this.getPagePosition().y)/this.height)));q=!1;v.updateUI()}}]);d.getIDS().background="linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";u=new S(d,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new S(v,{x:315,width:24,height:24,border:ea,tooltip:"Set to transparent.",
domClass:"mytCheckerboardPattern"},[sa,{doActivated:()=>{v.setColor("transparent")}}]);w=new l.InputText(v,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:ea,maxLength:11});v.attachToDom(w,"_submitInput","blur");v.attachToDom(w,"_handleKeyDown","keydown");w.getIDS().paddingLeft="6px";E=new S(v,{x:170,y:146,width:60,height:23,border:ea});new S(E,{width:30,height:23,focusIndicator:!1,bgColor:n,domClass:q?"mytCheckerboardPattern":""},[sa,{doActivated:()=>{v.setColor(n)}}]);
k=new S(E,{x:30,width:30,height:23},[{setBgColor:function(F){this.callSuper(F);this[("transparent"===F?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(E=Aa.getItem("myt.default"))b=E.split(";"),b.forEach(F=>{ua[F]=!0});v.setColor(n)},_handleKeyDown:E=>{13===l.KeyObservable.getKeyCodeFromEvent(E)&&v._submitInput()},_submitInput:()=>{v.setColor(w.value)},addToPalette:E=>{E&&"transparent"!==E&&!ua[E]&&(b.unshift(E),b.length=aa(b.length,56),Aa.setItem("myt.default",b.join(";")))},setColor:E=>
{E&&"transparent"!==E?(E=la.makeColorFromHexString(E).getHSV(),a=E.h/360,e=E.s,c=E.v,q=!1):q=!0;v.updateUI()},getColor:()=>q?"transparent":la.makeColorFromHSV(360*a,100*e,100*c).getHtmlHexString(),updateUI:()=>{const E=!q;u.setVisible(E);r.setVisible(E);E&&(r.setX(ca(0,aa(1,e)*(g.width+2))-5),r.setY(ca(0,aa(1,1-c)*(g.height+2))-5),u.setY(a*(d.height-2)-1));g.setBgColor(la.makeColorFromHSV(360*a,100,100).getHtmlHexString());f=v.getColor();w.setValue(f);k.setBgColor(f);v.redrawPalette()},redrawPalette:l.debounce(()=>
{const E=p.getSubviews();let G=E.length;for(;G;)E[--G].destroy();h.forEach(F=>{new Da(p,{bgColor:F})});b.forEach(F=>{new Da(p,{bgColor:F})})},50)}),va=E=>{E=E.split(":");return[ca(0,aa(23,parseInt(E[0]))),ca(0,aa(60,parseInt(E[1])))]},Ea=E=>{E.deselectAll();E=E.getSubviews();let G=E.length;for(;G;)E[--G].destroy()},Fa=new ba("SelectableBtn",ia,{include:[l.Selectable],setSelected:function(E){this.callSuper(E);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),
this.setTextColor("#fff")):this.setTextColor()}}),La=new ba("TimeBtn",Fa,{initNode:function(E,G){G.width=z?175:49;this.callSuper(E,G)},doActivated:function(){this.callSuper();const E=this.text,G=va(E);Z.selectById(E);I.setHours(G[0]);I.setMinutes(G[1])}}),Ma=new ba("DayBtn",Fa,{initNode:function(E,G){G.width=23;G.border=ta;this.callSuper(E,G)},setData:function(E){this.data=E},setIsAnotherMonth:function(E){this.isAnotherMonth=E},setIsToday:function(E){this.isToday=E},setIsSunday:function(E){this.isSunday=
E},setIsSaturday:function(E){this.isSaturday=E},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const E=new Date(this.data);E.setHours(I.getHours());E.setMinutes(I.getMinutes());ka(E)}}),ka=E=>{E.setSeconds(0);E.setMilliseconds(0);var G=6>=D.length,F;if(G)for(F=7;F--&&!D.includes(E.getDay());)E.setDate(E.getDate()+
1);I=E;const L=Z.getODE().scrollTop;var K=new Date,M=K.getFullYear();F=K.getMonth();var P=K.getDate();K.getHours();K.getMinutes();var N=E.getFullYear(),R=E.getMonth();const ma=E.getDate();var fa=E.getTime();K=E.getHours();E=E.getMinutes();const na=(new Date(N,R,1)).getDay()-B,oa=(new Date(N,R+1,0)).getDate(),wa=(new Date(N,R,0)).getDate(),pa=new Date(N,R,0),qa=new Date(N,R+2,0),Na=M==N&&F==R;if(!z){Ea(Q);F=new Date(fa);const Ga=7+B;M=x.days;O.setText(N+" "+x.sep+" "+x.months[R]);F.setMinutes(59);
F.setHours(23);F.setSeconds(59);F.setDate(0);J.setVisible(null==t||t<F.getTime());F.setMinutes(0);F.setHours(0);F.setSeconds(0);F.setDate(1);F.setMonth(R+1);W.setVisible(null==m||m>F.getTime());for(F=0;7>F;F++)new ha(Q,{width:23,height:20,textAlign:"center",text:M[(F+Ga)%7],textColor:"#999"});F=0;let Ha=42;0>na&&(F=-7,Ha=35);M=new Date(fa);M.setHours(0);M.setMinutes(0);for(M.setSeconds(0);F<Ha;F++){var U=F+1-na;const xa=(F+Ga)%7,V=new Ma(Q);na>F?(V.setText(wa+U),V.setData(pa.getFullYear()+"/"+(pa.getMonth()+
1)+"/"+(wa+U)),V.setIsAnotherMonth(!0),M.setDate(wa+U),M.setMonth(pa.getMonth()),M.setYear(pa.getFullYear())):F<na+oa?(V.setText(U),V.setData(N+"/"+(R+1)+"/"+U),M.setDate(U),M.setMonth(R),M.setYear(N)):(V.setText(U-oa),V.setData(qa.getFullYear()+"/"+(qa.getMonth()+1)+"/"+(U-oa)),V.setIsAnotherMonth(!0),M.setDate(U-oa),M.setMonth(qa.getMonth()),M.setYear(qa.getFullYear()));G&&!D.includes(xa)?V.setDisabled(!0):(0===xa?V.setIsSunday(!0):6===xa&&V.setIsSaturday(!0),U===ma&&(Q.select(V),V.focus()),Na&&
U===P&&V.setIsToday(!0),U=new Date(M.getTime()),U.setHours(23),U.setMinutes(59),U.setSeconds(59),(null!=t&&t>U.getTime()||null!=m&&m<M.getTime())&&V.setDisabled(!0));V.updateUI()}}if(!C){G=60*A[0]+A[1];Ea(Z);P=y[0];N=y[1];for(M=new Date(fa);60*P+N<G;)fa=new La(Z,{text:("0"+P).slice(-2)+":"+("0"+N).slice(-2)}),P===K&&N===E&&Z.select(fa),M.setHours(P),M.setMinutes(N),R=M.getTime(),(null!=t&&t>R||null!=m&&m<R)&&fa.setDisabled(!0),N+=H,60<=N&&(N-=60,P++);Z.scrollYTo(L)}},Oa=l.DatePicker=new ba("DatePicker",
S,{initNode:function(E,G){const F=da({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},G.opt);delete G.opt;this.callSuper(E,G);x=F.locales[F.locale||"en"];C=F.dateOnly;z=F.timeOnly;B=F.firstDayOfWeek;H=ca(5,aa(30,F.minuteInterval));D=F.allowedDays;Array.isArray(D)&&0!==D.length||(D=[0,1,2,3,4,5,6]);t=Date.parse(F.minDate);t=isNaN(t)?null:t;m=Date.parse(F.maxDate);
m=isNaN(m)?null:m;y=va(F.minTime);A=va(F.maxTime);E=new S(this,{visible:!z});F.showTodayButton&&new ia(E,{width:24,text:ja(["home"]),tooltip:x.today},[{doActivated:()=>{ka(new Date)}}]);J=new ia(E,{width:24,x:28,text:ja(["chevron-left"]),tooltip:x.prevMonth},[{doActivated:()=>{const L=(new Date(I.getFullYear(),I.getMonth(),0)).getDate();L<I.getDate()&&I.setDate(L);I.setMonth(I.getMonth()-1);ka(I);J.focus()}}]);O=new ha(E,{width:100,x:52,textAlign:"center"});W=new ia(E,{width:24,x:152,text:ja(["chevron-right"]),
tooltip:x.nextMonth},[{doActivated:()=>{var L=(new Date(I.getFullYear(),I.getMonth()+1,0)).getDate();L<I.getDate()&&I.setDate(L);L=(new Date(I.getFullYear(),I.getMonth()+2,0)).getDate();L<I.getDate()&&I.setDate(L);I.setMonth(I.getMonth()+1);ka(I);W.focus()}}]);Q=new S(this,{y:25,width:175,height:175,visible:!z,maxSelected:1,itemSelectionId:"data"},[za]);new l.WrappingLayout(Q,{spacing:2,lineInset:2,lineSpacing:3});Z=new S(this,{x:z?0:195,y:z?0:25,width:(z?175:49)+l.DomElementProxy.getScrollbarSize(),
height:z?200:175,overflow:"autoy",visible:!C,maxSelected:1,itemSelectionId:"text"},[za]);new ya(Z,{axis:"y",inset:1,spacing:3});this.setWidth(Z.visible?Z.x+Z.width:Q.width);ka(F.current||new Date)},getPickedDate:()=>I}),T=l.Dialog=new ba("Dialog",X,{extend:{RADIUS:12,BUTTON_CLASS:Ia,SHADOW:[0,4,20,"#666"],BORDER:ta,BGCOLOR:"#fff",WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},
CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",
today:"Today"}},locale:"en"}},initNode:function(E,G){Y(G,"buttonClass",T.BUTTON_CLASS);this.callSuper(E,G);E=this.content;E.setRoundedCorners(T.RADIUS);E.setBgColor(T.BGCOLOR);E.setBoxShadow(T.SHADOW);E.setBorder(T.BORDER);E.setFocusCage(!0);this.makeCloseButton(E)},setButtonClass:function(E){this.buttonClass=E},setCallbackFunction:function(E){this.callbackFunction=E},makeButton:function(E,G){const F=this;return new F.buttonClass(E,G,[{doActivated:function(){F.doCallback(this)}}])},makeCloseButton:function(E){return this.makeButton(E,
{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:ja(["times"]),tooltip:"Close Dialog."})},hide:function(E){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(E)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const E=this.content,G=E.sizeToChildren,F=E.getSubviews();let L=
F.length;for(;L;){const K=F[--L];"closeBtn"!==K.name&&K.destroy()}E.setVisible(!0);this.overlay.setBgColor(l.Dimmer.COLOR);this.setCallbackFunction();G.setPaddingY(X.PADDING_Y);G.setPaddingX(X.PADDING_X);E.setRoundedCorners(T.RADIUS);E.setBgColor(T.BGCOLOR);E.setBoxShadow(T.SHADOW);E.setBorder(T.BORDER)},doCallback:function(E){const G=this.callbackFunction;G&&G.call(this,E.name)||this.hide()},showBlank:function(E){this.destroyContent();this.content.setVisible(!1);E&&E.bgColor&&this.overlay.setBgColor(E.bgColor);
this.show()},showMessage:function(E,G,F){const L=this.content,K=L.closeBtn;F=da({},T.WRAP_TEXT_DEFAULTS,F);this.destroyContent();this.setCallbackFunction(G);E=new ha(L,{name:"msg",text:E,whiteSpace:F.whiteSpace,wordWrap:F.wordWrap,fontWeight:F.fontWeight,x:null==F.msgX?X.PADDING_X:F.msgX,y:null==F.msgY?X.PADDING_Y:F.msgY,width:F.width});F.titleText&&(this.setupTitle(L,F.titleText),E.setY(E.y+24));this.show();!1===F.showClose?K.setVisible(!1):(K.setVisible(!0),K.focus())},showSimple:function(E,G,F,
L){F=F||{};const K=this.content,M=K.closeBtn,P=F.maxContainerHeight;this.destroyContent();F.bgColor&&K.setBgColor(F.bgColor);F.roundedCorners&&K.setRoundedCorners(F.roundedCorners);F.boxShadow&&K.setBoxShadow(F.boxShadow);F.border&&K.setBorder(F.border);K.sizeToChildren.setPaddingX(1);this.setCallbackFunction(G);G=new S(K,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(N){N>P&&(N=P);this.callSuper(N)}}]);E.call(this,G);new ra(G,{axis:"both"});this.show();M.setVisible(!0);M.focus();
F.titleText&&(this.setupTitle(K,F.titleText),G.setY(this.header.height+1));G.initialFocus&&G.initialFocus.focus();L&&L(this)},showConfirm:function(E,G,F){F=da({},T.CONFIRM_DEFAULTS,F);this.showMessage(E,G,F);this.setupFooterButtons(this.content.msg,F)},showContentConfirm:function(E,G,F,L){F=da({},T.CONFIRM_DEFAULTS,F);const K=this.content,M=K.closeBtn,P=F.maxContainerHeight;this.destroyContent();K.sizeToChildren.setPaddingX(1);this.setCallbackFunction(G);G=new S(K,{name:"contentContainer",x:1,y:25,
overflow:"auto"},[{setHeight:function(N){this.callSuper(N>P?P:N)}}]);E.call(this,G);new ra(G,{axis:"both"});this.show();M.setVisible(!0);M.focus();this.setupTitle(K,F.titleText);G.setY(this.header.height+1);this.setupFooterButtons(G,F);G.initialFocus&&G.initialFocus.focus();L&&L(this)},showSpinner:function(E,G){const F=this.content;G=da({},T.NO_WRAP_TEXT_DEFAULTS,G);this.destroyContent();const L=this.spinner=new l.Spinner(F,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==G.msgY?X.PADDING_Y:
G.msgY});E&&new ha(F,{text:E,whiteSpace:G.whiteSpace,wordWrap:G.wordWrap,fontWeight:G.fontWeight,x:null==G.msgX?X.PADDING_X:G.msgX,y:L.y+L.size+X.PADDING_Y,width:G.width});this.show();F.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(E,G){const F=this,L=F.content,K=L.closeBtn;G=da({},T.COLOR_PICKER_DEFAULTS,G);F.destroyContent();F.setCallbackFunction(P=>{switch(P){case "closeBtn":case "cancelBtn":E.call(F,P);break;case "confirmBtn":const N=M.getColor();M.addToPalette(N);E.call(F,P,
N)}M.destroy()});const M=new Ka(L,{x:X.PADDING_X,y:X.PADDING_Y+24,width:337,height:177,color:G.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});F.show();K.setVisible(!0);K.focus();F.setupFooterButtons(M,G);F.setupTitle(L,G.titleText)},showDatePicker:function(E,G){const F=this,L=F.content,K=L.closeBtn;G=da({},T.DATE_PICKER_DEFAULTS,G);F.destroyContent();F.setCallbackFunction(P=>{switch(P){case "closeBtn":case "cancelBtn":E.call(F,P);break;
case "confirmBtn":E.call(F,P,M.getPickedDate())}M.destroy()});const M=new Oa(L,{x:X.PADDING_X,y:X.PADDING_Y+24,height:195,opt:{current:new Date(G.initialDate||Date.now()),dateOnly:G.dateOnly||!1,timeOnly:G.timeOnly||!1,locales:G.locales,locale:G.locale}});F.show();K.setVisible(!0);K.focus();F.setupFooterButtons(M,G);F.setupTitle(L,G.timeOnly?G.timeOnlyTitleText:G.titleText)},setupTitle:function(E,G){const F=T.RADIUS;(this.header=new S(E,{ignoreLayout:!0,width:E.width,height:24,bgColor:"#eee",roundedTopLeftCorner:F,
roundedTopRightCorner:F})).sendToBack();new ha(E,{name:"title",x:F,y:4,text:G,fontWeight:"bold"})},setupFooterButtons:function(E,G){const F=this,L=F.content;var K=X.PADDING_Y,M=K/2;const P=new S(L,{name:"btnContainer",y:E.y+E.height+K,align:"center"});K=["active","hover","ready","text"];let N=G.cancelAttrs||{};Y(N,"name","cancelBtn");Y(N,"text",G.cancelTxt);K.forEach(R=>{R+="Color";null!=G[R]&&(N[R]=G[R])});E=F.makeButton(P,N);N=G.confirmAttrs||{};Y(N,"name","confirmBtn");Y(N,"text",G.confirmTxt);
K.forEach(R=>{R+="Color";const ma=R+"Confirm";null!=G[ma]&&(N[R]=G[ma])});F.makeButton(P,N);(G.buttons||[]).forEach(R=>{F.makeButton(P,R)});new ra(P,{axis:"y"});new ya(P,{spacing:4,collapseParent:!0});L.sizeToChildren.setPaddingY(M);K=T.RADIUS;M=P.y-M;(new S(L,{ignoreLayout:!0,y:M,width:L.width,height:L.height-M,bgColor:"#eee",roundedBottomLeftCorner:K,roundedBottomRightCorner:K})).sendToBack();!1===G.showClose&&E.focus()}})})(myt);
(l=>{const v=JS.Class,q={},n=(p,g)=>{if(p){const r=p.id;p.id?g(r):l.dumpStack("No ID")}else l.dumpStack("No validator")},f=p=>{n(p,g=>{q[g]=p})},a=l.Validator=new v("Validator",{initialize:function(p){this.id=p},isValid:(p,g,r)=>!0,isFormValid:function(p,g,r){g||={};g.form=p;return this.isValid(p.getValue(),g,r)}}),e=l.RequiredFieldValidator=new v("RequiredFieldValidator",a,{isValid:function(p,g,r){return null==p||""===p||"string"===typeof p&&""===p.trim()?(r&&r.push("This value is required."),!1):
!0}}),c=l.EqualsIgnoreCaseValidator=new v("EqualsIgnoreCaseValidator",a,{isValid:function(p,g,r){g=g.form.getRollbackValue();return p&&g&&p.toLowerCase()===g.toLowerCase()?(r&&r.push("Value must differ by more than just case."),!1):!0}}),b=l.URLValidator=new v("URLValidator",a,{initialize:function(p,g){this.callSuper(p);this.originalRawQuery=g},isValid:function(p,g,r){return(new l.URI(p)).toString(this.originalRawQuery)!==p?(r&&r.push("Invalid URL."),!1):!0}}),h=l.JSONValidator=new v("JSONValidator",
a,{isValid:function(p,g,r){try{return JSON.parse(p),!0}catch(d){return r&&r.push(d),!1}}});l.EqualFieldsValidator=new v("EqualFieldsValidator",a,{initialize:function(p,g,r){this.callSuper(p);this.fieldA=g;this.fieldB=r},isValid:function(p,g,r){if(p&&this.fieldA.getValue()===this.fieldB.getValue())return!0;r&&r.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});l.LengthValidator=new v("LengthValidator",a,{initialize:function(p,g,r){this.callSuper(p);this.min=
g;this.max=r},isValid:function(p,g,r){p=p?p.length:0;g=this.min;const d=this.max;return void 0!==g&&g>p?(r&&r.push("Value must not be less than "+g+"."),!1):void 0!==d&&d<p?(r&&r.push("Value must not be greater than "+d+"."),!1):!0}});l.NumericRangeValidator=new v("NumericRangeValidator",a,{initialize:function(p,g,r){this.callSuper(p);this.min=g;this.max=r},isValid:function(p,g,r){if(""===p)return!0;p=Number(p);g=this.min;const d=this.max;return isNaN(p)?(r&&r.push("Value is not a number."),!1):void 0!==
g&&g>p?(r&&r.push("Value must not be less than "+g+"."),!1):void 0!==d&&d<p?(r&&r.push("Value must not be greater than "+d+"."),!1):!0}});l.CompoundValidator=new v("CompoundValidator",a,{initialize:function(p,...g){this.callSuper(p);p=g.length;let r;for(;p;)r=g[--p],"string"===typeof r&&((g[p]=r=q[r])||g.splice(p,1));this.__v=g},addValidator:function(p){"string"===typeof p&&(p=q[p]);p&&this.__v.push(p)},isValid:function(p,g,r){const d=this.__v,u=d.length;let w=!0,k=0;for(;u>k;)w=d[k++].isValid(p,
g,r)&&w;return w}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){f(new e("required"));f(new c("equalsIgnoreCase"));f(new b("url"));f(new h("json"));l.global.register("validators",this)},getValidator:p=>q[p],register:f,unregister:p=>{n(p,g=>{q[g]&&delete q[g]})}})})(myt);
(l=>{const v=JS.Class,q=Math.min,n=Math.max,f=l.View,a=l.AccessorSupport.defAttr,e=new v("SliderThumb",l.SimpleButton,{include:[l.Draggable],initNode:function(b,h){const p=h.width=b.thumbWidth,g=h.height=b.thumbHeight;h.roundedCorners=q(g,p)/2;h.repeatKeyDown=!0;h.activationKeys=[37,38,39,40];h.activeColor="#bbb";h.readyColor="#ccc";h.hoverColor="#ddd";h.boxShadow=[0,0,4,"#666"];this.callSuper(b,h);this["x"===b.axis?"setY":"setX"](b.thumbOffset);this.syncTo(b,"setDisabled","disabled");b._syncThumbToValue(this,
b.getValue())},setDisabled:function(b){this.callSuper(this.valueFromEvent(b))},setFocused:function(b){this.callSuper(b);b&&this.makeHighestZIndex()},setX:function(b){this.x!==b&&(this.callSuper(b),b=this.parent,"x"===b.axis&&b.syncValueToThumb(this))},setY:function(b){this.y!==b&&(this.callSuper(b),b=this.parent,"y"===b.axis&&b.syncValueToThumb(this))},requestDragPosition:function(b,h){if(!this.disabled){var p=this.parent;const g=p.getMinPixelValueForThumb(this),r=p.getMaxPixelValueForThumb(this);
"x"===p.axis?(p=this.width/2,h="setX"):(p=this.height/2,b=h,h="setY");this[h](q(n(b,g-p),r-p))}},doActivationKeyDown:function(b,h){const p=this.parent;switch(b){case 37:p.nudgeValueLeft(this);break;case 38:p.nudgeValueUp(this);break;case 39:p.nudgeValueRight(this);break;case 40:p.nudgeValueDown(this)}this.callSuper(b,h)}}),c=l.BaseSlider=new v("BaseSlider",f,{include:[l.Disableable],initNode:function(b,h){a(h,"axis","x");"x"===h.axis?(a(h,"width",100),a(h,"height",18)):(a(h,"width",18),a(h,"height",
100));a(h,"bgColor","#999");a(h,"roundedCorners",9);a(h,"trackInset",9);a(h,"trackOutset",9);a(h,"thumbWidth",16);a(h,"thumbHeight",16);a(h,"thumbOffset",1);a(h,"nudgeAmount",1);this.callSuper(b,h)},setAxis:function(b){this.axis=b},setTrackInset:function(b){this.trackInset=b},setTrackOutset:function(b){this.trackOutset=b},setThumbWidth:function(b){this.thumbWidth=b},setThumbHeight:function(b){this.thumbHeight=b},setThumbOffset:function(b){this.thumbOffset=b},setNudgeAmount:function(b){this.nudgeAmount=
b},convertValueToPixels:function(b){const h=this.minValue,p=this.trackInset;return p+(("x"===this.axis?this.width:this.height)-p-this.trackOutset)/(this.maxValue-h)*(b-h)},convertPixelsToValue:function(b){const h=this.minValue,p=this.trackInset;return(this.maxValue-h)/(("x"===this.axis?this.width:this.height)-p-this.trackOutset)*(b-p)+h},nudgeValueLeft:function(b){this._nudge(b,!1)},nudgeValueUp:function(b){this._nudge(b,!1)},nudgeValueRight:function(b){this._nudge(b,!0)},nudgeValueDown:function(b){this._nudge(b,
!0)},_nudge:(b,h)=>{},_syncThumbToValue:function(b,h){h=this.convertValueToPixels(h);"x"===this.axis?b.setX(h-b.width/2):b.setY(h-b.height/2)},syncValueToThumb:function(b){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(b,this.convertPixelsToValue("x"===this.axis?b.x+b.width/2:b.y+b.height/2)),this.__lockSync=!1)},_syncValueToThumb:(b,h)=>{},getMinPixelValueForThumb:function(b){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels(this.maxValue)}});
l.RangeSlider=new v("RangeSlider",c,{include:[l.BoundedRangeComponent],initNode:function(b,h){this.callSuper(b,h);b=new f(this,{name:"rangeFill",bgColor:"#666"});"x"===this.axis?(b.setY(this.thumbOffset),b.setHeight(this.thumbHeight),b.setRoundedCorners(this.thumbHeight/2)):(b.setX(this.thumbOffset),b.setWidth(this.thumbWidth),b.setRoundedCorners(this.thumbWidth/2));new e(this,{name:"thumbLower"});new e(this,{name:"thumbUpper"});this._syncRangeFillToValue()},setValue:function(b){this.callSuper(b);
this.inited&&(this.__lockSync||(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b)),this._syncRangeFillToValue())},setWidth:function(b,h){const p=this.width;this.callSuper(b,h);this.inited&&"x"===this.axis&&this.width!==p&&(b=this.getValue(),this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},setHeight:function(b,h){const p=this.height;this.callSuper(b,h);this.inited&&"y"===this.axis&&this.height!==p&&(b=this.getValue(),
this._syncThumbToValue(this.thumbLower,b),this._syncThumbToValue(this.thumbUpper,b))},_syncRangeFillToValue:function(){const b=this.rangeFill;var h=this.getValue();const p=this.convertValueToPixels(h.lower);h=this.convertValueToPixels(h.upper)-p;"x"===this.axis?(b.setX(p),b.setWidth(h)):(b.setY(p),b.setHeight(h))},_syncThumbToValue:function(b,h){this.callSuper(b,"thumbLower"===b.name?h.lower:h.upper)},_syncValueToThumb:function(b,h){let p=this.getValueCopy();p["thumbLower"===b.name?"lower":"upper"]=
h;this.setValue(p);p=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,p);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,p)},_nudge:function(b,h){const p=this.getValueCopy();h=this.nudgeAmount*(h?1:-1);"thumbLower"===b.name?p.lower=q(p.lower+h,p.upper):p.upper=n(p.upper+h,p.lower);this.setValue(p)},getMinPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===b.name?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(b){return this.convertValueToPixels("thumbLower"===
b.name?this.getValue().upper:this.maxValue)}});l.Slider=new v("Slider",c,{include:[l.BoundedValueComponent],initNode:function(b,h){this.callSuper(b,h);new e(this,{name:"thumb"})},setValue:function(b){this.callSuper(b);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(b,h){const p=this.width;this.callSuper(b,h);this.inited&&"x"===this.axis&&this.width!==p&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(b,h){const p=this.height;
this.callSuper(b,h);this.inited&&"y"===this.axis&&this.height!==p&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(b,h){this.setValue(h);this._syncThumbToValue(b,this.getValue())},_nudge:function(b,h){this.setValue(this.getValue()+this.nudgeAmount*(h?1:-1))}})})(myt);
(l=>{const v=JS.Class,q=l.AccessorSupport.defAttr,n=a=>{const e="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,e,a.parent,e])},f=new v("BaseDivider",l.SimpleButton,{include:[l.BoundedValueComponent,l.Draggable],initNode:function(a,e){q(e,"activeColor","#bbb");q(e,"hoverColor","#ddd");q(e,"readyColor","#ccc");q(e,"axis","x");q(e,"minValue",0);q(e,"value",e.minValue);q(e,"expansionState",2);q(e,"focusIndicator",!1);q(e,"repeatKeyDown",!0);q(e,"activationKeys",[37,38,
39,40,13,32]);"y"===e.axis?(q(e,"height",6),q(e,"cursor","row-resize")):(q(e,"width",6),q(e,"cursor","col-resize"));this.quickSet(["axis"],e);this.__nudgeAcc=1;this.callSuper(a,e);null==e.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&n(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=
a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):n(this)))},setAxis:function(a){this.inited?console.warn("Axis not updatable after instantiation"):this.axis=a},setValue:function(a,e){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);e&&this.setRestoreValue(a)},__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,e){this.callSuper(a,
e);switch(a){case 37:case 38:a=-1;break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=e?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const a=this.restoreValue,e=this.maxValue,c=this.minValue;let b;switch(this.expansionState){case 0:null!=a&&(this.setExpansionState(1),a===c?a!==e&&this.doPrimaryAction():b=a);break;case 1:null!=e&&(this.setExpansionState(3),this.value===e?this.doPrimaryAction():
b=e);break;case 2:null!=c&&(this.setExpansionState(0),this.value===c?this.doPrimaryAction():b=c);break;case 3:null!=a&&(this.setExpansionState(2),a===e?this.doPrimaryAction():b=a)}null!=b&&(this.stopActiveAnimators("value"),this.animateOnce("value",b,null,250))},requestDragPosition:function(a,e){this.disabled||(this.setValue("y"===this.axis?e:a,!0),this.setExpansionState(2))}});l.HorizontalDivider=new v("HorizontalDivider",f,{initNode:function(a,e){e.axis="x";this.callSuper(a,e)}});l.VerticalDivider=
new v("VerticalDivider",f,{initNode:function(a,e){e.axis="y";this.callSuper(a,e)}})})(myt);
(l=>{let v=0;const q=JS.Class,n=JS.Module,f=Math.min,a=Math.max,e=l.View,c=l.AccessorSupport.defAttr,b=m=>{const y=m.columnHeaders;var A=m.sort;const H=A?A[0]:"";A=A?A[1]:"";let I=y.length;for(;I;){const J=y[--I];J.columnId===H?J.sortable&&J.setSortState(A):J.setSortState("none")}m.locked||m.doSort()},h=(m,y,A,H)=>{if(0!==y){const O=0<y,W=[];for(var I=m.length,J;I;)J=m[--I],J.resizable&&(A?0<J.flex:0===J.flex)&&W.push({hdr:J,limit:(O?J.maxValue:J.minValue)-J.value,amt:0});m=W.length;if(0<m){for(I=
0;0!==y;){v>=m&&(I=v=0);const Q=W[v];J=Q.hdr;Q.full?++I:(O?(J=f(A?J.flex:1,y),Q.amt+J>Q.limit&&(J=Q.limit-Q.amt,Q.full=!0)):(J=a(A?-J.flex:-1,y),Q.amt+J<Q.limit&&(J=Q.limit-Q.amt,Q.full=!0)),Q.amt+=J,y-=J);if(I===m)break;++v}W.forEach(Q=>{Q.hdr.setValue(Q.hdr.value+Q.amt)});H&&H(y)}}},p=m=>(m=m.gridController?m.gridController.getPrevHdr(m):null)?m.maxValue-m.value+p(m):0,g=m=>(m=m.gridController?m.gridController.getNextHdr(m):null)?m.maxValue-m.value+g(m):0,r=m=>(m=m.gridController?m.gridController.getPrevHdr(m):
null)?m.minValue-m.value+r(m):0,d=m=>(m=m.gridController?m.gridController.getNextHdr(m):null)?m.minValue-m.value+d(m):0,u=(m,y)=>{m=m.gridController?m.gridController.getPrevHdr(m):null;var A=0;if(m){A=m.value+y;m.resizable&&m.setValue(A);const H=A-m.value;A=y-H;0>H&&(A+=u(m,H))}return A},w=(m,y)=>{m=m.gridController?m.gridController.getPrevHdr(m):null;var A=0;if(m){A=m.value+y;m.resizable&&m.setValue(A);const H=A-m.value;A=y-H;0<H&&(A+=w(m,H))}return A},k=(m,y)=>{if(m=m.gridController?m.gridController.getNextHdr(m):
null)y=m.value+y,m.resizable&&m.setValue(y),y-=m.value,0>y&&k(m,y)},x=(m,y)=>{if(m=m.gridController?m.gridController.getNextHdr(m):null)y=m.value+y,m.resizable&&m.setValue(y),y-=m.value,0<y&&x(m,y)},C=m=>{let y="";if(m.sortable)switch(m.sortState){case "ascending":y="chevron-up";break;case "descending":y="chevron-down"}m.sortIcon.setIcon(y)},z=m=>{const y=m.textView;y&&y.setWidth(m.width-m.outset-y.x)},B=l.GridController=new n("GridController",{initNode:function(m,y){this.columnHeaders=[];this.rows=
[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(m,y);this.fitHeadersToWidth();b(this)},setMaxWidth:function(m){this.set("maxWidth",m,!0)},setMinWidth:function(m){this.set("minWidth",m,!0)},setFitToWidth:function(m){this.fitToWidth=m},setSort:function(m){l.areArraysEqual(m,this.sort)||(this.sort=m,this.inited&&(this.fireEvent("sort",m),b(this)))},setLastColumn:function(m){const y=this.lastColumn;y!==m&&(y&&y.setLast(!1),(this.lastColumn=m)&&m.setLast(!0))},
setLocked:function(m){this.locked=m;this.inited&&!m&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(y=>{this.notifyHdrXChange(y);this.notifyHdrWidthChange(y);this.notifyHdrVisibilityChange(y)}),this.doSort())},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(m){m=this.valueFromEvent(m);this.gridWidth!==m&&(this.gridWidth=m,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevHdr:function(m){const y=
this.columnHeaders;m=this.getHdrIndex(m);if(0<m)for(;m;){const A=y[--m];if(A.visible)return A}},getNextHdr:function(m){const y=this.columnHeaders,A=y.length;m=this.getHdrIndex(m)+1;if(0<m&&m<A)for(;A>m;){const H=y[m++];if(H.visible)return H}},hasHdr:function(m){return 0<=this.getHdrIndex(m)},getHdrIndex:function(m){return this.columnHeaders.indexOf(m)},getHdrById:function(m){const y=this.columnHeaders;let A=y.length;for(;A;){const H=y[--A];if(H.columnId===m)return H}},getVisibleHdrs:function(){return this.columnHeaders.filter(m=>
m.visible)},notifyAddHdr:function(m){this.hasHdr(m)||(this.columnHeaders.push(m),m.visible&&this.setLastColumn(m),this.fixupResizerCursors())},notifyRemoveHdr:function(m){const y=this.getHdrIndex(m);0<=y&&(this.columnHeaders.splice(y,1),m.visible&&m.last&&this.setLastColumn(this.getPrevHdr(m)),this.fixupResizerCursors())},notifyHdrXChange:function(m){this.isLocked()||this.rows.forEach(y=>{y.notifyHdrXChange(m)})},notifyHdrWidthChange:function(m){this.isLocked()||this.rows.forEach(y=>{y.notifyHdrWidthChange(m)})},
notifyHdrVisibilityChange:function(m){if(!this.isLocked()){this.updateRowsForVisibilityChange(m);var y=this.setLastColumn;a:{var A=this.columnHeaders;let H=A.length;for(;H;){const I=A[--H];if(I.visible){A=I;break a}}A=void 0}y.call(this,A);y=m.visible?1:-1;this.setMaxWidth(this.maxWidth+m.maxValue*y);this.setMinWidth(this.minWidth+m.minValue*y);this.fitHeadersToWidth();this.fixupResizerCursors()}},updateRowsForVisibilityChange:function(m){this.rows.forEach(y=>{y.notifyHdrVisibilityChange(m)})},hasRow:function(m){return 0<=
this.getRowIndex(m)},getRowIndex:function(m){return this.rows.indexOf(m)},getRowById:function(m,y=A=>A.model.id===m){return this.rows.find(y)},getPrevRow:function(m){m=this.getRowIndex(m)-1;return this.rows[0>m?this.rows.length-1:m]},getNextRow:function(m){m=this.getRowIndex(m)+1;return this.rows[m<this.rows.length?m:0]},notifyAddRow:function(m,y){if(!this.hasRow(m)&&(this.rows.push(m),!this.locked)){const A=this.width;this.columnHeaders.forEach(H=>{m.setWidth(A);m.notifyHdrXChange(H);m.notifyHdrWidthChange(H);
m.notifyHdrVisibilityChange(H)});y||this.doSort()}},notifyRemoveRow:function(m){m=this.getRowIndex(m);0<=m&&this.rows.splice(m,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const m=this.getVisibleHdrs();let y=0;m.forEach(A=>{y=a(y,A.x+A.width)});h(m,this.gridWidth-y,!0,A=>{h(m,A,!1,null)})}},fixupResizerCursors:function(){const m=this.getVisibleHdrs();let y=!0,A=0;m.forEach((O,W)=>{y&&O.isFixed()?O.setResizerCursor("",!0):(y&&(A=W),y=!1,O.restoreResizerCursor())});let H=!0,I=
m.length,J=I-1;for(;I>A;){const O=m[--I];H?O.setResizerCursor("",!0):O.restoreResizerCursor();O.isFixed()||(H&&(J=I),H=!1)}A===J&&m[A].setResizerCursor("",!0)}}),D=l.GridColHdr=new n("GridColHdr",{include:[l.BoundedValueComponent],initNode:function(m,y){const A=this;c(y,"resizerCursor","col-resize");let H=y.resizerCursor;delete y.resizerCursor;c(y,"minValue",16);c(y,"maxValue",9999);c(y,"value",y.minValue);c(y,"resizable",!0);c(y,"flex",0);c(y,"cellXAdj",0);c(y,"cellWidthAdj",0);c(y,"sortable",!0);
c(y,"sortState","none");c(y,"placement","*");A.callSuper(m,y);const I=A.gridController;A.resizer=new e(A,{cursor:H,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[l.SizeToParent,l.Draggable,{requestDragPosition:function(J,O){O=J-this.x;if(I.fitToWidth&&(0<O?O=f(O,f(-d(A),A.maxValue-A.value+p(A))):0>O&&(O=a(O,a(-g(A),A.minValue-A.value+r(A)))),0===O))return;J=A.value+O;A.resizable&&A.setValue(J);J-=A.value;O=J-O;let W=0;0>J?W=u(A,J):0<J&&(W=w(A,J));
this.dragInitX+=W;O-=W;I.fitToWidth&&(0>O?k(A,O):0<O&&x(A,O))}}]);I&&(I.notifyAddHdr(A),I.notifyHdrXChange(A),I.notifyHdrVisibilityChange(A));A.setWidth(A.value);A.resizer.setVisible(!(A.last&&A.gridController.fitToWidth))},destroy:function(m){this.setGridController();this.callSuper(m)},setSortable:function(m){this.set("sortable",m,!0)},setSortState:function(m){this.set("sortState",m,!0)},setResizable:function(m){this.set("resizable",m,!0)},setCellWidthAdj:function(m){this.cellWidthAdj=m},setCellXAdj:function(m){this.cellXAdj=
m},setFlex:function(m){this.flex=m},setColumnId:function(m){this.columnId=m},setResizerCursor:function(m,y){const A=this.resizer,H=A.cursor;m!==H&&(y&&(this.__rrc=H),A.setCursor(m))},restoreResizerCursor:function(){const m=this.__rrc;m&&(this.setResizerCursor(m),this.__rrc=null)},isFixed:function(){return this.minValue===this.maxValue},setLast:function(m){this.last=m;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(m){const y=this.gridController;
y!==m&&(y&&y.notifyRemoveHdr(this),this.gridController=m,this.inited&&m&&(m.notifyAddHdr(this),m.notifyHdrXChange(this),m.notifyHdrWidthChange(this),m.notifyHdrVisibilityChange(this)))},setValue:function(m){this.callSuper(m);this.inited&&this.setWidth(this.value)},setMinValue:function(m){const y=this.minValue||0,A=this.gridController;this.callSuper(m);A&&this.inited&&y!==this.minValue&&A.setMinWidth(A.minWidth+this.minValue-y)},setMaxValue:function(m){const y=this.maxValue||0,A=this.gridController;
null==m&&(m=9999);this.callSuper(m);A&&this.inited&&y!==this.maxValue&&A.setMaxWidth(A.maxWidth+this.maxValue-y)},setWidth:function(m,y){const A=this.width,H=this.gridController;this.callSuper(m,y);H&&this.inited&&A!==this.width&&H.notifyHdrWidthChange(this)},setX:function(m){const y=this.x,A=this.gridController;this.callSuper(m);A&&this.inited&&y!==this.x&&A.notifyHdrXChange(this)},setVisible:function(m){const y=this.visible,A=this.gridController;this.callSuper(m);this.inited&&A&&y!==this.visible&&
A.notifyHdrVisibilityChange(this)}}),t=l.GridRow=new n("GridRow",{initNode:function(m,y){c(y,"placement","*");this.callSuper(m,y);(m=this.gridController)&&m.notifyAddRow(this)},destroy:function(m){this.setGridController();this.callSuper(m)},setGridController:function(m){const y=this.gridController;y!==m&&(y&&y.notifyRemoveRow(this),this.gridController=m,this.inited&&m&&m.notifyAddRow(this))},notifyHdrXChange:function(m){const y=this[m.columnId+"View"];y&&y.setX(m.x+m.cellXAdj)},notifyHdrWidthChange:function(m){const y=
this[m.columnId+"View"];y&&y.setWidth(m.width+m.cellWidthAdj)},notifyHdrVisibilityChange:function(m){const y=this[m.columnId+"View"];y&&y.setVisible(m.visible)}});l.Grid=new q("Grid",e,{include:[B],initNode:function(m,y){const A=l.SpacedLayout;c(y,"overflow","autox");c(y,"bgColor","#ccc");c(y,"rowSpacing",1);c(y,"columnSpacing",1);var H=y.isAutoScrolling;delete y.isAutoScrolling;this.callSuper(m,y);m=new e(this,{name:"header",overflow:"hidden"});new A(m,{name:"xLayout",locked:!0,collapseParent:!0,
spacing:this.columnSpacing});new l.SizeToChildren(m,{name:"yLayout",locked:!0,axis:"y"});y=this.sizeHeightToRows;H=new e(this,{name:"content",overflow:y?"hidden":"autoy"},H?[l.AutoScroller]:[]);new A(H,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:y});this.syncTo(this,"setGridWidth","width");this.syncTo(m,"_updateContentWidth","width");this.constrain("_updateContentHeight",[y?H:this,"height",m,"height",m,"y"])},setSizeHeightToRows:function(m){this.sizeHeightToRows=m},setRowSpacing:function(m){this.rowSpacing!==
m&&(this.rowSpacing=m,this.inited&&this.content.yLayout.setSpacing(m))},setColumnSpacing:function(m){this.columnSpacing!==m&&(this.columnSpacing=m,this.inited&&this.header.xLayout.setSpacing(m))},setLocked:function(m){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(y=>{m?y.incrementLockedCounter():(y.decrementLockedCounter(),y.update())});this.callSuper(m)},_updateContentWidth:function(m){const y=this.content,A=m.value;y.setWidth(A);y.getSubviews().forEach(H=>{H.setWidth(A)})},
_updateContentHeight:function(m){var y=this.header;m=this.content;y=y.y+y.height;m.setY(y);this.sizeHeightToRows?this.setHeight(y+m.height):m.setHeight(this.height-y)},determinePlacement:function(m,y){if("*"===m){let A;y.isA(t)?A=this.content:y.isA(D)&&(A=this.header);if(A)return y.gridController!==this&&y.setGridController(this),A}return this.callSuper(m,y)},doSort:function(){var m=this.sort||["",""];if(m=this.getSortFunction(m[0],m[1])){const y=this.content,A=y.yLayout;this.rows.sort(m);y.sortSubviews(m);
A.sortSubviews(m);A.update()}},getSortFunction:(m,y)=>{if(m){const A="ascending"===y?1:-1,H=m+"View";return(I,J)=>{I=I[H].text;J=J[H].text;return I>J?A:J>I?-A:0}}}});l.SimpleGridColHdr=new q("SimpleGridColHdr",l.SimpleTextButton,{include:[D],initNode:function(m,y){const A=this;c(y,"activeColor","#999");c(y,"hoverColor","#bbb");c(y,"readyColor","#aaa");c(y,"inset",2);c(y,"sortIconColor","#666");c(y,"outset",2);const H=y.outset;delete y.outset;A.callSuper(m,y);new l.FontAwesome(A,{name:"sortIcon",align:"right",
alignOffset:3,valign:"middle",textColor:A.sortIconColor},[{initNode:function(I,J){this.callSuper(I,J);this.getIDS().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();A.setOutset(this.width+H);z(A)}}]);A.textView.enableEllipsis();A.setDisabled(!A.sortable);z(A);C(A)},setSortIconColor:function(m){this.sortIconColor=m;this.sortIcon&&this.sortIcon.setTextColor(m)},setSortable:function(m){this.callSuper(m);this.inited&&(m&&this.setOutset(14),this.setDisabled(!m),C(this))},setSortState:function(m){this.callSuper(m);
this.inited&&C(this)},setWidth:function(m,y){this.callSuper(m,y);this.inited&&z(this)},doActivated:function(){this.disabled||(this.setSortState("ascending"===this.sortState?"descending":"ascending"),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(l=>{const v=JS.Class,q=JS.Module,n=Math,f=n.max,a=l.View,e=l.global.focus,c=l.AccessorSupport.defAttr,b=k=>{const x=k.selectedRow;x&&(x.setSelected(!1),k.set("selectedRow",null,!0))},h=l.InfiniteListRow=new q("InfiniteListRow",{include:[l.Reusable],setInfiniteOwner:function(k){this.infiniteOwner=k},setModel:function(k){this.model=k},setClassKey:function(k){this.classKey=k},notifyRefreshed:()=>{}}),p=l.SelectableInfiniteListRow=new q("SelectableInfiniteListRow",{include:[h,l.Selectable]}),g=l.InfiniteList=
new v("InfiniteList",a,{initNode:function(k,x){let C=x.rowClasses;delete x.rowClasses;if("function"===typeof C){const z={};z["default"]=C;C=z}c(x,"modelIDName","id");c(x,"numericSort",!0);c(x,"ascendingSort",!0);c(x,"overflow","autoy");c(x,"bgColor","#ccc");c(x,"rowSpacing",1);c(x,"rowInset",0);c(x,"rowOutset",0);c(x,"rowHeight",30);c(x,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(k,x);
k=this._listView=new a(this);this._scrollAnchorView=new a(k,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(C,k);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(k,x)=>new l.TrackActivesMultiPool(k,x),setOverscrollBehavior:function(k){this.overscrollBehavior=k;this.getIDS().overscrollBehavior=k},setCollectionModel:function(k){this.collectionModel=k},setModelIDName:function(k){this.modelIDName=k},setRowSpacing:function(k){this.rowSpacing=
k;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(k){this.rowHeight=k;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(k,x){if(0<k&&(this.callSuper(k,x),this.inited)){k=this._listView;const C=this.width;k.setWidth(C);k.getSubviews().forEach(z=>{z.setWidth(C)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},
getSortFunction:function(){const k=this.modelIDName,x=this.ascendingSort;return this.numericSort?l.getNumericObjSortFunc(k,x):l.getAlphaObjSortFunc(k,x,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(k){var x=this.getIndexOfModelInData(k);if(0<=x){var C=this._rowExtent;k=this.getIDE().scrollTop;const z=k+this.height;x=this.rowInset+x*C;C=x+C;if(x<=k)return this.scrollYTo(x,!0),!0;if(C>=z)return this.scrollYTo(C-this.height,!0),!0}return!1},isModelInData:function(k){return 0<=this.getIndexOfModelInData(k)},
getNextModel:function(k,x=!0,C=!0){const z=this.getListData(),B=z.length;k=this.getIndexOfModelInData(k);if(0<=k)return k+=1,k>=B?x?z[0]:z[B-1]:z[k];if(C&&0<B)return z[B-1]},getPrevModel:function(k,x=!0,C=!0){const z=this.getListData(),B=z.length;k=this.getIndexOfModelInData(k);if(0<=k)return--k,0>k?x?z[B-1]:z[0]:z[k];if(C&&0<B)return z[0]},getIndexOfModelInData:function(k){if(k){const x=this.getListData();let C=x.length;for(;C;)if(this.areModelsEqual(x[--C],k))return C}return-1},areModelsEqual:function(k,
x){const C=this.modelIDName;return k[C]===x[C]},getActiveRowForModel:function(k){if(k){const x=this._itemPool.getActives();let C=x.length;for(;C;){const z=x[--C];if(this.areModelsEqual(z.model,k))return z}}},refreshListData:function(k,x){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(k,x)},resetListUI:function(k,x){const C=this.getListData().length,z=this._listView,B=this._scrollAnchorView;z.setHeight(C*this._rowExtent-(0<C?this.rowSpacing:
0)+this.rowInset+this.rowOutset);B.setY(z.height-B.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=x;k||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(k){var x=e.focusedView;x&&x.isDescendantOf(k)&&((x=this.getFocusTrap())?x.focus():e.clear());k.setVisible(!1);this._itemPool.putInstance(k)},refreshListUI:function(k){k=this._rowExtent;const x=this.rowInset,C=this.forceFullResetOnNextRefresh;var z=this.getIDE().scrollTop;const B=
this.getListData()||[];var D=f(0,n.floor((z-x)/k));z=n.min(B.length,n.ceil((z-x+this.height)/k));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==D||this._endIdx!==z||C){const m=this.width,y=this.rowHeight,A=this._visibleRowsByIdx;this._startIdx=D;this._endIdx=z;for(var t in A)if(t<D||t>=z)this.putRowBackInPool(A[t]),delete A[t];for(t=D;t<z;t++){D=A[t];const H=B[t],I=this.getClassKey(H);let J=!1;D&&D.classKey===I||(D&&this.putRowBackInPool(D),A[t]=D=this._itemPool.getInstance(I),
D.setInfiniteOwner(this),D.setClassKey(I),D.setWidth(m),D.setHeight(y),D.setY(x+t*k),D.setVisible(!0),J=!0);!C&&D.model&&this.areModelsEqual(D.model,H)?J&&this.updateRow(D):(D.setModel(H),this.updateRow(D));D.notifyRefreshed();D.bringToFront()}}},getClassKey:k=>"default",updateRow:k=>{}}),r=l.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",l.SimpleButton,{include:[p],initNode:function(k,x){c(x,"selectedColor","#ccf");c(x,"activeColor","#f8f8f8");c(x,"hoverColor","#eee");c(x,
"readyColor","#fff");c(x,"focusIndicator",!1);c(x,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(k,x)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(k){this.callSuper(k);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();
this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(k,x){x=this.infiniteOwner;const C=this.model;switch(k){case 27:this.selected&&x.setSelectedRow();break;case 37:case 38:x.selectPrevRowForModel(C);break;case 39:case 40:x.selectNextRowForModel(C)}},doActivationKeyUp:function(k){switch(k){case 13:case 32:this.doActivated()}}}),d=l.SelectableInfiniteList=new v("SelectableInfiniteList",g,{setSelectedRow:function(k){const x=this.selectedRow;k!==x&&(x&&x.setSelected(!1),this.setSelectedRowModel(),
this.set("selectedRow",k,!0),k&&(this.setSelectedRowModel(k.model),k.setSelected(!0)))},setSelectedRowModel:function(k){this.set("selectedRowModel",k,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(k,x,C){k&&(b(this),this.setSelectedRowModel(k),this.refreshListUI(),x&&(k=this.getActiveSelectedRow())&&k.focus())},selectNextRowForModel:function(k,x=!0){this.selectRowForModel(this.getNextModel(k),
x,!0)},selectPrevRowForModel:function(k,x=!0){this.selectRowForModel(this.getPrevModel(k),x,!1)},resetListUI:function(k,x){this.isModelInData(this.selectedRowModel)?b(this):this.setSelectedRow();this.callSuper(k,x)},putRowBackInPool:function(k){k.selected&&b(this);this.callSuper(k)},refreshListUI:function(k){k=e.focusedView;this.callSuper();const x=this.getActiveSelectedRow();x&&(this.set("selectedRow",x,!0),x.setSelected(!0),k&&k!==x||x.focus(!0))}}),u=new q("InfiniteGridRowMixin",{notifyXChange:function(k){const x=
this[k.columnId+"View"];x&&x.setX(k.x+k.cellXAdj)},notifyWidthChange:function(k){const x=this[k.columnId+"View"];x&&x.setWidth(k.width+k.cellWidthAdj)},notifyVisibilityChange:function(k){const x=this[k.columnId+"View"];x&&x.setVisible(k.visible)}}),w=new q("InfiniteGridMixin",{setGridHeader:function(k){(this.gridHeader=k)&&k.setGrid(this)},makeReady:function(k,x){const C=this.gridHeader;C?(this.forceFullResetOnNextRefresh=x,C.setSort(k),C.setLocked(!1)):this.refreshListData(!1,x)},getSortFunction:function(){var k=
this.gridHeader.sort||["",""];const x=k[0];k=k[1];return x?l.getAlphaObjSortFunc(x,"ascending"===k,!1):this.callSuper()},updateRow:function(k){this.gridHeader&&this.gridHeader.columnHeaders.forEach(x=>{k.notifyXChange(x);k.notifyWidthChange(x);k.notifyVisibilityChange(x)})},notifyXChange:function(k){this.getVisibleRows().forEach(x=>{x.notifyXChange(k)})},notifyWidthChange:function(k){this.getVisibleRows().forEach(x=>{x.notifyWidthChange(k)})},notifyVisibilityChange:function(k){this.getVisibleRows().forEach(x=>
{x.notifyVisibilityChange(k)})}});l.InfiniteGridRow=new q("InfiniteGridRow",{include:[h,u]});l.SelectableInfiniteGridRow=new q("SelectableInfiniteGridRow",{include:[p,u]});l.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",r,{include:[u]});l.InfiniteGrid=new v("InfiniteGrid",g,{include:[w]});l.SelectableInfiniteGrid=new v("InfiniteGrid",d,{include:[w]});l.InfiniteGridHeader=new v("InfiniteGridHeader",a,{include:[l.GridController],initNode:function(k,x){c(x,"columnSpacing",1);
x.overflow="hidden";this.callSuper(k,x);new l.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(k){this.grid=k},setColumnSpacing:function(k){this.columnSpacing=k},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:f(0,this.getVisibleHdrs().length-1)*this.columnSpacing},setHeight:function(k,x){this.callSuper(k,x);this.inited&&(k=this.height,this.columnHeaders.forEach(C=>{C.setHeight(k)}))},setWidth:function(k,x){this.callSuper(f(this.minWidth,k),x);this.inited&&(k=this.width,
this.setGridWidth(k),this.grid.setWidth(k))},subviewAdded:function(k){this.callSuper(k);k.isA(l.GridColHdr)&&(k.setGridController(this),k.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},notifyHdrXChange:function(k){this.isLocked()||this.grid.notifyXChange(k)},notifyHdrWidthChange:function(k){this.isLocked()||this.grid.notifyWidthChange(k)},updateRowsForVisibilityChange:function(k){this.grid.notifyVisibilityChange(k)}})})(myt);
(l=>{const v=JS.Class,q=l.AccessorSupport.defAttr,n=l.PanelStackTransition=new v("PanelStackTransition",l.Node,{to:f=>Promise.resolve(f),from:f=>Promise.resolve(f)});l.PanelStack=new v("PanelStack",l.View,{include:[l.SelectionManager],initNode:function(f,a){a.overflow="hidden";q(a,"itemSelectionId","panelId");q(a,"maxSelected",1);this.callSuper(f,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(f){this.set("transition",f,!0)},__updateWidth:function(f){const a=
this.getActivePanel();a&&a.setWidth(f.value)},__updateHeight:function(f){const a=this.getActivePanel();a&&a.setHeight(f.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(f){return this.getSelectableItem(f)},selectPanel:function(f){this.selectById(f)},doSelected:function(f){f.setWidth(this.width);f.setHeight(this.height)},doStackTransition:function(f){this["doStackTransition"+(f.selected?"To":"From")](f)},doStackTransitionTo:function(f){const a=this;a.doBeforeTransitionTo(f);
const e=a.transition;e?e.to(f).then(c=>{a.doAfterTransitionTo(c)}):(f.makeHighestZIndex(),f.setVisible(!0),a.doAfterTransitionTo(f))},doBeforeTransitionTo:f=>{},doAfterTransitionTo:f=>{},doStackTransitionFrom:function(f){const a=this;a.doBeforeTransitionFrom(f);const e=a.transition;e?e.from(f).then(c=>{a.doAfterTransitionFrom(c)}):(f.setVisible(!1),a.doAfterTransitionFrom(f))},doBeforeTransitionFrom:f=>{},doAfterTransitionFrom:f=>{}});l.StackablePanel=new JS.Module("StackablePanel",{include:[l.Selectable],
initNode:function(f,a){a.visible=a.selected=!1;q(a,"bgColor","#fff");q(a,"panelId",a.name);this.callSuper(f,a);this.selected&&this.doStackTransition()},setPanelStack:function(f){this.panelStack=f},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(f){this.panelId=f},setSelected:function(f){this.selected!==f&&(this.callSuper(f),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});l.PanelStackFadeTransition=
new v("PanelStackFadeTransition",n,{initNode:function(f,a){q(a,"duration",1E3);this.callSuper(f,a)},setDuration:function(f){this.duration=f},to:function(f){return new Promise((a,e)=>{f.stopActiveAnimators("opacity");f.setVisible(!0);f.animate({attribute:"opacity",to:1,duration:this.duration}).next(c=>{f.makeHighestZIndex();a(f)})})},from:function(f){return new Promise((a,e)=>{f.stopActiveAnimators("opacity");f.animate({attribute:"opacity",to:0,duration:this.duration}).next(c=>{f.setVisible(!1);a(f)})})}});
l.PanelStackSlideTransition=new v("PanelStackSlideTransition",n,{initNode:function(f,a){q(a,"duration",1E3);q(a,"direction","right");this.callSuper(f,a)},setDuration:function(f){this.duration=f},setDirection:function(f){this.direction=f},to:function(f){const a=f.getPanelStack(),e=this.duration;let c,b;switch(this.direction){case "left":b="x";c=a.width;break;case "right":b="x";c=-a.width;break;case "up":b="y";c=a.height;break;case "down":b="y",c=-a.height}f.stopActiveAnimators(b);f.set(b,c);f.setVisible(!0);
return new Promise((h,p)=>{p=g=>{f.makeHighestZIndex();h(f)};0<e?f.animate({attribute:b,to:0,duration:e}).next(p):(f.set(b,0),f.makeHighestZIndex(),h(f))})},from:function(f){const a=f.getPanelStack(),e=this.duration;let c,b;switch(this.direction){case "left":b="x";c=-a.width;break;case "right":b="x";c=a.width;break;case "up":b="y";c=-a.height;break;case "down":b="y",c=a.height}f.stopActiveAnimators(b);return new Promise((h,p)=>{p=g=>{f.setVisible(!1);h(f)};0<e?f.animate({attribute:b,to:c,duration:e}).next(p):
(f.set(b,c),f.setVisible(!1),h(f))})}})})(myt);
(l=>{const v=JS.Module;var q=l.global;const n=q.dragManager,f=q.mouse;q=l.Draggable;const a=(c,b,h)=>{[b,h].forEach(p=>{c["__is"+p]=!1;c["__tmrId"+p]=null})},e=l.DragGroupSupport=new v("DragGroupSupport",{initNode:function(c,b){this.__dgs={"*":!0};this.__any=!0;this.callSuper(c,b)},setDragGroups:function(c){const b=this.__dgs={};for(const h in c)b[h]=!0;this.__any=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},addDragGroup:function(c){c&&(this.__dgs[c]=!0,"*"===c&&(this.__any=
!0))},removeDragGroup:function(c){c&&(delete this.__dgs[c],"*"===c&&(this.__any=!1))},acceptAnyDragGroup:function(){return this.__any}});l.DropSource=new v("DropSource",{include:[q],initNode:function(c,b){this.defAttr(b,"distanceBeforeDrag",2);null==b.dropParent&&(b.dropParent=c.getRoot());this.callSuper(c,b)},setDropClass:function(c){this.dropClass=l.resolveClassname(c)},setDropClassAttrs:function(c){this.dropClassAttrs=c},setDropParent:function(c){this.dropParent=c},startDrag:function(c){const b=
this.dropable=this.makeDropable();if(b){const h=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(c);b.__doMouseDown(c);b.distanceBeforeDrag=h}},doMouseUp:function(c){this.callSuper(c);const b=this.dropable;b&&(b.__doMouseUp(c),b.doMouseUp(c),this.dropable=null)},makeDropable:function(){const c=this.dropClass,b=this.dropParent;if(c&&b){const h=l.DomElementProxy.getRelativePosition(this.getIDE(),b.getIDE());return new c(b,Object.assign({},this.dropClassAttrs,{x:h.x||0,y:h.y||0}))}}});l.DropTarget=
new v("DropTarget",{include:[e],initNode:function(c,b){this.callSuper(c,b);n.registerDropTarget(this)},destroy:function(){n.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(c){return!this.disabled&&this.isVisible()},notifyDragStart:c=>{},notifyDragStop:c=>{},notifyDragEnter:c=>{},notifyDragLeave:c=>{},notifyDrop:c=>{}});l.Dropable=new v("Dropable",{include:[q,e],setDropTarget:function(c){this.dropTarget=c},setDropped:function(c){this.dropped=c},setDropFailed:function(c){this.dropFailed=
c},willPermitDrop:c=>!0,startDrag:function(c){this.setDropped(!1);this.setDropFailed(!1);n.startDrag(this);this.callSuper(c)},updateDrag:function(c){n.updateDrag(c,this);this.callSuper(c)},stopDrag:function(c,b){n.stopDrag(c,this,b);this.callSuper(c,b);b?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(c){this.setDropTarget(c)},notifyDragLeave:function(c){this.setDropTarget()},notifyDropped:function(c,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},
notifyDropFailed:()=>{},notifyDropAborted:()=>{}});l.AutoScroller=new v("AutoScroller",{include:[e],initNode:function(c,b){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;this.defAttr(b,"overflow","auto");this.callSuper(c,b);n.registerAutoScroller(this)},destroy:function(){n.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(c){this.scrollBorder=Math.max(1,c)},setScrollFrequency:function(c){this.scrollFrequency=c},setScrollAmount:function(c){this.scrollAmount=
c},setScrollAcceleration:function(c){this.scrollAcceleration=c},notifyDragStart:function(c){c=this.getIDE();(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&this.attachToDom(f,"__hndlMove","mousemove",!0)},notifyDragStop:function(c){this.detachFromDom(f,"__hndlMove","mousemove",!0);a(this,"Up","Down");a(this,"Left","Right")},__hndlMove:function(c){const b=this;var h=c.value;c=h.pageX;h=h.pageY;if(b.containsPoint(c,h)){const p=b.getPagePosition(),g=b.scrollBorder,r=(d,u)=>{b["__is"+d]&&
(b.getIDE()["scroll"+("Up"===d||"Down"===d?"Top":"Left")]+=u*b["__amt"+d],b["__tmrId"+d]=setTimeout(()=>{r(d,u)},b.scrollFrequency))};c-=p.x;h-=p.y;h<g?(b.__isUp=!0,b.__amtUp=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-h/g))),b.__tmrIdUp||r("Up",-1)):b.height-h<g?(b.__isDown=!0,b.__amtDown=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-(b.height-h)/g))),b.__tmrIdDown||r("Down",1)):a(b,"Up","Down");c<g?(b.__isLeft=!0,b.__amtLeft=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-c/
g))),b.__tmrIdLeft||r("Left",-1)):b.width-c<g?(b.__isRight=!0,b.__amtRight=Math.round(b.scrollAmount*(1+b.scrollAcceleration*(1-(b.width-c)/g))),b.__tmrIdRight||r("Right",1)):a(b,"Left","Right")}else a(b,"Up","Down"),a(b,"Left","Right")}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(l,v){if(v){const q=v.length;for(let n=0,f;q>n;)(f=v[n++])?this.extend(f):console.warn("Missing mixin in",this.klass.__displayName)}this.inited=!1;this.init(l||{})},init:function(l){this.callSetters(l);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(l=>{const v=Math,q=l.Geometry.degreesToRadians,n=b=>{var h=q(b.startAngle),p=q(b.endAngle);if(h>p){var g=h;h=p;p=g}g=b.__path;const r=b.width/2;var d=b.thickness;const u=b.radius,w=u+d;var k=v.PI;const x=p-h,C=x+1E-4>=2*k;C&&(h=0,p=k);const z=v.cos,B=v.sin;h=[[r+w*z(h),r+w*B(h)],[r+w*z(p),r+w*B(p)],[r+u*z(p),r+u*B(p)],[r+u*z(h),r+u*B(h)]];p=["M"+h[0].join()];C?p.push("A"+[w,w,0,1,1,h[1]].join(),"A"+[w,w,0,1,1,h[0]].join(),"L"+h[2].join(),"A"+[u,u,0,1,0,h[3]].join(),"A"+[u,u,0,1,0,h[2]].join()):(k=
x%(2*k)>k?1:0,d/=2,p.push("A"+[w,w,0,k,1,h[1]].join(),b.endCapRounding?"A"+[d,d,0,0,1,h[2]].join():"L"+h[2].join(),"A"+[u,u,0,k,0,h[3]].join(),b.startCapRounding?"A"+[d,d,0,0,1,h[0]].join():""));p.push("z");g.setAttribute("d",p.join(" "));g.setAttribute("fill",b.color)},f=b=>{const h=2*(b.radius+b.thickness),p=b.__svg;b.setWidth(h);b.setHeight(h);p.setAttribute("viewBox","0 0 "+h+" "+h);p.setAttribute("width",h);p.setAttribute("height",h);n(b)},a=(b,h,p)=>{b[h]!==p&&(b[h]=p,b.inited&&(n(b),b.fireEvent(h,
p)))},e=(b,h,p)=>{b[h]!==p&&(b[h]=p=v.max(0,p),b.inited&&(f(b),b.fireEvent(h,p)))},c=(b,h)=>{b=document.createElementNS("http://www.w3.org/2000/svg",b);h&&h.appendChild(b);return b};l.Annulus=new JS.Class("Annulus",l.BackView,{initNode:function(b,h){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(b,h);f(this)},createOurDomElement:function(b){b=this.callSuper(b);var h=Array.isArray(b)?b[1]:b;h=this.__svg=c("svg",h);this.__path=
c("path",h);h.style.pointerEvents="none";return b},setRadius:function(b){e(this,"radius",b)},setThickness:function(b){e(this,"thickness",b)},setStartAngle:function(b){a(this,"startAngle",b)},setEndAngle:function(b){a(this,"endAngle",b)},setStartCapRounding:function(b){a(this,"startCapRounding",b)},setEndCapRounding:function(b){a(this,"endCapRounding",b)},setColor:function(b){a(this,"color",b)},isColorAttr:function(b){return"color"===b||this.callSuper(b)}})})(myt);
(l=>{let v;const q=JS.Class,n=l.global,f=n.mouse,a=n.windowResize,e=Math,c=e.min,b=e.max,h=e.round,p=l.AccessorSupport.defAttr,g=k=>{k.__checkTID&&(clearTimeout(k.__checkTID),delete k.__checkTID)},r=k=>{if(k.tooltip){const x=k._lastPos;if(k.tooltip.parent.containsPoint(x.x,x.y))return!0}k.hideTip();return!1},d=l.BaseTooltip=new q("BaseTooltip",l.View,{include:[l.RootView],extend:{TIP_DELAY:500,TIP_HIDE_DELAY:100},initNode:function(k,x){this.tipDelay=this.nextTipDelay=d.TIP_DELAY;this.tipHideDelay=
d.TIP_HIDE_DELAY;p(x,"visible",!1);this.callSuper(k,x)},setTooltip:function(k){this.inited&&(this.tooltip=k)&&(this.attachToDom(f,"__hndl_mousemove","mousemove",!0),this.attachToDom(k.parent,"hideTip","mousedown",!0),this.attachToDom(k.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(k){const x=this;x._lastPos=l.MouseObservable.getMouseFromEvent(k);r(x)&&(g(x),x.__checkTID=setTimeout(()=>{delete x.__checkTID;r(x)&&x.showTip()},x.nextTipDelay))},hideTip:function(k){g(this);k=this.tooltip.parent;
this.detachFromDom(k,"hideTip","mousedown",!0);this.detachFromDom(k,"hideTip","mouseup",!0);this.detachFromDom(f,"__hndl_mousemove","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){n.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),u=l.Tooltip=new q("Tooltip",d,{extend:{EDGE_SIZE:0,EDGE_COLOR:"#444",SHADOW_SIZE:2,SHADOW_COLOR:"#00000033",HORIZONTAL_INSET:6,VERTICAL_INSET:3,TIP_BG_COLOR:"#444",
TIP_TEXT_COLOR:"#eee"},initNode:function(k,x){p(x,"edgeSize",u.EDGE_SIZE);p(x,"edgeColor",u.EDGE_COLOR);p(x,"shadowSize",u.SHADOW_SIZE);p(x,"shadowColor",u.SHADOW_COLOR);p(x,"insetH",u.HORIZONTAL_INSET);p(x,"insetV",u.VERTICAL_INSET);p(x,"tipBgColor",u.TIP_BG_COLOR);p(x,"tipTextColor",u.TIP_TEXT_COLOR);this.callSuper(k,x);new l.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(k){this.edgeSize=k},setEdgeColor:function(k){this.edgeColor=
k},setShadowSize:function(k){this.shadowSize=k},setShadowColor:function(k){this.shadowColor=k},setInsetH:function(k){this.insetH=k},setInsetV:function(k){this.insetV=k},setTipBgColor:function(k){this.tipBgColor=k},setTipTextColor:function(k){this.tipTextColor=k},showTip:function(){const k=this.tooltip;var x=k.text;const C=k.parent;var z=this._tipText;const B=this.edgeSize,D=this.shadowSize;z.text!==x&&z.setText(x);z.setWidth("auto");var t=c(z.measureNoWrapWidth(),k.maxTextWidth);x=t+2*z.x;const m=
x+2*B;z.setWidth(t);z.sizeViewToDom();t=C.getPagePosition();z=z.height+2*z.y;const y=z+2*B,A=t.y-y+("below"===k.tipvalign?C.height+y:0);t=t.x;switch(k.tipalign){case "right":t-=m;case "farright":t+=C.width;break;case "farleft":t-=m}this.setX(h(c(b(t,0),a.getWidth()-m)));this.setY(h(c(b(A,0),a.getHeight()-y)));this.setWidth(x);this.setHeight(z);this.setBgColor(this.tipBgColor);this.setBorder([B,"solid",this.edgeColor]);this.setBoxShadow([D,D,D,this.shadowColor]);this.callSuper()}}),w=l.TooltipMixin=
new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},setTooltip:function(k){this.callSuper("");this.set("tooltip",k,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(k){this.set("tipAlign",k,!0)},setTipValign:function(k){this.set("tipValign",k,!0)},setMaxTextWidth:function(k){this.set("maxTextWidth",k,!0)},setTipClass:function(k){this.set("tipClass",k,!0)},doSmoothMouseOver:function(k){const x=this.getTooltip();this.callSuper(k);if(k&&x){k=this.tipClass||w.TIP_CLASS;
!v||v instanceof k||(v.destroy(),v=null);if(!v){let C=document.getElementById("tooltipDiv");C||(C=l.DomElementProxy.createElement("div",{position:"absolute"}),l.getElement().appendChild(C));v=new k(C,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:x,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||w.MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(l){this.setVectors(l||[])},setVectors:function(l){this._boundingBox=null;this.vectors=l},copyFrom:function(l){this.vectors=l.vectors.slice();this._boundingBox=null},drawInto:function(l){l.beginPath();const v=this.vectors;let q=v.length,n=0;for(l.moveTo(v[n++],v[n++]);q>n;)l.lineTo(v[n++],v[n++]);l.closePath()},translate:function(l,v){const q=this.vectors;let n=q.length;for(;n;)q[--n]+=v,q[--n]+=l;this._boundingBox=null},rotate:function(l){const v=
Math.cos(l);l=Math.sin(l);const q=this.vectors,n=q.length;for(let f=0;n>f;){const a=q[f]*v-q[f+1]*l,e=q[f]*l+q[f+1]*v;q[f++]=a;q[f++]=e}this._boundingBox=null},rotateAroundOrigin:function(l,v,q){this.translate(-v,-q);this.rotate(l);this.translate(v,q)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const l=this.vectors;let v=l.length,q,n,f,a;if(2<=v){f=a=l[--v];for(q=n=l[--v];v;){const e=l[--v],c=l[--v];f=Math.min(e,f);a=Math.max(e,a);q=Math.min(c,q);n=Math.max(c,n)}return this._boundingBox=
{x:q,y:f,width:n-q,height:a-f}}return this._boundingBox=null},getCenter:function(){const l=this.getBoundingBox();return l?{x:l.x+l.width/2,y:l.y+l.height/2}:null},isPointInPath:function(l,v){"object"===typeof l&&(v=l.y,l=l.x);return myt.Geometry.isPointInPath(l,v,this.getBoundingBox(),this.vectors)}});
(l=>{const v=Math.PI,q=v/2,n=3*v/2,f=l.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(e=>{a[e]=function(){this.__ctx[e].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(e=>
{a[e]=function(){return this.__ctx[e].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(e=>{a[f.generateSetterName(e)]=function(c){this.__ctx[e]=c};a[f.generateGetterName(e)]=function(){return this.__ctx[e]}});l.Canvas=new JS.Class("Canvas",l.BackView,{include:[a],createOurDomElement:function(e){e=this.callSuper(e);const c=
Array.isArray(e)?e[1]:e,b=this.__cvs=document.createElement("canvas");b.className="mytUnselectable";c.appendChild(b);b.style.position="absolute";this.__ctx=b.getContext("2d");return e},setWidth:function(e,c){0>e&&(e=0);this.__cvs.setAttribute("width",e);this.callSuper(e,c)},setHeight:function(e,c){0>e&&(e=0);this.__cvs.setAttribute("height",e);this.callSuper(e,c)},clear:function(){const e=this.__ctx;e.save();e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,this.width,this.height);e.restore()},dataURItoBlob:function(e,
c){e=atob(e.split(",")[1]);const b=e.length,h=[];for(let p=0;p<b;)h.push(e.charCodeAt(p++));return new Blob([new Uint8Array(h)],{type:c})},getDataURL:function(e,c){return this.__cvs.toDataURL(e,c)},getImageFile:function(e,c,b){switch(e){case "png":case "PNG":e="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":e="jpeg";null==b&&(b=.5);break;default:console.warn("Unexpected image type",e),e=e.toLowerCase()}const h="image/"+e;b=this.dataURItoBlob(this.getDataURL(h,b),h);c&&(b.name=c+"."+e);return b},
circle:function(e,c,b){this.__ctx.arc(e,c,b,0,2*v)},drawRoundedRect:function(e,c,b,h,p,g){const r=this.lineTo.bind(this),d=this.arc.bind(this);g=h+g;p=b+p;this.beginPath();this.moveTo(b,h+e);r(b,g-e);d(b+e,g-e,e,v,q,!0);r(p-e,g);d(p-e,g-e,e,q,0,!0);r(p,h+e);d(p-e,h+e,e,0,n,!0);r(b+e,h);d(b+e,h+e,e,n,v,!0);this.closePath();0<c&&(e-=c,b+=c,p-=c,h+=c,g-=c,this.moveTo(b,h+e),d(b+e,h+e,e,v,n),r(p-e,h),d(p-e,h+e,e,n,0),r(p,g-e),d(p-e,g-e,e,0,q),r(b+e,g),d(b+e,g-e,e,q,v),this.closePath());return this},drawRectOutline:function(e,
c,b,h,p){p=b+p;h=c+h;const g=c+e,r=h-e,d=b+e;e=p-e;const u=this.lineTo.bind(this);this.beginPath();this.moveTo(c,b);u(c,p);u(h,p);u(h,b);u(c,b);u(g,d);u(r,d);u(r,e);u(g,e);u(g,d);this.closePath();return this},drawPartiallyRoundedRect:function(e,c,b,h,p,g,r,d){d=g+d;r=p+r;const u=this.lineTo.bind(this),w=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(p,g+e);u(p,d-b);0<b&&w(p,d,p+b,d);u(r-h,d);0<h&&w(r,d,r,d-h);u(r,g+c);0<c&&w(r,g,r-c,g);u(p+e,g);0<e&&w(p,g,p,g+e);this.closePath();return this},
drawAnnulus:function(e,c,b,h,p,g,r,d=60){const u=l.Color;r.forEach(H=>{"string"===typeof H.color&&(H.color=u.makeColorFromHexString(H.color))});d=v/d;let w=0;for(;r.length-1>w;){var k=r[w++],x=r[w],C=Math.round((x.angle-k.angle)/d);x=k.color.getDiffFrom(x.color);k.colorDelta={red:x.red/C,green:x.green/C,blue:x.blue/C}}b=new l.Path([e+b,c,e+h,c]);b.rotateAroundOrigin(p,e,c);h=b.vectors;let z,B;k=h[0];C=h[1];x=h[2];let D=h[3],t=0,m=v/360;for(w=0;g>p;){z=k;B=C;var y=x;var A=D;p+=d;p>g&&(d+=g-p,m=0,p=
g);b.rotateAroundOrigin(d+m,e,c);k=h[0];C=h[1];x=h[2];D=h[3];this.beginPath();this.moveTo(z,B);this.lineTo(y,A);this.lineTo(x,D);this.lineTo(k,C);this.closePath();y=r[w].color;A=r[w].colorDelta;this.setFillStyle(u.rgbToHex(y.red+t*A.red,y.green+t*A.green,y.blue+t*A.blue,!0));this.fill();0<m&&(b.rotateAroundOrigin(-m,e,c),k=h[0],C=h[1],x=h[2],D=h[3]);t++;p>=r[w+1].angle&&(t=0,w++)}return this}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

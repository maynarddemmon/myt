'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,k){b!=Array.prototype&&b!=Object.prototype&&(b[f]=k.value)};
$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,b];for(var f=0;f<b.length;++f){var k=b[f];if(k&&k.Math==Math)return k}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,f,k,g){if(f){k=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var e=b[g];e in k||(k[e]={});k=k[e]}b=b[b.length-1];g=k[b];f=f(g);f!=g&&null!=f&&$jscomp.defineProperty(k,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,k){var g=this;g instanceof String&&(g=String(g));var e=g.length;k=k||0;for(0>k&&(k=Math.max(k+e,0));k<e;k++){var a=g[k];if(a===b||Object.is(a,b))return!0}return!1}},"es7","es3");
$jscomp.arrayIteratorImpl=function(b){var f=0;return function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return f?f.call(b):$jscomp.arrayIterator(b)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise.prototype.finally",function(b){return b?b:function(b){return this.then(function(f){return Promise.resolve(b()).then(function(){return f})},function(f){return Promise.resolve(b()).then(function(){throw f;})})}},"es9","es3");$jscomp.polyfill("String.prototype.trimLeft",function(b){function f(){return this.replace(/^[\s\xa0]+/,"")}return b||f},"es_2019","es3");$jscomp.polyfill("String.prototype.trimStart",function(b){return b||String.prototype.trimLeft},"es_2019","es3");
$jscomp.polyfill("String.prototype.trimRight",function(b){function f(){return this.replace(/[\s\xa0]+$/,"")}return b||f},"es_2019","es3");$jscomp.polyfill("String.prototype.trimEnd",function(b){return b||String.prototype.trimRight},"es_2019","es3");$jscomp.owns=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};$jscomp.polyfill("Object.values",function(b){return b?b:function(b){var f=[],g;for(g in b)$jscomp.owns(b,g)&&f.push(b[g]);return f}},"es8","es3");
(b=>{let f;var k=a=>{let c,d=a.length;for(;d;)if(c=a[--d],f=c.ver||c.id,c.str&&0<=c.str.indexOf(c.sub)||c.prop)return c.id};var g=a=>{const c=a.indexOf(f);if(0<=c)return parseFloat(a.substring(c+f.length+1))};const e=navigator.userAgent,a=navigator.platform;g=b.BrowserDetect={browser:k([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:e,sub:"Firefox",id:"Firefox"},{str:e,sub:"Chrome",id:"Chrome"},{str:e,sub:"MSIE",id:"Explorer",ver:"MSIE"}])||
"UNKNOWN",version:g(e)||g(navigator.appVersion)||"UNKNOWN",os:k([{str:e,sub:"iPhone",id:"iPhone/iPod"},{str:a,sub:"Linux",id:"Linux"},{str:a,sub:"Mac",id:"Mac"},{str:a,sub:"Win",id:"Windows"}])||"UNKNOWN"};switch(g.browser){case "Chrome":case "Safari":b="WebKit";break;case "Explorer":b="MS";break;case "Firefox":b="Moz";break;case "Opera":b="O";break;default:b="UNKNOWN"}k=b.toLowerCase();g.prefix={dom:b,lowercase:k,css:"-"+k+"-",js:k[0].toUpperCase()+k.substr(1)}})(global);
Date.prototype.format=Date.prototype.format||(()=>{const b="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),f="January February March April May June July August September October November December".split(" "),k="Sun Mon Tue Wed Thu Fri Sat".split(" "),g="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e={d:a=>(10>a.getDate()?"0":"")+a.getDate(),D:a=>k[a.getDay()],j:a=>a.getDate(),l:a=>g[a.getDay()],N:a=>0==a.getDay()?7:a.getDay(),S:a=>1==a.getDate()%10&&11!=a.getDate()?
"st":2==a.getDate()%10&&12!=a.getDate()?"nd":3==a.getDate()%10&&13!=a.getDate()?"rd":"th",w:a=>a.getDay(),z:a=>{const c=new Date(a.getFullYear(),0,1);return Math.ceil((a-c)/864E5)},W:a=>{var c=new Date(a.valueOf());a=(a.getDay()+6)%7;c.setDate(c.getDate()-a+3);a=c.valueOf();c.setMonth(0,1);4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7);c=1+Math.ceil((a-c)/6048E5);return 10>c?"0"+c:c},F:a=>f[a.getMonth()],m:a=>(9>a.getMonth()?"0":"")+(a.getMonth()+1),M:a=>b[a.getMonth()],n:a=>a.getMonth()+1,t:a=>
{let c=a.getFullYear();a=a.getMonth()+1;12===a&&(c=c++,a=0);return(new Date(c,a,0)).getDate()},L:a=>{a=a.getFullYear();return 0==a%400||0!=a%100&&0==a%4},o:a=>{const c=new Date(a.valueOf());c.setDate(c.getDate()-(a.getDay()+6)%7+3);return c.getFullYear()},Y:a=>a.getFullYear(),y:a=>(""+a.getFullYear()).substr(2),a:a=>12>a.getHours()?"am":"pm",A:a=>12>a.getHours()?"AM":"PM",B:a=>Math.floor(1E3*((a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/3600)/24),g:a=>a.getHours()%12||12,G:a=>a.getHours(),
h:a=>(10>(a.getHours()%12||12)?"0":"")+(a.getHours()%12||12),H:a=>(10>a.getHours()?"0":"")+a.getHours(),i:a=>(10>a.getMinutes()?"0":"")+a.getMinutes(),s:a=>(10>a.getSeconds()?"0":"")+a.getSeconds(),u:a=>{a=a.getMilliseconds();return(10>a?"00":100>a?"0":"")+a},e:a=>/\((.*)\)/.exec((new Date).toString())[1],I:a=>{let c=null,h=0;for(var d;12>h;)if(d=new Date(a.getFullYear(),h++,1),d=d.getTimezoneOffset(),null===c)c=d;else if(d<c){c=d;break}else if(d>c)break;return a.getTimezoneOffset()==c|0},O:a=>(0>
-a.getTimezoneOffset()?"-":"+")+(10>Math.abs(a.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(a.getTimezoneOffset()/60))+(0==Math.abs(a.getTimezoneOffset()%60)?"00":(10>Math.abs(a.getTimezoneOffset()%60)?"0":"")+Math.abs(a.getTimezoneOffset()%60)),P:a=>(0>-a.getTimezoneOffset()?"-":"+")+(10>Math.abs(a.getTimezoneOffset()/60)?"0":"")+Math.floor(Math.abs(a.getTimezoneOffset()/60))+":"+(0==Math.abs(a.getTimezoneOffset()%60)?"00":(10>Math.abs(a.getTimezoneOffset()%60)?"0":"")+Math.abs(a.getTimezoneOffset()%
60)),T:a=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:a=>60*-a.getTimezoneOffset(),c:a=>a.format("Y-m-d\\TH:i:sP"),r:a=>a.toString(),U:a=>a.getTime()/1E3};return function(a){const c=this;return a.replace(/(\\?)(.)/g,(a,d,b)=>""===d&&e[b]?e[b](c):b)}})();
(b=>{const f=(a,d)=>{if(a&&d)for(const l in d)a[l]===d[l]||a.hasOwnProperty(l)||(a[l]=d[l]);return a},k=a=>{const d=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},l=function(){};l.prototype=(a||Object).prototype;d.prototype=new l;return d},g=(a,d)=>{const l=!d;if(l&&a.__anc__)return a.__anc__.slice();d=d||[];const c=a.__inc__,h=c.length;for(let a=0;a<h;)g(c[a++],d);d.includes(a)||d.push(a);l&&(a.__anc__=d.slice());return d},e=(a,d)=>{var l=a.__mct__[d];if(l)return l.slice();
l=g(a);const c=l.length,h=[];for(let a=0;a<c;){const c=l[a++].__fns__;c.hasOwnProperty(d)&&h.push(c[d])}a.__mct__[d]=h.slice();return h},a=(a,d)=>{const l=a.callable;return a.__hs?function(){const c=this.callSuper,h=this.hasOwnProperty("callSuper"),b=e(d,a.name);let m=b.length-1;if(0===m)delete this.callSuper;else{const a=Array.from(arguments),d=this.callSuper=(...l)=>{let c=l.length;for(;c;)a[--c]=l[c];0===--m&&delete this.callSuper;l=b[m].apply(this,a);this.callSuper=d;m++;return l}}const r=l.apply(this,
arguments);h?this.callSuper=c:delete this.callSuper;return r}:l},c=(d,l)=>{l=l||d;if(l===d){d.__anc__=null;d.__mct__={};for(var h=d.__dep__.length;h;)c(d.__dep__[--h])}if(h=l.__tgt__){var e=d.__inc__;d=d.__fns__;const b=e.length;for(let a=0;a<b;)c(e[a++],l);for(const c in d)e=d[c],e=e instanceof m?a(e,l):e,h[c]!==e&&(h[c]=e)}},h=a=>a.__meta__?a.__meta__:(a.__meta__=new l("",null,{_target:a})).include(a.klass,{_rslv:!1}),d=a=>"function"!==typeof a||a.__fns__&&a.__inc__,m=b.Method=k(),p=(a,d,l)=>l&&
l.__inc__&&l.__fns__||"function"!==typeof l?l:new m(a,d,l),l=b.Module=k();f(m.prototype,{initialize:function(a,d,l){this.module=a;this.name=d;this.callable=l;this.__hs="function"===typeof l&&-1!==l.toString().indexOf("callSuper")},call:function(...a){return this.callable(...a)},apply:function(a,d){return this.callable.apply(a,d)}});f(l.prototype,{initialize:function(a,d,l){this.__inc__=[];this.__dep__=[];this.__fns__={};this.__tgt__=(l||{})._target;this.__anc__=null;this.__mct__={};this.__displayName=
a;this.include(d,{_rslv:!1})},define:function(a,d,l){this.__fns__[a]=p(this,a,d);!1!==(l||{})._rslv&&c(this)},include:function(a,l){if(a){if(a.__fns__&&a.__inc__)this.__inc__.push(a),a.__dep__.push(this);else{var h=a.extend,e=a.include;const l={_rslv:!1};if(d(h)){h=[].concat(h);for(let a=0,d=h.length;a<d;)this.extend(h[a++])}if(d(e)){e=[].concat(e);for(let a=0,d=e.length;a<d;)this.include(e[a++],l)}for(const c in a)a.hasOwnProperty(c)&&(e=a[c],("extend"!==c&&"include"!==c||!d(e))&&this.define(c,e,
l))}!1!==(l||{})._rslv&&c(this)}return this},includes:function(a){if(a===this)return!0;const d=this.__inc__,l=d.length;for(let c=0;c<l;)if(d[c++].includes(a))return!0;return!1},instanceMethod:function(a){return e(this,a).pop()}});const r=new l("Kernel",{equals:function(a){return this===a},extend:function(a,d){a&&h(this).include(a,{_rslv:(d||{})._rslv});return this},isA:function(a){return"function"===typeof a&&this instanceof a||h(this).includes(a)}}),n=b.Class=k(l);f(n.prototype,{initialize:function(a,
d,e,b){"function"!==typeof d&&(b=e,e=d,d=Object);l.prototype.initialize.call(this,a);a=(b||{})._rslv;b={_rslv:!1};const m=k(d);f(m,this);m.prototype.constructor=m.prototype.klass=m;h(m).include(d.__meta__,{_rslv:a});m.__tgt__=m.prototype;d=d===Object?{}:d.__fns__?d:new l(d.prototype,b);m.include(r,b).include(d,b).include(e,b);!1!==a&&c(m);return m}});const u=(a,d)=>{a.__inc__=[];a.__dep__=[];const l=a.__tgt__=a.prototype,c=a.__fns__={};for(const d in l)l.hasOwnProperty(d)&&(c[d]=p(a,d,l[d]));l.constructor=
l.klass=a;f(a,n.prototype);a.include(d);a.constructor=a.klass=n};u(m,r);u(l,r);u(n,l);c(h(m));c(h(l));h(n).include(l.__meta__);b.Singleton=new n("Singleton",{initialize:(a,d,l)=>new (new n(a,d,l))})})(global.JS||(global.JS={}));
(b=>{class f extends Error{constructor(a,c,...h){super(...h);this.name="FetchError";this.status=a;this.url=c}}let k=0;const g={},e={"":!0},a=document.fonts,c=a=>{a=a.family+" "+a.weight;0<=a.indexOf("\\35 ")&&(a=a.replace(/\\35 /g,"5"));if(!e[a])for(e[a]=!0,a=g[a]||[];a.length;){var d=a.pop();d&&!d.destroyed&&d.sizeViewToDom()}},h=b.myt={version:2.02106282027E7,IMAGE_ROOT:global.MYT_IMAGE_ROOT||"",generateGuid:()=>++k,addEventListener:(a,c,h,l,e)=>{a.addEventListener(c,h,{capture:l||!1,passive:e||
!1})},removeEventListener:(a,c,h,l)=>{a.removeEventListener(c,h,l||!1)},resolveName:(a,c)=>{if(a&&0!==a.length){c=c||global;var d=Array.isArray(a)?a:a.split("."),l=d.length;for(let h=0;h<l;h++)if(c=c[d[h]],void 0===c){console.warn("resolveName failed for:",a,"at part:",h,d[h]);return}return c}},resolveClassname:a=>{"string"===typeof a&&(a=h.resolveName(a));return a&&"function"===typeof a.isA&&a.isA(JS.Class)?a:null},getExtension:a=>a?a.split(".")[1]:null,loadScript:function(a,c,h){const d=this._loadedScripts||
(this._loadedScripts={});if(d[a])return console.warn("script already loaded for src",a),null;{d[a]=!0;const l=document.createElement("script");l.type="text/javascript";l.async=!1;if(c){let a=!1;l.onload=l.onreadystatechange=function(){a||this.readyState&&"complete"!==this.readyState||(a=!0,l.onload=l.onreadystatechange=null,c())}}l.src=a+(h?"":(-1!==a.indexOf("?")?"&":"?")+"cacheBust="+Date.now());this.getElement("head").appendChild(l);return l}},dumpStack:(a,c)=>{let d;"string"===typeof a&&(d=a,
a=null);h.global.error.notify(c||"error",null,d,a)},getRandom:a=>{let d=Math.random();a&&(d=a(d),1<=d?d=.9999999999:0>d&&(d=0));return d},getRandomArbitrary:(a,c,e)=>{if(a>c){const d=a;a=c;c=d}return h.getRandom(e)*(c-a)+a},getRandomInt:(a,c,e)=>{if(a>c){const d=a;a=c;c=d}return Math.floor(h.getRandom(e)*(c-a+1)+a)},areFloatsEqual:(a,c,h)=>{const d=Math.abs(a),e=Math.abs(c);h=h?Math.abs(h):1E-6;return Math.abs(a-c)<=(d>e?e:d)*h},areArraysEqual:(a,c)=>{if(a!==c){if(null==a||null==c)return!1;let d=
a.length;if(d!==c.length)return!1;for(;d;)if(a[--d]!==c[d])return!1}return!0},areObjectsEqual:(a,c)=>{if(a!==c){if(null==a||null==c)return!1;let d;for(d in a)if(a[d]!==c[d])return!1;for(d in c)if(a[d]!==c[d])return!1}return!0},getElement:(a,c)=>document.getElementsByTagName(a||"body")[0<c?c:0],loadFontFaces:(d,h)=>{const e=[];d.forEach(a=>{a=new FontFace(a.family,"url("+a.url+")",a.options);e.push(a.load())});Promise.all(e).then(d=>{d.forEach(d=>{a.add(d);c(d)});h&&h(d)})},loadFontFace:(d,h,e={},
l)=>{d=new FontFace(d,"url("+h+")",e);d.loaded.then(d=>{a.add(d);c(d);l&&l(d)});d.load()},registerForFontNotification:(a,c)=>{e[c]?a&&!a.destroyed&&a.sizeViewToDom():(g[c]||(g[c]=[])).push(a)},createBaseFontCSSRule:a=>{h.addCSSRule(h.createStylesheet(),"body, input","font-family:"+a,0)},loadCSSFonts:a=>{(a||[]).forEach(a=>{const d=document.createElement("link");d.rel="stylesheet";d.href=a;document.head.appendChild(d)})},createStylesheet:()=>{const a=document.createElement("style");document.head.appendChild(a);
return a.sheet},addCSSRule:(a,c,h,l)=>{"insertRule"in a?a.insertRule(c+"{"+h+"}",l):"addRule"in a&&a.addRule(c,h,l)},removeCSSRules:a=>{let d=a.cssRules.length;for(;d;)d--,"deleteRule"in a?a.deleteRule(d):"removeRule"in a&&a.removeRule(d)},createInputPlaceholderCSSRule:(a,c,e)=>{const d=a.getOuterDomElement().id||(a.getOuterDomElement().id="id"+h.generateGuid());let b=a.__sheet,m=[];b?h.removeCSSRules(b):b=a.__sheet=h.createStylesheet();c&&m.push("color:"+c);e&&m.push("font-family:"+e);m=m.join("; ");
switch(BrowserDetect.browser){case "Chrome":case "Safari":h.addCSSRule(b,"#"+d+"::-webkit-input-placeholder",m,0);break;case "Firefox":h.addCSSRule(b,"#"+d+":-moz-placeholder","opacity:1; "+m,0);h.addCSSRule(b,"#"+d+"::-moz-placeholder","opacity:1; "+m,0);break;case "Explorer":h.addCSSRule(b,"#"+d+":-ms-input-placeholder",m,0)}},formatAsPercentage:(a,c=2)=>{if("number"===typeof a)return c=Math.max(16,Math.min(0,c)),a=Math.round(Math.max(0,Math.min(1,a))*Math.pow(10,2+c))/Math.pow(10,c),(0===a%1?a:
a.toFixed(c))+"%";"string"!==typeof a&&console.warn("formatAsPercentage: expects a number");return a},memoize:a=>function(){const d=JSON.stringify(arguments),c=a.__cache||(a.__cache={});return d in c?c[d]:c[d]=a.apply(this,arguments)},debounce:function(a,c,h){return function(){const d=this,e=d.__DBTO,b=arguments,m=h&&!e;clearTimeout(e);d.__DBTO=setTimeout(function(){d.__DBTO=null;h||a.apply(d,b)},c);m&&a.apply(d,b)}},createFixedThresholdCounter:(a,c,e,l)=>{var d=h.AccessorSupport.generateName;const b=
"function"===typeof a||a instanceof JS.Module,m={};l=l||d("counter",e);let g=d(l,"increment");d=d(l,"decrement");if(void 0!==(b?a.instanceMethod(g):a[g]))return console.warn("Can't clobber existing property during setup of increment function.",g,a),!1;if(void 0!==(b?a.instanceMethod(d):a[d]))return console.warn("Can't clobber existing property during setup of decrement function.",d,a),!1;m[g]=function(){const a=this[l]+1;this[l]=a;this.fireEvent(l,a);a===c&&this.set(e,!0)};m[d]=function(){const a=
this[l];if(0!==a){var d=a-1;this[l]=d;this.fireEvent(l,d);a===c&&this.set(e,!1)}};a[b?"include":"extend"](m);return!0},makeURLSearchParams:(a={})=>{const d=new URLSearchParams;for(const c in a){const l=a[c];void 0!==l&&d.set(c,l)}return d},doFetch:(a,c,h,l,e,b)=>fetch(a,c).then(d=>{if(!d.ok)throw new f(d.status,a,d.statusText);return d}).then(a=>h?a.text():a.json()).then(d=>{if(l)try{if(h)l(d);else{if(!1===d.success)throw new f(200,a,d.message);l(d.data)}}catch(A){throw d=new f(200,a,A.message),d.stack=
A.stack,d;}}).catch(d=>{if(e){if("FetchError"!==d.name){const l=new f(0,a,d.message);l.stack=d.stack;d=l}e(d)}}).finally(a=>{b&&b()})};a.onloadingdone=a=>{a.fontfaces.forEach(a=>{c(a)})}})(global);
(b=>{const f=/\+/g,k=a=>a,g=a=>decodeURIComponent(a.replace(f," ")),e=(a,h)=>{0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return h?JSON.parse(a):a}catch(d){}},a=b.Cookie={defaults:{raw:!1,json:!1},read:(c,h)=>{h=Object.assign({},a.defaults,h);const d=h.raw?k:g;h=h.json;const b=document.cookie.split("; "),f=b.length;let l=c?void 0:{},r=0;for(;r<f;){var n=b[r++].split("=");const a=d(n.shift());n=d(n.join("="));if(c&&c===a){l=e(n,h);break}c||(l[a]=e(n,h))}return l},
write:(c,h,d)=>{d=Object.assign({},a.defaults,d);if("number"===typeof d.expires){const a=d.expires,c=d.expires=new Date;c.setDate(c.getDate()+a)}h=d.json?JSON.stringify(h):String(h);return document.cookie=[d.raw?c:encodeURIComponent(c),"=",d.raw?h:encodeURIComponent(h),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")},remove:(c,h)=>void 0!==a.read(c,h)?(a.write(c,"",Object.assign({},h,{expires:-1})),!0):
!1}})(myt);
(b=>{const f=global.localStorage,k=(e,a,c)=>{if(0<a){const h="__timerId_"+c;(c=g[h])&&clearTimeout(c);g[h]=setTimeout(()=>{e();delete g[h]},a)}else e()},g=b.LocalStorage={hasDatum:(e,a)=>{if(e&&(a=g.getItem(a||"myt")))try{return null!=JSON.parse(a)[e]}catch(c){console.error(c)}return!1},getDatum:(e,a)=>{if(e&&(a=g.getItem(a||"myt")))try{const c=JSON.parse(a);if("object"===typeof c)return c[e]}catch(c){console.error(c)}},setDatum:(e,a,c,h)=>{c=c||"myt";k(()=>{const d=g.getData(c);d[e]=a;g.setItem(c,
JSON.stringify(d))},h,c+"___"+e)},removeDatum:(e,a,c)=>{a=a||"myt";k(()=>{const c=g.getData(a);delete c[e];g.setItem(a,JSON.stringify(c))},c,a+"___"+e)},hasData:e=>null!=g.getItem(e||"myt"),getData:e=>{if(e=g.getItem(e||"myt"))try{return JSON.parse(e)}catch(a){console.error(a)}return{}},setData:(e,a,c)=>{a=a||"myt";null==e&&(e={});return"object"===typeof e?(k(()=>{g.setItem(a,JSON.stringify(e))},c,a),!0):!1},removeData:(e,a)=>{e=e||"myt";k(()=>{g.removeItem(e)},a,e)},getLength:()=>f.length,getKey:e=>
f.key(e),getItem:e=>f.getItem(e),setItem:(e,a)=>{f.setItem(e,a)},removeItem:e=>{f.removeItem(e)},clear:()=>{f.clear()},get:e=>g.getItem(e),set:(e,a)=>{g.setItem(e,a)},remove:e=>{g.removeItem(e)},clearAll:()=>{g.clear()}}})(myt);
(b=>{const f=/(?:^|&)([^&=]*)=?([^&]*)/g,k=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;b.URI=new JS.Class("URI",{initialize:function(e,a){e&&this.parse(e,a)},setSource:function(e){this.source=e},setProtocol:function(e){this.protocol=
e},setAuthority:function(e){this.authority=e},setUserInfo:function(e){this.userInfo=e},setUser:function(e){this.user=e},setPassword:function(e){this.password=e},setHost:function(e){this.host=e},setPort:function(e){this.port=e},setRelative:function(e){this.relative=e},setPath:function(e){this.path=e},setDirectory:function(e){this.directory=e},setFile:function(e){this.file=e},setQuery:function(e){this.query=e},setAnchor:function(e){this.anchor=e},parse:function(e,a){const c=this;e=(a?g:k).exec(e);c.setSource(e[0]||
"");c.setProtocol(e[1]||"");c.setAuthority(e[2]||"");c.setUserInfo(e[3]||"");c.setUser(e[4]||"");c.setPassword(e[5]||"");c.setHost(e[6]||"");c.setPort(e[7]||"");c.setRelative(e[8]||"");c.setPath(e[9]||"");c.setDirectory(e[10]||"");c.setFile(e[11]||"");c.setQuery(e[12]||"");c.setAnchor(e[13]||"");c.queryPairs={};c.query.replace(f,(a,d,e)=>{d&&(c.queryPairs[d]=e)})},decodeQueryParam:e=>decodeURIComponent(e).replace("+"," "),getQuery:function(){var e=this.queryPairs;const a=[];for(const c in e)a.push(c+
"="+encodeURIComponent(this.getQueryParam(c)));e=a.join("&");return 0<e.length?"?"+e:e},getQueryParam:function(e){e=this.queryPairs[e];return null==e?void 0:this.decodeQueryParam(e)},getPathParts:function(e){const a=this.path.split("/");if(!e)for(e=a.length;e;)0===a[--e].length&&a.splice(e,1);return a},toString:function(e){const a=this.protocol,c=this.host,h=this.userInfo,d=this.port,b=this.path;e=e?this.query?"?"+this.query:"":this.getQuery();const g=this.anchor;let l="";a&&(l+=a+"://");h&&c&&(l+=
h+"@");c&&(l+=c,d&&(l+=":"+d));b?l+=b:c&&(e||g)&&(l+="/");e&&(l+=e);g&&(l+="#"+g);return l}})})(myt);
(b=>{const f=b.Geometry={getClosestPointOnALineToAPoint:(b,g,e,a,c,h)=>{e-=b;a-=g;c=(e*(c-b)+a*(h-g))/(e*e+a*a);return{x:b+e*c,y:g+a*c}},getClosestPointOnASegmentToAPoint:(b,g,e,a,c,h)=>{const d=e-b,m=a-g;c=(d*(c-b)+m*(h-g))/(d*d+m*m);return 0>c?{x:b,y:g}:1<c?{x:e,y:a}:{x:b+d*c,y:g+m*c}},isPointInPath:(b,g,e,a)=>{"object"===typeof b&&(a=e,e=g,g=b.y,b=b.x);if(f.rectContainsPoint(b,g,e)&&(e=a.length,6<=e)){let c=!1,h=a[0],d=a[1],m,f;for(;e;)f=a[--e],m=a[--e],f>g!==d>g&&b<(h-m)*(g-f)/(d-f)+m&&(c=!c),
h=m,d=f;return c}return!1},rectContainsPoint:(b,g,e,a,c,h)=>{"object"===typeof b&&(h=c,c=a,a=e,e=g,g=b.y,b=b.x);"object"===typeof e&&(h=e.height,c=e.width,a=e.y,e=e.x);return b>=e&&g>=a&&b<=e+c&&g<=a+h},circleContainsPoint:(b,g,e,a,c)=>f.measureDistance(b,g,e,a,!0)<=c*c,measureDistance:(b,g,e,a,c)=>{b=e-b;g=a-g;g=b*b+g*g;return c?g:Math.sqrt(g)},degreesToRadians:b=>b*Math.PI/180,radiansToDegrees:b=>180*b/Math.PI,circleContainsLatLng:(b,g,e,a,c,h)=>f.measureLatLngDistance(b,g,e,a,h)<=c,measureLatLngDistance:(b,
g,e,a,c)=>{void 0===c&&(c=6371);b=f.degreesToRadians(b);g=f.degreesToRadians(g);e=f.degreesToRadians(e);a=f.degreesToRadians(a);return c*Math.acos(Math.sin(b)*Math.sin(e)+Math.cos(b)*Math.cos(e)*Math.cos(a-g))},polarToCartesian:(b,g,e,a)=>{null==e&&(e=0);null==a&&(a=0);g%=360;let c;0===g?(g=b,b=0):90===g?g=0:180===g?(g=-b,b=0):270===g?(g=0,b=-b):(c=f.degreesToRadians(g),g=b*Math.cos(c),b*=Math.sin(c));return[e+g,a+b]},cartesianToPolar:(b,g,e,a,c)=>{null==e&&(e=0);null==a&&(a=0);b-=e;a=g-a;g=Math.sqrt(b*
b+a*a);a=Math.atan2(a,b);0>a&&(a+=2*Math.PI);return[g,c?a:f.radiansToDegrees(a)]}}})(myt);
(b=>{const f=JS.Module;b.Observable=new f("Observable",{attachObserver:function(b,g,e){return b&&g&&e?(this.getObservers(e).push(g,b),!0):!1},detachObserver:function(b,g,e){if(b&&g&&e){var a=this.__obsbt;if(a&&(e=a[e])){a=!1;let c=e.length;for(;c;)--c,b===e[c--]&&g===e[c]&&(e.splice(c,2),a=!0);return a}}return!1},detachAllObservers:function(){const b=this.__obsbt;if(b)for(const g in b){const e=b[g];let a=e.length;for(;a;){const c=e[--a],h=e[--a];c&&h&&("function"===typeof c.detachFrom&&c.detachFrom(this,
h,g)||e.splice(a,2))}}},getObservers:function(b){const g=this.__obsbt||(this.__obsbt={});return g[b]||(g[b]=[])},hasObservers:function(b){const g=this.__obsbt;return g?(b=g[b])&&0<b.length:!1},createEvent:function(b,g){return{source:this,type:b,value:g}},isFiringEvent:function(b){return(this.__aet||(this.__aet={}))[b]},fireEvent:function(f,g,e){if(e=e||(this.hasObservers(f)?this.__obsbt[f]:null)){g={source:this,type:f,value:g};const a=this.__aet||(this.__aet={});if(!0===a[f])b.global.error.notifyWarn("eventLoop",
"Attempt to refire active event: "+f);else{a[f]=!0;let c=e.length;for(;c;){const a=e[--c],d=e[--c];if(a&&d)try{if("function"===typeof d){if(d.call(a,g))break}else if(a[d](g))break}catch(m){b.dumpStack(m)}}a[f]=!1}}}});b.Observer=new f("Observer",{syncTo:function(f,g,e,a,c){void 0===a&&(a=e);try{this[g](f.createEvent(e,f.get(a)))}catch(h){b.dumpStack(h)}c||this.attachTo(f,g,e,c)},isAttachedTo:function(b,g,e){if(b&&g&&e){var a=this.__obt;if(a&&(e=a[e]))for(a=e.length;a;)if(--a,b===e[a--]&&g===e[a])return!0}return!1},
getObservables:function(b){const g=this.__obt||(this.__obt={});return g[b]||(g[b]=[])},hasObservables:function(b){const g=this.__obt;return g?(b=g[b])&&0<b.length:!1},attachTo:function(b,g,e,a){if(b&&g&&e){const c=this.getObservables(e);if(a){const a=this,d=g;void 0===this.__methodNameCounter&&(this.__methodNameCounter=0);g="__DO_ONCE_"+this.__methodNameCounter++;this[g]=c=>{a.detachFrom(b,g,e);delete a[g];return a[d](c)}}if(b.attachObserver(this,g,e))return c.push(g,b),!0}return!1},detachFrom:function(b,
g,e){if(b&&g&&e){var a=this.__obt;if(a&&(a=a[e])){let c=!1,h=a.length;for(;h;)--h,b===a[h--]&&g===a[h]&&b.detachObserver(this,g,e)&&(a.splice(h,2),c=!0);return c}}return!1},detachFromAllObservables:function(){const b=this.__obt;if(b)for(const g in b){const e=b[g];let a=e.length;for(;a;)e[--a].detachObserver(this,e[--a],g);e.length=0}},constrain:function(f,g){if(f&&g){const a=g.length;if(0!==a%2)console.log("Observables not even.",this);else{var e=this.__cbmn||(this.__cbmn={});e=e[f]||(e[f]=[]);if(0<
e.length)console.log("Constraint already exists for "+f+" on "+this);else{for(let c=0;a!==c;){const a=g[c++],d=g[c++];a&&d&&(this.attachTo(a,f,d),e.push(a,d))}try{this[f]()}catch(c){b.dumpStack(c)}}}}},releaseConstraint:function(b){if(b){var g=this.__cbmn;if(g&&(g=g[b])){let e=g.length;for(;e;){const a=g[--e],c=g[--e];this.detachFrom(c,b,a)}g.length=0}}},releaseAllConstraints:function(){const b=this.__cbmn;if(b)for(const g in b)this.releaseConstraint(g)}})})(myt);
myt.global=new JS.Singleton("Global",{include:[myt.Observable],register:function(b,f){this.hasOwnProperty(b)&&(console.log("Warning: myt.global key in use: ",b),this.unregister(b));this[b]=f;this.fireEvent("register"+b,f)},unregister:function(b){if(this.hasOwnProperty(b)){const f=this[b];delete this[b];this.fireEvent("unregister"+b,f)}else console.log("Warning: myt.global key not in use: ",b)}});
new JS.Singleton("GlobalError",{include:[myt.Observable],initialize:function(){this.setStackTraceLimit(50);this.setConsoleLogging(!0);myt.global.register("error",this)},setConsoleLogging:function(b){this.consoleLogging=b},setStackTraceLimit:function(b){Error.stackTraceLimit=this.stackTraceLimit=b},notifyError:function(b,f,k){this.notify("error",b,f,k)},notifyWarn:function(b,f,k){this.notify("warn",b,f,k)},notifyMsg:function(b,f,k){this.notify("log",b,f,k)},notifyDebug:function(b,f,k){this.notify("debug",
b,f,k)},notify:function(b,f,k,g){g||(g=Error(k||f));g=g.stack||g.stacktrace;this.fireEvent(f||"error",{msg:k,stacktrace:g});if(this.consoleLogging&&b)console[b](g)}});
(b=>{const f=global,k=document,g=b.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createDomElement:(b,a,c)=>{b=k.createElement(b);let h;if(c)for(h in c)b[h]=c[h];if(a)for(h in a)b.style[h]=a[h];return b},isDomElementVisible:b=>{if("INPUT"===b.nodeName&&"hidden"===b.type)return!1;for(;b;){if(b===k)return!0;const a=f.getComputedStyle(b);if("none"===a.display||"hidden"===a.visibility)break;b=b.parentNode}return!1},getZIndexRelativeToAncestor:(b,a)=>{if(b&&a)for(b=g.getAncestorArray(b,a),a=
b.length-1;a;){const c=f.getComputedStyle(b[--a]),h=c.zIndex,d="auto"===h;if(0===a||!d||1!==parseInt(c.opacity,10))return d?0:parseInt(h,10)}return 0},getAncestorArray:(b,a)=>{const c=[];for(;b;){c.push(b);if(b===a)break;b=b.parentNode}return c},getHighestZIndex:b=>{var a=f.getComputedStyle(b);let c=a.zIndex;var h="auto"===c;if(h&&1===parseInt(a.opacity,10))for(c=0,b=b.childNodes,a=b.length;a;)h=b[--a],1===h.nodeType&&(c=Math.max(c,g.getHighestZIndex(h)));else c=h?0:parseInt(c,10);return c},getPagePosition:(b,
a)=>{if(!b)return null;const c="Firefox"===BrowserDetect.browser?2:1;let h=0,d=0;for(;b&&"BODY"!==b.nodeName&&b!==a;)if(h+=b.offsetLeft,d+=b.offsetTop,(b=b.offsetParent)&&"BODY"!==b.nodeName){const a=f.getComputedStyle(b);h+=c*parseInt(a.borderLeftWidth,10)-b.scrollLeft;d+=c*parseInt(a.borderTopWidth,10)-b.scrollTop}return{x:h,y:d}},getTruePagePosition:b=>{if(!b)return null;b=$(b).offset();return{x:b.left,y:b.top}},simulateDomEvent:(b,a,c)=>{if(b){const h={pointerX:0,pointerY:0,button:0,ctrlKey:!1,
altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},d={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(c)for(let a in c)h[a]=c[a];let e;for(let c in d)if(d[c].test(a)){e=c;break}if(!e)throw new SyntaxError("Only HTMLEvent and MouseEvent interfaces supported");if(k.createEvent)c=k.createEvent(e),"HTMLEvents"===e?c.initEvent(a,h.bubbles,h.cancelable):c.initMouseEvent(a,h.bubbles,
h.cancelable,k.defaultView,h.button,h.pointerX,h.pointerY,h.pointerX,h.pointerY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,null),b.dispatchEvent(c);else{h.clientX=h.pointerX;h.clientY=h.pointerY;c=k.createEventObject();for(const a in h)c[a]=h[a];b.fireEvent("on"+a,c)}}},getScrollbarSize:b.memoize(()=>{const b=k.body,a=g.createDomElement("div",{width:"100px",height:"100px",overflow:"scroll"});b.appendChild(a);const c=a.offsetWidth-a.clientWidth;b.removeChild(a);return c})},getInnerDomElement:function(){return this.domElement},
getOuterDomElement:function(){return this.__oE},getInnerDomStyle:function(){return this.deStyle},getOuterDomStyle:function(){return this.__oS},setDomElement:function(b){let a;Array.isArray(b)?(a=b[0],b=b[1]):a=b;this.domElement=b;this.__oE=a;this.deStyle=b.style;this.__oS=a.style;b.model=a.model=this},removeDomElement:function(){const b=this.getOuterDomElement();b.parentNode.removeChild(b)},disposeOfDomElement:function(){delete this.domElement.model;delete this.deStyle;delete this.domElement;delete this.__oE.model;
delete this.__oS;delete this.__oE},setDomClass:function(b){this.domElement.className=this.domClass=b},addDomClass:function(b){const a=this.domElement.className;this.setDomClass((a?a+" ":"")+b)},removeDomClass:function(b){var a=this.domElement.className;if(a){a=a.split(" ");let c=a.length;for(;c;)a[--c]===b&&a.splice(c,1);this.setDomClass(a.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(b){this.domElement.id=this.domId=b},setZIndex:function(b){this.deStyle.zIndex=b},
setStyleProperty:function(b,a){this.deStyle[b]=a},getPagePosition:function(){return g.getPagePosition(this.domElement)},getTruePagePosition:function(){return g.getTruePagePosition(this.domElement)},simulateClick:function(){g.simulateDomEvent(this.domElement,"click")},getHighestZIndex:function(){return g.getHighestZIndex(this.domElement)},getHighestChildZIndex:function(b){const a=this.domElement.childNodes;let c=a.length,h=0;for(;c;){const d=a[--c];1===d.nodeType&&d!==b&&(h=Math.max(h,g.getHighestZIndex(d)))}return h},
makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.domElement)+1)},scrollYTo:function(b,a){(a?this.getInnerDomElement():this.getOuterDomElement()).scrollTop=b||0}})})(myt);
(b=>{let f;const k=b=>{for(;b.lastChild;)b=b.lastChild;return b},g=(e,a)=>{f.lastTraversalWasForward=e;let c=document.body,h=c;var d=document.activeElement;let m=h,g;const l=e?"getNextFocus":"getPrevFocus";d&&(m=h=d,(d=h.model)||(d=f.findModelForDomElement(h)),d&&(a=d.getFocusTrap(a)))&&(c=a.domElement);for(;m;){if(m.model&&m.model[l]&&(g=m.model[l]()))m=g.domElement;else if(e)if(m.firstChild)m=m.firstChild;else{if(m===c)return h.model;if(m.nextSibling)m=m.nextSibling;else for(;m&&(m=m.parentNode,
m!==c);)if(m.nextSibling){m=m.nextSibling;break}}else m=m===c?k(c):m.previousSibling?k(m.previousSibling):m.parentNode;if(m===h)return h.model;if(1===m.nodeType)if((d=m.model)&&d instanceof b.View){if(d.isFocusable())return d}else if(a=m.nodeName,!("A"!==a&&"AREA"!==a&&"INPUT"!==a&&"TEXTAREA"!==a&&"SELECT"!==a&&"BUTTON"!==a||m.disabled||isNaN(m.tabIndex)||!b.DomElementProxy.isDomElementVisible(m)||(d=f.findModelForDomElement(m),d&&d.searchAncestorsOrSelf(a=>!0===a.maskFocus)))){m.focus();f.focusedDom=
m;break}}return null};new JS.Singleton("GlobalFocus",{include:[b.Observable],initialize:function(){this.lastTraversalWasForward=!0;b.global.register("focus",f=this)},setFocusedView:b=>{if(f.focusedView!==b){f.prevFocusedView=f.focusedView;if(f.focusedView=b)f.focusedDom=null;f.fireEvent("focused",b)}},notifyFocus:b=>{f.focusedView!==b&&f.setFocusedView(b)},notifyBlur:b=>{f.focusedView===b&&f.setFocusedView(null)},clear:()=>{f.focusedView?f.focusedView.blur():f.focusedDom&&(f.focusedDom.blur(),f.focusedDom=
null)},next:b=>{(b=g(!0,b))&&b.focus()},prev:b=>{(b=g(!1,b))&&b.focus()},findModelForDomElement:e=>{for(;e;){let a=e.model;if(a&&a instanceof b.View)return a;e=e.parentNode}return null}})})(myt);
(b=>{const f=JS.Module,k=b.global.focus,g=()=>({source:null,type:null,value:null});b.DomObservable=new f("DomObservable",{attachDomObserver:function(e,a,c,h,d){if(e&&a&&c){h=!!h;const m=this.createDomMethodRef(e,a,c);if(m){const g=this.__dobsbt||(this.__dobsbt={}),l=g[c];l?l.push(e,a,m,h):g[c]=[e,a,m,h];b.addEventListener(this.getInnerDomElement(),c,m,h,d);return!0}}return!1},createDomMethodRef:(b,a,c)=>null,createStandardDomMethodRef:function(b,a,c,h,d){if(h.EVENT_TYPES[c]){const c=this,e=h.EVENT;
return l=>{l||(l=window.event);e.source=c;e.type=l.type;e.value=l;b[a](e)||(l.cancelBubble=!0,l.stopPropagation&&l.stopPropagation(),d&&l.preventDefault());e.source=void 0}}},detachDomObserver:function(e,a,c,h){if(e&&a&&c){h=!!h;var d=this.__dobsbt;if(d&&(d=d[c])){const m=this.getInnerDomElement();let g=!1,l=d.length;for(;l;)l-=4,e===d[l]&&a===d[l+1]&&h===d[l+3]&&(m&&b.removeEventListener(m,c,d[l+2],h),d.splice(l,4),g=!0);return g}}return!1},detachAllDomObservers:function(){const e=this.getInnerDomElement();
if(e){const a=this.__dobsbt;if(a)for(const c in a){const h=a[c];let d=h.length;for(;d;){const a=h[--d],g=h[--d];d-=2;b.removeEventListener(e,c,g,a)}h.length=0}}}});b.DomObserver=new f("DomObserver",{attachToDom:function(b,a,c,h,d){if(b&&a&&c){h=!!h;var e=this.__dobt||(this.__dobt={});e=e[c]||(e[c]=[]);b.attachDomObserver(this,a,c,h,d)&&e.push(h,a,b)}},detachFromDom:function(b,a,c,h){if(b&&a&&c){h=!!h;var d=this.__dobt;if(d&&(d=d[c])){let e=!1,g=d.length;for(;g;)g-=3,b===d[g+2]&&a===d[g+1]&&h===d[g]&&
b.detachDomObserver(this,a,c,h)&&(d.splice(g,3),e=!0);return e}}return!1},detachFromAllDomSources:function(){const b=this.__dobt;if(b)for(const a in b){const c=b[a];let h=c.length;for(;h;)c[--h].detachDomObserver(this,c[--h],a,c[--h]);c.length=0}}});b.KeyObservable=new f("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:g(),getKeyCodeFromEvent:b=>b.value.keyCode||b.value.charCode},createDomMethodRef:function(e,a,c){return this.createStandardDomMethodRef(e,a,c,b.KeyObservable)||
this.callSuper(e,a,c)}});b.MouseObservable=new f("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:g(),getMouseFromEvent:b=>({x:b.value.pageX,y:b.value.pageY}),getMouseFromEventRelativeToView:function(b,a){a=a.getPagePosition();b=this.getMouseFromEvent(b);b.x-=a.x;b.y-=a.y;return b}},createDomMethodRef:function(e,a,c){return this.createStandardDomMethodRef(e,a,c,b.MouseObservable,!0)||this.callSuper(e,
a,c)}});b.ScrollObservable=new f("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:g(),getScrollFromEvent:b=>{b=b.value.target||b.value.srcElement;return{x:b.scrollLeft,y:b.scrollTop}}},createDomMethodRef:function(e,a,c){return this.createStandardDomMethodRef(e,a,c,b.ScrollObservable)||this.callSuper(e,a,c)}});b.TouchObservable=new f("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:g()},createDomMethodRef:function(e,a,c){return this.createStandardDomMethodRef(e,
a,c,b.TouchObservable,!1)||this.callSuper(e,a,c)}});b.FocusObservable=new f("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:g()},initNode:function(b,a){this.focusable=!1;this.focusEmbellishment=!0;this.callSuper(b,a)},destroyBeforeOrphaning:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(b){this.focused!==b&&(this.focused=b,this.inited&&(this.fireEvent("focused",b),b?k.notifyFocus(this):k.notifyBlur(this)))},setFocusable:function(b){if(this.focusable!==b){const a=
this.focusable;(this.focusable=b)?(this.getInnerDomElement().tabIndex=0,this.attachToDom(this,"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):a&&(this.getInnerDomElement().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",b)}},setFocusEmbellishment:function(b){this.focusEmbellishment!==b&&(this.focusEmbellishment=b,this.focused&&(b?this.showFocusEmbellishment():this.hideFocusEmbellishment()))},
giveAwayFocus:function(){this.focused&&(k.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&!this.disabled&&this.isVisible()&&null===this.searchAncestorsOrSelf(b=>!0===b.maskFocus)},focus:function(b){this.isFocusable()&&this.getInnerDomElement().focus({preventScroll:b})},blur:function(){this.getInnerDomElement().blur()},__doFocus:function(b){this.focused||(this.setFocused(!0),this.doFocus())},__doBlur:function(b){this.focused&&(this.doBlur(),this.setFocused(!1))},doFocus:function(){this.focusEmbellishment?
this.showFocusEmbellishment():this.hideFocusEmbellishment()},doBlur:function(){this.focusEmbellishment&&this.hideFocusEmbellishment()},showFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!1;const b=this.getInnerDomStyle();b.outlineWidth="thin";b.outlineColor="#8bf";b.outlineStyle="solid";b.outlineOffset="0px"},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideDefaultFocusEmbellishment:function(){this.getInnerDomElement().hideFocus=!0;this.getInnerDomStyle().outlineStyle=
"none"},createDomMethodRef:function(e,a,c){if(b.FocusObservable.EVENT_TYPES[c]){const c=this;return d=>{d||(d=window.event);if(c._ignoreFocus)d.cancelBubble=!0,d.stopPropagation&&d.stopPropagation(),d.preventDefault();else{var h=b.FocusObservable.EVENT;h.source=c;h.type=d.type;h.value=d;e[a](h)||(d.cancelBubble=!0,d.stopPropagation&&d.stopPropagation());h.source=void 0}}}return this.callSuper(e,a,c)}});b.InputObservable=new f("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0},EVENT:g()},
createDomMethodRef:function(e,a,c){return this.createStandardDomMethodRef(e,a,c,b.InputObservable)||this.callSuper(e,a,c)}});b.DragDropObservable=new f("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:g()},createDomMethodRef:function(e,a,c){return this.createStandardDomMethodRef(e,a,c,b.DragDropObservable,!0)||this.callSuper(e,a,c)}})})(myt);
(b=>{let f,k={};const g=b.global,e=g.focus,a="Firefox"===BrowserDetect.browser,c=a?224:91,h=a?224:93,d=()=>!!k[c]||!!k[h],m=(a,d)=>{switch(a){case 8:a=d.nodeName;if("TEXTAREA"===a||"INPUT"===a&&("text"===d.type||"password"===d.type)||"DIV"===a&&"true"===d.contentEditable&&d.firstChild)break;return!0;case 9:return!0}return!1};new JS.Singleton("GlobalKeys",{include:[b.DomElementProxy,b.DomObservable,b.DomObserver,b.KeyObservable,b.Observable,b.Observer],initialize:function(){g.register("keys",f=this);
f.KEYCODE_TAB=9;f.KEYCODE_SHIFT=16;f.KEYCODE_CONTROL=17;f.KEYCODE_ALT=18;f.KEYCODE_Z=90;f.KEYCODE_COMMAND=c;f.KEYCODE_RIGHT_COMMAND=h;f.setDomElement(document);f.attachTo(e,"__handleFocused","focused");f.__listenToDocument();global.onblur=()=>{k={}}},isKeyDown:a=>!!k[a],isShiftKeyDown:()=>!!k[16],isControlKeyDown:()=>!!k[17],isAltKeyDown:()=>!!k[18],isCommandKeyDown:d,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?d():!!k[17],ignoreFocusTrap:()=>!!k[18],__handleFocused:a=>{if(a=a.value)f.detachFromDom(f,
"__handleKeyDown","keydown"),f.detachFromDom(f,"__handleKeyPress","keypress"),f.detachFromDom(f,"__handleKeyUp","keyup"),f.attachToDom(a,"__handleKeyDown","keydown"),f.attachToDom(a,"__handleKeyPress","keypress"),f.attachToDom(a,"__handleKeyUp","keyup");else{if(a=e.prevFocusedView)f.detachFromDom(a,"__handleKeyDown","keydown"),f.detachFromDom(a,"__handleKeyPress","keypress"),f.detachFromDom(a,"__handleKeyUp","keyup");f.__listenToDocument()}},__listenToDocument:()=>{f.attachToDom(f,"__handleKeyDown",
"keydown");f.attachToDom(f,"__handleKeyPress","keypress");f.attachToDom(f,"__handleKeyUp","keyup")},__handleKeyDown:a=>{const c=b.KeyObservable.getKeyCodeFromEvent(a);a=a.value;m(c,a.target)&&a.preventDefault();d()&&16!==c&&17!==c&&18!==c?(f.fireEvent("keydown",c),f.fireEvent("keyup",c)):(k[c]=!0,9===c&&(a=!!k[18],k[16]?e.prev(a):e.next(a)),f.fireEvent("keydown",c))},__handleKeyPress:a=>{f.fireEvent("keypress",b.KeyObservable.getKeyCodeFromEvent(a))},__handleKeyUp:a=>{const d=b.KeyObservable.getKeyCodeFromEvent(a);
a=a.value;m(d,a.target)&&a.preventDefault();k[d]=!1;f.fireEvent("keyup",d)}})})(myt);new JS.Singleton("GlobalTouch",{include:[myt.DomElementProxy,myt.DomObservable,myt.TouchObservable],initialize:function(){this.setDomElement(document);myt.global.register("touch",this)}});
myt.FlexBoxChildSupport=new JS.Module("FlexBoxChildSupport",{setParent:function(b){const f=this.isChildOfFlexBox();this.callSuper(b);this._isChildOfFlexBox=this.parent&&this.parent.isA(myt.FlexBoxSupport);this.inited&&f&&!this.isChildOfFlexBox()&&this._syncDomToModel()},_syncDomToModel:function(){const b=this.getOuterDomStyle();"auto"!==b.width&&(b.width=this.width+"px");"auto"!==b.height&&(b.height=this.height+"px");this.syncInnerToOuter()},setWidth:function(b,f){null==b||""===b?(this.getOuterDomStyle().width=
"",this.__syncModelToOuterBoundsWidth()):this.callSuper(b,f);this.__syncInnerWidthToOuterWidth()},setHeight:function(b,f){null==b||""===b?(this.getOuterDomStyle().height="",this.__syncModelToOuterBoundsHeight()):this.callSuper(b,f);this.__syncInnerHeightToOuterHeight()},setFlexGrow:function(b){this.flexGrow!==b&&(this.getOuterDomStyle().flexGrow=this.flexGrow=b,this.inited&&(this.fireEvent("flexGrow",b),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setFlexShrink:function(b){this.flexShrink!==
b&&(this.getOuterDomStyle().flexShrink=this.flexShrink=b,this.inited&&(this.fireEvent("flexShrink",b),this.parent&&this.parent.__syncSubviews&&this.parent.__syncSubviews()))},setAlignSelf:function(b){if(this.alignSelf!==b){let f=this.alignSelf=b;switch(f){case "start":f="flex-start";break;case "end":f="flex-end"}this.getOuterDomStyle().alignSelf=f;this.inited&&this.fireEvent("alignSelf",b)}},isChildOfFlexBox:function(){return this._isChildOfFlexBox},syncModelToOuterBounds:function(){const b=this.getOuterDomElement();
this.__syncModelToOuterBoundsWidth(b);this.__syncModelToOuterBoundsHeight(b)},__syncModelToOuterBoundsWidth:function(b){const f=this.getInnerDomStyle();b||(b=this.getOuterDomElement());"auto"===f.width?this.getOuterDomStyle().width="auto":this.__setInnerWidth(b.clientWidth);this.fireEvent("width",this.width=b.clientWidth)},__syncModelToOuterBoundsHeight:function(b){const f=this.getInnerDomStyle();b||(b=this.getOuterDomElement());"auto"===f.height?this.getOuterDomStyle().height="auto":this.__setInnerHeight(b.clientHeight);
this.fireEvent("height",this.height=b.clientHeight)},syncInnerToOuter:function(){this.__syncInnerWidthToOuterWidth();this.__syncInnerHeightToOuterHeight()},__syncInnerWidthToOuterWidth:function(){"auto"!==this.getInnerDomStyle().width&&this.__setInnerWidth(this.getOuterDomElement().clientWidth)},__syncInnerHeightToOuterHeight:function(){"auto"!==this.getInnerDomStyle().height&&this.__setInnerHeight(this.getOuterDomElement().clientHeight)},__setInnerWidth:function(b){this.getInnerDomStyle().width=
b+"px"},__setInnerHeight:function(b){this.getInnerDomStyle().height=b+"px"},createOurDomElement:function(b){b=this.callSuper(b);const f=document.createElement("div");f.style.position="relative";b.appendChild(f);return[b,f]}});
(b=>{const f={},k={},g=(a,d)=>d+a.substring(0,1).toUpperCase()+a.substring(1),e=a=>k[a]||(k[a]=g(a,"set")),a=a=>f[a]||(f[a]=g(a,"get")),c=(a,d,c)=>{null==a[d]&&(a[d]=c)};b.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:e,generateGetterName:a,generateName:g,createSetterFunction:(a,d)=>{const c=e(d);a[c]&&console.log("Overwriting setter",c);a[c]=c=>{a[d]!==c&&(a[d]=c,a.inited&&a.fireEvent(d,c))}},createGetterFunction:(c,d)=>{const b=a(d);c[b]&&console.log("Overwriting getter",
b);c[b]=()=>c[d]},defAttr:c},appendToEarlyAttrs:function(){Array.prototype.push.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},prependToEarlyAttrs:function(){Array.prototype.unshift.apply(this.earlyAttrs||(this.earlyAttrs=[]),arguments)},appendToLateAttrs:function(){Array.prototype.push.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},prependToLateAttrs:function(){Array.prototype.unshift.apply(this.lateAttrs||(this.lateAttrs=[]),arguments)},defAttr:c,quickSet:function(a,d){(a||[]).forEach(a=>
{this[a]=d[a];delete d[a]})},callSetters:function(a){const d=this.earlyAttrs,c=this.lateAttrs;let b,l;let h;if(d||c){var e={};for(b in a)e[b]=a[b];a=e;if(d)for(e=0,h=d.length;h>e;)b=d[e++],b in a&&(this.set(b,a[b]),delete a[b]);if(c)for(l=[],e=0,h=c.length;h>e;)b=c[e++],b in a&&(l.push(b,a[b]),delete a[b])}for(b in a)this.set(b,a[b]);if(l)for(e=0,h=l.length;h>e;)this.set(l[e++],l[e++])},get:function(c){const d=a(c);return this[d]?this[d]():this[c]},set:function(a,d,c){if(!c&&(c=e(a),this[c]))return this[c](d);
this[a]!==d&&(this[a]=d,!1!==this.inited&&this.fireEvent&&this.fireEvent(a,d))}})})(myt);myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{let b,f;const k=this.__meta__;if(k)for(b=Object.keys(k),f=b.length;f;)delete k[b[--f]];b=Object.keys(this);for(f=b.length;f;)delete this[b[--f]];this.destroyed=!0}}});
(b=>{const f=JS.Class,k=JS.Module,g=new f("AbstractPool",{include:[b.Destructible],initialize:()=>{},destroy:function(){const a=this.__op;a&&(a.length=0);this.callSuper()},getInstance:function(){const a=this.__op||(this.__op=[]);return a.length?a.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(a){(this.__op||(this.__op=[])).push(this.cleanInstance(a))},cleanInstance:a=>{"function"===typeof a.clean&&a.clean();return a},destroyPooledInstances:function(){var a=
this.__op;if(a){let d=a.length;for(;d;){const c=a[--d];"function"===typeof c.destroy&&c.destroy()}}}}),e=b.SimplePool=new f("SimplePool",g,{initialize:function(a,d){this.callSuper();this.instanceClass=a||Object;this.instanceParent=d},createInstance:function(a){var d=this.instanceParent,c=this.instanceClass;return d?new c(d,a):new c}}),a=new k("TrackActives",{destroy:function(){const a=this.__actives;a&&(a.length=0);this.callSuper()},getInstance:function(){const a=this.callSuper();(this.__actives||
(this.__actives=[])).push(a);return a},putInstance:function(a){var d=this.__actives;if(d){let c=d.length;for(;c;)if(d[--c]===a){d.splice(c,1);this.callSuper(a);return}d="non-active"}else d="non-existant";console.warn("Attempt to put a "+d+" instance.",a,this)},getActives:function(a){const d=this.__actives;if(d){if(a){const c=[],b=d.length;for(let l=0;b>l;){const b=d[l++];a.call(this,b)&&c.push(b)}return c}return d.concat()}return[]},putActives:function(){const a=this.__actives;if(a){let d=a.length;
for(;d;)this.putInstance(a[--d])}}}),c=b.TrackActivesPool=new f("TrackActivesPool",e,{include:[a]});b.TrackActivesMultiPool=new f("TrackActivesMultiPool",g,{initialize:function(a,d){this.callSuper();this.instanceClassesByKey=a;const b=this._poolsByClassName={},h=this._poolsByKey={};for(let l in a){const e=a[l];h[l]=b[e.__displayName]=new c(e,d)}},destroy:function(){const a=this._poolsByKey;for(let d in a)a[d].destroy();this.callSuper()},getInstance:function(){const a=arguments[0],d=this._poolsByKey[a];
if(d)return d.getInstance(arguments);console.warn("No pool found for key:",a)},putInstance:function(a){const d=this._poolsByClassName[a.klass.__displayName];d?d.putInstance(a):console.warn("No pool found for obj:",a)},destroyPooledInstances:function(){const a=this._poolsByKey;for(let d in a)a[d].destroyPooledInstances()},getActives:function(a){let d=[];const c=this._poolsByKey;for(let b in c)d=d.concat(c[b].getActives(a));return d},putActives:function(){const a=this._poolsByKey;for(let d in a)a[d].putActives()}});
b.Reusable=new k("Reusable",{clean:()=>{}})})(myt);
(b=>{const f=(a,c)=>{if(c)for(;a;){if(c(a))return a;a=a.parent}return null},k=(a,c)=>{const b=c.name;void 0===a[b]?a[b]=c:console.log("Name in use:"+b)},g=(a,c)=>{const b=c.name;a[b]===c?delete a[b]:console.log("Name not in use:"+b)},e=a=>a.__animPool||(a.__animPool=new b.TrackActivesPool(b.Animator,a));b.Node=new JS.Class("Node",{include:[b.AccessorSupport,b.Destructible,b.Observable,b.Observer],extend:{getMatchingAncestorOrSelf:f,getMatchingAncestor:(a,c)=>f(a?a.parent:null,c)},initialize:function(a,
c,b){if(b){const a=b.length;for(let d=0,c;a>d;)(c=b[d++])?this.extend(c):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.initNode(a,c||{})},initNode:function(a,c){this.callSetters(c);this.doBeforeAdoption();this.setParent(a);this.doAfterAdoption();this.inited=!0},doBeforeAdoption:()=>{},doAfterAdoption:()=>{},destroy:function(){const a=this.subnodes;this.isBeingDestroyed=!0;if(a){let c=a.length;for(;c;)a[--c].destroy()}this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());
this.destroyBeforeOrphaning();this.parent&&this.setParent(null);this.destroyAfterOrphaning();this.callSuper()},destroyBeforeOrphaning:()=>{},destroyAfterOrphaning:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers()},setPlacement:function(a){this.placement=a},setDefaultPlacement:function(a){this.defaultPlacement=a},setIgnorePlacement:function(a){this.ignorePlacement=a},setParent:function(a){if(a&&!this.ignorePlacement){var c=this.placement||a.defaultPlacement;
c&&(a=a.determinePlacement(c,this))}if(!(this.parent===a||a&&a.destroyed)){if(c=this.parent){let a=c.getSubnodeIndex(this);-1!==a&&(this.name&&g(c,this),c.subnodes.splice(a,1),c.subnodeRemoved(this))}if(this.parent=a)a.getSubnodes().push(this),this.name&&k(a,this),a.subnodeAdded(this);this.inited&&this.fireEvent("parent",a)}},setName:function(a){if(this.name!==a){const c=this.parent;c&&this.name&&g(c,this);this.name=a;c&&a&&k(c,this)}},getSubnodes:function(){return this.subnodes||(this.subnodes=[])},
determinePlacement:function(a,c){let b=a.indexOf("."),d;-1!==b&&(d=a.substring(b+1),a=a.substring(0,b));"*"===a&&(a=this.defaultPlacement)&&(b=a.indexOf("."),-1!==b&&(d=a.substring(b+1)+(d?"."+d:""),a=a.substring(0,b)));return(a=this[a])?d?a.determinePlacement(d,c):a:this},getRoot:function(){return this.parent?this.parent.getRoot():this},isRoot:function(){return null==this.parent},isDescendantOf:function(a){if(a){if(a===this)return!0;if(this.parent)return this.domElement&&a.domElement?a.domElement.contains(this.domElement):
this.parent.isDescendantOf(a)}return!1},isAncestorOf:function(a){return a?a.isDescendantOf(this):!1},getLeastCommonAncestor:function(a){for(;a;){if(this.isDescendantOf(a))return a;a=a.parent}return null},searchAncestorsForClass:function(a){return a?this.searchAncestors(c=>c instanceof a):null},searchAncestors:function(a){return f(this?this.parent:null,a)},searchAncestorsOrSelf:function(a){return f(this,a)},getAncestors:function(){const a=[];let c=this;for(;c;)a.push(c),c=c.parent;return a},hasSubnode:function(a){return-1!==
this.getSubnodeIndex(a)},getSubnodeIndex:function(a){return this.getSubnodes().indexOf(a)},addSubnode:function(a){a.setParent(this)},removeSubnode:function(a){if(a.parent!==this)return null;a.setParent(null);return a},subnodeAdded:a=>{},subnodeRemoved:a=>{},animateOnce:function(a,c,b,d,e){return this.animate(a,c,b,!1,null,d,!1,1,e)},animate:function(a,c,b,d,m,g,l,r,n){const h=e(this),f=h.getInstance({ignorePlacement:!0});"object"===typeof a?(m=a.callback,delete a.callback,f.callSetters(a)):(f.attribute=
a,f.setTo(c),f.setFrom(b),null!=g&&(f.duration=g),null!=d&&(f.relative=d),null!=r&&(f.repeat=r),null!=l&&f.setReverse(l),null!=n&&f.setEasingFunction(n));f.next(a=>{h.putInstance(f)});m&&f.next(m);f.setRunning(!0);return f},getActiveAnimators:function(a){if("string"===typeof a){const c=a;a=a=>a.attribute===c}return e(this).getActives(a)},stopActiveAnimators:function(a,c=!1){a=this.getActiveAnimators(a);let b=a.length;if(0<b){const d=e(this);for(;b;){const h=a[--b];h.reset(c);c||d.putInstance(h)}}},
doOnceOnIdle:function(a){this.attachTo(b.global.idle,a,"idle",!0)}})})(myt);
(b=>{let f=0,k=!1;const g=JS.Class,e=[],a=a=>{if(k!==a&&(k=a,!a)){for(a=e.length;a;){const d=e[--a];d.__deferredLayout=!1;d.update()}e.length=0}},c=(a,d,c,b)=>{const l=a.getSubviewIndex(d),h=a.subviews;0<=l&&(a=a.getSubviewIndex(c),h.splice(l,1),0<=a?(l<a&&--a,h.splice(a+(b?1:0),0,d)):b?h.push(d):h.unshift(d))},h=(a,d,c)=>{a[d]!==c&&(a[d]=c,a.inited&&(a.fireEvent(d,c),a.update()))},d=b.Layout=new g("Layout",b.Node,{extend:{incrementGlobalLock:()=>{1===++f&&a(!0)},decrementGlobalLock:()=>{0<f&&0===
--f&&a(!1)}},initNode:function(a,d){this.subviews=[];this.locked=!0;this.lockedCounter=1;const c=!0===d.locked;delete d.locked;this.callSuper(a,d);c||this.decrementLockedCounter();this.update()},destroyAfterOrphaning:function(){this.callSuper();this.subviews.length=0},setParent:function(a){var d=this.parent;if(d!==a){const c=!this.locked;c&&(this.locked=!0);let b,l;if(d){b=this.subviews;for(l=b.length;l;)this.removeSubview(b[--l]);this.detachFrom(d,"__hndlPSAV","subviewAdded");this.detachFrom(d,"__hndlPSRV",
"subviewRemoved")}this.callSuper(a);if(a=this.parent){b=a.getSubviews();l=0;for(d=b.length;d>l;)this.addSubview(b[l++]);this.attachTo(a,"__hndlPSAV","subviewAdded");this.attachTo(a,"__hndlPSRV","subviewRemoved")}c&&(this.locked=!1,this.inited&&a&&this.update())}},canUpdate:function(){return k?(this.__deferredLayout||(e.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.subviews.indexOf(a)},
addSubview:function(a){this.ignore(a)||(this.subviews.push(a),this.startMonitoringSubview(a),this.locked||this.update())},startMonitoringSubview:a=>{},startMonitoringAllSubviews:function(){const a=this.subviews;let d=a.length;for(;d;)this.startMonitoringSubview(a[--d])},removeSubview:function(a){if(this.ignore(a))return-1;const d=this.getSubviewIndex(a);-1!==d&&(this.stopMonitoringSubview(a),this.subviews.splice(d,1),this.locked||this.update());return d},stopMonitoringSubview:a=>{},stopMonitoringAllSubviews:function(){const a=
this.subviews;let d=a.length;for(;d;)this.stopMonitoringSubview(a[--d])},ignore:a=>a.ignoreLayout,__hndlPSAV:function(a){a.value.parent===this.parent&&this.addSubview(a.value)},__hndlPSRV:function(a){a.value.parent===this.parent&&this.removeSubview(a.value)},sortSubviews:function(a){this.subviews.sort(a)},moveSubviewBefore:function(a,d){c(this,a,d,!1)},moveSubviewAfter:function(a,d){c(this,a,d,!0)}});var m=b.ConstantLayout=new g("ConstantLayout",d,{setTargetAttrName:function(a){this.setterName=b.AccessorSupport.generateSetterName(a);
h(this,"targetAttrName",a)},setTargetValue:function(a){h(this,"targetValue",a)},update:function(){if(this.canUpdate()){const a=this.setterName,d=this.targetValue,c=this.subviews,b=c.length;if(a)for(let l=0;b>l;)c[l++][a](d)}}});m=b.VariableLayout=new g("VariableLayout",m,{initNode:function(a,d){this.collapseParent=this.reverse=!1;this.callSuper(a,d)},setCollapseParent:function(a){h(this,"collapseParent",a)},setReverse:function(a){h(this,"reverse",a)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const d=this.setterName,c=this.subviews;var a=c.length;let b=this.targetValue,l,h=0;if(this.reverse)for(l=a;l;)a=c[--l],this.skipSubview(a)||(b=this.updateSubview(++h,a,d,b));else for(l=0;a>l;){const a=c[l++];this.skipSubview(a)||(b=this.updateSubview(++h,a,d,b))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(d,b);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(a){this.attachTo(a,
"update","visible")},stopMonitoringSubview:function(a){this.detachFrom(a,"update","visible")},updateSubview:(a,d,c,b)=>{d[c](b);return b},skipSubview:a=>!a.visible,updateParent:(a,d)=>{}});const p=b.SpacedLayout=new g("SpacedLayout",m,{initNode:function(a,d){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(a,d)},setTargetAttrName:function(a){if(this.targetAttrName!==
a){const d="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";this.measureAttrBaseName=d?"height":"width";this.parentSetterName=d?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setNoAddSubviewOptimization:function(a){this.noAddSubviewOptimization=a},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){h(this,"spacing",a)},setOutset:function(a){h(this,
"outset",a)},addSubview:function(a){const d=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(a);this.locked=d},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},updateSubview:function(a,d,c,b){a=d[this.measureAttrName];d[c](b+(a-d[this.measureAttrBaseName])/2);return b+a+this.spacing},updateParent:function(a,d){this.parent[this.parentSetterName](d+
this.outset-this.spacing)}});b.ResizeLayout=new g("ResizeLayout",p,{setCollapseParent:function(a){},setTargetAttrName:function(a){if(this.targetAttrName!==a){if(this.inited){const d="x"===a;this.stopMonitoringParent(d?"height":"width");this.startMonitoringParent(d?"width":"height")}this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const d="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(d);this.callSuper(a);this.parent&&this.startMonitoringParent(d)}},
startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},doBeforeUpdate:function(){const a=this.measureAttrName,d=this.subviews;let c=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,b=d.length,h=0,e=0;for(;b;){const l=d[--b];this.skipSubview(l)||(++h,0<l.layoutHint?e+=l.layoutHint:c-=l[a])}0!==h&&(this.remainder=c-=(h-1)*this.spacing,this.resizeSum=e,this.scalingFactor=c/e,this.resizeSumUsed=
this.remainderUsed=0,this.measureSetter="boundsWidth"===a?"setWidth":"setHeight")},updateSubview:function(a,d,c,b){var l=d.layoutHint;0<l&&(this.resizeSumUsed+=l,l=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(l*this.scalingFactor),this.remainderUsed+=l,d[this.measureSetter](l));return this.callSuper(a,d,c,b)},startMonitoringSubview:function(a){0<a.layoutHint||this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update","visible")},stopMonitoringSubview:function(a){0<
a.layoutHint||this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,"update","visible")},updateParent:function(a,d){}});b.AlignedLayout=new g("AlignedLayout",m,{initNode:function(a,d){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(a,d)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const d="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();
this.measureAttrName=d?"boundsHeight":"boundsWidth";this.measureAttrBaseName=d?"height":"width";this.parentSetterName=d?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(a)}},setAlign:function(a){if(this.align!==a){this.align=a;const d=this.locked;this.locked=!0;this.setTargetAttrName("middle"===a||"bottom"===a||"top"===a?"y":"x");this.locked=d;this.inited&&(this.fireEvent("align",a),this.update())}},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);
this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.callSuper(a)},doBeforeUpdate:function(){const a=this.measureAttrName,d=this.subviews;let c=0,b,h=d.length;for(;h;)b=d[--h],this.skipSubview(b)||(c=c>b[a]?c:b[a]);this.setTargetValue(c)},updateSubview:function(a,d,c,b){switch(this.align){case "center":case "middle":d[c]((b-d[this.measureAttrName])/2);break;case "right":case "bottom":d[c](b-d[this.measureAttrName]);break;default:d[c](0)}return b},
updateParent:function(a,d){this.parent[this.parentSetterName](d)}});b.WrappingLayout=new g("WrappingLayout",m,{initNode:function(a,d){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=
0;this.callSuper(a,d)},setTargetAttrName:function(a){if(this.targetAttrName!==a){const d="y"===a,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=d?"boundsHeight":"boundsWidth";const b=this.measureAttrBaseName=d?"height":"width";this.otherMeasureAttrName=d?"boundsWidth":"boundsHeight";const l=this.otherMeasureAttrBaseName=d?"width":"height";this.parentSetterName=d?"setWidth":"setHeight";this.otherSetterName=d?"setX":"setY";c&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(l),
this.startMonitoringParent(b));this.callSuper(a)}},setParent:function(a){if(this.parent!==a){const d="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(d?"height":"width");this.callSuper(a);this.parent&&this.startMonitoringParent(d?"height":"width")}},setAxis:function(a){this.setTargetAttrName(this.axis=a)},setInset:function(a){this.setTargetValue(this.inset=a)},setSpacing:function(a){h(this,"spacing",a)},setOutset:function(a){h(this,"outset",a)},setLineSpacing:function(a){h(this,"lineSpacing",
a)},setLineInset:function(a){h(this,"lineInset",a)},setLineOutset:function(a){h(this,"lineOutset",a)},startMonitoringParent:function(a){this.attachTo(this.parent,"update",a)},stopMonitoringParent:function(a){this.detachFrom(this.parent,"update",a)},startMonitoringSubview:function(a){this.attachTo(a,"update",this.measureAttrName);this.attachTo(a,"update",this.otherMeasureAttrName);this.callSuper(a)},stopMonitoringSubview:function(a){this.detachFrom(a,"update",this.measureAttrName);this.detachFrom(a,
"update",this.otherMeasureAttrName);this.callSuper(a)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(a,d,c,b){a=d[this.measureAttrName];const l=d[this.otherMeasureAttrName];b+a>this.parentSizeLessOutset||"break"===d.layoutHint?(b=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=l,++this.lineCount):l>this.lineSize&&(this.lineSize=
l);d[this.otherSetterName](this.linePos+(l-d[this.otherMeasureAttrBaseName])/2);d[c](b+(a-d[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,b+a+this.outset);return b+a+this.spacing},updateParent:function(a,d){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});b.createFixedThresholdCounter(d,1,"locked")})(myt);
(b=>{const f=b.DomElementProxy,k=(a,d)=>{const c=b.global.focus.focusedView,l=a.getInnerDomElement();if(c===a||c&&c.isDescendantOf(a))c._ignoreFocus=!0;a=l.scrollTop;const h=l.scrollLeft;d.call();c&&(c._ignoreFocus=!1,c.focus(!0));l.scrollTop=a;l.scrollLeft=h},g=(a,d,c,b)=>{if(d&&"object"===typeof d){if(b&&(b=a.getLeastCommonAncestor(d))){var l=b.getInnerDomElement();b=f.getZIndexRelativeToAncestor(a.getOuterDomElement(),l);l=f.getZIndexRelativeToAncestor(d.getOuterDomElement(),l);c&&(b*=-1,l*=-1);
if(b<l)return!0;if(l<b)return!1}a=a.getOuterDomElement().compareDocumentPosition(d.getOuterDomElement());return c?2===a||10===a:4===a||20===a}return!1},e=a=>{a=a.getAncestors();let d=a.length,c=1,b=1;for(;d;){const l=a[--d];c*=l.scaleX||1;b*=l.scaleY||1;l.__effectiveScaleX=c;l.__effectiveScaleY=b}return{scaleX:c,scaleY:b}},a=(d,c,h)=>{const l=d.getOuterDomElement();if(b.Geometry.rectContainsPoint(c,h,0,0,l.offsetWidth*d.__effectiveScaleX,l.offsetHeight*d.__effectiveScaleY)){if(d=d.parent){const b=
d.getOuterDomElement();return a(d,c+(l.offsetLeft-b.scrollLeft)*d.__effectiveScaleX,h+(l.offsetTop-b.scrollTop)*d.__effectiveScaleY)}return!0}return!1},c=a=>{switch(a.align){case "center":a.releaseConstraint("__doAlignCenter");break;case "right":a.releaseConstraint("__doAlignRight")}},h=a=>{const d=a.parent;if(d)switch(a.align){case "center":a.constrain("__doAlignCenter",[a,"width",a,"alignOffset",d,"width"]);break;case "right":a.constrain("__doAlignRight",[a,"width",a,"alignOffset",d,"width"]);break;
case "left":a.setX(a.alignOffset||0)}},d=a=>{switch(a.valign){case "middle":a.releaseConstraint("__doValignMiddle");break;case "bottom":a.releaseConstraint("__doValignBottom")}},m=a=>{const d=a.parent;if(d)switch(a.valign){case "middle":a.constrain("__doValignMiddle",[a,"height",a,"valignOffset",d,"height"]);break;case "bottom":a.constrain("__doValignBottom",[a,"height",a,"valignOffset",d,"height"]);break;case "top":a.setY(a.valignOffset||0)}},p=(a,d,c)=>{a.getOuterDomStyle()["border"+c+"Radius"]=
d+"px"};b.View=new JS.Class("View",b.Node,{include:[f,b.DomObservable,b.DomObserver,b.ScrollObservable,b.FocusObservable,b.KeyObservable,b.MouseObservable],extend:{retainFocusDuringDomUpdate:k},initNode:function(a,d){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;this.tagName=d.tagName;delete d.tagName;this.setDomElement(this.createOurDomElement(a));const c=this.getOuterDomStyle();c.left=c.top="0px";this.callSuper(a,d);void 0===this.bgColor&&(this.bgColor="transparent")},createOurDomElement:function(a){a=
document.createElement(this.tagName||"div");a.style.position="absolute";const d=this.klass;a.className=d.__cssClassName||(d.__cssClassName="myt-"+d.__displayName.split(".").join("-"));return a},doAfterAdoption:function(){this.__updateBounds(this.width,this.height)},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(a){this.parent!==a&&(this.inited&&(c(this),d(this)),this.callSuper(a),this.align&&
h(this),this.valign&&m(this))},getSubviews:function(){return this.subviews||(this.subviews=[])},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(a=>a!==this)},setFocusTrap:function(a){this.focusTrap=a},setFocusCage:function(a){this.focusCage=a},setMaskFocus:function(a){this.maskFocus=a},setLayoutHint:function(a){this.layoutHint=a},getLayouts:function(){return this.layouts||(this.layouts=[])},setIgnoreLayout:function(a){if(this.ignoreLayout!==a){var d=this.inited&&
this.parent;let c;if(a){if(d)for(d=this.parent.getLayouts(),c=d.length;c;)d[--c].removeSubview(this);this.ignoreLayout=a}else if(this.ignoreLayout=a,d)for(d=this.parent.getLayouts(),c=d.length;c;)d[--c].addSubview(this)}},setDomClass:function(a){this.domClass!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domClass",a))},setDomId:function(a){this.domId!==a&&(this.callSuper(a),this.inited&&this.fireEvent("domId",a))},setAlignOffset:function(a){this.alignOffset!==a&&(this.alignOffset=a,this.inited&&
this.fireEvent("alignOffset",a),this.parent&&"left"===this.align&&this.setX(a))},setAlign:function(a){this.align!==a&&(this.inited&&c(this),this.align=a,this.inited&&(this.fireEvent("align",a),h(this)))},__doAlignCenter:function(a){this.setX(Math.round((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(a){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(a){this.valignOffset!==a&&(this.valignOffset=a,this.inited&&this.fireEvent("valignOffset",
a),this.parent&&"top"===this.valign&&this.setY(a))},setValign:function(a){this.valign!==a&&(this.inited&&d(this),this.valign=a,this.inited&&(this.fireEvent("valign",a),m(this)))},__doValignMiddle:function(a){this.setY(Math.round((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(a){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(a){this.x!==a&&(this.x=a,this.visible&&(this.getOuterDomStyle().left=a+"px"),this.inited&&this.fireEvent("x",
a))},setY:function(a){this.y!==a&&(this.y=a,this.visible&&(this.getOuterDomStyle().top=a+"px"),this.inited&&this.fireEvent("y",a))},setWidth:function(a,d){0>a&&(a=0);this.width!==a&&(this.width=a,this.getOuterDomStyle().width=a+"px",this.inited&&(this.__updateBounds(a,this.height),d||this.fireEvent("width",a)))},setHeight:function(a,d){0>a&&(a=0);this.height!==a&&(this.height=a,this.getOuterDomStyle().height=a+"px",this.inited&&(this.__updateBounds(this.width,a),d||this.fireEvent("height",a)))},setTextColor:function(a){this.textColor!==
a&&(this.textColor=a,this.getOuterDomStyle().color=a||"inherit",this.inited&&this.fireEvent("textColor",a))},setBgColor:function(a){this.bgColor!==a&&(this.getOuterDomStyle().backgroundColor=this.bgColor=a,this.inited&&this.fireEvent("bgColor",a))},isColorAttr:a=>"bgColor"===a||"textColor"===a,setOpacity:function(a){this.opacity!==a&&(this.getOuterDomStyle().opacity=this.opacity=a,this.inited&&this.fireEvent("opacity",a))},setOverflow:function(a){const d=this.overflow;if(d!==a){this.overflow=a;const c=
this.getInnerDomStyle();if("autox"===a)c.overflowX="auto",c.overflowY="hidden";else if("autoy"===a)c.overflowY="auto",c.overflowX="hidden";else{if("autox"===d||"autoy"===d)c.overflowX=c.overflowY=null;c.overflow=a||"visible"}this.inited&&this.fireEvent("overflow",a)}},setVisible:function(a){if(this.visible!==a){this.visible=a;const d=this.getOuterDomStyle();d.visibility=a?"inherit":"hidden";d.left=a?this.x+"px":"-100000px";d.top=a?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",a)}},
setPointerEvents:function(a){this.pointerEvents!==a&&(this.pointerEvents=a,this.getOuterDomStyle().pointerEvents=a||"auto",this.inited&&this.fireEvent("pointerEvents",a))},setCursor:function(a){this.cursor!==a&&(this.cursor=a,this.getOuterDomStyle().cursor=a||"auto",this.inited&&this.fireEvent("cursor",a))},__updateBounds:function(a,d){this.boundsWidth!==a&&this.fireEvent("boundsWidth",this.boundsWidth=a);this.boundsHeight!==d&&this.fireEvent("boundsHeight",this.boundsHeight=d)},setOutline:function(a){a=
a||[];this.setOutlineWidth(a[0]);this.setOutlineStyle(a[1]);this.setOutlineColor(a[2])},setOutlineWidth:function(a){this.outlineWidth=a||0;this.getOuterDomStyle().outlineWidth=this.outlineWidth+"px"},setOutlineStyle:function(a){this.getOuterDomStyle().outlineStyle=this.outlineStyle=a||"none"},setOutlineColor:function(a){this.getOuterDomStyle().outlineColor=this.outlineColor=a||"#000"},setBorder:function(a){a=a||[];this.setBorderWidth(a[0]);this.setBorderStyle(a[1]);this.setBorderColor(a[2])},setBorderWidth:function(a){this.borderWidth=
a||0;this.getOuterDomStyle().borderWidth=this.borderWidth+"px"},setBorderStyle:function(a){this.getOuterDomStyle().borderStyle=this.borderStyle=a||"none"},setBorderColor:function(a){this.getOuterDomStyle().borderColor=this.borderColor=a||"#000"},setRoundedCorners:function(a){this.getOuterDomStyle().borderRadius=a+"px"},setRoundedTopLeftCorner:function(a){p(this,a,"TopLeft")},setRoundedTopRightCorner:function(a){p(this,a,"TopRight")},setRoundedBottomLeftCorner:function(a){p(this,a,"BottomLeft")},setRoundedBottomRightCorner:function(a){p(this,
a,"BottomRight")},setBoxShadow:function(a){a=a?(a[0]||0)+"px "+(a[1]||0)+"px "+(a[2]||7)+"px "+(a[3]||"#000000"):"none";this.getOuterDomStyle().boxShadow=a},setGradient:function(a){const d=this.getOuterDomStyle();if(a){let b=a[0];"linear"===b||"radial"===b?a.shift():b="linear";let h=a[0];if("radial"===b){void 0===h?h="closest-side":a.shift();var c=a[0];if(void 0===c)c="circle";else{switch(c){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape: "+c),c="circle"}a.shift()}let d=
a[0];void 0===d?d="center":(d=d.replaceAll("middle","center"),a.shift());h=c+" "+h+" at "+d}else"number"===typeof h?(h+="deg",a.shift()):h?(h="to "+h,a.shift()):h="0deg";c=d=>{a.push(d&&"inherit"!==d?d:"transparent")};2>a.length&&c(this.textColor);2>a.length&&c(this.bgColor);d.background=b+"-gradient("+h+","+a.join(",")+")"}else d.background="none";this.bgColor=void 0},setTooltip:function(a){this.tooltip!==a&&(this.tooltip=this.getOuterDomElement().title=a,this.inited&&this.fireEvent("tooltip",a))},
isVisible:function(){return null===this.searchAncestorsOrSelf(a=>!a.visible)},getFocusTrap:function(a){return this.searchAncestorsOrSelf(d=>d.focusCage||d.focusTrap&&!a)},subnodeAdded:function(a){a instanceof b.View?(this.getInnerDomElement().appendChild(a.getOuterDomElement()),this.getSubviews().push(a),this.fireEvent("subviewAdded",a),this.subviewAdded(a)):a instanceof b.Layout&&(this.getLayouts().push(a),this.fireEvent("layoutAdded",a),this.layoutAdded(a))},subnodeRemoved:function(a){let d;a instanceof
b.View?(d=this.getSubviewIndex(a),-1!==d&&(this.fireEvent("subviewRemoved",a),a.removeDomElement(),this.subviews.splice(d,1),this.subviewRemoved(a))):a instanceof b.Layout&&(d=this.getLayoutIndex(a),-1!==d&&(this.fireEvent("layoutRemoved",a),this.layouts.splice(d,1),this.layoutRemoved(a)))},hasSubview:function(a){return-1!==this.getSubviewIndex(a)},getSubviewIndex:function(a){return this.getSubviews().indexOf(a)},subviewAdded:a=>{},subviewRemoved:a=>{},getNextSibling:function(){if(this.parent){const a=
this.getOuterDomElement().nextElementSibling;if(a)return a.model}return null},getPrevSibling:function(){if(this.parent){const a=this.getOuterDomElement().previousElementSibling;if(a)return a.model}return null},hasLayout:function(a){return-1!==this.getLayoutIndex(a)},getLayoutIndex:function(a){return this.getLayouts().indexOf(a)},layoutAdded:a=>{},layoutRemoved:a=>{},isBehind:function(a,d){return g(this,a,!1,d)},isInFrontOf:function(a,d){return g(this,a,!0,d)},bringToFront:function(){this.parent.bringSubviewToFront(this)},
sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(a){this.parent.sendSubviewBehind(this,a)},sendInFrontOf:function(a){this.parent.sendSubviewInFrontOf(this,a)},bringSubviewToFront:function(a){if(a&&a.parent===this){const d=this.getInnerDomElement();a.getOuterDomElement()!==d.lastChild&&k(a,()=>{d.appendChild(a.getOuterDomElement())})}},sendSubviewToBack:function(a){if(a&&a.parent===this){const d=this.getInnerDomElement();a.getOuterDomElement()!==d.firstChild&&k(a,()=>
{d.insertBefore(a.getOuterDomElement(),d.firstChild)})}},sendSubviewBehind:function(a,d){if(a&&d&&a.parent===this&&d.parent===this){const c=this.getInnerDomElement();k(a,()=>{c.insertBefore(a.getOuterDomElement(),d.getOuterDomElement())})}},sendSubviewInFrontOf:function(a,d){a&&d&&a.parent===this&&d.parent===this&&(this.sendSubviewBehind(a,d),this.sendSubviewBehind(d,a))},sortSubviews:function(a){const d=this,c=d.getSubviews().sort(a);k(d,()=>{const a=d.getOuterDomElement(),b=a.parentNode;let h;b&&
(h=a.nextSibling,b.removeChild(a));const e=document.createDocumentFragment(),l=c.length;for(let a=0;l>a;)e.appendChild(c[a++].getOuterDomElement());d.getInnerDomElement().appendChild(e);b&&b.insertBefore(a,h)})},containsPoint:function(a,d,c){const h=this.getOuterDomElement();if(!h)return!1;c=f.getPagePosition(h,c);return b.Geometry.rectContainsPoint(a,d,c.x,c.y,this.width,this.height)},isPointVisible:function(d,c){const b=this.getTruePagePosition();e(this);return a(this,d-b.x,c-b.y)},getEffectiveScale:function(){return e(this)},
getEffectiveScaleX:function(){return e(this).scaleX},getEffectiveScaleY:function(){return e(this).scaleY}})})(myt);
myt.FlexBoxSupport=new JS.Module("FlexBoxSupport",{initNode:function(b,f){this.callSuper(b,f);this.__syncSubviews()},setWidth:function(b,f){this.callSuper(b,f);this.inited&&this.__syncSubviews()},setHeight:function(b,f){this.callSuper(b,f);this.inited&&this.__syncSubviews()},setFlexDirection:function(b){if(this.flexDirection!==b){let f=this.flexDirection=b;switch(f){case "rowReverse":f="row-reverse";break;case "columnReverse":f="column-reverse"}this.getInnerDomStyle().flexDirection=f;this.inited&&
(this.fireEvent("flexDirection",b),this.__syncSubviews())}},setFlexWrap:function(b){if(this.flexWrap!==b){let f=this.flexWrap=b;switch(f){case "wrapReverse":case "reverse":f="wrap-reverse"}this.getInnerDomStyle().flexWrap=f;this.inited&&(this.fireEvent("flexWrap",b),this.__syncSubviews())}},setJustifyContent:function(b){if(this.justifyContent!==b){let f=this.justifyContent=b;switch(f){case "start":f="flex-start";break;case "end":f="flex-end";break;case "spaceBetween":case "between":f="space-between";
break;case "spaceAround":case "around":f="space-around";break;case "spaceEvenly":case "evenly":f="space-evenly"}this.getInnerDomStyle().justifyContent=f;this.inited&&(this.fireEvent("justifyContent",b),this.__syncSubviews())}},setAlignItems:function(b){if(this.alignItems!==b){let f=this.alignItems=b;switch(f){case "start":f="flex-start";break;case "end":f="flex-end"}this.getInnerDomStyle().alignItems=f;this.inited&&(this.fireEvent("alignItems",b),this.__syncSubviews())}},setAlignContent:function(b){if(this.alignContent!==
b){let f=this.alignContent=b;switch(f){case "start":f="flex-start";break;case "end":f="flex-end";break;case "spaceBetween":case "between":f="space-between";break;case "spaceAround":case "around":f="space-around"}this.getInnerDomStyle().alignContent=f;this.inited&&(this.fireEvent("alignContent",b),this.__syncSubviews())}},createOurDomElement:function(b){b=this.callSuper(b);(Array.isArray(b)?b[1]:b).style.display="flex";return b},subviewAdded:function(b){b&&!b.ignoreFlex&&(b.getOuterDomStyle().position=
"",this.inited&&this.__syncSubviews())},__syncSubviews:function(){this.getSubviews().forEach(b=>this.__syncSubview(b))},__syncSubview:function(b){b&&b.syncInnerToOuter&&!b.ignoreFlex&&(b.syncInnerToOuter(),b.syncModelToOuterBounds())},subviewRemoved:function(b){!b||b.destroyed||b.ignoreFlex||(b.getOuterDomStyle().position="absolute")}});
(b=>{const f=(b,e,a)=>{const c=k(b,e);b.getOuterDomStyle().transform=c+(0===c.length?"":" ")+e+"("+a+")"},k=(b,e)=>{b=b.getOuterDomStyle();var a=b.transform;let c;if(!a||0===a.length)return"";a=a.split(" ");for(c=a.length;c;)if(0===a[--c].indexOf(e)){a.splice(c,1);break}return b.transform=a.join(" ")};b.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(b){this.transformOrigin!==b&&(this.transformOrigin=b,this.getOuterDomStyle().transformOrigin=b||"50% 50% 0",this.inited&&
(this.__updateBounds(this.width,this.height),this.fireEvent("transformOrigin",b)))},setRotation:function(b){this.rotation!==b&&(this.rotation=b,f(this,"rotate",(b||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",b)))},setScale:function(b){const e=this.scaleX!==b;if(e){var a=this.scaleX=b;null==a?k(this,"scaleX"):f(this,"scaleX",a||1)}if(a=this.scaleY!==b){var c=this.scaleY=b;null==c?k(this,"scaleY"):f(this,"scaleY",c||1)}this.inited&&((e||a)&&this.__updateBounds(this.width,
this.height),e&&this.fireEvent("scaleX",b),a&&this.fireEvent("scaleY",b))},setScaleX:function(b){if(this.scaleX!==b){var e=this.scaleX=b;null==e?k(this,"scaleX"):f(this,"scaleX",e||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",b))}},setScaleY:function(b){if(this.scaleY!==b){var e=this.scaleY=b;null==e?k(this,"scaleY"):f(this,"scaleY",e||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",b))}},setSkewX:function(b){this.skewX!==
b&&(this.skewX=b,f(this,"skewX",b||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",b)))},setSkewY:function(b){this.skewY!==b&&(this.skewY=b,f(this,"skewY",b||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",b)))},__updateBounds:function(b,e){const a=this.rotation,c=this.scaleX,h=this.scaleY;let d=!1;void 0!==c&&1!==c||void 0!==h&&1!==h||(d=!0);if(!d||void 0!==a&&0!==a&&180!==a)!d||90!==a&&270!==a?(e=this.getOuterDomElement().getBoundingClientRect(),
b=e.width,e=e.height):(b=this.height,e=this.width);this.callSuper(b,e)}})})(myt);
(b=>{const f=JS.Module,k=(a,b)=>{if("auto"===b)a.__hasSetWidth=!1,a.getOuterDomStyle().width="auto",a.sizeViewToDom();else return a.__hasSetWidth=!0},g=(a,b)=>{if("auto"===b)a.__hasSetHeight=!1,a.getOuterDomStyle().height="auto",a.sizeViewToDom();else return a.__hasSetHeight=!0},e=a=>{if(!a.__hasSetWidth){const c=a.getOuterDomElement().offsetWidth/a.getEffectiveScaleX();a.width!==c&&(a.width=c,a.inited&&a.__updateBounds(c,a.height),a.fireEvent("width",c))}},a=a=>{if(!a.__hasSetHeight){const c=a.getOuterDomElement().offsetHeight/
a.getEffectiveScaleY();a.height!==c&&(a.height=c,a.inited&&a.__updateBounds(a.width,c),a.fireEvent("height",c))}};b.SizeToDom=new f("SizeToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){k(this,a)&&this.callSuper(a,b)},setHeight:function(a,b){g(this,a)&&this.callSuper(a,b)},sizeViewToDom:function(){e(this);a(this)}});b.SizeWidthToDom=new f("SizeWidthToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setWidth:function(a,b){k(this,
a)&&this.callSuper(a,b)},sizeViewToDom:function(){e(this)}});b.SizeHeightToDom=new f("SizeHeightToDom",{doAfterAdoption:function(){this.sizeViewToDom();this.callSuper()},setHeight:function(a,b){g(this,a)&&this.callSuper(a,b)},sizeViewToDom:function(){a(this)}})})(myt);
myt.TextSupport=new JS.Module("TextSupport",{setWidth:function(b,f){this.callSuper(b,f);"auto"!==b&&(b=this.whiteSpace,"normal"!==b&&"pre-line"!==b&&"pre-wrap"!==b||this.sizeViewToDom())},setText:function(b){b||(b="");"object"===typeof b&&(b=b.value);this.text!==b&&(this.getInnerDomElement().innerHTML=this.text=b,this.inited&&(this.fireEvent("text",b),this.sizeViewToDom()))},setTextOverflow:function(b){this.textOverflow!==b&&(this.textOverflow=b,this.getInnerDomStyle().textOverflow=b||"inherit",this.inited&&
this.fireEvent("textOverflow",b))},setTextAlign:function(b){this.textAlign!==b&&(this.textAlign=b,this.getInnerDomStyle().textAlign=b||"inherit",this.inited&&this.fireEvent("textAlign",b))},setWhiteSpace:function(b){this.__s(b,"whiteSpace")},setWordWrap:function(b){this.__s(b,"wordWrap","normal")},setTextIndent:function(b){this.__s(b,"textIndent")},setTextTransform:function(b){this.__s(b,"textTransform")},setTextDecoration:function(b){this.__s(b,"textDecoration")},setLineHeight:function(b){this.__s(b,
"lineHeight")},setLetterSpacing:function(b){this.__s(b,"letterSpacing")},setWordSpacing:function(b){this.__s(b,"wordSpacing")},setFontFamily:function(b){this.__s(b,"fontFamily")},setFontStyle:function(b){this.__s(b,"fontStyle")},setFontVariant:function(b){this.__s(b,"fontVariant")},setFontWeight:function(b){this.__s(b,"fontWeight")},setFontSize:function(b){this.__s(b,"fontSize")},__s:function(b,f,k){this[f]!==b&&(this[f]=b,this.getInnerDomStyle()[f]=b||k||"inherit",this.inited&&(this.fireEvent(f,
b),this.sizeViewToDom()))},setUserUnselectable:function(b){this.userUnselectable!==b&&(this.userUnselectable=b,this[b?"addDomClass":"removeDomClass"]("mytUnselectable"),this.setCursor(b?"default":"text"),this.inited&&this.fireEvent("userUnselectable",b))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(b,f,k,g,e){b=(b||0)+"px "+(f||0)+"px "+(null!=k?k:
2)+"px "+(g||"#000");if(0<e){for(f=[b];e--;)f.push(b);b=f.join(",")}this.getInnerDomStyle().textShadow=b},hideTextShadow:function(){this.getInnerDomStyle().textShadow="none"}});
myt.ImageSupport=new JS.Module("ImageSupport",{extend:{SIZE_CACHE:{},OPEN_SIZE_QUERIES:{}},initNode:function(b,f){null==f.imageRepeat&&(f.imageRepeat="no-repeat");null==f.imageAttachment&&(f.imageAttachment="scroll");this.callSuper(b,f)},setImageUrl:function(b){this.imageUrl!==b&&(this.imageUrl=b,this.deStyle.backgroundImage=b?'url("'+b+'")':"none",this.inited&&(this.fireEvent("imageUrl",b),this.setNaturalWidth(void 0),this.setNaturalHeight(void 0),!b&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
this.__calculateNaturalSize())},setImageLoadingError:function(b){this.set("imageLoadingError",b,!0)},setImageSize:function(b){this.imageSize!==b&&(this.imageSize=b,this.deStyle.backgroundSize=b||"auto",this.inited&&this.fireEvent("imageSize",b))},setImageRepeat:function(b){this.imageRepeat!==b&&(this.deStyle.backgroundRepeat=this.imageRepeat=b,this.inited&&this.fireEvent("imageRepeat",b))},setImagePosition:function(b){this.imagePosition!==b&&(this.deStyle.backgroundPosition=this.imagePosition=b,this.inited&&
this.fireEvent("imagePosition",b))},setImageAttachment:function(b){this.imageAttachment!==b&&(this.deStyle.backgroundAttachment=this.imageAttachment=b,this.inited&&this.fireEvent("imageAttachment",b))},setCalculateNaturalSize:function(b){this.calculateNaturalSize!==b&&(this.calculateNaturalSize=b,this.inited&&this.fireEvent("calculateNaturalSize",b),this.__calculateNaturalSize())},setNaturalWidth:function(b){this.naturalWidth!==b&&(this.naturalWidth=b,this.inited&&this.fireEvent("naturalWidth",b),
this.useNaturalSize&&b&&this.setWidth(b))},setNaturalHeight:function(b){this.naturalHeight!==b&&(this.naturalHeight=b,this.inited&&this.fireEvent("naturalHeight",b),this.useNaturalSize&&b&&this.setHeight(b))},setUseNaturalSize:function(b){this.useNaturalSize!==b&&(this.useNaturalSize=b,this.inited&&this.fireEvent("useNaturalSize",b),b&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),b&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))},
__calculateNaturalSize:function(){const b=this.imageUrl;if(this.calculateNaturalSize&&b){const k=myt.ImageSupport.SIZE_CACHE;var f=k[b];if(f)this.setNaturalWidth(f.width),this.setNaturalHeight(f.height);else{const g=myt.ImageSupport.OPEN_SIZE_QUERIES;f=g[b];if(!f){g[b]=f=[];const e=new Image;e.onerror=function(a){if(a=g[b]){let c=a.length;for(;c;)a[--c].setImageLoadingError(!0);a.length=0;delete g[b]}};e.onload=function(){const a=this.width,c=this.height,h=g[b];if(h){let d=h.length,e;for(;d;)e=h[--d],
e.imageUrl===b&&(e.setNaturalWidth(a),e.setNaturalHeight(c));h.length=0;delete g[b]}k[b]={width:a,height:c}};e.src=b}f.push(this)}}}});
(b=>{const f=JS.Class,k=b.View,g=b.SizeToDom,e=b.AccessorSupport.defAttr;b.FlexBox=new f("FlexBox",k,{include:[b.FlexBoxSupport]});b.Frame=new f("Frame",k,{initNode:function(a,c){e(c,"tagName","iframe");this.callSuper(a,c);a=b.global.mouse;this.attachToDom(a,"__doMouseDown","mousedown",!0);this.attachToDom(a,"__doMouseUp","mouseup",!0)},createOurDomElement:function(a){a=this.callSuper(a);(Array.isArray(a)?a[1]:a).style.border="0px";return a},setSrc:function(a){this.src!==a&&(this.src=this.getInnerDomElement().src=
a,this.inited&&this.fireEvent("src",a))},__doMouseDown:function(a){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(a){this.setPointerEvents(this.__restorePointerEvents);return!0}});b.Markup=new f("Markup",k,{include:[g],setHtml:function(a){this.html!==a&&(this.getInnerDomElement().innerHTML=this.html=a,this.inited&&(this.fireEvent("html",a),this.sizeViewToDom()))}});b.Text=new f("Text",k,{include:[g,b.TextSupport],initNode:function(a,b){e(b,
"whiteSpace","nowrap");e(b,"userUnselectable",!0);this.callSuper(a,b)},measureNoWrapWidth:function(){if("nowrap"===this.whiteSpace)return this.width;const a=this.getInnerDomStyle(),b=a.whiteSpace;a.whiteSpace="nowrap";const h=this.getOuterDomElement().offsetWidth;a.whiteSpace=b;return h}});b.Image=new f("Image",k,{include:[b.ImageSupport],initNode:function(a,b){e(b,"useNaturalSize",!0);this.callSuper(a,b)}})})(myt);
(b=>{const f=a=>{const b=a.parent;b&&0<=a.percentOfParentWidth&&a.syncTo(b,"__doPOPW","width")},k=a=>{0<=a.percentOfParentWidth&&a.detachFrom(a.parent,"__doPOPW","width")},g=a=>{const b=a.parent;b&&0<=a.percentOfParentHeight&&a.syncTo(b,"__doPOPH","height")},e=a=>{0<=a.percentOfParentHeight&&a.detachFrom(a.parent,"__doPOPH","height")};b.SizeToParent=new JS.Module("SizeToParent",{setParent:function(a){this.parent!==a&&(this.inited&&(k(this),e(this)),this.callSuper(a),f(this),g(this))},setPercentOfParentWidthOffset:function(a){this.percentOfParentWidthOffset!==
a&&(this.percentOfParentWidthOffset=a,this.inited&&(this.fireEvent("percentOfParentWidthOffset",a),this.__doPOPW()))},setPercentOfParentWidth:function(a){this.percentOfParentWidth!==a&&(this.inited&&k(this),this.percentOfParentWidth=a,this.inited&&this.fireEvent("percentOfParentWidth",a),f(this))},setPercentOfParentHeightOffset:function(a){this.percentOfParentHeightOffset!==a&&(this.percentOfParentHeightOffset=a,this.inited&&(this.fireEvent("percentOfParentHeightOffset",a),this.__doPOPH()))},setPercentOfParentHeight:function(a){this.percentOfParentHeight!==
a&&(this.inited&&e(this),this.percentOfParentHeight=a,this.inited&&this.fireEvent("percentOfParentHeight",a),g(this))},__doPOPW:function(a){this.setWidth((this.percentOfParentWidthOffset||0)+Math.round(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(a){this.setHeight((this.percentOfParentHeightOffset||0)+Math.round(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(b=>{let f;const k=[];new JS.Singleton("GlobalRootViewRegistry",{include:[b.Observable],initialize:function(){b.global.register("roots",f=this)},getRoots:()=>k,addRoot:b=>{k.push(b);f.fireEvent("rootAdded",b)},removeRoot:b=>{let e=k.length;for(;e;){const a=k[--e];if(a===b){k.splice(e,1);f.fireEvent("rootRemoved",a);break}}}})})(myt);
myt.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:function(b){const f=b.__captureDrop=b=>{b.preventDefault()};b=b.domElement;myt.addEventListener(b,"drop",f);myt.addEventListener(b,"dragover",f)},teardownCaptureDrop:function(b){const f=b.domElement;b=b.__captureDrop;myt.removeEventListener(f,"drop",b);myt.removeEventListener(f,"dragover",b)}},initNode:function(b,f){this.callSuper(b,f);this.setZIndex(0);this.addDomClass("myt");myt.global.roots.addRoot(this);myt.RootView.setupCaptureDrop(this)},
createOurDomElement:function(b){b||(b=this.callSuper(b),myt.getElement().appendChild(b));return b},destroyAfterOrphaning:function(){myt.RootView.teardownCaptureDrop(this);myt.global.roots.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(b){this.keepDomElementWhenDestroyed=b},setParent:function(b){this.callSuper(void 0)},bringToFront:function(){var b=this.domElement;const f=b.parentNode;b!==f.lastChild&&(b=f.removeChild(b))&&
f.appendChild(b)},sendToBack:function(){var b=this.domElement;const f=b.parentNode;b!==f.firstChild&&(b=f.removeChild(b))&&f.insertBefore(b,f.firstChild)},sendBehind:function(b){var f=this.domElement;b=b.domElement;const k=f.parentNode;b.parentNode===k&&(f=k.removeChild(f))&&k.insertBefore(f,b)},sendInFrontOf:function(b){b.domElement.parentNode===this.domElement.parentNode&&(this.sendBehind(b),b.sendBehind(this))}});
(b=>{const f=window;let k,g;new JS.Singleton("GlobalWindowResize",{include:[b.Observable],initialize:function(){b.addEventListener(f,"resize",b=>{this.fireEvent("resize",{w:k=f.innerWidth,h:g=f.innerHeight})});b.global.register("windowResize",this)},getWidth:()=>k||(k=f.innerWidth),getHeight:()=>g||(g=f.innerHeight)})})(myt);
(b=>{const f=JS.Module,k=b.global.windowResize,g=a=>{const b=a.resizeDimension;"width"!==b&&"both"!==b||a.setWidth(Math.max(a.minWidth,k.getWidth()));"height"!==b&&"both"!==b||a.setHeight(Math.max(a.minHeight,k.getHeight()))},e=b.SizeToWindow=new f("SizeToWindow",{include:[b.RootView],initNode:function(a,b){this.minWidth=this.minHeight=0;null==b.resizeDimension&&(b.resizeDimension="both");this.attachTo(k,"__handleResize","resize");this.callSuper(a,b)},setResizeDimension:function(a){this.resizeDimension!==
a&&(this.resizeDimension=a,g(this))},setMinWidth:function(a){this.minWidth!==a&&(this.minWidth=a,g(this))},setMinHeight:function(a){this.minHeight!==a&&(this.minHeight=a,g(this))},__handleResize:function(a){g(this)}});b.SizeToWindowWidth=new f("SizeToWindowWidth",{include:[e],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension="width");this.callSuper(a,b)}});b.SizeToWindowHeight=new f("SizeToWindowHeight",{include:[e],initNode:function(a,b){null==b.resizeDimension&&(b.resizeDimension=
"height");this.callSuper(a,b)}})})(myt);
(b=>{const f=window,k={};let g,e,a,c=!1;new JS.Singleton("GlobalIdle",{include:[b.Observable],initialize:function(){const c=this,d=["webkit","moz","ms","o"];for(let a=0;a<d.length&&!f.requestAnimationFrame;){const b=d[a++];f.requestAnimationFrame=f[b+"RequestAnimationFrame"];f.cancelAnimationFrame=f[b+"CancelAnimationFrame"]||f[b+"CancelRequestAnimationFrame"]}e=d=>{g=f.requestAnimationFrame(e);-1!==a&&(d=Math.round(d),k.delta=d-a,k.time=d,c.fireEvent("idle",k));a=d};b.global.register("idle",c)},
attachObserver:function(b,d,m){b=this.callSuper(b,d,m);!c&&this.hasObservers("idle")&&(c=!0,a=-1,g=f.requestAnimationFrame(e));return b},detachObserver:function(a,d,b){a=this.callSuper(a,d,b);c&&!this.hasObservers("idle")&&(f.cancelAnimationFrame(g),c=!1);return a}})})(myt);
(b=>{const f=(a,c,h,e,f)=>{const d=b.Color;a=d.makeColorFromHexString(a);c=d.makeColorFromHexString(c);e=e?d.makeColorFromHexString(f):a;e.setRed(e.red+(c.red-a.red)*h);e.setGreen(e.green+(c.green-a.green)*h);e.setBlue(e.blue+(c.blue-a.blue)*h);return e.getHtmlHexString()},k=a=>{a.__temporaryFrom=!1;a.__loopCount=a.reverse?a.repeat-1:0;a.__progress=a.reverse?a.duration:0},g=(a,b)=>{if(a.running&&!a.paused){const l=a.reverse,m=a.duration,n=a.repeat;l&&(b*=-1);var d=a.__progress;a.__progress+=b;b=0;
a.__progress>m?(b=a.__progress-m,a.__progress=m,++a.__loopCount===n&&(b=0)):0>a.__progress&&(b=-a.__progress,a.__progress=0,0>--a.__loopCount&&0<n&&(b=0));var c=a.target||a.parent;if(c){{const b=a.relative;var h=a.duration;const l=a.attribute;var e=Math.max(0,a.__progress/h);d=Math.max(0,d/h);null==a.from&&(a.__temporaryFrom=!0,a.from=b?a.__isColorAnim?"#000":0:c.get(l));d=a.easingFunction(e)-(b?a.easingFunction(d):0);e=b?c.get(l):a.from;h=a.to;c.set(l,a.__isColorAnim?f(a.from,h,d,b,e):e+(h-a.from)*
d)}!l&&a.__loopCount===n||l&&0>a.__loopCount&&0<n?(a.setRunning(!1),a.callback&&a.callback.call(a,!0)):0<b&&(a.fireEvent("repeat",a.__loopCount),a.__progress=l?m:0,g(a,b))}else console.log("No target found for animator.",a),a.setRunning(!1),a.callback&&a.callback.call(a,!1)}},e=Math.PI,a=2*e,c=e/2,h=b.Animator=new JS.Class("Animator",b.Node,{include:[b.Reusable],extend:{easingFunctions:{linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>
a*a*a,easeOutCubic:a=>--a*a*a+1,easeInOutCubic:a=>1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-(--a*a*a*a-1),easeInOutQuart:a=>1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>--a*a*a*a*a+1,easeInOutQuint:a=>1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*c)+1,easeOutSine:a=>Math.sin(a*c),easeInOutSine:a=>-.5*(Math.cos(e*a)-1),easeInCirc:a=>-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1- --a*a),easeInOutCirc:a=>
1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInExpo:a=>0==a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1==a?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>0==a?0:1==a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2),easeInElastic:b=>0==b?0:1==b?1:-(Math.pow(2,10*--b)*Math.sin((1*b-.075)*a/.3)),easeOutElastic:b=>0==b?0:1==b?1:Math.pow(2,-10*b)*Math.sin((1*b-.075)*a/.3)+1,easeInOutElastic:b=>0==b?0:2==(b/=.5)?1:1>b?-.5*Math.pow(2,10*--b)*Math.sin((1*b-.1125)*a/.45):Math.pow(2,
-10*--b)*Math.sin((1*b-.1125)*a/.45)*.5+1,easeInBack:(a,b=1.70158)=>(a/=1)*a*((b+1)*a-b),easeOutBack:(a,b=1.70158)=>(a=a/1-1)*a*((b+1)*a+b)+1,easeInOutBack:(a,b=1.70158)=>1>(a/=.5)?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2),easeInBounce:a=>1-h.easingFunctions.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>.5>a?.5*h.easingFunctions.easeInBounce(2*
a):.5*h.easingFunctions.easeOutBounce(2*a-1)+.5}},initNode:function(a,b){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.callSuper(a,b);k(this)},setRunning:function(a){if(this.running!==a&&(this.running=a,this.inited&&this.fireEvent("running",a),!this.paused)){if(a){{const a=this.target||this.parent;this.__isColorAnim=a&&"function"===typeof a.isColorAttr?a.isColorAttr(this.attribute):void 0}}else this.__temporaryFrom&&
(this.from=void 0),k(this);this[a?"attachTo":"detachFrom"](b.global.idle,"__updateAnim","idle")}},setPaused:function(a){if(this.paused!==a&&(this.paused=a,this.inited&&this.fireEvent("paused",a),this.running))this[a?"detachFrom":"attachTo"](b.global.idle,"__updateAnim","idle")},setReverse:function(a){this.reverse!==a&&(this.reverse=a,this.inited&&this.fireEvent("reverse",a),this.running||k(this))},setEasingFunction:function(a){"string"===typeof a&&(a=h.easingFunctions[a]);a||(a=h.DEFAULT_EASING_FUNCTION);
this.set("easingFunction",a,!0)},setFrom:function(a){this.set("from",a,!0)},setTo:function(a){this.set("to",a,!0)},setCallback:function(a){this.callback=a},next:function(a,b){const c=this,d=c.callback;d&&!b?c.setCallback(b=>{d.call(c,b);a.call(c,b)}):c.setCallback(a)},reset:function(a){k(this);this.setRunning(!1);this.setPaused(!1);a&&this.callback&&this.callback.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=
1;this.easingFunction=h.DEFAULT_EASING_FUNCTION;this.reset(!1)},__updateAnim:function(a){g(this,a.value.delta)}});h.DEFAULT_EASING_FUNCTION=h.easingFunctions.easeInOutQuad})(myt);
(b=>{const f=a=>{a.__additionalArgs=[];a.__pendingTransition="";a.__transDestinationState="";a.__transStage="leaveState"},k=(a,b)=>{if(a.__transInProgress){var c=a.__deferredTransitions;c||(c=a.__deferredTransitions=[]);c.unshift(b)}else{a.__transInProgress=!0;c=b.shift();const d=b.shift();if(a.__pendingTransition)return e.PENDING;if(a.isFinished())return a.__transInProgress=!1,e.NO_TRANSITION;let h=a.map[a.current][d];h||(h=a.map["*"][d]);if(h)return a.__pendingTransition=d,a.__transDestinationState=
h,a.__additionalArgs=b,a.resumeTransition(c);a.__transInProgress=!1;return e.NO_TRANSITION}},g=a=>{a.__transInProgress=!1;const b=a.__deferredTransitions;if(b)for(;0<b.length;)k(a,b.pop())},e=b.StateMachine=new JS.Class("StateMachine",b.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(a,b){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";f(this);this.callSuper(a,b)},setInitialState:function(a){if(""===this.current){if(Array.isArray(a)){var b=
a;a=b.shift()}else b=[];this.current=this.initial=a;this.doEnterState("","",a,b);b={name:"",from:"",to:a,args:b};this.fireEvent("enter"+a,b);this.fireEvent("enter",b);this.isFinished()&&this.fireEvent("finished",b)}},setTerminalState:function(a){this.terminal=a},addTransitions:function(a){a.forEach(a=>this.addTransition(...a))},addTransition:function(a,b,h){const c=this.map;b=b?Array.isArray(b)?b:[b]:["*"];let e=b.length,f;for(;e;)(f=c[b[--e]])||(f=c[b[e]]={}),f[a]=h},doTransition:function(...a){a.unshift("sync");
return k(this,a)},doAsyncTransition:function(...a){a.unshift("async");return k(this,a)},resumeTransition:function(a){const b=this.__pendingTransition;if(!b)return e.INVALID;const h=this.current,d=this.__transDestinationState,m=this.__additionalArgs,k={name:b,from:h,to:d,args:m};switch(this.__transStage){case "leaveState":const c=this.doLeaveState(b,h,d,m);if(!1===c)return f(this),g(this),e.CANCELLED;if("async"===c||"async"===a)return this.__transStage="enterState",this.fireEvent("start"+b,k),this.fireEvent("start",
k),this.fireEvent("leave"+h,k),this.fireEvent("leave",k),g(this),e.PENDING;this.fireEvent("start"+b,k);this.fireEvent("start",k);this.fireEvent("leave"+h,k);this.fireEvent("leave",k);case "enterState":this.current=d,f(this),this.doEnterState(b,h,d,m),this.fireEvent("enter"+d,k),this.fireEvent("enter",k),this.fireEvent("end"+b,k),this.fireEvent("end",k),this.isFinished()&&this.fireEvent("finished",k)}g(this);return e.SUCCEEDED},doLeaveState:(a,b,h,d)=>{},doEnterState:(a,b,h,d)=>{},isFinished:function(){return this.is(this.terminal)},
isStarting:function(){return this.is(this.initial)},is:function(a){return Array.isArray(a)?0<=a.indexOf(this.current):this.current===a},can:function(a){return void 0!==this.map[this.current][a]?!0:void 0!==this.map["*"][a]}})})(myt);
(b=>{const f=(a,b)=>a.replicationIndex-b.replicationIndex,k=(a,b)=>{let c=a.length,d;for(;c;)d=a[--c],d.decrementLockedCounter(),b&&d.update()},g=a=>{e(a);const c=a.template;c&&(a.__pool=new b.TrackActivesPool(c,a.parent))},e=a=>{const b=a.__pool;if(b){const c=a.parent.getLayouts();{a=c;let b=a.length;for(;b;)a[--b].incrementLockedCounter()}b.putActives();b.destroyPooledInstances();k(c,!1);b.destroy()}};b.Replicable=new JS.Module("Replicable",{include:[b.Reusable],replicate:function(a,b){this.replicationData=
a;this.replicationIndex=b},notify:function(a,b){},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(a,b){return b===this.replicationIndex&&a===this.replicationData}});b.Replicator=new JS.Class("Replicator",b.Node,{initNode:function(a,b){this.callSuper(a,b);g(this);this.doReplication()},destroyAfterOrphaning:function(){e(this);this.callSuper()},setTemplate:function(a){(this.template=a.includes(b.Replicable)?a:null)||b.dumpStack("Template not an myt.Replicable");
this.inited&&(g(this),this.doReplication())},setData:function(a){this.data=a;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const a=this.__pool;let b;if(a){b=this.parent.getLayouts();for(var h=b.length;h;)b[--h].incrementLockedCounter();const d=(h=this.data)?h.length:0,c=a.getActives(),e=c.length,l=[];let g=e,n,u;for(c.sort(f);g;)if(n=c[--g],u=n.replicationIndex,u>=d||!n.alreadyHasReplicationData(h[u],u))l[u]=n;for(g=l.length;g;)(n=
l[--g])&&a.putInstance(n);for(g=0;d>g;++g)(g>=e||null!=l[g])&&a.getInstance().replicate(h[g],g);for(g=b.length;g;)b[--g].sortSubviews(f);k(b,!0)}},notify:function(a,b){var c=this.__pool;if(c){c=c.getActives();let d=c.length;for(;d;)c[--d].notify(a,b)}}})})(myt);new JS.Singleton("GlobalMouse",{include:[myt.DomElementProxy,myt.DomObservable,myt.MouseObservable],initialize:function(){this.setDomElement(document);myt.global.register("mouse",this)}});
(b=>{let f,k,g;const e=[],a=[],c=a=>{const b=g;b!==a&&(b&&(b.notifyDragLeave(k),k.destroyed||k.notifyDragLeave(b),f.fireEvent("dragLeave",b)),g=a)&&(a.notifyDragEnter(k),k.destroyed||k.notifyDragEnter(a),f.fireEvent("dragEnter",b))},h=b=>{let c=k,h,g,m,u;if(c!==b){(k=b)?(c=b,h="notifyDragStart",g="startDrag"):(h="notifyDragStop",g="stopDrag");m=d(c,a);for(u=m.length;u;)m[--u][h](c);m=d(c,e);for(u=m.length;u;)m[--u][h](c);f.fireEvent(g,b)}},d=(a,b)=>{if(a.destroyed)return[];if(a.acceptAnyDragGroup())return b;
{const c=[];a=a.getDragGroups();let d=b.length;for(;d;){const h=b[--d];if(h.acceptAnyDragGroup())c.push(h);else{const b=h.getDragGroups();for(const d in a)if(b[d]){c.push(h);break}}}return c}};new JS.Singleton("GlobalDragManager",{include:[b.Observable],initialize:function(){b.global.register("dragManager",f=this)},getDragView:()=>k,registerAutoScroller:a=>{e.push(a)},unregisterAutoScroller:a=>{let b=e.length;for(;b;)if(e[--b]===a){e.splice(b,1);break}},registerDropTarget:b=>{a.push(b)},unregisterDropTarget:b=>
{let c=a.length;for(;c;)if(a[--c]===b){a.splice(c,1);break}},startDrag:a=>{h(a)},stopDrag:(a,b,d)=>{b.notifyDropped(g,d);g&&!d&&g.notifyDrop(b);c();h();g&&!d&&f.fireEvent("drop",[b,g])},updateDrag:(b,h)=>{const e=d(h,a);let f=e.length,g;if(0<f){var m=b.value;b=m.pageX;for(m=m.pageY;f;){let a=e[--f];a.willAcceptDrop(h)&&h.willPermitDrop(a)&&a.isPointVisible(b,m)&&(!g||a.isInFrontOf(g))&&(g=a)}}c(g)}})})(myt);
(b=>{const f=JS.Module,k=b.global,g=k.mouse,e=k.keys,a=k.idle,c=b.AccessorSupport.defAttr;b.Activateable=new f("Activateable",{doActivated:()=>{}});b.UpdateableUI=new f("UpdateableUI",{initNode:function(a,b){this.callSuper(a,b);this.updateUI()},updateUI:()=>{}});b.Disableable=new f("Disableable",{initNode:function(a,b){c(b,"disabled",!1);this.callSuper(a,b)},setDisabled:function(a){this.disabled!==a&&(this.disabled=a,this.inited&&this.fireEvent("disabled",a),this.doDisabled())},doDisabled:function(){this.inited&&
(this.disabled&&this.giveAwayFocus&&this.giveAwayFocus(),this.updateUI&&this.updateUI())}});b.KeyActivation=new f("KeyActivation",{extend:{DEFAULT_ACTIVATION_KEYS:[13,32]},initNode:function(a,d){this.activateKeyDown=-1;c(d,"activationKeys",b.KeyActivation.DEFAULT_ACTIVATION_KEYS);this.callSuper(a,d);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyPress","keypress");this.attachToDom(this,"__handleKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(a){this.activationKeys=
a},setRepeatKeyDown:function(a){this.repeatKeyDown=a},__handleKeyDown:function(a){if(!this.disabled&&(-1===this.activateKeyDown||this.repeatKeyDown)){const c=b.KeyObservable.getKeyCodeFromEvent(a),h=this.activationKeys;let e=h.length;for(;e;)if(c===h[--e]){this.activateKeyDown===c?this.doActivationKeyDown(c,!0):(this.activateKeyDown=c,this.doActivationKeyDown(c,!1));a.value.preventDefault();break}}},__handleKeyPress:function(a){if(!this.disabled){const c=b.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===
c){const b=this.activationKeys;let d=b.length;for(;d;)if(c===b[--d]){a.value.preventDefault();break}}}},__handleKeyUp:function(a){if(!this.disabled){const c=b.KeyObservable.getKeyCodeFromEvent(a);if(this.activateKeyDown===c){const b=this.activationKeys;let d=b.length;for(;d;)if(c===b[--d]){this.activateKeyDown=-1;this.doActivationKeyUp(c);a.value.preventDefault();break}}}},__doDomBlur:function(a){this.disabled||(a=this.activateKeyDown,-1!==a&&(this.activateKeyDown=-1,this.doActivationKeyAborted(a)))},
doActivationKeyDown:(a,b)=>{},doActivationKeyUp:function(a){this.doActivated()},doActivationKeyAborted:a=>{}});b.MouseOver=new f("MouseOver",{initNode:function(a,b){c(b,"mouseOver",!1);this.callSuper(a,b);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(b){this.mouseOver!==b&&(this.mouseOver=b,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(a,"__doMouseOverOnIdle","idle")))},setDisabled:function(a){this.callSuper(a);
this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(a,"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const b=this.mouseOver;this.__lastOverIdleValue!==b&&(this.__lastOverIdleValue=b,this.doSmoothMouseOver(b))},doSmoothMouseOver:function(a){this.inited&&this.updateUI&&this.updateUI()},doMouseOver:function(a){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(a){this.__disabledOver=
!1;this.disabled||this.setMouseOver(!1)}});b.MouseDown=new f("MouseDown",{initNode:function(a,b){c(b,"mouseDown",!1);this.callSuper(a,b);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(a){this.mouseDown!==a&&(this.mouseDown=a,this.inited&&(a&&this.isFocusable()&&this.focus(!0),this.updateUI&&this.updateUI()))},setDisabled:function(a){a&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(a)},doMouseOver:function(a){this.callSuper(a);
this.mouseDown&&this.detachFromDom(g,"doMouseUp","mouseup",!0)},doMouseOut:function(a){this.callSuper(a);!this.disabled&&this.mouseDown&&this.attachToDom(g,"doMouseUp","mouseup",!0)},doMouseDown:function(a){this.disabled||this.setMouseDown(!0)},doMouseUp:function(a){this.mouseOver||this.detachFromDom(g,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(a))},doMouseUpInside:function(a){this.doActivated&&this.doActivated()}});b.MouseOverAndDown=
new f("MouseOverAndDown",{include:[b.MouseOver,b.MouseDown]});b.Draggable=new f("Draggable",{initNode:function(a,b){let c=!0;this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;null!=b.isDraggable&&(c=b.isDraggable,delete b.isDraggable);this.callSuper(a,b);this.setIsDraggable(c)},setIsDraggable:function(a){if(this.isDraggable!==a){this.isDraggable=a;let b;a?b=this.attachToDom:this.inited&&(b=this.detachFromDom);if(b){a=this.getDragViews();
let c=a.length;for(;c;){const d=a[--c];b.call(this,d,"__doMouseDown","mousedown");b.call(this,d,"__doContextMenu","contextmenu")}}}},setIsDragging:function(a){this.set("isDragging",a,!0)},setDragOffsetX:function(a,b){this.dragOffsetX!==a&&(this.dragOffsetX=a,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDragOffsetY:function(a,b){this.dragOffsetY!==a&&(this.dragOffsetY=a,this.inited&&this.isDragging&&!b&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(a){this.distanceBeforeDrag=
a},setDraggableAllowBubble:function(a){this.draggableAllowBubble=a},setCenterOnMouse:function(a){this.centerOnMouse=a},setAllowAbort:function(a){this.allowAbort=a},getDragViews:function(){return[this]},__doContextMenu:a=>{},__doMouseDown:function(a){const c=b.MouseObservable.getMouseFromEvent(a),e=this.getOuterDomElement();this.dragInitX=c.x-e.offsetLeft;this.dragInitY=c.y-e.offsetTop;this.attachToDom(g,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(g,"__doDragCheck","mousemove",
!0):this.startDrag(a);a.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(a){this.isDragging?this.stopDrag(a,!1):(this.detachFromDom(g,"__doMouseUp","mouseup",!0),this.detachFromDom(g,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(a){27===a.value&&this.stopDrag(a,!0)},__doDragCheck:function(a){const c=b.MouseObservable.getMouseFromEvent(a);b.Geometry.measureDistance(c.x,c.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&
(this.detachFromDom(b.global.mouse,"__doDragCheck","mousemove",!0),this.startDrag(a))},startDrag:function(a){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(e,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(g,"updateDrag","mousemove",!0);this.updateDrag(a)},updateDrag:function(a){this.__lastMousePosition=b.MouseObservable.getMouseFromEvent(a);this.reRequestDragPosition()},__updateDragInitX:function(a){this.dragInitX=
this.width/2*(this.scaleX||1)},__updateDragInitY:function(a){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(a,b){this.detachFromDom(g,"__doMouseUp","mouseup",!0);this.detachFromDom(g,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY","height"));this.allowAbort&&this.detachFrom(e,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(a,b){this.disabled||(this.setX(a),
this.setY(b))},reRequestDragPosition:function(){const a=this.__lastMousePosition;this.requestDragPosition(a.x-this.dragInitX+this.dragOffsetX,a.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(b=>{const f=JS.Class,k=JS.Module,g=b.View,e=b.AccessorSupport.defAttr,a=[0,0,7,"#666"];var c=b.Button=new k("Button",{include:[b.Activateable,b.UpdateableUI,b.Disableable,b.MouseOverAndDown,b.KeyActivation],extend:{DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE:a,DEFAULT_DISABLED_OPACITY:.5},initNode:function(a,b){e(b,"focusable",!0);e(b,"cursor","pointer");this.callSuper(a,b)},setFocused:function(a){const b=this.focused;this.callSuper(a);this.inited&&this.focused!==b&&this.updateUI()},doActivationKeyDown:function(a,
b){b||this.updateUI()},doActivationKeyUp:function(a){this.callSuper(a);this.updateUI()},doActivationKeyAborted:function(a){this.callSuper(a);this.updateUI()},updateUI:function(){if(this.disabled)null==this.__restoreCursor&&(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const a=this.__restoreCursor;a&&(this.setCursor(a),this.__restoreCursor=null);-1!==this.activateKeyDown||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?
this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(a)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()}});c=b.SimpleButtonStyle=new k("SimpleButtonStyle",{include:[c],setActiveColor:function(a){this.activeColor!==a&&(this.activeColor=
a,this.inited&&this.updateUI())},setHoverColor:function(a){this.hoverColor!==a&&(this.hoverColor=a,this.inited&&this.updateUI())},setReadyColor:function(a){this.readyColor!==a&&(this.readyColor=a,this.inited&&this.updateUI())},drawDisabledState:function(){this.setOpacity(.5);this.setBgColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setBgColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setBgColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);
this.setBgColor(this.readyColor)}});const h=b.SimpleButton=new f("SimpleButton",g,{include:[c],initNode:function(a,b){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(a,b)}});b.IconTextButtonContent=new k("IconTextButtonContent",{initNode:function(a,b){this.textY=this.iconY="middle";this.iconSpacing=2;this.inset=this.outset=0;e(b,"shrinkToFit",!1);e(b,"contentAlign","center");this.callSuper(a,b);a=this.iconView;b=this.textView;this.constrain("__updateContentPosition",
[this,"inset",this,"outset",this,"width",this,"shrinkToFit",this,"iconSpacing",this,"contentAlign",a,"width",a,"visible",b,"width",b,"visible"])},doAfterAdoption:function(){const a=this.iconY,c=this.textY;let e={name:"iconView",imageUrl:this.iconUrl};"string"===typeof a?e.valign=a:e.y=a;new b.Image(this,e);e={name:"textView",whiteSpace:"nowrap",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof c?e.valign=c:e.y=c;new b.Text(this,e);this.callSuper()},setInset:function(a){null!=a&&
"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){this.set("shrinkToFit",a,!0)},setContentAlign:function(a){this.set("contentAlign",a,!0)},setIconSpacing:function(a){this.set("iconSpacing",a,!0)},setIconUrl:function(a){this.iconUrl!==a&&(this.iconUrl=a,this.inited&&
(this.fireEvent("iconUrl",a),this.iconView.setImageUrl(a)))},setIconY:function(a){const b=this.iconView;this.iconY!==a&&(this.iconY=a,this.inited&&(this.fireEvent("iconY",a),"string"===typeof a?b.setValign(a):b.setY(a)))},setTextY:function(a){const b=this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){var b=
this.inset,c=this.outset;a=this.iconView;var d=this.textView,e=d.visible&&this.text,h=a.visible?a.width:0;h+=e&&0<h?this.iconSpacing:0;e=e?d.width:0;this.shrinkToFit?(a.setX(b),b+=h,d.setX(b),this.__updateContentPositionLoopBlock=!0,this.setWidth(b+(e+c)),this.__updateContentPositionLoopBlock=!1):("left"!==this.contentAlign&&("center"===this.contentAlign?(c=this.width-b-h-e-c,b+=c/2):b=this.width-h-e-c),a.setX(b),d.setX(b+h))}}});b.TextButtonContent=new k("TextButtonContent",{initNode:function(a,
b){this.inset=this.outset=0;e(b,"shrinkToFit",!1);this.textY=b.shrinkToFit?"middle":0;this.callSuper(a,b);a=this.textView;this.constrain("__updateContentPosition",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",a,"visible",a,"width",a,"height",a,"y"])},doAfterAdoption:function(){const a=this.textY,c={name:"textView",whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof a?c.valign=a:c.y=a;new b.Text(this,c);this.__origHeight=this.height;
this.callSuper()},setInset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("inset",a,!0)},setOutset:function(a){null!=a&&"object"===typeof a&&(a=a.value);this.set("outset",a,!0)},setText:function(a){this.text!==a&&(this.text=a,this.inited&&(this.textView.setText(a),this.fireEvent("text",a)))},setShrinkToFit:function(a){const b=this.textView;this.shrinkToFit!==a&&(this.shrinkToFit=a,this.inited&&(b&&b.setWhiteSpace(a?"nowrap":"normal"),this.fireEvent("shrinkToFit",a)))},setTextY:function(a){const b=
this.textView;this.textY!==a&&(this.textY=a,this.inited&&(this.fireEvent("textY",a),"string"===typeof a?b.setValign(a):(b.setValign(""),b.setY(a))))},__updateContentPosition:function(a){if(!this.__updateContentPositionLoopBlock&&!this.destroyed){a=this.inset;var b=this.outset,c=this.textView,d=c.visible&&this.text;this.__updateContentPositionLoopBlock=!0;this.shrinkToFit?(c.setX(a),this.setWidth(a+(d?c.width:0)+b),this.setHeight(this.__origHeight)):(c.setHeight("auto"),c.setWidth(this.width-a-b),
c.setX(a),this.setHeight(d?c.y+c.height:this.__origHeight));this.__updateContentPositionLoopBlock=!1}}});b.SimpleIconTextButton=new f("SimpleIconTextButton",h,{include:[b.IconTextButtonContent]});b.SimpleTextButton=new f("SimpleTextButton",h,{include:[b.TextButtonContent]});b.TextButton=new f("TextButton",g,{include:[c,b.SizeToDom,b.TextSupport],initNode:function(a,b){e(b,"focusEmbellishment",!1);e(b,"roundedCorners",3);e(b,"textAlign","center");e(b,"paddingTop",1);e(b,"height",23-(b.paddingTop||
0));e(b,"activeColor","#ddd");e(b,"hoverColor","#eee");e(b,"readyColor","#fff");this.callSuper(a,b)},setPaddingLeft:function(a){this.getInnerDomStyle().paddingLeft=(this.paddingLeft=a)+"px"},setPaddingRight:function(a){this.getInnerDomStyle().paddingRight=(this.paddingRight=a)+"px"},setPaddingTop:function(a){this.getInnerDomStyle().paddingTop=(this.paddingTop=a)+"px"},setPaddingBottom:function(a){this.getInnerDomStyle().paddingBottom=(this.paddingBottom=a)+"px"}})})(myt);
(b=>{const f=b.global,k=f.focus,g=f.mouse,e={};b.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:a=>e[a]},initNode:function(a,b){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.floatingAlignOffset=this.floatingValignOffset=0;this.callSuper(a,b)},setLastFloatingPanelShown:function(a){this.lastFloatingPanelShown=a},setLastFloatingPanelId:function(a){this.floatingPanelId=a},setFloatingAlign:function(a){this.set("floatingAlign",a,!0)},setFloatingValign:function(a){this.set("floatingValign",
a,!0)},setFloatingAlignOffset:function(a){this.set("floatingAlignOffset",a,!0)},setFloatingValignOffset:function(a){this.set("floatingValignOffset",a,!0)},createFloatingPanel:function(a,b,h){a=a||this.floatingPanelId;h=h||{};h.panelId=a;return e[a]=new b(null,h)},getFloatingPanel:function(a){return e[a||this.floatingPanelId]},toggleFloatingPanel:function(a){const b=this.getFloatingPanel(a=a||this.floatingPanelId);b&&b.isShown()?this.hideFloatingPanel(a):this.showFloatingPanel(a)},showFloatingPanel:function(a){if(a=
this.getFloatingPanel(a||this.floatingPanelId))a.show(this),this.setLastFloatingPanelShown(a)},hideFloatingPanel:function(a){if(a=this.getFloatingPanel(a||this.floatingPanelId))a.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(a){this.callSuper&&this.callSuper()},notifyPanelHidden:function(a){this.callSuper&&this.callSuper()},getFloatingAlignForPanelId:function(a){return this.floatingAlign},getFloatingValignForPanelId:function(a){return this.floatingValign},getFloatingAlignOffsetForPanelId:function(a){return this.floatingAlignOffset},
getFloatingValignOffsetForPanelId:function(a){return this.floatingValignOffset},getNextFocus:function(){const a=this.lastFloatingPanelShown;return a&&a.isShown()?a:this.callSuper?this.callSuper():null},getNextFocusAfterPanel:function(a){return this},getPrevFocusAfterPanel:function(a){return this}});b.FloatingPanel=new JS.Class("FloatingPanel",b.View,{include:[b.RootView],initNode:function(a,c){a=document.createElement("div");a.style.position="absolute";b.getElement().appendChild(a);this.ignoreOwnerForHideOnMouseDown=
this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;c.visible=c.focusEmbellishment=!1;c.focusable=c.focusCage=!0;this.callSuper(a,c)},setOwner:function(a){this.owner=a},setPanelId:function(a){this.panelId=a},setIgnoreOwnerForHideOnMouseDown:function(a){this.ignoreOwnerForHideOnMouseDown=a},setHideOnBlur:function(a){this.hideOnBlur=a},setHideOnMouseDown:function(a){this.hideOnMouseDown=a},__doMouseDown:function(a){var b=a.value;a=b.pageX;b=b.pageY;this.containsPoint(a,b)||this.ignoreOwnerForHideOnMouseDown&&
this.owner.containsPoint(a,b)||this.doMouseDownOutside();return!0},doMouseDownOutside:function(){this.hideOnMouseDown&&this.hide()},focus:function(a){if(this.owner&&this.isAncestorOf(k.focusedView))this.owner[k.lastTraversalWasForward?"getNextFocusAfterPanel":"getPrevFocusAfterPanel"](this.panelId).focus(a);else{const b=this.getFirstFocusableDescendant();b===this?this.callSuper(a):b.focus(a)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(a){(a=a.value)&&!this.isAncestorOf(a)&&
this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&k.focusedView===this.owner||this.hide(!0)},isShown:function(){return this.visible},show:function(a){this.isShown()||(this.bringToFront(),this.updateLocation(a),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(g,"__doMouseDown","mousedown",!0),this.attachTo(k,"__doFocusChange","focused"))},hide:function(a){this.isShown()&&(this.detachFromDom(g,"__doMouseDown","mousedown",!0),this.detachFrom(k,
"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),a||this.restoreFocus(),this.setOwner())},restoreFocus:function(){this.owner&&this.owner.focus()},updateLocation:function(a){this.setOwner(a);const b=this.panelId,e=a.getFloatingAlignForPanelId(b),d=a.getFloatingValignForPanelId(b),f=a.getPagePosition();let g=0,l=0,k=typeof e;if("string"===k)switch(g=f.x+a.getFloatingAlignOffsetForPanelId(b),e){case "outsideRight":g+=a.width;break;case "insideRight":g+=a.width-this.width;
break;case "outsideLeft":g-=this.width;break;case "insideLeft":break;default:console.warn("Unexpected align value",k,e)}else"number"===k?g=e:console.warn("Unexpected align type",k,e);this.setX(g);k=typeof d;if("string"===k)switch(l=f.y+a.getFloatingValignOffsetForPanelId(b),d){case "outsideBottom":l+=a.height;break;case "insideBottom":l+=a.height-this.height;break;case "outsideTop":l-=this.height;break;case "insideTop":break;default:console.warn("Unexpected valign value",k,d)}else"number"===k?l=d:
console.warn("Unexpected valign type",k,d);this.setY(l)}})})(myt);
(b=>{const f=JS.Class,k=JS.Module,g=b.AccessorSupport.defAttr,e=b.ListViewItemMixin=new k("ListViewItemMixin",{setListView:function(a){this.listView=a},getMinimumWidth:()=>0,syncToDom:()=>{}});b.ListView=new f("ListView",b.FloatingPanel,{initNode:function(a,c){this.items=[];this.maxHeight=-1;this.minWidth=0;g(c,"defaultItemClass",b.ListViewItem);g(c,"overflow","autoy");g(c,"bgColor","#ccc");g(c,"boxShadow",b.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE);this.callSuper(a,c);this.__updateItems();this.buildLayout()},
buildLayout:function(){new b.SpacedLayout(this.getContentView(),{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(a){this.minWidth=a},setDefaultItemClass:function(a){this.defaultItemClass=a},setItemConfig:function(a){this.itemConfig=a;this.inited&&this.__updateItems()},getContentView:function(){return this},setMaxHeight:function(a){this.maxHeight!==a&&(this.maxHeight=a,this.inited&&(this.fireEvent("maxHeight",a),this.setHeight(this.height)))},setHeight:function(a,b){0<=this.maxHeight&&
(a=Math.min(this.maxHeight,a));this.callSuper(a,b)},doItemActivated:function(a){const b=this.owner;b&&b.doItemActivated(a)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()||this.callSuper()},getFirstFocusableItem:function(){const a=this.items,b=a.length;for(let c=0;b>c;){const b=a[c++];if(b.isFocusable())return b}return null},getLastFocusableItem:function(){const a=this.items;let b=a.length;for(;b;){const c=a[--b];if(c.isFocusable())return c}return null},__updateItems:function(){var a=
this.itemConfig||[],b=a.length;const e=this.items,d=e.length;var f=this.defaultItemClass;const g=this.getContentView(),l=g.getLayouts(),k=l.length;let n=k;for(;n;)l[--n].incrementLockedCounter();const u=g.getOuterDomElement(),A=u.nextSibling,w=u.parentNode;w.removeChild(u);for(n=0;b>n;++n){var q=a[n];const b=q.klass||f,c=q.attrs||{};(q=e[n])&&!q.isA(b)&&(q.destroy(),q=null);q||(q=e[n]=new b(g,{listView:this}));q&&(q.callSetters(c),q.__LAYOUT_IDX=n)}w.insertBefore(u,A);a=this.minWidth;for(n=0;b>n;++n)q=
e[n],q.syncToDom(),f=q.getMinimumWidth(),f>a&&(a=f);for(;d>n;)e[n++].destroy();e.length=b;for(n=0;b>n;)this.updateItemWidth(e[n++],a);this.updateContentWidth(g,a);for(n=k;n;)b=l[--n],b.sortSubviews((a,b)=>a.__LAYOUT_IDX-b.__LAYOUT_IDX),b.decrementLockedCounter(),b.update()},updateItemWidth:(a,b)=>{a.setWidth(b)},updateContentWidth:(a,b)=>{a.setWidth(b)}});b.ListViewAnchor=new k("ListViewAnchor",{include:[b.FloatingPanelAnchor],initNode:function(a,c){g(c,"listViewClass",b.ListView);g(c,"listViewAttrs",
{});g(c,"itemConfig",[]);g(c,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(a,c)},setListViewClass:function(a){this.listViewClass=a},setListViewAttrs:function(a){this.listViewAttrs=a},setItemConfig:function(a){this.itemConfig=a},doItemActivated:function(a){this.hideFloatingPanel()},getFloatingPanel:function(a){return this.callSuper(a)||this.createFloatingPanel(a,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);b&&(b.setItemConfig(this.itemConfig),
this.callSuper(a))},doActivationKeyDown:function(a,b){if(27===a)this.hideFloatingPanel();else{switch(a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}this.callSuper(a,b)}},doActivationKeyUp:function(a){if(27!==a)switch(this.callSuper(a),a){case 37:case 38:this.selectLastItem();break;case 39:case 40:this.selectFirstItem()}},selectLastItem:function(){var a=this.getFloatingPanel();a&&a.isShown()&&(a=a.getLastFocusableItem())&&a.focus()},selectFirstItem:function(){var a=
this.getFloatingPanel();a&&a.isShown()&&(a=a.getFirstFocusableItem())&&a.focus()}});b.ListViewItem=new f("ListViewItem",b.SimpleIconTextButton,{include:[e],initNode:function(a,b){g(b,"height",24);g(b,"activeColor","#bbb");g(b,"hoverColor","#fff");g(b,"readyColor","#eee");g(b,"contentAlign","left");g(b,"inset",8);g(b,"outset",8);g(b,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(a,b)},syncToDom:function(){this.textView.sizeViewToDom()},getMinimumWidth:function(){var a=this.iconView;const b=
this.textView,e=b.visible&&this.text;a=a.visible?a.width:0;return this.inset+(a+(e&&0<a?this.iconSpacing:0))+(e?Math.ceil(b.width):0)+this.outset},doActivated:function(){this.listView.doItemActivated(this)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},doActivationKeyDown:function(a,c){switch(a){case 27:this.listView.owner.hideFloatingPanel();return;case 37:case 38:b.global.focus.prev();break;case 39:case 40:b.global.focus.next()}this.callSuper(a,
c)}});b.ListViewSeparator=new f("ListViewSeparator",b.View,{include:[e],initNode:function(a,b){g(b,"height",1);g(b,"bgColor","#666");this.callSuper(a,b)}})})(myt);
(b=>{const f=b.AccessorSupport,k={},g=b.BAG=new JS.Class("BAG",{include:[f,b.Destructible,b.Observable],extend:{getGroup:(b,a)=>{if(b&&a){const c=k[b]||(k[b]={});return c[a]||(c[a]=new g(b,a))}return null},removeGroup:(b,a)=>{if(b&&a&&(b=k[b])){const c=b[a];c&&delete b[a];return c}return null}},initialize:function(b,a){this.__nodes=[];this.trueNode=null;this.attrName=b;this.groupId=a},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&g.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(b){this.set("groupId",b,!0)},setAttrName:function(b){this.set("attrName",b,!0)},setTrueNode:function(b){this.set("trueNode",b,!0)},getNodes:function(){return this.__nodes},register:function(b){b&&!this.isRegistered(b)&&(this.__nodes.push(b),b[this.attrName]&&this.setTrue(b))},unregister:function(b){if(b){const a=this.__nodes;let c=a.length;for(;c;)if(b===a[--c]){a.splice(c,1);break}this.trueNode===b&&this.setTrueNode(null);
0===a.length&&this.destroy()}},setTrue:function(b){if(b&&this.trueNode!==b&&this.isRegistered(b)){const a=this.attrName,c=f.generateSetterName(a),e=this.__nodes;let d=e.length;for(this.setTrueNode(b);d;){const h=e[--d];if(b===h){if(!h[a])h[c](!0)}else if(h[a])h[c](!1)}}},setFalse:function(b){b&&this.trueNode===b&&(b[f.generateSetterName(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(b){const a=this.__nodes;let c=a.length;for(;c;)if(b===a[--c])return!0;return!1}});b.BAGMembership=
new JS.Module("BAGMembership",{initNode:function(b,a){this.__bags=[];this.callSuper(b,a)},destroyAfterOrphaning:function(){this.callSuper();const b=this.__bags;let a=b.length;for(;a;){const c=b[--a];this.removeFromBAG(c.attrName,c.groupId)}},isRegisteredWithBAG:function(b){const a=this.__bags;let c=a.length;for(;c;)if(a[--c]===b)return!0;return!1},getBAG:(b,a)=>g.getGroup(b,a),addToBAG:function(b,a){a=this.getBAG(b,a);this.isRegisteredWithBAG(a)||(this.__bags.push(a),a.register(this),this.isAttachedTo(this,
"__updateForBAG",b)||this.attachTo(this,"__updateForBAG",b))},removeFromBAG:function(b,a){a=this.getBAG(b,a);if(this.isRegisteredWithBAG(a)){const c=this.__bags;let e=c.length,d=!0;for(;e;){const h=c[--e];h===a?(c.splice(e,1),a.unregister(this)):h.attrName===b&&(d=!1)}d&&this.detachFrom(this,"__updateForBAG",b)}},__updateForBAG:function(b){const a=b.type;b=b.value;const c=this.__bags;let e=c.length;for(;e;){const d=c[--e];d.attrName===a&&(b?d.setTrue(this):d.setFalse(this))}}})})(myt);
(b=>{const f=b.AccessorSupport.defAttr,k=b=>{const e=b.label||"";b.setText('<i class="far fa-'+(!0===b.selected?"dot-":"")+'circle"></i>'+(0<e.length?" ":"")+e)};b.Radio=new JS.Class("Radio",b.Text,{include:[b.SimpleButtonStyle,b.BAGMembership],initNode:function(g,e){f(e,"selected",!1);null==e.groupId&&(e.groupId=b.generateGuid());f(e,"focusEmbellishment",!1);f(e,"activeColor","inherits");f(e,"hoverColor","inherits");f(e,"readyColor","inherits");const a=e.value;delete e.value;this.callSuper(g,e);
this.setValue(a);this.selected&&(g=this.getBAG("selected",this.groupId))&&g.setTrue(this);b.FontAwesome.registerForNotification(this);k(this)},setOptionValue:function(b){this.set("optionValue",b,!0)},setValue:function(b){if(this.inited){{const e=this.getBAG("selected",this.groupId);if(e){const a=e.getNodes();let c=a.length,h;for(;c;)if(h=a[--c],h.optionValue===b){e.setTrue(h);break}}}}},getValue:function(){var b=this.getBAG("selected",this.groupId);return(b=b?b.trueNode:null)?b.optionValue:null},
setSelected:function(b){this.selected!==b&&(this.selected=b,this.inited&&(this.fireEvent("selected",b),k(this)))},setGroupId:function(b){if(this.groupId!==b){const e=this.groupId;this.groupId=b;e&&this.removeFromBAG("selected",e);b&&this.addToBAG("selected",b);this.inited&&this.fireEvent("groupId",b)}},setLabel:function(b){this.label!==b&&(this.set("label",b,!0),this.inited&&k(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},drawDisabledState:function(){this.setOpacity(b.Button.DEFAULT_DISABLED_OPACITY);
this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
(b=>{const f=JS.Module,k=b.global.keys,g=b.Selectable=new f("Selectable",{setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.selected!==a&&(this.selected=a,this.inited&&this.fireEvent&&this.fireEvent("selected",a))},isSelected:function(){return this.selected?!0:!1},canSelect:a=>!0,canDeselect:a=>!0}),e=b.SelectionManager=new f("SelectionManager",{extend:{isAddMode:()=>k.isShiftKeyDown(),isToggleMode:()=>k.isAcceleratorKeyDown()},initNode:function(a,b){this.__selected={};this.__lastSelectedItem=
null;b.selectedCount=0;null==b.itemSelectionId&&(b.itemSelectionId="id");null==b.maxSelected&&(b.maxSelected=-1);this.callSuper(a,b)},setItemSelectionId:function(a){this.itemSelectionId=a},setMaxSelected:function(a){this.maxSelected=a},setSelectedCount:function(a){this.selectedCount!==a&&(this.selectedCount=a,this.inited&&this.fireEvent("selectedCount",a))},isAddMode:()=>e.isAddMode(),isToggleMode:()=>e.isToggleMode(),getSelected:function(){const a=[],b=this.__selected;for(const c in b)a.push(b[c]);
return a},select:function(a){a&&!this.isSelectedItem(a)&&this.canSelectItem(a)&&(a.setSelected(!0),this.__selected[a[this.itemSelectionId]]=a,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=a,this.doSelected(a),this.fireEvent("itemSelected",a))},doSelected:a=>{},selectById:function(a){this.select(this.getSelectableItem(a))},canSelectItem:function(a){const b=this.maxSelected,e=this.selectedCount;if(0===b)return!1;if(1===b){if(0<e&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<
b&&e>=b)return!1;return a.canSelect(this)},selectAll:function(){const a=this.getSelectableItems();let b=a.length;for(;b;)this.select(a[--b])},deselect:function(a){this.isSelectedItem(a)&&this.canDeselectItem(a)&&(a.setSelected(!1),delete this.__selected[a[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===a&&(this.__lastSelectedItem=null),this.doDeselected(a),this.fireEvent("itemDeselected",a))},doDeselected:a=>{},deselectById:function(a){this.deselect(this.getSelectableItem(a))},
canDeselectItem:function(a){return a.canDeselect(this)},deselectAll:function(){const a=this.__selected;for(const b in a)this.deselect(a[b])},isSelectedItem:a=>a?a.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const a=[],b=this.getSubviews();let e=b.length;for(;e;){const c=b[--e];c.isA(g)&&a.push(c)}return a},getSelectableItems:function(){const a=this.getManagedItems();let b=a.length;for(;b;)a[--b].canSelect(this)||
a.splice(b,1);return a},getSelectableItem:function(a){const b=this.getSelectableItems(),e=this.itemSelectionId;let d=b.length;for(;d;){const c=b[--d];if(c[e]===a)return c}return null}})})(myt);
(b=>{const f=JS.Class,k=b.View,g=b.SizeToParent,e=b.TabSlider=new f("TabSlider",k,{include:[b.Selectable,b.Disableable,g],extend:{DEFAULT_BUTTON_HEIGHT:30,DEFAULT_MINIMUM_CONTAINER_HEIGHT:100,DEFAULT_FILL_COLOR_SELECTED:"#666",DEFAULT_FILL_COLOR_HOVER:"#eee",DEFAULT_FILL_COLOR_ACTIVE:"#ccc",DEFAULT_FILL_COLOR_READY:"#fff",DEFAULT_ANIMATION_MILLIS:500},initNode:function(a,c){const d=this;let h;c.defaultPlacement="wrapper.container";c.percentOfParentWidth=100;c.expansionState="collapsed";null==c.tabId&&
(c.tabId=b.generateGuid());null==c.tabContainer&&(c.tabContainer=a);null==c.selected&&(c.selected=!1);null==c.buttonClass&&(c.buttonClass=b.SimpleButton);null==c.zIndex&&(c.zIndex=0);null==c.buttonHeight&&(c.buttonHeight=e.DEFAULT_BUTTON_HEIGHT);null==c.fillColorSelected&&(c.fillColorSelected=e.DEFAULT_FILL_COLOR_SELECTED);null==c.fillColorHover&&(c.fillColorHover=e.DEFAULT_FILL_COLOR_HOVER);null==c.fillColorActive&&(c.fillColorActive=e.DEFAULT_FILL_COLOR_ACTIVE);null==c.fillColorReady&&(c.fillColorReady=
e.DEFAULT_FILL_COLOR_READY);null==c.minContainerHeight&&(c.minContainerHeight=e.DEFAULT_MINIMUM_CONTAINER_HEIGHT);c.selected&&(h=!0,delete c.selected);d.callSuper(a,c);new d.buttonClass(d,{name:"button",ignorePlacement:!0,zIndex:1,height:d.buttonHeight,focusEmbellishment:!0,groupId:d.parent.parent.groupId,percentOfParentWidth:100,hoverColor:d.fillColorHover,activeColor:d.fillColorActive,readyColor:d.fillColorReady},[g,{doActivated:function(){const a=d.tabContainer;d.isSelected()&&1!==a.maxSelected?
a.deselect(d):a.select(d)},updateUI:function(){this.callSuper();d.selected&&-1!==d.tabContainer.maxSelected&&this.setBgColor(d.fillColorSelected);d.notifyButtonRedraw()}}]);a=new k(d,{name:"wrapper",ignorePlacement:!0,y:d.buttonHeight,height:0,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[g,{setHeight:function(a,b){this.callSuper(Math.round(a),b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&this.container.setWidth(a)}}]);const l=new k(a,{name:"container"});new b.SizeToChildren(l,
{axis:"y"});d.constrain("__updateHeight",[a,"y",a,"height"]);h&&d.tabContainer.select(d);!0===c.disabled&&d.setDisabled(!0);d.setHeight(d.getCollapsedHeight())},setSelected:function(a){this.callSuper(a);this.button&&this.button.updateUI()},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},setMinContainerHeight:function(a){this.minContainerHeight=a},setButtonClass:function(a){this.buttonClass=a},setFillColorSelected:function(a){this.fillColorSelected=a},setFillColorHover:function(a){this.fillColorHover=
a},setFillColorActive:function(a){this.fillColorActive=a},setFillColorReady:function(a){this.fillColorReady=a},setButtonHeight:function(a){this.buttonHeight!==a&&(this.buttonHeight=a,this.button&&(this.button.setHeight(a),this.wrapper.setY(a)))},setExpansionState:function(a){if(this.expansionState!==a){this.expansionState=a;this.inited&&this.fireEvent("expansionState",a);const b=this.wrapper;b&&("expanded"===a?(b.setMaskFocus(!1),b.setOverflow("auto")):"expanding"===a?b.setVisible(!0):"collapsed"===
a?b.setVisible(!1):"collapsing"===a&&(b.setMaskFocus(!0),b.setOverflow("hidden")))}},doDisabled:function(){const a=this.button;a&&a.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(a){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(a){const b=this,c=b.wrapper;a-=b.getCollapsedHeight();b.setExpansionState("expanding");c.stopActiveAnimators();c.height!==a?c.animate({attribute:"height",to:a,duration:e.DEFAULT_ANIMATION_MILLIS}).next(a=>{b.setExpansionState("expanded")}):
b.setExpansionState("expanded")},collapse:function(){const a=this,b=a.wrapper;a.setExpansionState("collapsing");b.stopActiveAnimators();0!==b.height?b.animate({attribute:"height",to:0,duration:e.DEFAULT_ANIMATION_MILLIS}).next(b=>{a.setExpansionState("collapsed")}):a.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+
this.wrapper.container.height}}),a=b.TextTabSlider=new f("TextTabSlider",e,{extend:{DEFAULT_LABEL_TEXT_COLOR_CHECKED:"#fff",DEFAULT_LABEL_TEXT_COLOR:"#333"},initNode:function(c,d){null==d.labelTextColorChecked&&(d.labelTextColorChecked=a.DEFAULT_LABEL_TEXT_COLOR_CHECKED);null==d.labelTextColor&&(d.labelTextColor=a.DEFAULT_LABEL_TEXT_COLOR);this.callSuper(c,d);new b.Text(this.button,{name:"label",domClass:"myt-Text mytTextTabSliderLabel",ignorePlacement:!0,text:this.text,align:"center",valign:"middle",
textColor:this.__getTextColor()})},setLabelTextColorChecked:function(a){this.labelTextColorChecked=a},setLabelTextColor:function(a){this.labelTextColor=a},setText:function(a){if(this.text!==a){this.text=a;const b=this.button;b&&b.label&&b.label.setText(a)}},notifyButtonRedraw:function(){const a=this.button.label;a&&a.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}}),c=b.TabSliderContainer=
new JS.Module("TabSliderContainer",{include:[b.SelectionManager],extend:{DEFAULT_SPACING:1},initNode:function(a,d){const h=this;h._tabSliders=[];d.defaultPlacement="container";null==d.spacing&&(d.spacing=c.DEFAULT_SPACING);null==d.overflow&&(d.overflow="autoy");null==d.itemSelectionId&&(d.itemSelectionId="tabId");null==d.maxSelected&&(d.maxSelected=1);h.updateLayout=b.debounce(h.updateLayout);h.callSuper(a,d);a=new k(h,{name:"container",ignorePlacement:!0,percentOfParentWidth:100},[g,{subnodeAdded:function(a){this.callSuper(a);
a instanceof e&&(h._tabSliders.push(a),h.attachTo(a,"updateLayout","selected"))},subnodeRemoved:function(a){if(a instanceof e){const b=h._tabSliders;let c=b.length;for(;c;)if(b[--c]===a){h.detachFrom(a,"updateLayout","selected");b.splice(c,1);break}}this.callSuper(a)}}]);new b.SpacedLayout(a,{name:"layout",axis:"y",spacing:h.spacing,collapseParent:!0});h.attachTo(h,"updateLayout","height")},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&this.layout.setSpacing(a))},updateLayout:function(a){a=
this._tabSliders;for(var b=a.length,c=b,e=0,h=0,f=0;c;){var g=a[--c];g.visible&&(++f,g.selected?(e+=g.getMinimumExpandedHeight(),h+=g.getPreferredExpandedHeight()):(g=g.getCollapsedHeight(),e+=g,h+=g))}c=this.container.layout;f=c.inset+c.outset+c.spacing*(f-1);h+=f;c=this.height;e=e+f>c;f=h>c;h-=c;for(c=b;c;)if(b=a[--c],b.visible)if(b.selected){if(e)g=b.getMinimumExpandedHeight();else if(f){const a=b.getPreferredExpandedHeight(),c=b.getMinimumExpandedHeight();g=a-h;c>g?(h-=a-c,g=c):h=0}else g=b.getPreferredExpandedHeight();
b.expand(g)}else b.collapse()}})})(myt);
(b=>{const f=JS.Module,k=a=>{const b=null!=a.cornerRadius?a.cornerRadius:e.DEFAULT_RADIUS;switch(a.tabContainer.location){case "top":a.setRoundedTopLeftCorner(b);a.setRoundedTopRightCorner(b);break;case "bottom":a.setRoundedBottomLeftCorner(b);a.setRoundedBottomRightCorner(b);break;case "left":a.setRoundedTopLeftCorner(b);a.setRoundedBottomLeftCorner(b);break;case "right":a.setRoundedTopRightCorner(b),a.setRoundedBottomRightCorner(b)}},g=b.TabMixin=new f("TabMixin",{include:[b.Selectable],initNode:function(a,
e){null==e.tabId&&(e.tabId=b.generateGuid());null==e.tabContainer&&(e.tabContainer=a);let c;e.selected&&(c=!0,delete e.selected);this.callSuper(a,e);c&&this.tabContainer.select(this)},setTabId:function(a){this.tabId=a},setTabContainer:function(a){this.tabContainer=a},doActivated:function(){this.selected||this.tabContainer.select(this)}}),e=b.Tab=new JS.Class("Tab",b.SimpleIconTextButton,{include:[g],extend:{DEFAULT_HEIGHT:24,DEFAULT_INSET:8,DEFAULT_OUTSET:8,DEFAULT_FILL_COLOR_SELECTED:"#fff",DEFAULT_FILL_COLOR_HOVER:"#eee",
DEFAULT_FILL_COLOR_ACTIVE:"#aaa",DEFAULT_FILL_COLOR_READY:"#ccc",DEFAULT_LABEL_TEXT_COLOR_SELECTED:"#333",DEFAULT_RADIUS:6},initNode:function(a,b){null==b.inset&&(b.inset=e.DEFAULT_INSET);null==b.outset&&(b.outset=e.DEFAULT_OUTSET);null==b.selectedColor&&(b.selectedColor=e.DEFAULT_FILL_COLOR_SELECTED);null==b.hoverColor&&(b.hoverColor=e.DEFAULT_FILL_COLOR_HOVER);null==b.activeColor&&(b.activeColor=e.DEFAULT_FILL_COLOR_ACTIVE);null==b.readyColor&&(b.readyColor=e.DEFAULT_FILL_COLOR_READY);null==b.labelTextSelectedColor&&
(b.labelTextSelectedColor=e.DEFAULT_LABEL_TEXT_COLOR_SELECTED);null==b.height&&(b.height=e.DEFAULT_HEIGHT);null==b.focusEmbellishment&&(b.focusEmbellishment=!1);this.callSuper(a,b);k(this);this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor)},setSelectedColor:function(a){this.selectedColor=a},setCornerRadius:function(a){this.cornerRadius=a;this.inited&&k(this)},setLabelTextColor:function(a){this.labelTextColor=a},setLabelTextSelectedColor:function(a){this.labelTextSelectedColor=
a;this.inited&&this.selected&&this.textView.setTextColor(a)},setSelected:function(a){this.callSuper(a);this.inited&&(this.updateUI(),this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)}}),a=b.TabContainer=new f("TabContainer",{include:[b.SelectionManager],extend:{DEFAULT_SPACING:1,DEFAULT_INSET:0},initNode:function(c,e){this.__tabs=[];null==e.spacing&&(e.spacing=a.DEFAULT_SPACING);
null==e.inset&&(e.inset=a.DEFAULT_INSET);null==e.location&&(e.location="top");null==e.itemSelectionId&&(e.itemSelectionId="tabId");null==e.maxSelected&&(e.maxSelected=1);this.callSuper(c,e);let d;switch(this.location){case "top":case "bottom":d="x";break;case "left":case "right":d="y"}new b.SpacedLayout(this,{name:"layout",axis:d,spacing:this.spacing,inset:this.inset,collapseParent:!0})},setLocation:function(a){this.location=a},setSpacing:function(a){this.spacing!==a&&(this.spacing=a,this.layout&&
this.layout.setSpacing(a))},setInset:function(a){this.inset!==a&&(this.inset=a,this.layout&&this.layout.setInset(a))},getFirstTab:function(){return this.__tabs[0]},getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(a){this.callSuper(a);if(a.isA(g))switch(this.__tabs.push(a),this.location){case "top":a.setValign("bottom");break;case "bottom":a.setValign("top");break;case "left":a.setAlign("right");break;case "right":a.setAlign("left")}},subnodeRemoved:function(a){if(a.isA(g)){const b=
this.__tabs;let c=b.length;for(;c;)if(b[--c]===a){b.splice(c,1);break}}this.callSuper(a)}})})(myt);
(b=>{const f=JS.Class,k=b.SizeToDom;var g=b.View,e=b.Disableable;const a=b.AccessorSupport.defAttr,c=b.Button.DEFAULT_FOCUS_SHADOW_PROPERTY_VALUE,h=(a,b,c)=>{a[c]!==b&&(a[c]=b,a.deStyle[c]=b+"px",a.inited&&(a.fireEvent(c,b),a.sizeViewToDom()))},d=(a,b,c)=>{a[b]!==c&&(a.getInnerDomElement()[b]=a[b]=c,a.inited&&a.fireEvent(b,c))},m=b.NativeInputWrapper=new f("NativeInputWrapper",g,{include:[e,b.InputObservable],initNode:function(b,c){a(c,"tagName","input");a(c,"focusable",!0);this.callSuper(b,c);this.addDomClass("mytNativeInput")},
createOurDomElement:function(a){a=this.callSuper(a);this.inputType&&((Array.isArray(a)?a[1]:a).type=this.inputType);return a},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){this.value!==a&&(this.value=a,this.setDomValue(a),this.inited&&this.fireEvent("value",a))},getDomValue:function(){return this.getInnerDomElement().value},setDomValue:function(a){const b=this.getInnerDomElement();b.value!==a&&(b.value=a)}}),p=b.InputSelectOption=
new f("InputSelectOption",g,{include:[e,b.Selectable],createOurDomElement:a=>document.createElement("option"),setSelected:function(a){null!==a&&"object"===typeof a&&(a=a.value);const b=this.getInnerDomElement();b.selected!==a&&(b.selected=a)},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a))},setValue:function(a){d(this,"value",a)},setLabel:function(a){this.label!==a&&(this.getInnerDomElement().textContent=this.label=a,this.inited&&this.fireEvent("label",
a))},isSelected:function(){return this.getInnerDomElement().selected},canSelect:function(a){return!this.disabled&&!this.getInnerDomElement().selected&&this.parent===a},canDeselect:function(a){return!this.disabled&&this.getInnerDomElement().selected&&this.parent===a}});g=b.BaseInputText=new f("BaseInputText",m,{include:[b.TextSupport],initNode:function(b,c){a(c,"bgColor","transparent");a(c,"spellcheck",!1);this.callSuper(b,c);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress",
"keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(a){this.callSuper(a);this.setValue(a)},setSpellcheck:function(a){d(this,"spellcheck",a)},setMaxLength:function(a){d(this,"maxLength",null==a||0>a?void 0:a)},setAllowedChars:function(a){this.allowedChars=a},setPlaceholder:function(a){d(this,"placeholder",a)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(c)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()},
__filterInput:function(a){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(a){a=a.value;const b=a.which;switch(b){case 8:case 0:return}const c=this.allowedChars;c&&-1===c.indexOf(String.fromCharCode(b))&&a.preventDefault();this.filterInputPress(a)},filterInput:a=>a,filterInputPress:a=>{},__syncToDom:function(a){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const a=document.selection.createRange();a.moveStart("character",-this.getDomValue().length);
return a.text.length}return this.getInnerDomElement().selectionStart||0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}var c=this.getInnerDomElement();c.setSelectionRange?c.setSelectionRange(a,b):c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getInnerDomElement().select()},
getSelection:function(){const a=this.getInnerDomElement();return{start:a.selectionStart,startElem:a,end:a.selectionEnd,endElem:a}},setSelection:function(a){a&&this.setCaretPosition(a.start,a.end)},saveSelection:function(a){this._selRange=a||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}});e=b.InputText=new f("InputText",g,{include:[b.SizeHeightToDom],initNode:function(a,b){this.inputType=!0===b.password?"password":"text";this.callSuper(a,b);this.setCaretToEnd()},
setPassword:function(a){this.password=a}});b.EditableText=new f("EditableText",g,{include:[k],initNode:function(b,c){a(c,"tagName","div");c.inputType=null;a(c,"whiteSpace","pre");a(c,"contentEditable",!0);this.callSuper(b,c);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(a){h(this,a,"minWidth")},setMinHeight:function(a){"Firefox"===BrowserDetect.browser&&
(a+=2);h(this,a,"minHeight")},setPadding:function(a){this.setPaddingTop(a);this.setPaddingRight(a);this.setPaddingBottom(a);this.setPaddingLeft(a)},setPaddingTop:function(a){h(this,a,"paddingTop")},setPaddingRight:function(a){h(this,a,"paddingRight")},setPaddingBottom:function(a){h(this,a,"paddingBottom")},setPaddingLeft:function(a){h(this,a,"paddingLeft")},setContentEditable:function(a){d(this,"contentEditable",a)},filterInputPress:function(a){const b=this.maxLength;0<=b&&this.getCharacterCount()===
b&&a.preventDefault();this.callSuper(a)},getDomValue:function(){return this.getInnerDomElement().innerHTML},setDomValue:function(a){const b=this.getInnerDomElement();b.innerHTML!==a&&(b.innerHTML=a,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(a){13===b.KeyObservable.getKeyCodeFromEvent(a)&&(a.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(a){this.callSuper(a);this.saveSelection();
this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){const a=this.getInnerDomElement().firstChild;return a?a.length:0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){const a=this.getSelection();return a?a.end:0},setCaretPosition:function(a,b){if(null==b||a===b){if(this.getCaretPosition()===a)return;b=a}this.saveSelection({start:a,startElem:this.getInnerDomElement().firstChild,end:b,endElem:this.getInnerDomElement().firstChild})},
doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(a){this.saveSelection();return!0},getSelection:function(){let a;if(window.getSelection){const b=window.getSelection();if(0<b.rangeCount){if(b.extentNode===this.getInnerDomElement())return null;a=b.getRangeAt(0)}}else document.selection&&(a=document.selection.createRange());return{start:a?a.startOffset:0,startElem:a?a.startContainer:this.getInnerDomElement().firstChild,end:a?a.endOffset:0,endElem:a?a.endContainer:
this.getInnerDomElement().firstChild}},setSelection:function(a){if(a){const b=a.startElem,c=a.endElem;if(b&&b.parentNode&&c&&c.parentNode){const d=document.createRange();d.setStart(b,Math.min(a.start,b.length));d.setEnd(c,Math.min(a.end,c.length));window.getSelection?(a=window.getSelection(),0<a.rangeCount&&a.removeAllRanges(),a.addRange(d)):document.selection&&d.select()}}}});b.InputTextArea=new f("InputTextArea",g,{initNode:function(b,c){a(c,"tagName","textarea");c.inputType=null;a(c,"resize","none");
a(c,"wrap","soft");this.callSuper(b,c)},setResize:function(a){this.resize!==a&&(this.resize=this.getInnerDomStyle().resize=a||"none",this.inited&&this.fireEvent("resize",a))},setWrap:function(a){d(this,"wrap",a)}});b.ComboBox=new f("ComboBox",e,{include:[b.Activateable,b.KeyActivation,b.ListViewAnchor],initNode:function(b,c){this.filterItems=!0;a(c,"activationKeys",[13,27,38,40]);a(c,"bgColor","#fff");a(c,"borderWidth",1);a(c,"borderStyle","solid");a(c,"floatingAlignOffset",c.borderWidth);a(c,"listViewAttrs",
{maxHeight:99});a(c,"fullItemConfig",[]);this.callSuper(b,c)},setFullItemConfig:function(a){this.fullItemConfig=a},setFilterItems:function(a){this.filterItems=a},__syncToDom:function(a){const b=this.value;this.callSuper(a);b!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(a){const b=this.getFloatingPanel(a);if(b){let d;if(this.filterItems){d=[];var c=this.value;c=null==c?"":(""+c).toLowerCase();const a=this.fullItemConfig,b=a.length;for(let e=0;b>e;){const b=a[e++],h=b.attrs.text.toLowerCase(),
f=h.indexOf(c);0===f?h!==c&&d.push(b):0<f&&d.push(b)}}else d=this.fullItemConfig;0<d.length?(b.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(d),this.callSuper(a)):this.hideFloatingPanel(a)}},doItemActivated:function(a){this.setValue(a.text);this.callSuper(a)},doActivated:function(){this.toggleFloatingPanel()}});b.InputSelect=new f("InputSelect",m,{include:[k],initNode:function(b,c){a(c,"tagName","select");c.inputType=null;a(c,"multiple",!1);a(c,"size",c.multiple?4:1);this.callSuper(b,
c);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(a){d(this,"multiple",a)},setSize:function(a){d(this,"size",a)},setOptions:function(a){this.destroyAllOptions();Array.isArray(a)&&a.forEach(a=>{this.addOption(a)})},getOptions:function(){return this.getSubviews().concat()},setValue:function(a){Array.isArray(a)&&b.areArraysEqual(a,this.value)||this.value===a||(this.value=a,this.inited&&this.fireEvent("value",a))},subviewAdded:function(a){a instanceof p||(b.dumpStack("Subview not supported. Destroying it."),
a.destroy())},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow(c)},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(a=>a.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(a=>a.value)},getOptionForValue:function(a){return this.getOptions().find(b=>b.value===a)},addOption:function(a){return new p(this,a)},destroyAllOptions:function(){this.getOptions().forEach(a=>
{a.destroy()})},destroyOptionWithValue:function(a){if(a=this.getOptionForValue(a))if(a.destroy(),a.destroyed)return!0;return!1},deselectAll:function(){let a=!1;this.getOptions().forEach(b=>{b.isSelected()&&(b.setSelected(!1),a=!0)});a&&this.__doChanged()},selectValues:function(a){(Array.isArray(a)?a:[a]).forEach(a=>{this.selectValue(a)})},selectValue:function(a){this.select(this.getOptionForValue(a))},select:function(a){a&&a.canSelect(this)&&(a.setSelected(!0),this.__syncToDom())},deselectValue:function(a){this.deselect(this.getOptionForValue(a))},
deselect:function(a){a&&a.canDeselect(this)&&(a.setSelected(!1),this.__syncToDom())},__doChanged:function(a){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(b=>{const f=JS.Module;var k=b.ValueComponent=new f("ValueComponent",{initNode:function(b,a){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(b,a)},setValueFilter:function(b){this.valueFilter=b;this.inited&&b&&this.setValue(this.value)},setValue:function(b){this.valueFilter&&(b=this.valueFilter(b));this.value!==b&&(this.value=b,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(b,a){const c=this.valueFilter;this.setValueFilter(c?
"last"===a?a=>b(c(a)):a=>c(b(a)):b)}});const g=b.RangeComponent=new f("RangeComponent",{include:[k],setLowerValue:function(b){this.setValue({lower:b,upper:this.value&&void 0!==this.value.upper?this.value.upper:b})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(b){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:b,upper:b})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(b){if(b){var a=this.value;
const c=a?a.lower:void 0;a=a?a.upper:void 0;this.valueFilter&&(b=this.valueFilter(b));if(b.lower!==c||b.upper!==a){null==b.lower&&(b.lower=b.upper);null==b.upper&&(b.upper=b.lower);if(void 0!==b.lower&&void 0!==b.upper&&b.lower>b.upper){const a=b.lower;b.lower=b.upper;b.upper=a}this.value=b;this.inited&&(this.fireEvent("value",this.getValue()),b.lower!==c&&this.fireEvent("lowerValue",b.lower),b.upper!==a&&this.fireEvent("upperValue",b.upper))}}else this.callSuper(b)},getValueCopy:function(){const b=
this.value;return{lower:b.lower,upper:b.upper}}});k=b.BoundedValueComponent=new f("BoundedValueComponent",{include:[k],initNode:function(b,a){const c=this;c.appendToEarlyAttrs("snapToInt","minValue","maxValue");null==a.snapToInt&&(a.snapToInt=!0);a.valueFilter||(a.valueFilter=a=>{var b=c.maxValue;if(null!=b&&a>b)return b;b=c.minValue;return null!=b&&a<b?b:a});c.callSuper(b,a)},setSnapToInt:function(b){this.snapToInt!==b&&(this.snapToInt=b,this.inited&&(this.fireEvent("snapToInt",b),b&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(b){this.snapToInt&&null!=b&&(b=Math.round(b));if(this.minValue!==b){const a=this.maxValue;null!=a&&b>a&&(b=a);this.minValue!==b&&(this.minValue=b,this.inited&&(this.fireEvent("minValue",b),this.setValue(this.value)))}},setMaxValue:function(b){this.snapToInt&&null!=b&&(b=Math.round(b));if(this.maxValue!==b){const a=this.minValue;null!=a&&b<a&&(b=a);this.maxValue!==b&&(this.maxValue=b,this.inited&&(this.fireEvent("maxValue",
b),this.setValue(this.value)))}},setValue:function(b){this.callSuper(this.snapToInt&&null!=b&&!isNaN(b)?Math.round(b):b)}});b.BoundedRangeComponent=new f("BoundedRangeComponent",{include:[k,g],initNode:function(b,a){const c=this;a.valueFilter||(a.valueFilter=a=>{if(a){const b=c.maxValue,e=c.minValue;null!=b&&a.upper>b&&(a.upper=b);null!=e&&a.lower<e&&(a.lower=e)}return a});c.callSuper(b,a)},setValue:function(b){this.snapToInt&&null!=b&&(null==b.lower||isNaN(b.lower)||(b.lower=Math.round(b.lower)),
null==b.upper||isNaN(b.upper)||(b.upper=Math.round(b.upper)));this.callSuper(b)}})})(myt);
(b=>{const f=b.AccessorSupport.defAttr,k=b=>{const e=b.label||"";b.setText('<i class="'+("solid"===(b.checkboxStyle||"outline")?"fas":"far")+" fa-"+(b.isChecked()?"check-":"")+'square"></i>'+(0<e.length?" ":"")+e)};b.Checkbox=new JS.Class("Checkbox",b.Text,{include:[b.SimpleButtonStyle,b.ValueComponent],initNode:function(g,e){f(e,"value",!1);f(e,"focusEmbellishment",!1);f(e,"checkboxStyle","outline");f(e,"activeColor","inherits");f(e,"hoverColor","inherits");f(e,"readyColor","inherits");this.callSuper(g,
e);b.FontAwesome.registerForNotification(this);k(this)},setValue:function(b){this.value!==b&&(this.callSuper(b),this.inited&&k(this))},setLabel:function(b){this.label!==b&&(this.set("label",b,!0),this.inited&&k(this))},setCheckboxStyle:function(b){this.checkboxStyle!==b&&(this.set("checkboxStyle",b,!0),this.inited&&k(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},drawDisabledState:function(){this.setOpacity(b.Button.DEFAULT_DISABLED_OPACITY);
this.setTextColor(this.readyColor)},drawHoverState:function(){this.setOpacity(1);this.setTextColor(this.hoverColor)},drawActiveState:function(){this.setOpacity(1);this.setTextColor(this.activeColor)},drawReadyState:function(){this.setOpacity(1);this.setTextColor(this.readyColor)}})})(myt);
(b=>{let f;const k=JS.Class,g=JS.Module,e=b.global,a=e.focus,c=b.AccessorSupport.defAttr,h={},d=(a,c)=>{if(a){const d=a.id;a.id?c(d):b.dumpStack("No ID")}else b.dumpStack("No processor")},m=a=>{d(a,b=>{h[b]=a})},p=a=>{const c=b.BAG.getGroup("selected",a.groupId);if(c){const b=c.getNodes();a=a.value;let d=b.length;for(;d;){const e=b[--d];if(e.optionValue===a){c.setTrue(e);break}}}},l=a=>{if(a.groupId){const c=b.BAG.getGroup("selected",a.groupId);c&&a.syncTo(c,"__syncValue","trueNode")}},r=(a,b)=>{const c=
a.__v,d=c.length,e=[];for(let h=0;d>h;)b=c[h++].isFormValid(a,null,e)&&b;a.setErrorMessages(e);a.setIsValid(b);return b},n=(a,b,c)=>{a=a.__vp;const d=a.length;for(let e=0;d>e;){const d=a[e++];d[c]&&(b=d.process(b))}return b},u=b.ValueProcessor=new k("ValueProcessor",{initialize:function(a,b,c,d){this.id=a;this.runForDefault=b?!0:!1;this.runForRollback=c?!0:!1;this.runForCurrent=d?!0:!1},process:a=>a}),A=b.ToNumberValueProcessor=new k("ToNumberValueProcessor",u,{process:a=>{if(null==a||""===a||"-"===
a)return a;const b=Number(a);return isNaN(b)?a:b}}),w=b.TrimValueProcessor=new k("TrimValueProcessor",u,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.trim=e},process:function(a){a+="";switch(this.trim){case "start":case "left":return a.trimStart();case "end":case "right":return a.trimEnd();default:return a.trim()}}}),q=b.UndefinedValueProcessor=new k("UndefinedValueProcessor",u,{initialize:function(a,b,c,d,e){this.callSuper(a,b,c,d);this.defaultValue=e},process:function(a){return void 0===
a?this.defaultValue:a}}),B=b.Form=new g("Form",{initNode:function(a,b){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(a,b);this.form&&this.form.addSubForm(this)},destroy:function(){this.form&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(a){this.errorMessages=a},getFullId:function(){const a=[this.id];let b=this.form;for(;b&&b.id;)a.unshift(b.id),b=b.form;return a.join(".")},setId:function(a){if(this.id!==a){const b=
this.id;this.id=a;(a=this.form)&&this.inited&&(a.removeSubForm(b),a.addSubForm(this))}},setForm:function(a){if(this.form!==a){const b=this.form;this.form=a;b&&b.removeSubForm(this.id);a&&this.inited&&a.addSubForm(this)}},setIsValid:function(a){this.isValid=a;this.inited&&this.fireEvent("isValid",a);const b=this.form;b&&!this._lockCascade&&(a?b.verifyValidState(this):b.notifySubFormInvalid())},setIsChanged:function(a){if(this.isChanged!==a){this.isChanged=a;this.inited&&this.fireEvent("isChanged",
a);const b=this.form;b&&!this._lockCascade&&(a?b.notifySubFormChanged():b.verifyChangedState(this))}},setValidators:function(a){let b=a.length;for(;b;){const c=a[--b];"string"===typeof c&&(a[b]=e.validators.getValidator(c),a[b]||a.splice(b,1))}this.__v=a},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(D))return this.value;const a={},b=this.__sf;for(const c in b)a[c]=b[c].getValue();return a},setValue:function(a){this.callSuper&&this.callSuper(a);if("object"===typeof a&&
!this.isA(D))for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setValue(a[b]):console.warn("ID in setValue for non-existant subform",b)}this.form&&this.form.notifyValueChanged(this);return a},getDefaultValue:function(){const a={};let b=this.__sf;for(const c in b)a[c]=b[c].getDefaultValue();return a},setDefaultValue:function(a){if("object"===typeof a)for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setDefaultValue(a[b]):console.warn("ID in setDefaultValue for non-existant subform",b)}return a},
getRollbackValue:function(){const a={},b=this.__sf;for(const c in b)a[c]=b[c].getRollbackValue();return a},setRollbackValue:function(a){if("object"===typeof a)for(const b in a){const c=this.getSubForm(b);c?a[b]=c.setRollbackValue(a[b]):console.warn("ID in setRollbackValue for non-existant subform",b)}return a},addAccelerator:function(a,b){this.__acc[a]=b},removeAccelerator:function(a){delete this.__acc[a]},invokeAccelerator:function(a,b){(a=this.__acc[a])&&a.call(this,void 0===b?null:b)},addValidator:function(a){a&&
this.__v.push(a)},removeValidator:function(a){if(a){const b=this.__v;let c=b.length;for(;c;){const d=b[--c];if(d.id===a)return b.splice(c,1),d}}return null},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(a){const b=a.id;null!=this.getSubForm(b)?console.warn("ID in use for subform, add aborted.",b,a):(a.setForm(this),this.__sf[b]=a,a.isChanged&&this.notifySubFormChanged(),a.isValid||this.notifySubFormInvalid())},removeSubForm:function(a){const b=this.getSubForm(a);
b&&(b.setForm(null),delete this.__sf[a],this.verifyChangedState(),this.verifyValidState());return b},getSubForm:function(a){return this.__sf[a]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(a){a&&this.doValidation();const b=[];(function C(a){if(a.isA(D))a.isValid||b.push(a.getFullId());else{a=a.getSubForms();for(const b in a)C(a[b])}})(this);return b},getAllErrorMessages:function(){const a=this.__sf;let b=(this.errorMessages||[]).concat();for(const c in a)b=b.concat(a[c].getAllErrorMessages());
return b},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(a){const b=this.__sf;let c=!0;for(const d in b){const e=b[d];e!==a&&(c=e.isValid&&c)}return r(this,c)},doValidation:function(){const a=this.__sf;let b=!0;for(const c in a)b=a[c].doValidation()&&b;this._lockCascade=!0;b=r(this,b);this._lockCascade=!1;return b},notifyValueChanged:function(a){this.form&&this.form.notifyValueChanged(a)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(a){const b=
this.__sf;let c=!1;for(const d in b){const e=b[d];e!==a&&(c=e.isChanged||c)}this.setIsChanged(c);return c},setup:function(a,b,c){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;null==a&&(a={});null==b&&(b={});null==c&&(c={});const d=this.__sf;for(const e in d)d[e].setup(a[e],b[e],c[e])},resetForm:function(){this._lockCascade=!0;const a=this.__sf;for(const b in a)a[b].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);
this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const a=this.__sf;for(const b in a)a[b].rollbackForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const a={},b=this.__sf;for(const c in b){const d=b[c];d.isChanged&&(a[c]=d.getChangedValue())}return a}}),D=b.FormElement=new g("FormElement",{include:[B],initNode:function(a,b){this.__vp=[];this.callSuper(a,b)},getValue:function(){return n(this,this.callSuper?this.callSuper():
this.value,"runForCurrent")},setValue:function(a){void 0===a&&(a=this.getRollbackValue());this.value!==a&&(this.callSuper(a),this.verifyChangedState());return a},getDefaultValue:function(){return n(this,this.defaultValue,"runForDefault")},setDefaultValue:function(a){this.defaultValue!==a&&(this.defaultValue=a,this.inited&&this.fireEvent("defaultValue",a),this.verifyChangedState());return a},getRollbackValue:function(){return n(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(a){void 0===
a&&(a=this.getDefaultValue());this.rollbackValue!==a&&(this.rollbackValue=a,this.inited&&this.fireEvent("rollbackValue",a),this.verifyChangedState());return a},setValueProcessors:function(a){let b=a.length;for(;b;){const c=a[--b];"string"===typeof c&&(a[b]=h[c],a[b]||a.splice(b,1))}this.__vp=a},addValueProcessor:function(a){this.__vp.push(a)},removeValueProcessor:function(a){if(a){const b=this.__vp;let c=b.length;for(;c;){const d=b[--c];if(d.id===a)return b.splice(c,1),d}}return null},addSubForm:a=>
{b.dumpStack("addSubForm not supported on FormElement.")},getSubForm:a=>{b.dumpStack("getSubForm not supported on FormElement.");return null},removeSubForm:a=>{b.dumpStack("removeSubForm not supported on FormElement.");return null},verifyChangedState:function(a){a=this.getValue()!==this.getRollbackValue();this.setIsChanged(a);return a},setup:function(a,b,c){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(a);this.setRollbackValue(b);this.setIsChanged(!1);
this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(c)},resetForm:function(){this._lockCascade=!0;const a=this.getDefaultValue();this.setRollbackValue(a);this.setValue(a);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?
this.getValue():void 0}}),x=b.FormInputTextMixin=new g("FormInputTextMixin",{include:[D,b.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";c(b,"bgColor","#fff");c(b,"borderWidth",1);c(b,"borderStyle","solid");c(b,"borderStyle",!0);this.callSuper(a,b);this.addValueProcessor(f);this.attachToDom(this,"__handleKeyDown","keydown");this.attachToDom(this,"__handleKeyUp","keyup");this.addAccelerator("accept",
this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);
const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},
__handleKeyDown:function(a){13===b.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("accept")},__handleKeyUp:function(a){27===b.KeyObservable.getKeyCodeFromEvent(a)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});b.RootForm=new g("RootForm",{include:[B],
initNode:function(a,b){this.callSuper(a,b);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:a=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();this.doValidation()}});b.FormCheckbox=new k("FormCheckbox",b.Checkbox,{include:[D],initNode:function(a,b){this.rollbackValue=this.defaultValue=!1;this.callSuper(a,b)}});
b.FormComboBox=new k("FormComboBox",b.ComboBox,{include:[D,b.UpdateableUI],initNode:function(a,b){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(a,b);this.addValueProcessor(f);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(a){this.validateWhen=a},setAcceleratorScope:function(a){this.acceleratorScope=a},setErrorColor:function(a){this.errorColor=
a},setActionRequiredColor:function(a){this.actionRequiredColor=a},setNormalColor:function(a){this.normalColor=a},setIsChanged:function(a){this.callSuper(a);this.inited&&this.updateUI()},setIsValid:function(a){this.callSuper(a);this.inited&&this.updateUI()},setValue:function(a){a=this.callSuper(a);const b=this.validateWhen;"key"!==b&&"blurWithKeyFix"!==b||this.verifyValidState();return a},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form&&this.form.verifyChangedState(this)}},notifyPanelShown:function(a){this._isShown=!0},notifyPanelHidden:function(a){this._isShown=!1},doActivationKeyDown:function(a,b){27!==a||this._isShown?this.callSuper(a,b):this.invokeAccelerator("reject")},doActivationKeyUp:function(a){13!==
a||this._isShown?this.callSuper(a):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const a=this.validateWhen;"blur"!==a&&"blurWithKeyFix"!==a||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});b.FormEditableText=new k("FormEditableText",b.EditableText,{include:[x],__handleKeyDown:function(a){"nowrap"===this.whitespace&&this.callSuper(a)}});b.FormInputText=new k("FormInputText",
b.InputText,{include:[x]});b.FormInputTextArea=new k("FormInputTextArea",b.InputTextArea,{include:[x],__handleKeyDown:function(a){}});b.FormInputSelect=new k("FormInputSelect",b.InputSelect,{include:[D],setValue:function(a){if(!this.__abortSetValue)return a=this.callSuper(a),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(a),this.__abortSetValue=!1,a}});b.FormRadioGroup=new k("FormRadioGroup",b.Node,{include:[b.ValueComponent,D],initNode:function(a,c){null==c.groupId&&(c.groupId=b.generateGuid());
this.callSuper(a,c);void 0!==this.value&&p(this);l(this)},setValue:function(a){a=this.callSuper(a);this.inited&&p(this);return a},setGroupId:function(a){if(this.groupId!==a){if(this.groupId){const a=b.BAG.getGroup("selected",this.groupId);a&&this.detachFrom(a,"__syncValue","trueNode")}this.groupId=a;this.inited&&l(this)}},__syncValue:function(a){this.setValue(a.value?a.value.optionValue:null)}});b.UseOtherFieldIfEmptyValueProcessor=new k("UseOtherFieldIfEmptyValueProcessor",u,{initialize:function(a,
b,c,d,e){this.callSuper(a,b,c,d);this.otherField=e},process:function(a){return null==a||""===a?this.otherField.getValue():a}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){m(f=new q("undefToEmpty",!0,!0,!0,""));m(new A("toNumber",!0,!0,!0));m(new w("trimLeft",!0,!0,!0,"left"));m(new w("trimRight",!0,!0,!0,"right"));m(new w("trimBoth",!0,!0,!0,"both"));e.register("valueProcessors",this)},getValueProcessor:a=>h[a],register:m,unregister:a=>{d(a,a=>{h[a]&&delete h[a]})}})})(myt);
(b=>{const f=JS.Class,k={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},g=b.DragDropSupport=new JS.Module("DragDropSupport",{include:[b.DragDropObservable],initNode:function(a,b){this.callSuper(a,b);this.disabled||this.setupDragListeners()},setDisabled:function(a){this.disabled!==a&&(this.getInnerDomElement().disabled=a,this.callSuper(a),this.inited&&(a?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){this.attachToDom(this,"doDragOver","dragover",
!1);this.attachToDom(this,"doDragEnter","dragenter",!1);this.attachToDom(this,"doDragLeave","dragleave",!1);this.attachToDom(this,"doDrop","drop",!1)},teardownDragListeners:function(){this.detachFromDom(this,"doDragOver","dragover",!1);this.detachFromDom(this,"doDragEnter","dragenter",!1);this.detachFromDom(this,"doDragLeave","dragleave",!1);this.detachFromDom(this,"doDrop","drop",!1)},doDragOver:a=>{},doDragEnter:a=>{},doDragLeave:a=>{},doDrop:function(a){this.handleFiles(a.value.dataTransfer.files,
a)},handleFiles:function(a,e){if(void 0!==a){let b=a.length;for(;b;){const c=this.filterFiles(a[--b]);c&&this.handleDroppedFile(c,e)}}else b.dumpStack("File API not supported.")},filterFiles:a=>a,handleDroppedFile:(a,b)=>{}}),e=b.Uploader=new f("Uploader",b.View,{include:[g,b.Disableable,b.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(a,b)=>{if(void 0!==FileReader){const c=new FileReader;c.onload=b;c.readAsDataURL(a)}},isSameFile:(a,b)=>null!=a&&null!=b&&a.name===b.name&&a.type===
b.type&&a.size===b.size,createFile:a=>{const c=(new b.URI(a)).file;return{name:c,serverPath:a,size:-1,type:k[b.getExtension(c)]}}},initNode:function(a,e){const c=this;c.files=[];null==e.requestFileParam&&(e.requestFileParam="file");null==e.maxFiles&&(e.maxFiles=-1);c.callSuper(a,e);new b.NativeInputWrapper(c,{name:"fileInput",percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:c.disabled,overflow:"hidden"},[b.SizeToParent,{initNode:function(a,b){this.inputType="file";this.callSuper(a,
b);this.attachToDom(this,"_handleInput","change");this.domElement.multiple=1<c.maxFiles},_handleInput:function(a){c.handleFiles(this.domElement.files,a)}}])},setValue:function(a){this.clearFiles();a&&(Array.isArray(a)||(a=[a]),a.forEach(a=>{this.addFile(e.createFile(a))}));return this.callSuper?this.callSuper(a):a},getValue:function(){return this.value},setDisabled:function(a){this.callSuper(a);this.fileInput&&this.fileInput.setDisabled(a)},setMaxFiles:function(a){this.maxFiles!==a&&(this.maxFiles=
a,this.inited&&this.fireEvent("maxFiles",a),this.fileInput&&(this.fileInput.domElement.multiple=1<a))},setUploadUrl:function(a){this.set("uploadUrl",a,!0)},setRequestFileParam:function(a){this.set("requestFileParam",a,!0)},bringSubviewToFront:function(a){a===this.fileInput?this.callSuper(a):this.sendSubviewBehind(a,this.fileInput)},subviewAdded:function(a){this.callSuper(a);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(a,b){this.addFile(a)},filterFiles:function(a){return 0<=
this.maxFiles&&this.files.length>=this.maxFiles?null:a},uploadFiles:function(a,b){a=a||this.uploadUrl;const c=this.files;let e=c.length;for(;e;)this.uploadFile(c[--e],a,b)},uploadFile:function(a,e,d){const c=this,h=new FormData;h.append(d||c.requestFileParam,a,a.name);b.doFetch(e||c.uploadUrl,{method:"POST",body:h},!1,b=>{c.handleUploadSuccess(a,b)},b=>{c.handleUploadFailure(a,b)})},handleUploadSuccess:function(a,b){a[e.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(a,b);this.updateValueFromFiles()},
handleUploadFailure:(a,e)=>{b.dumpStack("Upload failure:"+e.status+":"+e.message)},parseServerPathFromResponse:(a,b)=>null,addFile:function(a){this.files.push(a);this.updateValueFromFiles();this.fireEvent("addFile",a)},removeFile:function(a){const b=this.files;let c=b.length;for(;c;)if(e.isSameFile(b[--c],a)){b.splice(c,1);this.updateValueFromFiles();this.fireEvent("removeFile",a);break}},updateValueFromFiles:function(){const a=[];var b=this.files;let d=b.length;for(;d;){const c=b[--d][e.FILE_ATTR_SERVER_PATH];
c&&a.push(c)}b=a.length;this.value=1===b?a[0]:0===b?void 0:a;this.value||(this.fileInput.domElement.value="");this.verifyChangedState();this.form&&this.form.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const a=this.files;let b=a.length;for(;b;)this.removeFile(a[--b])}}),a=b.ImageUploader=new f("ImageUploader",e,{extend:{isImageFile:a=>/image/i.test(a.type)},initNode:function(a,b){b.maxFiles=1;this.callSuper(a,b)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&
this.updateImageSize()},setHeight:function(a,b){this.callSuper(a,b);this.inited&&this.updateImageSize()},filterFiles:function(b){if(a.isImageFile(b)){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(b)}},addFile:function(c){const h=this;h.callSuper(c);const d=h.image=new b.Image(h,{useNaturalSize:!1,align:"center",valign:"middle"});d.file=c;if(-1===c.size){const a=new Image;a.onload=function(){c.width=this.width;c.height=this.height;d&&!d.destroyed&&h.updateImage(c,d,
this.src)};a.src=c.serverPath}else void 0!==FileReader&&a.isImageFile(c)&&e.readFile(c,function(a){const b=new Image;b.onload=function(){c.width=this.width;c.height=this.height;d&&!d.destroyed&&h.updateImage(c,d,this.src)};b.src=a.target.result})},scaleToFit:(a,b,d,e)=>d/e>a/b?[a,e*a/d]:[d*b/e,b],removeFile:function(a){this.callSuper(a);const b=this.getSubviews();let c=b.length;for(;c;){const d=b[--c];if(e.isSameFile(d.file,a)){d.destroy();break}}},handleDroppedFile:function(a,b){this.callSuper(a,
b);this.uploadFile(a,this.uploadUrl)},updateImage:function(a,b,d){this.nativeWidth=a.width;this.nativeHeight=a.height;this.updateImageSize();b.setImageUrl(d)},updateImageSize:function(){const a=this.image;if(a&&!a.destroyed){var b=this.scaleToFit(this.width,this.height,this.nativeWidth,this.nativeHeight);const c=Math.round(b[0]);b=Math.round(b[1]);a.setImageSize(c+"px "+b+"px");a.setWidth(c);a.setHeight(b)}},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:
null}})})(myt);
(b=>{const f=Math,k=f.max,g=f.min,e=a=>g(255,k(0,f.round(a))),a=a=>{a=e(a).toString(16);return 1===a.length?"0"+a:a},c=(b,c,d,e)=>[e?"#":"",a(b),a(c),a(d)].join(""),h=a=>new r((16711680&a)>>16,(65280&a)>>8,255&a),d=(a,b,c)=>(e(a)<<16)+(e(b)<<8)+e(c),m=(a,b)=>{if("string"===typeof a)if(a.endsWith("%"))a=parseFloat(a.substring(0,a.length-1))*b/100;else return 0;a=g(b,k(0,a))/b;return 1E-6>f.abs(1-a)?1:a},p=(a,b,c)=>{a=m(a,255);b=m(b,255);c=m(c,255);const d=k(a,b,c),e=d-g(a,b,c);if(0===e)return{h:0,
s:0,v:d};{let h;switch(d){case a:h=(b-c)/e+(b<c?6:0);break;case b:h=(c-a)/e+2;break;case c:h=(a-b)/e+4}return{h:60*h,s:0===d?0:e/d,v:d}}},l=(a,b,c)=>{a=6*m(a,360);b=m(b,100);c=m(c,100);var d=f.floor(a);const e=a-d;a=c*(1-b);const h=c*(1-e*b);b=c*(1-(1-e)*b);d%=6;return{red:255*[c,h,a,a,b,c][d],green:255*[b,c,c,h,a,a][d],blue:255*[a,a,b,c,c,h][d]}},r=b.Color=new JS.Class("Color",{extend:{toUnitRange:m,rgbToHsv:p,hsvToRgb:l,toHex:a,rgbToHex:c,cleanChannelValue:e,getRedChannel:a=>(16711680&a)>>16,getGreenChannel:a=>
(65280&a)>>8,getBlueChannel:a=>255&a,makeColorFromNumber:h,makeColorFromHexString:a=>a?(a.startsWith("#")||(a="#"+a),h(parseInt(a.substring(1),16))):null,makeColorFromHSV:(a,b,c)=>{a=l(a,b,c);return h(d(a.red,a.green,a.blue))},getLighterColor:(a,b)=>h(a).isLighterThan(h(b))?a:b,makeColorNumberFromChannels:d,makeBlendedColor:(a,b,c)=>new r(a.red+c*(b.red-a.red),a.green+c*(b.green-a.green),a.blue+c*(b.blue-a.blue))},initialize:function(a,b,c){this.setRed(a);this.setGreen(b);this.setBlue(c)},setRed:function(a){this.red=
e(a)},setGreen:function(a){this.green=e(a)},setBlue:function(a){this.blue=e(a)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return c(this.red,this.green,this.blue,!0)},getHSV:function(){return p(this.red,this.green,this.blue)},isLighterThan:function(a){a=this.getDiffFrom(a);return 0>a.red+a.green+a.blue},getDiffFrom:function(a){return{red:a.red-this.red,green:a.green-this.green,blue:a.blue-this.blue}},applyDiff:function(a){return this.add(a)},
add:function(a){this.setRed(this.red+a.red);this.setGreen(this.green+a.green);this.setBlue(this.blue+a.blue);return this},subtract:function(a){this.setRed(this.red-a.red);this.setGreen(this.green-a.green);this.setBlue(this.blue-a.blue);return this},multiply:function(a){this.setRed(this.red*a);this.setGreen(this.green*a);this.setBlue(this.blue*a);return this},divide:function(a){this.setRed(this.red/a);this.setGreen(this.green/a);this.setBlue(this.blue/a);return this},clone:function(){return new r(this.red,
this.green,this.blue)},equals:function(a){return a===this||a&&a.isA&&a.isA(r)&&a.red===this.red&&a.green===this.green&&a.blue===this.blue}})})(myt);
(b=>{const f=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),k=b=>{let a=b.properties;a?(a="string"===typeof a?a.split(" "):a.concat(),a.unshift(b.size),a.unshift(b.icon)):a=[b.icon,b.size];b.setHtml(g.makeTag(a))};b.loadCSSFonts(["//use.fontawesome.com/releases/v5.0.8/css/all.css"]);const g=b.FontAwesome=new JS.Class("FontAwesome",b.Markup,{extend:{makeTag:function(e){if(Array.isArray(e)){let a=e.length,b,h;if(0<a){e.unshift("fa");++a;0!==e[1].indexOf("fa-")&&(e[1]="fa-"+e[1]);3<=a&&(e[2]=f[e[2]]||"");
if(3<a)for(h=3;a>h;++h)b=e[h],0!==b.indexOf("fa-")&&(e[h]="fa-"+b);return'<i class="'+e.join(" ")+'"></i>'}}b.dumpStack("Error making tag");console.error(e);return""},registerForNotification:e=>{b.registerForFontNotification(e,"Font Awesome 5 Free 400");b.registerForFontNotification(e,"Font Awesome 5 Free 900");b.registerForFontNotification(e,"Font Awesome 5 Brands 400")}},initNode:function(b,a){this.size=0;this.icon="";this.callSuper(b,a);k(this);g.registerForNotification(this)},setIcon:function(b){const a=
this.icon;this.set("icon",b,!0);this.inited&&a!==b&&k(this)},setSize:function(b){const a=this.size;this.set("size",b,!0);this.inited&&a!==b&&k(this)},setProperties:function(b){this.properties=b;this.fireEvent("properties",b);this.inited&&k(this)}})})(myt);
(b=>{let f,k,g,e,a=0,c=0,h=0,d=[],m,p,l,r,n,u,A,w;const q=JS.Class,B=b.Color,D=b.LocalStorage,x=b.View,F=b.Button,t=b.Draggable,z=Math.min,v=Math.max,C=b.FontAwesome.makeTag(["check"]),y=[1,"solid","#333"],E=[1,"solid","#999"],I={},K=new q("Swatch",x,{include:[F],initNode:function(a,c){c.width=c.height=16;c.border=E;this.callSuper(a,c);this.bgColor===e&&(a=B.makeColorFromHexString(e),new b.Text(this,{x:2,y:2,text:C,fontSize:"12px",textColor:382.5>a.red+a.green+a.blue?"#fff":"#000"}))},setBgColor:function(a){this.callSuper(a);
this.setTooltip(a)},doActivated:function(){f.setColor(this.bgColor)},drawHoverState:function(){this.setBorder(y)},drawReadyState:function(){this.setBorder(E)}});b.ColorPicker=new q("ColorPicker",x,{initNode:function(e,q){f=this;g=q.color||"transparent";delete q.color;m=q.palette||[];m.forEach(a=>{I[a]=!0});delete q.palette;k="transparent"===g;f.callSuper(e,q);p=new x(f,{width:160,height:170});new b.WrappingLayout(p,{spacing:4,lineSpacing:4});l=new x(f,{x:170,width:139,height:139,border:y},[t,{requestDragPosition:function(a,
b){l.callSuper(l.x,l.y);const d=this.getPagePosition();c=parseFloat(v(0,z(1,(a+this.dragInitX-d.x)/this.width)));h=parseFloat(1-v(0,z(1,(b+this.dragInitY-d.y)/this.height)));k=!1;f.updateUI()}}]);e=new x(l,{width:139,height:139});q=new x(e,{width:139,height:139});e.getInnerDomStyle().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";q.getInnerDomStyle().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";r=new x(q,{width:6,height:6,bgColor:"#000",border:[1,
"solid","#ffffff"],roundedCorners:4});n=new x(f,{x:315,y:30,width:24,height:109,border:y},[t,{requestDragPosition:function(b,c){this.callSuper(n.x,n.y);a=parseFloat(v(0,z(1,(c+this.dragInitY-this.getPagePosition().y)/this.height)));k=!1;f.updateUI()}}]);n.getInnerDomStyle().background="linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)";u=new x(n,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new x(f,{x:315,width:24,height:24,border:y,
tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[F,{doActivated:()=>{f.setColor("transparent")}}]);A=new b.InputText(f,{x:236,y:146,width:105,height:25,roundedCorners:3,textColor:"#333",border:y,maxLength:11});f.attachToDom(A,"_submitInput","blur");f.attachToDom(A,"_handleKeyDown","keydown");A.getInnerDomStyle().paddingLeft="6px";e=new x(f,{x:170,y:146,width:60,height:23,border:y});new x(e,{width:30,height:23,focusEmbellishment:!1,bgColor:g,domClass:k?"mytCheckerboardPattern":""},
[F,{doActivated:()=>{f.setColor(g)}}]);w=new x(e,{x:30,width:30,height:23},[{setBgColor:function(a){this.callSuper(a);this[("transparent"===a?"add":"remove")+"DomClass"]("mytCheckerboardPattern")}}]);if(e=D.getItem("myt.default"))d=e.split(";"),d.forEach(a=>{I[a]=!0});f.setColor(g)},_handleKeyDown:a=>{13===b.KeyObservable.getKeyCodeFromEvent(a)&&f._submitInput()},_submitInput:()=>{f.setColor(A.value)},addToPalette:a=>{a&&"transparent"!==a&&!I[a]&&(d.unshift(a),d.length=z(d.length,56),D.setItem("myt.default",
d.join(";")))},setColor:b=>{b&&"transparent"!==b?(b=B.makeColorFromHexString(b).getHSV(),a=b.h/360,c=b.s,h=b.v,k=!1):k=!0;f.updateUI()},getColor:()=>k?"transparent":B.makeColorFromHSV(360*a,100*c,100*h).getHtmlHexString(),updateUI:()=>{const b=!k;u.setVisible(b);r.setVisible(b);b&&(r.setX(v(0,z(1,c)*(l.width+2))-5),r.setY(v(0,z(1,1-h)*(l.height+2))-5),u.setY(a*(n.height-2)-1));l.setBgColor(B.makeColorFromHSV(360*a,100,100).getHtmlHexString());e=f.getColor();A.setValue(e);w.setBgColor(e);f.redrawPalette()},
redrawPalette:b.debounce(()=>{const a=p.getSubviews();let b=a.length;for(;b;)a[--b].destroy();m.forEach(a=>{new K(p,{bgColor:a})});d.forEach(a=>{new K(p,{bgColor:a})})},50)})})(myt);
(b=>{let f,k,g,e,a,c,h,d,m,p,l,r,n,u,A,w;const q=JS.Class,B=b.View,D=b.Text,x=b.TextButton,F=b.SelectionManager,t=b.FontAwesome.makeTag;var z=Math;const v=z.min,C=z.max,y=a=>{a=a.split(":");return[C(0,v(23,parseInt(a[0]))),C(0,v(60,parseInt(a[1])))]},E=a=>{a.deselectAll();a=a.getSubviews();let b=a.length;for(;b;)a[--b].destroy()};z=new q("SelectableBtn",x,{include:[b.Selectable],setSelected:function(a){this.callSuper(a);this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),
this.setTextColor("#fff")):this.setTextColor()}});const I=new q("TimeBtn",z,{initNode:function(a,b){b.width=g?175:49;this.callSuper(a,b)},doActivated:function(){this.callSuper();const a=this.text,b=y(a);w.selectById(a);l.setHours(b[0]);l.setMinutes(b[1])}}),K=new q("DayBtn",z,{initNode:function(a,b){b.width=23;b.border=[1,"solid","#fff"];this.callSuper(a,b)},setData:function(a){this.data=a},setIsAnotherMonth:function(a){this.isAnotherMonth=a},setIsToday:function(a){this.isToday=a},setIsSunday:function(a){this.isSunday=
a},setIsSaturday:function(a){this.isSaturday=a},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?"#090":"#fff"))},doActivated:function(){this.callSuper();const a=new Date(this.data);a.setHours(l.getHours());a.setMinutes(l.getMinutes());H(a)}}),H=b=>{b.setSeconds(0);b.setMilliseconds(0);var F=6>=a.length,t;if(F)for(t=7;t--&&!a.includes(b.getDay());)b.setDate(b.getDate()+
1);l=b;const z=w.getOuterDomElement().scrollTop;var q=new Date,v=q.getFullYear();t=q.getMonth();var B=q.getDate();q.getHours();q.getMinutes();var y=b.getFullYear(),C=b.getMonth();const x=b.getDate();var H=b.getTime();q=b.getHours();b=b.getMinutes();const J=(new Date(y,C,1)).getDay()-e,L=(new Date(y,C+1,0)).getDate(),O=(new Date(y,C,0)).getDate(),M=new Date(y,C,0),N=new Date(y,C+2,0),P=v==y&&t==C;if(!g){E(A);t=new Date(H);const b=7+e;v=f.days;n.setText(y+" "+f.sep+" "+f.months[C]);t.setMinutes(59);
t.setHours(23);t.setSeconds(59);t.setDate(0);r.setVisible(null==c||c<t.getTime());t.setMinutes(0);t.setHours(0);t.setSeconds(0);t.setDate(1);t.setMonth(C+1);u.setVisible(null==h||h>t.getTime());for(t=0;7>t;t++)new D(A,{width:23,height:20,textAlign:"center",text:v[(t+b)%7],textColor:"#999"});t=0;let d=42;0>J&&(t=-7,d=35);v=new Date(H);v.setHours(0);v.setMinutes(0);for(v.setSeconds(0);t<d;t++){var G=t+1-J;const d=(t+b)%7,e=new K(A);J>t?(e.setText(O+G),e.setData(M.getFullYear()+"/"+(M.getMonth()+1)+
"/"+(O+G)),e.setIsAnotherMonth(!0),v.setDate(O+G),v.setMonth(M.getMonth()),v.setYear(M.getFullYear())):t<J+L?(e.setText(G),e.setData(y+"/"+(C+1)+"/"+G),v.setDate(G),v.setMonth(C),v.setYear(y)):(e.setText(G-L),e.setData(N.getFullYear()+"/"+(N.getMonth()+1)+"/"+(G-L)),e.setIsAnotherMonth(!0),v.setDate(G-L),v.setMonth(N.getMonth()),v.setYear(N.getFullYear()));F&&!a.includes(d)?e.setDisabled(!0):(0===d?e.setIsSunday(!0):6===d&&e.setIsSaturday(!0),G===x&&(A.select(e),e.focus()),P&&G===B&&e.setIsToday(!0),
G=new Date(v.getTime()),G.setHours(23),G.setMinutes(59),G.setSeconds(59),(null!=c&&c>G.getTime()||null!=h&&h<v.getTime())&&e.setDisabled(!0));e.updateUI()}}if(!k){F=60*m[0]+m[1];E(w);B=d[0];y=d[1];for(v=new Date(H);60*B+y<F;)H=new I(w,{text:("0"+B).slice(-2)+":"+("0"+y).slice(-2)}),B===q&&y===b&&w.select(H),v.setHours(B),v.setMinutes(y),C=v.getTime(),(null!=c&&c>C||null!=h&&h<C)&&H.setDisabled(!0),y+=p,60<=y&&(y-=60,B++);w.scrollYTo(z)}};b.DatePicker=new q("DatePicker",B,{initNode:function(z,q){const E=
Object.assign({current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null},q.opt);delete q.opt;this.callSuper(z,q);f=E.locales[E.locale||"en"];k=E.dateOnly;g=E.timeOnly;e=E.firstDayOfWeek;p=C(5,v(30,E.minuteInterval));a=E.allowedDays;Array.isArray(a)&&0!==a.length||(a=[0,1,2,3,4,5,6]);c=Date.parse(E.minDate);c=isNaN(c)?null:c;h=Date.parse(E.maxDate);h=isNaN(h)?null:h;d=
y(E.minTime);m=y(E.maxTime);z=new B(this,{visible:!g});E.showTodayButton&&new x(z,{width:24,text:t(["home"]),tooltip:f.today},[{doActivated:()=>{H(new Date)}}]);r=new x(z,{width:24,x:28,text:t(["chevron-left"]),tooltip:f.prevMonth},[{doActivated:()=>{const a=(new Date(l.getFullYear(),l.getMonth(),0)).getDate();a<l.getDate()&&l.setDate(a);l.setMonth(l.getMonth()-1);H(l);r.focus()}}]);n=new D(z,{width:100,x:52,textAlign:"center"});u=new x(z,{width:24,x:152,text:t(["chevron-right"]),tooltip:f.nextMonth},
[{doActivated:()=>{var a=(new Date(l.getFullYear(),l.getMonth()+1,0)).getDate();a<l.getDate()&&l.setDate(a);a=(new Date(l.getFullYear(),l.getMonth()+2,0)).getDate();a<l.getDate()&&l.setDate(a);l.setMonth(l.getMonth()+1);H(l);u.focus()}}]);A=new B(this,{y:25,width:175,height:175,visible:!g,maxSelected:1,itemSelectionId:"data"},[F]);new b.WrappingLayout(A,{spacing:2,lineInset:2,lineSpacing:3});w=new B(this,{x:g?0:195,y:g?0:25,width:(g?175:49)+b.DomElementProxy.getScrollbarSize(),height:g?200:175,overflow:"autoy",
visible:!k,maxSelected:1,itemSelectionId:"text"},[F]);new b.SpacedLayout(w,{axis:"y",inset:1,spacing:3});this.setWidth(w.visible?w.x+w.width:A.width);H(E.current||new Date)},getPickedDate:()=>l})})(myt);
(b=>{const f=b.SizeToParent,k=b.View,g=b.AccessorSupport.defAttr;b.Dimmer=new JS.Class("Dimmer",k,{include:[f],extend:{DEFAULT_OPACITY:.35,DEFAULT_COLOR:"#000"},initNode:function(e,a){const c=this;c.restoreFocus=!0;a.focusable=a.focusCage=!0;g(a,"percentOfParentWidth",100);g(a,"percentOfParentHeight",100);g(a,"visible",!1);g(a,"ignoreLayout",!0);c.callSuper(e,a);"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" ").forEach(a=>{c.attachDomObserver(c,"eatMouseEvent",a)});b.RootView.setupCaptureDrop(c)},
doBeforeAdoption:function(){this.callSuper();const e=b.Dimmer;new k(this,{name:"overlay",ignorePlacement:!0,opacity:e.DEFAULT_OPACITY,bgColor:e.DEFAULT_COLOR,percentOfParentWidth:100,percentOfParentHeight:100},[f])},destroyAfterOrphaning:function(){b.RootView.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(b){this.restoreFocus=b},eatMouseEvent:b=>!0,show:function(){const e=b.global.focus;this.prevFocus=e.focusedView||e.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();
this.setVisible(!0)},hide:function(b){this.visible&&(this.setVisible(!1),!b&&this.restoreFocus&&this.prevFocus&&this.prevFocus.focus())}})})(myt);
(b=>{const f=(b,f,e)=>{const a=b.axis;e=e.bind(b);"y"!==a&&(e(f,"update","x"),e(f,"update","boundsWidth"));"x"!==a&&(e(f,"update","y"),e(f,"update","boundsHeight"));e(f,"update","visible")};b.SizeToChildren=new JS.Class("SizeToChildren",b.Layout,{initNode:function(b,f){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(b,f)},setAxis:function(b){this.axis!==b&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=b,this.startMonitoringAllSubviews(),this.fireEvent("axis",b),this.update()):
this.axis=b)},setPaddingX:function(b){this.paddingX!==b&&(this.paddingX=b,this.inited&&(this.fireEvent("paddingX",b),this.update()))},setPaddingY:function(b){this.paddingY!==b&&(this.paddingY=b,this.inited&&(this.fireEvent("paddingY",b),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const f=this.parent;if(!f.isBeingDestroyed){const e=this.subviews;var b=e.length;const a=this.axis;let c,h;if("y"!==a){c=b;for(h=0;c;){const a=e[--c];a.visible&&(h=Math.max(h,a.x+
(0<a.boundsWidth?a.boundsWidth:0)))}f.setWidth(h+this.paddingX)}if("x"!==a){c=b;for(h=0;c;)b=e[--c],b.visible&&(h=Math.max(h,b.y+(0<b.boundsHeight?b.boundsHeight:0)));f.setHeight(h+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(b){f(this,b,this.attachTo)},stopMonitoringSubview:function(b){f(this,b,this.detachFrom)}})})(myt);
(b=>{const f=b.AccessorSupport.defAttr,k=b.ModalPanel=new JS.Class("ModalPanel",b.Dimmer,{extend:{DEFAULT_PADDING_X:20,DEFAULT_PADDING_Y:15,DEFAULT_MARGIN_TOP:40,DEFAULT_MARGIN_LEFT:40,DEFAULT_MARGIN_BOTTOM:40,DEFAULT_MARGIN_RIGHT:40},initNode:function(b,e){this.defaultPlacement="content";f(e,"sizingStrategy","children");f(e,"marginTop",k.DEFAULT_MARGIN_TOP);f(e,"marginLeft",k.DEFAULT_MARGIN_LEFT);f(e,"marginBottom",k.DEFAULT_MARGIN_BOTTOM);f(e,"marginRight",k.DEFAULT_MARGIN_RIGHT);f(e,"paddingX",
k.DEFAULT_PADDING_X);f(e,"paddingY",k.DEFAULT_PADDING_Y);this.callSuper(b,e)},doBeforeAdoption:function(){const f=b.View,e={name:"content",ignorePlacement:!0},a=Object.assign({},e,{align:"center",valign:"middle"});this.callSuper();switch(this.sizingStrategy){case "children":new b.SizeToChildren(new f(this,a),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new f(this,Object.assign(e,{x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-
this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,percentOfParentWidth:100,percentOfParentHeight:100}),[b.SizeToParent]);break;case "basic":new f(this,a);break;default:new f(this,e)}},setSizingStrategy:function(b){this.sizingStrategy=b},setMarginTop:function(b){this.marginTop=b},setMarginLeft:function(b){this.marginLeft=b},setMarginBottom:function(b){this.marginBottom=b},setMarginRight:function(b){this.marginRight=b},setPaddingX:function(b){this.paddingX=b},setPaddingY:function(b){this.paddingY=
b}})})(myt);
myt.Spinner=new JS.Class("Spinner",myt.View,{initNode:function(b,f){this.lateAttrs=["spinColor"];null==f.visible&&(f.visible=!1);null==f.borderWidth&&(f.borderWidth=5);null==f.borderColor&&(f.borderColor="#fff");null==f.borderStyle&&(f.borderStyle="solid");null==f.spinColor&&(f.spinColor="#000");this.callSuper(b,f);this.deStyle.borderRadius="50%";this._updateSize();this._spin()},setSize:function(b){this.size!==b&&(this.size=b,this.inited&&this._updateSize())},setSpinColor:function(b){this.spinColor!==b&&
(this.deStyle.borderTopColor=this.spinColor=b,this.inited&&this.fireEvent("spinColor",b))},setBorderWidth:function(b){this.borderWidth!==b&&(this.callSuper(b),this.inited&&this._updateSize())},setVisible:function(b){this.visible!==b&&(this.callSuper(b),this.inited&&this._spin())},_spin:function(){this[this.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},_updateSize:function(){const b=this.size,f=this.deStyle;this.setWidth(b);this.setHeight(b);f.width=f.height=b-2*this.borderWidth+"px"}});
(b=>{const f=JS.Class,k=b.View,g=b.Text,e=b.ModalPanel,a=b.SizeToChildren,c=b.AccessorSupport.defAttr,h=Object.assign,d=new f("DialogButton",b.SimpleTextButton,{initNode:function(a,b){c(b,"height",20);c(b,"shrinkToFit",!0);c(b,"inset",10);c(b,"outset",10);c(b,"textY",3);c(b,"roundedCorners",3);c(b,"activeColor","#bbb");c(b,"hoverColor","#ddd");c(b,"readyColor","#ccc");this.callSuper(a,b)}}),m=b.Dialog=new f("Dialog",e,{extend:{DEFAULT_RADIUS:12,DEFAULT_SHADOW:[0,4,20,"#666"],DEFAULT_BORDER:[1,"solid",
"#fff"],DEFAULT_BGCOLOR:"#fff",DEFAULT_BUTTON_CLASS:d,WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000"},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",
titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}}}},initNode:function(a,b){c(b,"buttonClass",m.DEFAULT_BUTTON_CLASS);this.callSuper(a,b);a=this.content;a.setRoundedCorners(m.DEFAULT_RADIUS);a.setBgColor(m.DEFAULT_BGCOLOR);a.setBoxShadow(m.DEFAULT_SHADOW);a.setBorder(m.DEFAULT_BORDER);
a.setFocusCage(!0);this.makeCloseButton(a)},setButtonClass:function(a){this.buttonClass=a},setCallbackFunction:function(a){this.callbackFunction=a},makeButton:function(a,b){const c=this;return new c.buttonClass(a,b,[{doActivated:function(){c.doCallback(this)}}])},makeCloseButton:function(a){return this.makeButton(a,{name:"closeBtn",ignoreLayout:!0,y:2,align:"right",alignOffset:2,height:19,inset:5,outset:14,roundedCorners:9,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:b.FontAwesome.makeTag(["times"]),
tooltip:"Close Dialog."})},hide:function(a){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(a)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const a=this.content,c=a.sizeToChildren,d=a.getSubviews();let h=d.length;for(;h;){const a=d[--h];"closeBtn"!==a.name&&a.destroy()}a.setVisible(!0);this.overlay.setBgColor(b.Dimmer.DEFAULT_COLOR);this.setCallbackFunction();c.setPaddingY(e.DEFAULT_PADDING_Y);c.setPaddingX(e.DEFAULT_PADDING_X);
a.setRoundedCorners(m.DEFAULT_RADIUS);a.setBgColor(m.DEFAULT_BGCOLOR);a.setBoxShadow(m.DEFAULT_SHADOW);a.setBorder(m.DEFAULT_BORDER)},doCallback:function(a){const b=this.callbackFunction;b&&b.call(this,a.name)||this.hide()},showBlank:function(a){this.destroyContent();this.content.setVisible(!1);a&&a.bgColor&&this.overlay.setBgColor(a.bgColor);this.show()},showMessage:function(a,b,c){const d=this.content,f=d.closeBtn;c=h({},m.WRAP_TEXT_DEFAULTS,c);this.destroyContent();this.setCallbackFunction(b);
a=new g(d,{name:"msg",text:a,whiteSpace:c.whiteSpace,wordWrap:c.wordWrap,fontWeight:c.fontWeight,x:null==c.msgX?e.DEFAULT_PADDING_X:c.msgX,y:null==c.msgY?e.DEFAULT_PADDING_Y:c.msgY,width:c.width});c.titleText&&(this.setupTitle(d,c.titleText),a.setY(a.y+24));this.show();!1===c.showClose?f.setVisible(!1):(f.setVisible(!0),f.focus())},showSimple:function(b,c,d){d=d||{};const e=this.content,h=e.closeBtn,f=d.maxContainerHeight;this.destroyContent();d.bgColor&&e.setBgColor(d.bgColor);d.roundedCorners&&
e.setRoundedCorners(d.roundedCorners);d.boxShadow&&e.setBoxShadow(d.boxShadow);d.border&&e.setBorder(d.border);e.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new k(e,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){a>f&&(a=f);this.callSuper(a)}}]);b.call(this,c);new a(c,{axis:"both"});this.show();h.setVisible(!0);h.focus();c.initialFocus&&c.initialFocus.focus()},showConfirm:function(a,b,c){c=h({},m.CONFIRM_DEFAULTS,c);this.showMessage(a,b,c);this.setupFooterButtons(this.content.msg,
c)},showContentConfirm:function(b,c,d){d=h({},m.CONFIRM_DEFAULTS,d);const e=this.content,f=e.closeBtn,g=d.maxContainerHeight;this.destroyContent();e.sizeToChildren.setPaddingX(1);this.setCallbackFunction(c);c=new k(e,{name:"contentContainer",x:1,y:25,overflow:"auto"},[{setHeight:function(a){this.callSuper(a>g?g:a)}}]);b.call(this,c);new a(c,{axis:"both"});this.show();f.setVisible(!0);f.focus();this.setupTitle(e,d.titleText);c.setY(this.header.height+1);this.setupFooterButtons(c,d);c.initialFocus&&
c.initialFocus.focus()},showSpinner:function(a,c){const d=this.content;c=h({},m.NO_WRAP_TEXT_DEFAULTS,c);this.destroyContent();const f=this.spinner=new b.Spinner(d,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==c.msgY?e.DEFAULT_PADDING_Y:c.msgY});a&&new g(d,{text:a,whiteSpace:c.whiteSpace,wordWrap:c.wordWrap,fontWeight:c.fontWeight,x:null==c.msgX?e.DEFAULT_PADDING_X:c.msgX,y:f.y+f.size+e.DEFAULT_PADDING_Y,width:c.width});this.show();d.closeBtn.setVisible(!1);this.focus()},showColorPicker:function(a,
c){const d=this,f=d.content,g=f.closeBtn;c=h({},m.COLOR_PICKER_DEFAULTS,c);d.destroyContent();d.setCallbackFunction(b=>{switch(b){case "closeBtn":case "cancelBtn":a.call(d,b);break;case "confirmBtn":const c=l.getColor();l.addToPalette(c);a.call(d,b,c)}l.destroy()});const l=new b.ColorPicker(f,{x:e.DEFAULT_PADDING_X,y:e.DEFAULT_PADDING_Y+24,width:337,height:177,color:c.color,palette:"#000 #111 #222 #333 #444 #555 #666 #777 #888 #999 #aaa #bbb #ccc #ddd #eee #fff".split(" ")});d.show();g.setVisible(!0);
g.focus();d.setupFooterButtons(l,c);d.setupTitle(f,c.titleText)},showDatePicker:function(a,c){const d=this,f=d.content,g=f.closeBtn;c=h({},m.DATE_PICKER_DEFAULTS,c);d.destroyContent();d.setCallbackFunction(b=>{switch(b){case "closeBtn":case "cancelBtn":a.call(d,b);break;case "confirmBtn":a.call(d,b,l.getPickedDate())}l.destroy()});const l=new b.DatePicker(f,{x:e.DEFAULT_PADDING_X,y:e.DEFAULT_PADDING_Y+24,height:195,opt:{current:new Date(c.initialDate||Date.now()),dateOnly:c.dateOnly||!1,timeOnly:c.timeOnly||
!1,locales:c.locales,locale:"en"}});d.show();g.setVisible(!0);g.focus();d.setupFooterButtons(l,c);d.setupTitle(f,c.timeOnly?c.timeOnlyTitleText:c.titleText)},setupTitle:function(a,b){const c=m.DEFAULT_RADIUS;(this.header=new k(a,{ignoreLayout:!0,width:a.width,height:24,bgColor:"#eee",roundedTopLeftCorner:c,roundedTopRightCorner:c})).sendToBack();new g(a,{name:"title",x:c,y:4,text:b,fontWeight:"bold"})},setupFooterButtons:function(d,h){const f=this,g=f.content;var l=e.DEFAULT_PADDING_Y,p=l/2;const w=
new k(g,{y:d.y+d.height+l,align:"center"});l=h.cancelAttrs||{};c(l,"name","cancelBtn");c(l,"text",h.cancelTxt);null!=h.activeColor&&(l.activeColor=h.activeColor);null!=h.hoverColor&&(l.hoverColor=h.hoverColor);null!=h.readyColor&&(l.readyColor=h.readyColor);null!=h.textColor&&(l.textColor=h.textColor);d=f.makeButton(w,l);l=h.confirmAttrs||{};c(l,"name","confirmBtn");c(l,"name",h.confirmTxt);null!=h.activeColorConfirm&&(l.activeColor=h.activeColorConfirm);null!=h.hoverColorConfirm&&(l.hoverColor=h.hoverColorConfirm);
null!=h.readyColorConfirm&&(l.readyColor=h.readyColorConfirm);null!=h.textColorConfirm&&(l.textColor=h.textColorConfirm);f.makeButton(w,l);(h.buttons||[]).forEach(a=>{f.makeButton(w,a)});new a(w,{axis:"y"});new b.SpacedLayout(w,{spacing:4,collapseParent:!0});g.sizeToChildren.setPaddingY(p);l=m.DEFAULT_RADIUS;p=w.y-p;(new k(g,{ignoreLayout:!0,y:p,width:g.width,height:g.height-p,bgColor:"#eee",roundedBottomLeftCorner:l,roundedBottomRightCorner:l})).sendToBack();!1===h.showClose&&d.focus()}})})(myt);
(b=>{const f=JS.Class,k={},g=(a,c)=>{if(a){const d=a.id;a.id?c(d):b.dumpStack("No ID")}else b.dumpStack("No validator")},e=a=>{g(a,b=>{k[b]=a})},a=b.Validator=new f("Validator",{initialize:function(a){this.id=a},isValid:(a,b,c)=>!0,isFormValid:function(a,b,c){b||(b={});b.form=a;return this.isValid(a.getValue(),b,c)}}),c=b.RequiredFieldValidator=new f("RequiredFieldValidator",a,{isValid:function(a,b,c){return null==a||""===a||"string"===typeof a&&""===a.trim()?(c&&c.push("This value is required."),
!1):!0}}),h=b.EqualsIgnoreCaseValidator=new f("EqualsIgnoreCaseValidator",a,{isValid:function(a,b,c){b=b.form.getRollbackValue();return a&&b&&a.toLowerCase()===b.toLowerCase()?(c&&c.push("Value must differ by more than just case."),!1):!0}}),d=b.URLValidator=new f("URLValidator",a,{initialize:function(a,b){this.callSuper(a);this.originalRawQuery=b},isValid:function(a,c,d){return(new b.URI(a)).toString(this.originalRawQuery)!==a?(d&&d.push("Invalid URL."),!1):!0}}),m=b.JSONValidator=new f("JSONValidator",
a,{isValid:function(a,b,c){try{return JSON.parse(a),!0}catch(n){return c&&c.push(n),!1}}});b.EqualFieldsValidator=new f("EqualFieldsValidator",a,{initialize:function(a,b,c){this.callSuper(a);this.fieldA=b;this.fieldB=c},isValid:function(a,b,c){if(a&&this.fieldA.getValue()===this.fieldB.getValue())return!0;c&&c.push('Field "'+this.fieldA.key+'" must be equal to field "'+this.fieldB.key+'".');return!1}});b.LengthValidator=new f("LengthValidator",a,{initialize:function(a,b,c){this.callSuper(a);this.min=
b;this.max=c},isValid:function(a,b,c){a=a?a.length:0;b=this.min;const d=this.max;return void 0!==b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==d&&d<a?(c&&c.push("Value must not be greater than "+d+"."),!1):!0}});b.NumericRangeValidator=new f("NumericRangeValidator",a,{initialize:function(a,b,c){this.callSuper(a);this.min=b;this.max=c},isValid:function(a,b,c){if(""===a)return!0;a=Number(a);b=this.min;const d=this.max;return isNaN(a)?(c&&c.push("Value is not a number."),!1):void 0!==
b&&b>a?(c&&c.push("Value must not be less than "+b+"."),!1):void 0!==d&&d<a?(c&&c.push("Value must not be greater than "+d+"."),!1):!0}});b.CompoundValidator=new f("CompoundValidator",a,{initialize:function(a,...b){this.callSuper(a);a=b.length;let c;for(;a;)c=b[--a],"string"===typeof c&&((b[a]=c=k[c])||b.splice(a,1));this.__v=b},addValidator:function(a){"string"===typeof a&&(a=k[a]);a&&this.__v.push(a)},isValid:function(a,b,c){const d=this.__v,e=d.length;let h=!0,f=0;for(;e>f;)h=d[f++].isValid(a,
b,c)&&h;return h}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){e(new c("required"));e(new h("equalsIgnoreCase"));e(new d("url"));e(new m("json"));b.global.register("validators",this)},getValidator:a=>k[a],register:e,unregister:a=>{g(a,a=>{k[a]&&delete k[a]})}})})(myt);
(b=>{const f=JS.Class,k=b.View,g=b.AccessorSupport.defAttr;var e=b.SliderThumbMixin=new JS.Module("SliderThumbMixin",{include:[b.Draggable],initNode:function(a,b){g(b,"width",a.thumbWidth);g(b,"height",a.thumbHeight);g(b,"repeatKeyDown",!0);g(b,"activationKeys",[37,38,39,40]);this.callSuper(a,b);"x"===a.axis?this.setY(a.thumbOffset):this.setX(a.thumbOffset);this.syncTo(a,"setDisabled","disabled");a._syncThumbToValue(this,a.getValue())},setDisabled:function(a){null!=a&&"object"===typeof a&&(a=a.value);
this.callSuper(a)},setFocused:function(a){this.callSuper(a);a&&this.makeHighestZIndex()},setX:function(a){this.x!==a&&(this.callSuper(a),a=this.parent,"x"===a.axis&&a._syncValueToThumb(this))},setY:function(a){this.y!==a&&(this.callSuper(a),a=this.parent,"y"===a.axis&&a._syncValueToThumb(this))},requestDragPosition:function(a,b){if(!this.disabled){var c=this.parent;const d=c.getMinPixelValueForThumb(this),e=c.getMaxPixelValueForThumb(this);"x"===c.axis?(c=this.width/2,b=this.setX):(c=this.height/
2,a=b,b=this.setY);b.call(this,Math.min(Math.max(a,d-c),e-c))}},doActivationKeyDown:function(a,b){const c=this.parent;switch(a){case 37:c.nudgeValueLeft(this);break;case 38:c.nudgeValueUp(this);break;case 39:c.nudgeValueRight(this);break;case 40:c.nudgeValueDown(this)}this.callSuper(a,b)}});const a=b.SimpleSliderThumb=new f("SimpleSliderThumb",b.SimpleButton,{include:[e],initNode:function(a,b){g(b,"activeColor","#bbb");g(b,"readyColor","#ccc");g(b,"hoverColor","#ddd");g(b,"boxShadow",[0,0,4,"#666"]);
this.callSuper(a,b);null==b.roundedCorners&&this.setRoundedCorners(Math.min(this.height,this.width)/2)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,9,"#666"])},hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment();this.setBoxShadow([0,0,4,"#666"])}});e=b.BaseSlider=new f("BaseSlider",k,{include:[b.Disableable],initNode:function(b,c){g(c,"axis","x");"x"===c.axis?(g(c,"width",100),g(c,"height",18)):(g(c,"width",18),g(c,"height",100));
g(c,"bgColor","#999");g(c,"roundedCorners",9);g(c,"trackInset",9);g(c,"trackOutset",9);g(c,"thumbWidth",16);g(c,"thumbHeight",16);g(c,"thumbOffset",1);g(c,"nudgeAmount",1);g(c,"thumbClass",a);this.callSuper(b,c)},setAxis:function(a){this.axis=a},setTrackInset:function(a){this.trackInset=a},setTrackOutset:function(a){this.trackOutset=a},setThumbWidth:function(a){this.thumbWidth=a},setThumbHeight:function(a){this.thumbHeight=a},setThumbOffset:function(a){this.thumbOffset=a},setThumbClass:function(a){this.thumbClass=
a},setNudgeAmount:function(a){this.nudgeAmount=a},convertValueToPixels:function(a){const b=this.minValue,c=this.trackInset;return c+(("x"===this.axis?this.width:this.height)-c-this.trackOutset)/(this.maxValue-b)*(a-b)},convertPixelsToValue:function(a){const b=this.minValue,c=this.trackInset;return(this.maxValue-b)/(("x"===this.axis?this.width:this.height)-c-this.trackOutset)*(a-c)+b},nudgeValueLeft:function(a){this._nudge(a,!1)},nudgeValueUp:function(a){this._nudge(a,!1)},nudgeValueRight:function(a){this._nudge(a,
!0)},nudgeValueDown:function(a){this._nudge(a,!0)},_nudge:(a,b)=>{},_syncThumbToValue:function(a,b){b=this.convertValueToPixels(b);"x"===this.axis?a.setX(b-a.width/2):a.setY(b-a.height/2)}});const c=b.SimpleSliderRangeFill=new f("SimpleSliderRangeFill",k,{initNode:function(a,b){g(b,"bgColor","#666");this.callSuper(a,b);"x"===a.axis?(this.setY(a.thumbOffset),this.setHeight(a.thumbHeight),this.setRoundedCorners(a.thumbHeight/2)):(this.setX(a.thumbOffset),this.setWidth(a.thumbWidth),this.setRoundedCorners(a.thumbWidth/
2));a._syncRangeFillToValue()}});b.RangeSlider=new f("RangeSlider",e,{include:[b.BoundedRangeComponent],initNode:function(a,b){g(b,"rangeFillClass",c);this.callSuper(a,b);new this.rangeFillClass(this,{name:"rangeFill"});new this.thumbClass(this,{name:"thumbLower"});new this.thumbClass(this,{name:"thumbUpper"})},setRangeFillClass:function(a){this.rangeFillClass=a},setValue:function(a){this.callSuper(a);this.inited&&(this.__lockSync||(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,
a)),this._syncRangeFillToValue())},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},setHeight:function(a,b){const c=this.height;this.callSuper(a,b);this.inited&&"y"===this.axis&&this.height!==c&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},_syncRangeFillToValue:function(){const a=
this.rangeFill;var b=this.getValue();const c=this.convertValueToPixels(b.lower);b=this.convertValueToPixels(b.upper)-c;"x"===this.axis?(a.setX(c),a.setWidth(b)):(a.setY(c),a.setHeight(b))},_syncThumbToValue:function(a,b){this.callSuper(a,"thumbLower"===a.name?b.lower:b.upper)},_syncValueToThumb:function(a){if(this.inited&&!this.__lockSync){this.__lockSync=!0;const b=this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2);let c=this.getValueCopy();"thumbLower"===a.name?c.lower=b:c.upper=
b;this.setValue(c);c=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,c);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,c);this.__lockSync=!1}},_nudge:function(a,b){const c=this.getValueCopy();b=this.nudgeAmount*(b?1:-1);"thumbLower"===a.name?(c.lower+=b,c.lower>c.upper&&(c.lower=c.upper)):(c.upper+=b,c.lower>c.upper&&(c.upper=c.lower));this.setValue(c)},getMinPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===a.name?this.minValue:this.getValue().lower)},
getMaxPixelValueForThumb:function(a){return this.convertValueToPixels("thumbLower"===a.name?this.getValue().upper:this.maxValue)}});b.Slider=new f("Slider",e,{include:[b.BoundedValueComponent],initNode:function(a,b){this.callSuper(a,b);new this.thumbClass(this,{name:"thumb"})},setValue:function(a){this.callSuper(a);this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&"x"===this.axis&&this.width!==
c&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(a,b){const c=this.height;this.callSuper(a,b);this.inited&&"y"===this.axis&&this.height!==c&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(a){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this.setValue(this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2)),this._syncThumbToValue(a,this.getValue()),this.__lockSync=!1)},_nudge:function(a,b){this.setValue(this.getValue()+this.nudgeAmount*
(b?1:-1))},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(this.maxValue)}})})(myt);
(b=>{const f=JS.Class,k=b.AccessorSupport.defAttr,g=a=>{const b="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,b,a.parent,b])},e=new f("BaseDivider",b.SimpleButton,{include:[b.BoundedValueComponent,b.Draggable],initNode:function(a,b){k(b,"activeColor","#bbb");k(b,"hoverColor","#ddd");k(b,"readyColor","#ccc");k(b,"axis","x");k(b,"minValue",0);k(b,"value",b.minValue);k(b,"expansionState",2);k(b,"focusEmbellishment",!1);k(b,"repeatKeyDown",!0);k(b,"activationKeys",[37,
38,39,40,13,32]);"y"===b.axis?(k(b,"height",6),k(b,"cursor","row-resize")):(k(b,"width",6),k(b,"cursor","col-resize"));this.__nudgeAcc=1;this.callSuper(a,b);null==b.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&g(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=a,this.inited&&(this.fireEvent("limitToParent",
a),null==a?this.releaseConstraint("__limitToParent"):g(this)))},setAxis:function(a){this.inited?console.warn("Axis may not be updated after instantiation."):this.axis=a},setValue:function(a,b){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a);b&&this.setRestoreValue(a)},__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,b){this.callSuper(a,b);switch(a){case 37:case 38:a=-1;
break;case 39:case 40:a=1;break;default:this.doPrimaryAction();return}this.__nudgeAcc=b?Math.min(this.__nudgeAcc+1,64):1;this.setValue(this.value+a*this.__nudgeAcc,!0);this.setExpansionState(2)},doPrimaryAction:function(){const a=this.restoreValue,b=this.maxValue,e=this.minValue;let d;switch(this.expansionState){case 0:null!=a&&(this.setExpansionState(1),a===e?a!==b&&this.doPrimaryAction():d=a);break;case 1:null!=b&&(this.setExpansionState(3),this.value===b?this.doPrimaryAction():d=b);break;case 2:null!=
e&&(this.setExpansionState(0),this.value===e?this.doPrimaryAction():d=e);break;case 3:null!=a&&(this.setExpansionState(2),a===b?this.doPrimaryAction():d=a)}null!=d&&(this.stopActiveAnimators("value"),this.animateOnce("value",d,null,250))},requestDragPosition:function(a,b){this.disabled||(this.setValue("y"===this.axis?b:a,!0),this.setExpansionState(2))}});b.HorizontalDivider=new f("HorizontalDivider",e,{initNode:function(a,b){b.axis="x";this.callSuper(a,b)}});b.VerticalDivider=new f("VerticalDivider",
e,{initNode:function(a,b){b.axis="y";this.callSuper(a,b)}})})(myt);
(b=>{const f=JS.Class,k=JS.Module,g=b.View,e=b.AccessorSupport.defAttr,a=a=>{a=a.columnHeaders;let b=a.length;for(;b;){const c=a[--b];if(c.visible)return c}return null},c=a=>{const b=a.columnHeaders;var c=a.sort;const d=c?c[0]:"";c=c?c[1]:"";let e=b.length;for(;e;){const a=b[--e];a.columnId===d?a.sortable&&a.setSortState(c):a.setSortState("none")}a.locked||a.doSort()},h=(a,b,c,d)=>{if(0!==b){const h=0<b,g=[];for(var e=a.length,f;e;)f=a[--e],f.resizable&&(c?0<f.flex:0===f.flex)&&g.push({hdr:f,limit:(h?
f.maxValue:f.minValue)-f.value,amt:0});a=g.length;if(0<a){let l=e=0;for(;0!==b;){const d=g[e];f=d.hdr;d.full?++l:(h?(f=Math.min(c?f.flex:1,b),d.amt+f>d.limit&&(f=d.limit-d.amt,d.full=!0)):(f=Math.max(c?-f.flex:-1,b),d.amt+f<d.limit&&(f=d.limit-d.amt,d.full=!0)),d.amt+=f,b-=f);if(l===a)break;++e;e===a&&(l=e=0)}g.forEach(a=>{a.hdr.setValue(a.hdr.value+a.amt)});d&&d(b)}}},d=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.maxValue-a.value+d(a):0,m=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):
null)?a.maxValue-a.value+m(a):0,p=a=>(a=a.gridController?a.gridController.getPrevColumnHeader(a):null)?a.minValue-a.value+p(a):0,l=a=>(a=a.gridController?a.gridController.getNextColumnHeader(a):null)?a.minValue-a.value+l(a):0,r=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+b;a.resizable&&a.setValue(c);const d=c-a.value;c=b-d;0>d&&(c+=r(a,d))}return c},n=(a,b)=>{a=a.gridController?a.gridController.getPrevColumnHeader(a):null;var c=0;if(a){c=a.value+
b;a.resizable&&a.setValue(c);const d=c-a.value;c=b-d;0<d&&(c+=n(a,d))}return c},u=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=a.value,0>b&&u(a,b)},A=(a,b)=>{if(a=a.gridController?a.gridController.getNextColumnHeader(a):null)b=a.value+b,a.resizable&&a.setValue(b),b-=a.value,0<b&&A(a,b)},w=a=>{let b="";if(a.sortable)switch(a.sortState){case "ascending":b="chevron-up";break;case "descending":b="chevron-down"}a.sortIcon.setIcon(b)},
q=a=>{if("left"===a.contentAlign){const b=a.textView;b&&b.setWidth(a.width-a.outset-b.x)}},B=b.GridController=new k("GridController",{initNode:function(a,b){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(a,b);this.fitHeadersToWidth();c(this)},setMaxWidth:function(a){this.set("maxWidth",a,!0)},setMinWidth:function(a){this.set("minWidth",a,!0)},setFitToWidth:function(a){this.fitToWidth=a},setSort:function(a){b.areArraysEqual(a,
this.sort)||(this.sort=a,this.inited&&(this.fireEvent("sort",a),c(this)))},setLastColumn:function(a){const b=this.lastColumn;b!==a&&(b&&b.setLast(!1),(this.lastColumn=a)&&a.setLast(!0))},setLocked:function(a){this.locked=a;this.inited&&!a&&(this.__tempLock=!0,this.fitHeadersToWidth(),this.__tempLock=!1,this.setMaxWidth(0),this.setMinWidth(0),this.columnHeaders.forEach(a=>{this.notifyColumnHeaderXChange(a);this.notifyColumnHeaderWidthChange(a);this.notifyColumnHeaderVisibilityChange(a)}),this.doSort())},
isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(a){null!==a&&"object"===typeof a&&(a=a.value);this.gridWidth!==a&&(this.gridWidth=a,this.inited&&this.fitHeadersToWidth())},doSort:()=>{},getPrevColumnHeader:function(a){const b=this.columnHeaders;a=this.getColumnHeaderIndex(a);if(0<a)for(;a;){const c=b[--a];if(c.visible)return c}return null},getNextColumnHeader:function(a){const b=this.columnHeaders,c=b.length;a=this.getColumnHeaderIndex(a)+1;if(0<a&&a<c)for(;c>a;a++){const c=
b[a];if(c.visible)return c}return null},hasColumnHeader:function(a){return-1!==this.getColumnHeaderIndex(a)},getColumnHeaderIndex:function(a){return this.columnHeaders.indexOf(a)},getColumnHeaderById:function(a){const b=this.columnHeaders;let c=b.length;for(;c;){const d=b[--c];if(d.columnId===a)return d}return null},getVisibleColumnHeaders:function(){return this.columnHeaders.filter(a=>a.visible)},notifyAddColumnHeader:function(a){this.hasColumnHeader(a)||(this.columnHeaders.push(a),a.visible&&this.setLastColumn(a))},
notifyRemoveColumnHeader:function(a){const b=this.getColumnHeaderIndex(a);0<=b&&(this.columnHeaders.splice(b,1),a.visible&&a.last&&this.setLastColumn(this.getPrevColumnHeader(a)))},notifyColumnHeaderXChange:function(a){this.isLocked()||this.rows.forEach(b=>{b.notifyColumnHeaderXChange(a)})},notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.rows.forEach(b=>{b.notifyColumnHeaderWidthChange(a)})},notifyColumnHeaderVisibilityChange:function(b){if(!this.isLocked()){this.updateRowsForVisibilityChange(b);
this.setLastColumn(a(this));const c=b.visible?1:-1;this.setMaxWidth(this.maxWidth+b.maxValue*c);this.setMinWidth(this.minWidth+b.minValue*c);this.fitHeadersToWidth()}},updateRowsForVisibilityChange:function(a){this.rows.forEach(b=>{b.notifyColumnHeaderVisibilityChange(a)})},hasRow:function(a){return-1!==this.getRowIndex(a)},getRowIndex:function(a){return this.rows.indexOf(a)},getRowById:function(a,b=b=>b.model.id===a){return this.rows.find(b)},getPrevRow:function(a){a=this.getRowIndex(a)-1;return this.rows[0>
a?this.rows.length-1:a]},getNextRow:function(a){a=this.getRowIndex(a)+1;return this.rows[a<this.rows.length?a:0]},notifyAddRow:function(a,b){if(!this.hasRow(a)&&(this.rows.push(a),!this.locked)){const c=this.width;this.columnHeaders.forEach(b=>{a.setWidth(c);a.notifyColumnHeaderXChange(b);a.notifyColumnHeaderWidthChange(b);a.notifyColumnHeaderVisibilityChange(b)});b||this.doSort()}},notifyRemoveRow:function(a){a=this.getRowIndex(a);0<=a&&this.rows.splice(a,1)},fitHeadersToWidth:function(){if(!this.locked&&
this.fitToWidth){const a=this.getVisibleColumnHeaders();let b=0;a.forEach(a=>{b=Math.max(b,a.x+a.width)});h(a,this.gridWidth-b,!0,b=>{h(a,b,!1,null)})}}}),D=b.GridColumnHeader=new k("GridColumnHeader",{include:[b.BoundedValueComponent],initNode:function(a,c){const f=this;e(c,"minValue",16);e(c,"maxValue",9999);e(c,"resizable",!0);e(c,"flex",0);e(c,"cellXAdj",0);e(c,"cellWidthAdj",0);e(c,"sortable",!0);e(c,"sortState","none");e(c,"placement","*");f.callSuper(a,c);const h=f.gridController;new g(f,{name:"resizer",
cursor:"col-resize",width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},[b.SizeToParent,b.Draggable,{requestDragPosition:function(a,b){a-=this.x;if(h.fitToWidth&&(0<a?(b=f.maxValue-f.value,a=Math.min(a,Math.min(-l(f),b+d(f)))):0>a&&(b=f.minValue-f.value,a=Math.max(a,Math.max(-m(f),b+p(f)))),0===a))return;b=f.value+a;f.resizable&&f.setValue(b);b-=f.value;a=b-a;let c=0;0>b?c=r(f,b):0<b&&(c=n(f,b));this.dragInitX+=c;a-=c;h.fitToWidth&&(0>a?u(f,a):0<a&&A(f,
a))}}]);h&&(h.notifyAddColumnHeader(f),h.notifyColumnHeaderXChange(f),h.notifyColumnHeaderVisibilityChange(f));f.setWidth(f.value);f.resizer.setVisible(!(f.last&&f.gridController.fitToWidth))},destroy:function(a){this.setGridController();this.callSuper(a)},setSortable:function(a){this.set("sortable",a,!0)},setSortState:function(a){this.set("sortState",a,!0)},setResizable:function(a){this.set("resizable",a,!0)},setCellWidthAdj:function(a){this.cellWidthAdj=a},setCellXAdj:function(a){this.cellXAdj=
a},setFlex:function(a){this.flex=a},setColumnId:function(a){this.columnId=a},setLast:function(a){this.last=a;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveColumnHeader(this),this.gridController=a,this.inited&&a&&(a.notifyAddColumnHeader(this),a.notifyColumnHeaderXChange(this),a.notifyColumnHeaderWidthChange(this),a.notifyColumnHeaderVisibilityChange(this)))},setValue:function(a){this.callSuper(a);
this.inited&&this.setWidth(this.value)},setMinValue:function(a){const b=this.minValue||0,c=this.gridController;this.callSuper(a);this.inited&&c&&b!==this.minValue&&c.setMinWidth(c.minWidth+this.minValue-b)},setMaxValue:function(a){const b=this.maxValue||0,c=this.gridController;null==a&&(a=9999);this.callSuper(a);this.inited&&c&&b!==this.maxValue&&c.setMaxWidth(c.maxWidth+this.maxValue-b)},setWidth:function(a,b){const c=this.width;this.callSuper(a,b);this.inited&&this.gridController&&c!==this.width&&
this.gridController.notifyColumnHeaderWidthChange(this)},setX:function(a){const b=this.x;this.callSuper(a);this.inited&&this.gridController&&b!==this.x&&this.gridController.notifyColumnHeaderXChange(this)},setVisible:function(a){const b=this.visible;this.callSuper(a);this.inited&&this.gridController&&b!==this.visible&&this.gridController.notifyColumnHeaderVisibilityChange(this)}}),x=b.GridRow=new k("GridRow",{initNode:function(a,b){e(b,"placement","*");this.callSuper(a,b);(a=this.gridController)&&
a.notifyAddRow(this)},destroy:function(a){this.setGridController();this.callSuper(a)},setGridController:function(a){const b=this.gridController;b!==a&&(b&&b.notifyRemoveRow(this),this.gridController=a,this.inited&&a&&a.notifyAddRow(this))},notifyColumnHeaderXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyColumnHeaderWidthChange:function(a){const b=this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyColumnHeaderVisibilityChange:function(a){const b=
this[a.columnId+"View"];b&&b.setVisible(a.visible)}});b.Grid=new f("Grid",g,{include:[B],initNode:function(a,c){const d=b.SpacedLayout;e(c,"overflow","autox");e(c,"bgColor","#ccc");e(c,"rowSpacing",1);e(c,"columnSpacing",1);var f=c.isAutoScrolling;delete c.isAutoScrolling;this.callSuper(a,c);a=new g(this,{name:"header",overflow:"hidden"});new d(a,{name:"xLayout",locked:!0,collapseParent:!0,spacing:this.columnSpacing});new b.SizeToChildren(a,{name:"yLayout",locked:!0,axis:"y"});c=this.sizeHeightToRows;
f=new g(this,{name:"content",overflow:c?"hidden":"autoy"},f?[b.AutoScroller]:[]);new d(f,{name:"yLayout",locked:!0,axis:"y",spacing:this.rowSpacing,collapseParent:c});this.syncTo(this,"setGridWidth","width");this.syncTo(a,"_updateContentWidth","width");this.constrain("_updateContentHeight",[c?f:this,"height",a,"height",a,"y"])},setSizeHeightToRows:function(a){this.sizeHeightToRows=a},setRowSpacing:function(a){this.rowSpacing!==a&&(this.rowSpacing=a,this.inited&&this.content.yLayout.setSpacing(a))},
setColumnSpacing:function(a){this.columnSpacing!==a&&(this.columnSpacing=a,this.inited&&this.header.xLayout.setSpacing(a))},setLocked:function(a){this.inited&&[this.header.xLayout,this.header.yLayout,this.content.yLayout].forEach(b=>{a?b.incrementLockedCounter():(b.decrementLockedCounter(),b.update())});this.callSuper(a)},_updateContentWidth:function(a){const b=this.content,c=b.getSubviews(),d=a.value;b.setWidth(d);c.forEach(a=>{a.setWidth(d)})},_updateContentHeight:function(a){var b=this.header;
a=this.content;b=b.y+b.height;a.setY(b);this.sizeHeightToRows?this.setHeight(b+a.height):a.setHeight(this.height-b)},determinePlacement:function(a,b){if("*"===a){let a;b.isA(x)?a=this.content:b.isA(D)&&(a=this.header);if(a)return b.gridController!==this&&b.setGridController(this),a}return this.callSuper(a,b)},doSort:function(){var a=this.sort||["",""];if(a=this.getSortFunction(a[0],a[1])){const b=this.content,c=b.yLayout;this.rows.sort(a);b.sortSubviews(a);c.sortSubviews(a);c.update()}},getSortFunction:(a,
b)=>{if(a){const c="ascending"===b?1:-1,d=a+"View";return(a,b)=>{a=a[d].text;b=b[d].text;return a>b?c:b>a?-c:0}}}});b.SimpleGridColumnHeader=new f("SimpleGridColumnHeader",b.SimpleIconTextButton,{include:[D],initNode:function(a,c){const d=this;e(c,"activeColor","#999");e(c,"hoverColor","#bbb");e(c,"readyColor","#aaa");e(c,"inset",2);e(c,"outset",2);e(c,"height",18);e(c,"contentAlign","left");e(c,"sortIconColor","#666");d.callSuper(a,c);new b.FontAwesome(d,{name:"sortIcon",align:"right",alignOffset:3,
valign:"middle",textColor:d.sortIconColor},[{initNode:function(a,b){this.callSuper(a,b);this.getInnerDomStyle().fontSize="0.7em"},sizeViewToDom:function(){this.callSuper();d.setOutset(this.width+2);q(d)}}]);d.textView.enableEllipsis();d.setDisabled(!d.sortable);q(d);w(d)},setSortIconColor:function(a){this.sortIconColor=a;this.sortIcon&&this.sortIcon.setTextColor(a)},setSortable:function(a){this.callSuper(a);this.inited&&(a&&this.setOutset(14),this.setDisabled(!a),w(this))},setSortState:function(a){this.callSuper(a);
this.inited&&w(this)},setWidth:function(a,b){this.callSuper(a,b);this.inited&&q(this)},doActivated:function(){if(!this.disabled){switch(this.sortState){case "ascending":this.setSortState("descending");break;case "descending":this.setSortState("ascending");break;case "none":this.setSortState("ascending")}this.gridController.setSort([this.columnId,this.sortState])}},drawDisabledState:function(){this.setBgColor(this.readyColor)},showFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()},
hideFocusEmbellishment:function(){this.hideDefaultFocusEmbellishment()}})})(myt);
(b=>{const f=JS.Class,k=JS.Module,g=b.AccessorSupport.defAttr,e=b.View,a=a=>{const b=a.selectedRow;b&&(b.setSelected(!1),a.set("selectedRow",null,!0))},c=b.InfiniteListRow=new k("InfiniteListRow",{include:[b.Reusable],setInfiniteOwner:function(a){this.infiniteOwner=a},setModel:function(a){this.model=a},setClassKey:function(a){this.classKey=a},notifyRefreshed:()=>{}}),h=b.SelectableInfiniteListRow=new k("SelectableInfiniteListRow",{include:[c,b.Selectable]}),d=b.InfiniteList=new f("InfiniteList",e,
{initNode:function(a,b){let c=b.rowClasses;delete b.rowClasses;if("function"===typeof c){const a={};a["default"]=c;c=a}g(b,"modelIDName","id");g(b,"numericSort",!0);g(b,"ascendingSort",!0);g(b,"overflow","autoy");g(b,"bgColor","#ccc");g(b,"rowSpacing",1);g(b,"rowInset",0);g(b,"rowOutset",0);g(b,"rowHeight",30);g(b,"overscrollBehavior","auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(a,b);a=this._listView=new e(this);
this._scrollAnchorView=new e(a,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(c,a);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(a,c)=>new b.TrackActivesMultiPool(a,c),setOverscrollBehavior:function(a){this.overscrollBehavior=a;this.getInnerDomStyle().overscrollBehavior=a},setCollectionModel:function(a){this.collectionModel=a},setModelIDName:function(a){this.modelIDName=a},setRowSpacing:function(a){this.rowSpacing=a;
this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(a){this.rowHeight=a;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(a,b){if(0<a&&(this.callSuper(a,b),this.inited)){a=this._listView;const b=this.width;a.setWidth(b);a.getSubviews().forEach(a=>{a.setWidth(b)})}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx||{})},isScrolledToEnd:function(){return this.getInnerDomElement().scrollTop+this.height===
this._listView.height},getSortFunction:function(){const a=this.modelIDName,b=this.ascendingSort?1:-1;return this.numericSort?(c,d)=>(c[a]-d[a])*b:(c,d)=>{c=c[a];d=d[a];return(c>d?1:c<d?-1:0)*b}},getFilterFunction:function(){},scrollModelIntoView:function(a){var b=this.getIndexOfModelInData(a);if(0<=b){var c=this._rowExtent;a=this.getInnerDomElement().scrollTop;const d=a+this.height;b=this.rowInset+b*c;c=b+c;if(b<=a)return this.scrollYTo(b,!0),!0;if(c>=d)return this.scrollYTo(c-this.height,!0),!0}return!1},
isModelInData:function(a){return-1!==this.getIndexOfModelInData(a)},getNextModel:function(a,b=!0,c=!0){const d=this.getListData(),e=d.length;a=this.getIndexOfModelInData(a);if(0<=a)return a+=1,a>=e?b?d[0]:d[e-1]:d[a];if(c&&0<e)return d[e-1]},getPrevModel:function(a,b=!0,c=!0){const d=this.getListData(),e=d.length;a=this.getIndexOfModelInData(a);if(0<=a)return--a,0>a?b?d[e-1]:d[0]:d[a];if(c&&0<e)return d[0]},getIndexOfModelInData:function(a){if(a){const b=this.getListData();let c=b.length;for(;c;)if(this.areModelsEqual(b[--c],
a))return c}return-1},areModelsEqual:function(a,b){const c=this.modelIDName;return a[c]===b[c]},getActiveRowForModel:function(a){if(a){const b=this._itemPool.getActives();let c=b.length;for(;c;){const d=b[--c];if(this.areModelsEqual(d.model,a))return d}}},refreshListData:function(a,b){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(a,b)},resetListUI:function(a,b){const c=this.getListData().length,d=this._listView,e=this._scrollAnchorView;
d.setHeight(c*this._rowExtent-(0<c?this.rowSpacing:0)+this.rowInset+this.rowOutset);e.setY(d.height-e.height);this._startIdx=this._endIdx=-1;this.__forceFullResetOnNextRefresh=b;a||0===this.getInnerDomElement().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(a){const c=b.global.focus;var d=c.focusedView;d&&d.isDescendantOf(a)&&((d=this.getFocusTrap())?d.focus():c.clear());a.setVisible(!1);this._itemPool.putInstance(a)},refreshListUI:function(a){a=this._rowExtent;const b=
this.rowInset,c=this.__forceFullResetOnNextRefresh;var d=this.getInnerDomElement().scrollTop;const e=this.getListData()||[];var f=Math.max(0,Math.floor((d-b)/a));d=Math.min(e.length,Math.ceil((d-b+this.height)/a));this.__forceFullResetOnNextRefresh&&(this.__forceFullResetOnNextRefresh=!1);if(this._startIdx!==f||this._endIdx!==d||c){const h=this.width,g=this.rowHeight,l=this._visibleRowsByIdx;this._startIdx=f;this._endIdx=d;let k;for(k in l)if(k<f||k>=d)this.putRowBackInPool(l[k]),delete l[k];for(k=
f;k<d;k++){f=l[k];const d=e[k],m=this.getClassKey(d);f&&f.classKey===m||(f&&this.putRowBackInPool(f),l[k]=f=this._itemPool.getInstance(m),f.setInfiniteOwner(this),f.setClassKey(m),f.setWidth(h),f.setHeight(g),f.setY(b+k*a),f.setVisible(!0));f.model&&this.areModelsEqual(f.model,d)&&!c||(f.setModel(d),this.updateRow(f));f.notifyRefreshed();f.bringToFront()}}},getClassKey:a=>"default",updateRow:a=>{}}),m=b.SimpleSelectableInfiniteListRow=new f("SimpleSelectableInfiniteListRow",b.SimpleButton,{include:[h],
initNode:function(a,b){g(b,"selectedColor","#ccf");g(b,"activeColor","#f8f8f8");g(b,"hoverColor","#eee");g(b,"readyColor","#fff");g(b,"focusEmbellishment",!1);g(b,"activationKeys",[13,27,32,37,38,39,40]);this.callSuper(a,b)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(a){this.callSuper(a);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},updateUI:function(){this.callSuper();
this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(a,b){b=this.infiniteOwner;const c=this.model;switch(a){case 27:this.selected&&b.setSelectedRow();break;case 37:case 38:b.selectPrevRowForModel(c);break;case 39:case 40:b.selectNextRowForModel(c)}},doActivationKeyUp:function(a){switch(a){case 13:case 32:this.doActivated()}}}),p=b.SelectableInfiniteList=new f("SelectableInfiniteList",d,{setSelectedRow:function(a){const b=
this.selectedRow;a!==b&&(b&&b.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",a,!0),a&&(this.setSelectedRowModel(a.model),a.setSelected(!0)))},setSelectedRowModel:function(a){this.set("selectedRowModel",a,!0);this.scrollModelIntoView(this.selectedRowModel)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(b,c,d){b&&(a(this),this.setSelectedRowModel(b),this.refreshListUI(),c&&(b=this.getActiveSelectedRow())&&b.focus())},
selectNextRowForModel:function(a,b=!0){this.selectRowForModel(this.getNextModel(a),b,!0)},selectPrevRowForModel:function(a,b=!0){this.selectRowForModel(this.getPrevModel(a),b,!1)},resetListUI:function(b,c){this.isModelInData(this.selectedRowModel)?a(this):this.setSelectedRow();this.callSuper(b,c)},putRowBackInPool:function(b){b.selected&&a(this);this.callSuper(b)},refreshListUI:function(a){a=b.global.focus.focusedView;this.callSuper();const c=this.getActiveSelectedRow();c&&(this.set("selectedRow",
c,!0),c.setSelected(!0),a&&a!==c||c.focus(!0))}}),l=new k("InfiniteGridRowMixin",{notifyXChange:function(a){const b=this[a.columnId+"View"];b&&b.setX(a.x+a.cellXAdj)},notifyWidthChange:function(a){const b=this[a.columnId+"View"];b&&b.setWidth(a.width+a.cellWidthAdj)},notifyVisibilityChange:function(a){const b=this[a.columnId+"View"];b&&b.setVisible(a.visible)}}),r=new k("InfiniteGridMixin",{setGridHeader:function(a){(this.gridHeader=a)&&a.setGrid(this)},makeReady:function(a,b){const c=this.gridHeader;
c?(this.__forceFullResetOnNextRefresh=b,c.setSort(a),c.setLocked(!1)):this.refreshListData(!1,b)},getSortFunction:function(){var a=this.gridHeader.sort||["",""];const b=a[0];a=a[1];if(b){const c="ascending"===a?1:-1;return(a,d)=>{a=a[b];d=d[b];return a>d?c:d>a?-c:0}}return this.callSuper()},updateRow:function(a){this.gridHeader&&this.gridHeader.columnHeaders.forEach(b=>{a.notifyXChange(b);a.notifyWidthChange(b);a.notifyVisibilityChange(b)})},notifyXChange:function(a){this.getVisibleRows().forEach(b=>
{b.notifyXChange(a)})},notifyWidthChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyWidthChange(a)})},notifyVisibilityChange:function(a){this.getVisibleRows().forEach(b=>{b.notifyVisibilityChange(a)})}});b.InfiniteGridRow=new k("InfiniteGridRow",{include:[c,l]});b.SelectableInfiniteGridRow=new k("SelectableInfiniteGridRow",{include:[h,l]});b.SimpleSelectableInfiniteGridRow=new f("SimpleSelectableInfiniteGridRow",m,{include:[l]});b.InfiniteGrid=new f("InfiniteGrid",d,{include:[r]});b.SelectableInfiniteGrid=
new f("InfiniteGrid",p,{include:[r]});b.InfiniteGridHeader=new f("InfiniteGridHeader",e,{include:[b.GridController],initNode:function(a,c){g(c,"columnSpacing",1);c.overflow="hidden";this.callSuper(a,c);new b.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(a){this.grid=a},setColumnSpacing:function(a){this.columnSpacing=a},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:Math.max(0,this.getVisibleColumnHeaders().length-1)*this.columnSpacing},setHeight:function(a,b){this.callSuper(a,
b);this.inited&&(a=this.height,this.columnHeaders.forEach(b=>{b.setHeight(a)}))},setWidth:function(a,b){this.callSuper(Math.max(this.minWidth,a),b);this.inited&&(a=this.width,this.setGridWidth(a),this.grid.setWidth(a))},subviewAdded:function(a){this.callSuper(a);a.isA(b.GridColumnHeader)&&(a.setGridController(this),a.setHeight(this.height))},doSort:function(){this.grid.refreshListData(!0,this.grid.__forceFullResetOnNextRefresh)},notifyColumnHeaderXChange:function(a){this.isLocked()||this.grid.notifyXChange(a)},
notifyColumnHeaderWidthChange:function(a){this.isLocked()||this.grid.notifyWidthChange(a)},updateRowsForVisibilityChange:function(a){this.grid.notifyVisibilityChange(a)}})})(myt);
(b=>{const f=JS.Class,k=b.AccessorSupport.defAttr,g=b.PanelStackTransition=new f("PanelStackTransition",b.Node,{to:b=>Promise.resolve(b),from:b=>Promise.resolve(b)});b.PanelStack=new f("PanelStack",b.View,{include:[b.SelectionManager],initNode:function(b,a){a.overflow="hidden";k(a,"itemSelectionId","panelId");k(a,"maxSelected",1);this.callSuper(b,a);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(b){this.set("transition",b,!0)},__updateWidth:function(b){const a=
this.getActivePanel();a&&a.setWidth(b.value)},__updateHeight:function(b){const a=this.getActivePanel();a&&a.setHeight(b.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(b){return this.getSelectableItem(b)},selectPanel:function(b){this.selectById(b)},doSelected:function(b){b.setWidth(this.width);b.setHeight(this.height)},doStackTransition:function(b){this["doStackTransition"+(b.selected?"To":"From")](b)},doStackTransitionTo:function(b){const a=this;a.doBeforeTransitionTo(b);
const c=a.transition;c?c.to(b).then(b=>{a.doAfterTransitionTo(b)}):(b.makeHighestZIndex(),b.setVisible(!0),a.doAfterTransitionTo(b))},doBeforeTransitionTo:b=>{},doAfterTransitionTo:b=>{},doStackTransitionFrom:function(b){const a=this;a.doBeforeTransitionFrom(b);const c=a.transition;c?c.from(b).then(b=>{a.doAfterTransitionFrom(b)}):(b.setVisible(!1),a.doAfterTransitionFrom(b))},doBeforeTransitionFrom:b=>{},doAfterTransitionFrom:b=>{}});b.StackablePanel=new JS.Module("StackablePanel",{include:[b.Selectable],
initNode:function(b,a){a.visible=a.selected=!1;k(a,"bgColor","#fff");k(a,"panelId",a.name);this.callSuper(b,a);this.selected&&this.doStackTransition()},setPanelStack:function(b){this.panelStack=b},getPanelStack:function(){return this.panelStack||this.parent},setPanelId:function(b){this.panelId=b},setSelected:function(b){this.selected!==b&&(this.callSuper(b),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});b.PanelStackFadeTransition=
new f("PanelStackFadeTransition",g,{initNode:function(b,a){k(a,"duration",1E3);this.callSuper(b,a)},setDuration:function(b){this.duration=b},to:function(b){return new Promise((a,c)=>{b.stopActiveAnimators("opacity");b.setVisible(!0);b.animate({attribute:"opacity",to:1,duration:this.duration}).next(c=>{b.makeHighestZIndex();a(b)})})},from:function(b){return new Promise((a,c)=>{b.stopActiveAnimators("opacity");b.animate({attribute:"opacity",to:0,duration:this.duration}).next(c=>{b.setVisible(!1);a(b)})})}});
b.PanelStackSlideTransition=new f("PanelStackSlideTransition",g,{initNode:function(b,a){k(a,"duration",1E3);k(a,"direction","right");this.callSuper(b,a)},setDuration:function(b){this.duration=b},setDirection:function(b){this.direction=b},to:function(b){const a=b.getPanelStack(),c=this.duration;let e,d;switch(this.direction){case "left":d="x";e=a.width;break;case "right":d="x";e=-a.width;break;case "up":d="y";e=a.height;break;case "down":d="y",e=-a.height}b.stopActiveAnimators(d);b.set(d,e);b.setVisible(!0);
return new Promise((a,e)=>{e=c=>{b.makeHighestZIndex();a(b)};0<c?b.animate({attribute:d,to:0,duration:c}).next(e):(b.set(d,0),b.makeHighestZIndex(),a(b))})},from:function(b){const a=b.getPanelStack(),c=this.duration;let e,d;switch(this.direction){case "left":d="x";e=-a.width;break;case "right":d="x";e=a.width;break;case "up":d="y";e=-a.height;break;case "down":d="y",e=a.height}b.stopActiveAnimators(d);return new Promise((a,f)=>{f=c=>{b.setVisible(!1);a(b)};0<c?b.animate({attribute:d,to:e,duration:c}).next(f):
(b.set(d,e),b.setVisible(!1),a(b))})}})})(myt);
(b=>{const f=JS.Module;var k=b.global;const g=k.dragManager,e=k.mouse;k=b.Draggable;const a=b.AccessorSupport.defAttr,c=(a,b,e)=>{a["__isAuto"+b]&&(a.getInnerDomElement()["scrollUp"===b||"scrollDown"===b?"scrollTop":"scrollLeft"]+=e*a["__amount"+b],a["__timerIdAuto"+b]=setTimeout(()=>{c(a,b,e)},a.scrollFrequency))},h=b.DragGroupSupport=new f("DragGroupSupport",{initNode:function(a,b){this.__dragGroups={"*":!0};this.__acceptAny=!0;this.callSuper(a,b)},setDragGroups:function(a){const b=this.__dragGroups=
{};for(const c in a)b[c]=!0;this.__acceptAny=b.hasOwnProperty("*")},getDragGroups:function(){return this.__dragGroups},addDragGroup:function(a){a&&(this.__dragGroups[a]=!0,"*"===a&&(this.__acceptAny=!0))},removeDragGroup:function(a){a&&(delete this.__dragGroups[a],"*"===a&&(this.__acceptAny=!1))},acceptAnyDragGroup:function(){return this.__acceptAny}});b.DropSource=new f("DropSource",{include:[k],initNode:function(b,c){a(c,"distanceBeforeDrag",2);a(c,"dropParent",b.getRoot());this.callSuper(b,c)},
setDropClass:function(a){this.dropClass=b.resolveClassname(a)},setDropClassAttrs:function(a){this.dropClassAttrs=a},setDropParent:function(a){this.dropParent=a},startDrag:function(a){const b=this.dropable=this.makeDropable();if(b){const c=b.distanceBeforeDrag;b.distanceBeforeDrag=0;b.doMouseDown(a);b.__doMouseDown(a);b.distanceBeforeDrag=c}},doMouseUp:function(a){this.callSuper(a);const b=this.dropable;b&&(b.__doMouseUp(a),b.doMouseUp(a),this.dropable=null)},makeDropable:function(){const a=this.dropClass,
c=this.dropParent;if(a&&c){const d=b.DomElementProxy.getPagePosition(this.getInnerDomElement(),c.getInnerDomElement()),e=Object.assign({},this.dropClassAttrs);e.x=d.x||0;e.y=d.y||0;return new a(c,e)}}});b.DropTarget=new f("DropTarget",{include:[h],initNode:function(a,b){this.callSuper(a,b);g.registerDropTarget(this)},destroyAfterOrphaning:function(){g.unregisterDropTarget(this);this.callSuper()},willAcceptDrop:function(a){return!this.disabled&&this.isVisible()},notifyDragStart:a=>{},notifyDragStop:a=>
{},notifyDragEnter:a=>{},notifyDragLeave:a=>{},notifyDrop:a=>{}});b.Dropable=new f("Dropable",{include:[k,h],setDropTarget:function(a){this.dropTarget=a},setDropped:function(a){this.dropped=a},setDropFailed:function(a){this.dropFailed=a},willPermitDrop:a=>!0,startDrag:function(a){this.setDropped(!1);this.setDropFailed(!1);g.startDrag(this);this.callSuper(a)},updateDrag:function(a){g.updateDrag(a,this);this.callSuper(a)},stopDrag:function(a,b){g.stopDrag(a,this,b);this.callSuper(a,b);b?this.notifyDropAborted():
this.dropFailed&&this.notifyDropFailed()},notifyDragEnter:function(a){this.setDropTarget(a)},notifyDragLeave:function(a){this.setDropTarget()},notifyDropped:function(a,b){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});b.AutoScroller=new f("AutoScroller",{include:[h],initNode:function(b,c){this.scrollBorder=40;this.scrollFrequency=50;this.scrollAmount=2;this.scrollAcceleration=7;a(c,"overflow","auto");this.callSuper(b,c);g.registerAutoScroller(this)},
destroyAfterOrphaning:function(){g.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(a){this.scrollBorder=a},setScrollFrequency:function(a){this.scrollFrequency=a},setScrollAmount:function(a){this.scrollAmount=a},setScrollAcceleration:function(a){this.scrollAcceleration=a},notifyDragStart:function(a){a=this.getInnerDomElement();(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth)&&this.attachToDom(e,"__handleMouseMove","mousemove",!0)},notifyDragStop:function(a){this.detachFromDom(e,
"__handleMouseMove","mousemove",!0);this.__isAutoscrollUp=this.__isAutoscrollDown=!1;this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null;this.__isAutoscrollLeft=this.__isAutoscrollRight=!1;this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null},__handleMouseMove:function(a){var b=a.value;a=b.pageX;b=b.pageY;if(this.containsPoint(a,b)){const d=this.getPagePosition(),e=this.scrollBorder;a-=d.x;b-=d.y;b<e?(this.__isAutoscrollUp=!0,this.__amountscrollUp=Math.round(this.scrollAmount*
(1+(e-b)/e*this.scrollAcceleration)),this.__timerIdAutoscrollUp||c(this,"scrollUp",-1)):this.height-b<e?(this.__isAutoscrollDown=!0,this.__amountscrollDown=Math.round(this.scrollAmount*(1+(e-(this.height-b))/e*this.scrollAcceleration)),this.__timerIdAutoscrollDown||c(this,"scrollDown",1)):(this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null);a<e?(this.__isAutoscrollLeft=!0,this.__amountscrollLeft=Math.round(this.scrollAmount*(1+(e-a)/e*this.scrollAcceleration)),
this.__timerIdAutoscrollLeft||c(this,"scrollLeft",-1)):this.width-a<e?(this.__isAutoscrollRight=!0,this.__amountscrollRight=Math.round(this.scrollAmount*(1+(e-(this.width-a))/e*this.scrollAcceleration)),this.__timerIdAutoscrollRight||c(this,"scrollRight",1)):(this.__isAutoscrollLeft=this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null)}else this.__isAutoscrollUp=this.__isAutoscrollDown=!1,this.__timerIdAutoscrollUp=this.__timerIdAutoscrollDown=null,this.__isAutoscrollLeft=
this.__isAutoscrollRight=!1,this.__timerIdAutoscrollLeft=this.__timerIdAutoscrollRight=null}})})(myt);
myt.Eventable=new JS.Class("Eventable",{include:[myt.AccessorSupport,myt.Destructible,myt.Observable,myt.Observer],initialize:function(b,f){if(f){const b=f.length;for(let g=0,e;b>g;)(e=f[g++])?this.extend(e):console.warn("Missing mixin in:"+this.klass.__displayName)}this.inited=!1;this.init(b||{})},init:function(b){this.callSetters(b);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});
(b=>{const f=b.Geometry.degreesToRadians,k=a=>{b.Annulus.draw(a.__path,f(a.startAngle),f(a.endAngle),a.thickness,a.radius,a.width/2,a.color,a.startCapRounding,a.endCapRounding)},g=a=>{const b=2*(a.radius+a.thickness),c=a.__svg;a.setWidth(b);a.setHeight(b);c.setAttribute("viewBox","0 0 "+b+" "+b);c.setAttribute("width",b);c.setAttribute("height",b);k(a)},e=(a,b,d)=>{a[b]!==d&&(a[b]=d,a.inited&&(k(a),a.fireEvent(b,d)))},a=(a,b,d)=>{a[b]!==d&&(a[b]=d=Math.max(0,d),a.inited&&(g(a),a.fireEvent(b,d)))};
b.Annulus=new JS.Class("Annulus",b.View,{extend:{draw:(a,b,d,e,f,g,k,n,u)=>{if(b>d){var c=b;b=d;d=c}c=f+e;var h=Math.PI;const l=d-b,m=l+1E-4>=2*h;m&&(b=0,d=h);const r=Math.cos,p=Math.sin;b=[[g+c*r(b),g+c*p(b)],[g+c*r(d),g+c*p(d)],[g+f*r(d),g+f*p(d)],[g+f*r(b),g+f*p(b)]];d=[];d.push("M"+b[0].join());m?(d.push("A"+[c,c,0,1,1,b[1]].join()),d.push("A"+[c,c,0,1,1,b[0]].join()),d.push("L"+b[2].join()),d.push("A"+[f,f,0,1,0,b[3]].join()),d.push("A"+[f,f,0,1,0,b[2]].join())):(h=l%(2*h)>h?1:0,d.push("A"+[c,
c,0,h,1,b[1]].join()),u?d.push("A"+[e/2,e/2,0,0,1,b[2]].join()):d.push("L"+b[2].join()),d.push("A"+[f,f,0,h,0,b[3]].join()),n&&d.push("A"+[e/2,e/2,0,0,1,b[0]].join()));d.push("z");a.setAttribute("d",d.join(" "));a.setAttribute("fill",k)},makeSVG:(a,b)=>{a=document.createElementNS("http://www.w3.org/2000/svg",a);b&&b.appendChild(a);return a}},initNode:function(a,b){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(a,b);g(this)},createOurDomElement:function(a){a=
this.callSuper(a);var c=Array.isArray(a)?a[1]:a;const d=b.Annulus.makeSVG;c=this.__svg=d("svg",c);this.__path=d("path",c);c.style.pointerEvents="none";return a},setRadius:function(b){a(this,"radius",b)},setThickness:function(b){a(this,"thickness",b)},setStartAngle:function(a){e(this,"startAngle",a)},setEndAngle:function(a){e(this,"endAngle",a)},setStartCapRounding:function(a){e(this,"startCapRounding",a)},setEndCapRounding:function(a){e(this,"endCapRounding",a)},setColor:function(a){e(this,"color",
a)},sendSubviewToBack:function(a){if(a.parent===this){const b=this.getInnerDomElement(),c=b.childNodes[1];a.getOuterDomElement()!==c&&(a=b.removeChild(a.getOuterDomElement()))&&b.insertBefore(a,c)}},isColorAttr:function(a){return"color"===a||this.callSuper(a)}})})(myt);
(b=>{const f=JS.Class,k=b.WebSocket=new f("WebSocket",b.Node,{initNode:function(a,b){this.status="closed";this.useJSON=!0;this.callSuper()},destroy:function(){this.close(1E3,"destroyed");this.callSuper()},setUseJSON:function(a){this.useJSON!==a&&(this.useJSON=a,this.inited&&this.fireEvent("useJSON",a))},setStatus:function(a){this.status!==a&&(this.status=a,this.inited&&this.fireEvent("status",a))},setUrl:function(a){"object"===typeof a&&"function"===typeof a.isA&&a.isA(b.URI)&&(a=a.toString());this.url=
a},setProtocols:function(a){this.protocols=a},connect:function(a){if(!this._ws&&this.url)try{const b=this._ws=new WebSocket(this.url,this.protocols),e=this.onOpen.bind(this);b.onopen=a?c=>{e(c);a(c);b.onopen=e}:e;b.onerror=this.onError.bind(this);b.onmessage=this.onMessage.bind(this);b.onclose=this.onClose.bind(this)}catch(c){this.onError(c)}},send:function(a,b){const c=this,d=c._ws;if(d&&"open"===c.status){if(c.useJSON)try{a=JSON.stringify(a)}catch(m){c.onError(m)}d.send(a);return!0}if(b)return!1;
c.connect(b=>{c.send(a,!0)})},close:function(a,b){this._ws&&this._ws.close(a||1E3,b||"close")},onOpen:function(a){this.setStatus("open")},onError:function(a){console.error(a);this._ws&&this._ws.readyState!==WebSocket.OPEN&&this.close()},onMessage:function(a){a=a.data;if(this.useJSON)try{a=JSON.parse(a)}catch(c){this.onError(c)}return a},onClose:function(a){this._ws&&delete this._ws;this.setStatus("closed")}}),g={},e=a=>{let b;"string"===typeof a?b=g[a]||(g[a]=b=>b===a):"function"===typeof a?b=a:null==
a&&(b=a=>!0);return b};b.MessageTypeWebSocket=new f("MessageTypeWebSocket",k,{initNode:function(a,b){this._listeners=[];null==b.protocols&&(b.protocols="typedMessage");this.callSuper()},registerListener:function(a,b){if(a&&(b=e(b))){var c=this._listeners;let d=c.length;for(;d;){const e=c[--d];if(e.func===a){a=e.patternMatchers;for(c=a.length;c;)if(a[--c]===b)return;a.push(b);return}}c.push({func:a,patternMatchers:[b]})}},unregisterListener:function(a,b){if(a&&(b=e(b))){const d=this._listeners;let e=
d.length;for(;e;){var c=d[--e];if(c.func===a){a=c.patternMatchers;for(c=a.length;c;)if(a[--c]===b){a.splice(c,1);break}0===a.length&&d.splice(e,1);break}}}},sendTypedMessage:function(a,b,e){if(b=this.createMessage(a,b))return this.send(b,e)},createMessage:(a,b)=>{let c;try{c=JSON.stringify(b)}catch(d){console.error(d);return}return{type:a||"",msg:c,date:Date.now()}},onMessage:function(a){const b=this.callSuper(a);try{b.msg=JSON.parse(b.msg)}catch(d){this.onError(b);return}const e=b.type;this._listeners.forEach(a=>
{a.patternMatchers.every(c=>c(e)?(a.func(b),!1):!0)});return b}})})(myt);
(b=>{let f;const k=JS.Class,g=b.global,e=g.mouse,a=g.windowResize,c=a=>{a.__checkTipTimerId&&(clearTimeout(a.__checkTipTimerId),delete a.__checkTipTimerId)},h=a=>{if(a.tooltip){const b=a._lastPos;if(a.tooltip.parent.containsPoint(b.x,b.y))return!0}a.hideTip();return!1},d=b.BaseTooltip=new k("BaseTooltip",b.View,{include:[b.RootView],extend:{DEFAULT_TIP_DELAY:500,DEFAULT_TIP_HIDE_DELAY:100},initNode:function(a,b){this.tipDelay=this.nextTipDelay=d.DEFAULT_TIP_DELAY;this.tipHideDelay=d.DEFAULT_TIP_HIDE_DELAY;
null==b.visible&&(b.visible=!1);this.callSuper(a,b)},setTooltip:function(a){this.inited&&(this.tooltip=a)&&(this.attachToDom(e,"__checkMouseMovement","mousemove",!0),this.attachToDom(a.parent,"hideTip","mousedown",!0),this.attachToDom(a.parent,"hideTip","mouseup",!0))},__checkMouseMovement:function(a){const d=this;d._lastPos=b.MouseObservable.getMouseFromEvent(a);h(d)&&(c(d),d.__checkTipTimerId=setTimeout(()=>{delete d.__checkTipTimerId;h(d)&&d.showTip()},d.nextTipDelay))},hideTip:function(a){c(this);
a=this.tooltip.parent;this.detachFromDom(a,"hideTip","mousedown",!0);this.detachFromDom(a,"hideTip","mouseup",!0);this.detachFromDom(e,"__checkMouseMovement","mousemove",!0);this.nextTipDelay=this.tipDelay;this.setVisible(!1);return!0},showTip:function(){g.dragManager.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}}),m=b.Tooltip=new k("Tooltip",d,{extend:{DEFAULT_EDGE_SIZE:0,DEFAULT_EDGE_COLOR:"#444",DEFAULT_SHADOW_SIZE:2,DEFAULT_SHADOW_COLOR:"#00000033",
DEFAULT_HORIZONTAL_INSET:6,DEFAULT_VERTICAL_INSET:3,DEFAULT_TIP_BG_COLOR:"#444",DEFAULT_TIP_TEXT_COLOR:"#eee"},initNode:function(a,c){null==c.edgeSize&&(c.edgeSize=m.DEFAULT_EDGE_SIZE);null==c.edgeColor&&(c.edgeColor=m.DEFAULT_EDGE_COLOR);null==c.shadowSize&&(c.shadowSize=m.DEFAULT_SHADOW_SIZE);null==c.shadowColor&&(c.shadowColor=m.DEFAULT_SHADOW_COLOR);null==c.insetH&&(c.insetH=m.DEFAULT_HORIZONTAL_INSET);null==c.insetV&&(c.insetV=m.DEFAULT_VERTICAL_INSET);null==c.tipBgColor&&(c.tipBgColor=m.DEFAULT_TIP_BG_COLOR);
null==c.tipTextColor&&(c.tipTextColor=m.DEFAULT_TIP_TEXT_COLOR);this.callSuper(a,c);new b.Text(this,{name:"_tipText",fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(a){this.edgeSize=a},setEdgeColor:function(a){this.edgeColor=a},setShadowSize:function(a){this.shadowSize=a},setShadowColor:function(a){this.shadowColor=a},setInsetH:function(a){this.insetH=a},setInsetV:function(a){this.insetV=a},setTipBgColor:function(a){this.tipBgColor=
a},setTipTextColor:function(a){this.tipTextColor=a},showTip:function(){const b=this.tooltip;var c=b.text;const d=b.parent;var e=this._tipText;const f=this.edgeSize,h=this.shadowSize;e.text!==c&&e.setText(c);e.setWidth("auto");var g=Math.min(e.measureNoWrapWidth(),b.maxTextWidth);c=g+2*e.x;const k=c+2*f;e.setWidth(g);e.sizeViewToDom();g=d.getPagePosition();e=e.height+2*e.y;const m=e+2*f,p=g.y-m+("below"===b.tipvalign?d.height+m:0);g=g.x;switch(b.tipalign){case "right":g-=k;case "farright":g+=d.width;
break;case "farleft":g-=k}this.setX(Math.round(Math.min(Math.max(g,0),a.getWidth()-k)));this.setY(Math.round(Math.min(Math.max(p,0),a.getHeight()-m)));this.setWidth(c);this.setHeight(e);this.setBgColor(this.tipBgColor);this.setBorder([f,"solid",this.edgeColor]);this.setBoxShadow([h,h,h,this.shadowColor]);this.callSuper()}}),p=b.TooltipMixin=new JS.Module("TooltipMixin",{extend:{DEFAULT_TIP_CLASS:m,DEFAULT_MAX_TEXT_WIDTH:280},setTooltip:function(a){this.callSuper("");this.set("tooltip",a,!0)},setTipAlign:function(a){this.set("tipAlign",
a,!0)},setTipValign:function(a){this.set("tipValign",a,!0)},setMaxTextWidth:function(a){this.set("maxTextWidth",a,!0)},setTipClass:function(a){this.set("tipClass",a,!0)},doSmoothMouseOver:function(a){const c=this.tooltip;this.callSuper(a);if(a&&c){a=this.tipClass||p.DEFAULT_TIP_CLASS;!f||f instanceof a||(f.destroy(),f=null);if(!f){let c=document.getElementById("tooltipDiv");c||(c=b.DomElementProxy.createDomElement("div",{position:"absolute"}),b.getElement().appendChild(c));f=new a(c,{domId:"tooltipDiv"})}f.setTooltip({parent:this,
text:c,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||p.DEFAULT_MAX_TEXT_WIDTH})}}})})(myt);
myt.Path=new JS.Class("Path",{initialize:function(b){this.setVectors(b||[])},setVectors:function(b){this._boundingBox=null;this.vectors=b},copyFrom:function(b){this.vectors=b.vectors.slice();this._boundingBox=null},drawInto:function(b){b.beginPath();const f=this.vectors;let k=f.length,g=0;for(b.moveTo(f[g++],f[g++]);k>g;)b.lineTo(f[g++],f[g++]);b.closePath()},translate:function(b,f){const k=this.vectors;let g=k.length;for(;g;)k[--g]+=f,k[--g]+=b;this._boundingBox=null},rotate:function(b){const f=
Math.cos(b);b=Math.sin(b);const k=this.vectors,g=k.length;for(let e=0;g>e;){const a=k[e]*f-k[e+1]*b,c=k[e]*b+k[e+1]*f;k[e++]=a;k[e++]=c}this._boundingBox=null},rotateAroundOrigin:function(b,f,k){this.translate(-f,-k);this.rotate(b);this.translate(f,k)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const b=this.vectors;let f=b.length,k,g,e,a;if(2<=f){e=a=b[--f];for(k=g=b[--f];f;){const c=b[--f],h=b[--f];e=Math.min(c,e);a=Math.max(c,a);k=Math.min(h,k);g=Math.max(h,g)}return this._boundingBox=
{x:k,y:e,width:g-k,height:a-e}}return this._boundingBox=null},getCenter:function(){const b=this.getBoundingBox();return b?{x:b.x+b.width/2,y:b.y+b.height/2}:null},isPointInPath:function(b,f){"object"===typeof b&&(f=b.y,b=b.x);return myt.Geometry.isPointInPath(b,f,this.getBoundingBox(),this.vectors)}});
(b=>{const f=Math.PI,k=f/2,g=3*f/2,e=b.AccessorSupport,a={};"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" ").forEach(b=>{a[b]=function(){this.__ctx[b].apply(this.__ctx,arguments)}});["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"].forEach(b=>
{a[b]=function(){return this.__ctx[b].apply(this.__ctx,arguments)}});"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" ").forEach(b=>{a[e.generateSetterName(b)]=function(a){this.__ctx[b]=a};a[e.generateGetterName(b)]=function(){return this.__ctx[b]}});b.Canvas=new JS.Class("Canvas",b.View,{include:[a],createOurDomElement:function(a){a=this.callSuper(a);const b=Array.isArray(a)?
a[1]:a,c=this.__canvas=document.createElement("canvas");c.className="mytUnselectable";b.appendChild(c);c.style.position="absolute";this.__ctx=c.getContext("2d");return a},setWidth:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("width",a);this.callSuper(a,b)},setHeight:function(a,b){0>a&&(a=0);this.__canvas.setAttribute("height",a);this.callSuper(a,b)},sendSubviewToBack:function(a){if(a.parent===this){const b=this.domElement,c=b.childNodes[1];a.domElement!==c&&(a=b.removeChild(a.domElement))&&
b.insertBefore(a,c)}},clear:function(){const a=this.__ctx;a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.width,this.height);a.restore()},dataURItoBlob:function(a,b){a=atob(a.split(",")[1]);const c=a.length,e=[];for(let b=0;b<c;)e.push(a.charCodeAt(b++));return new Blob([new Uint8Array(e)],{type:b})},getDataURL:function(a,b){return this.__canvas.toDataURL(a,b)},getImageFile:function(a,b,d){switch(a){case "png":case "PNG":a="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":a="jpeg";
null==d&&(d=.5);break;default:console.warn("Unexpected image type: ",a),a=a.toLowerCase()}const c="image/"+a;d=this.dataURItoBlob(this.getDataURL(c,d),c);b&&(d.name=b+"."+a);return d},circle:function(a,b,d){this.__ctx.arc(a,b,d,0,2*f)},drawRoundedRect:function(a,b,d,e,p,l){l=e+l;p=d+p;this.beginPath();this.moveTo(d,e+a);this.lineTo(d,l-a);this.arc(d+a,l-a,a,f,k,!0);this.lineTo(p-a,l);this.arc(p-a,l-a,a,k,0,!0);this.lineTo(p,e+a);this.arc(p-a,e+a,a,0,g,!0);this.lineTo(d+a,e);this.arc(d+a,e+a,a,g,f,
!0);this.closePath();0<b&&(a-=b,d+=b,p-=b,e+=b,l-=b,this.moveTo(d,e+a),this.arc(d+a,e+a,a,f,g),this.lineTo(p-a,e),this.arc(p-a,e+a,a,g,0),this.lineTo(p,l-a),this.arc(p-a,l-a,a,0,k),this.lineTo(d+a,l),this.arc(d+a,l-a,a,k,f),this.closePath())},drawRectOutline:function(a,b,d,e,f){f=d+f;e=b+e;const c=b+a,g=e-a,h=d+a;a=f-a;this.beginPath();this.moveTo(b,d);this.lineTo(b,f);this.lineTo(e,f);this.lineTo(e,d);this.lineTo(b,d);this.lineTo(c,h);this.lineTo(g,h);this.lineTo(g,a);this.lineTo(c,a);this.lineTo(c,
h);this.closePath()},drawPartiallyRoundedRect:function(a,b,d,e,f,g,k,n){n=g+n;k=f+k;this.beginPath();this.moveTo(f,g+a);this.lineTo(f,n-d);0<d&&this.quadraticCurveTo(f,n,f+d,n);this.lineTo(k-e,n);0<e&&this.quadraticCurveTo(k,n,k,n-e);this.lineTo(k,g+b);0<b&&this.quadraticCurveTo(k,g,k-b,g);this.lineTo(f+a,g);0<a&&this.quadraticCurveTo(f,g,f,g+a);this.closePath()},drawGradientArc:function(a,e,d,g,k,l,r,n){null==n&&(n=60);n=f/n;let c=f/360;var h=r.length;let m=0;for(var q,p;h>m+1;m++)q=r[m+1].angle-
r[m].angle,q=Math.round(q/n),p=r[m].color.getDiffFrom(r[m+1].color),r[m].colorDelta={red:p.red/q,green:p.green/q,blue:p.blue/q};d=new b.Path([a+d,e,a+g,e]);let D,x;d.rotateAroundOrigin(k,a,e);g=d.vectors;h=g[0];q=g[1];p=g[2];let F=g[3],t=0;for(m=0;l>k;){D=h;x=q;var z=p;var v=F;k+=n;k>l&&(n+=l-k,c=0,k=l);d.rotateAroundOrigin(n+c,a,e);h=g[0];q=g[1];p=g[2];F=g[3];this.beginPath();this.moveTo(D,x);this.lineTo(z,v);this.lineTo(p,F);this.lineTo(h,q);this.closePath();z=r[m].color;v=r[m].colorDelta;this.fillStyle=
b.Color.makeColorNumberFromChannels(z.red+t*v.red,z.green+t*v.green,z.blue+t*v.blue);this.fill();0<c&&(d.rotateAroundOrigin(-c,a,e),h=g[0],q=g[1],p=g[2],F=g[3]);t++;k>=r[m+1].angle&&(t=0,m++)}}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map

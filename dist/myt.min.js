var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findLastInternal=function(q,v,u){q instanceof String&&(q=String(q));for(var r=q.length-1;0<=r;r--){var h=q[r];if(v.call(u,h,r,q))return{i:r,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(q,v,u){if(q==Array.prototype||q==Object.prototype)return q;q[v]=u.value;return q};$jscomp.getGlobal=function(q){q=["object"==typeof globalThis&&globalThis,q,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var v=0;v<q.length;++v){var u=q[v];if(u&&u.Math==Math)return u}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(q,v,u){if(!u||null!=q){u=$jscomp.propertyToPolyfillSymbol[v];if(null==u)return q[v];u=q[u];return void 0!==u?u:q[v]}};
$jscomp.polyfill=function(q,v,u,r){v&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(q,v,u,r):$jscomp.polyfillUnisolated(q,v,u,r))};$jscomp.polyfillUnisolated=function(q,v,u,r){u=$jscomp.global;q=q.split(".");for(r=0;r<q.length-1;r++){var h=q[r];if(!(h in u))return;u=u[h]}q=q[q.length-1];r=u[q];v=v(r);v!=r&&null!=v&&$jscomp.defineProperty(u,q,{configurable:!0,writable:!0,value:v})};
$jscomp.polyfillIsolated=function(q,v,u,r){var h=q.split(".");q=1===h.length;r=h[0];r=!q&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<h.length-1;f++){var d=h[f];if(!(d in r))return;r=r[d]}h=h[h.length-1];u=$jscomp.IS_SYMBOL_NATIVE&&"es6"===u?r[h]:null;v=v(u);null!=v&&(q?$jscomp.defineProperty($jscomp.polyfills,h,{configurable:!0,writable:!0,value:v}):v!==u&&(void 0===$jscomp.propertyToPolyfillSymbol[h]&&(u=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[h]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(h):$jscomp.POLYFILL_PREFIX+u+"$"+h),$jscomp.defineProperty(r,$jscomp.propertyToPolyfillSymbol[h],{configurable:!0,writable:!0,value:v})))};$jscomp.polyfill("Array.prototype.findLast",function(q){return q?q:function(v,u){return $jscomp.findLastInternal(this,v,u).v}},"es_next","es3");$jscomp.typedArrayFindLast=function(q){return q?q:function(v,u){return $jscomp.findLastInternal(this,v,u).v}};$jscomp.polyfill("Int8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint8Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Uint16Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Int32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
$jscomp.polyfill("Uint32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float32Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");$jscomp.polyfill("Float64Array.prototype.findLast",$jscomp.typedArrayFindLast,"es_next","es5");
(q=>{let v;var u=d=>{let l=d.length;for(;l;){const k=d[--l];v=k.ver??k.id;if(k.str?.includes(k.sub)||k.prop)return k.id}};var r=d=>{const l=d.indexOf(v);if(0<=l)return parseFloat(d.slice(l+v.length+1))};const h=navigator.userAgent,f=navigator.platform;r=q.BrowserDetect={browser:u([{prop:window.opera,id:"Opera",ver:"Version"},{str:navigator.vendor,sub:"Apple",id:"Safari",ver:"Version"},{str:h,sub:"Firefox",id:"Firefox"},{str:h,sub:"Chrome",id:"Chrome"},{str:h,sub:"MSIE",id:"Explorer",ver:"MSIE"}])??
"UNKNOWN",version:r(h)||r(navigator.appVersion)||"UNKNOWN",os:u([{str:h,sub:"iPhone",id:"iPhone/iPod"},{str:f,sub:"Linux",id:"Linux"},{str:f,sub:"Mac",id:"Mac"},{str:f,sub:"Win",id:"Windows"}])??"UNKNOWN"};switch(r.browser){case "Chrome":case "Safari":q="WebKit";break;case "Explorer":q="MS";break;case "Firefox":q="Moz";break;case "Opera":q="O";break;default:q="UNKNOWN"}u=q.toLowerCase();r.prefix={dom:q,lowercase:u,css:"-"+u+"-",js:u[0].toUpperCase()+u.substr(1)}})(global);
Date.prototype.format=Date.prototype.format??(()=>{const {abs:q,floor:v,ceil:u}=Math,r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h="January February March April May June July August September October November December".split(" "),f="Sun Mon Tue Wed Thu Fri Sat".split(" "),d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l=e=>(10>e?"0":"")+e,k=(e,b)=>{e=e.getTimezoneOffset();return(0<e?"-":"+")+l(v(q(e/60)))+(b?":":"")+(0==q(e%60)?"00":l(q(e%60)))},a={d:e=>
l(e.getDate()),D:e=>f[e.getDay()],j:e=>e.getDate(),l:e=>d[e.getDay()],N:e=>0==e.getDay()?7:e.getDay(),S:e=>{e=e.getDate();return 1==e%10&&11!=e?"st":2==e%10&&12!=e?"nd":3==e%10&&13!=e?"rd":"th"},w:e=>e.getDay(),z:e=>{const b=new Date(e.getFullYear(),0,1);return u((e-b)/864E5)},W:e=>{const b=new Date(e.valueOf());e=(e.getDay()+6)%7;b.setDate(b.getDate()-e+3);e=b.valueOf();b.setMonth(0,1);4!==b.getDay()&&b.setMonth(0,1+(4-b.getDay()+7)%7);return l(1+u((e-b)/6048E5))},F:e=>h[e.getMonth()],m:e=>l(e.getMonth()+
1),M:e=>r[e.getMonth()],n:e=>e.getMonth()+1,t:e=>{let b=e.getFullYear();e=e.getMonth()+1;12===e&&(b=b++,e=0);return(new Date(b,e,0)).getDate()},L:e=>{e=e.getFullYear();return 0==e%400||0!=e%100&&0==e%4},o:e=>{const b=new Date(e.valueOf());b.setDate(b.getDate()-(e.getDay()+6)%7+3);return b.getFullYear()},Y:e=>e.getFullYear(),y:e=>(""+e.getFullYear()).substr(2),a:e=>12>e.getHours()?"am":"pm",A:e=>12>e.getHours()?"AM":"PM",B:e=>v(1E3*((e.getUTCHours()+1)%24+e.getUTCMinutes()/60+e.getUTCSeconds()/3600)/
24),g:e=>e.getHours()%12||12,G:e=>e.getHours(),h:e=>l(e.getHours()%12||12),H:e=>l(e.getHours()),i:e=>l(e.getMinutes()),s:e=>l(e.getSeconds()),e:e=>/\((.*)\)/.exec((new Date).toString())[1],I:e=>{let b=null,g=0;for(;12>g;){const c=(new Date(e.getFullYear(),g++,1)).getTimezoneOffset();if(null===b)b=c;else if(c<b){b=c;break}else if(c>b)break}return e.getTimezoneOffset()==b|0},O:e=>k(e,!1),P:e=>k(e,!0),T:e=>Intl.DateTimeFormat().resolvedOptions().timeZone,Z:e=>60*-e.getTimezoneOffset(),c:e=>e.format("Y-m-d\\TH:i:sP"),
r:e=>e.toString(),U:e=>e.getTime()/1E3,x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString()};return function(e){return e.replace(/(\\?)(.)/g,(b,g,c)=>""===g&&a[c]?a[c](this):c)}})();
(q=>{const v=(g,c)=>{var p=g.__mct__.get(c);if(p)return p.slice();const w=[];if(p=g.__anc__){const t=p.length;for(let n=0;n<t;){const B=p[n++].__fns__;B.has(c)&&w.push(B.get(c))}}else{const t=g.__anc__=[],n=B=>{const L=B.__inc__,z=L.length;for(let D=0;D<z;)n(L[D++]);t.includes(B)||(t.push(B),B=B.__fns__,B.has(c)&&w.push(B.get(c)))};n(g)}g.__mct__.set(c,w.slice());return w},u=(g,c)=>{const p=g.callable;return g.__hs?function(...w){const t=this.callSuper,n=v(c,g.name);let B=n.length-1;if(0===B)t&&delete this.callSuper;
else{const z=w.length,D=this.callSuper=(...J)=>{for(let O=J.length;O<z;)J[O]=w[O++];0===--B&&delete this.callSuper;J=n[B].callable.call(this,...J);this.callSuper=D;B++;return J}}const L=p.call(this,...w);t?this.callSuper=t:delete this.callSuper;return L}:p},r=(g,c)=>{c=c??g;if(c===g){g.__anc__=null;g.__mct__=new Map;var p=g.__dep__;for(var w=p.length;0<w;)r(p[--w])}p=c.__tgt__;w=g.__inc__;const t=w.length;for(let n=0;n<t;)r(w[n++],c);for(const [n,B]of g.__fns__)g=B instanceof d?u(B,c):B,p[n]!==g&&
(p[n]=g)},h=g=>g.__meta__??(g.__meta__=new l(null,null,g)).include(g.klass,!0),f=g=>{const c=function(...p){return this.initialize(...p)??this};c.prototype=Object.create(g.prototype);return c},d=f(Object),l=q.Module=f(Object);d.prototype.initialize=function(g,c,p){this.module=g;this.name=c;this.callable=p;this.__hs=p.toString().includes("callSuper")};var k=l.prototype;k.initialize=function(g,c,p){this.__inc__=[];this.__dep__=[];this.__fns__=new Map;this.__mct__=new Map;this.__tgt__=p;g&&(this.__displayName=
g);this.include(c,!0)};k.include=function(g,c){if(g){if(g.__fns__)this.__inc__.push(g),g.__dep__.push(this);else{var p=g.extend,w=g.include;p&&(p.__fns__||"function"!==typeof p)&&this.extend(p);if(w&&(w.__fns__||"function"!==typeof w)){p=w.length;for(let t=0;t<p;)this.include(w[t++],!0)}for(const t of Object.keys(g))if(w=g[t],"extend"!==t&&"include"!==t||!w.__fns__&&"function"===typeof w)this.__fns__.has(t)?(console.warn('JS.Module already has field: "'+t+'" auto generating a JS.Module from the field for inclusion.'),
this.include(new l("Auto_"+t,{[t]:w}),!1)):this.__fns__.set(t,w?.__fns__||"function"!==typeof w?w:new d(this,t,w))}!0!==c&&r(this)}return this};k.includes=function(g){if(g===this)return!0;const c=this.__inc__,p=c.length;for(let w=0;w<p;)if(c[w++].includes(g))return!0;return!1};k.instanceMethod=function(g){return v(this,g).pop()};const a=new l("Kernel",{extend:function(g){h(this).include(g)},isA:function(g){return"function"===typeof g&&this instanceof g||h(this).includes(g)}}),e=q.Class=f(l),b=e.prototype;
b.initialize=function(g,c,p){"function"!==typeof c&&(p=c,c=Object);l.prototype.initialize.call(this,g);g=f(c);for(const w in this)g[w]===this[w]||g.hasOwnProperty(w)||(g[w]=this[w]);g.prototype.constructor=g.prototype.klass=g;h(g).include(c.__meta__);g.__tgt__=g.prototype;c=c===Object?{}:c.__fns__?c:new l(c.prototype,!0);g.include(a,!0).include(c,!0).include(p,!0);r(g);return g};k=(g,c)=>{g.__inc__=[];g.__dep__=[];const p=g.__tgt__=g.prototype,w=g.__fns__=new Map;for(const D of Object.keys(p)){var t=
w,n=t.set;var B=g;var L=D,z=p[D];B=z?.__fns__||"function"!==typeof z?z:new d(B,L,z);n.call(t,D,B)}p.constructor=p.klass=g;for(const D in b)g[D]===b[D]||g.hasOwnProperty(D)||(g[D]=b[D]);g.include(c);g.constructor=g.klass=e};k(d,a);k(l,a);k(e,l);r(h(d));r(h(l));h(e).include(l.__meta__);q.Singleton=new e("Singleton",{initialize:(g,c,p)=>new (new e(g,c,p))})})(global.JS={});
(q=>{class v extends Error{constructor(y,A,...E){super(...E);this.name="FetchError";this.status=y;this.url=A}}let u=0,r,h={},f={};const d=console.warn,l=Math,{abs:k,min:a,max:e,pow:b}=l,g=Array.isArray,c=document,p=c.head,w=c.createElement.bind(c),t={},n={"":!0},B=c.fonts,L=y=>{const A=y.family.split('"').join("");for(const E of[A,A+" "+y.weight])if(!n[E]){n[E]=!0;const G=t[E]??[];for(;G.length;)(y=G.pop())&&!y.destroyed&&y.isVisible()&&(y.sizeViewToDom(),y.notifyFontLoaded?.(A))}},z={},D=/\{\{plural:\$(\d+)\|([^|]+)\|([^}]+)\}\}/g,
J=/\$(\d+)/g,O=(y,A=JSON.stringify,E=Infinity)=>{const G=new Map;return(...M)=>{var N=A(M);if(G.has(N))return G.get(N);M=y(...M);G.set(N,M);G.size>E&&(N=G.keys().next().value,G.delete(N));return M}},Q=(y,A,E=new WeakMap,G=new WeakMap)=>{if(y!==A){if(y instanceof Date&&A instanceof Date)return y.getTime()===A.getTime();if(null===y||null===A||"object"!==typeof y||"object"!==typeof A)return!1;if(E.has(y))return G.get(A)===E.get(y);E.set(y,A);G.set(A,y);var M=Array.isArray(y),N=Array.isArray(A);if(M!==
N)return!1;if(M){var P=y.length;if(P!==A.length)return!1;for(M=0;M<P;M++)if(!Q(y[M],A[M],E,G))return!1;return!0}M=Object.keys(y);N=Object.keys(A);if(M.length!==N.length)return!1;for(P of M)if(!Object.prototype.hasOwnProperty.call(A,P)||!Q(y[P],A[P],E,G))return!1}return!0},m=/\\([{}])|\{([^{}]+)\}/g,x=/(,|\r?\n|\r|^)(?:"((?:\\.|""|[^\\"])*)"|([^,"\r\n]*))/gi,C=/[\\"](.)/g,K=q.myt={version:2.02306021558E7,generateGuid:()=>++u,theme:{TextButtonActive:"#ddd",TextButtonHover:"#eee",TextButtonReady:"#fff",
DialogRadius:12,DialogBgColor:"#fff",DialogInputFgColor:"#333",DialogShadow:[0,4,20,"#666"],DialogBorder:[1,"solid","#fff"],DialogDayBtnBorder:[1,"solid","#fff"],DialogDayBtnBorderColor:"#fff",DialogDayBtnBorderColorToday:"#090",DimmerOpacity:.35,DimmerColor:"#000",ModalPanelPaddingX:20,ModalPanelPaddingY:15,ModalPanelMarginTop:40,ModalPanelMarginLeft:40,ModalPanelMarginBottom:40,ModalPanelMarginRight:40,TabSliderContainerSpacing:1,TabInset:8,TabOutset:8,TabContainerInset:0,TabContainerSpacing:1,
BaseTooltipDelay:500,BaseTooltipHideDelay:100,TooltipEdgeColor:"#444",TooltipBgColor:"#444",TooltipTextColor:"#eee",TooltipShadowColor:"#00000033",TooltipEdgeSize:0,TooltipShadowSize:2,TooltipHInset:6,TooltipVInset:3,focusShadow:[0,0,7,"#666"],disabledOpacity:.5,border1s3:[1,"solid","#333"],border1s9:[1,"solid","#999"]},hash:y=>y.split("").reduce((A,E)=>{A=(A<<5)-A+E.charCodeAt(0);return A&A},0),addEventListener:(y,A,E,G,M)=>{y.addEventListener(A,E,{capture:G||!1,passive:M||!1})},removeEventListener:(y,
A,E,G)=>{y.removeEventListener(A,E,G||!1)},resolveName:(y,A)=>{if(y&&0!==y.length){A=A??global;var E=g(y)?y:y.split("."),G=E.length;for(let M=0;M<G;M++)if(A=A[E[M]],null==A){d("resolveName failed for",y,"at part",M,E[M]);return}return A}},resolveClassname:y=>{"string"===typeof y&&(y=K.resolveName(y));return y&&"function"===typeof y.isA&&y.isA(JS.Class)?y:null},getExtension:y=>y?(y=y.split("."),1<y.length?y.pop():null):null,loadScript:function(y,A,E,G){const M=this._loadedScripts??(this._loadedScripts=
{});let N=M[y];if(!0===N)A?.(!0);else if(!1===N)A?.(!1);else if(Array.isArray(N))A&&N.push(A);else{N=M[y]=[];A&&N.push(A);const P=w("script");P.type="text/javascript";P.async=!1;G&&(P.integrity=G,P.crossOrigin="anonymous");const U=S=>{P.onload=P.onreadystatechange=P.onerror=null;for(const X of N)X(S);M[y]=S};P.onerror=()=>{U(!1)};P.onload=P.onreadystatechange=()=>{P.readyState&&"complete"!==P.readyState||U(!0)};P.src=y+(E?"":(y.includes("?")?"&":"?")+"cacheBust="+Date.now());p.appendChild(P)}},dumpStack:(y,
A)=>{let E;"string"===typeof y&&(E=y,y=null);K.global.error.notify(A||"error",null,E,y)},getRandom:y=>{const A=l.random();return y?e(0,a(y(A),.9999999999)):A},getRandomArbitrary:(y,A,E)=>{const G=a(y,A);return K.getRandom(E)*(e(y,A)-G)+G},getRandomInt:(y,A,E)=>{const G=a(y,A);return l.floor(K.getRandom(E)*(e(y,A)-G+1)+G)},areFloatsEqual:(y,A,E)=>{const G=k(y),M=k(A);return k(y-A)<=(G>M?M:G)*(null==E?1E-6:k(E))},areArraysEqual:(y,A)=>{if(y!==A){if(null===y||null===A||"object"!==typeof y||"object"!==
typeof A)return!1;let E=y.length;if(E!==A.length)return!1;for(;E;)if(y[--E]!==A[E])return!1}return!0},shallowEqual:(y,A)=>{if(y!==A){if(null===y||null===A||"object"!==typeof y||"object"!==typeof A)return!1;const E=Object.keys(y),G=Object.keys(A);if(E.length!==G.length)return!1;for(const M of E)if(y[M]!==A[M])return!1}return!0},deepEqual:Q,stableStringify:y=>JSON.stringify(y,(A,E)=>{if(E&&"object"===typeof E&&!Array.isArray(E)){A={};for(const G of Object.keys(E).sort())A[G]=E[G];return A}return E}),
getElement:(y,A)=>c.getElementsByTagName(y||"body")[0<A?A:0],loadFontFaces:(y,A)=>{Promise.all(y.map(({family:E,url:G,options:M})=>(new FontFace(E,"url("+G+")",M)).load())).then(E=>{for(const G of E)B.add(G),L(G);A?.(E)})},loadFontFace:(y,A,E={},G)=>{y=new FontFace(y,"url("+A+")",E);y.loaded.then(M=>{B.add(M);L(M);G?.(M)});y.load()},registerForFontNotification:(y,A)=>{n[A]?y&&!y.destroyed&&y.isVisible()&&(y.sizeViewToDom(),y.notifyFontLoaded?.(A)):(t[A]??(t[A]=[])).push(y)},createBaseFontCSSRule:y=>
{K.addCSSRule(K.createStylesheet(),"body, input","font-family:"+y)},loadCSSFonts:y=>{y?.forEach(K.createStylesheetLink)},createStylesheetLink:y=>{if(y){let A=f[y];A?console.warn("stylesheet already exists",y):(A=f[y]=w("link"),A.rel="stylesheet",A.href=y,p.appendChild(A));return A}},createStylesheet:()=>{const y=w("style");p.appendChild(y);return y.sheet},addCSSRule:(y,A,E,G)=>{y.insertRule(A+"{"+E+"}",G??0)},removeCSSRules:y=>{let A=y.cssRules.length;for(;A;)y.deleteRule(--A)},createInputPlaceholderCSSRule:(y,
A,E,G=1)=>{let M=y.__sheet;M?K.removeCSSRules(M):M=y.__sheet=K.createStylesheet();y=y.getODE();y=y.id||(y.id="id"+ ++u);const N=[];A&&N.push("color:"+A);E&&N.push("font-family:"+E);G&&N.push("opacity:"+G);K.addCSSRule(M,"#"+y+"::placeholder",N.join("; "))},isSorted:(y,A)=>{const E=y.length;for(let G=1;G<E;G++)if(0<A(y[G-1],y[G]))return!1;return!0},chainSortFunc:(...y)=>(A,E)=>{for(const G of y){const M=G(A,E);if(0!==M)return M}return 0},getAlphaObjSortFunc:O((y,A,E,G)=>{const M=A?1:-1,N=K.I18N.getLocale(),
P={sensitivity:E?"accent":"variant"};return(U,S)=>{U=U[y];S=S[y];G?("string"!==typeof U&&(U=""+U),"string"!==typeof S&&(S=""+S)):(U=U||"",S=S||"");return U.localeCompare(S,N,P)*M}}),getNumericObjSortFunc:O((y,A)=>{const E=A?1:-1;return(G,M)=>{G=G[y]||0;M=M[y]||0;return(G-M)*E}}),csvStringToArray:(y,A)=>{if(!y)return[];const E=[[]];let G;for(;G=x.exec(y);)G[1].length&&","!==G[1]&&E.push([]),E[E.length-1].push(void 0!==G[2]?G[2].replace(C,"$1"):G[3]);if(A){const M=E.shift();return E.map(N=>{let P=0;
return M.reduce((U,S)=>{U[S]=N[P++];return U},{})})}return E},prepareCSVDataURI:(y,A)=>{const E=N=>{if(N&&g(N)){const P=[],U=N.length;for(let S=0,X;U>S;S++)X=N[S],X=null==X?"":X.toString(),X=X.replace(/"/g,'""'),0<=X.search(/("|,|\n)/g)&&(X='"'+X+'"'),P.push(X);return P.join(",")}d("Unexpected row",N);return null},G=[];if(A){var M=E(A);M&&G.push(M)}if(y)if(g(y)){M=y.length;for(let N=0;M>N;N++){const P=E(y[N]);P&&G.push(P)}}else d("Rows were not an array");return K.encodeCSVDataURI(G.join("\r\n"),
A)},encodeCSVDataURI:(y,A)=>"data:text/csv;charset=utf-8"+(null==A?"":";header="+(A?"present":"absent"))+","+encodeURIComponent(y),dataURIToBlob:y=>{var A=y.indexOf(",");const E=y.slice(0,A).split(":")[1].split(";")[0];y=y.slice(A+1);if(E.startsWith("text/"))y=decodeURIComponent(y);else{y=atob(y);A=y.length;const G=new Uint8Array(A);for(;A;)G[--A]=y.charCodeAt(A);y=G}return new Blob([y],{type:E})},formatAsPercentage:(y,A=2)=>{switch(typeof y){case "number":return A=a(16,e(0,A)),y=l.round(e(0,a(1,
y))*b(10,2+A))/b(10,A),(0===y%1?y:y.toFixed(A))+"%";case "string":return y;default:return d("formatAsPercentage expects a number"),y}},interpolateString:(y,A={})=>y?y.replace(m,(E,G,M)=>G?G:K.resolveName(M,A)??E):"",leftPadNumber:(y,A,E="0",G=10)=>{y=y.toString(G);return E.repeat(e(A-y.length,0))+y},removeMarkup:(y,A)=>{if(!y)return"";A?.brToLineFeed&&(y=y.replace(/<br\s*\/?>/gi,"\n"));return y.replace(/<\/?[^>]+(>|$)/g,"")},escapeMarkup:(()=>{const y=RegExp("[&<>\"']","g"),A={"&":"&amp;","<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#039;"},E=G=>A[G];return G=>G.replace(y,E)})(),memoize:O,debounce:(y,A,E=!1)=>{let G;return function(...M){const N=this,P=E&&!G;clearTimeout(G);G=setTimeout(()=>{G=null;E||y.apply(N,M)},A);P&&y.apply(N,M)}},createFixedThresholdCounter:(y,A,E,G)=>{var M=K.AccessorSupport.generateName;const N="function"===typeof y||y instanceof JS.Module,P={};G=G||M("counter",E);const U=M(G,"increment");M=M(G,"decrement");if(void 0!==(N?y.instanceMethod(U):y[U]))return d("Increment: Abort clobber",
U,y),!1;if(void 0!==(N?y.instanceMethod(M):y[M]))return d("Decrement: Abort clobber",M,y),!1;P[U]=function(){const S=this[G]+1;this[G]=S;this.fireEvent(G,S);S===A&&this.set(E,!0)};P[M]=function(){const S=this[G];if(0!==S){var X=S-1;this[G]=X;this.fireEvent(G,X);S===A&&this.set(E,!1)}};y[N?"include":"extend"](P);return!0},makeURLSearchParams:(y={})=>{const A=new URLSearchParams;for(const E in y){const G=y[E];void 0!==G&&A.set(E,G)}return A},doFetch:(y,A,E,G,M,N)=>fetch(y,A).then(P=>{if(!P.ok)throw new v(P.status,
y,P.statusText);return P}).then(P=>E?P.text():P.json()).then(P=>{if(G)try{if(E)G(P);else{if(!1===P.success)throw new v(200,y,P.message??P.data?.message);G(P.data)}}catch(U){throw P=new v(200,y,U.message),P.stack=U.stack,P;}}).catch(P=>{if(M){if("FetchError"!==P.name){const U=new v(0,y,P.message);U.stack=P.stack;P=U}M(P)}}).finally(()=>{N?.()}),toNameCase:(y,A)=>{if(!y)return"";y=y.trim().toLowerCase().split(/([\s\-'\u2019"\u201c\u201d().,\/])/).reduce((E,G)=>E+(G[0]??"").toUpperCase()+G.slice(1),
"");if(/\bMac[A-Za-z]{2,}[^aciozj]\b/.test(y)||/\bMc/.test(y))y=y.replace(/\b(Ma?c)([A-Za-z]+)/,(E,G,M)=>G+(M[0]??"").toUpperCase()+M.slice(1)),y=y.replace(/\bMacEvicius\b/,"Macevicius").replace(/\bMacHado\b/,"Machado").replace(/\bMacHar\b/,"Machar").replace(/\bMacHin\b/,"Machin").replace(/\bMacHlin\b/,"Machlin").replace(/\bMacIas\b/,"Macias").replace(/\bMacIulis\b/,"Maciulis").replace(/\bMacKie\b/,"Mackie").replace(/\bMacKle\b/,"Mackle").replace(/\bMacKlin\b/,"Macklin").replace(/\bMacQuarie\b/,"Macquarie").replace(/\bMacOmber\b/,
"Macomber").replace(/\bMacIn\b/,"Macin").replace(/\bMacKintosh\b/,"Mackintosh").replace(/\bMacKen\b/,"Macken").replace(/\bMacHen\b/,"Machen").replace(/\bMacHiel\b/,"Machiel").replace(/\bMacIol\b/,"Maciol").replace(/\bMacKell\b/,"Mackell").replace(/\bMacKlem\b/,"Macklem").replace(/\bMacKrell\b/,"Mackrell").replace(/\bMacLin\b/,"Maclin").replace(/\bMacKey\b/,"Mackey").replace(/\bMacKley\b/,"Mackley").replace(/\bMacHell\b/,"Machell").replace(/\bMacHon\b/,"Machon").replace(/\bMacAyla\b/,"Macayla");y=
y.replace(/\bMacmurdo/,"MacMurdo").replace(/\bMacisaac/,"MacIsaac").replace(/\bAl(?=\s+\w)\b/g,"al").replace(/\bAp\b/g,"ap").replace(/\bBen(?=\s+\w)\b/g,"ben").replace(/\bDell([ae])\b/g,"dell$1").replace(/\bD([aeiu])\b/g,"d$1").replace(/\bDe([lr])\b/g,"de$1").replace(/\bEl\b/g,"el").replace(/\bLa\b/g,"la").replace(/\bLe(?=\s+\w)\b/g,"le").replace(/\bLo\b/g,"lo").replace(/\bVan(?=\s+\w)\b/g,"van").replace(/\bVon\b/g,"von").replace(/\bD['\u2019]/g,"d'").replace(/\b(?:\d{4}|(?:[IVX])(?:X{0,3}I{0,3}|X{0,2}VI{0,3}|X{0,2}I?[VX]))$/i,
E=>E.toUpperCase()).replace(/\b[0-9](x)\b/,E=>E.toUpperCase()).replace(/(?:^|\\s)[bcdfghjklmnpqrstvwxzBCDFGHJKLMNPQRSTVWXZ]{2}\s/,E=>E.toUpperCase()).replace(/\bMR\.?\b/,"Mr").replace(/\bMS\.?\b/,"Ms").replace(/\bDR\.?\b/,"Dr").replace(/\bST\.?\b/,"St").replace(/\bJR\.?\b/,"Jr").replace(/\bSR\.?\b/,"Sr").replace(/\bLT\.?\b/,"Lt").replace(/\bThe\b/g,"the").replace(/\bOf\b/g,"of").replace(/\bAnd\b/g,"and").replace(/\bY\s/g,"y").replace(/\s{2,}/g," ");return A?y:(y[0]??"").toUpperCase()+y.slice(1)},
I18N:{setLocale:y=>{r=y??(navigator.language||"en").split("-")[0].toLowerCase();h=z[r]},getLocale:()=>r,addDictionary:(y,A)=>{z[A]=Object.assign(z[A]??{},y);A===r&&(h=z[A])},setDictionary:(y,A)=>{z[A]=y??{};A===r&&(h=z[A])},get:(y,...A)=>{const E=h[y];return null!=E?0<A.length?E.replaceAll(D,(G,M,N,P)=>N&&P?1==A[parseInt(M)]?N:P:"").replaceAll(J,(G,M)=>A[M]):E:y}}};B.onloadingdone=y=>{for(const A of y.fontfaces)L(A)}})(global);
(q=>{const v=(r,h)=>{r.startsWith('"')&&(r=r.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return h?JSON.parse(r):r}catch(f){}},u=q.Cookie={defaults:{raw:!1,json:!1},read:(r,h)=>{h={...u.defaults,...h};const f=h.raw?e=>e:e=>decodeURIComponent(e.split("+").join(" "));h=h.json;const d=document.cookie.split("; "),l=d.length,k=r?void 0:{};for(let e=0;e<l;){var a=d[e++].split("=");const b=f(a.shift());a=f(a.join("="));if(r){if(r===b)return v(a,h)}else k[b]=v(a,h)}return k},write:(r,h,f)=>
{f={...u.defaults,...f};if("number"===typeof f.expires){const b=f.expires,g=f.expires=new Date;g.setDate(g.getDate()+b)}h=f.json?JSON.stringify(h):String(h);const {raw:d,expires:l,path:k,domain:a,samesite:e}=f;return document.cookie=[d?r:encodeURIComponent(r),"=",d?h:encodeURIComponent(h),l?"; expires="+l.toUTCString():"",k?"; path="+k:"",a?"; domain="+a:"",e?"; samesite="+e:"",f.secure?"; secure":""].join("")},remove:(r,h)=>void 0!==u.read(r,h)?(u.write(r,"",{...h,expires:-1}),!0):!1}})(myt);
(q=>{const v=console.error,u=JSON.parse,r=global.localStorage,h=r.getItem.bind(r),f=r.setItem.bind(r),d=r.removeItem.bind(r),l=r.clear.bind(r),k=(e,b,g)=>{if(0<b){const c="__timerId_"+g;(g=a[c])&&clearTimeout(g);a[c]=setTimeout(()=>{e();delete a[c]},b)}else e()},a=q.LocalStorage={hasDatum:(e,b)=>{if(e&&(b=h(b??"myt")))try{return null!=u(b)[e]}catch(g){v(g)}return!1},getDatum:(e,b)=>{if(e&&(b=h(b??"myt")))try{const g=u(b);if("object"===typeof g)return g[e]}catch(g){v(g)}},setDatum:(e,b,g,c)=>{g=g??
"myt";k(()=>{const p=a.getData(g);p[e]=b;f(g,JSON.stringify(p))},c,g+"___"+e)},removeDatum:(e,b,g)=>{b=b??"myt";k(()=>{const c=a.getData(b);delete c[e];f(b,JSON.stringify(c))},g,b+"___"+e)},hasData:e=>null!=h(e??"myt"),getData:e=>{if(e=h(e??"myt"))try{return u(e)}catch(b){v(b)}return{}},setData:(e,b,g)=>{b=b??"myt";e??={};return"object"===typeof e?(k(()=>{f(b,JSON.stringify(e))},g,b),!0):!1},removeData:(e,b)=>{e=e??"myt";k(()=>{d(e)},b,e)},getLength:()=>r.length,getKey:r.key.bind(r),getItem:h,setItem:f,
removeItem:d,clear:l,get:h,set:f,remove:d,clearAll:l}})(myt);
(q=>{const v=/(?:^|&)([^&=]*)=?([^&]*)/g,u=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;q.URI=new JS.Class("URI",{initialize:function(h,f){h&&this.parse(h,f)},setSource:function(h){this.source=h},setProtocol:function(h){this.protocol=
h},setAuthority:function(h){this.authority=h},setUserInfo:function(h){this.userInfo=h},setUser:function(h){this.user=h},setPassword:function(h){this.password=h},setHost:function(h){this.host=h},setPort:function(h){this.port=h},setRelative:function(h){this.relative=h},setPath:function(h){this.path=h},setDirectory:function(h){this.directory=h},setFile:function(h){this.file=h},setQuery:function(h){this.query=h},setAnchor:function(h){this.anchor=h},parse:function(h,f){const d=this,[l,k,a,e,b,g,c,p,w,
t,n,B,L,z]=(f?r:u).exec(h)??[];d.setSource(l??"");d.setProtocol(k??"");d.setAuthority(a??"");d.setUserInfo(e??"");d.setUser(b??"");d.setPassword(g??"");d.setHost(c??"");d.setPort(p??"");d.setRelative(w??"");d.setPath(t??"");d.setDirectory(n??"");d.setFile(B??"");d.setQuery(L??"");d.setAnchor(z??"");d.queryPairs={};d.query.replace(v,(D,J,O)=>{J&&(d.queryPairs[J]=O)})},decodeQueryParam:h=>decodeURIComponent(h).split("+").join(" "),getQuery:function(){var h=this.queryPairs;const f=[];for(const d in h)f.push(d+
"="+encodeURIComponent(this.getQueryParam(d)));h=f.join("&");return 0<h.length?"?"+h:h},getQueryParam:function(h){h=this.queryPairs[h];return null==h?void 0:this.decodeQueryParam(h)},setQueryParam:function(h,f){this.queryPairs[encodeURIComponent(h)]=encodeURIComponent(f)},removeQueryParam:function(h){delete this.queryPairs[h]},getPathParts:function(h){const f=this.path.split("/");if(!h)for(h=f.length;h;)0===f[--h].length&&f.splice(h,1);return f},toString:function(h){const f=this.path;h=h?this.query?
"?"+this.query:"":this.getQuery();const d=this.anchor;let l=this.toStringThroughPort();f?l+=f:this.host&&(h||d)&&(l+="/");h&&(l+=h);d&&(l+="#"+d);return l},toStringThroughPort:function(){const h=this.protocol,f=this.host,d=this.userInfo,l=this.port;let k="";h&&(k+=h+"://");d&&f&&(k+=d+"@");f&&(k+=f,l&&(k+=":"+l));return k}})})(myt);
(q=>{const v=Math,{PI:u,cos:r,sin:h,sqrt:f}=v,d=(a,e,b,g,c,p)=>{"object"===typeof a&&(p=c,c=g,g=b,b=e,e=a.y,a=a.x);"object"===typeof b&&(p=b.height,c=b.width,g=b.y,b=b.x);return a>=b&&e>=g&&a<=b+c&&e<=g+p},l=(a,e,b,g,c)=>{a=b-a;e=g-e;e=a*a+e*e;return c?e:f(e)},k=(a,e,b,g,c)=>{null==c&&(c=6371);a=a*u/180;b=b*u/180;return c*v.acos(h(a)*h(b)+r(a)*r(b)*r(g*u/180-e*u/180))};q.Geometry={getClosestPointOnALineToAPoint:(a,e,b,g,c,p,w)=>{b-=a;g-=e;c=(b*(c-a)+g*(p-e))/(b*b+g*g);w&&(c=v.min(1,v.max(0,c)));return{x:a+
b*c,y:e+g*c}},isPointInPath:(a,e,b,g)=>{"object"===typeof a&&(g=b,b=e,e=a.y,a=a.x);if(d(a,e,b)&&(b=g.length,6<=b)){let c=!1,p=g[0],w=g[1],t,n;for(;b;)n=g[--b],t=g[--b],n>e!==w>e&&a<(p-t)*(e-n)/(w-n)+t&&(c=!c),p=t,w=n;return c}return!1},measureDistance:l,measureLatLngDistance:k,degreesToRadians:a=>a*u/180,radiansToDegrees:a=>180*a/u,rectContainsPoint:d,circleContainsPoint:(a,e,b,g,c)=>l(a,e,b,g,!0)<=c*c,circleContainsLatLng:(a,e,b,g,c,p)=>k(a,e,b,g,p)<=c,polarToCartesian:(a,e,b,g)=>{b??=0;g??=0;e%=
360;if(0===e)e=a,a=0;else if(90===e)e=0;else if(180===e)e=-a,a=0;else if(270===e)e=0,a=-a;else{const c=e*u/180;e=a*r(c);a*=h(c)}return[b+e,g+a]},cartesianToPolar:(a,e,b,g,c)=>{b??=0;g??=0;a-=b;g=e-g;e=f(a*a+g*g);g=v.atan2(g,a);0>g&&(g+=2*u);return[e,c?g:180*g/u]}}})(myt);
(q=>{const v=JS.Module,u=console.log,r=q.dumpStack;q.Observable=new v("Observable",{attachObserver:function(h,f,d){return h&&f&&d?(this.getObservers(d).push(f,h),!0):!1},detachObserver:function(h,f,d){if(h&&f&&d){var l=this.__obsbt;if(l&&(d=l[d])){l=!1;let k=d.length;for(;2<=k;){const a=d[--k],e=d[--k];h===a&&f===e&&(d.splice(k,2),l=!0)}return l}}return!1},detachAllObservers:function(){const h=this.__obsbt;if(h)for(const f in h){const d=h[f];let l=d.length;for(;2<=l;){const k=d[--l],a=d[--l];k&&a&&
("function"===typeof k.detachFrom&&k.detachFrom(this,a,f)||d.splice(l,2))}}},getObservers:function(h){let f;return(f=this.__obsbt??(this.__obsbt={}))[h]??(f[h]=[])},hasObservers:function(h){const f=this.__obsbt;return f?0<f[h]?.length:!1},createEvent:function(h,f){return{source:this,type:h,value:f}},fireEvent:function(h,f,d){if(null==d){var l=this.__obsbt;l&&(d=l[h])}if(d){l={source:this,type:h,value:f};const k=this.__aet??(this.__aet={});if(k[h])q.global.error.notify("warn","eventLoop","Abort refiring event:"+
h,null,{observable:this,type:h,value:f});else{k[h]=!0;for(f=d.length;2<=f;){const a=d[--f],e=d[--f];if(a&&e)try{if("function"===typeof e){if(e.call(a,l))break}else if(a[e]?.(l))break}catch(b){r(b),u("Additional context",e,a)}}k[h]=!1}}}});q.Observer=new v("Observer",{valueFromEvent:h=>h&&"object"===typeof h&&h.type?h.value:h,syncTo:function(h,f,d,l,k){l??=d;try{this[f](h.createEvent(d,h.get(l)))}catch(a){r(a)}k||this.attachTo(h,f,d,k)},isAttachedTo:function(h,f,d){if(h&&f&&d){var l=this.__obt;if(l&&
(d=l[d]))for(l=d.length;2<=l;){const k=d[--l],a=d[--l];if(h===k&&f===a)return!0}}return!1},getObservables:function(h){let f;return(f=this.__obt??(this.__obt={}))[h]??(f[h]=[])},hasObservables:function(h){const f=this.__obt;return f?0<f[h]?.length:!1},attachTo:function(h,f,d,l){if(h&&f&&d){const k=this.getObservables(d);if(l){const a=this,e=f;this.__methodNameCounter??(this.__methodNameCounter=0);f="__DO_ONCE_"+this.__methodNameCounter++;this[f]=b=>{a.detachFrom(h,f,d);delete a[f];return a[e](b)}}if(h.attachObserver(this,
f,d))return k.push(f,h),!0}return!1},detachFrom:function(h,f,d){if(h&&f&&d){var l=this.__obt;if(l&&(l=l[d])){let k=!1,a=l.length;for(;2<=a;){const e=l[--a],b=l[--a];h===e&&f===b&&h.detachObserver(this,f,d)&&(l.splice(a,2),k=!0)}return k}}return!1},detachFromAllObservables:function(){var h=this.__obt;if(h)for(const [f,d]of Object.entries(h)){for(h=d.length;2<=h;){const l=d[--h],k=d[--h];l.detachObserver(this,k,f)}d.length=0}},constrain:function(h,f){if(h&&f){const l=f.length;if(0!==l%2)u("Observables uneven",
this);else{var d;const k=(d=this.__cbmn??(this.__cbmn={}))[h]??(d[h]=[]);if(0<k.length)u("Constraint exists for "+h+" on",this);else{for(d=0;d<l;){const a=f[d++],e=f[d++];a&&e&&(this.attachTo(a,h,e),k.push(a,e))}try{this[h]()}catch(a){r(a)}}}}},releaseConstraint:function(h){if(h){var f=this.__cbmn;if(f&&(f=f[h])){let d=f.length;for(;2<=d;){const l=f[d--],k=f[d--];this.detachFrom(k,h,l)}f.length=0}}},releaseAllConstraints:function(){const h=this.__cbmn;if(h)for(const f in h)this.releaseConstraint(f)}})})(myt);
(q=>{const v=console.warn,u=q.global=new JS.Singleton("Global",{include:[q.Observable],initialize:()=>{},register:(r,h)=>{u.hasOwnProperty(r)&&(v("Global key in use",r),u.unregister(r));u[r]=h;u.fireEvent("register"+r,h)},unregister:r=>{if(u.hasOwnProperty(r)){const h=u[r];delete u[r];u.fireEvent("unregister"+r,h)}else v("Global key not in use",r)}})})(myt);
(q=>{let v;new JS.Singleton("GlobalError",{include:[q.Observable],initialize:function(){v=this;v.setStackTraceLimit(50);v.setConsoleLogging(!0);q.global.register("error",v)},setConsoleLogging:u=>{v.consoleLogging=u},setStackTraceLimit:u=>{Error.stackTraceLimit=v.stackTraceLimit=u},notify:(u,r,h,f,d)=>{f??=Error(h??r);f=f.stack??f.stacktrace;v.fireEvent(r??"error",{msg:h,stacktrace:f,...d});if(v.consoleLogging&&u)console[u](f)}})})(myt);
(q=>{const v=global,u=v.getComputedStyle,r=document,h=Math.max,f=k=>{const {zIndex:a,opacity:e}=u(k);if("auto"===a){if(1===parseInt(e,10)){let b=0;k=k.childNodes;let g=k.length;for(;g;){const c=k[--g];1===c.nodeType&&(b=h(b,f(c)))}return b}return 0}return parseInt(a,10)},d=(k,a)=>{const e=[];for(;k;){e.push(k);if(k===a)break;k=k.parentNode}return e},l=q.DomElementProxy=new JS.Module("DomElementProxy",{extend:{createElement:(k,a,e)=>{k=r.createElement(k);for(const b in e)k[b]=e[b];for(const b in a)k.style[b]=
a[b];return k},isDomElementVisible:k=>{if("INPUT"!==k.nodeName||"hidden"!==k.type)for(;k;){if(k===r)return!0;const {display:a,visibility:e}=u(k);if("none"===a||"hidden"===e)break;k=k.parentNode}return!1},getZIndexRelativeToAncestor:(k,a)=>{if(k&&a)for(k=d(k,a),a=k.length-1;a;){const e=u(k[--a]),b=e.zIndex,g="auto"===b;if(0===a||!g||1!==parseInt(e.opacity,10))return g?0:parseInt(b,10)}return 0},getAncestorArray:d,getHighestZIndex:f,getRelativePosition:(k,a)=>{if(k){let e=0,b=0;for(;k&&"BODY"!==k.nodeName&&
k!==a;)if(e+=k.offsetLeft,b+=k.offsetTop,(k=k.offsetParent)&&"BODY"!==k.nodeName){const {borderLeftWidth:g,borderTopWidth:c}=u(k);e+=parseInt(g,10)-k.scrollLeft;b+=parseInt(c,10)-k.scrollTop}return{x:e,y:b}}},getTruePosition:k=>{if(k)return k=k.getBoundingClientRect(),k.left+=v.scrollX,k.top+=v.scrollY,k},simulateDomEvent:(k,a,e)=>{if(k){const b={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},g={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};if(e)for(const p in e)b[p]=e[p];let c;for(const p in g)if(g[p].test(a)){c=p;break}if(!c)throw new SyntaxError("Only supports HTMLEvent and MouseEvent interfaces");if(r.createEvent)e=r.createEvent(c),"HTMLEvents"===c?e.initEvent(a,b.bubbles,b.cancelable):e.initMouseEvent(a,b.bubbles,b.cancelable,r.defaultView,b.button,b.pointerX,b.pointerY,b.pointerX,b.pointerY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,null),k.dispatchEvent(e);
else{b.clientX=b.pointerX;b.clientY=b.pointerY;e=r.createEventObject();for(const p in b)e[p]=b[p];k.fireEvent("on"+a,e)}}},getScrollbarSize:q.memoize(()=>{const k=r.body,a=l.createElement("div",{width:"100px",height:"100px",overflow:"scroll"});k.appendChild(a);const e=a.offsetWidth-a.clientWidth;k.removeChild(a);return e})},getIDE:function(){return this.__iE},getODE:function(){return this.__oE},getIDS:function(){return this.__iS},getODS:function(){return this.__oS},setDomElement:function(k){if(Array.isArray(k)){const [a,
e]=k;this.__oE=a;this.__iE=e;this.__iS=e.style;this.__oS=a.style;e.model=a.model=this}else this.__oE=this.__iE=k,this.__iS=this.__oS=k.style,k.model=this},removeDomElement:function(){this.__oE.parentNode.removeChild(this.__oE)},disposeOfDomElement:function(){delete this.__iE.model;delete this.__iS;delete this.__iE;delete this.__oE.model;delete this.__oS;delete this.__oE},setDomClass:function(k){this.__iE.className=this.domClass=k},addDomClass:function(k){const a=this.__iE.className;this.setDomClass((a?
a+" ":"")+k)},removeDomClass:function(k){var a=this.__iE.className;if(a){a=a.split(" ");let e=a.length;for(;e;)a[--e]===k&&a.splice(e,1);this.setDomClass(a.join(" "))}},clearDomClass:function(){this.setDomClass("")},setDomId:function(k){this.__iE.id=this.domId=k},setZIndex:function(k){this.__oS.zIndex=k},setStyleProperty:function(k,a){this.__iS[k]=a},getPagePosition:function(k){return l["get"+(k?"True":"Relative")+"Position"](this.__iE)},simulateClick:function(){l.simulateDomEvent(this.__iE,"click")},
getHighestZIndex:function(){return f(this.__iE)},getHighestChildZIndex:function(k){const a=this.__iE.childNodes;let e=a.length,b=0;for(;e;){const g=a[--e];1===g.nodeType&&g!==k&&(b=h(b,f(g)))}return b},makeHighestZIndex:function(){this.setZIndex(this.parent.getHighestChildZIndex(this.__iE)+1)},scrollYTo:function(k,a){(a?this.__iE:this.__oE).scrollTop=k||0}})})(myt);
(q=>{let v;const u=h=>{for(;h.lastChild;)h=h.lastChild;return h},r=(h,f)=>{v.lastTraversalWasForward=h;let d=document.body,l=d;var k=document.activeElement;let a=l,e;const b=h?"getNextFocus":"getPrevFocus";k&&(a=l=k,(k=l.model)??(k=v.findModelForDomElement(l)),k&&(f=k.getFocusTrap(f))&&(d=f.getIDE()));for(;a;){if(a.model&&a.model[b]&&(e=a.model[b]()))a=e.getIDE();else if(h)if(a.firstChild)a=a.firstChild;else{if(a===d)return l.model;if(a.nextSibling)a=a.nextSibling;else for(;a&&(a=a.parentNode,a!==
d);)if(a.nextSibling){a=a.nextSibling;break}}else a=a===d?u(d):a.previousSibling?u(a.previousSibling):a.parentNode;if(a===l)return l.model;if(1===a.nodeType)if((k=a.model)&&k instanceof q.View){if(k.isFocusable())return k}else if(f=a.nodeName,!("A"!==f&&"AREA"!==f&&"INPUT"!==f&&"TEXTAREA"!==f&&"SELECT"!==f&&"BUTTON"!==f||a.disabled||isNaN(a.tabIndex))&&q.DomElementProxy.isDomElementVisible(a)&&(k=v.findModelForDomElement(a),!k?.searchAncestorsOrSelf(g=>!0===g.maskFocus))){a.focus();v.focusedDom=a;
break}}};new JS.Singleton("GlobalFocus",{include:[q.Observable],initialize:function(){v=this;v.lastTraversalWasForward=!0;q.global.register("focus",v)},setFocusedView:h=>{if(v.focusedView!==h){v.prevFocusedView=v.focusedView;if(v.focusedView=h)v.focusedDom=null;v.fireEvent("focused",h)}},notifyFocus:h=>{v.focusedView!==h&&v.setFocusedView(h)},notifyBlur:h=>{v.focusedView===h&&v.setFocusedView(null)},clear:()=>{v.focusedView?v.focusedView.blur():v.focusedDom&&(v.focusedDom.blur(),v.focusedDom=null)},
next:h=>{r(!0,h)?.focus()},prev:h=>{r(!1,h)?.focus()},findModelForDomElement:h=>{for(;h;){let f=h.model;if(f&&f instanceof q.View)return f;h=h.parentNode}}})})(myt);
(q=>{const v=JS.Module,u=q.global,r=u.focus,h=()=>({source:null,type:null,value:null}),f=c=>{c=c.value??c;return(c.target??c.srcElement).model},d=q.KeyObservable=new v("KeyObservable",{extend:{EVENT_TYPES:{keypress:!0,keydown:!0,keyup:!0},EVENT:h(),getKeyFromEvent:c=>c.value.key,getCodeFromEvent:c=>c.value.code,isEnterKeyEvent:c=>c.value.code===u.keys.CODE_ENTER,isEscKeyEvent:c=>c.value.code===u.keys.CODE_ESC,isShiftKeyEvent:c=>u.keys.isShiftCode(c.value.code)},createDomHandler:function(c,p,w){return this.createStandardDomHandler(c,
p,w,d)??this.callSuper(c,p,w)}}),l=q.MouseObservable=new v("MouseObservable",{extend:{EVENT_TYPES:{mouseover:!0,mouseout:!0,mousedown:!0,mouseup:!0,click:!0,dblclick:!0,mousemove:!0,contextmenu:!0,wheel:!0},EVENT:h(),getMouseFromEvent:c=>({x:c.value.pageX,y:c.value.pageY}),getMouseFromEventRelativeToView:(c,p)=>{p=p.getPagePosition();c=l.getMouseFromEvent(c);c.x-=p.x;c.y-=p.y;return c}},createDomHandler:function(c,p,w){return this.createStandardDomHandler(c,p,w,l,!0)??this.callSuper(c,p,w)}}),k=q.ScrollObservable=
new v("ScrollObservable",{extend:{EVENT_TYPES:{scroll:!0},EVENT:h(),getScrollFromEvent:c=>{const {scrollLeft:p,scrollTop:w}=f(c)?.getIDE();return{x:p,y:w}}},createDomHandler:function(c,p,w){return this.createStandardDomHandler(c,p,w,k)??this.callSuper(c,p,w)}}),a=q.TouchObservable=new v("TouchObservable",{extend:{EVENT_TYPES:{touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0},EVENT:h()},createDomHandler:function(c,p,w){return this.createStandardDomHandler(c,p,w,a,!1)??this.callSuper(c,p,w)}}),
e=q.FocusObservable=new v("FocusObservable",{extend:{EVENT_TYPES:{focus:!0,blur:!0},EVENT:h()},initNode:function(c,p){this.focusable=!1;this.focusIndicator=!0;this.callSuper(c,p)},destroy:function(){this.giveAwayFocus();this.callSuper()},setFocused:function(c){this.focused!==c&&(this.focused=c,this.inited&&(this.fireEvent("focused",c),c?r.notifyFocus(this):r.notifyBlur(this)))},setFocusable:function(c){if(this.focusable!==c){const p=this.focusable;(this.focusable=c)?(this.getIDE().tabIndex=0,this.attachToDom(this,
"__doFocus","focus"),this.attachToDom(this,"__doBlur","blur")):p&&(this.getIDE().removeAttribute("tabIndex"),this.detachFromDom(this,"__doFocus","focus"),this.detachFromDom(this,"__doBlur","blur"));this.inited&&this.fireEvent("focusable",c)}},setFocusIndicator:function(c){this.focusIndicator!==c&&(this.focusIndicator=c,this.focused&&(c?this.showFocusIndicator():this.hideFocusIndicator()))},giveAwayFocus:function(){this.focused&&(r.next(),this.focused&&this.blur())},isFocusable:function(){return this.focusable&&
!this.disabled&&this.isVisible()&&null==this.searchAncestorsOrSelf(c=>!0===c.maskFocus)},focus:function(c){this.isFocusable()&&this.getIDE().focus({preventScroll:c})},blur:function(){this.getIDE().blur()},__doFocus:function(c){this.focused||this.setFocused(!0);this.doFocus()},__doBlur:function(c){this.doBlur();this.focused&&this.setFocused(!1)},doFocus:function(){this.focusIndicator?this.showFocusIndicator():this.hideFocusIndicator()},doBlur:function(){this.focusIndicator&&this.hideFocusIndicator()},
showFocusIndicator:function(){this.getIDE().hideFocus=!1;const c=this.getIDS();c.outlineWidth="thin";c.outlineColor="#8bf";c.outlineStyle="solid";c.outlineOffset="0px"},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideDefaultFocusIndicator:function(){this.getIDE().hideFocus=!0;this.getIDS().outlineStyle="none"},createDomHandler:function(c,p,w){if(e.EVENT_TYPES[w]){const t=this;return n=>{n??=window.event;if(t._ignoreFocus)n.cancelBubble=!0,n.stopPropagation?.(),n.preventDefault();
else{var B=e.EVENT;B.source=t;B.type=n.type;B.value=n;c[p](B)||(n.cancelBubble=!0,n.stopPropagation?.());B.source=void 0}}}return this.callSuper(c,p,w)}}),b=q.InputObservable=new v("InputObservable",{extend:{EVENT_TYPES:{input:!0,select:!0,change:!0,paste:!0},EVENT:h()},createDomHandler:function(c,p,w){return this.createStandardDomHandler(c,p,w,b)??this.callSuper(c,p,w)}}),g=q.DragDropObservable=new v("DragDropObservable",{extend:{EVENT_TYPES:{dragleave:!0,dragenter:!0,dragover:!0,drop:!0},EVENT:h()},
createDomHandler:function(c,p,w){return this.createStandardDomHandler(c,p,w,g,!0)??this.callSuper(c,p,w)}});q.DomObservable=new v("DomObservable",{attachDomObserver:function(c,p,w,t,n){if(c&&p&&w){const B=this.createDomHandler(c,p,w);if(B){t=!!t;const L=this.__dobsbt??(this.__dobsbt={}),z=L[w];z?z.push(c,p,B,t):L[w]=[c,p,B,t];q.addEventListener(this.getDomElementForDomObservable(w),w,B,t,n);return!0}}return!1},getDomElementForDomObservable:function(c){return this.getIDE()},createDomHandler:(c,p,w)=>
null,createStandardDomHandler:function(c,p,w,t,n){if(t.EVENT_TYPES[w]){const B=this,L=t.EVENT;return z=>{z??=window.event;L.source=B;L.type=z.type;L.value=z;c[p](L)||(z.cancelBubble=!0,z.stopPropagation?.(),n&&z.preventDefault());L.source=void 0}}},detachDomObserver:function(c,p,w,t){if(c&&p&&w){var n=this.__dobsbt;if(n&&(n=n[w])){t=!!t;const B=this.getDomElementForDomObservable(w);let L=!1,z=n.length;for(;4<=z;){const D=n[--z],J=n[--z],O=n[--z],Q=n[--z];c===Q&&p===O&&t===D&&(B&&q.removeEventListener(B,
w,J,t),n.splice(z,4),L=!0)}return L}}return!1},detachAllDomObservers:function(){var c=this.__dobsbt;if(c)for(const [p,w]of Object.entries(c)){for(c=w.length+2;4<=c;){const t=w[c-=3],n=w[--c];q.removeEventListener(this.getDomElementForDomObservable(p),p,n,t)}w.length=0}}});q.DomObserver=new v("DomObserver",{extend:{getSourceViewFromEvent:f},attachToDom:function(c,p,w,t,n){if(c&&p&&w){t=!!t;let B;const L=(B=this.__dobt??(this.__dobt={}))[w]??(B[w]=[]);c.attachDomObserver(this,p,w,t,n)&&L.push(t,p,c)}},
detachFromDom:function(c,p,w,t){if(c&&p&&w){var n=this.__dobt;if(n&&(n=n[w])){t=!!t;let B=!1,L=n.length;for(;3<=L;){const z=n[--L],D=n[--L],J=n[--L];c===z&&p===D&&t===J&&c.detachDomObserver(this,p,w,t)&&(n.splice(L,3),B=!0)}return B}}return!1},detachFromAllDomSources:function(){var c=this.__dobt;if(c)for(const [p,w]of Object.entries(c)){for(c=w.length;3<=c;){const t=w[--c],n=w[--c],B=w[--c];t.detachDomObserver(this,n,p,B)}w.length=0}}})})(myt);
(q=>{let v;const {KeyObservable:u,global:r}=q,h=r.focus,f=u.getCodeFromEvent,d=new Set,l="Firefox"===BrowserDetect.browser,k=l?"OSLeft":"MetaLeft",a=l?"OSRight":"MetaRight",e=()=>d.has("ShiftLeft")||d.has("ShiftRight"),b=()=>d.has("ControlLeft")||d.has("ControlRight"),g=()=>d.has("AltLeft")||d.has("AltRight"),c=()=>d.has(k)||d.has(a),p=(t,n)=>{switch(t){case "Backspace":return t=n.nodeName,!("TEXTAREA"===t||"INPUT"===t&&("text"===n.type||"number"===n.type||"password"===n.type)||"DIV"===t&&"true"===
n.contentEditable&&n.firstChild);case "Tab":return!0}return!1},w=(t,n)=>{for(const B of["keydown","keypress","keyup"])v[n](t,"__hndl_"+B,B)};new JS.Singleton("GlobalKeys",{include:[q.DomElementProxy,q.DomObservable,q.DomObserver,u,q.Observable,q.Observer],initialize:function(){r.register("keys",v=this);v.CODE_ENTER="Enter";v.CODE_ESC="Escape";v.CODE_SPACE="Space";v.CODE_ARROW_LEFT="ArrowLeft";v.CODE_ARROW_UP="ArrowUp";v.CODE_ARROW_RIGHT="ArrowRight";v.CODE_ARROW_DOWN="ArrowDown";v.CODE_DELETE="Delete";
v.CODE_BACKSPACE="Backspace";for(const t of"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""))v["CODE_"+t]="Key"+t;for(const t of"1234567890".split(""))v["CODE_"+t]="Digit"+t;v.ARROW_KEYS=[v.CODE_ARROW_LEFT,v.CODE_ARROW_UP,v.CODE_ARROW_RIGHT,v.CODE_ARROW_DOWN];v.LIST_KEYS=[v.CODE_ENTER,v.CODE_SPACE,v.CODE_ESC,...v.ARROW_KEYS];v.setDomElement(document);v.attachTo(h,"__hndl_focused","focused");w(v,"attachToDom");global.onblur=()=>{d.clear()}},isShiftKeyDown:e,isControlKeyDown:b,isAltKeyDown:g,isMetaKeyDown:c,isShiftCode:t=>
"ShiftLeft"===t||"ShiftRight"===t,isControlCode:t=>"ControlLeft"===t||"ControlRight"===t,isAltCode:t=>"AltLeft"===t||"AltRight"===t,isAcceleratorKeyDown:()=>"Mac"===BrowserDetect.os?c():b(),ignoreFocusTrap:()=>g(),__hndl_focused:t=>{(t=t.value)?(w(v,"detachFromDom"),w(t,"attachToDom")):((t=h.prevFocusedView)&&w(t,"detachFromDom"),w(v,"attachToDom"))},__hndl_keydown:t=>{const n=f(t);t=t.value;p(n,t.target)&&t.preventDefault();c()&&"ShiftLeft"!==n&&"ShiftRight"!==n&&"ControlLeft"!==n&&"ControlRight"!==
n&&"AltLeft"!==n&&"AltRight"!==n?(v.fireEvent("keydown",n),v.fireEvent("keyup",n)):(d.add(n),"Tab"===n&&(t=g(),e()?h.prev(t):h.next(t)),v.fireEvent("keydown",n))},__hndl_keypress:t=>{v.fireEvent("keypress",f(t))},__hndl_keyup:t=>{const n=f(t);t=t.value;p(n,t.target)&&t.preventDefault();d.delete(n);v.fireEvent("keyup",n)}})})(myt);
(q=>{const v=JS.Module,u=Math.max,r=(a,e,b,g,c=0)=>{const p=a.length;for(let w=b;c<p;c++)l(a[c],e,w),g&&(w+=b)},h=(a,e,b,g=0)=>{const c=a.length;for(let p=e;g<c;)a[g++].crossPos+=p,b&&(p+=e)},f=(a,e,b,g)=>{var c=a[e?"setWidthViaFlex":"setHeightViaFlex"];e=g?e?a.getFlexBasisWidth():a.getFlexBasisHeight():0;c.call(a,e+b)},d=(a,e,b)=>{a[e?"setXViaFlex":"setYViaFlex"](b,!1)},l=(a,e,b)=>{a[e?"setXViaFlex":"setYViaFlex"](b,!0)},k=(a,e,b)=>{a[e]!==b&&(a[e]=b,a.inited&&a.fireEvent(e,b),a.updateFlexboxLayout())};
q.FlexboxSupport=new v("FlexboxSupport",{initNode:function(a,e){this.__IS_FLEXBOX_SUPPORT=!0;this.rowGap=this.columnGap=0;this.direction??(this.direction="row");this.wrap="nowrap";this.justifyContent=this.alignContent="start";this.alignItems="stretch";this.callSuper(a,e);this.updateFlexboxLayout()},setWidth:function(a){const e=this.width;this.callSuper(a);e!==this.width&&this.updateFlexboxLayout()},setHeight:function(a){const e=this.height;this.callSuper(a);e!==this.height&&this.updateFlexboxLayout()},
setDirection:function(a){k(this,"direction",a)},setWrap:function(a){k(this,"wrap",a)},setJustifyContent:function(a){k(this,"justifyContent",a)},setAlignItems:function(a){k(this,"alignItems",a)},setAlignContent:function(a){k(this,"alignContent",a)},setRowGap:function(a){k(this,"rowGap",u(0,a))},setColumnGap:function(a){k(this,"columnGap",u(0,a))},getWidthForFlexboxLayout:function(){return this.width},getHeightForFlexboxLayout:function(){return this.height},setTotalBasisWidth:function(a){this.set("totalBasisWidth",
a,!0)},setTotalBasisHeight:function(a){this.set("totalBasisHeight",a,!0)},ignoreSubviewForFlex:function(a){return a&&"function"===typeof a.ignoreFlex?a.ignoreFlex():!0},setFlexboxPaused:function(a,e){this.__flexboxPaused!==a&&((this.__flexboxPaused=a)||e||this.updateFlexboxLayout())},isFlexboxPaused:function(){return!!this.__flexboxPaused},subviewAdded:function(a){this.callSuper(a);a&&!this.ignoreSubviewForFlex(a)&&this.updateFlexboxLayout()},subviewRemoved:function(a){this.callSuper(a);!a||this.ignoreSubviewForFlex(a)||
this.isBeingDestroyed||this.updateFlexboxLayout()},doSubviewsReorderedInDom:function(a){this.callSuper(a);a&&this.ignoreSubviewForFlex(a)||this.updateFlexboxLayout()},isOKToUpdateLayout:function(){return this.inited&&!this.__isUpdatingFlexboxLayout&&!this.isFlexboxPaused()},isCompactWidth:()=>!1,isCompactHeight:()=>!1,isCompactOnMainAxis:function(a){return a?this.isCompactWidth():this.isCompactHeight()},isCompactOnCrossAxis:function(a){return a?this.isCompactHeight():this.isCompactWidth()},isWrapNotAllowed:function(){return"nowrap"===
this.wrap},setUpdateAgain:function(a){this._updateAgain=a},isUpdateAgain:function(){return this._updateAgain},updateFlexboxLayout:function(){const a=this;if(a.isOKToUpdateLayout()){var e=a.getSubviewsInLexicalOrder().filter(z=>!0!==a.ignoreSubviewForFlex(z)&&!0===z.visible);const L=e.length;if(0<L){a.__isUpdatingFlexboxLayout=!0;var b=a.direction;const z=b.startsWith("row"),D=!z;var g=a.getWidthForFlexboxLayout(),c=a.getHeightForFlexboxLayout();const J=z?a.columnGap:a.rowGap,O=z?g:c;var p=z?a.rowGap:
a.columnGap;const Q=z?c:g,m=a.isWrapNotAllowed();g=a.justifyContent;c=a.alignItems;var w=m?"stretch":a.alignContent;b.endsWith("Reverse")&&e.reverse();let x=0,C=0,K=0,y=0,A={items:[],shrinkCount:0,shrinkBasis:0,growCount:0,extraSize:0,crossPos:K,crossSize:0};b=[A];for(let E=0;E<L;){const G=e[E++],M=z?G.getFlexBasisWidth():G.getFlexBasisHeight(),N=G.getShrink(),P=G.getGrow();!m&&0<A.items.length&&x+(0===y?0:J)+M>O&&(A.extraSize=O-x,K+=A.crossSize+p,C=u(C,x),y=x=0,A={items:[],shrinkCount:0,shrinkBasis:0,
growCount:0,extraSize:0,crossPos:K,crossSize:0},b.push(A));0!==y&&(x+=J);0<N&&0<M&&(A.shrinkCount+=N,A.shrinkBasis+=M*N);0<P&&(A.growCount+=P);A.crossSize=u(A.crossSize,D?G.getFlexBasisWidth():G.getFlexBasisHeight());d(G,z,x);f(G,z,M);x+=M;A.items.push(G);y++}A.extraSize=O-x;K+=A.crossSize;C=u(C,x);if(a.isCompactOnMainAxis(z)&&(e=b.reduce((E,G)=>null==E?G.extraSize:Math.min(E,G.extraSize),null),0!==e))for(var t of b)t.extraSize-=e;a[z?"setTotalBasisWidth":"setTotalBasisHeight"](C);a[z?"setTotalBasisHeight":
"setTotalBasisWidth"](K);t=b.length;if(1<t&&"wrapReverse"===a.wrap){for(var n of b)n.crossPos=K-(n.crossPos+n.crossSize);b.reverse()}if(!a.isCompactOnCrossAxis(z))switch(n=Q-K,w){default:case "start":break;case "end":h(b,n,!1);break;case "center":h(b,n/2,!1);break;case "spaceBetween":1<t&&h(b,n/(t-1),!0,1);break;case "spaceAround":n<=p?h(b,n/2,!1):(h(b,p/2,!1),n-=p,h(b,n/(2*t),!0),h(b,n/(2*t),!0,1));break;case "spaceEvenly":n<=2*p?h(b,n/2,!1):(h(b,p,!1),h(b,(n-2*p)/(t+1),!0));break;case "stretch":p=
n/t;n=0;for(var B of b)B.crossSize+=p,B.crossPos+=n,n+=p}for(const E of b){B=E.items;p=E.extraSize;if(0<p)if(0<E.growCount){p/=E.growCount;b=0;for(const N of B)0<b&&l(N,z,b),n=N.getGrow()*p,0<n&&(f(N,z,n,!0),b+=n)}else switch(b=B.length,g){default:case "start":break;case "end":r(B,z,p,!1);break;case "center":r(B,z,p/2,!1);break;case "spaceBetween":1<b&&r(B,z,p/(b-1),!0,1);break;case "spaceAround":p<=J?r(B,z,p/2,!1):(r(B,z,J/2,!1),p-=J,r(B,z,p/(2*b),!0),r(B,z,p/(2*b),!0,1));break;case "spaceEvenly":p<=
2*J?r(B,z,p/2,!1):(r(B,z,J,!1),p-=2*J,r(B,z,p/(b+1),!0))}else if(0>p&&0<E.shrinkCount){b=E.shrinkBasis;n=0;for(const N of B)0>n&&l(N,z,n),w=N.getShrink()*(z?N.getFlexBasisWidth():N.getFlexBasisHeight())/b*u(p,-b),0>w&&(f(N,z,w,!0),n+=w)}p=!1;const {crossSize:G,crossPos:M}=E;for(const N of B)switch(N.getAlignSelf()||c){case "start":d(N,D,M);f(N,D,D?N.getFlexBasisWidth():N.getFlexBasisHeight(),!1);break;case "end":d(N,D,M+G-(D?N.getFlexBasisWidth():N.getFlexBasisHeight()));f(N,D,D?N.getFlexBasisWidth():
N.getFlexBasisHeight(),!1);break;case "center":d(N,D,M+(G-(D?N.getFlexBasisWidth():N.getFlexBasisHeight()))/2);f(N,D,D?N.getFlexBasisWidth():N.getFlexBasisHeight(),!1);break;case "baseline":p=!0;d(N,D,M+(G-(D?N.getFlexBasisWidth():N.getFlexBasisHeight()))/2+N.getFlexBaselineOffset(z));f(N,D,D?N.getFlexBasisWidth():N.getFlexBasisHeight(),!1);break;default:d(N,D,M),f(N,D,G,!1)}p&&a.updateFlexboxLayoutBaselineAdjustment(B,z,M)}a.__isUpdatingFlexboxLayout=!1;a.isUpdateAgain()&&!a.__UPDATE_AGAIN_LOOP_PROTECTION&&
(a.setUpdateAgain(!1),a.__UPDATE_AGAIN_LOOP_PROTECTION=!0,a.updateFlexboxLayout(),a.__UPDATE_AGAIN_LOOP_PROTECTION=!1)}else a.setTotalBasisWidth(0),a.setTotalBasisHeight(0)}},updateFlexboxLayoutBaselineAdjustment:(a,e,b)=>{}});q.FlexboxChildSupport=new v("FlexboxChildSupport",{setVisible:function(a){this.visible!==a&&(this.callSuper(a),this.updateFlexboxLayoutFromChild())},setXViaFlex(a,e){e&&(a+=this.x);this.x!==a&&(this.__isFlexUpdate=!0,this.setX(a),this.__isFlexUpdate=!1)},setYViaFlex(a,e){e&&
(a+=this.y);this.y!==a&&(this.__isFlexUpdate=!0,this.setY(a),this.__isFlexUpdate=!1)},setWidth:function(a){const e=this.width!==a;e&&!this.__isFlexUpdate&&(this.__basisWidth=null);this.callSuper(a);e&&this.updateFlexboxLayoutFromChild()},setWidthViaFlex(a){this.width!==a&&(this.__basisWidth??(this.__basisWidth=this.width),this.__isFlexUpdate=!0,this.setWidth(a),this.__isFlexUpdate=!1)},getFlexBasisWidth:function(){return this.__basisWidth??this.width},setHeight:function(a){const e=this.height!==a;
e&&!this.__isFlexUpdate&&(this.__basisHeight=null);this.callSuper(a);e&&this.updateFlexboxLayoutFromChild()},setHeightViaFlex(a){this.height!==a&&(this.__basisHeight??(this.__basisHeight=this.height),this.__isFlexUpdate=!0,this.setHeight(a),this.__isFlexUpdate=!1)},getFlexBasisHeight:function(){return this.__basisHeight??this.height},getFlexBaselineOffset:a=>0,setIgnoreFlex:function(a){this.__ignoreFlex!==a&&(this.__ignoreFlex=a,this.inited&&(this.fireEvent("ignoreFlex",a),this.isChildOfFlexbox()&&
this.parent.updateFlexboxLayout()))},ignoreFlex:function(){return this.__ignoreFlex},setGrow:function(a){a=u(0,a);this.grow!==a&&(this.grow=a,this.inited&&(this.fireEvent("grow",a),this.updateFlexboxLayoutFromChild()))},getGrow:function(){return this.grow},setShrink:function(a){a=u(0,a);this.shrink!==a&&(this.shrink=a,this.inited&&(this.fireEvent("shrink",a),this.updateFlexboxLayoutFromChild()))},getShrink:function(){return this.shrink},setAlignSelf:function(a){this.alignSelf!==a&&(this.alignSelf=
a,this.inited&&(this.fireEvent("alignSelf",a),this.updateFlexboxLayoutFromChild()))},getAlignSelf:function(){const a=this.alignSelf;return"auto"===a||""===a?null:a},isChildOfFlexbox:function(){return!(!this.parent||!this.parent.__IS_FLEXBOX_SUPPORT)},isFlexUpdateInProgress:function(){return this.__isFlexUpdate},updateFlexboxLayoutFromChild:function(){this.inited&&!this.ignoreFlex()&&this.isChildOfFlexbox()&&(this.isFlexUpdateInProgress()?this.parent.setUpdateAgain(!0):this.parent.updateFlexboxLayout())}})})(myt);
(q=>{const v=console.log,u=new Map,r=new Map,h=(e,b)=>b+(e[0]??"").toUpperCase()+e.slice(1),f=e=>r.get(e)??(r.set(e,h(e,"set")),r.get(e)),d=e=>u.get(e)??(u.set(e,h(e,"get")),u.get(e)),l=(e,b)=>{let g;for(const c in b){const p=b[c],w=f(c);if(w in e)e[w](p);else e[c]!==p&&(e[c]=p,(g??=!1!==e.inited&&e.fireEvent)&&e.fireEvent(c,p))}},k=(e,b)=>{const g=d(b);e[g]&&v("Overwriting getter",g);e[g]=function(){return this[b]}},a=(e,b)=>{const g=f(b);e[g]&&v("Overwriting setter",g);e[g]=function(c){this[b]!==
c&&(this[b]=c,this.inited&&this.fireEvent(b,c))}};q.AccessorSupport=new JS.Module("AccessorSupport",{extend:{generateSetterName:f,generateGetterName:d,generateName:h,createSetterFunction:a,createGetterFunction:k,createSetterMixin:(e,b)=>{const g={};for(const c of e)a(g,c),b&&k(g,c);return g}},appendToEarlyAttrs:function(){(this.earlyAttrs??(this.earlyAttrs=[])).push(...arguments)},prependToEarlyAttrs:function(){(this.earlyAttrs??(this.earlyAttrs=[])).unshift(...arguments)},appendToLateAttrs:function(){(this.lateAttrs??
(this.lateAttrs=[])).push(...arguments)},prependToLateAttrs:function(){(this.lateAttrs??(this.lateAttrs=[])).unshift(...arguments)},quickSet:function(e,b){if(e)for(const g of e)this[g]=b[g],delete b[g]},callSetters:function(e){var b=this.earlyAttrs,g=this.lateAttrs;if(b||g){e={...e};if(b){var c=b.length;for(var p=0;p<c;){const t=b[p++];t in e&&(this.set(t,e[t]),delete e[t])}}let w;if(g)for(w=[],b=g.length,c=0;c<b;)p=g[c++],p in e&&(w.push(p,e[p]),delete e[p]);l(this,e);if(w)for(g=w.length,e=0;e<g;)this.set(w[e++],
w[e++])}else l(this,e)},get:function(e){const b=d(e);return"function"===typeof this[b]?this[b]():this[e]},set:function(e,b,g){if(!g&&(g=f(e),"function"===typeof this[g]))return this[g](b);this[e]!==b&&(this[e]=b,!1!==this.inited&&this?.fireEvent(e,b))}})})(myt);
myt.Destructible=new JS.Module("Destructible",{destroy:function(){if(this.destroyed)console.warn("Already destroyed");else{const q=this.__meta__;if(q)for(const v of Object.keys(q))q[v]=null;for(const v of Object.keys(this))this[v]=null;this.destroyed=!0}}});
(q=>{const {Class:v,Module:u}=JS,r=console.warn;let h;const f=(g,c)=>c?(h=g).__op??(h.__op=[]):g.__op;let d;const l=(g,c)=>c?(d=g).__actives??(d.__actives=[]):g.__actives,k=new v("AbstractPool",{include:[q.Destructible],initialize:()=>{},destroy:function(){const g=f(this);g&&(g.length=0);this.callSuper()},getInstance:function(){const g=f(this,!0);return g.length?g.pop():this.createInstance.apply(this,arguments)},createInstance:()=>null,putInstance:function(g){f(this,!0).push(this.cleanInstance(g))},
cleanInstance:g=>{"function"===typeof g.clean&&g.clean();return g},destroyPooledInstances:function(){var g=f(this);if(g){let c=g.length;for(;c;){const p=g[--c];"function"===typeof p.destroy&&p.destroy()}g.length=0}}}),a=q.SimplePool=new v("SimplePool",k,{initialize:function(g,c){this.callSuper();this.instanceClass=g??Object;this.instanceParent=c},createInstance:function(g){var c=this.instanceParent,p=this.instanceClass;return c?new p(c,g):new p}}),e=new u("TrackActives",{destroy:function(){const g=
l(this);g&&(g.length=0);this.callSuper()},getInstance:function(){const g=this.callSuper();l(this,!0).push(g);return g},putInstance:function(g){var c=l(this);if(c){const p=c.indexOf(g);if(-1<p){c.splice(p,1);this.callSuper(g);return}c="inactive"}else c="missing";r("Tried to put a "+c+" instance",g,this)},getActives:function(g){const c=l(this);if(c){if(g){const p=[],w=c.length;for(let t=0;w>t;){const n=c[t++];g.call(this,n)&&p.push(n)}return p}return c.slice()}return[]},putActives:function(){const g=
l(this);if(g){let c=g.length;for(;c;)this.putInstance(g[--c])}}}),b=q.TrackActivesPool=new v("TrackActivesPool",a,{include:[e]});q.TrackActivesMultiPool=new v("TrackActivesMultiPool",k,{initialize:function(g,c){this.callSuper();this.instanceClassesByKey=g;const p=this._poolsByClassName={},w=this.__pbk={};for(const t in g){const n=g[t];w[t]=p[n.__displayName]=new b(n,c)}},destroy:function(){const g=this.__pbk;for(const c in g)g[c].destroy();this.callSuper()},getInstance:function(){const g=arguments[0],
c=this.__pbk[g];if(c)return c.getInstance(arguments);r("No pool for key",g)},putInstance:function(g){const c=this._poolsByClassName[g.klass.__displayName];c?c.putInstance(g):r("No pool for obj",g)},destroyPooledInstances:function(){const g=this.__pbk;for(const c in g)g[c].destroyPooledInstances()},getActives:function(g){let c=[];const p=this.__pbk;for(const w in p)c.push(...p[w].getActives(g));return c},putActives:function(){const g=this.__pbk;for(const c in g)g[c].putActives()}});q.Reusable=new u("Reusable",
{clean:()=>{}})})(myt);
(q=>{const v=JS.Class,u=console.warn,r=[q.AccessorSupport,q.Destructible,q.Observable,q.Observer],h=(b,g)=>{if(g){const c=g.length;for(let p=0,w;c>p;)(w=g[p++])?b.extend(w):u("Missing mixin in",b.klass.__displayName)}b.inited=!1},f=(b,g)=>{if(g)for(;b;){if(g(b))return b;b=b.parent}},d=(b,g)=>{const c=g.name;void 0===b[c]?b[c]=g:u("Name in use",c)},l=(b,g)=>{const c=g.name;b[c]===g?delete b[c]:u("Name not in use",c)};let k;const a=b=>(k=b).__animPool??(k.__animPool=new q.TrackActivesPool(q.Animator,b));
let e;q.Eventable=new v("Eventable",{include:r,initialize:function(b,g){h(this,g);this.init(b??{})},init:function(b){this.callSetters(b);this.inited=!0},destroy:function(){this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.callSuper()}});q.Node=new v("Node",{include:r,extend:{getMatchingAncestorOrSelf:f,getMatchingAncestor:(b,g)=>f(b?b.parent:null,g),DEFAULT_PLACEMENT:"*"},initialize:function(b,g,c){h(this,c);this.initNode(b,g??{})},initNode:function(b,g){this.callSetters(g);
this.setParent(b);this.inited=!0},destroy:function(){const b=this.subnodes;this.isBeingDestroyed=!0;if(b)for(let g=b.length;0<g;)b[--g].destroy();this.__animPool&&(this.stopActiveAnimators(),this.__animPool.destroy());this.parent&&this.setParent();this.releaseAllConstraints();this.detachFromAllObservables();this.detachAllObservers();this.destroyAfterOrphaning();this.callSuper()},destroyAfterOrphaning:()=>{},setPlacement:function(b){this.placement=b},setDefaultPlacement:function(b){this.defaultPlacement=
b},setIgnorePlacement:function(b){this.ignorePlacement=b},setParent:function(b){if(b&&!this.ignorePlacement){var g=this.placement??b.defaultPlacement;g&&(b=b.determinePlacement(g,this))}if(this.parent!==b&&!b?.destroyed){if(g=this.parent){const c=g.getSubnodes().indexOf(this);-1<c&&(this.name&&l(g,this),g.subnodes.splice(c,1),g.subnodeRemoved(this))}if(this.parent=b)b.getSubnodes().push(this),this.name&&d(b,this),b.subnodeAdded(this);this.inited&&this.fireEvent("parent",b)}},setName:function(b){if(this.name!==
b){const g=this.parent;g&&this.name&&l(g,this);this.name=b;g&&b&&d(g,this)}},determinePlacement:function(b,g){let c=b.indexOf("."),p;0<=c&&(p=b.slice(c+1),b=b.slice(0,c));"*"===b&&(b=this.defaultPlacement)&&(c=b.indexOf("."),0<=c&&(p=b.slice(c+1)+(p?"."+p:""),b=b.slice(0,c)));return(b=this[b])?p?b.determinePlacement(p,g):b:this},getRoot:function(){return this.parent?.getRoot()??this},isRoot:function(){return null==this.parent},isDescendantOf:function(b){if(b){if(b===this)return!0;if(this.parent)return this.getIDE&&
b.getIDE?b.getIDE().contains(this.getIDE()):this.parent.isDescendantOf(b)}return!1},isAncestorOf:function(b){return b?b.isDescendantOf(this):!1},getLeastCommonAncestor:function(b){for(;b;){if(this.isDescendantOf(b))return b;b=b.parent}},searchAncestorsForClass:function(b){if(b)return this.searchAncestors(g=>g instanceof b)},searchAncestorsForModule:function(b){if(b)return this.searchAncestors(g=>g.isA(b))},searchAncestors:function(b){return f(this?this.parent:null,b)},searchAncestorsOrSelf:function(b){return f(this,
b)},getAncestors:function(){const b=[];let g=this;for(;g;)b.push(g),g=g.parent;return b},getSubnodes:function(){return this.subnodes??(this.subnodes=[])},subnodeAdded:b=>{},subnodeRemoved:b=>{},animate:function(b){if(b){const g=a(this),c=g.getInstance({ignorePlacement:!0}),p=b.callback;delete b.callback;c.callSetters(b);c.next(w=>{g.putInstance(c)});p&&c.next(p);c.setRunning(!0);return c}},getActiveAnimators:function(b){if("string"===typeof b){const g=b;b=c=>c.attribute===g}return a(this).getActives(b)},
stopActiveAnimators:function(b,g=!1){b=this.getActiveAnimators(b);let c=b.length;if(0<c){const p=a(this);for(;c;){const w=b[--c];w.reset(g);g||p.putInstance(w)}}},doOnceOnIdle:function(b){this.attachTo(q.global.idle,b,"idle",!0)},addRef:function(b,g){return((e=this).__REFS??(e.__REFS={}))[b]=g},getRef:function(b){return((e=this).__REFS??(e.__REFS={}))[b]},removeRef:function(b){const g=(e=this).__REFS??(e.__REFS={}),c=g[b];delete g[b];return c}})})(myt);
(q=>{let v=0,u=!1;const r=JS.Class,h=[],f=b=>{if(u!==b&&(u=b,!b)){for(b=h.length;b;){const g=h[--b];g.__deferredLayout=!1;g.update()}h.length=0}},d=(b,g,c,p)=>{const w=b.getSubviewIndex(g),t=b.subviews;-1<w&&(b=b.getSubviewIndex(c),t.splice(w,1),-1<b?(w<b&&--b,t.splice(b+(p?1:0),0,g)):p?t.push(g):t.unshift(g))},l=(b,g,c)=>{b[g]!==c&&(b[g]=c,b.inited&&(b.fireEvent(g,c),b.update()))},k=q.Layout=new r("Layout",q.Node,{extend:{incrementGlobalLock:()=>{1===++v&&f(!0)},decrementGlobalLock:()=>{0<v&&0===
--v&&f(!1)}},initNode:function(b,g){this.subviews=[];this.locked=!0;this.lockedCounter=1;const c=!0===g.locked;delete g.locked;this.callSuper(b,g);c||this.decrementLockedCounter();this.update()},destroy:function(){this.subviews.length=0;this.callSuper()},setParent:function(b){var g=this.parent;if(g!==b){const w=!this.locked;w&&(this.locked=!0);if(g){for(var c=this.subviews,p=c.length;p;)this.removeSubview(c[--p]);this.detachFrom(g,"__hndlPSA","subviewAdded");this.detachFrom(g,"__hndlPSR","subviewRemoved")}this.callSuper(b);
if(b=this.parent){g=b.getSubviews();c=g.length;for(p=0;c>p;)this.addSubview(g[p++]);this.attachTo(b,"__hndlPSA","subviewAdded");this.attachTo(b,"__hndlPSR","subviewRemoved")}w&&(this.locked=!1,this.inited&&b&&this.update())}},canUpdate:function(){return u?(this.__deferredLayout||(h.push(this),this.__deferredLayout=!0),!1):!this.locked},update:()=>{},hasSubview:function(b){return this.subviews.includes(b)},getSubviewIndex:function(b){return this.subviews.indexOf(b)},addSubview:function(b){this.ignore(b)||
(this.subviews.push(b),this.startMonitoringSubview(b),this.locked||this.update())},startMonitoringSubview:b=>{},startMonitoringAllSubviews:function(){const b=this.subviews;let g=b.length;for(;g;)this.startMonitoringSubview(b[--g])},removeSubview:function(b){if(this.ignore(b))return-1;const g=this.getSubviewIndex(b);-1<g&&(this.stopMonitoringSubview(b),this.subviews.splice(g,1),this.locked||this.update());return g},stopMonitoringSubview:b=>{},stopMonitoringAllSubviews:function(){const b=this.subviews;
let g=b.length;for(;g;)this.stopMonitoringSubview(b[--g])},ignore:b=>b.ignoreLayout,__hndlPSA:function(b){b=b.value;b.parent===this.parent&&this.addSubview(b)},__hndlPSR:function(b){b=b.value;b.parent===this.parent&&this.removeSubview(b)},sortSubviews:function(b){this.subviews.sort(b)},moveSubviewBefore:function(b,g){d(this,b,g,!1)},moveSubviewAfter:function(b,g){d(this,b,g,!0)}});var a=q.ConstantLayout=new r("ConstantLayout",k,{setTargetAttrName:function(b){this.setterName=q.AccessorSupport.generateSetterName(b);
l(this,"targetAttrName",b)},setTargetValue:function(b){l(this,"targetValue",b)},update:function(){if(this.canUpdate()){const b=this.setterName,g=this.targetValue,c=this.subviews,p=c.length;if(b)for(let w=0;p>w;)c[w++][b](g)}}});a=q.VariableLayout=new r("VariableLayout",a,{initNode:function(b,g){this.collapseParent=this.reverse=!1;this.callSuper(b,g)},setCollapseParent:function(b){l(this,"collapseParent",b)},setReverse:function(b){l(this,"reverse",b)},update:function(){if(this.canUpdate()){this.incrementLockedCounter();
this.doBeforeUpdate();const g=this.setterName,c=this.subviews;var b=c.length;let p=this.targetValue,w,t=0;if(this.reverse)for(w=b;w;)b=c[--w],this.skipSubview(b)||(p=this.updateSubview(++t,b,g,p));else for(w=0;b>w;){const n=c[w++];this.skipSubview(n)||(p=this.updateSubview(++t,n,g,p))}this.doAfterUpdate();this.collapseParent&&!this.parent.isBeingDestroyed&&this.updateParent(g,p);this.decrementLockedCounter()}},doBeforeUpdate:()=>{},doAfterUpdate:()=>{},startMonitoringSubview:function(b){this.attachTo(b,
"update","visible")},stopMonitoringSubview:function(b){this.detachFrom(b,"update","visible")},updateSubview:(b,g,c,p)=>{g[c](p);return p},skipSubview:b=>!b.visible,updateParent:(b,g)=>{}});const e=q.SpacedLayout=new r("SpacedLayout",a,{initNode:function(b,g){this.targetAttrName=this.axis="x";this.setterName="setX";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.parentSetterName="setWidth";this.targetValue=this.spacing=this.inset=this.outset=0;this.callSuper(b,g)},setTargetAttrName:function(b){if(this.targetAttrName!==
b){const g="y"===b,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=g?"boundsHeight":"boundsWidth";this.measureAttrBaseName=g?"height":"width";this.parentSetterName=g?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(b)}},setNoAddSubviewOptimization:function(b){this.noAddSubviewOptimization=b},setAxis:function(b){this.setTargetAttrName(this.axis=b)},setInset:function(b){this.setTargetValue(this.inset=b)},setSpacing:function(b){l(this,"spacing",b)},setOutset:function(b){l(this,
"outset",b)},addSubview:function(b){const g=this.locked;this.noAddSubviewOptimization||(this.locked=!0);this.callSuper(b);this.locked=g},startMonitoringSubview:function(b){this.attachTo(b,"update",this.measureAttrName);this.callSuper(b)},stopMonitoringSubview:function(b){this.detachFrom(b,"update",this.measureAttrName);this.callSuper(b)},updateSubview:function(b,g,c,p){b=g[this.measureAttrName];g[c](p+(b-g[this.measureAttrBaseName])/2);return p+b+this.spacing},updateParent:function(b,g){this.parent[this.parentSetterName](g+
this.outset-this.spacing)}});q.ResizeLayout=new r("ResizeLayout",e,{setCollapseParent:b=>{},setTargetAttrName:function(b){if(this.targetAttrName!==b){if(this.inited){const g="x"===b;this.stopMonitoringParent(g?"height":"width");this.startMonitoringParent(g?"width":"height")}this.callSuper(b)}},setParent:function(b){if(this.parent!==b){const g="x"===this.targetAttrName?"width":"height";this.parent&&this.stopMonitoringParent(g);this.callSuper(b);this.parent&&this.startMonitoringParent(g)}},startMonitoringParent:function(b){this.attachTo(this.parent,
"update",b)},stopMonitoringParent:function(b){this.detachFrom(this.parent,"update",b)},doBeforeUpdate:function(){const b=this.measureAttrName,g=this.subviews;let c=this.parent[this.measureAttrBaseName]-this.targetValue-this.outset,p=g.length,w=0,t=0;for(;p;){const n=g[--p];this.skipSubview(n)||(++w,0<n.layoutHint?t+=n.layoutHint:c-=n[b])}0!==w&&(this.remainder=c-=(w-1)*this.spacing,this.resizeSum=t,this.scalingFactor=c/t,this.resizeSumUsed=this.remainderUsed=0,this.measureSetter="boundsWidth"===b?
"setWidth":"setHeight")},updateSubview:function(b,g,c,p){var w=g.layoutHint;0<w&&(this.resizeSumUsed+=w,w=this.resizeSum===this.resizeSumUsed?this.remainder-this.remainderUsed:Math.round(w*this.scalingFactor),this.remainderUsed+=w,g[this.measureSetter](w));return this.callSuper(b,g,c,p)},startMonitoringSubview:function(b){0<b.layoutHint||this.attachTo(b,"update",this.measureAttrName);this.attachTo(b,"update","visible")},stopMonitoringSubview:function(b){0<b.layoutHint||this.detachFrom(b,"update",
this.measureAttrName);this.detachFrom(b,"update","visible")},updateParent:(b,g)=>{}});q.AlignedLayout=new r("AlignedLayout",a,{initNode:function(b,g){this.align="middle";this.targetAttrName="y";this.setterName="setY";this.measureAttrName="boundsHeight";this.measureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=0;this.callSuper(b,g)},setTargetAttrName:function(b){if(this.targetAttrName!==b){const g="y"===b,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=
g?"boundsHeight":"boundsWidth";this.measureAttrBaseName=g?"height":"width";this.parentSetterName=g?"setHeight":"setWidth";c&&this.startMonitoringAllSubviews();this.callSuper(b)}},setAlign:function(b){if(this.align!==b){this.align=b;const g=this.locked;this.locked=!0;this.setTargetAttrName("middle"===b||"bottom"===b||"top"===b?"y":"x");this.locked=g;this.inited&&(this.fireEvent("align",b),this.update())}},startMonitoringSubview:function(b){this.attachTo(b,"update",this.measureAttrName);this.callSuper(b)},
stopMonitoringSubview:function(b){this.detachFrom(b,"update",this.measureAttrName);this.callSuper(b)},doBeforeUpdate:function(){const b=this.measureAttrName,g=this.subviews;let c=0,p=g.length;for(;p;){const w=g[--p];this.skipSubview(w)||(c=c>w[b]?c:w[b])}this.setTargetValue(c)},updateSubview:function(b,g,c,p){switch(this.align){case "center":case "middle":g[c]((p-g[this.measureAttrName])/2);break;case "right":case "bottom":g[c](p-g[this.measureAttrName]);break;default:g[c](0)}return p},updateParent:function(b,
g){this.parent[this.parentSetterName](g)}});q.WrappingLayout=new r("WrappingLayout",a,{initNode:function(b,g){this.targetAttrName=this.axis="x";this.setterName="setX";this.otherSetterName="setY";this.measureAttrName="boundsWidth";this.measureAttrBaseName="width";this.otherMeasureAttrName="boundsHeight";this.otherMeasureAttrBaseName="height";this.parentSetterName="setHeight";this.targetValue=this.spacing=this.inset=this.outset=this.lineSpacing=this.lineInset=this.lineOutset=0;this.callSuper(b,g)},
setTargetAttrName:function(b){if(this.targetAttrName!==b){const g="y"===b,c=this.inited;c&&this.stopMonitoringAllSubviews();this.measureAttrName=g?"boundsHeight":"boundsWidth";const p=this.measureAttrBaseName=g?"height":"width";this.otherMeasureAttrName=g?"boundsWidth":"boundsHeight";const w=this.otherMeasureAttrBaseName=g?"width":"height";this.parentSetterName=g?"setWidth":"setHeight";this.otherSetterName=g?"setX":"setY";c&&(this.startMonitoringAllSubviews(),this.stopMonitoringParent(w),this.startMonitoringParent(p));
this.callSuper(b)}},setParent:function(b){if(this.parent!==b){const g="y"===this.targetAttrName;this.parent&&this.stopMonitoringParent(g?"height":"width");this.callSuper(b);this.parent&&this.startMonitoringParent(g?"height":"width")}},setAxis:function(b){this.setTargetAttrName(this.axis=b)},setInset:function(b){this.setTargetValue(this.inset=b)},setSpacing:function(b){l(this,"spacing",b)},setOutset:function(b){l(this,"outset",b)},setLineSpacing:function(b){l(this,"lineSpacing",b)},setLineInset:function(b){l(this,
"lineInset",b)},setLineOutset:function(b){l(this,"lineOutset",b)},startMonitoringParent:function(b){this.attachTo(this.parent,"update",b)},stopMonitoringParent:function(b){this.detachFrom(this.parent,"update",b)},startMonitoringSubview:function(b){this.attachTo(b,"update",this.measureAttrName);this.attachTo(b,"update",this.otherMeasureAttrName);this.callSuper(b)},stopMonitoringSubview:function(b){this.detachFrom(b,"update",this.measureAttrName);this.detachFrom(b,"update",this.otherMeasureAttrName);
this.callSuper(b)},doBeforeUpdate:function(){this.lineCount=1;this.lineSize=this.maxSize=0;this.linePos=this.lineInset;this.parentSizeLessOutset=this.parent[this.measureAttrName]-this.outset},updateSubview:function(b,g,c,p){b=g[this.measureAttrName];const w=g[this.otherMeasureAttrName];p+b>this.parentSizeLessOutset||"break"===g.layoutHint?(p=this.targetValue,this.linePos+=this.lineSize+this.lineSpacing,this.lineSize=w,++this.lineCount):w>this.lineSize&&(this.lineSize=w);g[this.otherSetterName](this.linePos+
(w-g[this.otherMeasureAttrBaseName])/2);g[c](p+(b-g[this.measureAttrBaseName])/2);this.maxSize=Math.max(this.maxSize,p+b+this.outset);return p+b+this.spacing},updateParent:function(b,g){this.parent[this.parentSetterName](this.linePos+this.lineSize+this.lineOutset)}});q.createFixedThresholdCounter(k,1,"locked")})(myt);
(q=>{const v=Math.round,u=q.DomElementProxy,r=q.Geometry.rectContainsPoint,h=(c,p)=>{const w=q.global.focus.focusedView,t=c.getIDE();if(w===c||w?.isDescendantOf(c))w._ignoreFocus=!0;const {scrollTop:n,scrollLeft:B}=t;p();w&&(w._ignoreFocus=!1,w.focus(!0));t.scrollTop=n;t.scrollLeft=B},f=(c,p,w)=>{const t=c.getODE(),n=t.parentNode;if(n){const B=()=>{const L=t.nextElementSibling;n.removeChild(t);p();n.insertBefore(t,L)};w?h(c,B):B()}else p()},d=(c,p,w,t)=>{if(p&&"object"===typeof p){if(t){var n=c.getLeastCommonAncestor(p)?.getIDE();
if(n){const B=u.getZIndexRelativeToAncestor,L=w?-1:1;t=L*B(c.getODE(),n);n=L*B(p.getODE(),n);if(t<n)return!0;if(n<t)return!1}}c=c.getODE().compareDocumentPosition(p.getODE());return w?2===c||10===c:4===c||20===c}return!1},l=c=>{c=c.getAncestors();let p=c.length,w=1,t=1;for(;p;){const n=c[--p];w*=n.scaleX||1;t*=n.scaleY||1;n.__effectiveScaleX=w;n.__effectiveScaleY=t}return{scaleX:w,scaleY:t}},k=(c,p,w)=>{const t=c.getODE();if(r(p,w,0,0,t.offsetWidth*c.__effectiveScaleX,t.offsetHeight*c.__effectiveScaleY)){if(c=
c.parent){const n=c.getIDE();return k(c,p+(t.offsetLeft-n.scrollLeft)*c.__effectiveScaleX,w+(t.offsetTop-n.scrollTop)*c.__effectiveScaleY)}return!0}return!1},a=c=>{switch(c.align){case "center":c.releaseConstraint("__doAlignCenter");break;case "right":c.releaseConstraint("__doAlignRight")}},e=c=>{const p=c.parent;if(p)switch(c.align){case "center":c.constrain("__doAlignCenter",[c,"width",c,"alignOffset",p,"width"]);break;case "right":c.constrain("__doAlignRight",[c,"width",c,"alignOffset",p,"width"]);
break;case "left":c.setX(c.alignOffset||0)}},b=c=>{switch(c.valign){case "middle":c.releaseConstraint("__doValignMiddle");break;case "bottom":c.releaseConstraint("__doValignBottom")}},g=c=>{const p=c.parent;if(p)switch(c.valign){case "middle":c.constrain("__doValignMiddle",[c,"height",c,"valignOffset",p,"height"]);break;case "bottom":c.constrain("__doValignBottom",[c,"height",c,"valignOffset",p,"height"]);break;case "top":c.setY(c.valignOffset||0)}};q.View=new JS.Class("View",q.Node,{include:[u,q.DomObservable,
q.DomObserver,q.ScrollObservable,q.FocusObservable,q.KeyObservable,q.MouseObservable],extend:{retainFocusDuringDomUpdate:h,doWhileRemovedFromDom:f},initNode:function(c,p){this.x=this.y=this.width=this.height=0;this.opacity=1;this.visible=!0;p.tagName&&(this.tagName=p.tagName,delete p.tagName);this.setDomElement(this.createOurDomElement(c));const w=this.getODS();w.left=w.top="0px";this.callSuper(c,p);this.__updateBounds(this.width,this.height)},createOurDomElement:function(c){c=document.createElement(this.tagName??
"div");c.style.position="absolute";let p;c.className=(p=this.klass).__cssClassName??(p.__cssClassName="myt-"+this.klass.__displayName.split(".").join("-"));return c},destroyAfterOrphaning:function(){this.callSuper();this.detachFromAllDomSources();this.detachAllDomObservers();this.disposeOfDomElement()},setParent:function(c){this.parent!==c&&(this.inited&&(a(this),b(this)),this.callSuper(c),this.align&&e(this),this.valign&&g(this))},getSubviews:function(){return this.subviews??(this.subviews=[])},
getSubviewsInLexicalOrder:function(){const c=[],p=this.getIDE().children,w=p.length;for(let t=0;t<w;){const n=p[t++].model;n?.parent===this&&c.push(n)}return c},getSiblingViews:function(){if(this.parent)return this.parent.getSubviews().filter(c=>c!==this)},setFocusTrap:function(c){this.focusTrap=c},setFocusCage:function(c){this.focusCage=c},setMaskFocus:function(c){this.maskFocus=c},setLayoutHint:function(c){this.layoutHint=c},getLayouts:function(){return this.layouts??(this.layouts=[])},getFirstLayout:function(){return this.getLayouts()[0]},
setIgnoreLayout:function(c){if(this.ignoreLayout!==c){var p=this.inited&&this.parent;let w;if(c){if(p)for(p=this.parent.getLayouts(),w=p.length;w;)p[--w].removeSubview(this);this.ignoreLayout=c}else if(this.ignoreLayout=c,p)for(p=this.parent.getLayouts(),w=p.length;w;)p[--w].addSubview(this)}},setDomClass:function(c){this.domClass!==c&&(this.callSuper(c),this.inited&&this.fireEvent("domClass",c))},setDomId:function(c){this.domId!==c&&(this.callSuper(c),this.inited&&this.fireEvent("domId",c))},setAlignOffset:function(c){this.alignOffset!==
c&&(this.alignOffset=c,this.inited&&this.fireEvent("alignOffset",c),this.parent&&"left"===this.align&&this.setX(c))},setAlign:function(c){this.align!==c&&(this.inited&&a(this),this.align=c,this.inited&&(this.fireEvent("align",c),e(this)))},__doAlignCenter:function(c){this.setX(v((this.parent.width-this.width)/2)+(this.alignOffset||0))},__doAlignRight:function(c){this.setX(this.parent.width-this.width-(this.alignOffset||0))},setValignOffset:function(c){this.valignOffset!==c&&(this.valignOffset=c,this.inited&&
this.fireEvent("valignOffset",c),this.parent&&"top"===this.valign&&this.setY(c))},setValign:function(c){this.valign!==c&&(this.inited&&b(this),this.valign=c,this.inited&&(this.fireEvent("valign",c),g(this)))},__doValignMiddle:function(c){this.setY(v((this.parent.height-this.height)/2)+(this.valignOffset||0))},__doValignBottom:function(c){this.setY(this.parent.height-this.height-(this.valignOffset||0))},setX:function(c){this.x!==c&&(this.x=c,this.visible&&(this.getODS().left=c+"px"),this.inited&&this.fireEvent("x",
c))},setY:function(c){this.y!==c&&(this.y=c,this.visible&&(this.getODS().top=c+"px"),this.inited&&this.fireEvent("y",c))},setWidth:function(c){0>c&&(c=0);this.width!==c&&(this.width=c,this.getODS().width=c+"px",this.inited&&(this.__updateBounds(c,this.height),this.fireEvent("width",c)))},setHeight:function(c){0>c&&(c=0);this.height!==c&&(this.height=c,this.getODS().height=c+"px",this.inited&&(this.__updateBounds(this.width,c),this.fireEvent("height",c)))},setDomMinWidth:function(c,p){(p?this.getIDS():
this.getODS()).minWidth=null!=c?c+"px":null},getDomMinWidth:function(c){c=(c?this.getIDS():this.getODS()).minWidth;return null!=c?Number.parseInt(c):null},setDomMinHeight:function(c,p){(p?this.getIDS():this.getODS()).minHeight=null!=c?c+"px":null},getDomMinHeight:function(c){c=(c?this.getIDS():this.getODS()).minHeight;return null!=c?Number.parseInt(c):null},setTextColor:function(c){this.textColor!==c&&(this.textColor=c,this.getODS().color=c||"inherit",this.inited&&this.fireEvent("textColor",c))},
setBgColor:function(c){this.bgColor!==c&&(this.getODS().backgroundColor=this.bgColor=c,this.inited&&this.fireEvent("bgColor",c))},isColorAttr:c=>"bgColor"===c||"textColor"===c,setOpacity:function(c){this.opacity!==c&&(this.getODS().opacity=this.opacity=c,this.inited&&this.fireEvent("opacity",c))},setOverflow:function(c){const p=this.overflow;if(p!==c){this.overflow=c;const w=this.getIDS();if("autox"===c)w.overflowX="auto",w.overflowY="hidden";else if("autoy"===c)w.overflowY="auto",w.overflowX="hidden";
else{if("autox"===p||"autoy"===p)w.overflowX=w.overflowY=null;w.overflow=c||"visible"}this.inited&&this.fireEvent("overflow",c)}},setVisible:function(c){if(this.visible!==c){this.visible=c;const p=this.getODS();p.visibility=c?"inherit":"hidden";p.left=c?this.x+"px":"-100000px";p.top=c?this.y+"px":"-100000px";this.inited&&this.fireEvent("visible",c)}},setPointerEvents:function(c){this.pointerEvents!==c&&(this.pointerEvents=c,this.getODS().pointerEvents=c||"auto",this.inited&&this.fireEvent("pointerEvents",
c))},setCursor:function(c){this.cursor!==c&&(this.cursor=c,this.getODS().cursor=c||"auto",this.inited&&this.fireEvent("cursor",c))},__updateBounds:function(c,p){this.boundsWidth!==c&&this.fireEvent("boundsWidth",this.boundsWidth=c);this.boundsHeight!==p&&this.fireEvent("boundsHeight",this.boundsHeight=p)},setOutline:function(c){const [p,w,t]=c??[];this.setOutlineWidth(p);this.setOutlineStyle(w);this.setOutlineColor(t)},setOutlineWidth:function(c){this.getODS().outlineWidth=(this.outlineWidth=c||0)+
"px"},setOutlineStyle:function(c){this.getODS().outlineStyle=this.outlineStyle=c||"none"},setOutlineColor:function(c){this.getODS().outlineColor=this.outlineColor=c||"#000"},setBorder:function(c){const [p,w,t]=c??[];this.setBorderWidth(p);this.setBorderStyle(w);this.setBorderColor(t)},setBorderWidth:function(c){this.getODS().borderWidth=(this.borderWidth=c||0)+"px"},setBorderStyle:function(c){this.getODS().borderStyle=this.borderStyle=c||"none"},setBorderColor:function(c){this.getODS().borderColor=
this.borderColor=c||"#000"},setRoundedCorners:function(c){this.getODS().borderRadius=c+"px"},setRoundedTopLeftCorner:function(c){this.getODS().borderTopLeftRadius=c+"px"},setRoundedTopRightCorner:function(c){this.getODS().borderTopRightRadius=c+"px"},setRoundedBottomLeftCorner:function(c){this.getODS().borderBottomLeftRadius=c+"px"},setRoundedBottomRightCorner:function(c){this.getODS().borderBottomRightRadius=c+"px"},setBoxShadow:function(c){const [p,w,t,n]=c??[];this.getODS().boxShadow=c?(p||0)+
"px "+(w||0)+"px "+(t||7)+"px "+(n||"#000"):"none"},setGradient:function(c){const p=this.getODS();if(c){let t=c[0];"linear"===t||"radial"===t?c.shift():t="linear";let n=c[0];if("radial"===t){void 0===n?n="closest-side":c.shift();var w=c[0];if(void 0===w)w="circle";else{switch(w){case "circle":case "ellipse":break;default:console.warn("Unexpected radial gradient shape",w),w="circle"}c.shift()}let B=c[0];void 0===B?B="center":(B=B.replaceAll("middle","center"),c.shift());n=w+" "+n+" at "+B}else"number"===
typeof n?(n+="deg",c.shift()):n?(n="to "+n,c.shift()):n="0deg";w=B=>{c.push(B&&"inherit"!==B?B:"transparent")};2>c.length&&w(this.textColor);2>c.length&&w(this.bgColor);p.background=t+"-gradient("+n+","+c.join(",")+")"}else p.background="none";this.bgColor=void 0},setTooltip:function(c){this.tooltip!==c&&(this.tooltip=this.getODE().title=c,this.inited&&this.fireEvent("tooltip",c))},isVisible:function(){return null==this.searchAncestorsOrSelf(c=>!c.visible)},getFocusTrap:function(c){return this.searchAncestorsOrSelf(p=>
p.focusCage||p.focusTrap&&!c)},subnodeAdded:function(c){c instanceof q.View?(this.getIDE().appendChild(c.getODE()),this.getSubviews().push(c),this.fireEvent("subviewAdded",c),this.subviewAdded(c)):c instanceof q.Layout&&(this.getLayouts().push(c),this.fireEvent("layoutAdded",c),this.layoutAdded(c))},subnodeRemoved:function(c){let p;c instanceof q.View?(p=this.getSubviewIndex(c),-1<p&&(this.fireEvent("subviewRemoved",c),c.removeDomElement(),this.subviews.splice(p,1),this.subviewRemoved(c))):c instanceof
q.Layout&&(p=this.getLayoutIndex(c),-1<p&&(this.fireEvent("layoutRemoved",c),this.layouts.splice(p,1),this.layoutRemoved(c)))},hasSubview:function(c){return this.getSubviews().includes(c)},getSubviewIndex:function(c){return this.getSubviews().indexOf(c)},subviewAdded:c=>{},subviewRemoved:c=>{},getNextSibling:function(){if(this.parent)return this.getODE().nextElementSibling?.model},getPrevSibling:function(){if(this.parent)return this.getODE().previousElementSibling?.model},destroyAllSubviews:function(c){const p=
this.getSubviews();for(let w=p.length;0<w;){const t=p[--w];c&&!c(t)||t.destroy()}},hasLayout:function(c){return this.getLayouts().includes(c)},getLayoutIndex:function(c){return this.getLayouts().indexOf(c)},layoutAdded:c=>{},layoutRemoved:c=>{},isBehind:function(c,p){return d(this,c,!1,p)},isInFrontOf:function(c,p){return d(this,c,!0,p)},bringToFront:function(){this.parent.bringSubviewToFront(this)},sendToBack:function(){this.parent.sendSubviewToBack(this)},sendBehind:function(c,p){this.parent.sendSubviewBehind(this,
c,p)},sendInFrontOf:function(c,p){this.parent.sendSubviewInFrontOf(this,c,p)},doSubviewsReorderedInDom:c=>{},bringSubviewToFront:function(c){const p=this;if(c?.parent===p){const w=p.getIDE(),t=c.getODE();t!==w.lastElementChild&&h(c,()=>{w.appendChild(t);p.doSubviewsReorderedInDom(c)})}},sendSubviewToBack:function(c){const p=this;if(c?.parent===p){const w=p.getIDE(),t=w.firstElementChild,n=c.getODE();n!==t&&h(c,()=>{w.insertBefore(n,t);p.doSubviewsReorderedInDom(c)})}},sendSubviewBehind:function(c,
p,w){w?.moveSubviewBefore(c,p);const t=this;if(c?.parent===t&&p?.parent===t){const n=c.getODE(),B=p.getODE();if(n!==B.previousElementSibling){const L=t.getIDE();h(c,()=>{L.insertBefore(n,B);t.doSubviewsReorderedInDom(c)})}}w?.update()},sendSubviewInFrontOf:function(c,p,w){w?.moveSubviewAfter(c,p);const t=this;if(c?.parent===t&&p?.parent===t){const n=c.getODE(),B=p.getODE().nextElementSibling;if(n!==B){const L=t.getIDE();h(c,()=>{L.insertBefore(n,B);t.doSubviewsReorderedInDom(c)})}}w?.update()},sortSubviews:function(c){const p=
this,w=p.getSubviews();q.isSorted(w,c)||(w.sort(c),f(p,()=>{const t=document.createDocumentFragment(),n=w.length;for(let B=0;n>B;)t.appendChild(w[B++].getODE());p.getIDE().appendChild(t)},!0),p.doSubviewsReorderedInDom(null))},containsPoint:function(c,p,w){const t=this.getODE();if(!t)return!1;const {x:n,y:B}=u.getRelativePosition(t,w);return r(c,p,n,B,this.width,this.height)},isPointVisible:function(c,p){const {x:w,y:t}=this.getPagePosition(!0);l(this);return k(this,c-w,p-t)},intersectsWithSibling:function(c){return c.parent===
this.parent&&!(c.x>this.x+this.width||c.x+c.width<this.x||c.y>this.y+this.height||c.y+c.height<this.y)},getEffectiveScale:function(){return l(this)},getEffectiveScaleX:function(){return l(this).scaleX},getEffectiveScaleY:function(){return l(this).scaleY}})})(myt);
(q=>{const v=(r,h,f)=>{const d=u(r,h);r.getODS().transform=d+(0===d.length?"":" ")+h+"("+f+")"},u=(r,h)=>{r=r.getODS();var f=r.transform;if(!f||0===f.length)return"";f=f.split(" ");let d=f.length;for(;d;)if(f[--d].startsWith(h)){f.splice(d,1);break}return r.transform=f.join(" ")};q.TransformSupport=new JS.Module("TransformSupport",{setTransformOrigin:function(r){this.transformOrigin!==r&&(this.transformOrigin=r,this.getODS().transformOrigin=r||"50% 50% 0",this.inited&&(this.__updateBounds(this.width,
this.height),this.fireEvent("transformOrigin",r)))},setRotation:function(r){this.rotation!==r&&(this.rotation=r,v(this,"rotate",(r||0)+"deg"),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("rotation",r)))},setScale:function(r){const h=this.scaleX!==r,f=this.scaleY!==r;if(h){var d=this.scaleX=r;null==d?u(this,"scaleX"):v(this,"scaleX",d||1)}f&&(d=this.scaleY=r,null==d?u(this,"scaleY"):v(this,"scaleY",d||1));this.inited&&((h||f)&&this.__updateBounds(this.width,this.height),
h&&this.fireEvent("scaleX",r),f&&this.fireEvent("scaleY",r))},setScaleX:function(r){if(this.scaleX!==r){var h=this.scaleX=r;null==h?u(this,"scaleX"):v(this,"scaleX",h||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleX",r))}},setScaleY:function(r){if(this.scaleY!==r){var h=this.scaleY=r;null==h?u(this,"scaleY"):v(this,"scaleY",h||1);this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("scaleY",r))}},setSkewX:function(r){this.skewX!==r&&(this.skewX=
r,v(this,"skewX",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewX",r)))},setSkewY:function(r){this.skewY!==r&&(this.skewY=r,v(this,"skewY",r||0),this.inited&&(this.__updateBounds(this.width,this.height),this.fireEvent("skewY",r)))},__updateBounds:function(r,h){const {rotation:f,scaleX:d,scaleY:l}=this,k=(null==d||1===d)&&(null==l||1===l);if(!k||null!=f&&0!==f&&180!==f)!k||90!==f&&270!==f?{width:r,height:h}=this.getODE().getBoundingClientRect():{width:h,height:r}=
this;this.callSuper(r,h)}})})(myt);
(q=>{const v=JS.Module,u=(d,l)=>{if("auto"===l)d.__hasSetWidth=!1,d.getODS().width="auto",d.sizeViewToDom();else return d.__hasSetWidth=!0},r=(d,l)=>{if("auto"===l)d.__hasSetHeight=!1,d.getODS().height="auto",d.sizeViewToDom();else return d.__hasSetHeight=!0},h=d=>{if(!d.__hasSetWidth){const l=d.getODE().offsetWidth/d.getEffectiveScaleX();d.width!==l&&(d.width=l,d.inited&&d.__updateBounds(l,d.height),d.fireEvent("width",l))}},f=d=>{if(!d.__hasSetHeight){const l=d.getODE().offsetHeight/d.getEffectiveScaleY();
d.height!==l&&(d.height=l,d.inited&&d.__updateBounds(d.width,l),d.fireEvent("height",l))}};q.SizeToDom=new v("SizeToDom",{extend:{sizeWidth:h,sizeHeight:f},initNode:function(d,l){this.callSuper(d,l);this.sizeViewToDom()},setWidth:function(d){u(this,d)&&this.callSuper(d)},setHeight:function(d){r(this,d)&&this.callSuper(d)},sizeViewToDom:function(){h(this);f(this)}});q.SizeWidthToDom=new v("SizeWidthToDom",{initNode:function(d,l){this.callSuper(d,l);this.sizeViewToDom()},setWidth:function(d){u(this,
d)&&this.callSuper(d)},sizeViewToDom:function(){h(this)}});q.SizeHeightToDom=new v("SizeHeightToDom",{initNode:function(d,l){this.callSuper(d,l);this.sizeViewToDom()},setHeight:function(d){r(this,d)&&this.callSuper(d)},sizeViewToDom:function(){f(this)}})})(myt);
(q=>{const v=JS.Module,u=(d,l,k,a)=>{d[k]!==l&&(d[k]=l,d.getIDS()[k]=l||a||"inherit",d.inited&&(d.fireEvent(k,l),d.sizeViewToDom?.()))};q.TextSupport=new v("TextSupport",{setWidth:function(d){this.callSuper(d);"auto"!==d&&(d=this.whiteSpace,"normal"!==d&&"pre-line"!==d&&"pre-wrap"!==d&&"break-spaces"!==d||this.sizeViewToDom())},setText:function(d){d||="";d=this.valueFromEvent(d);this.text!==d&&(this.getIDE().innerHTML=this.text=d,this.inited&&(this.fireEvent("text",d),this.sizeViewToDom()))},setTextOverflow:function(d){this.textOverflow!==
d&&(this.textOverflow=d,this.getIDS().textOverflow=d||"inherit",this.inited&&this.fireEvent("textOverflow",d))},setTextAlign:function(d){this.textAlign!==d&&(this.textAlign=d,this.getIDS().textAlign=d||"inherit",this.inited&&this.fireEvent("textAlign",d))},setWhiteSpace:function(d){u(this,d,"whiteSpace")},setWordWrap:function(d){u(this,d,"wordWrap","normal")},setTextIndent:function(d){u(this,d,"textIndent")},setTextTransform:function(d){u(this,d,"textTransform")},setTextDecoration:function(d){u(this,
d,"textDecoration")},setLineHeight:function(d){u(this,d,"lineHeight")},setLetterSpacing:function(d){u(this,d,"letterSpacing")},setWordSpacing:function(d){u(this,d,"wordSpacing")},setFontFamily:function(d){u(this,d,"fontFamily")},setFontStyle:function(d){u(this,d,"fontStyle")},setFontVariant:function(d){u(this,d,"fontVariant")},setFontWeight:function(d){u(this,d,"fontWeight")},setFontSize:function(d){u(this,d,"fontSize")},setUserUnselectable:function(d){this.userUnselectable!==d&&(this.userUnselectable=
d,this[d?"addDomClass":"removeDomClass"]("mytUnselectable"),"default"!==this.cursor&&"text"!==this.cursor||this.setCursor(d?"default":"text"),this.inited&&this.fireEvent("userUnselectable",d))},enableEllipsis:function(){this.setWhiteSpace("nowrap");this.setOverflow("hidden");this.setTextOverflow("ellipsis")},disableEllipsis:function(){this.setOverflow("visible")},showTextShadow:function(d,l,k,a){this.getIDS().textShadow=(d||0)+"px "+(l||0)+"px "+(null!=k?k:2)+"px "+(a||"#000")},hideTextShadow:function(){this.getIDS().textShadow=
"none"}});const r=(d,l,k)=>{const a="padding"+k;l=Math.max(l,0);d[a]!==l&&(d[a]=l,d.getIDS()[a]=l+"px",d.fireEvent(a,l),"Left"===k||"Right"===k?h(d):f(d))},h=d=>{d.__hasSetWidth&&(d.getODS().width=d.width-(d.paddingLeft||0)-(d.paddingRight||0)+"px",d.inited&&d.sizeViewToDom())},f=d=>{d.__hasSetHeight&&(d.getODS().height=d.height-(d.paddingTop||0)-(d.paddingBottom||0)+"px",d.inited&&d.sizeViewToDom())};q.PaddedTextSupport=new v("PaddedTextSupport",{setWidth:function(d){this.callSuper(d);h(this)},setHeight:function(d){this.callSuper(d);
f(this)},setPadding:function(d){let l,k,a;d||=0;"object"===typeof d?(l=d.top||0,k=d.right||0,a=d.bottom||0,d=d.left||0):l=k=a=d;this.setPaddingTop(l);this.setPaddingRight(k);this.setPaddingBottom(a);this.setPaddingLeft(d)},setPaddingTop:function(d){r(this,d,"Top")},setPaddingRight:function(d){r(this,d,"Right")},setPaddingBottom:function(d){r(this,d,"Bottom")},setPaddingLeft:function(d){r(this,d,"Left")}})})(myt);
(q=>{const v={},u={},r=h=>{const f=h.imageUrl;if(h.calculateNaturalSize&&f){var d=v[f];if(d)h.setNaturalWidth(d.width),h.setNaturalHeight(d.height);else{d=u[f];if(!d){u[f]=d=[];const l=new Image;l.onerror=k=>{if(k=u[f]){let a=k.length;for(;a;)k[--a].setImageLoadingError(!0);k.length=0;delete u[f]}};l.onload=()=>{const k=l.width,a=l.height,e=u[f];if(e){let b=e.length;for(;b;){const g=e[--b];g.imageUrl===f&&(g.setNaturalWidth(k),g.setNaturalHeight(a))}e.length=0;delete u[f]}v[f]={width:k,height:a}};
l.src=f}d.push(h)}}};q.ImageSupport=new JS.Module("ImageSupport",{extend:{getSizeFromCache:h=>v[h]},initNode:function(h,f){f.imageRepeat??(f.imageRepeat="no-repeat");f.imageAttachment??(f.imageAttachment="scroll");this.callSuper(h,f)},setImageUrl:function(h){this.imageUrl!==h&&(this.imageUrl=h,this.getIDS().backgroundImage=h?'url("'+h+'")':"none",this.inited&&(this.fireEvent("imageUrl",h),this.setNaturalWidth(),this.setNaturalHeight(),!h&&this.useNaturalSize&&(this.setWidth(0),this.setHeight(0))),
r(this))},setImageLoadingError:function(h){this.set("imageLoadingError",h,!0)},setImageSize:function(h){this.imageSize!==h&&(this.imageSize=h,this.getIDS().backgroundSize=h||"auto",this.inited&&this.fireEvent("imageSize",h))},setImageRepeat:function(h){this.imageRepeat!==h&&(this.getIDS().backgroundRepeat=this.imageRepeat=h,this.inited&&this.fireEvent("imageRepeat",h))},setImagePosition:function(h){this.imagePosition!==h&&(this.getIDS().backgroundPosition=this.imagePosition=h,this.inited&&this.fireEvent("imagePosition",
h))},setImageAttachment:function(h){this.imageAttachment!==h&&(this.getIDS().backgroundAttachment=this.imageAttachment=h,this.inited&&this.fireEvent("imageAttachment",h))},setCalculateNaturalSize:function(h){this.calculateNaturalSize!==h&&(this.calculateNaturalSize=h,this.inited&&this.fireEvent("calculateNaturalSize",h),r(this))},setNaturalWidth:function(h){this.naturalWidth!==h&&(this.naturalWidth=h,this.inited&&this.fireEvent("naturalWidth",h),this.useNaturalSize&&h&&this.setWidth(h))},setNaturalHeight:function(h){this.naturalHeight!==
h&&(this.naturalHeight=h,this.inited&&this.fireEvent("naturalHeight",h),this.useNaturalSize&&h&&this.setHeight(h))},setUseNaturalSize:function(h){this.useNaturalSize!==h&&(this.useNaturalSize=h,this.inited&&this.fireEvent("useNaturalSize",h),h&&(this.naturalWidth&&this.setWidth(this.naturalWidth),this.naturalHeight&&this.setHeight(this.naturalHeight)),h&&!this.calculateNaturalSize&&this.setCalculateNaturalSize(!0))}})})(myt);
(q=>{const v=JS.Class,{View:u,SizeToDom:r}=q;q.Flexbox=new v("Flexbox",u,{include:[q.FlexboxSupport]});q.Frame=new v("Frame",u,{initNode:function(h,f){f.tagName??(f.tagName="iframe");this.callSuper(h,f);h=q.global.mouse;this.attachToDom(h,"__doMouseDown","mousedown",!0);this.attachToDom(h,"__doMouseUp","mouseup",!0)},createOurDomElement:function(h){h=this.callSuper(h);(Array.isArray(h)?h[1]:h).style.border="0px";return h},setSrc:function(h){this.src!==h&&(this.src=this.getIDE().src=h,this.inited&&
this.fireEvent("src",h))},__doMouseDown:function(h){this.__restorePointerEvents=this.pointerEvents;this.setPointerEvents("none");return!0},__doMouseUp:function(h){this.setPointerEvents(this.__restorePointerEvents);return!0}});q.Markup=new v("Markup",u,{include:[r],setHtml:function(h){this.html!==h&&(this.getIDE().innerHTML=this.html=h,this.inited&&(this.fireEvent("html",h),this.sizeViewToDom()))}});q.Text=new v("Text",u,{include:[r,q.TextSupport],initNode:function(h,f){f.whiteSpace??(f.whiteSpace=
"nowrap");f.userUnselectable??(f.userUnselectable=!0);this.callSuper(h,f)},measureNoWrapWidth:function(){const h=this.__hasSetWidth,f=this.width;if(!h&&"nowrap"===this.whiteSpace)return f;const d=this.getIDS(),l=d.whiteSpace;h&&(d.width="auto");d.whiteSpace="nowrap";const k=this.getODE().getBoundingClientRect().width;d.whiteSpace=l;h&&(d.width=f);return k}});q.PaddedText=new v("PaddedText",q.Text,{include:[q.PaddedTextSupport]});q.Image=new v("Image",u,{include:[q.ImageSupport],initNode:function(h,
f){f.useNaturalSize??(f.useNaturalSize=!0);this.callSuper(h,f)}});q.BackView=new v("BackView",u,{sendSubviewToBack:function(h){if(h.parent===this){const f=this.getIDE(),d=f.childNodes[1];h=h.getODE();h!==d&&(h=f.removeChild(h))&&f.insertBefore(h,d)}}})})(myt);
(q=>{const v=Math.round,u=d=>{d.parent&&0<=d.percentOfParentWidth&&d.syncTo(d.parent,"__doPOPW","width")},r=d=>{0<=d.percentOfParentWidth&&d.detachFrom(d.parent,"__doPOPW","width")},h=d=>{d.parent&&0<=d.percentOfParentHeight&&d.syncTo(d.parent,"__doPOPH","height")},f=d=>{0<=d.percentOfParentHeight&&d.detachFrom(d.parent,"__doPOPH","height")};q.SizeToParent=new JS.Module("SizeToParent",{setParent:function(d){this.parent!==d&&(this.inited&&(r(this),f(this)),this.callSuper(d),u(this),h(this))},setPercentOfParentWidthOffset:function(d){this.percentOfParentWidthOffset!==
d&&(this.percentOfParentWidthOffset=d,this.inited&&(this.fireEvent("percentOfParentWidthOffset",d),this.__doPOPW()))},setPercentOfParentWidth:function(d){this.percentOfParentWidth!==d&&(this.inited&&r(this),this.percentOfParentWidth=d,this.inited&&(this.fireEvent("percentOfParentWidth",d),u(this)))},setPercentOfParentHeightOffset:function(d){this.percentOfParentHeightOffset!==d&&(this.percentOfParentHeightOffset=d,this.inited&&(this.fireEvent("percentOfParentHeightOffset",d),this.__doPOPH()))},setPercentOfParentHeight:function(d){this.percentOfParentHeight!==
d&&(this.inited&&f(this),this.percentOfParentHeight=d,this.inited&&(this.fireEvent("percentOfParentHeight",d),h(this)))},__doPOPW:function(d){this.setWidth((this.percentOfParentWidthOffset||0)+v(this.percentOfParentWidth/100*this.parent.width));this.inited||this.fireEvent("width",this.width)},__doPOPH:function(d){this.setHeight((this.percentOfParentHeightOffset||0)+v(this.percentOfParentHeight/100*this.parent.height));this.inited||this.fireEvent("height",this.height)}})})(myt);
(q=>{let v;const u=[];new JS.Singleton("GlobalRootViewRegistry",{include:[q.Observable],initialize:function(){q.global.register("roots",v=this)},getRoots:()=>u,addRoot:r=>{u.push(r);v.fireEvent("rootAdded",r)},removeRoot:r=>{const h=u.indexOf(r);-1<h&&(u.splice(h,1),v.fireEvent("rootRemoved",r))}})})(myt);
(q=>{const {addEventListener:v,removeEventListener:u,global:{roots:r}}=q,h=q.RootView=new JS.Module("RootView",{extend:{setupCaptureDrop:f=>{const d=f.getIDE();f=f.__captureDrop=l=>{l.preventDefault()};v(d,"drop",f);v(d,"dragover",f)},teardownCaptureDrop:f=>{const d=f.getIDE();f=f.__captureDrop;u(d,"drop",f);u(d,"dragover",f)}},initNode:function(f,d){this.callSuper(f,d);this.setZIndex(0);this.addDomClass("myt");r.addRoot(this);h.setupCaptureDrop(this)},createOurDomElement:function(f){f||(f=this.callSuper(f),
q.getElement().appendChild(f));return f},destroy:function(){h.teardownCaptureDrop(this);r.removeRoot(this);this.keepDomElementWhenDestroyed||this.removeDomElement();this.callSuper()},setKeepDomElementWhenDestroyed:function(f){this.keepDomElementWhenDestroyed=f},setParent:f=>{},bringToFront:function(){var f=this.getIDE();const d=f.parentNode;f!==d.lastChild&&(f=d.removeChild(f))&&d.appendChild(f)},sendToBack:function(){var f=this.getIDE();const d=f.parentNode;f!==d.firstChild&&(f=d.removeChild(f))&&
d.insertBefore(f,d.firstChild)},sendBehind:function(f,d){d=this.getIDE();f=f.getIDE();const l=d.parentNode;f.parentNode===l&&(d=l.removeChild(d))&&l.insertBefore(d,f)},sendInFrontOf:function(f,d){f.getIDE().parentNode===this.getIDE().parentNode&&(this.sendBehind(f,d),f.sendBehind(this,d))}})})(myt);
(q=>{let v,u,r=!1;const {requestAnimationFrame:h,cancelAnimationFrame:f}=window,d={},l=a=>{v=h(l);a=Math.round(a);-1!==u&&(d.delta=a-u,d.time=a,k.fireEvent("idle",d));u=a},k=new JS.Singleton("GlobalIdle",{include:[q.Observable],initialize:function(){q.global.register("idle",this)},attachObserver:(a,e,b)=>{a=k.callSuper(a,e,b);!r&&k.hasObservers("idle")&&(r=!0,u=-1,v=h(l));return a},detachObserver:(a,e,b)=>{a=k.callSuper(a,e,b);r&&!k.hasObservers("idle")&&(f(v),r=!1);return a}})})(myt);
(q=>{let v,u,r;const h=q.global,f=h.idle,d=window.document;new JS.Singleton("GlobalWindowResize",{include:[q.Observable,q.Observer],initialize:function(){v=this;v.attachTo(f,"__setup","idle");h.register("windowResize",v)},__setup:l=>{const k=d.body;k&&(v.detachFrom(f,"__setup","idle"),(new ResizeObserver(()=>{v.fireEvent("resize",{w:u=k.clientWidth,h:r=k.clientHeight})})).observe(k))},getWidth:()=>u??=d.body.clientWidth,getHeight:()=>r??=d.body.clientHeight})})(myt);
(q=>{const v=JS.Module,u=q.global.windowResize,r=Math.max,h=d=>{const l=d.resizeDimension;"both"!==l&&"width"!==l||d.setWidth(r(d.minWidth,u.getWidth()));"both"!==l&&"height"!==l||d.setHeight(r(d.minHeight,u.getHeight()))},f=q.SizeToWindow=new v("SizeToWindow",{include:[q.RootView],initNode:function(d,l){this.minWidth=this.minHeight=0;l.resizeDimension??(l.resizeDimension="both");this.attachTo(u,"__hndlResize","resize");this.callSuper(d,l)},setResizeDimension:function(d){this.resizeDimension!==d&&
(this.resizeDimension=d,h(this))},setMinWidth:function(d){this.minWidth!==d&&(this.minWidth=d,h(this))},setMinHeight:function(d){this.minHeight!==d&&(this.minHeight=d,h(this))},__hndlResize:function(d){h(this)}});q.SizeToWindowWidth=new v("SizeToWindowWidth",{include:[f],initNode:function(d,l){l.resizeDimension??(l.resizeDimension="width");this.callSuper(d,l)}});q.SizeToWindowHeight=new v("SizeToWindowHeight",{include:[f],initNode:function(d,l){l.resizeDimension??(l.resizeDimension="height");this.callSuper(d,
l)}})})(myt);
(q=>{const v=Math,{min:u,max:r}=v,h=g=>u(255,r(0,v.round(g))),f=g=>h(g).toString(16).padStart(2,"0"),d=(g,c,p,w)=>(w?"#":"")+f(g)+f(c)+f(p),l=g=>new b((16711680&g)>>16,(65280&g)>>8,255&g),k=(g,c)=>{if("string"===typeof g)if(g.endsWith("%"))g=parseFloat(g.slice(0,-1))*c/100;else return 0;g=u(c,r(0,g))/c;return 1E-6>v.abs(1-g)?1:g},a=(g,c,p)=>{g=k(g,255);c=k(c,255);p=k(p,255);const w=r(g,c,p),t=w-u(g,c,p);if(0===t)return{h:0,s:0,v:w};let n;switch(w){case g:n=(c-p)/t+(c<p?6:0);break;case c:n=(p-g)/t+
2;break;case p:n=(g-c)/t+4}return{h:60*n,s:0===w?0:t/w,v:w}},e=(g,c,p)=>{g=6*k(g,360);c=k(c,100);p=k(p,100);var w=v.floor(g);const t=g-w;g=p*(1-c);const n=p*(1-t*c);c=p*(1-(1-t)*c);w%=6;return{red:255*[p,n,g,g,c,p][w],green:255*[c,p,p,n,g,g][w],blue:255*[g,g,c,p,p,n][w]}},b=q.Color=new JS.Class("Color",{extend:{toUnitRange:k,rgbToHsv:a,hsvToRgb:e,toHex:f,rgbToHex:d,cleanChannelValue:h,getRedChannel:g=>(16711680&g)>>16,getGreenChannel:g=>(65280&g)>>8,getBlueChannel:g=>255&g,makeColorFromNumber:l,makeColorFromHexString:g=>
{if(g)switch(g.startsWith("#")&&(g=g.slice(1)),g.length){case 0:g+="0";case 1:g+="0";case 2:g+="0";case 3:case 4:case 5:const [c,p,w]=g;return new b(parseInt(c+c,16),parseInt(p+p,16),parseInt(w+w,16));case 6:return l(parseInt(g,16));default:return l(parseInt(g.slice(0,6),16))}},makeColorFromHSV:(g,c,p)=>{const {red:w,green:t,blue:n}=e(g,c,p);return new b(w,t,n)},getLighterColor:(g,c)=>l(g).isLighterThan(l(c))?g:c,makeColorNumberFromChannels:(g,c,p)=>(h(g)<<16)+(h(c)<<8)+h(p),makeBlendedColor:(g,c,
p)=>new b(g.red+p*(c.red-g.red),g.green+p*(c.green-g.green),g.blue+p*(c.blue-g.blue))},initialize:function(g,c,p){this.setRed(g);this.setGreen(c);this.setBlue(p)},setRed:function(g){this.red=h(g)},setGreen:function(g){this.green=h(g)},setBlue:function(g){this.blue=h(g)},getColorNumber:function(){return(this.red<<16)+(this.green<<8)+this.blue},getHtmlHexString:function(){return d(this.red,this.green,this.blue,!0)},getHSV:function(){return a(this.red,this.green,this.blue)},isLighterThan:function(g){g=
this.getDiffFrom(g);return 0>g.red+g.green+g.blue},getDiffFrom:function(g){return{red:g.red-this.red,green:g.green-this.green,blue:g.blue-this.blue}},applyDiff:function(g){return this.add(g)},add:function(g){this.setRed(this.red+g.red);this.setGreen(this.green+g.green);this.setBlue(this.blue+g.blue);return this},subtract:function(g){this.setRed(this.red-g.red);this.setGreen(this.green-g.green);this.setBlue(this.blue-g.blue);return this},multiply:function(g){this.setRed(this.red*g);this.setGreen(this.green*
g);this.setBlue(this.blue*g);return this},divide:function(g){this.setRed(this.red/g);this.setGreen(this.green/g);this.setBlue(this.blue/g);return this},clone:function(){return new b(this.red,this.green,this.blue)},equals:function(g){return g===this||g?.isA?.(b)&&g.red===this.red&&g.green===this.green&&g.blue===this.blue}})})(myt);
(q=>{const {max:v,sin:u,cos:r,pow:h,sqrt:f,PI:d}=Math,l=2*d,k=d/2,a=q.global.idle,e=q.Color.makeColorFromHexString,b=(n,B)=>B*(1>(n*=2)?n*n/2:-(--n*(n-2)-1)/2),g={linear:n=>n,inQuad:n=>n*n,outQuad:n=>-n*(n-2),inOutQuad:n=>1>(n*=2)?n*n/2:-(--n*(n-2)-1)/2,inCubic:n=>n*n*n,outCubic:n=>--n*n*n+1,inOutCubic:n=>1>(n*=2)?n*n*n/2:((n-=2)*n*n+2)/2,inQuart:n=>n*n*n*n,outQuart:n=>-(--n*n*n*n-1),inOutQuart:n=>1>(n*=2)?n*n*n*n/2:-((n-=2)*n*n*n-2)/2,inQuint:n=>n*n*n*n*n,outQuint:n=>--n*n*n*n*n+1,inOutQuint:n=>
1>(n*=2)?n*n*n*n*n/2:((n-=2)*n*n*n*n+2)/2,inSine:n=>-r(n*k)+1,outSine:n=>u(n*k),inOutSine:n=>-(r(n*d)-1)/2,inCirc:n=>-(f(1-n*n)-1),outCirc:n=>f(1- --n*n),inOutCirc:n=>1>(n*=2)?-(f(1-n*n)-1)/2:(f(1-(n-=2)*n)+1)/2,inExpo:n=>0===n?0:h(2,10*(n-1)),outExpo:n=>1===n?1:-h(2,-10*n)+1,inOutExpo:n=>0===n||1===n?n:1>(n*=2)?h(2,10*(n-1))/2:(-h(2,-10*--n)+2)/2,inElastic:n=>0===n||1===n?n:-(h(2,10*--n)*u((1*n-.075)*l/.3)),outElastic:n=>0===n||1===n?n:h(2,-10*n)*u((1*n-.075)*l/.3)+1,inOutElastic:n=>0===n||1===n?
n:1>(n*=2)?-(h(2,10*--n)*u((1*n-.1125)*l/.45))/2:h(2,-10*--n)*u((1*n-.1125)*l/.45)/2+1,inBack:(n,B=1.70158)=>(n/=1)*n*((B+1)*n-B),outBack:(n,B=1.70158)=>(n=n/1-1)*n*((B+1)*n+B)+1,inOutBack:(n,B=1.70158)=>1>(n*=2)?n*n*(((B*=1.525)+1)*n-B)/2:((n-=2)*n*(((B*=1.525)+1)*n+B)+2)/2,inBounce:n=>1-g.outBounce(1-n),outBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,inOutBounce:n=>1>(n*=2)?g.inBounce(n)/2:(g.outBounce(n-
1)+1)/2,wiggle:n=>{n*=6;return 1>n?b(n-0,1):2>n?b(2-n,1):3>n?b(n-2,.5):4>n?b(4-n,.5):5>n?b(n-4,.25):b(6-n,.25)}},c=g.inOutQuad,p=n=>{n.__tmpFrom=!1;n.__loopCnt=n.reverse?n.repeat-1:0;n.__prog=n.reverse?n.duration:0},w=(n,B)=>{const {running:L,paused:z,reverse:D,duration:J,repeat:O,__prog:Q,easingFunction:m,callback:x}=n;if(L&&!z){D&&(B*=-1);B=Q+B;let G=0;B>J?(G=B-J,B=J,++n.__loopCnt===O&&(G=0)):0>B&&(G=-B,B=0,0>--n.__loopCnt&&0<O&&(G=0));var C=n.target??n.parent;if(C){const {relative:M,attribute:N,
__isColorAnim:P,__loopCnt:U,to:S}=n;var K=v(0,B/J),y=v(0,Q/J);null==n.from&&(n.__tmpFrom=!0,n.from=M?P?"#000":0:C.get(N));y=m(K)-(M?m(y):0);var A=n.from,E=M?C.get(N):A;K=C.set;if(P){A=e(A);const X=e(S);E=M?e(E):A;E.setRed(E.red+(X.red-A.red)*y);E.setGreen(E.green+(X.green-A.green)*y);E.setBlue(E.blue+(X.blue-A.blue)*y);y=E.getHtmlHexString()}else y=E+(S-A)*y;K.call(C,N,y);!D&&U===O||D&&0>U&&0<O?(n.setRunning(!1),x?.call(n,!0)):0<G?(n.fireEvent("repeat",U),n.__prog=D?J:0,w(n,G)):n.__prog=B}else console.log("No target for animator",
n),n.setRunning(!1),x?.call(n,!1)}},t=(n,B,L,z)=>{n.stopActiveAnimators(z,!0);const D=n[z];n.animate({attribute:z,from:D,to:D+B,duration:L,easingFunction:"wiggle"}).next(()=>{n.set(z,D)})};q.Animator=new JS.Class("Animator",q.Node,{include:[q.Reusable],extend:{easings:g,bounceView:(n,B=-6,L=900)=>{t(n,B,L,"y")},shakeView:(n,B=10,L=300)=>{t(n,B,L,"x")},wiggleView:t},initNode:function(n,B){this.duration=1E3;this.relative=this.reverse=this.running=this.paused=!1;this.repeat=1;this.easingFunction=c;this.callSuper(n,
B);p(this)},setRunning:function(n){if(this.running!==n&&(this.running=n,this.inited&&this.fireEvent("running",n),!this.paused)){if(n){const B=this.target??this.parent;this.__isColorAnim=B&&"function"===typeof B.isColorAttr?B.isColorAttr(this.attribute):void 0}else this.__tmpFrom&&(this.from=void 0),p(this);this[n?"attachTo":"detachFrom"](a,"__updateAnim","idle")}},setPaused:function(n){if(this.paused!==n&&(this.paused=n,this.inited&&this.fireEvent("paused",n),this.running))this[n?"detachFrom":"attachTo"](a,
"__updateAnim","idle")},setReverse:function(n){this.set("reverse",n,!0);this.inited&&!this.running&&p(this)},setRepeat:function(n){this.set("repeat",n,!0);this.inited&&!this.running&&p(this)},setDuration:function(n){this.set("duration",n,!0);this.inited&&!this.running&&p(this)},setEasingFunction:function(n){"string"===typeof n&&(n=g[n]);this.set("easingFunction",n??c,!0)},setFrom:function(n){this.set("from",n,!0)},setTo:function(n){this.set("to",n,!0)},setCallback:function(n){this.callback=n},next:function(n,
B){const L=this,z=L.callback;z&&!B?L.setCallback(D=>{z.call(L,D);n.call(L,D)}):L.setCallback(n)},reset:function(n){p(this);this.setRunning(!1);this.setPaused(!1);n&&this.callback?.call(this,!1)},clean:function(){this.to=this.from=this.attribute=this.callback=void 0;this.duration=1E3;this.relative=this.reverse=!1;this.repeat=1;this.easingFunction=c;this.reset(!1)},__updateAnim:function(n){w(this,n.value.delta)}})})(myt);
(q=>{const v=Array.isArray,u=f=>{f.__additionalArgs=[];f.__pendingTransition="";f.__transDestinationState="";f.__transStage="leaveState"},r=(f,d)=>{if(f.__transInProgress){var l=f.__deferredTransitions;l??=f.__deferredTransitions=[];l.unshift(d)}else{f.__transInProgress=!0;l=d.shift();const k=d.shift();if(f.__pendingTransition)return 3;if(f.isFinished())return f.__transInProgress=!1,5;let a=f.map[f.current][k];a??=f.map["*"][k];if(a)return f.__pendingTransition=k,f.__transDestinationState=a,f.__additionalArgs=
d,f.resumeTransition(l);f.__transInProgress=!1;return 5}},h=f=>{f.__transInProgress=!1;const d=f.__deferredTransitions;if(d)for(;0<d.length;)r(f,d.pop())};q.StateMachine=new JS.Class("StateMachine",q.Node,{extend:{SUCCEEDED:1,CANCELLED:2,PENDING:3,INVALID:4,NO_TRANSITION:5},initNode:function(f,d){this.map={};this.map["*"]={};this.current=this.initial=this.terminal="";u(this);this.callSuper(f,d)},setInitialState:function(f){if(""===this.current){if(v(f)){var d=f;f=d.shift()}else d=[];this.current=
this.initial=f;this.doEnterState("","",f,d);d={name:"",from:"",to:f,args:d};this.fireEvent("enter"+f,d);this.fireEvent("enter",d);this.isFinished()&&this.fireEvent("finished",d)}},setTerminalState:function(f){this.terminal=f},addTransitions:function(f){for(const d of f)this.addTransition(...d)},addTransition:function(f,d,l){d=d?v(d)?d:[d]:["*"];const k=this.map;let a=d.length;for(;a;){let e,b;((e=k)[b=d[--a]]??(e[b]={}))[f]=l}},doTransition:function(...f){f.unshift("sync");return r(this,f)},doAsyncTransition:function(...f){f.unshift("async");
return r(this,f)},resumeTransition:function(f){const d=this.__pendingTransition;if(!d)return 4;const l=this.current,k=this.__transDestinationState,a=this.__additionalArgs,e={name:d,from:l,to:k,args:a},b=this.fireEvent.bind(this);switch(this.__transStage){case "leaveState":const g=this.doLeaveState(d,l,k,a);if(!1===g)return u(this),h(this),2;if("async"===g||"async"===f)return this.__transStage="enterState",b("start"+d,e),b("start",e),b("leave"+l,e),b("leave",e),h(this),3;b("start"+d,e);b("start",e);
b("leave"+l,e);b("leave",e);case "enterState":this.current=k,u(this),this.doEnterState(d,l,k,a),b("enter"+k,e),b("enter",e),b("end"+d,e),b("end",e),this.isFinished()&&b("finished",e)}h(this);return 1},doLeaveState:(f,d,l,k)=>{},doEnterState:(f,d,l,k)=>{},isFinished:function(){return this.is(this.terminal)},isStarting:function(){return this.is(this.initial)},is:function(f){return v(f)?f.includes(this.current):this.current===f},can:function(f){return void 0!==this.map[this.current][f]?!0:void 0!==this.map["*"][f]}})})(myt);
(q=>{const v=(f,d)=>f.replicationIndex-d.replicationIndex,u=(f,d)=>{let l=f.length;for(;l;){const k=f[--l];k.decrementLockedCounter();d&&k.update()}},r=f=>{h(f);const d=f.template;d&&(f.__pool=new q.TrackActivesPool(d,f.parent))},h=f=>{const d=f.__pool;if(d){f=f.parent.getLayouts();let l=f.length;for(;l;)f[--l].incrementLockedCounter();d.putActives();d.destroyPooledInstances();u(f,!1);d.destroy()}};q.Replicable=new JS.Module("Replicable",{include:[q.Reusable],replicate:function(f,d){this.replicationData=
f;this.replicationIndex=d},notify:(f,d)=>{},clean:function(){this.replicationData=null;this.replicationIndex=-1},alreadyHasReplicationData:function(f,d){return d===this.replicationIndex&&f===this.replicationData}});q.Replicator=new JS.Class("Replicator",q.Node,{initNode:function(f,d){this.callSuper(f,d);r(this);this.doReplication()},destroy:function(){h(this);this.callSuper()},setTemplate:function(f){(this.template=f.includes(q.Replicable)?f:null)||q.dumpStack("Template not replicable");this.inited&&
(r(this),this.doReplication())},setData:function(f){this.data=f;this.inited&&this.doReplication()},getActiveReplicants:function(){return this.__pool.getActives()},doReplication:function(){const f=this.__pool;let d;if(f){d=this.parent.getLayouts();for(var l=d.length;l;)d[--l].incrementLockedCounter();const k=(l=this.data)?l.length:0,a=f.getActives(),e=a.length,b=[];let g=e,c,p;for(a.sort(v);g;)if(c=a[--g],p=c.replicationIndex,p>=k||!c.alreadyHasReplicationData(l[p],p))b[p]=c;for(g=b.length;g;)(c=b[--g])&&
f.putInstance(c);for(g=0;k>g;++g)(g>=e||null!=b[g])&&f.getInstance().replicate(l[g],g);for(g=d.length;g;)d[--g].sortSubviews(v);u(d,!0)}},notify:function(f,d){var l=this.__pool;if(l){l=l.getActives();let k=l.length;for(;k;)l[--k].notify(f,d)}}})})(myt);
(q=>{const v=JS.Singleton,u=document,{DomElementProxy:r,DomObservable:h,global:{register:f}}=q;new v("GlobalMouse",{include:[r,h,q.MouseObservable],initialize:function(){this.setDomElement(u);f("mouse",this)}});new v("GlobalTouch",{include:[r,h,q.TouchObservable],initialize:function(){this.setDomElement(u);f("touch",this)}})})(myt);
(q=>{let v,u,r;const h=[],f=[],d=a=>{const e=r;e!==a&&(e&&(e.notifyDragLeave(u),u.destroyed||u.notifyDragLeaving(e),v("dragLeave",e)),r=a)&&(a.notifyDragEnter(u),u.destroyed||u.notifyDragEntering(a),v("dragEnter",e))},l=a=>{let e=u;if(e!==a)if(u=a){e=a;for(const b of k(e,f))b.notifyDragStart(e);for(const b of k(e,h))b.notifyAutoScrollerDragStart(e);v("startDrag",a)}else{for(const b of k(e,f))b.notifyDragStop(e);for(const b of k(e,h))b.notifyAutoScrollerDragStop(e);v("stopDrag",a)}},k=(a,e)=>{if(a.destroyed)return[];
if(a.isAnyDragGroup())return e;const b=[];a=a.getDragGroups();let g=e.length;for(;g;){const c=e[--g];if(c.isAnyDropGroup())b.push(c);else{const p=c.getDropGroups();for(const w in a)if(p[w]){b.push(c);break}}}return b};new JS.Singleton("GlobalDragManager",{include:[q.Observable],initialize:function(){q.global.register("dragManager",this);v=this.fireEvent.bind(this)},getDragView:()=>u,registerAutoScroller:a=>{h.push(a)},unregisterAutoScroller:a=>{a=h.indexOf(a);-1<a&&h.splice(a,1)},registerDropTarget:a=>
{f.push(a)},unregisterDropTarget:a=>{a=f.indexOf(a);-1<a&&f.splice(a,1)},startDrag:a=>{l(a)},stopDrag:(a,e,b)=>{e.notifyDropped(r,b);b||r?.notifyDrop(e);d();l();r&&!b&&v("drop",[e,r])},updateDrag:(a,e)=>{const b=k(e,f);let g=b.length,c;if(0<g){const {pageX:p,pageY:w}=a.value;for(;g;)a=b[--g],a.willAcceptDrop(e)&&e.willPermitDrop(a)&&a.isPointVisible(p,w)&&(!c||a.isInFrontOf(c))&&(c=a)}d(c)}})})(myt);
(q=>{const v=JS.Module,{mouse:u,keys:r,idle:h}=q.global;q.Activateable=new v("Activateable",{doActivated:()=>{}});q.UpdateableUI=new v("UpdateableUI",{initNode:function(f,d){this.callSuper(f,d);this.updateUI()},updateUI:()=>{}});q.Disableable=new v("Disableable",{initNode:function(f,d){d.disabled??(d.disabled=!1);this.callSuper(f,d)},setDisabled:function(f){f=this.valueFromEvent(f);this.disabled!==f&&(this.disabled=f,this.inited&&this.fireEvent("disabled",f),this.doDisabled())},doDisabled:function(){this.inited&&
(this.disabled&&this.giveAwayFocus?.(),this.updateUI?.())}});q.KeyActivation=new v("KeyActivation",{extend:{ACTIVATION_KEYS:[r.CODE_ENTER,r.CODE_SPACE],NO_KEY_DOWN:""},initNode:function(f,d){this.activateKeyDown="";d.activationKeys??(d.activationKeys=q.KeyActivation.ACTIVATION_KEYS);this.callSuper(f,d);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyPress","keypress");this.attachToDom(this,"__hndlKeyUp","keyup");this.attachToDom(this,"__doDomBlur","blur")},setActivationKeys:function(f){this.activationKeys=
f??[]},setRepeatKeyDown:function(f){this.repeatKeyDown=f},__hndlKeyDown:function(f){if(!this.disabled&&(""===this.activateKeyDown||this.repeatKeyDown)){const d=q.KeyObservable.getCodeFromEvent(f);this.activationKeys.includes(d)&&(this.activateKeyDown===d?this.doActivationKeyDown(d,!0):(this.activateKeyDown=d,this.doActivationKeyDown(d,!1)),f.value.preventDefault())}},__hndlKeyPress:function(f){if(!this.disabled){const d=q.KeyObservable.getCodeFromEvent(f);this.activateKeyDown===d&&this.activationKeys.includes(d)&&
f.value.preventDefault()}},__hndlKeyUp:function(f){if(!this.disabled){const d=q.KeyObservable.getCodeFromEvent(f);this.activateKeyDown===d&&this.activationKeys.includes(d)&&(this.activateKeyDown="",this.doActivationKeyUp(d),f.value.preventDefault())}},__doDomBlur:function(f){this.disabled||(f=this.activateKeyDown,""!==f&&(this.activateKeyDown="",this.doActivationKeyAborted(f)))},doActivationKeyDown:(f,d)=>{},doActivationKeyUp:function(f){this.doActivated()},doActivationKeyAborted:f=>{}});q.ArrowKeyActivation=
new v("KeyActivation",{doActivationKeyDown:function(f,d){switch(f){case r.CODE_ARROW_LEFT:if(this.doKeyArrowLeftOrUp(!0,d))return;break;case r.CODE_ARROW_UP:if(this.doKeyArrowLeftOrUp(!1,d))return;break;case r.CODE_ARROW_RIGHT:if(this.doKeyArrowRightOrDown(!0,d))return;break;case r.CODE_ARROW_DOWN:if(this.doKeyArrowRightOrDown(!1,d))return}this.callSuper(f,d)},doKeyArrowLeftOrUp:(f,d)=>{},doKeyArrowRightOrDown:(f,d)=>{}});q.MouseOver=new v("MouseOver",{initNode:function(f,d){d.mouseOver??(d.mouseOver=
!1);this.callSuper(f,d);this.attachToDom(this,"doMouseOver","mouseover");this.attachToDom(this,"doMouseOut","mouseout")},setMouseOver:function(f){this.mouseOver!==f&&(this.mouseOver=f,this.inited&&!this.__attachedToOverIdle&&(this.__attachedToOverIdle=!0,this.attachTo(h,"__doMouseOverOnIdle","idle")))},setDisabled:function(f){this.callSuper(f);this.disabled?this.mouseOver&&(this.__disabledOver=!0,this.setMouseOver(!1)):this.__disabledOver&&this.setMouseOver(!0)},__doMouseOverOnIdle:function(){this.detachFrom(h,
"__doMouseOverOnIdle","idle");this.__attachedToOverIdle=!1;const f=this.mouseOver;this.__lastOverIdleValue!==f&&(this.__lastOverIdleValue=f,this.doSmoothMouseOver(f))},doSmoothMouseOver:function(f){this.inited&&this.updateUI?.()},doMouseOver:function(f){this.__disabledOver=!0;this.disabled||this.setMouseOver(!0)},doMouseOut:function(f){this.__disabledOver=!1;this.disabled||this.setMouseOver(!1)}});q.MouseDown=new v("MouseDown",{initNode:function(f,d){d.mouseDown??(d.mouseDown=!1);this.callSuper(f,
d);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},setMouseDown:function(f){this.mouseDown!==f&&(this.mouseDown=f,this.inited&&(f&&this.isFocusable()&&this.focus(!0),this.updateUI?.()))},setDisabled:function(f){f&&this.mouseDown&&this.setMouseDown(!1);this.callSuper(f)},doMouseOver:function(f){this.callSuper(f);this.mouseDown&&this.detachFromDom(u,"doMouseUp","mouseup",!0)},doMouseOut:function(f){this.callSuper(f);!this.disabled&&this.mouseDown&&this.attachToDom(u,
"doMouseUp","mouseup",!0)},doMouseDown:function(f){this.disabled?this.doMouseDownWhenDisabled():this.setMouseDown(!0)},doMouseDownWhenDisabled:()=>{},doMouseUp:function(f){this.mouseOver||this.detachFromDom(u,"doMouseUp","mouseup",!0);!this.disabled&&this.mouseDown&&(this.setMouseDown(!1),this.mouseOver&&this.doMouseUpInside(f))},doMouseUpInside:function(f){this.doActivated?.()}});q.MouseOverAndDown=new v("MouseOverAndDown",{include:[q.MouseOver,q.MouseDown]});q.MouseEventsBubbleUp=new v("MouseEventsBubbleUp",
{doMouseOver:function(f){this.callSuper(f);return!0},doMouseOut:function(f){this.callSuper(f);return!0},doMouseDown:function(f){this.callSuper(f);return!0},doMouseUp:function(f){this.callSuper(f);return!0}});q.Draggable=new v("Draggable",{initNode:function(f,d){this.isDraggable=this.isDragging=!1;this.draggableAllowBubble=!0;this.distanceBeforeDrag=this.dragOffsetX=this.dragOffsetY=0;let l=!0;null!=d.isDraggable&&(l=d.isDraggable,delete d.isDraggable);this.callSuper(f,d);this.setIsDraggable(l)},setIsDraggable:function(f){if(this.isDraggable!==
f){this.isDraggable=f;let d;f?d=this.attachToDom:this.inited&&(d=this.detachFromDom);if(d){f=this.getDragViews();let l=f.length;for(;l;){const k=f[--l];d.call(this,k,"__doMouseDown","mousedown");d.call(this,k,"__doContextMenu","contextmenu")}}}},setIsDragging:function(f){this.set("isDragging",f,!0)},setDragOffsetX:function(f,d){this.dragOffsetX!==f&&(this.dragOffsetX=f,this.inited&&this.isDragging&&!d&&this.reRequestDragPosition())},setDragOffsetY:function(f,d){this.dragOffsetY!==f&&(this.dragOffsetY=
f,this.inited&&this.isDragging&&!d&&this.reRequestDragPosition())},setDistanceBeforeDrag:function(f){this.distanceBeforeDrag=f},setDraggableAllowBubble:function(f){this.draggableAllowBubble=f},setCenterOnMouse:function(f){this.centerOnMouse=f},setAllowAbort:function(f){this.allowAbort=f},getDragViews:function(){return[this]},__doContextMenu:f=>{},__doMouseDown:function(f){const d=q.MouseObservable.getMouseFromEvent(f),l=this.getODE();this.dragInitX=d.x-l.offsetLeft;this.dragInitY=d.y-l.offsetTop;
this.attachToDom(u,"__doMouseUp","mouseup",!0);0<this.distanceBeforeDrag?this.attachToDom(u,"__doDragCheck","mousemove",!0):this.startDrag(f);f.value.preventDefault();return this.draggableAllowBubble},__doMouseUp:function(f){this.isDragging?this.stopDrag(f,!1):(this.detachFromDom(u,"__doMouseUp","mouseup",!0),this.detachFromDom(u,"__doDragCheck","mousemove",!0));return this.draggableAllowBubble},__watchForAbort:function(f){f.value===r.CODE_ESC&&this.stopDrag(f,!0)},__doDragCheck:function(f){const d=
q.MouseObservable.getMouseFromEvent(f);q.Geometry.measureDistance(d.x,d.y,this.dragInitX+this.x,this.dragInitY+this.y)>=this.distanceBeforeDrag&&(this.detachFromDom(u,"__doDragCheck","mousemove",!0),this.startDrag(f))},startDrag:function(f){this.centerOnMouse&&(this.syncTo(this,"__updateDragInitX","width"),this.syncTo(this,"__updateDragInitY","height"));this.allowAbort&&this.attachTo(r,"__watchForAbort","keyup");this.setIsDragging(!0);this.attachToDom(u,"updateDrag","mousemove",!0);this.updateDrag(f)},
updateDrag:function(f){this.__lastMousePosition=q.MouseObservable.getMouseFromEvent(f);this.reRequestDragPosition()},__updateDragInitX:function(f){this.dragInitX=this.width/2*(this.scaleX||1)},__updateDragInitY:function(f){this.dragInitY=this.height/2*(this.scaleY||1)},stopDrag:function(f,d){this.detachFromDom(u,"__doMouseUp","mouseup",!0);this.detachFromDom(u,"updateDrag","mousemove",!0);this.centerOnMouse&&(this.detachFrom(this,"__updateDragInitX","width"),this.detachFrom(this,"__updateDragInitY",
"height"));this.allowAbort&&this.detachFrom(r,"__watchForAbort","keyup");this.setIsDragging(!1)},requestDragPosition:function(f,d){this.disabled||(this.setX(f),this.setY(d))},reRequestDragPosition:function(){const f=this.__lastMousePosition;this.requestDragPosition(f.x-this.dragInitX+this.dragOffsetX,f.y-this.dragInitY+this.dragOffsetY)}})})(myt);
(q=>{const {Class:v,Module:u}=JS,{View:r,KeyActivation:h,theme:f}=q;var d=q.Button=new u("Button",{include:[q.Activateable,q.UpdateableUI,q.Disableable,q.MouseOverAndDown,h],initNode:function(k,a){a.focusable??(a.focusable=!0);a.cursor??(a.cursor="pointer");this.callSuper(k,a)},setFocused:function(k){const a=this.focused;this.callSuper(k);this.inited&&this.focused!==a&&this.updateUI()},doActivationKeyDown:function(k,a){a||this.updateUI()},doActivationKeyUp:function(k){this.callSuper(k);this.updateUI()},
doActivationKeyAborted:function(k){this.callSuper(k);this.updateUI()},updateUI:function(){if(this.disabled)this.__restoreCursor??(this.__restoreCursor=this.cursor),this.setCursor("not-allowed"),this.drawDisabledState();else{const k=this.__restoreCursor;k&&(this.setCursor(k),this.__restoreCursor=null);this.activateKeyDown!==h.NO_KEY_DOWN||this.mouseDown?this.drawActiveState():this.focused?this.drawFocusedState():this.mouseOver?this.drawHoverState():this.drawReadyState()}},drawFocusedState:function(){this.drawHoverState()},
drawHoverState:()=>{},drawActiveState:()=>{},drawReadyState:()=>{},drawDisabledState:()=>{},showFocusIndicator:function(){this.hideDefaultFocusIndicator()},hideFocusIndicator:function(){this.hideDefaultFocusIndicator()}});d=q.SimpleButtonStyle=new u("SimpleButtonStyle",{include:[d],setActiveColor:function(k){this.activeColor!==k&&(this.activeColor=k,this.inited&&this.updateUI())},setHoverColor:function(k){this.hoverColor!==k&&(this.hoverColor=k,this.inited&&this.updateUI())},setReadyColor:function(k){this.readyColor!==
k&&(this.readyColor=k,this.inited&&this.updateUI())},drawDisabledState:function(){this.draw(this.readyColor,f.disabledOpacity)},drawHoverState:function(){this.draw(this.hoverColor)},drawActiveState:function(){this.draw(this.activeColor)},drawReadyState:function(){this.draw(this.readyColor)},draw:function(k,a=1){this.setOpacity(a);this.setBgColor(k)}});const l=q.SimpleButton=new v("SimpleButton",r,{include:[d],initNode:function(k,a){this.activeColor=this.hoverColor=this.readyColor="transparent";this.callSuper(k,
a)}});q.SimpleTextButton=new v("SimpleTextButton",l,{initNode:function(k,a){this.inset=this.outset=0;a.shrinkToFit??(a.shrinkToFit=!1);a.height??(a.height=24);a.textY??(a.textY="middle");this.callSuper(k,a);k=this.textY;a={whiteSpace:this.shrinkToFit?"nowrap":"normal",text:this.text,domClass:"myt-Text mytButtonText"};"string"===typeof k?a.valign=k:a.y=k;k=this.textView=new q.Text(this,a);this.constrain("__updateContent",[this,"inset",this,"outset",this,"width",this,"shrinkToFit",k,"visible",k,"width",
k,"height",k,"y"])},setInset:function(k){this.set("inset",this.valueFromEvent(k),!0)},setOutset:function(k){this.set("outset",this.valueFromEvent(k),!0)},setText:function(k){this.text!==k&&(this.text=k,this.inited&&(this.textView.setText(k),this.fireEvent("text",k)))},setShrinkToFit:function(k){this.shrinkToFit!==k&&(this.shrinkToFit=k,this.inited&&(this.textView.setWhiteSpace(k?"nowrap":"normal"),this.fireEvent("shrinkToFit",k)))},setTextY:function(k){if(this.textY!==k&&(this.textY=k,this.inited)){const a=
this.textView;this.fireEvent("textY",k);"string"===typeof k?a.setValign(k):(a.setValign(""),a.setY(k))}},__updateContent:function(k){if(!this.__updateContentLoopBlock&&!this.destroyed){const {inset:a,outset:e,textView:b}=this;this.__updateContentLoopBlock=!0;b.setX(a);this.shrinkToFit?this.setWidth(a+(b.visible&&this.text?b.width:0)+e):b.setWidth(this.width-a-e);this.__updateContentLoopBlock=!1}}});q.TextButton=new v("TextButton",q.PaddedText,{include:[d],initNode:function(k,a){a.focusIndicator??
(a.focusIndicator=!1);a.roundedCorners??(a.roundedCorners=3);a.textAlign??(a.textAlign="center");a.paddingTop??(a.paddingTop=1);a.height??(a.height=23-(a.paddingTop??0));a.activeColor??(a.activeColor=f.TextButtonActive);a.hoverColor??(a.hoverColor=f.TextButtonHover);a.readyColor??(a.readyColor=f.TextButtonReady);this.callSuper(k,a)}})})(myt);
(q=>{const v=console.warn,{focus:u,mouse:r,windowResize:h}=q.global,f={};q.FloatingPanelAnchor=new JS.Module("FloatingPanelAnchor",{extend:{getFloatingPanel:d=>f[d]},initNode:function(d,l){this.floatingAlign="insideLeft";this.floatingValign="outsideBottom";this.keepInWindow=!1;this.floatingAlignOffset=this.floatingValignOffset=this.keepInWindowBorder=0;this.callSuper(d,l)},setLastFloatingPanelShown:function(d){this.lastFloatingPanelShown=d},setLastFloatingPanelId:function(d){this.floatingPanelId=
d},setFloatingAlign:function(d){this.set("floatingAlign",d,!0)},setFloatingValign:function(d){this.set("floatingValign",d,!0)},setFloatingAlignOffset:function(d){this.set("floatingAlignOffset",d,!0)},setFloatingValignOffset:function(d){this.set("floatingValignOffset",d,!0)},setKeepInWindow:function(d){this.set("keepInWindow",d,!0)},setKeepInWindowBorder:function(d){this.set("keepInWindowBorder",d,!0)},createFloatingPanel:function(d,l,k){d=d??this.floatingPanelId;k=k??{};k.panelId=d;return f[d]=new l(null,
k)},getFloatingPanel:function(d){return f[d??this.floatingPanelId]},toggleFloatingPanel:function(d){this.getFloatingPanel(d??=this.floatingPanelId)?.isShown()?this.hideFloatingPanel(d):this.showFloatingPanel(d)},showFloatingPanel:function(d){if(d=this.getFloatingPanel(d??this.floatingPanelId))d.show(this),this.setLastFloatingPanelShown(d)},hideFloatingPanel:function(d){if(d=this.getFloatingPanel(d??this.floatingPanelId))d.hide(),this.setLastFloatingPanelShown()},notifyPanelShown:function(d){this.callSuper?.()},
notifyPanelHidden:function(d){this.callSuper?.()},getFloatingAlignForPanel:function(d){return this.floatingAlign},getFloatingValignForPanel:function(d){return this.floatingValign},getFloatingAlignOffsetForPanel:function(d){return this.floatingAlignOffset},getFloatingValignOffsetForPanel:function(d){return this.floatingValignOffset},getNextFocus:function(){const d=this.lastFloatingPanelShown;return d?.isShown()?d:this.callSuper?.()},getNextFocusAfterPanel:function(d){return this},getPrevFocusAfterPanel:function(d){return this}});
q.FloatingPanel=new JS.Class("FloatingPanel",q.View,{include:[q.RootView],initNode:function(d,l){this.ignoreOwnerForHideOnMouseDown=this.ignoreOwnerForHideOnBlur=this.hideOnBlur=this.hideOnMouseDown=!0;l.visible=l.focusIndicator=!1;l.focusable=l.focusCage=!0;this.callSuper(d,l)},setOwner:function(d){this.owner=d},setPanelId:function(d){this.panelId=d},setIgnoreOwnerForHideOnMouseDown:function(d){this.ignoreOwnerForHideOnMouseDown=d},setHideOnBlur:function(d){this.hideOnBlur=d},setHideOnMouseDown:function(d){this.hideOnMouseDown=
d},setWidth:function(d){const l=this.width;this.callSuper(d);this.isShown()&&l!==this.width&&this.owner?.keepInWindow&&this.updateLocationX(this.owner)},setHeight:function(d){const l=this.height;this.callSuper(d);this.isShown()&&l!==this.height&&this.owner?.keepInWindow&&this.updateLocationY(this.owner)},__doMouseDown:function(d){var l=d.value;d=l.pageX;l=l.pageY;this.containsPoint(d,l)||this.ignoreOwnerForHideOnMouseDown&&this.owner.containsPoint(d,l)||this.doMouseDownOutside(!0);return!0},doMouseDownOutside:function(d){this.hideOnMouseDown&&
this.hide(d)},focus:function(d){if(this.owner&&this.isAncestorOf(u.focusedView))this.owner[(u.lastTraversalWasForward?"getNext":"getPrev")+"FocusAfterPanel"](this.panelId).focus(d);else{const l=this.getFirstFocusableDescendant();l===this?this.callSuper(d):l.focus(d)}},getFirstFocusableDescendant:function(){return this},__doFocusChange:function(d){(d=d.value)&&!this.isAncestorOf(d)&&this.doLostFocus()},doLostFocus:function(){!this.hideOnBlur||this.ignoreOwnerForHideOnBlur&&u.focusedView===this.owner||
this.hide(!0)},isShown:function(){return this.visible},show:function(d){this.isShown()||(this.bringToFront(),this.updateLocation(d),this.setVisible(!0),this.owner.notifyPanelShown(this),this.attachToDom(r,"__doMouseDown","mousedown",!0),this.attachTo(u,"__doFocusChange","focused"))},hide:function(d){this.isShown()&&(this.detachFromDom(r,"__doMouseDown","mousedown",!0),this.detachFrom(u,"__doFocusChange","focused"),this.setVisible(!1),this.owner.notifyPanelHidden(this),d||this.restoreFocus(),this.setOwner())},
restoreFocus:function(){this.owner?.focus()},updateLocation:function(d){this.setOwner(d);this.updateLocationX(d);this.updateLocationY(d)},updateLocationX:function(d){const l=d.getFloatingAlignForPanel(this),k=typeof l;let a;if("string"===k){a=d.getPagePosition().x+d.getFloatingAlignOffsetForPanel(this);switch(l){case "outsideRight":a+=d.width;break;case "insideRight":a+=d.width-this.width;break;case "outsideLeft":a-=this.width;break;case "insideLeft":break;default:v("Invalid align value",k,l)}d.keepInWindow&&
(d=a+this.width+(d.keepInWindowBorder||0)-h.getWidth(),0<d&&(a-=d))}else"number"===k?a=l:v("Invalid align type",k,l);this.setX(a)},updateLocationY:function(d){const l=d.getFloatingValignForPanel(this),k=typeof l;let a;if("string"===k){a=d.getPagePosition().y+d.getFloatingValignOffsetForPanel(this);switch(l){case "outsideBottom":a+=d.height;break;case "insideBottom":a+=d.height-this.height;break;case "outsideTop":a-=this.height;break;case "insideTop":break;default:v("Invalid valign value",k,l)}d.keepInWindow&&
(d=a+this.height+(d.keepInWindowBorder||0)-h.getHeight(),0<d&&(a-=d))}else"number"===k?a=l:v("Invalid valign type",k,l);this.setY(a)}})})(myt);
(q=>{const {Class:v,Module:u}=JS,r=Math,{View:h,global:f}=q,d=f.focus,l=f.keys,{LIST_KEYS:k,CODE_ESC:a}=l,e=g=>{const c=g.itemConfig??[],p=c.length,{items:w,defaultItemClass:t,fixedWidth:n}=g,B=w.length,L=0<n,z=g.getContentView(),D=z.getLayouts();let J=0;for(var O of D)O.incrementLockedCounter();h.doWhileRemovedFromDom(z,()=>{const Q={listView:g};L&&(Q.width=n,Q.enableEllipsis=!0);for(;p>J;++J){var m=c[J];const x=m.klass??t;m=m.attrs??{};let C=w[J];C&&!C.isA(x)&&(C.destroy(),C=null);C??=w[J]=new x(z,
{...Q});C&&(C.callSetters(m),C.__LAYOUT_IDX=J)}});if(L)O=n;else for(O=g.minWidth,J=0;p>J;){const Q=w[J++];Q.syncToDom();O=r.max(O,Q.getMinimumWidth())}for(;B>J;)w[J++].destroy();w.length=p;if(!L)for(J=0;p>J;)g.updateItemWidth(w[J++],O);g.updateContentWidth(z,O);for(const Q of D)Q.sortSubviews((m,x)=>m.__LAYOUT_IDX-x.__LAYOUT_IDX),Q.decrementLockedCounter(),Q.update()},b=q.ListViewItemMixin=new u("ListViewItemMixin",{setListView:function(g){this.listView=g},getMinimumWidth:()=>0,syncToDom:()=>{}});
q.ListView=new v("ListView",q.FloatingPanel,{initNode:function(g,c){this.items=[];this.maxHeight=-1;this.minWidth=0;c.defaultItemClass??(c.defaultItemClass=q.ListViewItem);c.overflow??(c.overflow="autoy");c.bgColor??(c.bgColor="#ccc");c.boxShadow??(c.boxShadow=q.theme.focusShadow);this.callSuper(g,c);e(this);this.buildLayout(this.getContentView())},buildLayout:g=>{new q.SpacedLayout(g,{axis:"y",spacing:1,collapseParent:!0})},setMinWidth:function(g){this.minWidth=g},setDefaultItemClass:function(g){this.defaultItemClass=
g},setItemConfig:function(g){this.itemConfig=g;this.inited&&e(this)},getContentView:function(){return this},setMaxHeight:function(g){this.maxHeight!==g&&(this.maxHeight=g,this.inited&&(this.fireEvent("maxHeight",g),this.setHeight(this.height)))},setHeight:function(g){this.callSuper(0<=this.maxHeight?r.min(this.maxHeight,g):g);this.inited&&this.owner&&this.updateLocationY(this.owner)},doItemActivated:function(g){this?.owner.doItemActivated(g)},getFirstFocusableDescendant:function(){return this.getFirstFocusableItem()??
this.callSuper()},getFirstFocusableItem:function(){return this.items.find(g=>g.isFocusable())},getLastFocusableItem:function(){return this.items.findLast(g=>g.isFocusable())},focusToLastItem:function(){this.getLastFocusableItem()?.focus()},focusToFirstItem:function(){this.getFirstFocusableItem()?.focus()},updateItemWidth:(g,c)=>{g.setWidth(c)},updateContentWidth:(g,c)=>{g.setWidth(c)}});q.ListViewAnchor=new u("ListViewAnchor",{include:[q.FloatingPanelAnchor,q.ArrowKeyActivation],initNode:function(g,
c){c.listViewClass??(c.listViewClass=q.ListView);c.listViewAttrs??(c.listViewAttrs={});c.itemConfig??(c.itemConfig=[]);c.activationKeys??(c.activationKeys=k);this.callSuper(g,c)},setListViewClass:function(g){this.listViewClass=g},setListViewAttrs:function(g){this.listViewAttrs=g},setItemConfig:function(g){this.itemConfig=g},getFloatingValignForPanel:function(g){var c=g.height,p=this.getPagePosition().y,w=f.windowResize.getHeight()-this.getPagePosition().y-this.height;g=p-c;c=w-c;p=p>w;w=this.floatingValign;
switch(w){case "outsideBottom":0>c&&p&&(w="outsideTop");break;case "insideBottom":0>c&&p&&(w="insideTop");break;case "outsideTop":0>g&&!p&&(w="outsideBottom");break;case "insideTop":0>g&&!p&&(w="insideBottom")}return w},doItemActivated:function(g){this.hideFloatingPanel()},getFloatingPanel:function(g){return this.callSuper(g)??this.createFloatingPanel(g,this.listViewClass,this.listViewAttrs)},showFloatingPanel:function(g){const c=this.getFloatingPanel(g);c&&(c.setItemConfig(this.itemConfig),this.callSuper(g))},
doActivationKeyDown:function(g,c){g===a?this.hideFloatingPanel():this.callSuper(g,c)},doKeyArrowLeftOrUp:function(g,c){this.focusToLastItem()},doKeyArrowRightOrDown:function(g,c){this.focusToFirstItem()},doActivationKeyUp:function(g){if(g!==a)switch(this.callSuper(g),g){case l.CODE_ARROW_LEFT:case l.CODE_ARROW_UP:this.focusToLastItem();break;case l.CODE_ARROW_RIGHT:case l.CODE_ARROW_DOWN:this.focusToFirstItem()}},focusToLastItem:function(){const g=this.getFloatingPanel();g?.isShown()&&g.focusToLastItem()},
focusToFirstItem:function(){const g=this.getFloatingPanel();g?.isShown()&&g.focusToFirstItem()},updateEntryAttr:function(g,c,p){(g=this.getEntryByValue(g))&&(g.attrs[c]=p);return g},getEntryByValue:function(g){return this.itemConfig.find(c=>c?.attrs&&c.attrs.value===g)}});q.ListViewItem=new v("ListViewItem",q.TextButton,{include:[b,q.ArrowKeyActivation],initNode:function(g,c){c.activeColor??(c.activeColor="#bbb");c.hoverColor??(c.hoverColor="#fff");c.readyColor??(c.readyColor="#eee");c.paddingLeft??
(c.paddingLeft=8);c.paddingRight??(c.paddingRight=8);c.textAlign??(c.textAlign="left");c.roundedCorners??(c.roundedCorners=0);c.activationKeys??(c.activationKeys=k);c.focusIndicator??(c.focusIndicator=!0);const p=this.__enableEllipsis=c.enableEllipsis;delete c.enableEllipsis;this.callSuper(g,c);this.addDomClass("mytButtonText");p&&this.enableEllipsis()},setText:function(g){this.callSuper(g);this.__enableEllipsis&&this.setTooltip(this.text)},syncToDom:function(){this.getIDS().width="auto";this.sizeViewToDom()},
getMinimumWidth:function(){return r.ceil(this.measureNoWrapWidth())},doActivated:function(){this.listView.doItemActivated(this)},doActivationKeyDown:function(g,c){g===a?this.listView.owner.hideFloatingPanel():this.callSuper(g,c)},doKeyArrowLeftOrUp:function(g,c){d.prev()},doKeyArrowRightOrDown:function(g,c){d.next()}});q.ListViewSeparator=new v("ListViewSeparator",h,{include:[b],initNode:function(g,c){c.height??(c.height=1);c.bgColor??(c.bgColor="#666");this.callSuper(g,c)}})})(myt);
(q=>{const v=q.AccessorSupport,u=v.generateSetterName,r={},h=q.BAG=new JS.Class("BAG",{include:[v,q.Destructible,q.Observable],extend:{getGroup:(f,d)=>{if(f&&d){let l;return(l=r[f]??(r[f]={}))[d]??(l[d]=new h(f,d))}},removeGroup:(f,d)=>{if(f&&d&&(f=r[f])){const l=f[d];l&&delete f[d];return l}}},initialize:function(f,d){this.__nodes=[];this.trueNode=null;this.attrName=f;this.groupId=d},destroy:function(){this.trueNode&&this.setTrueNode(null);0===this.__nodes.length&&h.removeGroup(this.attrName,this.groupId);
this.__nodes.length=0;this.detachAllObservers();this.callSuper()},setGroupId:function(f){this.set("groupId",f,!0)},setAttrName:function(f){this.set("attrName",f,!0)},setTrueNode:function(f){this.set("trueNode",f,!0)},getNodes:function(){return this.__nodes},register:function(f){f&&!this.isRegistered(f)&&(this.__nodes.push(f),f[this.attrName]&&this.setTrue(f))},unregister:function(f){if(f){const d=this.__nodes,l=d.indexOf(f);-1<l&&d.splice(l,1);this.trueNode===f&&this.setTrueNode(null);0===d.length&&
this.destroy()}},setTrue:function(f){if(f&&this.trueNode!==f&&this.isRegistered(f)){const d=this.attrName,l=u(d),k=this.__nodes;let a=k.length;for(this.setTrueNode(f);a;){const e=k[--a];if(f===e){if(!e[d])e[l](!0)}else if(e[d])e[l](!1)}}},setFalse:function(f){f&&this.trueNode===f&&(f[u(this.attrName)](!1),this.setTrueNode(null))},isRegistered:function(f){return this.__nodes.includes(f)}});q.BAGMembership=new JS.Module("BAGMembership",{initNode:function(f,d){this.__bags=[];this.callSuper(f,d)},destroy:function(){const f=
this.__bags;let d=f.length;for(;d;){const l=f[--d];this.removeFromBAG(l.attrName,l.groupId)}this.callSuper()},isRegisteredWithBAG:function(f){return this.__bags.includes(f)},getBAG:(f,d)=>h.getGroup(f,d),addToBAG:function(f,d){d=this.getBAG(f,d);this.isRegisteredWithBAG(d)||(this.__bags.push(d),d.register(this),this.isAttachedTo(this,"__updateForBAG",f)||this.attachTo(this,"__updateForBAG",f))},removeFromBAG:function(f,d){d=this.getBAG(f,d);if(this.isRegisteredWithBAG(d)){const l=this.__bags;let k=
l.length,a=!0;for(;k;){const e=l[--k];e===d?(l.splice(k,1),d.unregister(this)):e.attrName===f&&(a=!1)}a&&this.detachFrom(this,"__updateForBAG",f)}},__updateForBAG:function(f){for(const d of this.__bags)if(d.attrName===f.type)d[f.value?"setTrue":"setFalse"](this)}})})(myt);
(q=>{const v=u=>{const r=u.label||"";u.setText('<i class="far fa-'+(!0===u.selected?"dot-":"")+'circle"></i>'+(0<r.length?" ":"")+r)};q.Radio=new JS.Class("Radio",q.Text,{include:[q.SimpleButtonStyle,q.BAGMembership],initNode:function(u,r){r.selected??(r.selected=!1);r.groupId??(r.groupId=q.generateGuid());r.focusIndicator??(r.focusIndicator=!1);r.activeColor??(r.activeColor="inherit");r.hoverColor??(r.hoverColor="inherit");r.readyColor??(r.readyColor="inherit");const h=r.value;delete r.value;this.callSuper(u,
r);this.setValue(h);this.selected&&this.getBAG("selected",this.groupId)?.setTrue(this);q.FontAwesome.registerForNotification(this);v(this)},setOptionValue:function(u){this.set("optionValue",u,!0)},setValue:function(u){if(this.inited){const r=this.getBAG("selected",this.groupId);if(r){const h=r.getNodes();let f=h.length;for(;f;){const d=h[--f];if(d.optionValue===u){r.setTrue(d);break}}}}},getValue:function(){var u=this.getBAG("selected",this.groupId);return(u=u?u.trueNode:null)?u.optionValue:null},
setSelected:function(u){this.selected!==u&&(this.selected=u,this.inited&&(this.fireEvent("selected",u),v(this)))},setGroupId:function(u){if(this.groupId!==u){const r=this.groupId;this.groupId=u;r&&this.removeFromBAG("selected",r);u&&this.addToBAG("selected",u);this.inited&&this.fireEvent("groupId",u)}},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&v(this))},doActivated:function(){this.selected||this.setValue(this.optionValue)},draw:function(u,r=1){this.setOpacity(r);this.setTextColor(u)}})})(myt);
(q=>{const v=JS.Module,u=q.global.keys,r=q.Selectable=new v("Selectable",{setSelected:function(f){f=this.valueFromEvent(f);this.selected!==f&&(this.selected=f,this.inited&&this.fireEvent?.("selected",f))},isSelected:function(){return!!this.selected},canSelect:f=>!0,canDeselect:f=>!0}),h=q.SelectionManager=new v("SelectionManager",{extend:{isAddMode:()=>u.isShiftKeyDown(),isToggleMode:()=>u.isAcceleratorKeyDown()},initNode:function(f,d){this.__selected={};this.__lastSelectedItem=null;d.selectedCount=
0;d.itemSelectionId??(d.itemSelectionId="id");d.maxSelected??(d.maxSelected=-1);d.minSelected??(d.minSelected=0);this.callSuper(f,d)},setItemSelectionId:function(f){this.itemSelectionId=f},setMaxSelected:function(f){this.maxSelected=f},setSelectedCount:function(f){this.selectedCount!==f&&(this.selectedCount=f,this.inited&&this.fireEvent("selectedCount",f))},isAddMode:()=>h.isAddMode(),isToggleMode:()=>h.isToggleMode(),getSelected:function(){return Object.values(this.__selected)},select:function(f){f&&
!this.isSelectedItem(f)&&this.canSelectItem(f)&&(f.setSelected(!0),this.__selected[f[this.itemSelectionId]]=f,this.setSelectedCount(this.selectedCount+1),this.__lastSelectedItem=f,this.doSelected(f),this.fireEvent("itemSelected",f))},doSelected:f=>{},selectById:function(f){this.select(this.getSelectableItem(f))},canSelectItem:function(f){const {maxSelected:d,selectedCount:l}=this;if(0===d)return!1;if(1===d){if(0<l&&(this.deselectAll(),0<this.selectedCount))return!1}else if(1<d&&l>=d)return!1;return f.canSelect(this)},
selectAll:function(){const f=this.getSelectableItems();let d=f.length;for(;d;)this.select(f[--d])},deselect:function(f){this.isSelectedItem(f)&&this.canDeselectItem(f)&&(f.setSelected(!1),delete this.__selected[f[this.itemSelectionId]],this.setSelectedCount(this.selectedCount-1),this.__lastSelectedItem===f&&(this.__lastSelectedItem=null),this.doDeselected(f),this.fireEvent("itemDeselected",f))},doDeselected:f=>{},deselectById:function(f){this.deselect(this.getSelectableItem(f))},canDeselectItem:function(f){return this.selectedCount<=
this.minSelected?!1:f.canDeselect(this)},deselectAll:function(){const f=this.__selected;for(const d in f)this.deselect(f[d])},isSelectedItem:f=>f?f.isSelected():!1,areAllSelected:function(){return this.selectedCount===this.getSelectableItems().length},getManagedItems:function(){const f=[],d=this.getSubviews();let l=d.length;for(;l;){const k=d[--l];k.isA(r)&&f.push(k)}return f},getSelectableItems:function(){const f=this.getManagedItems();let d=f.length;for(;d;)f[--d].canSelect(this)||f.splice(d,1);
return f},getSelectableItem:function(f){const d=this.getSelectableItems(),l=this.itemSelectionId;let k=d.length;for(;k;){const a=d[--k];if(a[l]===f)return a}}})})(myt);
(q=>{const v=JS.Class,{View:u,SizeToParent:r,LocalStorage:h,debounce:f}=q,d=q.TabSlider=new v("TabSlider",u,{include:[q.Selectable,q.Disableable,r],extend:{STATE_EXPANDED:"expanded",STATE_EXPANDING:"expanding",STATE_COLLAPSED:"collapsed",STATE_COLLAPSING:"collapsing"},initNode:function(k,a){const e=this;let b;const g=a.noWrapperContainer;delete a.noWrapperContainer;a.defaultPlacement=g?"wrapper":"wrapper.container";a.percentOfParentWidth=100;a.expansionState="collapsed";a.tabId??(a.tabId=q.generateGuid());
a.tabContainer??(a.tabContainer=k);a.selected??(a.selected=!1);a.buttonClass??(a.buttonClass=q.SimpleButton);a.zIndex??(a.zIndex=0);a.buttonHeight??(a.buttonHeight=30);a.fillColorSelected??(a.fillColorSelected="#666");a.fillColorHover??(a.fillColorHover="#eee");a.fillColorActive??(a.fillColorActive="#ccc");a.fillColorReady??(a.fillColorReady="#fff");a.minContainerHeight??(a.minContainerHeight=100);a.layoutPaddingY??(a.layoutPaddingY=0);a.wrapperExpandedOverflow??(a.wrapperExpandedOverflow="autoy");
a.selected&&(b=!0,delete a.selected);e.callSuper(k,a);e.button=new e.buttonClass(e,{ignorePlacement:!0,zIndex:1,height:e.buttonHeight,focusIndicator:!0,groupId:e.parent.parent.groupId,percentOfParentWidth:100,hoverColor:e.fillColorHover,activeColor:e.fillColorActive,readyColor:e.fillColorReady},[r,{doActivated:()=>{const c=e.tabContainer;e.isSelected()&&1!==c.maxSelected?c.deselect(e):c.select(e)},updateUI:function(){this.callSuper();e.selected&&-1!==e.tabContainer.maxSelected&&this.setBgColor(e.fillColorSelected);
e.notifyButtonRedraw()}}]);k=e.wrapper=new u(e,{ignorePlacement:!0,y:e.buttonHeight,visible:!1,maskFocus:!0,overflow:"hidden",percentOfParentWidth:100},[r,{setHeight:function(c){this.callSuper(Math.round(c))},setWidth:function(c){this.callSuper(c);this.inited&&this.container?.setWidth(c)}}]);g||(e._wrapperLayout=new q.SizeToChildren(k.container=new u(k),{axis:"y",paddingY:e.layoutPaddingY}));e.constrain("__updateHeight",[k,"y",k,"height"]);b&&e.tabContainer.select(e);!0===a.disabled&&e.setDisabled(!0);
e.setHeight(e.getCollapsedHeight())},setSelected:function(k){this.callSuper(k);this.button?.updateUI()},setTabId:function(k){this.tabId=k},setTabContainer:function(k){this.tabContainer=k},setLayoutPaddingY:function(k){this.layoutPaddingY=k;this.inited&&this._wrapperLayout?.setPaddingY(k)},setMinContainerHeight:function(k){this.minContainerHeight=k},setButtonClass:function(k){this.buttonClass=k},setFillColorSelected:function(k){this.fillColorSelected=k},setFillColorHover:function(k){this.fillColorHover=
k},setFillColorActive:function(k){this.fillColorActive=k},setFillColorReady:function(k){this.fillColorReady=k},setWrapperExpandedOverflow:function(k){this.wrapperExpandedOverflow=k},setButtonHeight:function(k){this.buttonHeight!==k&&(this.buttonHeight=k,this.button&&(this.button.setHeight(k),this.wrapper.setY(k)))},setExpansionState:function(k){if(this.expansionState!==k){this.expansionState=k;this.inited&&this.fireEvent("expansionState",k);const a=this.wrapper;a&&("expanded"===k?(a.setMaskFocus(!1),
a.setOverflow(this.wrapperExpandedOverflow),this.tabContainer?.saveState()):"expanding"===k?a.setVisible(!0):"collapsed"===k?(a.setVisible(!1),this.tabContainer?.saveState()):"collapsing"===k&&(a.setMaskFocus(!0),a.setOverflow("hidden")))}},doDisabled:function(){this.button?.setDisabled(this.disabled)},notifyButtonRedraw:()=>{},__updateHeight:function(k){this.setHeight(this.wrapper.y+this.wrapper.height)},expand:function(k){const a=this,e=a.wrapper;k-=a.getCollapsedHeight();a.setExpansionState("expanding");
e.stopActiveAnimators();if(e.height!==k){const b=a.tabContainer.duration;1===b?(e.setHeight(k),a.setExpansionState("expanded")):e.animate({attribute:"height",to:k,duration:b}).next(g=>{a.setExpansionState("expanded")})}else a.setExpansionState("expanded")},collapse:function(){const k=this,a=k.wrapper;k.setExpansionState("collapsing");a.stopActiveAnimators();if(0!==a.height){const e=k.tabContainer.duration;1===e?(a.setHeight(0),k.setExpansionState("collapsed")):a.animate({attribute:"height",to:0,duration:e}).next(b=>
{k.setExpansionState("collapsed")})}else k.setExpansionState("collapsed")},getCollapsedHeight:function(){return this.buttonHeight},getMinimumExpandedHeight:function(){return Math.min(this.getPreferredExpandedHeight(),this.buttonHeight+this.minContainerHeight)},getPreferredExpandedHeight:function(){return this.buttonHeight+this.wrapper.container?.height}}),l=(k,a,e,b)=>{k[a]!==b&&(k[a]=b,k.button?.label?.set(labelAttrName,b))};q.TextTabSlider=new v("TextTabSlider",d,{initNode:function(k,a){this.labelTextColorChecked=
"#fff";this.labelTextColor="#333";this.labelAlign="center";this.labelValign="middle";this.labelFontSize="16px";this.labelFontWeight="bold";a.labelTextColorChecked??(a.labelTextColorChecked="#fff");a.labelTextColor??(a.labelTextColor="#333");a.labelAlign??(a.labelAlign="center");a.labelValign??(a.labelValign="middle");a.labelFontSize??(a.labelFontSize="16px");a.labelFontWeight??(a.labelFontWeight="bold");this.callSuper(k,a);this.button.label=new q.Text(this.button,{ignorePlacement:!0,fontSize:this.labelFontSize,
fontWeight:this.labelFontWeight,text:this.text,align:this.labelAlign,valign:this.labelValign,textColor:this.__getTextColor()})},setLabelTextColorChecked:function(k){this.labelTextColorChecked!==k&&(this.labelTextColorChecked=k,this.notifyButtonRedraw())},setLabelTextColor:function(k){this.labelTextColor!==k&&(this.labelTextColor=k,this.notifyButtonRedraw())},setLabelAlign:function(k){l(this,"labelAlign","align",k)},setLabelValign:function(k){l(this,"labelValign","valign",k)},setLabelFontSize:function(k){l(this,
"labelFontSize","fontSize",k)},setLabelFontWeight:function(k){l(this,"labelFontWeight","fontWeight",k)},setText:function(k){l(this,"text","text",k)},notifyButtonRedraw:function(){this.button?.label?.setTextColor(this.__getTextColor())},__getTextColor:function(){return this.selected&&-1!==this.tabContainer.maxSelected?this.labelTextColorChecked:this.labelTextColor}});q.TabSliderContainer=new JS.Module("TabSliderContainer",{include:[q.SelectionManager],initNode:function(k,a){const e=this;e._tabSliders=
[];a.defaultPlacement="container";a.spacing??(a.spacing=q.theme.TabSliderContainerSpacing);a.overflow??(a.overflow="autoy");a.itemSelectionId??(a.itemSelectionId="tabId");a.maxSelected??(a.maxSelected=1);a.duration??(a.duration=500);e.updateLayout=f(e.updateLayout);e.callSuper(k,a);k=e.container=new u(e,{ignorePlacement:!0,percentOfParentWidth:100},[r,{subnodeAdded:function(b){this.callSuper(b);b instanceof d&&(e._tabSliders.push(b),e.attachTo(b,"updateLayout","selected"))},subnodeRemoved:function(b){if(b instanceof
d){const g=e._tabSliders,c=g.indexOf(b);-1<c&&(e.detachFrom(b,"updateLayout","selected"),g.splice(c,1))}this.callSuper(b)}}]);k.layout=new q.SpacedLayout(k,{axis:"y",spacing:e.spacing,collapseParent:!0});e.attachTo(e,"updateLayout","height")},setPersistenceId:function(k){this.persistenceId=k},getTabSliders:function(){return this._tabSliders},getTabSliderById:function(k){for(const a of this._tabSliders)if(a.tabId===k)return a},setSpacing:function(k){this.spacing!==k&&(this.spacing=k,this.layout?.setSpacing(k))},
setDuration:function(k){this.duration=k},updateLayout:function(k,a){k=this._tabSliders;for(var e=k.length,b=e,g=0,c=0,p=0;b;){var w=k[--b];w.visible&&(++p,w.selected?(g+=w.getMinimumExpandedHeight(),c+=w.getPreferredExpandedHeight()):(w=w.getCollapsedHeight(),g+=w,c+=w))}b=this.container.layout;p=b.inset+b.outset+b.spacing*(p-1);c+=p;b=this.height;g=g+p>b;p=c>b;w=this.duration;c-=b;0<a&&this.setDuration(a);for(b=e;b;)if(e=k[--b],e.visible)if(e.selected){let t;if(g)t=e.getMinimumExpandedHeight();else if(p){const n=
e.getPreferredExpandedHeight(),B=e.getMinimumExpandedHeight();t=n-c;B>t?(c-=n-B,t=B):c=0}else t=e.getPreferredExpandedHeight();e.expand(t)}else e.collapse();0<a&&this.setDuration(w)},readState:k=>h.getDatum(k),writeState:(k,a)=>{h.setDatum(k,a)},saveState:f(function(){const k=[];for(const a of this.getTabSliders())"expanded"===a.expansionState&&k.push(a.tabId);this.writeState(this.persistenceId,k)},1E3),restoreState:function(k){for(const a of this.readState(this.persistenceId)||k)this.select(this.getTabSliderById(a))}})})(myt);
(q=>{const v=q.theme,u=h=>{const f=[];switch(h.tabContainer.location){case "top":f.push("TopLeft","TopRight");break;case "bottom":f.push("BottomLeft","BottomRight");break;case "left":f.push("TopLeft","BottomLeft");break;case "right":f.push("TopRight","BottomRight")}for(const d of f)h["setRounded"+d+"Corner"](h.cornerRadius||0)},r=q.Tab=new JS.Class("Tab",q.SimpleTextButton,{include:[q.Selectable],initNode:function(h,f){f.tabId??(f.tabId=q.generateGuid());f.tabContainer??(f.tabContainer=h);let d;f.selected&&
(d=!0,delete f.selected);f.inset??(f.inset=v.TabInset);f.outset??(f.outset=v.TabOutset);f.selectedColor??(f.selectedColor="#fff");f.hoverColor??(f.hoverColor="#eee");f.activeColor??(f.activeColor="#aaa");f.readyColor??(f.readyColor="#ccc");f.labelTextSelectedColor??(f.labelTextSelectedColor="#333");f.height??(f.height=24);f.focusIndicator??(f.focusIndicator=!1);f.cornerRadius??(f.cornerRadius=6);this.callSuper(h,f);d&&this.tabContainer.select(this);u(this);this.textView.setTextColor(this.selected?
this.labelTextSelectedColor:this.labelTextColor)},setTabId:function(h){this.tabId=h},setTabContainer:function(h){this.tabContainer=h},setSelectedColor:function(h){this.selectedColor=h},setLabelTextColor:function(h){this.labelTextColor=h},setCornerRadius:function(h){this.cornerRadius=h;this.inited&&u(this)},setLabelTextSelectedColor:function(h){this.labelTextSelectedColor=h;this.inited&&this.selected&&this.textView.setTextColor(h)},setSelected:function(h){this.callSuper(h);this.inited&&(this.updateUI(),
this.textView.setTextColor(this.selected?this.labelTextSelectedColor:this.labelTextColor))},updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.selected||this.tabContainer.select(this)}});q.TabContainer=new JS.Module("TabContainer",{include:[q.SelectionManager],initNode:function(h,f){this.__tabs=[];f.spacing??(f.spacing=v.TabContainerSpacing);f.inset??(f.inset=v.TabContainerInset);f.location??(f.location="top");f.itemSelectionId??(f.itemSelectionId=
"tabId");f.maxSelected??(f.maxSelected=1);const d=f.collapse??!0;delete f.collapse;this.callSuper(h,f);this.layout=new q.SpacedLayout(this,{axis:"left"===this.location||"right"===this.location?"y":"x",spacing:this.spacing,inset:this.inset,collapseParent:d})},setLocation:function(h){this.location=h},setSpacing:function(h){this.spacing!==h&&(this.spacing=h,this.layout?.setSpacing(h))},setInset:function(h){this.inset!==h&&(this.inset=h,this.layout?.setInset(h))},getFirstTab:function(){return this.__tabs[0]},
getSelectedTab:function(){return this.getSelected()[0]},subnodeAdded:function(h){this.callSuper(h);if(h.isA(r))switch(this.__tabs.push(h),this.location){case "top":h.setValign("bottom");break;case "bottom":h.setValign("top");break;case "left":h.setAlign("right");break;case "right":h.setAlign("left")}},subnodeRemoved:function(h){if(h.isA(r)){const f=this.__tabs,d=f.indexOf(h);-1<d&&f.splice(d,1)}this.callSuper(h)}})})(myt);
(q=>{const v=JS.Class,u=Math.min,r=Array.isArray,{SizeToDom:h,View:f,Disableable:d,KeyObservable:l,theme:k,global:{keys:a}}=q,e=(t,n,B)=>{t[B]!==n&&(t[B]=n,t.getIDS()[B]=n+"px",t.inited&&(t.fireEvent(B,n),t.sizeViewToDom()))},b=(t,n,B)=>{t[n]!==B&&(t.getIDE()[n]=t[n]=B,t.inited&&t.fireEvent(n,B))},g=q.NativeInputWrapper=new v("NativeInputWrapper",f,{include:[d,q.InputObservable],initNode:function(t,n){n.tagName??(n.tagName="input");n.focusable??(n.focusable=!0);this.callSuper(t,n);this.addDomClass("mytNativeInput")},
createOurDomElement:function(t){t=this.callSuper(t);this.inputType&&((r(t)?t[1]:t).type=this.inputType);return t},setDisabled:function(t){this.disabled!==t&&(this.getIDE().disabled=t,this.callSuper(t))},setValue:function(t){this.value!==t&&(this.value=t,this.setDomValue(t),this.inited&&this.fireEvent("value",t))},getDomValue:function(){return this.getIDE().value},setDomValue:function(t){const n=this.getIDE();n.value!==t&&(n.value=t)}}),c=q.InputSelectOption=new v("InputSelectOption",f,{include:[d,
q.Selectable],createOurDomElement:t=>document.createElement("option"),setSelected:function(t){t=this.valueFromEvent(t);const n=this.getIDE();n.selected!==t&&(n.selected=t)},setDisabled:function(t){this.disabled!==t&&(this.getIDE().disabled=t,this.callSuper(t))},setValue:function(t){b(this,"value",t)},setLabel:function(t){this.label!==t&&(this.getIDE().textContent=this.label=t,this.inited&&this.fireEvent("label",t))},isSelected:function(){return this.getIDE().selected},canSelect:function(t){return!this.disabled&&
!this.getIDE().selected&&this.parent===t},canDeselect:function(t){return!this.disabled&&this.getIDE().selected&&this.parent===t}}),p=q.BaseInputText=new v("BaseInputText",g,{include:[q.TextSupport],initNode:function(t,n){n.bgColor??(n.bgColor="transparent");n.spellcheck??(n.spellcheck=!1);this.callSuper(t,n);this.attachToDom(this,"__syncToDom","input");this.attachToDom(this,"__filterInputPress","keypress");this.attachToDom(this,"__filterInput","keyup")},setText:function(t){this.callSuper(t);this.setValue(t)},
setSpellcheck:function(t){b(this,"spellcheck",t)},setMaxLength:function(t){b(this,"maxLength",null==t||0>t?void 0:t)},setAllowedChars:function(t){this.allowedChars=t},setPlaceholder:function(t){b(this,"placeholder",t)},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(k.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},__filterInput:function(t){this.setDomValue(this.filterInput(this.getDomValue()))},__filterInputPress:function(t){const n=
t.value,B=this.allowedChars;B&&!B.includes(l.getKeyFromEvent(t))&&n.preventDefault();this.filterInputPress(n)},filterInput:t=>t,filterInputPress:t=>{},__syncToDom:function(t){this.setValue(this.getDomValue())},getCaretPosition:function(){if(document.selection){const t=document.selection.createRange();t.moveStart("character",-this.getDomValue().length);return t.text.length}return this.getIDE().selectionStart||0},setCaretPosition:function(t,n){if(null==n||t===n){if(this.getCaretPosition()===t)return;
n=t}var B=this.getIDE();B.setSelectionRange?B.setSelectionRange(t,n):B.createTextRange&&(B=B.createTextRange(),B.collapse(!0),B.moveEnd("character",n),B.moveStart("character",t),B.select())},setCaretToStart:function(){this.setCaretPosition(0)},setCaretToEnd:function(){this.setCaretPosition(this.getDomValue().length)},selectAll:function(){this.getIDE().select()},getSelection:function(){const t=this.getIDE();return{start:t.selectionStart,startElem:t,end:t.selectionEnd,endElem:t}},setSelection:function(t){t&&
this.setCaretPosition(t.start,t.end)},saveSelection:function(t){this._selRange=t||this.getSelection()||this._selRange},restoreSelection:function(){this.setSelection(this._selRange)}}),w=q.InputText=new v("InputText",p,{include:[q.SizeHeightToDom],initNode:function(t,n){this.inputType=!0===n.password?"password":"text";this.callSuper(t,n);this.setCaretToEnd()},setPassword:function(t){this.set("password",t,!0);this.inited&&(this.getIDE().type=t?"password":"text")}});q.InputTextMouseFixMixin=new JS.Module("InputTextMouseFixMixin",
{initNode:function(t,n){this.callSuper(t,n);this.attachToDom(this,"doMouseDown","mousedown");this.attachToDom(this,"doMouseUp","mouseup")},createDomHandler:function(t,n,B){return"mousedown"===B||"mouseup"===B?this.createStandardDomHandler(t,n,B,q.MouseObservable,!1):this.callSuper(t,n,B)},doMouseDown:t=>{},doMouseUp:t=>{}});q.EditableText=new v("EditableText",p,{include:[h],initNode:function(t,n){n.tagName??(n.tagName="div");n.inputType=null;n.whiteSpace??(n.whiteSpace="pre");n.contentEditable??(n.contentEditable=
!0);this.callSuper(t,n);this.attachToDom(this,"__cleanInput","keydown");this.attachToDom(this,"__userInteraction","keyup");this.attachToDom(this,"__userInteraction","mouseup");this.setCaretToEnd()},setMinWidth:function(t){e(this,t,"minWidth")},setMinHeight:function(t){e(this,t,"minHeight")},setPadding:function(t){this.setPaddingTop(t);this.setPaddingRight(t);this.setPaddingBottom(t);this.setPaddingLeft(t)},setPaddingTop:function(t){e(this,t,"paddingTop")},setPaddingRight:function(t){e(this,t,"paddingRight")},
setPaddingBottom:function(t){e(this,t,"paddingBottom")},setPaddingLeft:function(t){e(this,t,"paddingLeft")},setContentEditable:function(t){b(this,"contentEditable",t)},filterInputPress:function(t){const n=this.maxLength;0<=n&&this.getCharacterCount()===n&&t.preventDefault();this.callSuper(t)},getDomValue:function(){return this.getIDE().innerHTML},setDomValue:function(t){const n=this.getIDE();n.innerHTML!==t&&(n.innerHTML=t,this.sizeViewToDom(),this.restoreSelection())},__cleanInput:function(t){l.isEnterKeyEvent(t)&&
(t.value.preventDefault(),"nowrap"!==this.whitespace&&document.execCommand("insertHTML",!1,this.isCaretAtEnd()?"\n\n":"\n"))},__syncToDom:function(t){this.callSuper(t);this.saveSelection();this.sizeViewToDom();this.restoreSelection()},getCharacterCount:function(){return this.getIDE().firstChild?.length??0},isCaretAtEnd:function(){return this.getCaretPosition()===this.getCharacterCount()},getCaretPosition:function(){return this.getSelection()?.end??0},setCaretPosition:function(t,n){if(null==n||t===
n){if(this.getCaretPosition()===t)return;n=t}this.saveSelection({start:t,startElem:this.getIDE().firstChild,end:n,endElem:this.getIDE().firstChild})},doFocus:function(){this.callSuper();this.restoreSelection()},__userInteraction:function(t){this.saveSelection();return!0},getSelection:function(){let t;if(window.getSelection){const n=window.getSelection();if(0<n.rangeCount){if(n.extentNode===this.getIDE())return;t=n.getRangeAt(0)}}else document.selection&&(t=document.selection.createRange());return{start:t?
t.startOffset:0,startElem:t?t.startContainer:this.getIDE().firstChild,end:t?t.endOffset:0,endElem:t?t.endContainer:this.getIDE().firstChild}},setSelection:function(t){if(t){const {startElem:n,endElem:B}=t;if(n&&n.parentNode&&B&&B.parentNode){const L=document.createRange();L.setStart(n,u(t.start,n.length));L.setEnd(B,u(t.end,B.length));window.getSelection?(t=window.getSelection(),0<t.rangeCount&&t.removeAllRanges(),t.addRange(L)):document.selection&&L.select()}}}});q.InputTextArea=new v("InputTextArea",
p,{initNode:function(t,n){n.tagName??(n.tagName="textarea");n.inputType=null;n.resize??(n.resize="none");n.wrap??(n.wrap="soft");this.callSuper(t,n)},destroy:function(){this.__resizeObserver?.unobserve(this.getIDE());this.callSuper()},setResize:function(t){const n=this;n.resize!==t&&(t=n.resize=n.getIDS().resize=t||"none",n.inited&&n.fireEvent("resize",t),"none"!==t&&(n.__resizeObserver??(n.__resizeObserver=new ResizeObserver(()=>{n.doResize()}))).observe(n.getIDE()))},setWrap:function(t){b(this,
"wrap",t)},doResize:function(){const t=this.resize;"both"!==t&&"horizontal"!==t||h.sizeWidth(this);"both"!==t&&"vertical"!==t||h.sizeHeight(this)}});q.ComboBox=new v("ComboBox",w,{include:[q.Activateable,q.KeyActivation,q.ListViewAnchor],initNode:function(t,n){this.filterItems=!0;n.activationKeys??(n.activationKeys=[a.CODE_ENTER,a.CODE_ESC,a.CODE_ARROW_UP,a.CODE_ARROW_DOWN]);n.bgColor??(n.bgColor="#fff");n.borderWidth??(n.borderWidth=1);n.borderStyle??(n.borderStyle="solid");n.floatingAlignOffset??
(n.floatingAlignOffset=n.borderWidth);n.fullItemConfig??(n.fullItemConfig=[]);n.listViewAttrs={...n.listViewAttrs,maxHeight:n.listViewAttrs?.maxHeight??99};this.callSuper(t,n)},setFullItemConfig:function(t){this.fullItemConfig=t},setFilterItems:function(t){this.filterItems=t},__syncToDom:function(t){const n=this.value;this.callSuper(t);n!==this.value&&this.showFloatingPanel()},showFloatingPanel:function(t){const n=this.getFloatingPanel(t);if(n){let L;if(this.filterItems){L=[];var B=this.value;B=null==
B?"":(""+B).toLowerCase();const z=this.fullItemConfig,D=z.length;for(let J=0;D>J;){const O=z[J++],Q=O.attrs.text.toLowerCase(),m=Q.indexOf(B);0===m?Q!==B&&L.push(O):0<m&&L.push(O)}}else L=this.fullItemConfig;0<L.length?(n.setMinWidth(this.width-2*this.borderWidth),this.setItemConfig(L),this.callSuper(t)):this.hideFloatingPanel(t)}},doItemActivated:function(t){this.setValue(null==t.value?t.text:t.value);this.callSuper(t)},doActivated:function(){this.toggleFloatingPanel()}});q.InputSelect=new v("InputSelect",
g,{include:[h],initNode:function(t,n){n.tagName??(n.tagName="select");n.inputType=null;n.multiple??(n.multiple=!1);n.size??(n.size=n.multiple?4:1);this.callSuper(t,n);this.attachToDom(this,"__syncToDom","change");this.__syncToDom()},setMultiple:function(t){b(this,"multiple",t)},setSize:function(t){b(this,"size",t)},setOptions:function(t){this.destroyAllOptions();if(r(t))for(const n of t)this.addOption(n)},getOptions:function(){return this.getSubviews().slice()},setValue:function(t){r(t)&&q.areArraysEqual(t,
this.value)||this.value===t||(this.value=t,this.inited&&this.fireEvent("value",t))},subviewAdded:function(t){t instanceof c||(q.dumpStack("Subview unsupported. Destroying it"),t.destroy())},showFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow(k.focusShadow)},hideFocusIndicator:function(){this.hideDefaultFocusIndicator();this.setBoxShadow()},getSelectedOptions:function(){return this.getOptions().filter(t=>t.isSelected())},getSelectedOptionValues:function(){return this.getSelectedOptions().map(t=>
t.value)},getOptionForValue:function(t){return this.getOptions().find(n=>n.value===t)},addOption:function(t){return new c(this,t)},destroyAllOptions:function(){for(const t of this.getOptions())t.destroy()},destroyOptionWithValue:function(t){if(t=this.getOptionForValue(t))if(t.destroy(),t.destroyed)return!0;return!1},deselectAll:function(){let t=!1;for(const n of this.getOptions())n.isSelected()&&(n.setSelected(!1),t=!0);t&&this.__doChanged()},selectValues:function(t){r(t)||(t=[t]);for(const n of t)this.selectValue(n)},
selectValue:function(t){this.select(this.getOptionForValue(t))},select:function(t){t?.canSelect(this)&&(t.setSelected(!0),this.__syncToDom())},deselectValue:function(t){this.deselect(this.getOptionForValue(t))},deselect:function(t){t?.canDeselect(this)&&(t.setSelected(!1),this.__syncToDom())},__doChanged:function(t){this.__syncToDom();this.doChanged()},doChanged:()=>{},__syncToDom:function(){this.setValue(this.multiple?this.getSelectedOptionValues():this.getDomValue())}})})(myt);
(q=>{const v=JS.Module,u=Math.round;var r=q.ValueComponent=new v("ValueComponent",{initNode:function(f,d){this.appendToEarlyAttrs("valueFilter","value");this.callSuper(f,d)},setValueFilter:function(f){this.valueFilter=f;this.inited&&f&&this.setValue(this.value)},setValue:function(f){this.valueFilter&&(f=this.valueFilter(f));this.value!==f&&(this.value=f,this.inited&&this.fireEvent("value",this.getValue()))},getValue:function(){return this.value},chainValueFilter:function(f,d){const l=this.valueFilter;
this.setValueFilter(l?"last"===d?k=>f(l(k)):k=>l(f(k)):f)}});const h=q.RangeComponent=new v("RangeComponent",{include:[r],setLowerValue:function(f){this.setValue({lower:f,upper:this.value&&void 0!==this.value.upper?this.value.upper:f})},getLowerValue:function(){return this.value?this.value.lower:void 0},setUpperValue:function(f){this.setValue({lower:this.value&&void 0!==this.value.lower?this.value.lower:f,upper:f})},getUpperValue:function(){return this.value?this.value.upper:void 0},setValue:function(f){if(f){var d=
this.value;const a=d?d.lower:void 0;d=d?d.upper:void 0;this.valueFilter&&(f=this.valueFilter(f));if(f.lower!==a||f.upper!==d){var l;(l=f).lower??(l.lower=f.upper);var k;(k=f).upper??(k.upper=f.lower);void 0!==f.lower&&void 0!==f.upper&&f.lower>f.upper&&(l=f.lower,f.lower=f.upper,f.upper=l);this.value=f;this.inited&&(this.fireEvent("value",this.getValue()),f.lower!==a&&this.fireEvent("lowerValue",f.lower),f.upper!==d&&this.fireEvent("upperValue",f.upper))}}else this.callSuper(f)},getValueCopy:function(){const f=
this.value;return{lower:f.lower,upper:f.upper}}});r=q.BoundedValueComponent=new v("BoundedValueComponent",{include:[r],initNode:function(f,d){const l=this;l.appendToEarlyAttrs("snapToInt","minValue","maxValue");d.snapToInt??(d.snapToInt=!0);d.valueFilter||(d.valueFilter=k=>{var a=l.maxValue;if(null!=a&&k>a)return a;a=l.minValue;return null!=a&&k<a?a:k});l.callSuper(f,d)},setSnapToInt:function(f){this.snapToInt!==f&&(this.snapToInt=f,this.inited&&(this.fireEvent("snapToInt",f),f&&(this.setMinValue(this.minValue),
this.setMaxValue(this.maxValue),this.setValue(this.value))))},setMinValue:function(f){this.snapToInt&&null!=f&&(f=u(f));if(this.minValue!==f){const d=this.maxValue;null!=d&&f>d&&(f=d);this.minValue!==f&&(this.minValue=f,this.inited&&(this.fireEvent("minValue",f),this.setValue(this.value)))}},setMaxValue:function(f){this.snapToInt&&null!=f&&(f=u(f));if(this.maxValue!==f){const d=this.minValue;null!=d&&f<d&&(f=d);this.maxValue!==f&&(this.maxValue=f,this.inited&&(this.fireEvent("maxValue",f),this.setValue(this.value)))}},
setValue:function(f){this.callSuper(this.snapToInt&&null!=f&&!isNaN(f)?u(f):f)}});q.BoundedRangeComponent=new v("BoundedRangeComponent",{include:[r,h],initNode:function(f,d){const l=this;d.valueFilter||(d.valueFilter=k=>{if(k){const a=l.maxValue,e=l.minValue;null!=a&&k.upper>a&&(k.upper=a);null!=e&&k.lower<e&&(k.lower=e)}return k});l.callSuper(f,d)},setValue:function(f){this.snapToInt&&null!=f&&(null==f.lower||isNaN(f.lower)||(f.lower=u(f.lower)),null==f.upper||isNaN(f.upper)||(f.upper=u(f.upper)));
this.callSuper(f)}})})(myt);
(q=>{const v=u=>{const r=u.label??"";u.setText('<i class="'+("solid"===u.checkboxStyle?"fas":"far")+" fa-"+(u.isChecked()?"check-":"")+'square"></i>'+(0<r.length?" "+r:""))};q.Checkbox=new JS.Class("Checkbox",q.Text,{include:[q.SimpleButtonStyle,q.ValueComponent],initNode:function(u,r){this.appendToEarlyAttrs("userUnselectable");r.value??(r.value=!1);r.focusIndicator??(r.focusIndicator=!1);r.checkboxStyle??(r.checkboxStyle="outline");r.activeColor??(r.activeColor="inherit");r.hoverColor??(r.hoverColor=
"inherit");r.readyColor??(r.readyColor="inherit");this.callSuper(u,r);q.FontAwesome.registerForNotification(this);v(this)},setValue:function(u){this.value!==u&&(this.callSuper(u),this.inited&&v(this))},setLabel:function(u){this.label!==u&&(this.set("label",u,!0),this.inited&&v(this))},setCheckboxStyle:function(u){this.checkboxStyle!==u&&(this.set("checkboxStyle",u,!0),this.inited&&v(this))},isChecked:function(){return!0===this.value},doActivated:function(){this.setValue(!this.value)},draw:function(u,
r=1){this.setOpacity(r);this.setTextColor(u)}})})(myt);
(q=>{let v;const {Class:u,Module:r}=JS,h=console.warn,{KeyObservable:f,UpdateableUI:d,dumpStack:l,global:k}=q,a=k.focus,e=k.keys,b={},g=(m,x)=>{if(m){const C=m.id;m.id?x(C):l("No ID")}else l("No processor")},c=m=>{g(m,x=>{b[x]=m})},p=m=>{const x=q.BAG.getGroup("selected",m.groupId);if(x){const C=x.getNodes();m=m.value;let K=C.length;for(;K;){const y=C[--K];if(y.optionValue===m){x.setTrue(y);break}}}},w=m=>{if(m.groupId){const x=q.BAG.getGroup("selected",m.groupId);x&&m.syncTo(x,"__syncValue","trueNode")}},
t=(m,x)=>{const C=[],K=m.__v;if(K)for(const y of K)x=y.isFormValid(m,null,C)&&x;m.setErrorMessages(C);m.setIsValid(x);return x},n=(m,x,C)=>{if(m=m.__vp)for(const K of m)K[C]&&(x=K.process(x));return x},B=q.ValueProcessor=new u("ValueProcessor",{initialize:function(m,x,C,K){this.id=m;this.runForDefault=!!x;this.runForRollback=!!C;this.runForCurrent=!!K},process:m=>m}),L=q.ToNumberValueProcessor=new u("ToNumberValueProcessor",B,{process:m=>{if(null==m||""===m||"-"===m)return m;const x=Number(m);return isNaN(x)?
m:x}}),z=q.TrimValueProcessor=new u("TrimValueProcessor",B,{initialize:function(m,x,C,K,y){this.callSuper(m,x,C,K);this.trim=y},process:function(m){m+="";switch(this.trim){case "start":case "left":return m.trimStart();case "end":case "right":return m.trimEnd();default:return m.trim()}}}),D=q.UndefinedValueProcessor=new u("UndefinedValueProcessor",B,{initialize:function(m,x,C,K,y){this.callSuper(m,x,C,K);this.defaultValue=y},process:function(m){return void 0===m?this.defaultValue:m}}),J=q.Form=new r("Form",
{extend:{ACCELERATOR_SCOPE_ROOT:"root",ACCELERATOR_SCOPE_ELEMENT:"element",ACCELERATOR_SCOPE_NONE:"none"},initNode:function(m,x){this.isChanged=this._lockCascade=!1;this.isValid=!0;this.__sf={};this.__v=[];this.__acc={};this.callSuper(m,x);this.form?.isA(J)&&this.form.addSubForm(this)},destroy:function(){this.form?.isA(J)&&this.form.removeSubForm(this.id);this.callSuper()},setErrorMessages:function(m){this.set("errorMessages",m,!0)},getFullId:function(){const m=[this.id];let x=this.form;for(;x&&x.id;)m.unshift(x.id),
x=x.form;return m.join(".")},setId:function(m){if(this.id!==m){const x=this.id;this.id=m;(m=this.form)&&this.inited&&(m.removeSubForm(x),m.addSubForm(this))}},setForm:function(m){if(this.form!==m){const x=this.form;this.form=m;x?.removeSubForm(this.id);this.inited&&m?.addSubForm(this)}},setIsValid:function(m){this.isValid=m;this.inited&&this.fireEvent("isValid",m);const x=this.form;x&&!this._lockCascade&&(m?x.verifyValidState(this):x.notifySubFormInvalid())},setIsChanged:function(m){if(this.isChanged!==
m){this.isChanged=m;this.inited&&this.fireEvent("isChanged",m);const x=this.form;x&&!this._lockCascade&&(m?x.notifySubFormChanged():x.verifyChangedState(this))}},setValidators:function(m){let x=m.length;for(;x;){const C=m[--x];"string"===typeof C&&(m[x]=k.validators.getValidator(C),m[x]||m.splice(x,1))}this.__v=m},getValue:function(){if(this.callSuper)return this.callSuper();if(this.isA(O))return this.value;const m={},x=this.__sf;for(const C in x)m[C]=x[C].getValue();return m},setValue:function(m){this.callSuper?.(m);
if("object"===typeof m&&!this.isA(O))for(const x in m){const C=this.getSubForm(x);C?m[x]=C.setValue(m[x]):h("ID in setValue for missing subform",x)}this.form?.notifyValueChanged(this);return m},getDefaultValue:function(){const m={};let x=this.__sf;for(const C in x)m[C]=x[C].getDefaultValue();return m},setDefaultValue:function(m){if("object"===typeof m)for(const x in m){const C=this.getSubForm(x);C?m[x]=C.setDefaultValue(m[x]):h("ID in setDefaultValue for missing subform",x)}return m},getRollbackValue:function(){const m=
{},x=this.__sf;for(const C in x)m[C]=x[C].getRollbackValue();return m},setRollbackValue:function(m){if("object"===typeof m)for(const x in m){const C=this.getSubForm(x);C?m[x]=C.setRollbackValue(m[x]):h("ID in setRollbackValue for missing subform",x)}return m},addAccelerator:function(m,x){this.__acc[m]=x},removeAccelerator:function(m){delete this.__acc[m]},invokeAccelerator:function(m,x){this.__acc[m]?.call(this,x??null)},addValidator:function(m){m&&this.__v.push(m)},removeValidator:function(m){if(m){const x=
this.__v;let C=x.length;for(;C;){const K=x[--C];if(K.id===m)return x.splice(C,1),K}}},getRootForm:function(){return this.form?this.form.getRootForm():this},addSubForm:function(m){const x=m.id;null!=this.getSubForm(x)?h("ID in use for subform, add aborted",x,m):(m.setForm(this),this.__sf[x]=m,m.isChanged&&this.notifySubFormChanged(),m.isValid||this.notifySubFormInvalid())},removeSubForm:function(m){const x=this.getSubForm(m);x&&(x.setForm(null),delete this.__sf[m],this.verifyChangedState(),this.verifyValidState());
return x},getSubForm:function(m){return this.__sf[m]},getSubForms:function(){return this.__sf},getInvalidSubformIds:function(m){m&&this.doValidation();const x=[];(function y(K){if(K.isA(O))K.isValid||x.push(K.getFullId());else{K=K.getSubForms();for(const A in K)y(K[A])}})(this);return x},getAllErrorMessages:function(){const m=this.__sf;let x=(this.errorMessages??[]).slice();for(const C in m)x.push(...m[C].getAllErrorMessages());return x},notifySubFormInvalid:function(){this.setIsValid(!1)},verifyValidState:function(m){const x=
this.__sf;let C=!0;for(const K in x){const y=x[K];y!==m&&(C=y.isValid&&C)}return t(this,C)},doValidation:function(){const m=this.__sf;let x=!0;for(const C in m)x=m[C].doValidation()&&x;this._lockCascade=!0;x=t(this,x);this._lockCascade=!1;return x},notifyValueChanged:function(m){this.form?.notifyValueChanged(m)},notifySubFormChanged:function(){this.setIsChanged(!0)},verifyChangedState:function(m){const x=this.__sf;let C=!1;for(const K in x){const y=x[K];y!==m&&(C=y.isChanged||C)}this.setIsChanged(C);
return C},setup:function(m,x,C){this._lockCascade=!0;this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;m??={};x??={};C??={};const K=this.__sf;for(const y in K)K[y].setup(m[y],x[y],C[y])},resetForm:function(){this._lockCascade=!0;const m=this.__sf;for(const x in m)m[x].resetForm();this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;const m=this.__sf;for(const x in m)m[x].rollbackForm();
this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){const m={},x=this.__sf;for(const C in x){const K=x[C];K.isChanged&&(m[C]=K.getChangedValue())}return m}}),O=q.FormElement=new r("FormElement",{include:[J],initNode:function(m,x){this.__vp=[];this.callSuper(m,x)},getValue:function(){return n(this,this.callSuper?this.callSuper():this.value,"runForCurrent")},setValue:function(m){void 0===m&&(m=this.getRollbackValue());this.value!==m&&
(this.callSuper(m),this.verifyChangedState());return m},getDefaultValue:function(){return n(this,this.defaultValue,"runForDefault")},setDefaultValue:function(m){this.defaultValue!==m&&(this.defaultValue=m,this.inited&&this.fireEvent("defaultValue",m),this.verifyChangedState());return m},getRollbackValue:function(){return n(this,this.rollbackValue,"runForRollback")},setRollbackValue:function(m){void 0===m&&(m=this.getDefaultValue());this.rollbackValue!==m&&(this.rollbackValue=m,this.inited&&this.fireEvent("rollbackValue",
m),this.verifyChangedState());return m},setValueProcessors:function(m){let x=m.length;for(;x;){const C=m[--x];"string"===typeof C&&(m[x]=b[C],m[x]||m.splice(x,1))}this.__vp=m},addValueProcessor:function(m){this.__vp.push(m)},removeValueProcessor:function(m){if(m){const x=this.__vp;let C=x.length;for(;C;){const K=x[--C];if(K.id===m)return x.splice(C,1),K}}},addSubForm:m=>{l("addSubForm unsupported on FormElement")},getSubForm:m=>{l("getSubForm unsupported on FormElement")},removeSubForm:m=>{l("removeSubForm unsupported on FormElement")},
verifyChangedState:function(m){m=this.getValue()!==this.getRollbackValue();this.setIsChanged(m);return m},setup:function(m,x,C){this._lockCascade=!0;this.value=this.rollbackValue=this.defaultValue=void 0;this.setDefaultValue(m);this.setRollbackValue(x);this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1;this.setValue(C)},resetForm:function(){this._lockCascade=!0;const m=this.getDefaultValue();this.setRollbackValue(m);this.setValue(m);this.setIsChanged(!1);this.setErrorMessages([]);
this.setIsValid(!0);this._lockCascade=!1},rollbackForm:function(){this._lockCascade=!0;this.setValue(this.getRollbackValue());this.setIsChanged(!1);this.setErrorMessages([]);this.setIsValid(!0);this._lockCascade=!1},getChangedValue:function(){return this.isChanged?this.getValue():void 0}}),Q=q.FormInputTextMixin=new r("FormInputTextMixin",{include:[O,d],initNode:function(m,x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor=
"#999";x.bgColor??(x.bgColor="#fff");x.borderWidth??(x.borderWidth=1);x.borderStyle??(x.borderStyle="solid");this.callSuper(m,x);this.addValueProcessor(v);this.attachToDom(this,"__hndlKeyDown","keydown");this.attachToDom(this,"__hndlKeyUp","keyup");this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(m){this.validateWhen=m},setAcceleratorScope:function(m){this.acceleratorScope=m},setErrorColor:function(m){this.errorColor=m},setActionRequiredColor:function(m){this.actionRequiredColor=
m},setNormalColor:function(m){this.normalColor=m},setIsChanged:function(m){this.callSuper(m);this.inited&&this.updateUI()},setIsValid:function(m){this.callSuper(m);this.inited&&this.updateUI()},setValue:function(m){m=this.callSuper(m);const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return m},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");
break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},__hndlKeyDown:function(m){f.isEnterKeyEvent(m)&&this.invokeAccelerator("accept")},__hndlKeyUp:function(m){f.isEscKeyEvent(m)&&this.invokeAccelerator("reject")},doBlur:function(){this.callSuper();const m=this.validateWhen;"blur"!==m&&"blurWithKeyFix"!==m||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});
q.RootForm=new r("RootForm",{include:[J],initNode:function(m,x){this.callSuper(m,x);this.addAccelerator("submit",this.doSubmit);this.addAccelerator("cancel",this.doCancel)},doSubmit:function(){this.isChanged&&(this.doValidation()?this.doValidSubmit(this.getValue()):this.doInvalidSubmit())},doValidSubmit:m=>{},doInvalidSubmit:()=>{},doCancel:function(){this.rollbackForm();this.doValidation()}});q.FormCheckbox=new u("FormCheckbox",q.Checkbox,{include:[O],initNode:function(m,x){this.rollbackValue=this.defaultValue=
!1;this.callSuper(m,x)}});q.FormComboBox=new u("FormComboBox",q.ComboBox,{include:[O,d],initNode:function(m,x){this.acceleratorScope="element";this.validateWhen="key";this.errorColor="#f99";this.actionRequiredColor="#966";this.normalColor="#999";this.callSuper(m,x);this.addValueProcessor(v);this.addAccelerator("accept",this.doAccept);this.addAccelerator("reject",this.doReject)},setValidateWhen:function(m){this.validateWhen=m},setAcceleratorScope:function(m){this.acceleratorScope=m},setErrorColor:function(m){this.errorColor=
m},setActionRequiredColor:function(m){this.actionRequiredColor=m},setNormalColor:function(m){this.normalColor=m},setIsChanged:function(m){this.callSuper(m);this.inited&&this.updateUI()},setIsValid:function(m){this.callSuper(m);this.inited&&this.updateUI()},setValue:function(m){m=this.callSuper(m);const x=this.validateWhen;"key"!==x&&"blurWithKeyFix"!==x||this.verifyValidState();return m},doAccept:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("submit");
break;case "element":a.next(!1)}},doReject:function(){if(!this.disabled)switch(this.acceleratorScope){case "root":this.getRootForm().invokeAccelerator("cancel");break;case "element":this.rollbackForm(),this.getRootForm().doValidation(),this.form?.verifyChangedState(this)}},notifyPanelShown:function(m){this._isShown=!0},notifyPanelHidden:function(m){this._isShown=!1},doActivationKeyDown:function(m,x){m!==e.CODE_ESC||this._isShown?this.callSuper(m,x):this.invokeAccelerator("reject")},doActivationKeyUp:function(m){m!==
e.CODE_ENTER||this._isShown?this.callSuper(m):this.invokeAccelerator("accept")},doBlur:function(){this.callSuper();const m=this.validateWhen;"blur"!==m&&"blurWithKeyFix"!==m||this.verifyValidState()},updateUI:function(){this.setBorderColor(this.isValid?this.normalColor:this.isChanged?this.errorColor:this.actionRequiredColor)}});q.FormEditableText=new u("FormEditableText",q.EditableText,{include:[Q],__hndlKeyDown:function(m){"nowrap"===this.whitespace&&this.callSuper(m)}});q.FormInputText=new u("FormInputText",
q.InputText,{include:[Q]});q.FormInputTextArea=new u("FormInputTextArea",q.InputTextArea,{include:[Q],__hndlKeyDown:m=>{}});q.FormInputSelect=new u("FormInputSelect",q.InputSelect,{include:[O],setValue:function(m){if(!this.__abortSetValue)return m=this.callSuper(m),this.__abortSetValue=!0,this.deselectAll(),this.selectValues(m),this.__abortSetValue=!1,this.verifyValidState(),m}});q.FormRadioGroup=new u("FormRadioGroup",q.Node,{include:[q.ValueComponent,O],initNode:function(m,x){x.groupId??(x.groupId=
q.generateGuid());this.callSuper(m,x);void 0!==this.value&&p(this);w(this)},setValue:function(m){m=this.callSuper(m);this.inited&&p(this);return m},setGroupId:function(m){if(this.groupId!==m){if(this.groupId){const x=q.BAG.getGroup("selected",this.groupId);x&&this.detachFrom(x,"__syncValue","trueNode")}this.groupId=m;this.inited&&w(this)}},__syncValue:function(m){m=m.value;this.setValue(m?m.optionValue:null)}});q.UseOtherFieldIfEmptyValueProcessor=new u("UseOtherFieldIfEmptyValueProcessor",B,{initialize:function(m,
x,C,K,y){this.callSuper(m,x,C,K);this.otherField=y},process:function(m){return null==m||""===m?this.otherField.getValue():m}});new JS.Singleton("GlobalValueProcessorRegistry",{initialize:function(){c(v=new D("undefToEmpty",!0,!0,!0,""));c(new L("toNumber",!0,!0,!0));c(new z("trimLeft",!0,!0,!0,"left"));c(new z("trimRight",!0,!0,!0,"right"));c(new z("trimBoth",!0,!0,!0,"both"));k.register("valueProcessors",this)},getValueProcessor:m=>b[m],register:c,unregister:m=>{g(m,x=>{b[x]&&delete b[x]})}})})(myt);
(q=>{const v=JS.Class,u=q.dumpStack,r={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",webp:"image/webp",ico:"image/vnd.microsoft.icon"},h=(a,e)=>{a[e](a,"doDragOver","dragover",!1);a[e](a,"doDragEnter","dragenter",!1);a[e](a,"doDragLeave","dragleave",!1);a[e](a,"doDrop","drop",!1)},f=q.DragDropSupport=new JS.Module("DragDropSupport",{include:[q.DragDropObservable],initNode:function(a,e){this.callSuper(a,e);this.disabled||this.setupDragListeners()},setDisabled:function(a){this.disabled!==
a&&(this.getIDE().disabled=a,this.callSuper(a),this.inited&&(a?this.teardownDragListeners():this.setupDragListeners()))},setupDragListeners:function(){h(this,"attachToDom")},teardownDragListeners:function(){h(this,"detachFromDom")},doDragOver:a=>{},doDragEnter:a=>{},doDragLeave:a=>{},doDrop:function(a){this.handleFiles(a.value.dataTransfer.files,a)},handleFiles:function(a,e){if(void 0!==a){let b=a.length;for(;b;){const g=this.filterFiles(a[--b]);g&&this.handleDroppedFile(g,e)}}else u("No File API")},
filterFiles:a=>a,handleDroppedFile:(a,e)=>{}}),d=q.FileInput=new v("FileInput",q.NativeInputWrapper,{initNode:function(a,e){this.inputType="file";this.callSuper(a,e);this.attachToDom(this,"_onChange","change")},setAccept:function(a){this.set("accept",a,!0);this.getIDE().accept=this.accept},setMaxFiles:function(a){this.maxFiles!==a&&(this.set("maxFiles",a,!0),this.getIDE().multiple=1<this.maxFiles)},clearValue:function(){this.getIDE().value=""},_onChange:a=>{}}),l=q.Uploader=new v("Uploader",q.View,
{include:[f,q.Disableable,q.FormElement],extend:{FILE_ATTR_SERVER_PATH:"serverPath",readFile:(a,e,b)=>{if(void 0!==FileReader){const g=new FileReader;g.onload=c=>{e(c.target.result)};switch(b){case "text":g.readAsText(a);break;case "arrayBuffer":g.readAsArrayBuffer(a);break;default:g.readAsDataURL(a)}}},isSameFile:(a,e)=>null!=a&&null!=e&&a.name===e.name&&a.type===e.type&&a.size===e.size,createFile:a=>{const e=(new q.URI(a)).file;return{name:e,serverPath:a,size:-1,type:r[q.getExtension(e)]}}},initNode:function(a,
e){const b=this;b.files=[];e.requestFileParam??(e.requestFileParam="file");e.maxFiles??(e.maxFiles=-1);e.responseIsRaw??(e.responseIsRaw=!1);const g=e.accept;delete e.accept;b.callSuper(a,e);b.fileInput=new d(b,{maxFiles:b.maxFiles,accept:g,percentOfParentWidth:100,percentOfParentHeight:100,opacity:.01,disabled:b.disabled,overflow:"hidden"},[q.SizeToParent,{_onChange:function(c){b.handleFiles(this.getIDE().files,c)}}])},setAccept:function(a){this.fileInput?.setAccept(this.accept)},getAccept:function(){return this.fileInput?.accept},
setMaxFiles:function(a){this.fileInput?.setMaxFiles(this.maxFiles)},getMaxFiles:function(){return this.fileInput?.maxFiles},setValue:function(a){this.clearFiles();if(a){Array.isArray(a)||(a=[a]);for(const e of a)this.addFile(l.createFile(e))}return this.callSuper?this.callSuper(a):a},getValue:function(){return this.value},setDisabled:function(a){this.callSuper(a);this.fileInput?.setDisabled(a)},setUploadUrl:function(a){this.set("uploadUrl",a,!0)},setRequestFileParam:function(a){this.set("requestFileParam",
a,!0)},setResponseIsRaw:function(a){this.set("responseIsRaw",a,!0)},bringSubviewToFront:function(a){a===this.fileInput?this.callSuper(a):this.sendSubviewBehind(a,this.fileInput)},subviewAdded:function(a){this.callSuper(a);this.fileInput&&this.bringSubviewToFront(this.fileInput)},handleDroppedFile:function(a,e){this.addFile(a)},filterFiles:function(a){return 0<=this.maxFiles&&this.files.length>=this.maxFiles?null:a},uploadFiles:function(a,e){a??=this.uploadUrl;const b=this.files;let g=b.length;for(;g;)this.uploadFile(b[--g],
a,e)},makeFetchOptionsForUpload:a=>({method:"POST",body:a}),uploadFile:function(a,e,b){const g=this,c=new FormData;c.append(b??g.requestFileParam,a,a.name.replaceAll("%20"," "));q.doFetch(e??g.uploadUrl,g.makeFetchOptionsForUpload(c),g.responseIsRaw,p=>{g.handleUploadSuccess(a,p)},p=>{g.handleUploadFailure(a,p)})},handleUploadSuccess:function(a,e){a[l.FILE_ATTR_SERVER_PATH]=this.parseServerPathFromResponse(a,e);this.updateValueFromFiles()},handleUploadFailure:(a,e)=>{u("Upload failure:"+e.status+
":"+e.message)},parseServerPathFromResponse:(a,e)=>null,addFile:function(a){this.files.push(a);this.updateValueFromFiles();this.fireEvent("addFile",a)},removeFile:function(a){const e=this.files;let b=e.length;for(;b;)if(l.isSameFile(e[--b],a)){e.splice(b,1);this.updateValueFromFiles();this.fireEvent("removeFile",a);break}},updateValueFromFiles:function(){const a=[];var e=this.files;let b=e.length;for(;b;){const g=e[--b][l.FILE_ATTR_SERVER_PATH];g&&a.push(g)}e=a.length;(this.value=1===e?a[0]:0===e?
void 0:a)||this.fileInput.clearValue();this.verifyChangedState();this.form?.notifyValueChanged(this);this.fireEvent("value",this.value)},clearFiles:function(){const a=this.files;let e=a.length;for(;e;)this.removeFile(a[--e])}}),k=q.ImageUploader=new v("ImageUploader",l,{extend:{isImageFile:a=>/image/i.test(a.type)},initNode:function(a,e){e.maxFiles=1;this.callSuper(a,e)},filterFiles:function(a){if(k.isImageFile(a)||this.allowNonImages){for(;0<this.files.length;)this.removeFile(this.files[0]);return this.callSuper(a)}},
addFile:function(a){const e=this,b=k.isImageFile(a);e.callSuper(a);const g=e.imageView=new q.Image(e,{percentOfParentWidth:100,percentOfParentHeight:100,useNaturalSize:!1,imageSize:"contain",imagePosition:"center"},[q.SizeToParent]);g.file=a;const c=p=>{const w=new Image;w.onload=()=>{a.width=w.width;a.height=w.height;g&&!g.destroyed&&e.updateImage(a,g,w.src)};w.src=p};b?-1===a.size?c(a.serverPath):k.isImageFile(a)&&l.readFile(a,c):-1===a.size?e.updateImage(a,g,a.serverPath):l.readFile(a,p=>{e.updateImage(a,
g,p)});return g},removeFile:function(a){this.callSuper(a);const e=this.getSubviews();let b=e.length;for(;b;){const g=e[--b];if(l.isSameFile(g.file,a)){g.destroy();break}}},handleDroppedFile:function(a,e){this.callSuper(a,e);this.uploadFile(a,this.uploadUrl)},updateImage:function(a,e,b){this.nativeWidth=a.width;this.nativeHeight=a.height;e.setImageUrl(b)},getImageSize:function(){return this.files.length?{width:this.nativeWidth,height:this.nativeHeight}:null}})})(myt);
(q=>{const v=(u,r,h,f)=>{h=h.bind(u);"y"!==u.axis&&(h(r,f,"x"),h(r,f,"boundsWidth"));"x"!==u.axis&&(h(r,f,"y"),h(r,f,"boundsHeight"));h(r,f,"visible")};q.SizeToChildren=new JS.Class("SizeToChildren",q.Layout,{initNode:function(u,r){this.axis="x";this.paddingX=this.paddingY=0;this.callSuper(u,r)},setAxis:function(u){this.axis!==u&&(this.inited?(this.stopMonitoringAllSubviews(),this.axis=u,this.startMonitoringAllSubviews(),this.fireEvent("axis",u),this.update()):this.axis=u)},setPaddingX:function(u){this.paddingX!==
u&&(this.paddingX=u,this.inited&&(this.fireEvent("paddingX",u),this.update()))},setPaddingY:function(u){this.paddingY!==u&&(this.paddingY=u,this.inited&&(this.fireEvent("paddingY",u),this.update()))},update:function(){if(this.canUpdate()){this.incrementLockedCounter();const r=this.parent;if(!r.isBeingDestroyed){const h=this.subviews;var u=h.length;const f=this.axis,d=Math.max;let l,k;if("y"!==f){l=u;for(k=0;l;){const a=h[--l];a.visible&&(k=d(k,a.x+(0<a.boundsWidth?a.boundsWidth:0)))}r.setWidth(k+
this.paddingX)}if("x"!==f){l=u;for(k=0;l;)u=h[--l],u.visible&&(k=d(k,u.y+(0<u.boundsHeight?u.boundsHeight:0)));r.setHeight(k+this.paddingY)}}this.decrementLockedCounter()}},startMonitoringSubview:function(u){v(this,u,this.attachTo,"update")},stopMonitoringSubview:function(u){v(this,u,this.detachFrom,"update")}})})(myt);
(q=>{let v=0;const u=JS.Class,{View:r,SizeToParent:h,RootView:f,theme:d}=q,l=q.Dimmer=new u("Dimmer",r,{include:[h],initNode:function(k,a){this.restoreFocus=!0;a.focusable=a.focusCage=!0;a.percentOfParentWidth??(a.percentOfParentWidth=100);a.percentOfParentHeight??(a.percentOfParentHeight=100);a.visible??(a.visible=!1);a.ignoreLayout??(a.ignoreLayout=!0);this.callSuper(k,a);this.overlay=new r(this,{ignorePlacement:!0,opacity:d.DimmerOpacity,bgColor:d.DimmerColor,percentOfParentWidth:100,percentOfParentHeight:100},
[h]);for(const e of"mouseover mouseout mousedown mouseup click dblclick mousemove".split(" "))this.attachDomObserver(this,"eatMouseEvent",e);f.setupCaptureDrop(this)},destroy:function(){f.teardownCaptureDrop(this);this.callSuper()},setRestoreFocus:function(k){this.restoreFocus=k},eatMouseEvent:k=>!0,show:function(){const k=q.global.focus;this.prevFocus=k.focusedView??k.focusedDom;this.makeHighestZIndex();this.focusable&&this.focus();this.setVisible(!0)},hide:function(k){this.visible&&(this.setVisible(!1),
!k&&this.restoreFocus&&this.prevFocus?.focus())}});q.ModalPanel=new u("ModalPanel",l,{extend:{getOpenModalPanelCount:()=>v,hasOpenModalPanels:()=>0<v},initNode:function(k,a){const e={name:"content",ignorePlacement:!0},b={...e,align:"center",valign:"middle"};this.defaultPlacement="content";a.sizingStrategy??(a.sizingStrategy="children");a.marginTop??(a.marginTop=d.ModalPanelMarginTop);a.marginLeft??(a.marginLeft=d.ModalPanelMarginLeft);a.marginBottom??(a.marginBottom=d.ModalPanelMarginBottom);a.marginRight??
(a.marginRight=d.ModalPanelMarginRight);a.paddingX??(a.paddingX=d.ModalPanelPaddingX);a.paddingY??(a.paddingY=d.ModalPanelPaddingY);this.callSuper(k,a);switch(this.sizingStrategy){case "children":new q.SizeToChildren(new r(this,b),{name:"sizeToChildren",axis:"both",paddingX:this.paddingX,paddingY:this.paddingY});break;case "parent":new r(this,{...e,x:this.marginLeft,y:this.marginTop,percentOfParentWidthOffset:-this.marginLeft-this.marginRight,percentOfParentHeightOffset:-this.marginTop-this.marginBottom,
percentOfParentWidth:100,percentOfParentHeight:100},[h]);break;case "basic":new r(this,b);break;default:new r(this,e)}},setSizingStrategy:function(k){this.sizingStrategy=k},setMarginTop:function(k){this.marginTop=k},setMarginLeft:function(k){this.marginLeft=k},setMarginBottom:function(k){this.marginBottom=k},setMarginRight:function(k){this.marginRight=k},setPaddingX:function(k){this.paddingX=k},setPaddingY:function(k){this.paddingY=k},show:function(){this.callSuper();v++},hide:function(k){this.callSuper(k);
v=Math.max(0,v-1)}})})(myt);
(q=>{const v=r=>{r[r.visible?"addDomClass":"removeDomClass"]("mytCenterSpin")},u=r=>{const h=r.size,f=r.getIDS();r.setWidth(h);r.setHeight(h);f.width=f.height=h-2*r.borderWidth+"px"};q.Spinner=new JS.Class("Spinner",q.View,{initNode:function(r,h){this.lateAttrs=["spinColor"];h.visible??(h.visible=!1);h.borderWidth??(h.borderWidth=5);h.borderColor??(h.borderColor="#fff");h.borderStyle??(h.borderStyle="solid");h.spinColor??(h.spinColor="#000");this.callSuper(r,h);this.getIDS().borderRadius="50%";u(this);
v(this)},setSize:function(r){this.size!==r&&(this.size=r,this.inited&&u(this))},setSpinColor:function(r){this.spinColor!==r&&(this.getIDS().borderTopColor=this.spinColor=r,this.inited&&this.fireEvent("spinColor",r))},setBorderWidth:function(r){this.borderWidth!==r&&(this.callSuper(r),this.inited&&u(this))},setVisible:function(r){this.visible!==r&&(this.callSuper(r),this.inited&&v(this))}})})(myt);
(q=>{const v=" fa-lg fa-2x fa-3x fa-4x fa-5x".split(" "),u=f=>{if(Array.isArray(f)){let d=f.length;if(0<d){f.unshift("fa");d++;f[1].startsWith("fa-")||(f[1]="fa-"+f[1]);3<=d&&(f[2]=v[f[2]]??"");if(3<d)for(let l=3;d>l;l++)f[l].startsWith("fa-")||(f[l]="fa-"+f[l]);return'<i class="'+f.join(" ")+'"></i>'}}q.dumpStack("Error making tag");console.error(f);return""},r=f=>{let d=f.properties;d=d?"string"===typeof d?d.split(" "):d.slice():[];d.unshift(f.icon,f.size);f.setHtml(u(d))},h=f=>{for(const d of["Free 400",
"Free 900","Brands 400"])q.registerForFontNotification(f,"Font Awesome 5 "+d)};q.FontAwesome=new JS.Class("FontAwesome",q.Markup,{extend:{makeTag:u,registerForNotification:h},initNode:function(f,d){this.size=0;this.icon="";this.callSuper(f,d);r(this);h(this)},setIcon:function(f){const d=this.icon;this.set("icon",f,!0);this.inited&&d!==f&&r(this)},setSize:function(f){const d=this.size;this.set("size",f,!0);this.inited&&d!==f&&r(this)},setProperties:function(f){this.properties=f;this.fireEvent("properties",
f);this.inited&&r(this)}});q.loadCSSFonts(["https://use.fontawesome.com/releases/v5.15.4/css/all.css"])})(myt);
(q=>{let v,u,r,h,f=0,d=0,l=0,k=255,a=[],e,b,g,c,p,w,t,n,B,L,z,D,J,O,Q,m,x,C,K,y,A,E,G,M,N,P;const U=JS.Class,{View:S,Text:X,ModalPanel:Ha,SizeToChildren:ua,SpacedLayout:za,WrappingLayout:Aa,SelectionManager:Ba,Color:pa,LocalStorage:Ca,Button:va,TextButton:ma,Draggable:Da,FontAwesome:{makeTag:na},theme:W}=q,{min:ha,max:ia}=Math,Ia=new U("DialogButton",ma,{initNode:function(F,H){H.height??(H.height=17);H.paddingTop??(H.paddingTop=3);H.paddingLeft??(H.paddingLeft=10);H.paddingRight??(H.paddingRight=
10);H.activeColor??(H.activeColor="#bbb");H.hoverColor??(H.hoverColor="#ddd");H.readyColor??(H.readyColor="#ccc");H.domClass="mytButtonText";this.callSuper(F,H)}}),Ja=na(["check"]),Fa=F=>{for(let H of F)7===H?.length&&(H+="ff"),Ea[H]=!0},Ea={},Ka=new U("Swatch",S,{include:[va],initNode:function(F,H){const I=H.width=H.height=16;H.border=W.border1s9;H.domClass="mytCheckerboardPattern";const R=H.bgColor;this.callSuper(F,H);this.colorView=new S(this,{width:I,height:I,bgColor:R});R===h&&(F=pa.makeColorFromHexString(h),
new X(this,{x:2,y:2,text:Ja,fontSize:"12px",textColor:382.5>F.red+F.green+F.blue?"#fff":"#000"}))},setBgColor:function(F){this.colorView?.setBgColor(F);this.setTooltip(F)},doActivated:function(){v.setColor(this.colorView.bgColor)},drawHoverState:function(){this.setBorder(W.border1s3)},drawReadyState:function(){this.setBorder(W.border1s9)}}),La=q.ColorPicker=new U("ColorPicker",S,{initNode:function(F,H){v=this;v._isReady=!1;let I=H.color??"transparent";delete H.color;r=H.alphaChannel??!1;delete H.alphaChannel;
e=H.palette??[];Fa(e);delete H.palette;u="transparent"===I;v.callSuper(F,H);b=new S(v,{width:160,height:170});new Aa(b,{spacing:4,lineSpacing:4});g=new S(v,{x:170,width:139,height:139,border:W.border1s3},[Da,{requestDragPosition:function(R,T){g.callSuper(g.x,g.y);const Y=this.getPagePosition();d=parseFloat(ia(0,ha(1,(R+this.dragInitX-Y.x)/this.width)));l=parseFloat(1-ia(0,ha(1,(T+this.dragInitY-Y.y)/this.height)));u=!1;v.updateUI()}}]);F=new S(g,{width:139,height:139});H=new S(F,{width:139,height:139});
F.getIDS().backgroundImage="linear-gradient(to right, #fff, rgba(204, 154, 129, 0))";H.getIDS().backgroundImage="linear-gradient(to top, #000, rgba(204, 154, 129, 0))";c=new S(H,{width:6,height:6,bgColor:"#000",border:[1,"solid","#fff"],roundedCorners:4});p=new S(v,{x:315,y:30,width:24,height:109,border:W.border1s3},[Da,{requestDragPosition:function(R,T){this.callSuper(p.x,p.y);f=parseFloat(ia(0,ha(1,(T+this.dragInitY-this.getPagePosition().y)/this.height)));u=!1;v.updateUI()}}]);p.getIDS().background=
"linear-gradient(to top, #f00 0%, #f0f 17%, #00f 33%, #0ff 50%, #0f0 67%, #ff0 83%, #f00 100%)";w=new S(p,{x:-1,width:24,height:2,bgColor:"#fff",border:[1,"solid","#000"]});new S(v,{x:315,width:24,height:24,border:W.border1s3,tooltip:"Set to transparent.",domClass:"mytCheckerboardPattern"},[va,{doActivated:()=>{v.setColor("transparent")}}]);F=146;r&&(B=new q.LabelSlider(v,{x:170,y:F,width:171,minValue:0,maxValue:255,flipThreshold:55,labelColor:"#fff"},[{setText:function(R,T){T=R.value;if(null==T||
isNaN(T))T=0;R.value=q.formatAsPercentage(T/255,0);this.callSuper(R,!0);k=T;v._isReady&&(u=!1,v.updateUI())}}]),F+=23);t=new q.InputText(v,{x:236,y:F,width:105,height:25,roundedCorners:3,textColor:W.DialogInputFgColor,border:W.border1s3,maxLength:11,fontFamily:"monospace"});v.attachToDom(t,"_submitInput","blur");v.attachToDom(t,"_handleKeyDown","keydown");t.getIDS().paddingLeft="6px";F=new S(v,{x:170,y:F,width:60,height:23,border:W.border1s3,domClass:"mytCheckerboardPattern"});new S(F,{width:30,height:23,
focusIndicator:!1,bgColor:I},[va,{doActivated:()=>{v.setColor(I)}}]);n=new S(F,{x:30,width:30,height:23});if(F=Ca.getItem("myt.default"))a=F.split(";"),Fa(a);v.setColor(I);v._isReady=!0},_handleKeyDown:F=>{q.KeyObservable.isEnterKeyEvent(F)&&v._submitInput()},_submitInput:()=>{v.setColor(t.value)},addToPalette:F=>{F&&"transparent"!==F&&!Ea[F]&&(a.unshift(F),a.length=ha(a.length,56),Ca.setItem("myt.default",a.join(";")))},setColor:F=>{const H=F&&"transparent"!==F;if(r){let I="ff";H&&7<F.length&&(I=
F.slice(7,9),F=F.slice(0,7));B.setValue(parseInt(I,16))}else H&&7<F.length&&(F=F.slice(0,7));H?(F=pa.makeColorFromHexString(F).getHSV(),f=F.h/360,d=F.s,l=F.v,u=!1):u=!0;v.updateUI()},getColor:()=>{if(u)return"transparent";let F="";r&&(F=k.toString(16),2>F.length&&(F="0"+F));return pa.makeColorFromHSV(360*f,100*d,100*l).getHtmlHexString()+F},updateUI:()=>{const F=!u;w.setVisible(F);c.setVisible(F);F&&(c.setX(ia(0,ha(1,d)*(g.width+2))-5),c.setY(ia(0,ha(1,1-l)*(g.height+2))-5),w.setY(f*(p.height-2)-
1));g.setBgColor(pa.makeColorFromHSV(360*f,100,100).getHtmlHexString());h=v.getColor();t.setValue(h);n.setBgColor(h);v.redrawPalette()},redrawPalette:q.debounce(()=>{b.destroyAllSubviews();const F=new Set;e.push(...a);for(let H of e)if(r||7===H.length)7===H.length&&(H+="ff"),F.has(H)||(new Ka(b,{bgColor:H}),F.add(H))},50)}),wa=F=>{F=F.split(":");return[ia(0,ha(23,parseInt(F[0]))),ia(0,ha(60,parseInt(F[1])))]},Ga=new U("SelectableBtn",ma,{include:[q.Selectable],setSelected:function(F){this.callSuper(F);
this.updateUI()},updateUI:function(){this.callSuper();this.isSelected()?(this.setBgColor("#666"),this.setTextColor("#fff")):this.setTextColor()}}),Ma=new U("TimeBtn",Ga,{initNode:function(F,H){H.width=J?175:49;this.callSuper(F,H)},doActivated:function(){this.callSuper();const F=this.text,H=wa(F);P.selectById(F);A.setHours(H[0]);A.setMinutes(H[1])}}),Na=new U("DayBtn",Ga,{initNode:function(F,H){H.width=23;H.border=W.DialogDayBtnBorder;this.callSuper(F,H)},setData:function(F){this.data=F},setIsAnotherMonth:function(F){this.isAnotherMonth=
F},setIsToday:function(F){this.isToday=F},setIsSunday:function(F){this.isSunday=F},setIsSaturday:function(F){this.isSaturday=F},updateUI:function(){this.destroyed||(this.callSuper(),this.isSelected()||this.setTextColor(this.isAnotherMonth?"#ccc":this.isSunday?"#d40":this.isSaturday?"#04a":null),this.setBorderColor(this.isToday?W.DialogDayBtnBorderColorToday:W.DialogDayBtnBorderColor))},doActivated:function(){this.callSuper();const F=new Date(this.data);F.setHours(A.getHours());F.setMinutes(A.getMinutes());
oa(F)}}),oa=F=>{F.setSeconds(0);F.setMilliseconds(0);var H=6>=Q.length,I;if(H)for(I=7;I--&&!Q.includes(F.getDay());)F.setDate(F.getDate()+1);A=F;const R=P.getODE().scrollTop;var T=new Date,Y=T.getFullYear(),V=T.getMonth(),Z=T.getDate();T.getHours();T.getMinutes();const ca=F.getFullYear(),da=F.getMonth(),ka=F.getDate();var ea=F.getTime();T=F.getHours();F=F.getMinutes();const qa=(new Date(ca,da,1)).getDay()-O,ra=(new Date(ca,da+1,0)).getDate(),xa=(new Date(ca,da,0)).getDate(),sa=new Date(ca,da,0),ta=
new Date(ca,da+2,0);Y=Y==ca&&V==da;if(!J){V=N;V.deselectAll();V.destroyAllSubviews();I=new Date(ea);const ja=7+O;V=z.days;G.setText(ca+" "+z.sep+" "+z.months[da]);I.setMinutes(59);I.setHours(23);I.setSeconds(59);I.setDate(0);E.setVisible(null==m||m<I.getTime());I.setMinutes(0);I.setHours(0);I.setSeconds(0);I.setDate(1);I.setMonth(da+1);M.setVisible(null==x||x>I.getTime());for(I=0;7>I;I++)new X(N,{width:23,height:20,textAlign:"center",text:V[(I+ja)%7],textColor:"#999"});I=0;let fa=42;0>qa&&(I=-7,fa=
35);V=new Date(ea);V.setHours(0);V.setMinutes(0);for(V.setSeconds(0);I<fa;I++){var aa=I+1-qa;const ya=(I+ja)%7,ba=new Na(N);qa>I?(ba.setText(xa+aa),ba.setData(sa.getFullYear()+"/"+(sa.getMonth()+1)+"/"+(xa+aa)),ba.setIsAnotherMonth(!0),V.setDate(xa+aa),V.setMonth(sa.getMonth()),V.setYear(sa.getFullYear())):I<qa+ra?(ba.setText(aa),ba.setData(ca+"/"+(da+1)+"/"+aa),V.setDate(aa),V.setMonth(da),V.setYear(ca)):(ba.setText(aa-ra),ba.setData(ta.getFullYear()+"/"+(ta.getMonth()+1)+"/"+(aa-ra)),ba.setIsAnotherMonth(!0),
V.setDate(aa-ra),V.setMonth(ta.getMonth()),V.setYear(ta.getFullYear()));H&&!Q.includes(ya)?ba.setDisabled(!0):(0===ya?ba.setIsSunday(!0):6===ya&&ba.setIsSaturday(!0),aa===ka&&(N.select(ba),ba.focus()),Y&&aa===Z&&ba.setIsToday(!0),aa=new Date(V.getTime()),aa.setHours(23),aa.setMinutes(59),aa.setSeconds(59),(null!=m&&m>aa.getTime()||null!=x&&x<V.getTime())&&ba.setDisabled(!0));ba.updateUI()}}if(!D){H=60*K[0]+K[1];Z=P;Z.deselectAll();Z.destroyAllSubviews();let [ja,fa]=C;for(V=new Date(ea);60*ja+fa<H;)ea=
new Ma(P,{text:("0"+ja).slice(-2)+":"+("0"+fa).slice(-2)}),ja===T&&fa===F&&P.select(ea),V.setHours(ja),V.setMinutes(fa),Z=V.getTime(),(null!=m&&m>Z||null!=x&&x<Z)&&ea.setDisabled(!0),fa+=y,60<=fa&&(fa-=60,ja++);P.scrollYTo(R)}},Oa=q.DatePicker=new U("DatePicker",S,{initNode:function(F,H){L=this;const I={current:null,dateOnly:!1,timeOnly:!1,locales:null,locale:"",minuteInterval:30,firstDayOfWeek:0,showTodayButton:!0,minDate:null,maxDate:null,minTime:"00:00",maxTime:"23:59",allowedDays:null,...H.opt};
delete H.opt;L.callSuper(F,H);z=I.locales[I.locale??"en"];D=I.dateOnly;J=I.timeOnly;O=I.firstDayOfWeek;y=ia(5,ha(30,I.minuteInterval));Q=I.allowedDays;Array.isArray(Q)&&0!==Q.length||(Q=[0,1,2,3,4,5,6]);m=Date.parse(I.minDate);m=isNaN(m)?null:m;x=Date.parse(I.maxDate);x=isNaN(x)?null:x;C=wa(I.minTime);K=wa(I.maxTime);F=new S(L,{visible:!J});I.showTodayButton&&new ma(F,{width:24,text:na(["home"]),tooltip:z.today},[{doActivated:()=>{oa(new Date)}}]);E=new ma(F,{width:24,x:28,text:na(["chevron-left"]),
tooltip:z.prevMonth},[{doActivated:()=>{const R=(new Date(A.getFullYear(),A.getMonth(),0)).getDate();R<A.getDate()&&A.setDate(R);A.setMonth(A.getMonth()-1);oa(A);E.focus()}}]);G=new X(F,{width:100,x:52,textAlign:"center"});M=new ma(F,{width:24,x:152,text:na(["chevron-right"]),tooltip:z.nextMonth},[{doActivated:()=>{var R=(new Date(A.getFullYear(),A.getMonth()+1,0)).getDate();R<A.getDate()&&A.setDate(R);R=(new Date(A.getFullYear(),A.getMonth()+2,0)).getDate();R<A.getDate()&&A.setDate(R);A.setMonth(A.getMonth()+
1);oa(A);M.focus()}}]);N=new S(L,{y:25,width:175,height:175,visible:!J,maxSelected:1,itemSelectionId:"data"},[Ba]);new Aa(N,{spacing:2,lineInset:2,lineSpacing:3});P=new S(L,{x:J?0:195,y:J?0:25,width:(J?175:49)+q.DomElementProxy.getScrollbarSize(),height:J?200:175,overflow:"autoy",visible:!D,maxSelected:1,itemSelectionId:"text"},[Ba]);new za(P,{axis:"y",inset:1,spacing:3});L.setWidth(P.visible?P.x+P.width:N.width);oa(I.current??new Date)},getPickedDate:()=>A}),la=q.Dialog=new U("Dialog",Ha,{extend:{BUTTON_CLASS:Ia,
WRAP_TEXT_DEFAULTS:{width:200,fontWeight:"bold",whiteSpace:"normal",wordWrap:"break-word"},NO_WRAP_TEXT_DEFAULTS:{width:"auto",fontWeight:"bold",whiteSpace:"nowrap",wordWrap:"break-word"},CONFIRM_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Confirm",maxContainerHeight:300,showClose:!1},COLOR_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Color",color:"#000000",alphaChannel:!1},DATE_PICKER_DEFAULTS:{cancelTxt:"Cancel",confirmTxt:"Choose",titleText:"Choose a Date",timeOnlyTitleText:"Choose a Time",
color:"#000",locales:{en:{days:"Su Mo Tu We Th Fr Sa".split(" "),months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),sep:"-",prevMonth:"Previous month",nextMonth:"Next month",today:"Today"}},locale:"en"}},initNode:function(F,H){H.buttonClass??(H.buttonClass=la.BUTTON_CLASS);this.callSuper(F,H);F=this.content;F.setRoundedCorners(W.DialogRadius);F.setBgColor(W.DialogBgColor);F.setBoxShadow(W.DialogShadow);F.setBorder(W.DialogBorder);F.setFocusCage(!0);this.makeCloseButton(F)},setButtonClass:function(F){this.buttonClass=
F},setCallbackFunction:function(F){this.callbackFunction=F},makeButton:function(F,H){const I=this;return new I.buttonClass(F,H,[{doActivated:function(){I.doCallback(this)}}])},makeCloseButton:function(F){return F.closeBtn=this.makeButton(F,{ignoreLayout:!0,y:2,align:"right",alignOffset:2,width:19,height:16,paddingLeft:0,paddingRight:0,roundedCorners:10,activeColor:"#c00",hoverColor:"#f33",readyColor:"#f00",textColor:"#fff",text:na(["times"]),tooltip:"Close Dialog."})},hide:function(F){this.spinner&&
(this.spinner.setVisible(!1),this.spinner=void 0);this.callSuper(F)},destroyContent:function(){this.spinner&&(this.spinner.setVisible(!1),this.spinner=void 0);const F=this.content,H=F.sizeToChildren;F.destroyAllSubviews(I=>"closeBtn"!==I.name);F.setVisible(!0);this.overlay.setBgColor(W.DimmerColor);this.setCallbackFunction();H.setPaddingY(W.ModalPanelPaddingY);H.setPaddingX(W.ModalPanelPaddingX);F.setRoundedCorners(W.DialogRadius);F.setBgColor(W.DialogBgColor);F.setBoxShadow(W.DialogShadow);F.setBorder(W.DialogBorder)},
doCallback:function(F){const H=this.callbackFunction;H&&H.call(this,F.name)||this.hide()},showBlank:function(F){this.destroyContent();this.content.setVisible(!1);F?.bgColor&&this.overlay.setBgColor(F.bgColor);this.show()},showMessage:function(F,H,I){const R=this.content,T=R.closeBtn;I={...la.WRAP_TEXT_DEFAULTS,...I};this.destroyContent();this.setCallbackFunction(H);F=R.msg=new X(R,{text:F,whiteSpace:I.whiteSpace,wordWrap:I.wordWrap,fontWeight:I.fontWeight,x:null==I.msgX?W.ModalPanelPaddingX:I.msgX,
y:null==I.msgY?W.ModalPanelPaddingY:I.msgY,width:I.width});I.titleText&&(this.setupTitle(R,I.titleText),F.setY(F.y+24));this.show();!1===I.showClose?T.destroyed||T.setVisible(!1):(T.setVisible(!0),T.focus())},showSimple:function(F,H,I,R){I=I??{};const T=this.content,Y=T.closeBtn,V=I.maxContainerHeight;this.destroyContent();I.bgColor&&T.setBgColor(I.bgColor);I.roundedCorners&&T.setRoundedCorners(I.roundedCorners);I.boxShadow&&T.setBoxShadow(I.boxShadow);I.border&&T.setBorder(I.border);T.sizeToChildren.setPaddingX(1);
this.setCallbackFunction(H);H=T.contentContainer=new S(T,{x:1,y:25,overflow:"auto"},[{setHeight:function(Z){Z>V&&(Z=V);this.callSuper(Z)}}]);F.call(this,H);new ua(H,{axis:"both"});this.show();Y.setVisible(!0);Y.focus();I.titleText&&(this.setupTitle(T,I.titleText),H.setY(this.header.height+1));H.initialFocus?.focus();R?.(this)},showConfirm:function(F,H,I){I={...la.CONFIRM_DEFAULTS,...I};this.showMessage(F,H,I);this.setupFooterButtons(this.content.msg,I)},showContentConfirm:function(F,H,I,R){I={...la.CONFIRM_DEFAULTS,
...I};const T=this.content,Y=T.closeBtn,V=I.maxContainerHeight;this.destroyContent();T.sizeToChildren.setPaddingX(1);this.setCallbackFunction(H);H=T.contentContainer=new S(T,{x:1,y:25,overflow:"auto"},[{setHeight:function(Z){this.callSuper(Z>V?V:Z)}}]);F.call(this,H);new ua(H,{axis:"both"});this.show();!1===I.showClose?Y.destroyed||Y.setVisible(!1):(Y.setVisible(!0),Y.focus());this.setupTitle(T,I.titleText);H.setY(this.header.height+1);this.setupFooterButtons(H,I);H.initialFocus?.focus();R?.(this)},
showSpinner:function(F,H){const I=this.content;H={...la.NO_WRAP_TEXT_DEFAULTS,...H};this.destroyContent();const R=this.spinner=new q.Spinner(I,{align:"center",visible:!0,borderColor:"#ccc",size:50,y:null==H.msgY?W.ModalPanelPaddingY:H.msgY});F&&(this.msgTxt=new X(I,{text:F,whiteSpace:H.whiteSpace,wordWrap:H.wordWrap,fontWeight:H.fontWeight,x:null==H.msgX?W.ModalPanelPaddingX:H.msgX,y:R.y+R.size+W.ModalPanelPaddingY,width:H.width}));this.show();I.closeBtn.setVisible(!1);this.focus()},updateMessage:function(F){this.msgTxt?.setText(F)},
showColorPicker:function(F,H){const I=this,R=I.content,T=R.closeBtn;H={...la.COLOR_PICKER_DEFAULTS,...H};I.destroyContent();I.setCallbackFunction(Y=>{switch(Y){case "closeBtn":case "cancelBtn":F.call(I,Y);break;case "confirmBtn":const V=v.getColor();v.addToPalette(V);F.call(I,Y,V)}v.destroy()});v=new La(R,{x:W.ModalPanelPaddingX,y:W.ModalPanelPaddingY+24,width:337,height:177+(H.alphaChannel?23:0),color:H.color,alphaChannel:H.alphaChannel,palette:"#000000 #111111 #222222 #333333 #444444 #555555 #666666 #777777 #888888 #999999 #aaaaaa #bbbbbb #cccccc #dddddd #eeeeee #ffffff".split(" ")});
I.show();T.setVisible(!0);T.focus();I.setupFooterButtons(v,H);I.setupTitle(R,H.titleText)},showDatePicker:function(F,H){const I=this,R=I.content,T=R.closeBtn;H={...la.DATE_PICKER_DEFAULTS,...H};I.destroyContent();I.setCallbackFunction(Y=>{switch(Y){case "closeBtn":case "cancelBtn":F.call(I,Y);break;case "confirmBtn":F.call(I,Y,L.getPickedDate())}L.destroy()});L=new Oa(R,{x:W.ModalPanelPaddingX,y:W.ModalPanelPaddingY+24,height:195,opt:{current:new Date(H.initialDate??Date.now()),dateOnly:H.dateOnly||
!1,timeOnly:H.timeOnly||!1,locales:H.locales,locale:H.locale}});I.show();T.setVisible(!0);T.focus();I.setupFooterButtons(L,H);I.setupTitle(R,H.timeOnly?H.timeOnlyTitleText:H.titleText)},setupTitle:function(F,H){const I=W.DialogRadius;(this.header=new S(F,{ignoreLayout:!0,width:F.width,height:24,bgColor:"#eee",roundedTopLeftCorner:I,roundedTopRightCorner:I})).sendToBack();F.title=new X(F,{x:I,y:4,text:H,fontWeight:"bold"})},setupFooterButtons:function(F,H){const I=this.content;var R=W.ModalPanelPaddingY,
T=R/2;F=I.btnContainer=new S(I,{y:F.y+F.height+R,align:"center"});const Y=["active","hover","ready","text"];R=H.cancelAttrs??{};var V;(V=R).name??(V.name="cancelBtn");let Z;(Z=R).text??(Z.text=H.cancelTxt);for(let ea of Y)ea+="Color",null!=H[ea]&&(R[ea]=H[ea]);V=this.makeButton(F,R);R=H.confirmAttrs??{};var ca;(ca=R).name??(ca.name="confirmBtn");let da;(da=R).text??(da.text=H.confirmTxt);for(var ka of Y)ka+="Color",ca=ka+"Confirm",null!=H[ca]&&(R[ka]=H[ca]);this.makeButton(F,R);if(ka=H.button)for(const ea of ka)this.makeButton(F,
ea);new ua(F,{axis:"y"});new za(F,{spacing:4,collapseParent:!0});I.sizeToChildren.setPaddingY(T);T=F.y-T;(new S(I,{ignoreLayout:!0,y:T,width:I.width,height:I.height-T,bgColor:"#eee"})).sendToBack();!1===H.showClose&&V.focus()}})})(myt);
(q=>{const v=JS.Class,u=q.dumpStack,r={},h=(b,g)=>{if(b){const c=b.id;b.id?g(c):u("No ID")}else u("No validator")},f=b=>{h(b,g=>{r[g]=b})},d=q.Validator=new v("Validator",{initialize:function(b){this.id=b},isValid:(b,g,c)=>!0,isFormValid:function(b,g,c){g??={};g.form=b;return this.isValid(b.getValue(),g,c)}}),l=q.RequiredFieldValidator=new v("RequiredFieldValidator",d,{isValid:(b,g,c)=>null==b||""===b||"string"===typeof b&&""===b.trim()?(c?.push("This value is required."),!1):!0}),k=q.EqualsIgnoreCaseValidator=
new v("EqualsIgnoreCaseValidator",d,{isValid:(b,g,c)=>{g=g.form.getRollbackValue();return b&&g&&b.toLowerCase()===g.toLowerCase()?(c?.push("Value must differ by more than just case."),!1):!0}}),a=q.URLValidator=new v("URLValidator",d,{initialize:function(b,g){this.callSuper(b);this.originalRawQuery=g},isValid:function(b,g,c){return(new q.URI(b)).toString(this.originalRawQuery)!==b?(c?.push("Invalid URL."),!1):!0}}),e=q.JSONValidator=new v("JSONValidator",d,{isValid:(b,g,c)=>{try{return JSON.parse(b),
!0}catch(p){return c?.push(p),!1}}});q.RegexValidator=new v("RegexValidator",d,{initialize:function(b,g,c){this.callSuper(b);this.regex=new RegExp(g);this.errorMsg=c},isValid:function(b,g,c){b=this.regex.test(b);!b&&this.errorMsg&&c?.push(this.errorMsg);return b}});q.EqualFieldsValidator=new v("EqualFieldsValidator",d,{initialize:function(b,g,c){this.callSuper(b);this.fieldA=g;this.fieldB=c},isValid:function(b,g,c){const {fieldA:p,fieldB:w}=this;if(p?.inited&&w?.inited){if(b&&p.getValue()===w.getValue())return!0;
c?.push('The field "'+p.key+'" must be equal to the field "'+w.key+'".')}return!1}});q.LengthValidator=new v("LengthValidator",d,{initialize:function(b,g,c){this.callSuper(b);this.min=g;this.max=c},isValid:function(b,g,c){b=b?b.length:0;g=this.min;const p=this.max;return void 0!==g&&g>b?(c?.push("The value must not be less than "+g+" characters long."),!1):void 0!==p&&p<b?(c?.push("The value must not be greater than "+p+" characters long."),!1):!0}});q.NumericRangeValidator=new v("NumericRangeValidator",
d,{initialize:function(b,g,c){this.callSuper(b);this.min=g;this.max=c},isValid:function(b,g,c){if(""===b)return!0;b=Number(b);g=this.min;const p=this.max;return isNaN(b)?(c?.push("Value is not a number."),!1):void 0!==g&&g>b?(c?.push("Value must not be less than "+g+"."),!1):void 0!==p&&p<b?(c?.push("Value must not be greater than "+p+"."),!1):!0}});q.CompoundValidator=new v("CompoundValidator",d,{initialize:function(b,...g){this.callSuper(b);for(b=g.length;b;){let c=g[--b];"string"===typeof c&&((g[b]=
c=r[c])||g.splice(b,1))}this.__v=g},addValidator:function(b){"string"===typeof b&&(b=r[b]);b&&this.__v.push(b)},isValid:function(b,g,c){const p=this.__v,w=p.length;let t=!0,n=0;for(;w>n;)t=p[n++].isValid(b,g,c)&&t;return t}});new JS.Singleton("GlobalValidatorRegistry",{initialize:function(){f(new l("required"));f(new k("equalsIgnoreCase"));f(new a("url"));f(new e("json"));q.global.register("validators",this)},getValidator:b=>r[b],register:f,unregister:b=>{h(b,g=>{r[g]&&delete r[g]})}})})(myt);
(q=>{const v=JS.Class,{min:u,max:r,round:h,abs:f}=Math,d=q.View,l=new v("SliderThumb",q.SimpleButton,{include:[q.Draggable,q.ArrowKeyActivation],initNode:function(a,e){const b=e.width=a.thumbWidth,g=e.height=a.thumbHeight;e.roundedCorners=u(g,b)/2;e.repeatKeyDown=!0;e.activationKeys=q.global.keys.ARROW_KEYS;e.activeColor="#bbb";e.readyColor="#ccc";e.hoverColor="#ddd";e.boxShadow=[0,0,4,"#666"];this.callSuper(a,e);this["x"===a.axis?"setY":"setX"](a.thumbOffset);this.syncTo(a,"setDisabled","disabled");
a._syncThumbToValue(this,a.getValue())},setDisabled:function(a){this.callSuper(this.valueFromEvent(a))},setFocused:function(a){this.callSuper(a);a&&this.makeHighestZIndex()},setX:function(a){this.x!==a&&(this.callSuper(a),a=this.parent,"x"===a.axis&&a.syncValueToThumb(this))},setY:function(a){this.y!==a&&(this.callSuper(a),a=this.parent,"y"===a.axis&&a.syncValueToThumb(this))},requestDragPosition:function(a,e){if(!this.disabled){const b=this.parent,g=b.getMinPixelValueForThumb(this),c=b.getMaxPixelValueForThumb(this),
p=b.snapThreshold;let w;"x"===b.axis?(w=this.width/2,e="setX"):(w=this.height/2,a=e,e="setY");if(b.allowSnap(this))for(let t of b.getSnapValuesAsPx())if(t-=w,f(a-t)<=p){a=t;break}this[e](u(r(a,g-w),c-w))}},doKeyArrowLeftOrUp:function(a,e){a?this.parent.nudgeValueLeft(this):this.parent.nudgeValueUp(this);return!0},doKeyArrowRightOrDown:function(a,e){a?this.parent.nudgeValueRight(this):this.parent.nudgeValueDown(this);return!0}}),k=q.BaseSlider=new v("BaseSlider",d,{include:[q.Disableable],initNode:function(a,
e){e.axis??(e.axis="x");"x"===e.axis?(e.width??(e.width=100),e.height??(e.height=18)):(e.width??(e.width=18),e.height??(e.height=100));e.bgColor??(e.bgColor="#999");e.roundedCorners??(e.roundedCorners=9);e.trackInset??(e.trackInset=9);e.trackOutset??(e.trackOutset=9);e.thumbWidth??(e.thumbWidth=16);e.thumbHeight??(e.thumbHeight=16);e.thumbOffset??(e.thumbOffset=1);e.nudgeAmount??(e.nudgeAmount=1);e.snapThreshold??(e.snapThreshold=8);e.snapValues??(e.snapValues=[]);this.callSuper(a,e)},setAxis:function(a){this.axis=
a},setTrackInset:function(a){this.trackInset=a},setTrackOutset:function(a){this.trackOutset=a},setThumbWidth:function(a){this.thumbWidth=a},setThumbHeight:function(a){this.thumbHeight=a},setThumbOffset:function(a){this.thumbOffset=a},setNudgeAmount:function(a){this.nudgeAmount=a},setSnapThreshold:function(a){this.snapThreshold=a},setSnapValues:function(a){this.snapValues=a},getSnapValuesAsPx:function(){const a=[];for(const e of this.snapValues)a.push(this.convertValueToPixels(e));return a},allowSnap:function(a){var e=
a.__lastMousePosition;const b=q.DomElementProxy.getRelativePosition(a.getODE()),g="x"===this.axis;a=g?a.height:a.width;e=g?e.y-b.y:e.x-b.x;return 0<e&&e<a},convertValueToPixels:function(a){const e=this.minValue,b=this.trackInset;return b+(("x"===this.axis?this.width:this.height)-b-this.trackOutset)/(this.maxValue-e)*(a-e)},convertPixelsToValue:function(a){const e=this.minValue,b=this.trackInset;return(this.maxValue-e)/(("x"===this.axis?this.width:this.height)-b-this.trackOutset)*(a-b)+e},nudgeValueLeft:function(a){this._nudge(a,
!1)},nudgeValueUp:function(a){this._nudge(a,!1)},nudgeValueRight:function(a){this._nudge(a,!0)},nudgeValueDown:function(a){this._nudge(a,!0)},_nudge:(a,e)=>{},_syncThumbToValue:function(a,e){e=this.convertValueToPixels(e);"x"===this.axis?a.setX(e-a.width/2):a.setY(e-a.height/2)},syncValueToThumb:function(a){this.inited&&!this.__lockSync&&(this.__lockSync=!0,this._syncValueToThumb(a,this.convertPixelsToValue("x"===this.axis?a.x+a.width/2:a.y+a.height/2)),this.__lockSync=!1)},_syncValueToThumb:(a,e)=>
{},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(this.minValue)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(this.maxValue)}});q.RangeSlider=new v("RangeSlider",k,{include:[q.BoundedRangeComponent],initNode:function(a,e){let b=e.rangeFillSize;const g=e.rangeFillOffset??0,c=e.rangeFillColor??"#666";delete e.rangeFillSize;delete e.rangeFillOffset;delete e.rangeFillColor;this.callSuper(a,e);a=this.rangeFill=new d(this,{bgColor:c});"x"===this.axis?(b??=
this.thumbHeight,a.setY(g+this.thumbOffset),a.setHeight(b)):(b??=this.thumbWidth,a.setX(g+this.thumbOffset),a.setWidth(b));a.setRoundedCorners(b/2);this.thumbLower=new l(this);this.thumbUpper=new l(this);this._syncRangeFillToValue()},setValue:function(a){this.callSuper(a);this.inited&&(this.__lockSync||(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a)),this._syncRangeFillToValue())},setWidth:function(a){const e=this.width;this.callSuper(a);this.inited&&
"x"===this.axis&&this.width!==e&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},setHeight:function(a){const e=this.height;this.callSuper(a);this.inited&&"y"===this.axis&&this.height!==e&&(a=this.getValue(),this._syncThumbToValue(this.thumbLower,a),this._syncThumbToValue(this.thumbUpper,a))},_syncRangeFillToValue:function(){const a=this.rangeFill;var e=this.getValue();const b=this.convertValueToPixels(e.lower);e=this.convertValueToPixels(e.upper)-
b;"x"===this.axis?(a.setX(b),a.setWidth(e)):(a.setY(b),a.setHeight(e))},_syncThumbToValue:function(a,e){this.callSuper(a,a===this.thumbLower?e.lower:e.upper)},_syncValueToThumb:function(a,e){let b=this.getValueCopy();b[a===this.thumbLower?"lower":"upper"]=e;this.setValue(b);b=this.getValue();this.thumbLower&&this._syncThumbToValue(this.thumbLower,b);this.thumbUpper&&this._syncThumbToValue(this.thumbUpper,b)},_nudge:function(a,e){const b=this.getValueCopy();e=this.nudgeAmount*(e?1:-1);a===this.thumbLower?
b.lower=u(b.lower+e,b.upper):b.upper=r(b.upper+e,b.lower);this.setValue(b)},getMinPixelValueForThumb:function(a){return this.convertValueToPixels(a===this.thumbLower?this.minValue:this.getValue().lower)},getMaxPixelValueForThumb:function(a){return this.convertValueToPixels(a===this.thumbLower?this.getValue().upper:this.maxValue)}});q.Slider=new v("Slider",k,{include:[q.BoundedValueComponent],initNode:function(a,e){this.callSuper(a,e);this.thumb=new l(this)},setValue:function(a){this.callSuper(a);
this.inited&&!this.__lockSync&&this._syncThumbToValue(this.thumb,this.getValue())},setWidth:function(a){const e=this.width;this.callSuper(a);this.inited&&"x"===this.axis&&this.width!==e&&this._syncThumbToValue(this.thumb,this.getValue())},setHeight:function(a){const e=this.height;this.callSuper(a);this.inited&&"y"===this.axis&&this.height!==e&&this._syncThumbToValue(this.thumb,this.getValue())},_syncValueToThumb:function(a,e){this.setValue(e);this._syncThumbToValue(a,this.getValue())},_nudge:function(a,
e){this.setValue(this.getValue()+this.nudgeAmount*(e?1:-1))}});q.LabelSlider=new v("LabelSlider",q.Slider,{initNode:function(a,e){const b=this;e.labelX??(e.labelX=8);e.labelY??(e.labelY=2);e.labelFontSize??(e.labelFontSize="12px");e.labelColor??(e.labelColor="#000");e.flipThreshold??(e.flipThreshold=h((e.maxValue-e.minValue)/2)||0);b.quickSet(["labelX","labelY","labelFontSize","labelColor","flipThreshold"],e);b.callSuper(a,e);const g=b.labelX;b.labelTxt=new q.Text(b,{x:g,y:b.labelY,textColor:b.labelColor,
fontSize:b.labelFontSize},[{initNode:function(c,p){this.targetX=g;this.callSuper(c,p)},updateX:function(c){const p=b.getValue()>=b.flipThreshold?g:b.width-this.width-g;this.targetX!==p&&(this.targetX=p,this.stopActiveAnimators("x"),c?this.setX(p):this.animate({attribute:"x",to:p,duration:250}))}}]);b.syncTo(b,"setText","value")},setWidth:function(a){this.callSuper(a);this.labelTxt?.updateX(!0)},setText:function(a,e){const b=this.labelTxt;b&&(b.setText(a.value),b.updateX(e))}})})(myt);
(q=>{const v=JS.Class,{abs:u,min:r}=Math,{CODE_ENTER:h,CODE_SPACE:f,ARROW_KEYS:d}=q.global.keys,l=a=>{const e="y"===a.axis?"height":"width";a.constrain("__limitToParent",[a,"limitToParent",a,e,a.parent,e])};var k=q.NudgeMixin=new JS.Module("NudgeMixin",{initNode:function(a,e){e.nudgeTargetValue??(e.nudgeTargetValue="value");e.nudgeIncrement??(e.nudgeIncrement=1);e.nudgeMin??(e.nudgeMin=1);e.nudgeMax??(e.nudgeMax=64);this.__nudgeAcc=e.nudgeMin;this.callSuper(a,e)},setNudgeIncrement:function(a){this.set("nudgeIncrement",
u(a),!0)},setNudgeMin:function(a){this.set("nudgeMin",u(a),!0)},setNudgeMax:function(a){this.set("nudgeMax",u(a),!0)},setNudgeTargetValue:function(a){this.set("nudgeTargetValue",a,!0)},nudge:function(a,e){const b=this.nudgeTargetValue;e=this.__nudgeAcc=e?r(this.__nudgeAcc+this.nudgeIncrement,this.nudgeMax):this.nudgeMin;this.set(b,(this.get(b)||0)+(a?1:-1)*e);return!0}});k=new v("BaseDivider",q.SimpleButton,{include:[q.BoundedValueComponent,q.Draggable,q.ArrowKeyActivation,k],initNode:function(a,
e){e.activeColor??(e.activeColor="#bbb");e.hoverColor??(e.hoverColor="#ddd");e.readyColor??(e.readyColor="#ccc");e.axis??(e.axis="x");e.minValue??(e.minValue=0);e.value??(e.value=e.minValue);e.expansionState??(e.expansionState=2);e.focusIndicator??(e.focusIndicator=!1);e.repeatKeyDown??(e.repeatKeyDown=!0);e.activationKeys??(e.activationKeys=[h,f,...d]);"y"===e.axis?(e.height??(e.height=6),e.cursor??(e.cursor="row-resize")):(e.width??(e.width=6),e.cursor??(e.cursor="col-resize"));this.quickSet(["axis"],
e);this.callSuper(a,e);null==e.restoreValue&&this.setRestoreValue(this.value);null!=this.limitToParent&&l(this);this.attachDomObserver(this,"doPrimaryAction","dblclick")},setExpansionState:function(a){this.expansionState=a},setRestoreValue:function(a){this.restoreValue=a},setLimitToParent:function(a){this.limitToParent!==a&&(this.limitToParent=a,this.inited&&(this.fireEvent("limitToParent",a),null==a?this.releaseConstraint("__limitToParent"):l(this)))},setAxis:function(a){this.inited?console.warn("Axis not updatable after instantiation"):
this.axis=a},setValue:function(a){this.callSuper(a);a=this.value;"y"===this.axis?this.setY(a):this.setX(a)},__limitToParent:function(a){a="y"===this.axis?"height":"width";this.setMaxValue(this.parent[a]-this.limitToParent-this[a])},doActivationKeyDown:function(a,e){this.callSuper(a,e);switch(a){case h:case f:this.doPrimaryAction()}},doKeyArrowLeftOrUp:function(a,e){return this.nudge(!1,e)},doKeyArrowRightOrDown:function(a,e){return this.nudge(!0,e)},nudge:function(a,e){a=this.callSuper(a,e);this.setExpansionState(2);
this.setRestoreValue(this.value);return a},doPrimaryAction:function(){const {restoreValue:a,maxValue:e,minValue:b}=this;let g;switch(this.expansionState){case 0:null!=a&&(this.setExpansionState(1),a===b?a!==e&&this.doPrimaryAction():g=a);break;case 1:null!=e&&(this.setExpansionState(3),this.value===e?this.doPrimaryAction():g=e);break;case 2:null!=b&&(this.setExpansionState(0),this.value===b?this.doPrimaryAction():g=b);break;case 3:null!=a&&(this.setExpansionState(2),a===e?this.doPrimaryAction():g=
a)}this.animateToValue(g)},animateToValue:function(a,e=250){null!=a&&(this.stopActiveAnimators("value"),this.animate({attribute:"value",to:a,duration:e}))},requestDragPosition:function(a,e){this.disabled||(a="y"===this.axis?e:a,e=this.value,a!==e&&(this.setValue(a),this.setRestoreValue(a),this.setExpansionState(e>a?2:1)))}});q.HorizontalDivider=new v("HorizontalDivider",k,{initNode:function(a,e){e.axis="x";this.callSuper(a,e)}});q.VerticalDivider=new v("VerticalDivider",k,{initNode:function(a,e){e.axis=
"y";this.callSuper(a,e)}})})(myt);
(q=>{let v=0;const {Class:u,Module:r}=JS,{min:h,max:f}=Math,{View:d,SpacedLayout:l,Node:{DEFAULT_PLACEMENT:k}}=q,a=m=>{const x=m.columnHeaders,[C,K]=m.sort??["",""];let y=x.length;for(;y;){const A=x[--y];A.columnId===C?A.sortable&&A.setSortState(K):A.setSortState("none")}m.locked||m.doSort()},e=(m,x,C,K)=>{if(0!==x){const G=0<x,M=[];for(var y=m.length;y;){var A=m[--y];A.resizable&&(C?0<A.flex:0===A.flex)&&M.push({hdr:A,limit:(G?A.maxValue:A.minValue)-A.value,amt:0})}m=M.length;if(0<m){for(y=0;0!==
x;){v>=m&&(y=v=0);A=M[v];var E=A.hdr;A.full?++y:(G?(E=h(C?E.flex:1,x),A.amt+E>A.limit&&(E=A.limit-A.amt,A.full=!0)):(E=f(C?-E.flex:-1,x),A.amt+E<A.limit&&(E=A.limit-A.amt,A.full=!0)),A.amt+=E,x-=E);if(y===m)break;++v}for(const N of M)N.hdr.setValue(N.hdr.value+N.amt);K?.(x)}}},b=m=>(m=m.gridController?.getPrevHdr(m))?m.maxValue-m.value+b(m):0,g=m=>(m=m.gridController?.getNextHdr(m))?m.maxValue-m.value+g(m):0,c=m=>(m=m.gridController?.getPrevHdr(m))?m.minValue-m.value+c(m):0,p=m=>(m=m.gridController?.getNextHdr(m))?
m.minValue-m.value+p(m):0,w=(m,x)=>{m=m.gridController?.getPrevHdr(m);var C=0;if(m){C=m.value+x;m.resizable&&m.setValue(C);const K=C-m.value;C=x-K;0>K&&(C+=w(m,K))}return C},t=(m,x)=>{m=m.gridController?.getPrevHdr(m);var C=0;if(m){C=m.value+x;m.resizable&&m.setValue(C);const K=C-m.value;C=x-K;0<K&&(C+=t(m,K))}return C},n=(m,x)=>{if(m=m.gridController?.getNextHdr(m))x=m.value+x,m.resizable&&m.setValue(x),x-=m.value,0>x&&n(m,x)},B=(m,x)=>{if(m=m.gridController?.getNextHdr(m))x=m.value+x,m.resizable&&
m.setValue(x),x-=m.value,0<x&&B(m,x)},L=m=>{let x="";if(m.sortable)switch(m.sortState){case Q.SORT_ORDER_ASC:x="chevron-up";break;case Q.SORT_ORDER_DESC:x="chevron-down"}m.sortIcon.setIcon(x)},z=m=>{const x=m.textView;x?.setWidth(m.width-m.outset-x.x)},D=q.GridController=new r("GridController",{initNode:function(m,x){this.columnHeaders=[];this.rows=[];this.maxWidth=this.minWidth=this.gridWidth=0;this.fitToWidth=this.locked=!0;this.callSuper(m,x);this.fitHeadersToWidth();a(this)},setMaxWidth:function(m){this.set("maxWidth",
m,!0)},setMinWidth:function(m){this.set("minWidth",m,!0)},setFitToWidth:function(m){this.fitToWidth=m},setSort:function(m){q.areArraysEqual(m,this.sort)||(this.sort=m,this.inited&&(this.fireEvent("sort",m),a(this)))},setLastColumn:function(m){const x=this.lastColumn;x!==m&&(x?.setLast(!1),this.lastColumn=m,m?.setLast(!0))},setLocked:function(m){this.locked=m;if(this.inited&&!m){this.__tempLock=!0;this.fitHeadersToWidth();this.__tempLock=!1;this.setMaxWidth(0);this.setMinWidth(0);this.__skipInvisibleHeaders=
!0;for(const x of this.columnHeaders)this.notifyHdrXChange(x),this.notifyHdrWidthChange(x),this.notifyHdrVisibilityChange(x);this.__skipInvisibleHeaders=!1;this.doSort()}},isLocked:function(){return this.locked||this.__tempLock},setGridWidth:function(m){m=this.valueFromEvent(m);this.gridWidth!==m&&(this.gridWidth=m,this.inited&&this.fitHeadersToWidth())},setHdrChangeListener:function(m){this.hdrChangeListener=m},doSort:()=>{},getPrevHdr:function(m){const x=this.columnHeaders;m=this.getHdrIndex(m);
if(0<m)for(;m;){const C=x[--m];if(C.visible)return C}},getNextHdr:function(m){const x=this.columnHeaders,C=x.length;m=this.getHdrIndex(m)+1;if(0<m&&m<C)for(;C>m;){const K=x[m++];if(K.visible)return K}},hasHdr:function(m){return this.columnHeaders.includes(m)},getHdrIndex:function(m){return this.columnHeaders.indexOf(m)},getHdrById:function(m){for(const x of this.columnHeaders)if(x.columnId===m)return x},getVisibleHdrs:function(){return this.columnHeaders.filter(m=>m.visible)},notifyAddHdr:function(m){this.hasHdr(m)||
(this.columnHeaders.push(m),m.visible&&this.setLastColumn(m),this.fixupResizerCursors())},notifyRemoveHdr:function(m){const x=this.getHdrIndex(m);-1<x&&(this.columnHeaders.splice(x,1),m.visible&&m.last&&this.setLastColumn(this.getPrevHdr(m)),this.fixupResizerCursors())},notifyHdrXChange:function(m){if(!this.isLocked()){for(const x of this.rows)x.notifyHdrXChange(m);this._notifyHdrChange("X",m)}},notifyHdrWidthChange:function(m){if(!this.isLocked()){for(const x of this.rows)x.notifyHdrWidthChange(m);
this._notifyHdrChange("Width",m)}},notifyHdrVisibilityChange:function(m){if((!this.__skipInvisibleHeaders||m.visible)&&!this.isLocked()){this.updateRowsForVisibilityChange(m);var x=this.setLastColumn;a:{var C=this.columnHeaders;let K=C.length;for(;K;){const y=C[--K];if(y.visible){C=y;break a}}C=void 0}x.call(this,C);x=m.visible?1:-1;this.setMaxWidth(this.maxWidth+m.maxValue*x);this.setMinWidth(this.minWidth+m.minValue*x);this.fitHeadersToWidth();this.fixupResizerCursors();this._notifyHdrChange("Visibility",
m)}},_notifyHdrChange:function(m,x){const C=this.hdrChangeListener;if(C)C["notifyHdr"+m+"Change"](x)},updateRowsForVisibilityChange:function(m){for(const x of this.rows)x.notifyHdrVisibilityChange(m)},hasRow:function(m){return this.rows.includes(m)},getRowIndex:function(m){return this.rows.indexOf(m)},getRowById:function(m,x=C=>C.model.id===m){return this.rows.find(x)},getPrevRow:function(m){m=this.getRowIndex(m)-1;return this.rows[0>m?this.rows.length-1:m]},getNextRow:function(m){m=this.getRowIndex(m)+
1;return this.rows[m<this.rows.length?m:0]},notifyAddRow:function(m,x){if(!this.hasRow(m)&&(this.rows.push(m),!this.locked)){const C=this.width;for(const K of this.columnHeaders)m.setWidth(C),m.notifyHdrXChange(K),m.notifyHdrWidthChange(K),m.notifyHdrVisibilityChange(K);x||this.doSort()}},notifyRemoveRow:function(m){m=this.getRowIndex(m);-1<m&&this.rows.splice(m,1)},fitHeadersToWidth:function(){if(!this.locked&&this.fitToWidth){const m=this.getVisibleHdrs();let x=0;for(const C of m)x=f(x,C.x+C.width);
e(m,this.gridWidth-x,!0,C=>{e(m,C,!1,null)})}},fixupResizerCursors:function(){const m=this.getVisibleHdrs();let x=!0,C=0;m.forEach((E,G)=>{x&&E.isFixed()?E.setResizerCursor("",!0):(x&&(C=G),x=!1,E.restoreResizerCursor())});let K=!0,y=m.length,A=y-1;for(;y>C;){const E=m[--y];K?E.setResizerCursor("",!0):E.restoreResizerCursor();E.isFixed()||(K&&(A=y),K=!1)}C===A&&m[C].setResizerCursor("",!0)}}),J=q.GridColHdr=new r("GridColHdr",{include:[q.BoundedValueComponent],initNode:function(m,x){const C=this,
K=x.resizerCursor??"col-resize";delete x.resizerCursor;x.minValue??(x.minValue=16);x.maxValue??(x.maxValue=1E3);x.value??(x.value=x.minValue);x.resizable??(x.resizable=!0);x.flex??(x.flex=0);x.cellXAdj??(x.cellXAdj=0);x.cellWidthAdj??(x.cellWidthAdj=0);x.sortable??(x.sortable=!0);x.sortState??(x.sortState="none");x.placement??(x.placement=k);C.callSuper(m,x);const y=C.gridController;C.resizer=new d(C,{cursor:K,width:10,zIndex:1,percentOfParentHeight:100,align:"right",alignOffset:-5,draggableAllowBubble:!1},
[q.SizeToParent,q.Draggable,{requestDragPosition:function(A,E){E=A-this.x;if(y.fitToWidth&&(0<E?E=h(E,-p(C),C.maxValue-C.value+b(C)):0>E&&(E=f(E,-g(C),C.minValue-C.value+c(C))),0===E))return;A=C.value+E;C.resizable&&C.setValue(A);A-=C.value;E=A-E;let G=0;0>A?G=w(C,A):0<A&&(G=t(C,A));this.dragInitX+=G;E-=G;y.fitToWidth&&(0>E?n(C,E):0<E&&B(C,E))}}]);y&&(y.notifyAddHdr(C),y.notifyHdrXChange(C),y.notifyHdrVisibilityChange(C));C.setWidth(C.value);C.resizer.setVisible(!(C.last&&C.gridController.fitToWidth))},
destroy:function(m){this.setGridController();this.callSuper(m)},setSortable:function(m){this.set("sortable",m,!0)},setSortState:function(m){this.set("sortState",m,!0)},setResizable:function(m){this.set("resizable",m,!0)},setCellWidthAdj:function(m){this.cellWidthAdj=m},setCellXAdj:function(m){this.cellXAdj=m},setFlex:function(m){this.flex=m},setColumnId:function(m){this.columnId=m},setResizerCursor:function(m,x){const C=this.resizer,K=C.cursor;m!==K&&(x&&(this.__rrc=K),C.setCursor(m))},restoreResizerCursor:function(){const m=
this.__rrc;m&&(this.setResizerCursor(m),this.__rrc=null)},isFixed:function(){return this.minValue===this.maxValue},setLast:function(m){this.last=m;this.inited&&this.resizer.setVisible(!(this.last&&this.gridController.fitToWidth))},setGridController:function(m){const x=this.gridController;x!==m&&(x?.notifyRemoveHdr(this),this.gridController=m,this.inited&&m&&(m.notifyAddHdr(this),m.notifyHdrXChange(this),m.notifyHdrWidthChange(this),m.notifyHdrVisibilityChange(this)))},setValue:function(m){this.callSuper(m);
this.inited&&this.setWidth(this.value)},setMinValue:function(m){const x=this.minValue??0,C=this.gridController;this.callSuper(m);this.inited&&x!==this.minValue&&C?.setMinWidth(C.minWidth+this.minValue-x)},setMaxValue:function(m){const x=this.maxValue??0,C=this.gridController;m??=1E3;this.callSuper(m);this.inited&&x!==this.maxValue&&C?.setMaxWidth(C.maxWidth+this.maxValue-x)},setWidth:function(m){const x=this.width;this.callSuper(m);this.inited&&x!==this.width&&this.gridController?.notifyHdrWidthChange(this)},
setX:function(m){const x=this.x;this.callSuper(m);this.inited&&x!==this.x&&this.gridController?.notifyHdrXChange(this)},setVisible:function(m){const x=this.visible;this.callSuper(m);this.inited&&x!==this.visible&&this.gridController?.notifyHdrVisibilityChange(this)}}),O=q.GridRow=new r("GridRow",{initNode:function(m,x){x.placement??(x.placement=k);this.callSuper(m,x);this.gridController?.notifyAddRow(this)},destroy:function(m){this.setGridController();this.callSuper(m)},setGridController:function(m){const x=
this.gridController;x!==m&&(x?.notifyRemoveRow(this),this.gridController=m,this.inited&&m?.notifyAddRow(this))},notifyHdrXChange:function(m){this.getRef(m.columnId)?.setX(m.x+m.cellXAdj)},notifyHdrWidthChange:function(m){this.getRef(m.columnId)?.setWidth(m.width+m.cellWidthAdj)},notifyHdrVisibilityChange:function(m){this.getRef(m.columnId)?.setVisible(m.visible)}}),Q=q.Grid=new u("Grid",d,{include:[D],extend:{SORT_ORDER_ASC:"ascending",SORT_ORDER_DESC:"descending"},initNode:function(m,x){x.overflow??
(x.overflow="autox");x.bgColor??(x.bgColor="#ccc");x.rowSpacing??(x.rowSpacing=1);x.columnSpacing??(x.columnSpacing=1);var C=x.isAutoScrolling;delete x.isAutoScrolling;this.callSuper(m,x);m=this.header=new d(this,{overflow:"hidden"});m.xLayout=new l(m,{locked:!0,collapseParent:!0,spacing:this.columnSpacing});m.yLayout=new q.SizeToChildren(m,{locked:!0,axis:"y"});x=this.sizeHeightToRows;C=this.content=new d(this,{overflow:x?"hidden":"autoy"},C?[q.AutoScroller]:[]);C.yLayout=new l(C,{locked:!0,axis:"y",
spacing:this.rowSpacing,collapseParent:x});this.syncTo(this,"setGridWidth","width");this.syncTo(m,"_updateContentWidth","width");this.constrain("_updateContentHeight",[x?C:this,"height",m,"height",m,"y"])},setSizeHeightToRows:function(m){this.sizeHeightToRows=m},setRowSpacing:function(m){this.rowSpacing!==m&&(this.rowSpacing=m,this.inited&&this.content.yLayout.setSpacing(m))},setColumnSpacing:function(m){this.columnSpacing!==m&&(this.columnSpacing=m,this.inited&&this.header.xLayout.setSpacing(m))},
setLocked:function(m){if(this.inited)for(const x of[this.header.xLayout,this.header.yLayout,this.content.yLayout])m?x.incrementLockedCounter():(x.decrementLockedCounter(),x.update());this.callSuper(m)},_updateContentWidth:function(m){const x=this.content;m=m.value;x.setWidth(m);for(const C of x.getSubviews())C.setWidth(m)},_updateContentHeight:function(m){const {header:x,content:C}=this;m=x.y+x.height;C.setY(m);this.sizeHeightToRows?this.setHeight(m+C.height):C.setHeight(this.height-m)},determinePlacement:function(m,
x){if(m===k){let C;x.isA(O)?C=this.content:x.isA(J)&&(C=this.header);if(C)return x.gridController!==this&&x.setGridController(this),C}return this.callSuper(m,x)},doSort:function(){const [m,x]=this.sort??["",""],C=this.getSortFunction(m,x);if(C){const K=this.content,y=K.yLayout;this.rows.sort(C);K.sortSubviews(C);y.sortSubviews(C);y.update()}},getSortFunction:(m,x)=>{if(m){const C=x===Q.SORT_ORDER_ASC?1:-1;return(K,y)=>{K=K.getRef(m).text;y=y.getRef(m).text;return K>y?C:y>K?-C:0}}}});q.SimpleGridColHdr=
new u("SimpleGridColHdr",q.SimpleTextButton,{include:[J],initNode:function(m,x){x.activeColor??(x.activeColor="#999");x.hoverColor??(x.hoverColor="#bbb");x.readyColor??(x.readyColor="#aaa");x.inset??(x.inset=2);x.sortIconColor??(x.sortIconColor="#666");const C=x.textAlign;delete x.textAlign;x.outset??(x.outset="right"===C||(x.sortable??!0)?14:2);this.callSuper(m,x);this.sortIcon=new q.FontAwesome(this,{align:"right",alignOffset:3,valign:"middle",textColor:this.sortIconColor},[{initNode:function(K,
y){this.callSuper(K,y);this.getIDS().fontSize="0.7em"}}]);this.textView.enableEllipsis();C&&this.textView.setTextAlign(C);this.setDisabled(!this.sortable);z(this);L(this)},setSortIconColor:function(m){this.sortIconColor=m;this.sortIcon?.setTextColor(m)},setSortable:function(m){this.callSuper(m);this.inited&&(m&&this.setOutset(14),this.setDisabled(!m),L(this))},setSortState:function(m){this.callSuper(m);this.inited&&L(this)},setWidth:function(m){this.callSuper(m);this.inited&&z(this)},doActivated:function(){this.disabled||
(this.setSortState(this.sortState===Q.SORT_ORDER_ASC?Q.SORT_ORDER_DESC:Q.SORT_ORDER_ASC),this.gridController.setSort([this.columnId,this.sortState]))},drawDisabledState:function(){this.draw(this.readyColor,1)}})})(myt);
(q=>{const {Class:v,Module:u}=JS,r=Math,h=r.max,{View:f,LocalStorage:{setDatum:d,getDatum:l},global:{focus:k,keys:a},getAlphaObjSortFunc:e}=q,b=z=>{const D=z.selectedRow;D&&(D.setSelected(!1),z.set("selectedRow",null,!0))},g=z=>z.__ssk??(z.__ssk="InfiniteGridMixin.sort."+q.hash(z.columnHeaders.map(D=>D.columnId).sort().join(","))),c=q.InfiniteListRow=new u("InfiniteListRow",{include:[q.Reusable],setInfiniteOwner:function(z){this.infiniteOwner=z},setModel:function(z){this.model=z},setClassKey:function(z){this.classKey=
z},notifyRefreshed:()=>{}}),p=q.SelectableInfiniteListRow=new u("SelectableInfiniteListRow",{include:[c,q.Selectable]}),w=q.InfiniteList=new v("InfiniteList",f,{initNode:function(z,D){let J=D.rowClasses;delete D.rowClasses;if("function"===typeof J){const O={};O["default"]=J;J=O}D.modelIDName??(D.modelIDName="id");D.numericSort??(D.numericSort=!0);D.ascendingSort??(D.ascendingSort=!0);D.overflow??(D.overflow="autoy");D.bgColor??(D.bgColor="#ccc");D.rowSpacing??(D.rowSpacing=1);D.rowInset??(D.rowInset=
0);D.rowOutset??(D.rowOutset=0);D.rowHeight??(D.rowHeight=30);D.overscrollBehavior??(D.overscrollBehavior="auto contain");this._rowExtent=this.rowSpacing=this.rowHeight=0;this._startIdx=this._endIdx=-1;this._visibleRowsByIdx={};this.callSuper(z,D);z=this._listView=new f(this);this._scrollAnchorView=new f(z,{width:1,height:1,bgColor:"transparent"});this._itemPool=this.makePool(J,z);this.attachTo(this,"refreshListUI","height");this.attachToDom(this,"refreshListUI","scroll")},makePool:(z,D)=>new q.TrackActivesMultiPool(z,
D),setOverscrollBehavior:function(z){this.overscrollBehavior=z;this.getIDS().overscrollBehavior=z},setCollectionModel:function(z){this.collectionModel=z},setModelIDName:function(z){this.modelIDName=z},setRowSpacing:function(z){this.rowSpacing=z;this._rowExtent=this.rowSpacing+this.rowHeight},setRowHeight:function(z){this.rowHeight=z;this._rowExtent=this.rowSpacing+this.rowHeight},getListData:function(){return this._listData},setWidth:function(z){if(0<z&&(this.callSuper(z),this.inited)){z=this._listView;
const D=this.width;z.setWidth(D);for(const J of z.getSubviews())J.setWidth(D)}},getVisibleRows:function(){return Object.values(this._visibleRowsByIdx??{})},getVisibleRowForModel:function(z){const D=this.getVisibleRows();let J=D.length;for(;J;){const O=D[--J];if(O.model===z)return O}},getListViewHeight:function(){return this._listView.height},isScrolledToEnd:function(){return this.getIDE().scrollTop+this.height===this._listView.height},getSortFunction:function(){const z=this.modelIDName,D=this.ascendingSort;
return this.numericSort?q.getNumericObjSortFunc(z,D):e(z,D,!1)},getFilterFunction:()=>{},scrollModelIntoView:function(z,D){var J=this.getIndexOfModelInData(z);let O=!1;if(0<=J){var Q=this._rowExtent;const m=this.getIDE().scrollTop,x=m+this.height;J=this.rowInset+J*Q;Q=J+Q;J<=m?(this.scrollYTo(J,!0),O=!0):Q>=x&&(this.scrollYTo(Q-this.height,!0),O=!0);D&&((D=this.getVisibleRowForModel(z))?D.focus():this._focusToModel=z)}return O},isModelInData:function(z){return 0<=this.getIndexOfModelInData(z)},getNextModel:function(z,
D=!0,J=!0){const O=this.getListData(),Q=O.length;z=this.getIndexOfModelInData(z);if(0<=z)return z+=1,z>=Q?D?O[0]:O[Q-1]:O[z];if(J&&0<Q)return O[Q-1]},getPrevModel:function(z,D=!0,J=!0){const O=this.getListData(),Q=O.length;z=this.getIndexOfModelInData(z);if(0<=z)return--z,0>z?D?O[Q-1]:O[0]:O[z];if(J&&0<Q)return O[0]},getIndexOfModelInData:function(z){if(z){const D=this.getListData();let J=D.length;for(;J;)if(this.areModelsEqual(D[--J],z))return J}return-1},areModelsEqual:function(z,D){const J=this.modelIDName;
return z[J]===D[J]},getActiveRowForModel:function(z){if(z){const D=this._itemPool.getActives();let J=D.length;for(;J;){const O=D[--J];if(this.areModelsEqual(O.model,z))return O}}},refreshListData:function(z,D){this._listData=this.collectionModel.getAsSortedList(this.getSortFunction(),this.getFilterFunction());this.resetListUI(z,D)},resetListUI:function(z,D){const J=this.getListData().length,O=this._listView,Q=this._scrollAnchorView;O.setHeight(J*this._rowExtent-(0<J?this.rowSpacing:0)+this.rowInset+
this.rowOutset);Q.setY(O.height-Q.height);this._startIdx=this._endIdx=-1;this.forceFullResetOnNextRefresh=D;z||0===this.getIDE().scrollTop?this.refreshListUI():this.scrollYTo(0,!0)},putRowBackInPool:function(z){if(k.focusedView?.isDescendantOf(z)){const D=this.getFocusTrap();D?D.focus():k.clear()}z.setVisible(!1);this._itemPool.putInstance(z)},refreshListUI:function(z){z=this._rowExtent;const D=this.rowInset,J=this.forceFullResetOnNextRefresh;var O=this.getIDE().scrollTop;const Q=this.getListData()??
[];var m=h(0,r.floor((O-D)/z));O=r.min(Q.length,r.ceil((O-D+this.height)/z));this.forceFullResetOnNextRefresh&&(this.forceFullResetOnNextRefresh=!1);if(this._startIdx!==m||this._endIdx!==O||J){const C=this.width,K=this.rowHeight,y=this._visibleRowsByIdx,A=this._focusToModel;this._startIdx=m;this._endIdx=O;for(var x in y)if(x<m||x>=O)this.putRowBackInPool(y[x]),delete y[x];for(x=m;x<O;x++){m=y[x];const E=Q[x],G=this.getClassKey(E);let M=!1;m&&m.classKey===G||(m&&this.putRowBackInPool(m),y[x]=m=this._itemPool.getInstance(G),
m.setInfiniteOwner(this),m.setClassKey(G),m.setWidth(C),m.setHeight(K),m.setY(D+x*z),m.setVisible(!0),M=!0);!J&&m.model&&this.areModelsEqual(m.model,E)?M&&this.updateRow(m):(m.setModel(E),this.updateRow(m));m.notifyRefreshed();m.bringToFront();A&&this.areModelsEqual(A,E)&&(m.focus(),this._focusToModel=null)}}},getClassKey:z=>"default",updateRow:z=>{}}),t=q.SimpleSelectableInfiniteListRow=new v("SimpleSelectableInfiniteListRow",q.SimpleButton,{include:[p,q.ArrowKeyActivation],initNode:function(z,D){D.selectedColor??
(D.selectedColor="#ccf");D.activeColor??(D.activeColor="#f8f8f8");D.hoverColor??(D.hoverColor="#eee");D.readyColor??(D.readyColor="#fff");D.focusIndicator??(D.focusIndicator=!1);D.activationKeys??(D.activationKeys=a.LIST_KEYS);this.callSuper(z,D)},destroy:function(){this.selected&&this.infiniteOwner.setSelectedRow();this.callSuper()},setSelected:function(z){this.callSuper(z);this.inited&&this.updateUI()},clean:function(){this.setMouseOver(!1);this.setMouseDown(!1);this.focused&&this.blur();this.callSuper()},
updateUI:function(){this.callSuper();this.selected&&this.setBgColor(this.selectedColor)},doActivated:function(){this.callSuper();this.infiniteOwner.setSelectedRow(this)},doActivationKeyDown:function(z,D){z===a.CODE_ESC?this.selected&&this.infiniteOwner.setSelectedRow():this.callSuper(z,D)},doKeyArrowLeftOrUp:function(z,D){this.infiniteOwner.selectPrevRowForModel(this.model);return!0},doKeyArrowRightOrDown:function(z,D){this.infiniteOwner.selectNextRowForModel(this.model);return!0},doActivationKeyUp:function(z){switch(z){case a.CODE_ENTER:case a.CODE_SPACE:this.doActivated()}}}),
n=q.SelectableInfiniteList=new v("SelectableInfiniteList",w,{setSelectedRow:function(z){const D=this.selectedRow;z!==D&&(D?.setSelected(!1),this.setSelectedRowModel(),this.set("selectedRow",z,!0),z&&(this.setSelectedRowModel(z.model),z.setSelected(!0)))},setSelectedRowModel:function(z){this.set("selectedRowModel",z,!0);this.scrollModelIntoView(this.selectedRowModel,!1)},getActiveSelectedRow:function(){return this.getActiveRowForModel(this.selectedRowModel)},selectRowForModel:function(z,D,J){z&&(b(this),
this.setSelectedRowModel(z),this.refreshListUI(),D&&this.getActiveSelectedRow()?.focus())},selectNextRowForModel:function(z,D=!0){this.selectRowForModel(this.getNextModel(z),D,!0)},selectPrevRowForModel:function(z,D=!0){this.selectRowForModel(this.getPrevModel(z),D,!1)},resetListUI:function(z,D){this.isModelInData(this.selectedRowModel)?b(this):this.setSelectedRow();this.callSuper(z,D)},putRowBackInPool:function(z){z.selected&&b(this);this.callSuper(z)},refreshListUI:function(z){z=k.focusedView;this.callSuper();
const D=this.getActiveSelectedRow();D&&(this.set("selectedRow",D,!0),D.setSelected(!0),z&&z!==D||D.focus(!0))}}),B=new u("InfiniteGridRowMixin",{notifyXChange:function(z){this.getRef(z.columnId)?.setX(z.x+z.cellXAdj)},notifyWidthChange:function(z){this.getRef(z.columnId)?.setWidth(z.width+z.cellWidthAdj)},notifyVisibilityChange:function(z){this.getRef(z.columnId)?.setVisible(z.visible)}}),L=new u("InfiniteGridMixin",{setGridHeader:function(z){(this.gridHeader=z)?.setGrid(this)},makeReady:function(z,
D){const J=this.gridHeader;J?(this.forceFullResetOnNextRefresh=D,D=J.persistSortOrder?l(g(J)):void 0,J.setSort(D??z),J.setLocked(!1)):this.refreshListData(!1,D)},getSortFunction:function(){const [z,D]=this.gridHeader.sort??["",""];return z?e(z,D===q.Grid.SORT_ORDER_ASC,!1):this.callSuper()},updateRow:function(z){const D=this.gridHeader;if(D)for(const J of D.columnHeaders)z.notifyXChange(J),z.notifyWidthChange(J),z.notifyVisibilityChange(J)},notifyXChange:function(z){for(const D of this.getVisibleRows())D.notifyXChange(z)},
notifyWidthChange:function(z){for(const D of this.getVisibleRows())D.notifyWidthChange(z)},notifyVisibilityChange:function(z){for(const D of this.getVisibleRows())D.notifyVisibilityChange(z)}});q.InfiniteGridRow=new u("InfiniteGridRow",{include:[c,B]});q.SelectableInfiniteGridRow=new u("SelectableInfiniteGridRow",{include:[p,B]});q.SimpleSelectableInfiniteGridRow=new v("SimpleSelectableInfiniteGridRow",t,{include:[B]});q.InfiniteGrid=new v("InfiniteGrid",w,{include:[L]});q.SelectableInfiniteGrid=
new v("InfiniteGrid",n,{include:[L]});q.InfiniteGridHeader=new v("InfiniteGridHeader",f,{include:[q.GridController],initNode:function(z,D){D.columnSpacing??(D.columnSpacing=1);D.persistSortOrder??(D.persistSortOrder=!0);D.overflow="hidden";this.callSuper(z,D);new q.SpacedLayout(this,{spacing:this.columnSpacing})},setGrid:function(z){this.grid=z},setColumnSpacing:function(z){this.columnSpacing=z},getColumnSpacingInUse:function(){return 0===this.columnSpacing?0:h(0,this.getVisibleHdrs().length-1)*this.columnSpacing},
setPersistSortOrder:function(z){this.persistSortOrder=z},setHeight:function(z){this.callSuper(z);if(this.inited){z=this.height;for(const D of this.columnHeaders)D.setHeight(z)}},setWidth:function(z){this.callSuper(h(this.minWidth,z));this.inited&&(z=this.width,this.setGridWidth(z),this.grid.setWidth(z))},subviewAdded:function(z){this.callSuper(z);z.isA(q.GridColHdr)&&(z.setGridController(this),z.setHeight(this.height))},doSort:function(){this.persistSort();this.grid.refreshListData(!0,this.grid.forceFullResetOnNextRefresh)},
persistSort:function(){this.persistSortOrder&&d(g(this),this.sort)},notifyHdrXChange:function(z){this.isLocked()||(this.grid.notifyXChange(z),this._notifyHdrChange("X",z))},notifyHdrWidthChange:function(z){this.isLocked()||(this.grid.notifyWidthChange(z),this._notifyHdrChange("Width",z))},updateRowsForVisibilityChange:function(z){this.grid.notifyVisibilityChange(z);this.isLocked()||this._notifyHdrChange("Visibility",z)}})})(myt);
(q=>{const v=JS.Class,u=q.PanelStackTransition=new v("PanelStackTransition",q.Node,{to:r=>Promise.resolve(r),from:r=>Promise.resolve(r)});q.PanelStack=new v("PanelStack",q.View,{include:[q.SelectionManager],initNode:function(r,h){h.overflow="hidden";h.itemSelectionId??(h.itemSelectionId="panelId");h.maxSelected??(h.maxSelected=1);this.callSuper(r,h);this.syncTo(this,"__updateHeight","height");this.syncTo(this,"__updateWidth","width")},setTransition:function(r){this.set("transition",r,!0)},__updateWidth:function(r){this.getActivePanel()?.setWidth(r.value)},
__updateHeight:function(r){this.getActivePanel()?.setHeight(r.value)},getActivePanel:function(){return this.getSelected()[0]},getPanel:function(r){return this.getSelectableItem(r)},selectPanel:function(r){this.selectById(r)},doSelected:function(r){r.setWidth(this.width);r.setHeight(this.height)},doStackTransition:function(r){this["doStackTransition"+(r.selected?"To":"From")](r)},doStackTransitionTo:function(r){const h=this;h.doBeforeTransitionTo(r);const f=h.transition;f?f.to(r).then(d=>{h.doAfterTransitionTo(d)}):
(r.makeHighestZIndex(),r.setVisible(!0),h.doAfterTransitionTo(r))},doBeforeTransitionTo:r=>{},doAfterTransitionTo:r=>{},doStackTransitionFrom:function(r){const h=this;h.doBeforeTransitionFrom(r);const f=h.transition;f?f.from(r).then(d=>{h.doAfterTransitionFrom(d)}):(r.setVisible(!1),h.doAfterTransitionFrom(r))},doBeforeTransitionFrom:r=>{},doAfterTransitionFrom:r=>{}});q.StackablePanel=new JS.Module("StackablePanel",{include:[q.Selectable],initNode:function(r,h){h.visible=h.selected=!1;h.bgColor??
(h.bgColor="#fff");h.panelId??(h.panelId=h.name);this.callSuper(r,h);this.selected&&this.doStackTransition()},setPanelStack:function(r){this.panelStack=r},getPanelStack:function(){return this.panelStack??this.parent},setPanelId:function(r){this.panelId=r},setSelected:function(r){this.selected!==r&&(this.callSuper(r),this.inited&&this.doStackTransition())},doStackTransition:function(){this.getPanelStack().doStackTransition(this)}});q.PanelStackFadeTransition=new v("PanelStackFadeTransition",u,{initNode:function(r,
h){h.duration??(h.duration=1E3);this.callSuper(r,h)},setDuration:function(r){this.duration=r},to:function(r){return new Promise((h,f)=>{r.stopActiveAnimators("opacity");r.setVisible(!0);r.animate({attribute:"opacity",to:1,duration:this.duration}).next(d=>{r.makeHighestZIndex();h(r)})})},from:function(r){return new Promise((h,f)=>{r.stopActiveAnimators("opacity");r.animate({attribute:"opacity",to:0,duration:this.duration}).next(d=>{r.setVisible(!1);h(r)})})}});q.PanelStackSlideTransition=new v("PanelStackSlideTransition",
u,{initNode:function(r,h){h.duration??(h.duration=1E3);h.direction??(h.direction="right");this.callSuper(r,h)},setDuration:function(r){this.duration=r},setDirection:function(r){this.direction=r},to:function(r){const h=r.getPanelStack(),f=this.duration;let d,l;switch(this.direction){case "left":l="x";d=h.width;break;case "right":l="x";d=-h.width;break;case "up":l="y";d=h.height;break;case "down":l="y",d=-h.height}r.stopActiveAnimators(l);r.set(l,d);r.setVisible(!0);return new Promise((k,a)=>{a=e=>
{r.makeHighestZIndex();k(r)};0<f?r.animate({attribute:l,to:0,duration:f}).next(a):(r.set(l,0),r.makeHighestZIndex(),k(r))})},from:function(r){const h=r.getPanelStack(),f=this.duration;let d,l;switch(this.direction){case "left":l="x";d=-h.width;break;case "right":l="x";d=h.width;break;case "up":l="y";d=-h.height;break;case "down":l="y",d=h.height}r.stopActiveAnimators(l);return new Promise((k,a)=>{a=e=>{r.setVisible(!1);k(r)};0<f?r.animate({attribute:l,to:d,duration:f}).next(a):(r.set(l,d),r.setVisible(!1),
k(r))})}})})(myt);
(q=>{const v=JS.Module,{Draggable:u,global:{dragManager:r,mouse:h}}=q,f=(l,k,a)=>{for(const e of[k,a])l["__is"+e]=!1,l["__tmrId"+e]=null},d=q.DragGroupSupport=new v("DragGroupSupport",{initNode:function(l,k){this.__dgs={"*":!0};this.__drpgs={"*":!0};this.__anyDG=this.__anyDRPG=!0;this.callSuper(l,k)},setDragGroups:function(l){const k=this.__dgs={};for(const a in l)k[a]=!0;this.__anyDG=k.hasOwnProperty("*")},getDragGroups:function(){return this.__dgs},setDropGroups:function(l){const k=this.__drpgs=
{};for(const a in l)k[a]=!0;this.__anyDRPG=k.hasOwnProperty("*")},getDropGroups:function(){return this.__drpgs},addDragGroup:function(l){l&&(this.__dgs[l]=!0,"*"===l&&(this.__anyDG=!0))},removeDragGroup:function(l){l&&(delete this.__dgs[l],"*"===l&&(this.__anyDG=!1))},isAnyDragGroup:function(){return this.__anyDG},addDropGroup:function(l){l&&(this.__drpgs[l]=!0,"*"===l&&(this.__anyDRPG=!0))},removeDropGroup:function(l){l&&(delete this.__drpgs[l],"*"===l&&(this.__anyDRPG=!1))},isAnyDropGroup:function(){return this.__anyDRPG}});
q.DropSource=new v("DropSource",{include:[u],initNode:function(l,k){k.distanceBeforeDrag??(k.distanceBeforeDrag=2);k.dropParent??(k.dropParent=l.getRoot());this.callSuper(l,k)},setDropClass:function(l){this.dropClass=q.resolveClassname(l)},setDropClassAttrs:function(l){this.dropClassAttrs=l},setDropParent:function(l){this.dropParent=l},startDrag:function(l){const k=this.dropable=this.makeDropable();if(k){const a=k.distanceBeforeDrag;k.distanceBeforeDrag=0;k.doMouseDown(l);k.__doMouseDown(l);k.distanceBeforeDrag=
a}},doMouseUp:function(l){this.callSuper(l);const k=this.dropable;k&&(k.__doMouseUp(l),k.doMouseUp(l),this.dropable=null)},makeDropable:function(){const l=this.dropClass,k=this.dropParent;if(l&&k){const a=q.DomElementProxy.getRelativePosition(this.getIDE(),k.getIDE());return new l(k,{...this.dropClassAttrs,x:a.x??0,y:a.y??0})}}});q.DropTarget=new v("DropTarget",{include:[d],initNode:function(l,k){this.callSuper(l,k);r.registerDropTarget(this)},destroy:function(){r.unregisterDropTarget(this);this.callSuper()},
willAcceptDrop:function(l){return!this.disabled&&this.isVisible()},notifyDragStart:l=>{},notifyDragStop:l=>{},notifyDragEnter:l=>{},notifyDragLeave:l=>{},notifyDrop:l=>{}});q.Dropable=new v("Dropable",{include:[u,d],setDropTarget:function(l){this.dropTarget=l},setDropped:function(l){this.dropped=l},setDropFailed:function(l){this.dropFailed=l},willPermitDrop:l=>!0,startDrag:function(l){this.setDropped(!1);this.setDropFailed(!1);r.startDrag(this);this.callSuper(l)},updateDrag:function(l){r.updateDrag(l,
this);this.callSuper(l)},stopDrag:function(l,k){r.stopDrag(l,this,k);this.callSuper(l,k);k?this.notifyDropAborted():this.dropFailed&&this.notifyDropFailed()},notifyDragEntering:function(l){this.setDropTarget(l)},notifyDragLeaving:function(l){this.setDropTarget()},notifyDropped:function(l,k){this.setDropped(!0);this.dropTarget||this.setDropFailed(!0)},notifyDropFailed:()=>{},notifyDropAborted:()=>{}});q.AutoScroller=new v("AutoScroller",{include:[d],initNode:function(l,k){this.scrollBorder=40;this.scrollFrequency=
50;this.scrollAmount=2;this.scrollAcceleration=7;k.overflow??(k.overflow="auto");this.callSuper(l,k);r.registerAutoScroller(this)},destroy:function(){r.unregisterAutoScroller(this);this.callSuper()},setScrollBorder:function(l){this.scrollBorder=Math.max(1,l)},setScrollFrequency:function(l){this.scrollFrequency=l},setScrollAmount:function(l){this.scrollAmount=l},setScrollAcceleration:function(l){this.scrollAcceleration=l},notifyAutoScrollerDragStart:function(l){l=this.getIDE();(l.scrollHeight>l.clientHeight||
l.scrollWidth>l.clientWidth)&&this.attachToDom(h,"__hndlMove","mousemove",!0)},notifyAutoScrollerDragStop:function(l){this.detachFromDom(h,"__hndlMove","mousemove",!0);f(this,"Up","Down");f(this,"Left","Right")},__hndlMove:function(l){const k=this;let {pageX:a,pageY:e}=l.value;if(k.containsPoint(a,e)){l=k.getPagePosition();const b=k.scrollBorder,g=(c,p)=>{k["__is"+c]&&(k.getIDE()["scroll"+("Up"===c||"Down"===c?"Top":"Left")]+=p*k["__amt"+c],k["__tmrId"+c]=setTimeout(()=>{g(c,p)},k.scrollFrequency))};
a-=l.x;e-=l.y;e<b?(k.__isUp=!0,k.__amtUp=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-e/b))),k.__tmrIdUp||g("Up",-1)):k.height-e<b?(k.__isDown=!0,k.__amtDown=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-(k.height-e)/b))),k.__tmrIdDown||g("Down",1)):f(k,"Up","Down");a<b?(k.__isLeft=!0,k.__amtLeft=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-a/b))),k.__tmrIdLeft||g("Left",-1)):k.width-a<b?(k.__isRight=!0,k.__amtRight=Math.round(k.scrollAmount*(1+k.scrollAcceleration*(1-(k.width-
a)/b))),k.__tmrIdRight||g("Right",1)):f(k,"Left","Right")}else f(k,"Up","Down"),f(k,"Left","Right")}})})(myt);
(q=>{const {max:v,cos:u,sin:r,PI:h}=Math,f=q.Geometry.degreesToRadians,d=b=>{var g=f(b.startAngle),c=f(b.endAngle);if(g>c){var p=g;g=c;c=p}p=b.__path;var w=b.width/2,t=b.thickness;const n=b.radius,B=n+t;var L=c-g;const z=L+1E-4>=2*h;z&&(g=0,c=h);const D=[w+B*u(g),w+B*r(g)],J=[w+B*u(c),w+B*r(c)];c=[w+n*u(c),w+n*r(c)];g=[w+n*u(g),w+n*r(g)];w=["M"+D.join()];z?w.push("A"+[B,B,0,1,1,J].join(),"A"+[B,B,0,1,1,D].join(),"L"+c.join(),"A"+[n,n,0,1,0,g].join(),"A"+[n,n,0,1,0,c].join()):(L=L%(2*h)>h?1:0,t/=2,
w.push("A"+[B,B,0,L,1,J].join(),b.endCapRounding?"A"+[t,t,0,0,1,c].join():"L"+c.join(),"A"+[n,n,0,L,0,g].join(),b.startCapRounding?"A"+[t,t,0,0,1,D].join():""));w.push("z");p.setAttribute("d",w.join(" "));p.setAttribute("fill",b.color)},l=b=>{const g=2*(b.radius+b.thickness),c=b.__svg;b.setWidth(g);b.setHeight(g);c.setAttribute("viewBox","0 0 "+g+" "+g);c.setAttribute("width",g);c.setAttribute("height",g);d(b)},k=(b,g,c)=>{b[g]!==c&&(b[g]=c,b.inited&&(d(b),b.fireEvent(g,c)))},a=(b,g,c)=>{b[g]!==c&&
(b[g]=c=v(0,c),b.inited&&(l(b),b.fireEvent(g,c)))},e=(b,g)=>{b=document.createElementNS("http://www.w3.org/2000/svg",b);g?.appendChild(b);return b};q.Annulus=new JS.Class("Annulus",q.BackView,{initNode:function(b,g){this.radius=this.thickness=this.startAngle=this.endAngle=0;this.startCapRounding=this.endCapRounding=!1;this.callSuper(b,g);l(this)},createOurDomElement:function(b){b=this.callSuper(b);var g=Array.isArray(b)?b[1]:b;g=this.__svg=e("svg",g);this.__path=e("path",g);g.style.pointerEvents=
"none";return b},setRadius:function(b){a(this,"radius",b)},setThickness:function(b){a(this,"thickness",b)},setStartAngle:function(b){k(this,"startAngle",b)},setEndAngle:function(b){k(this,"endAngle",b)},setStartCapRounding:function(b){k(this,"startCapRounding",b)},setEndCapRounding:function(b){k(this,"endCapRounding",b)},setColor:function(b){k(this,"color",b)},isColorAttr:function(b){return"color"===b||this.callSuper(b)}})})(myt);
(q=>{const v=JS.Class,u=q.RadialGuage=new v("RadialGuage",q.View,{include:[q.BoundedValueComponent],initNode:function(r,h){h.radius??(h.radius=32);h.thickness??(h.thickness=4);h.startAngle??(h.startAngle=270);h.color??(h.color="#666");const f=h.fontSize??h.radius;this.quickSet(["radius","thickness","startAngle","color"],h);const d=this.thickness,l=this.radius;h.width=h.height=2*l;h.minValue??(h.minValue=0);h.maxValue??(h.maxValue=100);h.value??(h.value=0);h.bgColor??(h.bgColor="#fff");h.roundedCorners=
l+d;h.borderWidth??(h.borderWidth=d);h.borderStyle??(h.borderStyle="solid");h.borderColor??(h.borderColor="#ccc");this.callSuper(r,h);this._progressView=new q.Annulus(this,{x:-d,y:-d,radius:l,thickness:d,startAngle:this.startAngle});this._valueView=new q.Text(this,{fontSize:f+"px",align:"center",valign:"middle"});this.redraw()},setMinValue:function(r){this.callSuper(r);this.inited&&this.redraw()},setMaxValue:function(r){this.callSuper(r);this.inited&&this.redraw()},setValue:function(r){this.callSuper(r);
this.inited&&this.redraw()},redraw:function(){const r=this._progressView,h=this._valueView,f=this.value,d=f/(this.maxValue-this.minValue),l=this.getColorByValue(f,d);r.setEndAngle(this.startAngle+360*d);r.setColor(l);h.setText(this.getTextByValue(f));h.setTextColor(l);this.setTooltip(this.getTooltipByValue(f))},getColorByValue:function(r,h){return this.color},getTooltipByValue:function(r){return this.getTextByValue(r)},getTextByValue:function(r){return""+r}});q.ColorThresholdRadialGuage=new v("ColorThresholdRadialGuage",
u,{initNode:function(r,h){h.thresholdType??(h.thresholdType="percent");h.thresholds??(h.thresholds=[]);this.quickSet(["thresholdType","thresholds"],h);this.thresholds.sort((f,d)=>d.value-f.value);this.callSuper(r,h)},getColorByValue:function(r,h){const f="percent"===this.thresholdType?h:r;for(const d of this.thresholds)if(f>=d.value)return d.color;return this.callSuper(r,h)}})})(myt);
(q=>{let v;var u=JS.Class;const {global:{mouse:r,windowResize:h,dragManager:f},theme:d}=q,{min:l,max:k,round:a}=Math,e=c=>{if(c.tooltip){const p=c._lastPos;if(c.tooltip.parent.containsPoint(p.x,p.y))return!0}c.hideTip();return!1},b=q.BaseTooltip=new u("BaseTooltip",q.View,{include:[q.RootView],initNode:function(c,p){this.tipDelay=this.nextTipDelay=d.BaseTooltipDelay;this.tipHideDelay=d.BaseTooltipHideDelay;p.visible??(p.visible=!1);this.callSuper(c,p)},setTooltip:function(c){this.inited&&(this.tooltip=
c)&&(this.attachToDom(r,"__hndl_mousemove","mousemove",!0),this.attachToDom(c.parent,"hideTip","mousedown",!0),this.attachToDom(c.parent,"hideTip","mouseup",!0))},__hndl_mousemove:function(c){const p=this;p._lastPos=q.MouseObservable.getMouseFromEvent(c);e(p)&&(p.__checkTID&&(clearTimeout(p.__checkTID),delete p.__checkTID),p.__checkTID=setTimeout(()=>{delete p.__checkTID;e(p)&&p.showTip()},p.nextTipDelay))},hideTip:function(c){this.__checkTID&&(clearTimeout(this.__checkTID),delete this.__checkTID);
if(c=this.tooltip?.parent)this.detachFromDom(c,"hideTip","mousedown",!0),this.detachFromDom(c,"hideTip","mouseup",!0),this.detachFromDom(r,"__hndl_mousemove","mousemove",!0),this.nextTipDelay=this.tipDelay,this.setVisible(!1);return!0},showTip:function(){f.getDragView()||(this.nextTipDelay=this.tipHideDelay,this.bringToFront(),this.setVisible(!0))}});u=q.Tooltip=new u("Tooltip",b,{initNode:function(c,p){p.edgeSize??(p.edgeSize=d.TooltipEdgeSize);p.edgeColor??(p.edgeColor=d.TooltipEdgeColor);p.shadowSize??
(p.shadowSize=d.TooltipShadowSize);p.shadowColor??(p.shadowColor=d.TooltipShadowColor);p.insetH??(p.insetH=d.TooltipHInset);p.insetV??(p.insetV=d.TooltipVInset);p.tipBgColor??(p.tipBgColor=d.TooltipBgColor);p.tipTextColor??(p.tipTextColor=d.TooltipTextColor);this.callSuper(c,p);this._tipText=new q.Text(this,{fontSize:"12px",x:this.insetH,y:this.insetV,textColor:this.tipTextColor,whiteSpace:"inherit"})},setEdgeSize:function(c){this.edgeSize=c},setEdgeColor:function(c){this.edgeColor=c},setShadowSize:function(c){this.shadowSize=
c},setShadowColor:function(c){this.shadowColor=c},setInsetH:function(c){this.insetH=c},setInsetV:function(c){this.insetV=c},setTipBgColor:function(c){this.tipBgColor=c},setTipTextColor:function(c){this.tipTextColor=c},showTip:function(){const c=this.tooltip;var p=c.text;const w=c.parent;var t=this._tipText;const n=this.edgeSize,B=this.shadowSize;t.text!==p&&t.setText(p);t.setWidth("auto");var L=l(t.measureNoWrapWidth(),c.maxTextWidth);p=L+2*t.x;const z=p+2*n;t.setWidth(L);t.sizeViewToDom();L=w.getPagePosition();
t=t.height+2*t.y;const D=t+2*n,J=L.y-D+("below"===c.tipvalign?w.height+D:0);L=L.x;switch(c.tipalign){case "right":L-=z;case "farright":L+=w.width;break;case "farleft":L-=z}this.setX(a(l(k(L,0),h.getWidth()-z)));this.setY(a(l(k(J,0),h.getHeight()-D)));this.setWidth(p);this.setHeight(t);this.setBgColor(this.tipBgColor);this.setBorder([n,"solid",this.edgeColor]);this.setBoxShadow([B,B,B,this.shadowColor]);this.callSuper()}});const g=q.TooltipMixin=new JS.Module("TooltipMixin",{extend:{TIP_CLASS:u,MAX_TEXT_WIDTH:280},
setTooltip:function(c){this.callSuper("");this.set("tooltip",c,!0)},getTooltip:function(){return this.tooltip},setTipAlign:function(c){this.set("tipAlign",c,!0)},setTipValign:function(c){this.set("tipValign",c,!0)},setMaxTextWidth:function(c){this.set("maxTextWidth",c,!0)},setTipClass:function(c){this.set("tipClass",c,!0)},doSmoothMouseOver:function(c){const p=this.getTooltip();this.callSuper(c);if(c&&p){c=this.tipClass??g.TIP_CLASS;!v||v instanceof c||(v.destroy(),v=null);if(!v){let w=document.getElementById("tooltipDiv");
w||(w=q.DomElementProxy.createElement("div",{position:"absolute"}),q.getElement().appendChild(w));v=new c(w,{domId:"tooltipDiv"})}v.setTooltip({parent:this,text:p,tipalign:this.tipAlign,tipvalign:this.tipValign,maxTextWidth:this.maxTextWidth||g.MAX_TEXT_WIDTH})}}})})(myt);
(q=>{const v=Math,{min:u,max:r}=v;q.Path=new JS.Class("Path",{initialize:function(h){this.setVectors(h??[])},setVectors:function(h){this._boundingBox=null;this.vectors=h},copyFrom:function(h){this.vectors=h.vectors.slice();this._boundingBox=null},drawInto:function(h){h.beginPath();const f=this.vectors;let d=f.length,l=0;for(h.moveTo(f[l++],f[l++]);d>l;)h.lineTo(f[l++],f[l++]);h.closePath()},translate:function(h,f){const d=this.vectors;let l=d.length;for(;l;)d[--l]+=f,d[--l]+=h;this._boundingBox=null},
scale:function(h){const f=this.vectors;let d=f.length;for(;d;)f[--d]*=h,f[--d]*=h;this._boundingBox=null},rotate:function(h){const f=v.cos(h);h=v.sin(h);const d=this.vectors,l=d.length;for(let k=0;l>k;){const a=d[k]*f-d[k+1]*h,e=d[k]*h+d[k+1]*f;d[k++]=a;d[k++]=e}this._boundingBox=null},rotateAroundOrigin:function(h,f,d){this.translate(-f,-d);this.rotate(h);this.translate(f,d)},getBoundingBox:function(){if(this._boundingBox)return this._boundingBox;const h=this.vectors;let f=h.length,d,l,k,a;if(2<=
f){k=a=h[--f];for(d=l=h[--f];f;){const e=h[--f],b=h[--f];k=u(e,k);a=r(e,a);d=u(b,d);l=r(b,l)}return this._boundingBox={x:d,y:k,width:l-d,height:a-k}}return this._boundingBox=null},getCenter:function(){const h=this.getBoundingBox();return h?{x:h.x+h.width/2,y:h.y+h.height/2}:null},isPointInPath:function(h,f){"object"===typeof h&&(f=h.y,h=h.x);return q.Geometry.isPointInPath(h,f,this.getBoundingBox(),this.vectors)}})})(myt);
(q=>{const v=console.warn,u=Math.PI,r=u/2,h=3*u/2,f=q.AccessorSupport,d={};for(const l of"save restore scale rotate translate transform setTransform clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath fillText strokeText drawImage createImageData putImageData".split(" "))d[l]=function(...k){this.__ctx[l](...k)};for(const l of["createLinearGradient","createRadialGradient","createPattern","measureText","getImageData"])d[l]=
function(...k){return this.__ctx[l](...k)};for(const l of"fillStyle strokeStyle shadowColor shadowBlur shadowOffsetX shadowOffsetY lineWidth lineCap lineJoin miterLimit font textAlign textBaseline globalAlpha globalCompositeOperation".split(" "))d[f.generateSetterName(l)]=function(k){this.__ctx[l]=k},d[f.generateGetterName(l)]=function(){return this.__ctx[l]};q.Canvas=new JS.Class("Canvas",q.BackView,{include:[d],initNode:function(l,k){this.quickSet(["willReadFrequently"],k);this.callSuper(l,k)},
createOurDomElement:function(l){l=this.callSuper(l);var k=Array.isArray(l)?l[1]:l;const a=this.__cvs=document.createElement("canvas");a.className="mytUnselectable";k.appendChild(a);a.style.position="absolute";k={};this.willReadFrequently&&(k.willReadFrequently=!0);this.__ctx=a.getContext("2d",k);return l},setWidth:function(l){0>l&&(l=0);this.__cvs.setAttribute("width",l);this.callSuper(l)},setHeight:function(l){0>l&&(l=0);this.__cvs.setAttribute("height",l);this.callSuper(l)},clear:function(){const l=
this.__ctx;l.save();l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,this.width,this.height);l.restore()},dataURItoBlob:function(l,k){l=atob(l.split(",")[1]);const a=l.length,e=[];for(let b=0;b<a;)e.push(l.charCodeAt(b++));return new Blob([new Uint8Array(e)],{type:k})},getDataURL:function(l,k){return this.__cvs.toDataURL(l,k)},getImageFile:function(l,k,a){switch(l){case "png":case "PNG":l="png";break;case "jpg":case "JPG":case "jpeg":case "JPEG":l="jpeg";a??=.5;break;default:v("Unexpected image type",
l),l=l.toLowerCase()}const e="image/"+l;a=this.dataURItoBlob(this.getDataURL(e,a),e);k&&(a.name=k+"."+l);return a},circle:function(l,k,a){this.__ctx.arc(l,k,a,0,2*u)},drawRoundedRect:function(l,k,a,e,b,g){const c=this.lineTo.bind(this),p=this.arc.bind(this);g=e+g;b=a+b;this.beginPath();this.moveTo(a,e+l);c(a,g-l);p(a+l,g-l,l,u,r,!0);c(b-l,g);p(b-l,g-l,l,r,0,!0);c(b,e+l);p(b-l,e+l,l,0,h,!0);c(a+l,e);p(a+l,e+l,l,h,u,!0);this.closePath();0<k&&(l-=k,a+=k,b-=k,e+=k,g-=k,this.moveTo(a,e+l),p(a+l,e+l,l,
u,h),c(b-l,e),p(b-l,e+l,l,h,0),c(b,g-l),p(b-l,g-l,l,0,r),c(a+l,g),p(a+l,g-l,l,r,u),this.closePath());return this},drawRectOutline:function(l,k,a,e,b){b=a+b;e=k+e;const g=k+l,c=e-l,p=a+l;l=b-l;const w=this.lineTo.bind(this);this.beginPath();this.moveTo(k,a);w(k,b);w(e,b);w(e,a);w(k,a);w(g,p);w(c,p);w(c,l);w(g,l);w(g,p);this.closePath();return this},drawPartiallyRoundedRect:function(l,k,a,e,b,g,c,p){p=g+p;c=b+c;const w=this.lineTo.bind(this),t=this.quadraticCurveTo.bind(this);this.beginPath();this.moveTo(b,
g+l);w(b,p-a);0<a&&t(b,p,b+a,p);w(c-e,p);0<e&&t(c,p,c,p-e);w(c,g+k);0<k&&t(c,g,c-k,g);w(b+l,g);0<l&&t(b,g,b,g+l);this.closePath();return this},drawAnnulus:function(l,k,a,e,b,g,c,p=60){const w=q.Color;for(var t of c)"string"===typeof t.color&&(t.color=w.makeColorFromHexString(t.color));1>p&&(v("Invalid segements",p),p=60);p=u/p;t=0;for(var n=c.length-1;t<n;){var B=c[t++];const {angle:C,color:K}=B,{angle:y,color:A}=c[t];var L=Math.round((y-C)/p),z=K.getDiffFrom(A);B.colorDelta={red:z.red/L,green:z.green/
L,blue:z.blue/L}}a=new q.Path([l+a,k,l+e,k]);a.rotateAroundOrigin(b,l,k);e=a.vectors;let [D,J,O,Q]=e,m=0,x=u/360;for(t=0;g>b;){L=D;z=J;n=O;B=Q;b+=p;b>g&&(p+=g-b,x=0,b=g);a.rotateAroundOrigin(p+x,l,k);[D,J,O,Q]=e;this.beginPath();this.moveTo(L,z);this.lineTo(n,B);this.lineTo(O,Q);this.lineTo(D,J);this.closePath();const {color:C,colorDelta:K}=c[t];this.setFillStyle(w.rgbToHex(C.red+m*K.red,C.green+m*K.green,C.blue+m*K.blue,!0));this.fill();0<x&&(a.rotateAroundOrigin(-x,l,k),[D,J,O,Q]=e);m++;b>=c[t+
1].angle&&(m=0,t++)}return this}})})(myt);
(q=>{const {Class:v,Module:u}=JS,{View:r,Text:h,FontAwesome:{makeTag:f}}=q,d=f(["times"]);q.GrowlManager=new v("GrowlManager",r,{include:[q.SizeToWindowHeight],initNode:function(e,b){const g=this;g.growlCount=0;b.overflow??(b.overflow="visible autoy");b.margin??(b.margin=8);b.spacing??(b.spacing=4);b.reverse??(b.reverse=!0);b.width??(b.width=300);b.visible??(b.visible=!1);b.pointerEvents??(b.pointerEvents="none");b.moveDuration??(b.moveDuration=300);b.dedupe??(b.dedupe=!0);b.clearAllThreshold??(b.clearAllThreshold=
0);b.simpleGrowlClass??(b.simpleGrowlClass=q.SimpleGrowl);g.quickSet(["moveDuration","dedupe"],b);g.callSuper(e,b);g.doAlignment();const c=g.moveDuration;new q.SpacedLayout(g,{axis:"y",reverse:g.reverse,spacing:g.spacing},[{updateParent:function(p,w){0<c?(g.stopActiveAnimators("height"),g.animate({attribute:"height",to:w+this.outset-this.spacing,duration:c})):this.callSuper(p,w)},updateSubview:function(p,w,t,n){return 0<c?(w.stopActiveAnimators("y"),w.animate({attribute:"y",to:n,duration:c}),n+w.height+
this.spacing):this.callSuper(p,w,t,n)}}])},setHeight:function(e){this.callSuper(e-2*this.margin)},setVisible:function(e){this.visible!==e&&(this.visible=e,this.getODS().display=e?"block":"none",this.inited&&this.fireEvent("visible",e))},setMargin:function(e){this.set("margin",e,!0);this.getODS().margin=e+"px"},setSpacing:function(e){this.set("spacing",e,!0)},setReverse:function(e){this.set("reverse",e,!0)},doAlignment:function(){const e=this.getODS();e.left=null;e.right="0px"},notifyChanged:function(){this.setVisible(0<
this.getSubviews().length)},subviewAdded:function(e){this.callSuper(e);this.notifyChanged()},subviewRemoved:function(e){this.callSuper(e);this.notifyChanged()},addGrowl:function(e){if(this.dedupe){const b=e.getHash(),g=this.getSubviews();let c=g.length;for(;c;){const p=g[--c];if(p!==e&&p.getHash?.()===b){this.removeGrowl(p);break}}}this.growlCount++;e.setVisible(!0);this.updateClearAll()},removeGrowl:function(e){e.destroy();this.growlCount--;this.updateClearAll()},updateClearAll:function(){const e=
this.clearAllThreshold;0<e&&this.growlCount>=e?(this._clearAllBtn??(this._clearAllBtn=this.makeClearAll()),this._clearAllBtn.setVisible(!0)):this._clearAllBtn?.setVisible(!1)},makeClearAll:function(){const e=this;return new q.TextButton(e,{width:e.width,height:28,text:d+" Dismiss All",fontWeight:"bold",paddingTop:5,zIndex:1,visible:!1,ignoreLayout:!0,pointerEvents:"auto"},[{setVisible:function(b){this.callSuper(b);e.getFirstLayout().setInset(this.visible?this.height+e.spacing:0)},doActivated:function(){const b=
e.getFirstLayout();b.incrementLockedCounter();e.growlCount=0;delete e._clearAllBtn;b.setInset(0);e.destroyAllSubviews();b.decrementLockedCounter()}}])},addSimpleGrowl:function(e,b){this.addGrowl(new this.simpleGrowlClass(this,{text:e,...(b??{})}))}});q.KeepShowingMixin=new u("KeepShowingMixin",{include:[q.MouseOver],initNode:function(e,b){b.initialKeepDuration??(b.initialKeepDuration=-1);b.keepDuration??(b.keepDuration=-1);this.quickSet(["initialKeepDuration","keepDuration"],b);this.callSuper(e,b);
e=this.initialKeepDuration;0<=e&&this.keepShowing(!1,e)},keepShowing:function(e,b){const g=this;b??=g.keepDuration;(g.__keepShowing=e)&&g.__timerIdKS&&clearTimeout(g.__timerIdKS);0<=b&&!e&&(g.__timerIdKS=setTimeout(()=>{("function"===typeof g.isShown?g.isShown():g.visible)&&!g.__keepShowing&&("function"===typeof g.hide?g.hide(!0):g.setVisible(!1))},b))},doMouseOver:function(e){this.keepShowing(!0);this.callSuper(e)},doMouseOut:function(e){this.keepShowing(!1);this.callSuper(e)}});q.KeepShowingChildMixin=
new u("KeepShowingChildMixin",{doMouseOver:function(e){this.callSuper(e);return!0},doMouseOut:function(e){this.callSuper(e);return!0}});q.GrowlMixin=new u("GrowlMixin",{include:[q.SizeToParent,q.KeepShowingMixin],initNode:function(e,b){b.percentOfParentWidth??(b.percentOfParentWidth=100);b.pointerEvents??(b.pointerEvents="auto");b.bgColor??(b.bgColor="#fff");b.roundedCorners??(b.roundedCorners=3);b.boxShadow??(b.boxShadow=[0,0,8,"#00000088"]);b.initialKeepDuration??(b.initialKeepDuration=5E3);b.keepDuration??
(b.keepDuration=1E3);b.showDuration??(b.showDuration=300);b.hideDuration??(b.hideDuration=300);this.quickSet(["showDuration","hideDuration"],b);b.opacity=0;b.visible=!1;this.callSuper(e,b)},setVisible:function(e){const b=this;b.inited?(b.stopActiveAnimators("opacity"),e?(b.animate({attribute:"opacity",to:1,duration:b.showDuration}),b.callSuper(e)):b.animate({attribute:"opacity",to:0,duration:b.hideDuration}).next(g=>{b.parent.removeGrowl(b)})):b.callSuper(e)},getHash:function(){return this.hash??
(this.hash=q.hash(this.getHashableString()))},getHashableString:()=>""+q.generateGuid()});const l=f(["clipboard-check"]),k="maxHeight icon iconSize text padding spacing whiteSpace showCloseButton closeIcon closeOnly showCopyButton copyIcon activeColor hoverColor readyColor".split(" "),a=new v("LocalTxtBtn",q.TextButton,{include:[q.KeepShowingChildMixin],initNode:function(e,b){b.width??(b.width=24);b.height??(b.height=24);b.paddingTop??(b.paddingTop=4);b.activeColor??(b.activeColor="#ccc");b.hoverColor??
(b.hoverColor="#ddd");b.readyColor??(b.readyColor="#eee");this.callSuper(e,b)}});q.SimpleGrowl=new v("SimpleGrowl",r,{include:[q.GrowlMixin],initNode:function(e,b){const g={};b.maxHeight??(b.maxHeight=100);b.spacing??(b.spacing=6);b.padding??(b.padding=12);b.whiteSpace??(b.whiteSpace="normal");b.iconSize??(b.iconSize="24px");b.showCloseButton??(b.showCloseButton=!1);b.showCloseButton&&(b.closeIcon??(b.closeIcon=d),b.closeOnly??(b.closeOnly=!1));b.showCopyButton??(b.showCopyButton=!1);b.showCopyButton&&
(b.copyIcon??(b.copyIcon=l));for(const t of k)g[t]=b[t],delete b[t];g.closeOnly&&(b.initialKeepDuration=b.keepDuration=-1);this.callSuper(e,b);const {maxHeight:c,padding:p,icon:w}=g;w&&(this.iconTxt=new h(this,{y:p,text:w,fontSize:g.iconSize}));e=this.msgTxt=new h(this,{y:p,text:g.text,whiteSpace:g.whiteSpace,layoutHint:1});0<c&&(e.setOverflow("auto"),e.getIDS().maxHeight=c+"px");g.showCopyButton&&(this.copyBtn=this.makeCopyButton(g),e.setUserUnselectable(!1));g.showCloseButton&&(this.closeBtn=this.makeCloseButton(g));
new q.ResizeLayout(this,{inset:p,spacing:g.spacing,outset:p});new q.SizeToChildren(this,{axis:"y",paddingY:p})},makeCloseButton:function(e){const b=this;new a(b,{y:e.padding,text:e.closeIcon,tooltip:"Dismiss this notification.",activeColor:e.activeColor,hoverColor:e.hoverColor,readyColor:e.readyColor},[{doActivated:()=>{b.parent.removeGrowl(b)}}])},makeCopyButton:function(e){const b=this;new a(b,{y:e.padding,text:e.copyIcon,tooltip:"Copy to system clipboard.",activeColor:e.activeColor,hoverColor:e.hoverColor,
readyColor:e.readyColor},[{doActivated:()=>{global.isSecureContext?navigator.clipboard.writeText(q.removeMarkup(b.msgTxt.text,{brToLineFeed:!0})):console.warn("access to clipboard blocked because of insecure context.")}}])},getHashableString:function(){return this.iconTxt?.text+" | "+this.msgTxt.text}})})(myt);myt.all=!0;
//# sourceMappingURL=./myt.min.js.map
